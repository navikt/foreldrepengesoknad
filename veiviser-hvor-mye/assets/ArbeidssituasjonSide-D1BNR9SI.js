import{j as e}from"./jsx-runtime-CLpGMVip.js";import{u as V,S as z,H as P}from"./useVeiviserNavigator-MPLlmaxD.js";import{b as B,d as A,e as Y,S as L,f as D,g as x,i as H,u as G,h as K,V as v,c as O,j as f,M as i,B as h,I as $,L as W,l as J,a as I,k as Q}from"./FrontPage-PpL1QJ4b.js";import{a as X,b as Z,d as M,e as N,f as w}from"./RhfTextField-D5ikB6A2.js";import{r as o,R as j}from"./index-B-SYruCi.js";import{f as _}from"./currencyUtils-DAjxdL2D.js";import{H as ee}from"./HarIkkeRettTilFpInfobox-xrAx_jpy.js";import{S as ne,H as re}from"./HøyInntektInfobox-CinAmTu4.js";function R(n,t=[]){const a=o.useRef(n);return o.useEffect(()=>{a.current=n}),o.useCallback((...r)=>{var s;return(s=a.current)===null||s===void 0?void 0:s.call(a,...r)},t)}function se({value:n,defaultValue:t,onChange:a}){const r=R(a),[s,u]=o.useState(t),m=n!==void 0,g=m?n:s,l=R(b=>{const d=typeof b=="function"?b(g):b;m||u(d),r(d)},[m,r,g]);return[g,l]}var te=function(n,t){var a={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(a[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(a[r[s]]=n[r[s]]);return a};const ae=o.forwardRef((n,t)=>{var{title:a,titleId:r}=n,s=te(n,["title","titleId"]);let u=B();return u=a?r||"title-"+u:void 0,o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:t,"aria-labelledby":u},s),a?o.createElement("title",{id:u},a):null,o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.317 4.32a.75.75 0 0 0-1.023.932L7.704 12l-2.41 6.748a.75.75 0 0 0 1.023.932l15-7a.75.75 0 0 0 0-1.36zm2.712 6.93L7.31 6.44 19.227 12 7.31 17.56l1.719-4.81H12.5a.75.75 0 0 0 0-1.5z",clipRule:"evenodd"}))}),ie=()=>j.createElement("span",{className:"navds-stack__spacer"});var le=function(n,t){var a={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(a[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(a[r[s]]=n[r[s]]);return a};const de=o.forwardRef((n,t)=>{var{className:a,header:r,children:s,open:u,defaultOpen:m=!1,onClick:g,size:l="medium",onOpenChange:b}=n,c=le(n,["className","header","children","open","defaultOpen","onClick","size","onOpenChange"]);const[d,y]=se({defaultValue:m,value:u,onChange:b}),S=l==="small"?"small":"medium";return j.createElement("div",{className:A("navds-read-more",`navds-read-more--${l}`,a,{"navds-read-more--open":d}),"data-volume":"low"},j.createElement("button",Object.assign({},c,{ref:t,type:"button",className:A("navds-read-more__button","navds-body-short",{"navds-body-short--small":l==="small"}),onClick:Y(g,()=>y(k=>!k)),"aria-expanded":d,"data-state":d?"open":"closed"}),j.createElement(L,{className:"navds-read-more__expand-icon","aria-hidden":!0}),j.createElement("span",null,r)),j.createElement(D,{as:"div","aria-hidden":!d,className:A("navds-read-more__content",{"navds-read-more__content--closed":!d}),size:S,"data-state":d?"open":"closed"},s))}),oe=()=>{const n=o.useRef(null),[t,a]=o.useState(0),r=()=>a(t+1);return o.useEffect(()=>{window.scrollTo(0,0)},[]),o.useEffect(()=>{n.current&&t>0&&n.current.scrollIntoView({behavior:"smooth",block:"nearest"})},[t]),{ref:n,scrollToBottom:r}},q=(n,t)=>{if(n==null)throw Error("Data er ikke oppgitt");return n},ue=n=>n==null||n.toString().trim().length===0,ce=/^\d+([,.]\d+)?$/,C=n=>ce.test(n.toString()),F=n=>t=>ue(t)||C(t)?null:n;x.extend(H);x().add(18,"week").add(3,"day").startOf("day").toDate();x().startOf("day").subtract(21,"days");x().add(1,"year").startOf("day").toDate();const me=n=>q(n.grunnbeløp[0]).verdi,Ne=n=>q(n.engangstønad[0]).verdi,ge="_widthTextInput_kozrb_1",be="_description_kozrb_5",p={widthTextInput:ge,description:be},fe=n=>(n==null?void 0:n.erArbeidstakerEllerFrilanser)||(n==null?void 0:n.harUtbetalingFraNav)||(n==null?void 0:n.erSelvstendigNæringsdrivende),E=n=>n&&C(n),pe=n=>{const{lønnMåned1:t,lønnMåned2:a,lønnMåned3:r}=n,s=E(t)?parseFloat(t):0,u=E(a)?parseFloat(a):0,m=E(r)?parseFloat(r):0,g=(s+u+m)/3;return g>0?g.toFixed(0):void 0},je=({arbeidssituasjon:n,setArbeidssituasjon:t,satser:a})=>{const r=G(),s=r.locale,{goToRoute:u}=V(),m=X({defaultValues:n}),g=U=>{t(U),u(P.OPPSUMMERING)},l=m.watch(),b=x().subtract(1,"month"),c=pe(l),d=c?parseFloat(c)*12:void 0,y=me(a),S=y/2,k=y*6,{ref:T}=oe();return e.jsx(K,{ref:T,label:r.formatMessage({id:"Tittel"}),icon:e.jsx(z,{height:28,width:28,fontSize:"1.5rem","aria-hidden":!0}),children:e.jsx(Z,{formMethods:m,onSubmit:g,shouldUseFlexbox:!0,children:e.jsxs(v,{gap:"10",style:{flex:1},children:[e.jsxs(O,{isDarkBlue:!fe(l),shouldFadeIn:!0,children:[e.jsx(f,{children:e.jsx(i,{id:"ArbeidssituasjonSide.Arbeidssituasjon"})}),e.jsx(h,{className:p.description,children:e.jsx(i,{id:"ArbeidssituasjonSide.VelgAlternativ"})}),e.jsx(M,{name:"erArbeidstakerEllerFrilanser",label:e.jsx(i,{id:"ArbeidssituasjonSide.ArbeidEllerFrilans"})}),e.jsx(M,{name:"harUtbetalingFraNav",label:e.jsx(i,{id:"ArbeidssituasjonSide.UtbetalingNav"})}),e.jsx(M,{name:"erSelvstendigNæringsdrivende",label:e.jsx(i,{id:"ArbeidssituasjonSide.SelvstendigNæringsdrivende"})})]}),l.erSelvstendigNæringsdrivende&&e.jsx($,{icon:e.jsx(ne,{height:24,width:24,color:"#020C1CAD",fontSize:"1.5rem","aria-hidden":!0}),color:"gray",children:e.jsxs(v,{gap:"6",children:[e.jsx(h,{children:e.jsx(i,{id:"ArbeidssituasjonSide.SNKanIkkeBruke"})}),e.jsxs(h,{children:[e.jsx(i,{id:"ArbeidssituasjonSide.LesOm"}),e.jsx(W,{inlineText:!0,href:J.selvstendigNæringsdrivendeHvorMye,className:"lenke",rel:"noreferrer",children:e.jsx(i,{id:"ArbeidssituasjonSide.Lenke"})})]})]})}),!l.erSelvstendigNæringsdrivende&&(l.erArbeidstakerEllerFrilanser||l.harUtbetalingFraNav)&&e.jsxs(v,{gap:"2",children:[e.jsx(O,{isDarkBlue:c===void 0,shouldFadeIn:!0,children:e.jsxs(v,{gap:"6",children:[l.erArbeidstakerEllerFrilanser&&!l.harUtbetalingFraNav&&e.jsxs("div",{children:[e.jsx(f,{children:e.jsx(i,{id:"ArbeidssituasjonSide.TreSisteMåneder"})}),e.jsx(h,{className:p.description,children:e.jsx(i,{id:"ArbeidssituasjonSide.LønnFørSkatt"})})]}),l.harUtbetalingFraNav&&!l.erArbeidstakerEllerFrilanser&&e.jsx(f,{children:e.jsx(i,{id:"ArbeidssituasjonSide.UtbetaltTreSiste"})}),l.erArbeidstakerEllerFrilanser&&l.harUtbetalingFraNav&&e.jsxs("div",{children:[e.jsx(f,{children:e.jsx(i,{id:"ArbeidssituasjonSide.UtbetaltTreSiste"})}),e.jsx(h,{className:p.description,children:e.jsx(i,{id:"ArbeidssituasjonSide.LønnOgUtbetaling"})})]}),e.jsxs(v,{gap:"4",children:[e.jsx(N,{name:"lønnMåned1",label:w(b.subtract(2,"month").format("MMMM YYYY")),className:p.widthTextInput,validate:[F(r.formatMessage({id:"ArbeidssituasjonSide.ValidNumber"}))]}),e.jsx(N,{name:"lønnMåned2",label:w(b.subtract(1,"month").format("MMMM YYYY")),className:p.widthTextInput,validate:[F(r.formatMessage({id:"ArbeidssituasjonSide.ValidNumber"}))]}),e.jsx(N,{name:"lønnMåned3",label:w(b.format("MMMM YYYY")),className:p.widthTextInput,validate:[F(r.formatMessage({id:"ArbeidssituasjonSide.ValidNumber"}))]})]}),e.jsxs("div",{children:[e.jsx(f,{children:e.jsx(i,{id:"ArbeidssituasjonSide.Gjennomsnitt"})}),e.jsx(I,{size:"large",as:"p",children:c?_(c,s):"-"})]}),e.jsxs("div",{children:[e.jsx(f,{children:e.jsx(i,{id:"ArbeidssituasjonSide.GjennomsnittÅrslønn"})}),e.jsx(I,{size:"large",as:"p",children:c?_(parseInt(c,10)*12,s):"-"})]})]})}),e.jsxs(de,{header:e.jsx(i,{id:"ArbeidssituasjonSide.GirRett"}),children:[e.jsx(i,{id:"ArbeidssituasjonSide.EnAvDisse"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(i,{id:"ArbeidssituasjonSide.Sykepenger"})}),e.jsx("li",{children:e.jsx(i,{id:"ArbeidssituasjonSide.Foreldrepenger"})}),e.jsx("li",{children:e.jsx(i,{id:"ArbeidssituasjonSide.Svangerskapspenger"})}),e.jsx("li",{children:e.jsx(i,{id:"ArbeidssituasjonSide.Arbeidsavklaring"})}),e.jsx("li",{children:e.jsx(i,{id:"ArbeidssituasjonSide.Dagpenger"})}),e.jsx("li",{children:e.jsx(i,{id:"ArbeidssituasjonSide.OmsorgOgPleie"})})]})]})]}),l.erArbeidstakerEllerFrilanser&&d!==void 0&&d<S&&e.jsx(ee,{antattÅrslønn:d,minÅrslønn:S,showKrIcon:!0}),l.erArbeidstakerEllerFrilanser&&d!==void 0&&d>k&&e.jsx(re,{maxÅrslønnDekket:k,showKrIcon:!0}),e.jsx(ie,{}),c&&e.jsx(Q,{icon:e.jsx(ae,{"aria-hidden":!0}),iconPosition:"right",type:"submit",style:{flex:1},children:e.jsx(i,{id:"ArbeidssituasjonSide.SeResultatet"})})]})})})};je.__docgenInfo={description:"",methods:[],displayName:"ArbeidssituasjonSide",props:{arbeidssituasjon:{required:!1,tsType:{name:"signature",type:"object",raw:`{
    erArbeidstakerEllerFrilanser: boolean;
    harUtbetalingFraNav: boolean;
    erSelvstendigNæringsdrivende: boolean;
    lønnMåned1: string;
    lønnMåned2: string;
    lønnMåned3: string;
}`,signature:{properties:[{key:"erArbeidstakerEllerFrilanser",value:{name:"boolean",required:!0}},{key:"harUtbetalingFraNav",value:{name:"boolean",required:!0}},{key:"erSelvstendigNæringsdrivende",value:{name:"boolean",required:!0}},{key:"lønnMåned1",value:{name:"string",required:!0}},{key:"lønnMåned2",value:{name:"string",required:!0}},{key:"lønnMåned3",value:{name:"string",required:!0}}]}},description:""},setArbeidssituasjon:{required:!0,tsType:{name:"signature",type:"function",raw:"(arbeidssituasjon: Arbeidssituasjon) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
    erArbeidstakerEllerFrilanser: boolean;
    harUtbetalingFraNav: boolean;
    erSelvstendigNæringsdrivende: boolean;
    lønnMåned1: string;
    lønnMåned2: string;
    lønnMåned3: string;
}`,signature:{properties:[{key:"erArbeidstakerEllerFrilanser",value:{name:"boolean",required:!0}},{key:"harUtbetalingFraNav",value:{name:"boolean",required:!0}},{key:"erSelvstendigNæringsdrivende",value:{name:"boolean",required:!0}},{key:"lønnMåned1",value:{name:"string",required:!0}},{key:"lønnMåned2",value:{name:"string",required:!0}},{key:"lønnMåned3",value:{name:"string",required:!0}}]}},name:"arbeidssituasjon"}],return:{name:"void"}}},description:""},satser:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    engangstønad: Array<{
        fom: string;
        verdi: number;
    }>;
    grunnbeløp: Array<{
        fom: string;
        verdi: number;
    }>;
}`,signature:{properties:[{key:"engangstønad",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fom: string;
    verdi: number;
}`,signature:{properties:[{key:"fom",value:{name:"string",required:!0}},{key:"verdi",value:{name:"number",required:!0}}]}}],raw:`Array<{
    fom: string;
    verdi: number;
}>`,required:!0}},{key:"grunnbeløp",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fom: string;
    verdi: number;
}`,signature:{properties:[{key:"fom",value:{name:"string",required:!0}},{key:"verdi",value:{name:"number",required:!0}}]}}],raw:`Array<{
    fom: string;
    verdi: number;
}>`,required:!0}}]}},description:""}}};export{je as A,de as R,oe as a,pe as b,Ne as c,me as f,C as i,q as n,se as u};
