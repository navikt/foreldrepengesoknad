import{p as F,az as I,aH as u,j as e,d as O,aA as w,aB as A,V as q,aC as C,as as N,ai as g,at as p,M as m,aI as v,m as c,B as b,an as h,Z as o,aJ as R,ap as S,aq as P,aK as _,ar as E,aL as M,aM as x,aN as L,aD as V,aO as H}from"./iframe-Wt6Th-Uj.js";import{e as z,C as y,d as G}from"./routes-BrX1-9YX.js";import{e as J,f as K}from"./useSvpNavigator-BC9jzFXE.js";const U=(s,t)=>s&&t&&H(t)?u(t):u(new Date),Y=(s,t)=>i=>t&&!o(i).subtract(6,"months").isSameOrBefore(o(t),"day")?s.formatMessage({id:"valideringsfeil.barnet.termindato.6mndEtterFødsel"}):t&&!o(i).add(1,"months").isSameOrAfter(o(t),"day")?s.formatMessage({id:"valideringsfeil.barnet.termindato.1mndFørFødsel"}):null,Z=({mellomlagreSøknadOgNaviger:s,avbrytSøknad:t,arbeidsforhold:i})=>{const a=F(),k=J(i),d=K(s,i),D=z(y.OM_BARNET),j=G(y.OM_BARNET),T=n=>(j(n),d.goToNextDefaultStep()),r=I({shouldUnregister:!0,defaultValues:D}),f=r.watch("erBarnetFødt"),l=r.watch("fødselsdato"),B=U(f,l);return e.jsx(O,{pageTitle:a.formatMessage({id:"søknad.pageheading"}),children:e.jsx(w,{steps:k,onStepChange:d.goToStep,children:e.jsx(A,{formMethods:r,onSubmit:T,children:e.jsxs(q,{gap:"space-40",children:[e.jsx(C,{}),e.jsxs("div",{children:[e.jsxs(N,{name:"erBarnetFødt",control:r.control,label:a.formatMessage({id:"barnet.erBarnetFødt"}),validate:[g(a.formatMessage({id:"valideringsfeil.barnet.erBarnetFødt.påkrevd"}))],children:[e.jsx(p,{value:!0,children:e.jsx(m,{id:"ja"})}),e.jsx(p,{value:!1,children:e.jsx(m,{id:"nei"})})]}),e.jsx(v,{onOpenChange:n=>c({origin:"svangerskapspengesoknad",eventName:n?"readmore åpnet":"readmore lukket",eventData:{tittel:"barnet.erBarnetFødt.merInfo.tittel"}}),header:a.formatMessage({id:"barnet.erBarnetFødt.merInfo.tittel"}),children:e.jsx(b,{children:e.jsx(m,{id:"barnet.erBarnetFødt.merInfo.tekst"})})})]}),f&&e.jsx(h,{name:"fødselsdato",control:r.control,label:a.formatMessage({id:"barnet.fødselsdato"}),validate:[g(a.formatMessage({id:"valideringsfeil.barnet.fødselsdato.duMåOppgi"})),S(a.formatMessage({id:"valideringsfeil.barnet.fødselsdato.ugyldigDatoFormat"})),P(a.formatMessage({id:"valideringsfeil.barnet.fødselsdato.måVæreIdagEllerTidligere"})),_(a.formatMessage({id:"valideringsfeil.barnet.termindato.forLangtTilbakeITid"}))],minDate:R(new Date),maxDate:o().toDate(),onChange:()=>r.formState.isSubmitted&&r.trigger()}),e.jsxs("div",{children:[e.jsx(h,{name:"termindato",control:r.control,label:a.formatMessage({id:"barnet.termindato"}),minDate:B,maxDate:x(new Date),useStrategyAbsolute:!0,validate:[g(a.formatMessage({id:"valideringsfeil.barnet.termindato.duMåOppgi"})),S(a.formatMessage({id:"valideringsfeil.barnet.termindato.ugyldigDatoFormat"})),E(a.formatMessage({id:"valideringsfeil.barnet.termindato.forLangtFremITid"}),x(new Date)),n=>l?null:M(a.formatMessage({id:"valideringsfeil.barnet.termindato.vennligstOppgiBarnetsFødselsDato"}),u(new Date))(n),M(a.formatMessage({id:"valideringsfeil.barnet.termindato.forLangtTilbakeITid"}),L(new Date)),Y(a,l)]}),e.jsx(v,{onOpenChange:n=>c({origin:"svangerskapspengesoknad",eventName:n?"readmore åpnet":"readmore lukket",eventData:{tittel:"barnet.termindato.merInfo.tittel"}}),header:a.formatMessage({id:"barnet.termindato.merInfo.tittel"}),children:e.jsx(b,{children:e.jsx(m,{id:"barnet.termindato.merInfo.tekst"})})})]}),e.jsx(V,{onAvsluttOgSlett:t,onFortsettSenere:d.fortsettSøknadSenere,goToPreviousStep:d.goToPreviousDefaultStep})]})})})})};Z.__docgenInfo={description:"",methods:[],displayName:"BarnetSteg",props:{mellomlagreSøknadOgNaviger:{required:!0,tsType:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},avbrytSøknad:{required:!0,tsType:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},arbeidsforhold:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    arbeidsgiverNavn: string;
    stillingsprosent: number;
    fom: string;
    tom?: string;
}`,signature:{properties:[{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"stillingsprosent",value:{name:"number",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}}]}}],raw:"Arbeidsforhold[]"},description:""}}};export{Z as B};
