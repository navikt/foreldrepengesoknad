{"version":3,"file":"preview-0c9ae649.js","sources":["../../../../packages/utils-test/src/storybook/decorators/withIntlProvider.tsx","../../.storybook/preview.tsx"],"sourcesContent":["import { createIntl, RawIntlProvider } from 'react-intl';\n\nexport const getIntlDecorator = (messagesForAllLanguages: Record<string, Record<string, string>>) => {\n    const withIntlProvider = (story: any, context: any) => {\n        const locale = context.globals.locale || 'nb';\n        const messages = messagesForAllLanguages[locale];\n        return <RawIntlProvider value={createIntl({ locale, messages })}>{story()}</RawIntlProvider>;\n    };\n    return withIntlProvider;\n};\n\nconst withIntlProvider = (story: any, context: any) => {\n    const locale = context.globals.locale || 'nb';\n\n    return <RawIntlProvider value={createIntl({ locale, messages: {} })}>{story()}</RawIntlProvider>;\n};\n\nexport default withIntlProvider;\n","import { Preview } from '@storybook/react';\nimport { allCommonMessages } from '@navikt/fp-common';\nimport { getIntlDecorator } from '@navikt/fp-utils-test';\n\nimport '../src/app/styles/app.css';\nimport '@navikt/ds-css';\n\nimport nnMessages from '../src/app/intl/nn_NO.json';\nimport nbMessages from '../src/app/intl/nb_NO.json';\n\nconst scriptTag = document.createElement('script');\nscriptTag.type = 'text/json';\nscriptTag.id = 'nav:appSettings';\nscriptTag.innerHTML = JSON.stringify({\n    REST_API_URL: 'rest-api',\n    LOGIN_URL: '',\n    INNSYN: 'test',\n});\ndocument.head.appendChild(scriptTag);\n\nconst withIntlProvider = getIntlDecorator({\n    nb: { ...nbMessages, ...allCommonMessages.nb },\n    nn: { ...nnMessages, ...allCommonMessages.nn },\n});\n\nexport const globalTypes = {\n    locale: {\n        description: 'Internationalization locale',\n        toolbar: {\n            title: 'Språk',\n            icon: 'globe',\n            items: [\n                { value: 'nb', title: 'Bokmål' },\n                { value: 'nn', title: 'Nynorsk' },\n            ],\n            dynamicTitle: true,\n        },\n    },\n};\n\nconst preview: Preview = {\n    decorators: [\n        withIntlProvider,\n        (Story) => (\n            <div id=\"app\" style={{ backgroundColor: 'white', padding: '40px' }}>\n                <Story />\n            </div>\n        ),\n    ],\n};\n\nexport default preview;\n"],"names":["getIntlDecorator","messagesForAllLanguages","story","context","locale","messages","jsx","RawIntlProvider","createIntl","scriptTag","withIntlProvider","nbMessages","allCommonMessages","nnMessages","globalTypes","preview","Story"],"mappings":"8SAEa,MAAAA,EAAoBC,GACJ,CAACC,EAAYC,IAAiB,CAC7C,MAAAC,EAASD,EAAQ,QAAQ,QAAU,KACnCE,EAAWJ,EAAwBG,CAAM,EACxC,OAAAE,MAACC,EAAgB,CAAA,MAAOC,EAAW,CAAE,OAAAJ,EAAQ,SAAAC,CAAU,CAAA,EAAI,SAAAH,EAAA,CAAQ,CAAA,CAAA,ECI5EO,EAAY,SAAS,cAAc,QAAQ,EACjDA,EAAU,KAAO,YACjBA,EAAU,GAAK,kBACfA,EAAU,UAAY,KAAK,UAAU,CACjC,aAAc,WACd,UAAW,GACX,OAAQ,MACZ,CAAC,EACD,SAAS,KAAK,YAAYA,CAAS,EAEnC,MAAMC,EAAmBV,EAAiB,CACtC,GAAI,CAAE,GAAGW,EAAY,GAAGC,EAAkB,EAAG,EAC7C,GAAI,CAAE,GAAGC,EAAY,GAAGD,EAAkB,EAAG,CACjD,CAAC,EAEYE,EAAc,CACvB,OAAQ,CACJ,YAAa,8BACb,QAAS,CACL,MAAO,QACP,KAAM,QACN,MAAO,CACH,CAAE,MAAO,KAAM,MAAO,QAAS,EAC/B,CAAE,MAAO,KAAM,MAAO,SAAU,CACpC,EACA,aAAc,EAClB,CACJ,CACJ,EAEMC,EAAmB,CACrB,WAAY,CACRL,EACCM,GACIV,EAAAA,IAAA,MAAA,CAAI,GAAG,MAAM,MAAO,CAAE,gBAAiB,QAAS,QAAS,QACtD,SAAAA,EAAAA,IAACU,GAAM,CAAA,EACX,CAER,CACJ"}