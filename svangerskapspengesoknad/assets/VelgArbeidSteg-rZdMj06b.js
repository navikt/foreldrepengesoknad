import{l as L,j as e,_ as M,bf as c,a0 as f,aB as _,aR as D,i as V,e as A,au as P,Y as q,av as C,aw as w,Z as B,ax as H,bn as J,ad as K,bo as z,ay as U}from"./iframe-Bt5SVsXg.js";import{e as g,d as W,C as o,S as Y}from"./routes-DDYEnNZR.js";import{t as Z,A as m,F as N,e as Q,f as X}from"./useSvpNavigator-D0xuG3EZ.js";import{u as $}from"./useTilretteleggingerHelper-Cu8De5p8.js";import{L as h}from"./List-DwlPbxvQ.js";const I=()=>(L({origin:"svangerskapspengesoknad",eventName:"besøk",eventData:{tittel:"umyndig"}}),e.jsxs(M,{children:[e.jsx(c,{children:e.jsx(f,{id:"velgArbeid.guidepanel.tekst"})}),e.jsxs(h,{children:[e.jsx(h.Item,{children:e.jsx(c,{children:e.jsx(f,{id:"velgArbeid.guidepanel.liste.del1"})})}),e.jsx(h.Item,{children:e.jsx(c,{children:e.jsx(f,{id:"velgArbeid.guidepanel.liste.del2"})})})]})]}));I.__docgenInfo={description:"",methods:[],displayName:"FlereArbeidsforholdGuidePanel"};const ee=(t,s,i)=>t===m.SELVSTENDIG&&(!i||i.trim().length===0)?s.formatMessage({id:"egenNæring"}):D(i),re=t=>({id:_,arbeidsforholdType:m.SELVSTENDIG,arbeidsforholdNavn:t.navnPåNæringen}),ie=()=>({id:N,arbeidsforholdType:m.FRILANSER,arbeidsforholdNavn:N}),te=(t,s,i)=>Z(t,s).map(r=>({id:r.id,arbeidsforholdType:r.arbeidsgiverIdType==="orgnr"?m.VIRKSOMHET:m.PRIVAT,arbeidsforholdNavn:r.arbeidsgiverIdType==="orgnr"||r.arbeidsgiverNavn?r.arbeidsgiverNavn:i.formatMessage({id:"privat.arbeidsgiver"})})),se=(t,s,i,r,u,n)=>{const p=te(s,i,r),d=t.harJobbetSomSelvstendigNæringsdrivende&&n?[re(n)]:[],v=t.harJobbetSomFrilans&&u?[ie()]:[];return[...p,...d,...v]},ne=({mellomlagreSøknadOgNaviger:t,avbrytSøknad:s,arbeidsforhold:i})=>{const r=V(),u=Q(i),n=X(t,i),{fjernTilrettelegginger:p}=$(),d=g(o.VALGTE_ARBEIDSFORHOLD),v=g(o.TILRETTELEGGINGER),x=A(g(o.ARBEIDSFORHOLD_OG_INNTEKT)),E=g(o.FRILANS),k=g(o.EGEN_NÆRING),j=A(g(o.OM_BARNET)),R=W(o.VALGTE_ARBEIDSFORHOLD),S=se(x,i,j.termindato,r,E,k),F=a=>{const y=S.filter(l=>a.arbeidMedTilrettelegging.includes(l.id)).map(l=>l.id);if(R(y),d&&v){const l=d.filter(G=>!a.arbeidMedTilrettelegging.includes(G));p(l)}return n.goToStep(Y.SKJEMA+"/"+y[0])},b=P({defaultValues:d?{arbeidMedTilrettelegging:d}:void 0}),T=b.watch("arbeidMedTilrettelegging"),O=T&&T.length>1;return e.jsx(q,{pageTitle:r.formatMessage({id:"søknad.pageheading"}),children:e.jsx(C,{steps:u,onStepChange:n.goToStep,children:e.jsx(w,{formMethods:b,onSubmit:F,children:e.jsxs(B,{gap:"10",children:[e.jsx(H,{}),e.jsx(J,{name:"arbeidMedTilrettelegging",control:b.control,label:r.formatMessage({id:"velgArbeid.hvor"}),validate:[K(r.formatMessage({id:"valideringsfeil.tilrettelegging.påkrevd"}))],children:S.map(a=>e.jsx(z,{value:a.id,children:ee(a.arbeidsforholdType,r,a.arbeidsforholdNavn)},a.id))}),O&&e.jsx(I,{}),e.jsx(U,{goToPreviousStep:n.goToPreviousDefaultStep,onAvsluttOgSlett:s,onFortsettSenere:n.fortsettSøknadSenere})]})})})})};ne.__docgenInfo={description:"",methods:[],displayName:"VelgArbeidSteg",props:{mellomlagreSøknadOgNaviger:{required:!0,tsType:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},avbrytSøknad:{required:!0,tsType:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},arbeidsforhold:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    arbeidsgiverNavn: string;
    stillingsprosent: number;
    fom: string;
    tom?: string;
}`,signature:{properties:[{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"stillingsprosent",value:{name:"number",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}}]}}],raw:"Arbeidsforhold[]"},description:""}}};export{ne as V};
