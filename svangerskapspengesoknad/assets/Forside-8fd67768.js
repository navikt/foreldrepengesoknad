import{g as R,i as a,u as y,j as s,B as o,L as B,H as w,G as C,c as S,f as E,d as H,e as L}from"./fridagerUtils-65bd15ef.js";import{r as h}from"./_baseToString-eff6580f.js";import"./_createSet-2af3afe7.js";import{c as I,a as v,l as g}from"./links-13466469.js";import{u as V}from"./useSvangerskapspengerContext-0c9aeced.js";import{f as T}from"./index-5f63170e.js";import{F as m}from"./message-dc71e6eb.js";var F={};Object.defineProperty(F,"__esModule",{value:!0});F.questionValueIsOk=e=>e!==void 0&&e!=="";const p=(e,i,t)=>{const r=e[i];if(!r||r.isIncluded&&r.isIncluded(t)===!1||r.visibilityFilter&&r.visibilityFilter(t)===!1)return!1;if(r.parentQuestion!==void 0){const n=e[r.parentQuestion];return p(e,r.parentQuestion,t)&&n.isAnswered(t)}return!0},O=(e,i,t)=>{const r=e[i];return!r||!r.isAnswered?!1:r.isAnswered(t)},N=(e,i,t)=>{const r=e[i];return r?r.isIncluded?r.isIncluded(t):!0:!1},D=(e,i)=>{let t=!0;return Object.keys(e).forEach(r=>{const n=e[r];if(p(e,r,i)){const d=n.isOptional!==void 0?n.isOptional(i)===!0:!1;t=t===!0&&(n.isAnswered(i)||d)}}),t},M=(e,i)=>Object.keys(e).filter(r=>N(e,r,i)),Q=(e,i,t,r)=>{const n=i[t];if(!(!n||!n.validate))return n.validate(r)};var z=F.Questions=e=>({getVisbility:i=>({validate:t=>r=>Q(r,e,t,i),isVisible:t=>p(e,t,i),isAnswered:t=>O(e,t,i),isIncluded:t=>N(e,t,i),areAllQuestionsAnswered:()=>D(e,i),getIncludedQuestions:()=>M(e,i)}),getQuestionVisbilityInfo:(i,t)=>({validate:n=>Q(n,e,i,t),isVisible:()=>p(e,i,t),isAnswered:()=>O(e,i,t)})}),k=(e=>(e.harForståttRettigheterOgPlikter="harForståttRettigheterOgPlikter",e))(k||{});const G=e=>({harForståttRettigheterOgPlikter:e}),$={harForståttRettigheterOgPlikter:{isAnswered:({harForståttRettigheterOgPlikter:e})=>e===!0}},j=R(),U=z($);const K=e=>i=>{if(i!==!0)return a(e,"forside.valideringsfeil.harForståttRettigheterOgPlikter")},W=(e,i)=>{const{dispatch:t,state:r}=V(),n=T(),[d,x]=h.useState(!1),[b,c]=h.useState(!1);return h.useEffect(()=>{d&&(c(!1),n(r.currentRoute))},[d,n,i,r]),{handleSubmit:u=>{c(!0);const l=e(u),_=i===I.SØKNAD_SENDT?void 0:t(v.setCurrentRoute(i));Promise.all([_,...l.map(P=>t(P))]).then(()=>x(!0))},isSubmitting:b}},A=({locale:e,onChangeLocale:i})=>{const t=y(),r=L("forside"),{dispatch:n,state:d}=V();h.useEffect(()=>{d.søknad.søker.språkkode!==e&&n(v.setSpråkkode(e))},[n,e,d.søknad.søker.språkkode]);const x=f=>[v.setHarGodkjentVilkår(f.harForståttRettigheterOgPlikter)],{handleSubmit:b,isSubmitting:c}=W(x,I.BARNET);return s.jsx(j.FormikWrapper,{initialValues:G(!1),onSubmit:b,renderForm:({values:f})=>{const u=U.getVisbility({...f});return s.jsxs(j.Form,{includeButtons:!1,children:[s.jsx(o,{padBottom:"l",children:s.jsx(B,{locale:e,availableLocales:["nb","nn"],toggle:l=>i(l)})}),s.jsxs("div",{className:r.block,children:[s.jsx(o,{children:s.jsx(w,{size:"xlarge",className:`${r.element("tittel")}`,children:a(t,"forside.tittel")})}),s.jsx(o,{padBottom:"xl",children:s.jsxs(C,{poster:!0,children:[s.jsx(S,{size:"medium",children:a(t,"forside.guidepanel")}),s.jsxs("ul",{className:`${r.element("liste")}`,children:[s.jsx("li",{children:a(t,"forside.guidepanel.punkt1")}),s.jsx("li",{children:a(t,"forside.guidepanel.punkt2")}),s.jsx("li",{children:a(t,"forside.guidepanel.punkt3")})]}),s.jsx(m,{id:"forside.guidepanel.lesMer",values:{a:l=>s.jsx("a",{className:"lenke",rel:"noopener noreferrer",href:g.svangerskapspenger,target:"_blank",children:l})}})]})}),s.jsx(o,{padBottom:"xl",visible:u.isVisible(k.harForståttRettigheterOgPlikter),children:s.jsxs(E,{variant:"info",children:[s.jsx(o,{padBottom:"l",children:s.jsx(m,{id:"forside.tilrettelegging.info.del1",values:{a:l=>s.jsx("a",{className:"lenke",rel:"noopener noreferrer",href:g.tilretteleggingsskjema,target:"_blank",children:l})}})}),s.jsx(o,{children:s.jsx(m,{id:"forside.tilrettelegging.info.del2",values:{a:l=>s.jsx("a",{className:"lenke",rel:"noopener noreferrer",href:g.slikSøkerDu,target:"_blank",children:l})}})})]})}),s.jsx(o,{padBottom:"xl",visible:u.isVisible(k.harForståttRettigheterOgPlikter),children:s.jsxs(j.ConfirmationCheckbox,{name:k.harForståttRettigheterOgPlikter,label:a(t,"forside.samtykke"),validate:K(t),children:[s.jsx(S,{size:"medium",children:a(t,"forside.samtykkeIntro")}),s.jsxs("ul",{className:`${r.element("liste")}`,children:[s.jsx("li",{children:a(t,"forside.samtykkeIntro.punkt1")}),s.jsx("li",{children:s.jsx(m,{id:"forside.samtykkeIntro.punkt2",values:{a:l=>s.jsx("a",{className:"lenke",rel:"noopener noreferrer",href:g.rettOgPlikt,target:"_blank",children:l})}})})]})]})}),s.jsx(o,{padBottom:"xl",children:s.jsx("div",{style:{textAlign:"center"},children:s.jsx(H,{type:"submit",variant:"primary",disabled:c,loading:c,children:a(t,"forside.begynnMedSøknad")})})})]})]})}})};try{A.displayName="Forside",A.__docgenInfo={description:"",displayName:"Forside",props:{onChangeLocale:{defaultValue:null,description:"",name:"onChangeLocale",required:!0,type:{name:"(locale: LocaleNo) => void"}},locale:{defaultValue:null,description:"",name:"locale",required:!0,type:{name:"enum",value:[{value:'"nb"'},{value:'"nn"'}]}}}}}catch{}export{A as F,z as Q,W as u};
//# sourceMappingURL=Forside-8fd67768.js.map
