import{j as e}from"./jsx-runtime-Cw0GR0a5.js";import{u as p,C as m,b as E}from"./routes-B3RFaVmR.js";import{u as F,a as R,b as B}from"./useSvpNavigator-DKnyX4rK.js";import{d as C,e as L,g as w,h as P,c,a as q,b as I,u as H,R as V,E as G,S as $}from"./ErrorSummaryHookForm-COxLyZNO.js";import{u as T,V as j,a as h,K as J,B as y,J as z,M as v,f as b,m as K,N as W,O as X,F as Y,P as Q,c as Z}from"./VeiviserPage-CLXcsmfi.js";import{A as S}from"./ArbeidIUtlandet-BK3pFOD4.js";import"./index-CTjT7uj6.js";import{i as d,h as ee,j as ae,a as M,b as te,d as D,k as U,n as A}from"./minMax-Bz1hsF8W.js";import{g as re}from"./validationUtils-dtagQCb7.js";import{S as ie}from"./Plus-CIKOYxhl.js";const k={type:S.JOBB_I_UTLANDET,fom:"",tom:"",pågående:void 0,arbeidsgiverNavn:"",land:""},x=()=>{const g=Y("arbeidIUtlandet"),a=T(),s=C(),{fields:o,append:f,remove:n}=L({name:"arbeidIUtlandet",control:s.control}),i=s.watch("arbeidIUtlandet"),l=a.formatMessage({id:"arbeidIUtlandet.navn"});return e.jsxs(e.Fragment,{children:[o.map((u,t)=>e.jsxs(j,{gap:"10",children:[e.jsxs(h,{justify:"space-between",children:[e.jsx(w,{name:`arbeidIUtlandet.${t}.land`,style:{width:"var(--app-text-input-width)"},label:a.formatMessage({id:"arbeidIUtlandet.land"}),validate:[d(a.formatMessage({id:"valideringsfeil.arbeidIUtlandetLand.påkrevd"}))],children:J().map(r=>e.jsx("option",{value:r[0],children:r[1]},r[0]))}),t!==0&&e.jsx(y,{className:g.element("delete"),icon:e.jsx(z,{"aria-hidden":!0}),type:"button",variant:"tertiary",onClick:()=>n(t),children:e.jsx(v,{id:"perioder.varierende.slett"})})]}),e.jsx(P,{name:`arbeidIUtlandet.${t}.arbeidsgiverNavn`,style:{width:"var(--app-text-input-width)"},label:l,validate:[d(a.formatMessage({id:"valideringsfeil.arbeidIUtlandetNavn.påkrevd"})),ee(a.formatMessage({id:"valideringsfeil.arbeidIUtlandetNavn.forLang"}),100),ae(r=>a.formatMessage({id:"valideringsfeil.fritekst.kanIkkeInneholdeTegn"},{feltNavn:l,ugyldigeTegn:r}))]}),e.jsx(c,{name:`arbeidIUtlandet.${t}.fom`,label:a.formatMessage({id:"arbeidIUtlandet.fom"}),validate:[d(a.formatMessage({id:"valideringsfeil.fraOgMedDato.påkrevd"})),M(a.formatMessage({id:"valideringsfeil.fraOgMedDato.gyldigDato"})),te(a.formatMessage({id:"valideringsfeil.fraOgMedDato.erIFremtiden"})),r=>i[t].tom?D(a.formatMessage({id:"valideringsfeil.fraOgMedDato.førTilDato"}),i[t].tom)(r):null],maxDate:b().toDate(),minDate:K}),e.jsxs(q,{name:`arbeidIUtlandet.${t}.pågående`,label:e.jsx(v,{id:"ArbeidIUtlandetFieldArray.næring.pågående"}),validate:[d(a.formatMessage({id:"valideringsfeil.arbeidIUtlandetPågående.påkrevd"}))],children:[e.jsx(I,{value:!0,children:"Ja"}),e.jsx(I,{value:!1,children:"Nei"})]}),i[t].pågående===!1&&e.jsx(c,{name:`arbeidIUtlandet.${t}.tom`,label:a.formatMessage({id:"arbeidIUtlandet.tom"}),description:a.formatMessage({id:"ArbeidIUtlandetFieldArray.arbeid.tom.description"}),validate:[d(a.formatMessage({id:"valideringsfeil.tilOgMedDato.påkrevd"})),M(a.formatMessage({id:"valideringsfeil.tilOgMedDato.gyldigDato"})),D(a.formatMessage({id:"valideringsfeil.tilOgMedDato.erIFremtiden"}),b().add(9,"month")),U(a.formatMessage({id:"valideringsfeil.tilOgMedDato.arbeidIUtlandet.merEnn5MånederSiden"}),W()),U(a.formatMessage({id:"valideringsfeil.tilOgMedDato.etterFraDato"}),i[t].fom)],maxDate:b().add(9,"month").toDate(),minDate:re(i[t].fom,Q)}),t<o.length-1&&e.jsx(X,{})]},u.id)),e.jsx(h,{children:e.jsx(y,{icon:e.jsx(ie,{"aria-hidden":!0}),type:"button",variant:"secondary",onClick:()=>f(k),children:e.jsx(v,{id:"arbeidIUtlandet.tittel.ny"})})})]})};x.__docgenInfo={description:"",methods:[],displayName:"ArbeidIUtlandetFieldArray"};const se=({mellomlagreSøknadOgNaviger:g,avbrytSøknad:a,arbeidsforhold:s})=>{const o=T(),f=F(s),n=R(g,s),i=p(m.ARBEID_I_UTLANDET),l=A(p(m.OM_BARNET)),u=A(p(m.ARBEIDSFORHOLD_OG_INNTEKT)),t=E(m.ARBEID_I_UTLANDET),r=N=>(t({arbeidIUtlandet:N.arbeidIUtlandet.map(O=>({...O,type:S.JOBB_I_UTLANDET}))}),n.goToStep(B(l.termindato,s,u))),_=H({shouldUnregister:!0,defaultValues:i||{arbeidIUtlandet:[k]}});return e.jsx(Z,{bannerTitle:o.formatMessage({id:"søknad.pageheading"}),onCancel:a,steps:f,onContinueLater:n.fortsettSøknadSenere,onStepChange:n.goToStep,children:e.jsx(V,{formMethods:_,onSubmit:r,children:e.jsxs(j,{gap:"10",children:[e.jsx(G,{}),e.jsx(x,{}),e.jsx($,{goToPreviousStep:n.goToPreviousDefaultStep})]})})})};se.__docgenInfo={description:"",methods:[],displayName:"ArbeidIUtlandetSteg",props:{mellomlagreSøknadOgNaviger:{required:!0,tsType:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},avbrytSøknad:{required:!0,tsType:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},arbeidsforhold:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverNavn: string;
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    fom: string;
    tom?: string;
    stillingsprosent: number;
}`,signature:{properties:[{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}},{key:"stillingsprosent",value:{name:"number",required:!0}}]}}],raw:"Arbeidsforhold[]"},description:""}}};export{se as A};
