import{j as e}from"./index-DDg3ir62.js";import{u as B,C as p,b as I}from"./routes-BC9Z9msW.js";import{u as w,a as O}from"./useSvpNavigator-FkxZn0Mt.js";import{u as C,b as R,V as q,M as m,c as v,h as A,d as o,n as b,e as u,f as N,i as E}from"./VeiviserPage-C3BBY14v.js";import{u as P,R as _,E as V,a as L,b as c,c as h,S as H}from"./ErrorSummaryHookForm-D7S5TPIc.js";import"./index-CR__hKHy.js";import{l as M}from"./amplitude-BZcVzq_V.js";import{i as g,a as S,b as G,c as z,d as U,e as x}from"./minMax-CFgVdHHF.js";import{R as y}from"./ReadMore-DmHNn2gC.js";const Y=(n,t)=>n&&t&&E(t)?u(t):u(new Date),$=(n,t)=>i=>t&&!o(i).subtract(6,"months").isSameOrBefore(o(t),"day")?n.formatMessage({id:"valideringsfeil.barnet.termindato.6mndEtterFødsel"}):t&&!o(i).add(1,"months").isSameOrAfter(o(t),"day")?n.formatMessage({id:"valideringsfeil.barnet.termindato.1mndFørFødsel"}):null,J=({mellomlagreSøknadOgNaviger:n,avbrytSøknad:t,arbeidsforhold:i})=>{const a=C(),k=w(i),d=O(n,i),D=B(p.OM_BARNET),T=I(p.OM_BARNET),j=r=>(T(r),d.goToNextDefaultStep()),s=P({shouldUnregister:!0,defaultValues:D}),f=s.watch("erBarnetFødt"),l=s.watch("fødselsdato"),F=Y(f,l);return e.jsx(R,{bannerTitle:a.formatMessage({id:"søknad.pageheading"}),onCancel:t,steps:k,onContinueLater:d.fortsettSøknadSenere,onStepChange:d.goToStep,children:e.jsx(_,{formMethods:s,onSubmit:j,children:e.jsxs(q,{gap:"10",children:[e.jsx(V,{}),e.jsxs("div",{children:[e.jsxs(L,{name:"erBarnetFødt",label:a.formatMessage({id:"barnet.erBarnetFødt"}),validate:[g(a.formatMessage({id:"valideringsfeil.barnet.erBarnetFødt.påkrevd"}))],children:[e.jsx(c,{value:!0,children:e.jsx(m,{id:"ja"})}),e.jsx(c,{value:!1,children:e.jsx(m,{id:"nei"})})]}),e.jsx(y,{onOpenChange:r=>M({origin:"svangerskapspengesoknad",eventName:r?"readmore åpnet":"readmore lukket",eventData:{tittel:"barnet.erBarnetFødt.merInfo.tittel"}}),header:a.formatMessage({id:"barnet.erBarnetFødt.merInfo.tittel"}),children:e.jsx(v,{children:e.jsx(m,{id:"barnet.erBarnetFødt.merInfo.tekst"})})})]}),f&&e.jsx(h,{name:"fødselsdato",label:a.formatMessage({id:"barnet.fødselsdato"}),validate:[g(a.formatMessage({id:"valideringsfeil.barnet.fødselsdato.duMåOppgi"})),S(a.formatMessage({id:"valideringsfeil.barnet.fødselsdato.ugyldigDatoFormat"})),G(a.formatMessage({id:"valideringsfeil.barnet.fødselsdato.måVæreIdagEllerTidligere"})),z(a.formatMessage({id:"valideringsfeil.barnet.termindato.forLangtTilbakeITid"}))],minDate:A(new Date),maxDate:o().toDate(),onChange:()=>s.formState.isSubmitted&&s.trigger()}),e.jsxs("div",{children:[e.jsx(h,{name:"termindato",label:a.formatMessage({id:"barnet.termindato"}),minDate:F,maxDate:b(new Date),useStrategyAbsolute:!0,validate:[g(a.formatMessage({id:"valideringsfeil.barnet.termindato.duMåOppgi"})),S(a.formatMessage({id:"valideringsfeil.barnet.termindato.ugyldigDatoFormat"})),U(a.formatMessage({id:"valideringsfeil.barnet.termindato.forLangtFremITid"}),b(new Date)),r=>l?null:x(a.formatMessage({id:"valideringsfeil.barnet.termindato.vennligstOppgiBarnetsFødselsDato"}),u(new Date))(r),x(a.formatMessage({id:"valideringsfeil.barnet.termindato.forLangtTilbakeITid"}),N(new Date)),$(a,l)]}),e.jsx(y,{onOpenChange:r=>M({origin:"svangerskapspengesoknad",eventName:r?"readmore åpnet":"readmore lukket",eventData:{tittel:"barnet.termindato.merInfo.tittel"}}),header:a.formatMessage({id:"barnet.termindato.merInfo.tittel"}),children:e.jsx(v,{children:e.jsx(m,{id:"barnet.termindato.merInfo.tekst"})})})]}),e.jsx(H,{goToPreviousStep:d.goToPreviousDefaultStep})]})})})};J.__docgenInfo={description:"",methods:[],displayName:"BarnetSteg",props:{mellomlagreSøknadOgNaviger:{required:!0,tsType:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},avbrytSøknad:{required:!0,tsType:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},arbeidsforhold:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    arbeidsgiverNavn: string;
    stillingsprosent: number;
    fom: string;
    tom?: string;
}`,signature:{properties:[{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"stillingsprosent",value:{name:"number",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}}]}}],raw:"Arbeidsforhold[]"},description:""}}};export{J as B};
