import{c as G,g as N,r as D}from"./index-f1f2c4b1.js";import{d as i,f as v,y as k,D as x,h as U,z as y,T as A,B,C as F,I as T,k as b}from"./VStack-1b7d0c8f.js";import{j as P,a as o,C as c,b as J}from"./routes-999d7714.js";import{u as V}from"./index-f7e8eec7.js";import{d as K}from"./_baseIteratee-c0f324be.js";import{_ as C}from"./_baseUniq-332e0f4d.js";import{u as H}from"./index-0df0c4a0.js";const w=e=>{if(e==null)throw Error("Data er ikke oppgitt");return e},Ie=e=>/\s/.test(e),q=/^[\u034f0-9a-zA-ZÁáĄąÂâĀāĂăßČčĆćÇçĎďĐđÐðĔĕÉéĘęĖėÈèËëÊêĒēĢģİiĮįÍíÎîÏïĪīĶķŁłŊŋŇňŃńŅņÑñÞþŠšŚśŞşŤťŦŧŢţŲųŪūÚúŮůÝýŽžŹźŻżÕõÔôÓóÖöÜüÄäŒœÆæØøÅå .'\-/\n\r%§\\!?@_()+:;,="&\t\u00a0\u00ad\u061c\u115f\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u200b\u200c\u200d\u200e\u200f\u202d\u202f\u205f\u2060\u2061\u2062\u2063\u2064\u206a\u206b\u206c\u206d\u206e\u206f\u3000\u2800\u3164\ufeff\uffa0\u1160]*$/,z=/[\u034f0-9a-zA-ZÁáĄąÂâĀāĂăßČčĆćÇçĎďĐđÐðĔĕÉéĘęĖėÈèËëÊêĒēĢģİiĮįÍíÎîÏïĪīĶķŁłŊŋŇňŃńŅņÑñÞþŠšŚśŞşŤťŦŧŢţŲųŪūÚúŮůÝýŽžŹźŻżÕõÔôÓóÖöÜüÄäŒœÆæØøÅå .'\-/\n\r%§\\!?@_()+:;,="&\t\u00a0\u00ad\u061c\u115f\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u200b\u200c\u200d\u200e\u200f\u202d\u202f\u205f\u2060\u2061\u2062\u2063\u2064\u206a\u206b\u206c\u206d\u206e\u206f\u3000\u2800\u3164\ufeff\uffa0\u1160]*/g,I=e=>e==null||e.toString().trim().length===0,Se=e=>s=>I(s)?e:null,Ae=(e,s)=>t=>t===s?e:null,Te=(e,s)=>t=>I(t)||t.toString().trim().length>=s?null:e,be=(e,s)=>t=>I(t)||t.toString().trim().length<=s?null:e,$=e=>{const s=e.replace(z,""),t=new Set(s.split(""));return Array.from(t).join("")},Re=e=>s=>q.test(s)?null:e($(s));i.extend(v);i().add(18,"week").add(3,"day").startOf("day").toDate();i().startOf("day").subtract(21,"days");i().add(1,"year").startOf("day").toDate();const Ne=e=>s=>I(s)||k.test(s)?null:e,De=e=>s=>i(s).isAfter(x)?e:null,ve=(e,s)=>t=>s&&i(t).isAfter(s,"day")?e:null,Me=(e,s)=>t=>s&&i(t).isBefore(s,"day")?null:e,_e=(e,s)=>t=>s&&i(t).isBefore(s,"day")?e:null,he=(e,s)=>t=>!s||i(t).isAfter(s,"day")?null:e,Le=(e,s)=>t=>s&&t&&i(s).isSame(t,"day")?e:null,Oe=e=>s=>i(s).isBefore(U(new Date),"day")?e:null,Ge=(e,s,t)=>r=>y(i(r).toDate(),s,t)?null:e,ke=(e,s,t)=>r=>{const a=t.filter(n=>n.fom).map(n=>({from:i(n.fom).toDate(),to:n.tom?i(n.tom).toDate():A})),u=s.isStartDate?r:s.date,l=a.concat({from:i(s.isStartDate?s.date:r).toDate(),to:u?i(u).toDate():A});return B(l)?e:null};var M=(e=>(e.INGEN="ingen",e.DELVIS="delvis",e))(M||{}),W=(e=>(e.INGEN="ingen",e.DELVIS="delvis",e.HEL="hel",e))(W||{}),Y=(e=>(e.VIRKSOMHET="virksomhet",e.SELVSTENDIG="selvstendig",e.FRILANSER="frilanser",e.PRIVAT="privat",e))(Y||{}),Z=(e=>(e.VALGFRI_DATO="VALGFRI_DATO",e.SISTE_DAG_MED_SVP="SISTE_DAG_MED_SVP",e))(Z||{}),_={exports:{}};(function(e,s){(function(t,r){e.exports=r()})(G,function(){return function(t,r,a){var u=function(l,n){if(!n||!n.length||n.length===1&&!n[0]||n.length===1&&Array.isArray(n[0])&&!n[0].length)return null;var f;n.length===1&&n[0].length>0&&(n=n[0]),f=(n=n.filter(function(p){return p}))[0];for(var d=1;d<n.length;d+=1)n[d].isValid()&&!n[d][l](f)||(f=n[d]);return f};a.max=function(){var l=[].slice.call(arguments,0);return u("isAfter",l)},a.min=function(){var l=[].slice.call(arguments,0);return u("isBefore",l)}}})})(_);var X=_.exports;const Q=N(X);var j=K,ee=C;function se(e,s){return e&&e.length?ee(e,j(s)):[]}var te=se;const ae=N(te);i.extend(F);i.extend(v);i.extend(Q);const re=(e,s)=>s===void 0?e:e.filter(t=>t.tom?i(t.tom).isSameOrAfter(i(s).subtract(9,"months"),"day"):!0),R=e=>e.arbeidsgiverId||"",xe=(e,s)=>{if(s){const t=e.filter(r=>r.tom?i(s).isBetween(i(r.fom),i(r.tom),"day","[]"):i(s).isSameOrAfter(i(r.fom),"d"));if(t)return t.some(a=>a.stillingsprosent===0)?100:t.reduce((a,{stillingsprosent:u})=>a+u,0)||100}return 100},oe=e=>e.map(t=>({fom:t.fom,tom:t.tom,stillingsprosent:t.stillingsprosent})),ne=(e,s)=>{if(e!==void 0&&e.length>0){const t=re(e,s);return ae(t,R).map(u=>({id:u.arbeidsgiverId,fom:u.fom,tom:u.tom,arbeidsgiverNavn:u.arbeidsgiverNavn,arbeidsgiverId:u.arbeidsgiverId,arbeidsgiverIdType:u.arbeidsgiverIdType,stillinger:[{fom:u.fom,tom:u.tom,stillingsprosent:u.stillingsprosent}]})).map(u=>{const l=t.filter(n=>R(n)===u.arbeidsgiverId);if(l&&l.length>1){const n=l.map(f=>f.tom);return{...u,fom:i.min(l.map(f=>i(f.fom))).format(T),tom:n.includes(void 0)?void 0:i.max(n.map(f=>i(f))).format(T),stillinger:oe(l)}}else return u})}return[]},ie=(e,s,t,r)=>{const a=ne(s,e);return a.length===1&&!t&&!r||a.length===0&&t&&!r||a.length===0&&!t&&r},Ue=(e,s)=>{const t=e.harJobbetSomFrilans,r=e.harJobbetSomSelvstendigNæringsdrivende,a=e.harHattArbeidIUtlandet;return t&&!r&&!a?s.formatMessage({id:"oppsummering.harIkkeNæringEllerJobbIUtlandet"}):!t&&r&&!a?s.formatMessage({id:"oppsummering.erIkkeFrilanserEllerJobbIUtlandet"}):!t&&!r&&a?s.formatMessage({id:"oppsummering.erIkkeFrilanserEllerNæringsdrivende"}):t&&r&&!a?s.formatMessage({id:"oppsummering.harIkkeJobbIUtlandet"}):t&&!r&&a?s.formatMessage({id:"oppsummering.harIkkeNæring"}):!t&&!r&&!a?s.formatMessage({id:"oppsummering.erIkkeFrilanserHarIkkeNæringJobbetIkkeIUtlandet"}):s.formatMessage({id:"oppsummering.erIkkeFrilanser"})};var h=(e=>(e.SAMMME_PERIODE_FREM_TIL_TERMIN="SAMMME_PERIODE_FREM_TIL_TERMIN",e.VARIERTE_PERIODER="VARIERTE_PERIODER",e))(h||{});const L=(e,s,t)=>({[o.BARNET]:e.formatMessage({id:"steps.label.barnet"}),[o.INNTEKTSINFORMASJON]:e.formatMessage({id:"steps.label.arbeid"}),[o.ARBEID_I_UTLANDET]:e.formatMessage({id:"steps.label.arbeidIUtlandet"}),[o.FORSIDE]:"",[o.FRILANS]:e.formatMessage({id:"steps.label.frilans"}),[o.HAR_BODD_I_UTLANDET]:e.formatMessage({id:"steps.label.boIUtlandetIFortid"}),[o.NÆRING]:e.formatMessage({id:"steps.label.næring"}),[o.OPPSUMMERING]:e.formatMessage({id:"steps.label.oppsummering"}),[o.PERIODER]:s?e.formatMessage({id:"steps.label.periode.flere"},{navn:t}):e.formatMessage({id:"steps.label.periode.en"}),[o.SKAL_BO_I_UTLANDET]:e.formatMessage({id:"steps.label.boIUtlandetIFremtid"}),[o.SKJEMA]:s?e.formatMessage({id:"steps.label.skjema.flere"},{navn:t}):e.formatMessage({id:"steps.label.skjema.en"}),[o.TILRETTELEGGING]:s?e.formatMessage({id:"steps.label.tilrettelegging.flere"},{navn:t}):e.formatMessage({id:"steps.label.tilrettelegging.en"}),[o.UTENLANDSOPPHOLD]:e.formatMessage({id:"steps.label.utenlandsopphold"}),[o.VELG_ARBEID]:e.formatMessage({id:"steps.label.velgArbeid"})}),g=(e,s,t)=>({id:e,label:L(s)[e],isSelected:t===e}),ue=(e,s,t,r)=>{const a=r(c.INNTEKTSINFORMASJON),u=r(c.TILRETTELEGGINGER),l=r(c.OM_BARNET),n=r(c.UTENLANDSOPPHOLD),f=r(c.VALGT_TILRETTELEGGING_ID),d=[g(o.BARNET,e,s),g(o.UTENLANDSOPPHOLD,e,s)];if(n!=null&&n.harBoddUtenforNorgeSiste12Mnd&&d.push(g(o.HAR_BODD_I_UTLANDET,e,s)),n!=null&&n.skalBoUtenforNorgeNeste12Mnd&&d.push(g(o.SKAL_BO_I_UTLANDET,e,s)),d.push(g(o.INNTEKTSINFORMASJON,e,s)),a!=null&&a.harJobbetSomFrilans&&d.push(g(o.FRILANS,e,s)),a!=null&&a.harJobbetSomSelvstendigNæringsdrivende&&d.push(g(o.NÆRING,e,s)),a!=null&&a.harHattArbeidIUtlandet&&d.push(g(o.ARBEID_I_UTLANDET,e,s)),(l&&l.termindato?ie(l.termindato,t,(a==null?void 0:a.harJobbetSomFrilans)||!1,(a==null?void 0:a.harJobbetSomSelvstendigNæringsdrivende)||!1):!0)||d.push(g(o.VELG_ARBEID,e,s)),u&&u.length>0){const E=u.length>1;u.forEach(m=>{const O=m.arbeidsforhold.navn,S=L(e,E,O);d.push({id:o.SKJEMA,label:S[o.SKJEMA],isSelected:s===o.SKJEMA&&m.id===f}),d.push({id:o.TILRETTELEGGING,label:S[o.TILRETTELEGGING],isSelected:s===o.TILRETTELEGGING&&m.id===f}),m.type===M.DELVIS&&m.delvisTilretteleggingPeriodeType===h.VARIERTE_PERIODER&&d.push({id:o.PERIODER,label:S[o.PERIODER],isSelected:s===o.PERIODER&&m.id===f})})}else d.push(g(o.SKJEMA,e,s)),d.push(g(o.TILRETTELEGGING,e,s));return d.push(g(o.OPPSUMMERING,e,s)),d},de=e=>{const s=V(),t=H(),r=P(),a=D.useMemo(()=>w(Object.values(o).find(u=>u===decodeURIComponent(t.pathname))),[t.pathname]);return ue(s,a,e,r)},ye=(e,s)=>{const t=de(s),r=J(c.APP_ROUTE),a=t.find(d=>d.isSelected);return D.useEffect(()=>{b("sidevisning",{app:"svangerskapspenger",team:"foreldrepenger",pageKey:a})},[a]),{goToPreviousDefaultStep:()=>{var E;const d=t.findIndex(m=>m.isSelected)-1,p=((E=t[d])==null?void 0:E.id)||o.FORSIDE;return r(p),e()},goToNextStep:d=>(r(d),e()),goToNextDefaultStep:()=>{var E;const d=t.findIndex(m=>m.isSelected)+1,p=(E=t[d])==null?void 0:E.id;return r(p),e()},fortsettSøknadSenere:()=>{b("applikasjon-hendelse",{app:"svangerskapspenger",team:"foreldrepenger",hendelse:"fortsettSenere"}),window.location="https://nav.no"}}};export{Y as A,ke as B,Ue as C,h as D,M as T,ye as a,Ne as b,De as c,Oe as d,Me as e,_e as f,re as g,xe as h,Se as i,Z as j,W as k,ne as l,Q as m,w as n,be as o,Re as p,he as q,I as r,ie as s,Ae as t,de as u,Ie as v,ve as w,Te as x,Le as y,Ge as z};
