import{u as j,j as t,F as f}from"./Button-BkdplLyZ.js";import{u as M,F as G,E as _,D as k,R as L,a as S,S as O}from"./ErrorSummaryHookForm-BkJ69PST.js";import{V as J,D as C,c as K}from"./dateUtils-DAVVZO_E.js";import"./index-Dl6G-zuu.js";import{S as V}from"./Step-C4csF1nC.js";import{n as b,i as c,a as y,b as B}from"./dateFormValidation-C6gfkS6-.js";import{u as d,C as s,b as m,a as l}from"./routes-D-wJVrwa.js";import{u as H,a as P,s as E,g as U}from"./useSvpNavigator-CImYrSO5.js";import{e as Y}from"./EgenNæring-DdBVG6ty.js";import{f as q}from"./Frilans-B_RcwIAw.js";import{g as w}from"./velgArbeidFormUtils-DP2l90aH.js";const z=(a,o,r)=>{const e=U(o,a);if(E(a,e,r.harJobbetSomFrilans,r.harJobbetSomSelvstendigNæringsdrivende))if(e.length===0){const n=r.harJobbetSomFrilans?q:Y;return{nextRoute:l.SKJEMA,nextTilretteleggingId:n}}else return{nextRoute:l.SKJEMA,nextTilretteleggingId:e[0].arbeidsgiverId};return{nextRoute:l.VELG_ARBEID}},Q=(a,o,r)=>{const e=a.harHattArbeidIUtlandet?l.ARBEID_I_UTLANDET:void 0,i=a.harJobbetSomSelvstendigNæringsdrivende?l.NÆRING:e;return i?{nextRoute:i}:z(o,r,a)},W=({mellomlagreSøknadOgNaviger:a,avbrytSøknad:o,arbeidsforhold:r})=>{const e=j(),i=H(r),n=P(a,r),T=d(s.FRILANS),g=b(d(s.INNTEKTSINFORMASJON)),v=d(s.TILRETTELEGGINGER),p=b(d(s.OM_BARNET)),x=m(s.FRILANS),A=m(s.TILRETTELEGGINGER),F=m(s.VALGT_TILRETTELEGGING_ID),I=M({defaultValues:T}),R=u=>{if(x(u),E(p.termindato,r,g.harJobbetSomFrilans,g.harJobbetSomSelvstendigNæringsdrivende)){const h=[w(v||[],u.oppstart)];A(h)}const{nextRoute:N,nextTilretteleggingId:D}=Q(g,p.termindato,r);return F(D),n.goToNextStep(N)};return t.jsx(V,{bannerTitle:e.formatMessage({id:"søknad.pageheading"}),onCancel:o,steps:i,onContinueLater:n.fortsettSøknadSenere,children:t.jsx(G,{formMethods:I,onSubmit:R,children:t.jsxs(J,{gap:"10",children:[t.jsx(_,{}),t.jsx(k,{name:"oppstart",label:e.formatMessage({id:"frilans.oppstart"}),validate:[c(e.formatMessage({id:"valideringsfeil.fraOgMedDato.påkrevd"})),y(e.formatMessage({id:"valideringsfeil.fraOgMedDato.gyldigDato"})),B(e.formatMessage({id:"valideringsfeil.fraOgMedDato.erIFremtiden"}))],maxDate:C,minDate:K}),t.jsxs(L,{name:"jobberFremdelesSomFrilans",label:e.formatMessage({id:"frilans.jobberFremdelesSomFrilans"}),validate:[c(e.formatMessage({id:"valideringsfeil.jobberFremdelesSomFrilans.påkrevd"}))],children:[t.jsx(S,{value:!0,children:t.jsx(f,{id:"frilans.jobberFremdelesSomFrilans.ja"})}),t.jsx(S,{value:!1,children:t.jsx(f,{id:"frilans.jobberFremdelesSomFrilans.nei"})})]}),t.jsx(O,{goToPreviousStep:n.goToPreviousDefaultStep})]})})})};W.__docgenInfo={description:"",methods:[],displayName:"FrilansStep"};export{W as F};
