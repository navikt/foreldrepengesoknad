import{j as e}from"./jsx-runtime-Cw0GR0a5.js";import{u as c,C as m,b as N}from"./routes-B3RFaVmR.js";import{u as F,a as R,b as B}from"./useSvpNavigator-DKnyX4rK.js";import{d as C,e as L,g as w,h as H,c as I,a as P,b as u,u as V,R as G,E as $,S as J}from"./ErrorSummaryHookForm-COxLyZNO.js";import{u as S,V as T,a as h,K as z,B as M,J as K,M as b,f as v,m as q,N as W,O as X,F as Y,P as Q,c as Z}from"./VeiviserPage-CLXcsmfi.js";import{A as x}from"./ArbeidIUtlandet-BK3pFOD4.js";import"./index-CTjT7uj6.js";import{i as n,h as ee,j as ae,a as D,b as te,d as U,k as A,n as j}from"./minMax-Bz1hsF8W.js";import{g as ie}from"./validationUtils-dtagQCb7.js";import{S as re}from"./Plus-CIKOYxhl.js";const y={type:x.JOBB_I_UTLANDET,fom:"",tom:"",pågående:void 0,arbeidsgiverNavn:"",land:""},_=()=>{const g=Y("arbeidIUtlandet"),a=S(),s=C(),{fields:o,append:f,remove:d}=L({name:"arbeidIUtlandet",control:s.control}),r=s.watch("arbeidIUtlandet"),l=a.formatMessage({id:"arbeidIUtlandet.navn"});return e.jsxs(e.Fragment,{children:[o.map((p,t)=>e.jsxs(T,{gap:"10",children:[e.jsxs(h,{justify:"space-between",children:[e.jsx(w,{name:`arbeidIUtlandet.${t}.land`,style:{width:"var(--app-text-input-width)"},label:a.formatMessage({id:"arbeidIUtlandet.land"}),validate:[n(a.formatMessage({id:"valideringsfeil.arbeidIUtlandetLand.påkrevd"}))],children:z().map(i=>e.jsx("option",{value:i[0],children:i[1]},i[0]))}),t!==0&&e.jsx(M,{className:g.element("delete"),icon:e.jsx(K,{"aria-hidden":!0}),type:"button",variant:"tertiary",onClick:()=>d(t),children:e.jsx(b,{id:"perioder.varierende.slett"})})]}),e.jsx(H,{name:`arbeidIUtlandet.${t}.arbeidsgiverNavn`,style:{width:"var(--app-text-input-width)"},label:l,validate:[n(a.formatMessage({id:"valideringsfeil.arbeidIUtlandetNavn.påkrevd"})),ee(a.formatMessage({id:"valideringsfeil.arbeidIUtlandetNavn.forLang"}),100),ae(i=>a.formatMessage({id:"valideringsfeil.fritekst.kanIkkeInneholdeTegn"},{feltNavn:l,ugyldigeTegn:i}))]}),e.jsx(I,{name:`arbeidIUtlandet.${t}.fom`,label:a.formatMessage({id:"arbeidIUtlandet.fom"}),validate:[n(a.formatMessage({id:"valideringsfeil.fraOgMedDato.påkrevd"})),D(a.formatMessage({id:"valideringsfeil.fraOgMedDato.gyldigDato"})),te(a.formatMessage({id:"valideringsfeil.fraOgMedDato.erIFremtiden"})),i=>r[t].tom?U(a.formatMessage({id:"valideringsfeil.fraOgMedDato.førTilDato"}),r[t].tom)(i):null],maxDate:v().toDate(),minDate:q}),e.jsxs(P,{name:`arbeidIUtlandet.${t}.pågående`,label:e.jsx(b,{id:"ArbeidIUtlandetFieldArray.næring.pågående"}),validate:[n(a.formatMessage({id:"valideringsfeil.arbeidIUtlandetPågående.påkrevd"}))],children:[e.jsx(u,{value:!0,children:"Ja"}),e.jsx(u,{value:!1,children:"Nei"})]}),r[t].pågående===!1&&e.jsx(I,{name:`arbeidIUtlandet.${t}.tom`,label:a.formatMessage({id:"arbeidIUtlandet.tom"}),description:a.formatMessage({id:"ArbeidIUtlandetFieldArray.arbeid.tom.description"}),validate:[n(a.formatMessage({id:"valideringsfeil.tilOgMedDato.påkrevd"})),D(a.formatMessage({id:"valideringsfeil.tilOgMedDato.gyldigDato"})),U(a.formatMessage({id:"valideringsfeil.tilOgMedDato.erIFremtiden"}),v().add(9,"month")),A(a.formatMessage({id:"valideringsfeil.tilOgMedDato.arbeidIUtlandet.merEnn5MånederSiden"}),W()),A(a.formatMessage({id:"valideringsfeil.tilOgMedDato.etterFraDato"}),r[t].fom)],maxDate:v().add(9,"month").toDate(),minDate:ie(r[t].fom,Q)}),t<o.length-1&&e.jsx(X,{})]},p.id)),e.jsx(h,{children:e.jsx(M,{icon:e.jsx(re,{"aria-hidden":!0}),type:"button",variant:"secondary",onClick:()=>f(y),children:e.jsx(b,{id:"arbeidIUtlandet.tittel.ny"})})})]})};_.__docgenInfo={description:"",methods:[],displayName:"ArbeidIUtlandetFieldArray"};const se=({mellomlagreSøknadOgNaviger:g,avbrytSøknad:a,arbeidsforhold:s})=>{const o=S(),f=F(s),d=R(g,s),r=c(m.ARBEID_I_UTLANDET),l=j(c(m.OM_BARNET)),p=j(c(m.ARBEIDSFORHOLD_OG_INNTEKT)),t=N(m.ARBEID_I_UTLANDET),i=k=>(t({arbeidIUtlandet:k.arbeidIUtlandet.map(E=>({...E,type:x.JOBB_I_UTLANDET}))}),d.goToStep(B(l.termindato,s,p))),O=V({shouldUnregister:!0,defaultValues:r||{arbeidIUtlandet:[y]}});return e.jsx(Z,{bannerTitle:o.formatMessage({id:"søknad.pageheading"}),onCancel:a,steps:f,onContinueLater:d.fortsettSøknadSenere,onStepChange:d.goToStep,children:e.jsx(G,{formMethods:O,onSubmit:i,children:e.jsxs(T,{gap:"10",children:[e.jsx($,{}),e.jsx(_,{}),e.jsx(J,{goToPreviousStep:d.goToPreviousDefaultStep})]})})})};se.__docgenInfo={description:"",methods:[],displayName:"ArbeidIUtlandetSteg"};export{se as A};
