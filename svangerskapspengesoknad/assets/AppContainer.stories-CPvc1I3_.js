var sr=t=>{throw TypeError(t)};var At=(t,e,r)=>e.has(t)||sr("Cannot "+r);var n=(t,e,r)=>(At(t,e,"read from private field"),r?r.call(t):e.get(t)),y=(t,e,r)=>e.has(t)?sr("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),f=(t,e,r,s)=>(At(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r),T=(t,e,r)=>(At(t,e,"access private method"),r);var ut=(t,e,r,s)=>({set _(i){f(t,e,i,r)},get _(){return n(t,e,s)}});import{j as m}from"./index-BAINcZ39.js";import{k as Te,a as Kr,S as Ns,h as le,H as ce}from"./SkjemaSteg-DF4uLjyO.js";import{r as P,g as Cs}from"./index-DQLiH3RP.js";import{ae as yt,l as Os,af as js,ag as Fs,u as Ls,ah as Ds,ai as _s,aj as Ms,ak as xs,al as qs,am as Us,an as Gs,ao as Ks,ap as Qs,aq as $s,f as Bs}from"./RegisterdataUtdatert-ChJD9glU.js";import{f as Qr,a as $r,e as Br,b as Hr,o as Vr,u as Jr,c as zr,n as Hs,d as Vs}from"./nn_NO-BuB6awEb.js";import{d as Js,e as Yr,C as X,f as zs,a as U,T as lt,S as Ys}from"./routes-WhC7e2fT.js";import{r as $t,s as Ws,f as Wr,k as Xs,m as Zs,l as en,R as tn,d as G,N as rn,M as sn}from"./useSvpNavigator-nNm4pmL7.js";import{n as gt}from"./minMax-DWs-TiGf.js";import{g as nn}from"./dateUtils-BSoPuKw0.js";import{F as an}from"./Forside-C-1WbaFD.js";import{A as on}from"./ArbeidIUtlandetSteg-CdxdCcDQ.js";import{A as un}from"./ArbeidsforholdOgInntektSteg-2bw2L0gN.js";import{B as ln}from"./BarnetSteg-jZnnbeHk.js";import{E as cn}from"./EgenNæringSteg-CAbb9Bl-.js";import{F as dn}from"./FerieSteg-KSPWspYc.js";import{F as hn}from"./FrilansSteg-nh8QJoQK.js";import{O as fn}from"./OppsummeringSteg-CkS0CQXB.js";import{P as pn}from"./PerioderSteg-BcxB8hwO.js";import{T as gn}from"./TilretteleggingSteg-BxMzw3EJ.js";import{S as mn}from"./SenereUtenlandsoppholdSteg-6qI7MO0G.js";import{T as vn}from"./TidligereUtenlandsoppholdSteg-Dr60ph-g.js";import{U as yn}from"./UtenlandsoppholdSteg-DBU7tPsX.js";import{V as bn}from"./VelgArbeidSteg-GdJGj4KO.js";import{I as En}from"./IkkeKvinne-B8etPCAw.js";import"./index-CJPVTaBz.js";import"./decorators-Bnaor6Ku.js";import"./ErrorSummaryHookForm-Cs3QM_ts.js";import"./Checkbox-CpjBZ4cL.js";import"./attachmentType-DJ1vFT-G.js";import"./Bedriftsbanner-BOFS1dm-.js";import"./ArbeidsforholdOgInntektPanel-DtLfTM6w.js";import"./ReadMore-DuYZPl-W.js";import"./ExpansionCard-CB8QAYtO.js";import"./EgenNæringPanel-DMpHQen-.js";import"./FrilansPanel-CQmJ1hMM.js";import"./BoIUtlandetOppsummering-MbwrACaR.js";import"./ArbeidsforholdOgInntekt-XcACuLeP.js";import"./ConfirmationPanel-CMbYOWin.js";import"./TidligereUtenlandsoppholdPanel-BmQkTQy2.js";import"./Plus-oNTiR6Yg.js";import"./List-m2ZWOpd9.js";import"./ArbeidIUtlandet-BK3pFOD4.js";import"./validationUtils-DhqOL4Zt.js";import"./useTilretteleggingerHelper-DPEYA5N-.js";import"./Tag-C5tuSqOM.js";import"./numberUtils-DCxWcr3S.js";var tt={exports:{}},mt={exports:{}};/*! js-cookie v3.0.5 | MIT */var Rn=mt.exports,nr;function Sn(){return nr||(nr=1,function(t,e){(function(r,s){t.exports=s()})(Rn,function(){function r(o){for(var l=1;l<arguments.length;l++){var h=arguments[l];for(var b in h)o[b]=h[b]}return o}var s={read:function(o){return o[0]==='"'&&(o=o.slice(1,-1)),o.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(o){return encodeURIComponent(o).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function i(o,l){function h(d,c,p){if(!(typeof document>"u")){p=r({},l,p),typeof p.expires=="number"&&(p.expires=new Date(Date.now()+p.expires*864e5)),p.expires&&(p.expires=p.expires.toUTCString()),d=encodeURIComponent(d).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var v="";for(var k in p)p[k]&&(v+="; "+k,p[k]!==!0&&(v+="="+p[k].split(";")[0]));return document.cookie=d+"="+o.write(c,d)+v}}function b(d){if(!(typeof document>"u"||arguments.length&&!d)){for(var c=document.cookie?document.cookie.split("; "):[],p={},v=0;v<c.length;v++){var k=c[v].split("="),S=k.slice(1).join("=");try{var E=decodeURIComponent(k[0]);if(p[E]=o.read(S,E),d===E)break}catch{}}return d?p[d]:p}}return Object.create({set:h,get:b,remove:function(d,c){h(d,"",r({},c,{expires:-1}))},withAttributes:function(d){return i(this.converter,r({},this.attributes,d))},withConverter:function(d){return i(r({},this.converter,d),this.attributes)}},{attributes:{value:Object.freeze(l)},converter:{value:Object.freeze(o)}})}var a=i(s,{path:"/"});return a})}(mt)),mt.exports}var Tn=tt.exports,ir;function kn(){return ir||(ir=1,function(t,e){var r={};(function(s,i){i(e,Sn())})(Tn,function(s,i){let a=!1;const o=()=>new Promise((u,g)=>{typeof window>"u"&&g(Error("Missing window, can only be used client-side")),a&&u(!0);const R=()=>{window.postMessage({source:"decoratorClient",event:"ready"},window.location.origin)};(function x(){a||(setTimeout(x,50),R())})();const A=x=>{const{data:W}=x,V=l(x),{source:we,event:Tt}=W;V&&we==="decorator"&&Tt==="ready"&&(a=!0,window.removeEventListener("message",A),u(!0))};window.addEventListener("message",A)}),l=u=>{const{origin:g,source:R}=u;return window.location.href.indexOf(g)===0&&R===window},h=u=>o().then(()=>window.postMessage({source:"decoratorClient",event:"params",payload:u?Object.entries(u).reduce((g,[R,A])=>A!==void 0?Object.assign(Object.assign({},g),{[R]:A}):g,{}):{}},window.location.origin)).catch(g=>console.warn(g)),b=(()=>{let u;const g=R=>{const{data:A}=R,x=l(R),{source:W,event:V,payload:we}=A;x&&W==="decorator"&&V==="breadcrumbClick"&&u&&u(we)};return typeof window<"u"&&window.addEventListener("message",g),R=>{u=R}})(),d=u=>h({breadcrumbs:u}),c=(()=>{let u;const g=R=>{const{data:A}=R,x=l(R),{source:W,event:V,payload:we}=A;x&&W==="decorator"&&V==="languageSelect"&&u&&u(we)};return typeof window<"u"&&window.addEventListener("message",g),R=>{u=R}})(),p=u=>h({availableLanguages:u});function v(u,g,R,A){function x(W){return W instanceof R?W:new R(function(V){V(W)})}return new(R||(R=Promise))(function(W,V){function we(Ae){try{kt(A.next(Ae))}catch(wt){V(wt)}}function Tt(Ae){try{kt(A.throw(Ae))}catch(wt){V(wt)}}function kt(Ae){Ae.done?W(Ae.value):x(Ae.value).then(we,Tt)}kt((A=A.apply(u,g||[])).next())})}typeof SuppressedError=="function"&&SuppressedError;const k={prod:"https://www.nav.no/dekoratoren",dev:"https://dekoratoren.ekstern.dev.nav.no",beta:"https://dekoratoren-beta.intern.dev.nav.no",betaTms:"https://dekoratoren-beta-tms.intern.dev.nav.no"},S={prod:"http://nav-dekoratoren.personbruker",dev:"http://nav-dekoratoren.personbruker",beta:"http://nav-dekoratoren-beta.personbruker",betaTms:"http://nav-dekoratoren-beta-tms.personbruker"},E=new Set(["dev-gcp","prod-gcp"]),O=u=>u?Object.entries(u).reduce((g,[R,A],x)=>A!==void 0?`${g}${x?"&":"?"}${R}=${encodeURIComponent(typeof A=="object"?JSON.stringify(A):A)}`:g,""):"",M=()=>typeof process<"u"&&r.NAIS_CLUSTER_NAME&&E.has(r.NAIS_CLUSTER_NAME),N=(u,g=!1,R=!0)=>(R&&!g&&M()?S[u]:k[u])||k.prod,L=u=>u.env==="localhost"?u.localUrl:N(u.env,u.csr,u.serviceDiscovery),q=u=>{const{params:g,csr:R}=u;return`${L(u)}/${R?"csr":"ssr"}${O(g)}`},Q=u=>{const g=Object.assign(Object.assign({},u),{csr:!0}),R=q(g),A=q(Object.assign(Object.assign({},g),{params:void 0})),x=`${A}/client.js`;return{header:'<div id="decorator-header"></div>',footer:'<div id="decorator-footer"></div>',env:`<div id="decorator-env" data-src="${R}"></div>`,styles:`<link href="${A}/css/client.css" rel="stylesheet" />`,scripts:`<script src="${x}" defer><\/script>`,scriptSrc:x}},ke=u=>v(void 0,void 0,void 0,function*(){const{env:g,header:R,scriptSrc:A,styles:x,footer:W}=Q(u);document.head.insertAdjacentHTML("beforeend",x),document.head.insertAdjacentHTML("beforeend",g),document.body.insertAdjacentHTML("afterbegin",R),document.body.insertAdjacentHTML("beforeend",W);const V=document.createElement("script");V.async=!0,V.src=A,document.body.appendChild(V)}),_="chatbot-frida-knapp",C=()=>{h({chatbotVisible:!0}).then(()=>{const u=document.getElementById(_);if(!(u!=null&&u.click)){console.warn("Chatbot button element does not exist on the page");return}u.click()})},F=5e3,Me=()=>v(void 0,void 0,void 0,function*(){return new Promise((u,g)=>{const R=setTimeout(()=>{g(new Error(`Timed out after ${F}ms waiting for __DECORATOR_DATA__ to be set. Please check that the decorator is infact loading.`))},F),A=()=>{window.__DECORATOR_DATA__&&window.webStorageController?(clearTimeout(R),u(!0)):setTimeout(A,50)};A()})}),Y=u=>{var g;return(g=window.webStorageController)===null||g===void 0?void 0:g.isStorageKeyAllowed(u)},xe=()=>{var u;return(u=window.webStorageController)===null||u===void 0?void 0:u.getAllowedStorage()},ys=()=>{var u;return(u=window.webStorageController)===null||u===void 0?void 0:u.getCurrentConsent()},bs=(u,g,R)=>Y(u)?i.set(u,g,R):(console.warn(`The key ${u} is not in the allow list or user has not given consent.`),null),Es=u=>Y(u)?i.get(u):(console.warn(`The key ${u} is not in the allow list or user has not given consent.`),null),Xt=u=>({getItem(g){return Y(g)?u.getItem(g):(console.warn(`The key ${g} is not in the allow list or user has not given consent.`),null)},setItem(g,R){return Y(g)?(u.setItem(g,R),R):(console.warn(`The key ${g} is not in the allow list or user has not given consent.`),null)},removeItem(g){if(!Y(g))return console.warn(`The key ${g} is not in the allow list or user has not given consent.`),null;u.removeItem(g)},clear(){u.clear()},key(g){return u.key(g)},get length(){return u.length}}),Rs=()=>typeof window>"u"?null:Xt(window.localStorage),Ss=typeof window>"u"?null:Xt(window.sessionStorage),Ts=Rs(),ks=()=>v(void 0,void 0,void 0,function*(){return new Promise(u=>setTimeout(u,500))}),Zt=(...u)=>v(void 0,[...u],void 0,function*(g=5){return typeof window.dekoratorenAmplitude=="function"?Promise.resolve(!0):g===0?Promise.resolve(!1):(yield ks(),Zt(g-1))}),ws=()=>Promise.resolve();function er(u){return v(this,void 0,void 0,function*(){return typeof window>"u"?Promise.reject("Amplitude is only available in the browser"):window.dekoratorenAmplitude?(yield Zt())?window.dekoratorenAmplitude(u):Promise.reject("Amplitude instance not found, it may not have been initialized yet"):ws})}function As(u){return(g,R)=>er({eventName:g,eventData:R,origin:u})}const Is=()=>v(void 0,void 0,void 0,function*(){return new Promise(u=>setTimeout(u,500))}),tr=(...u)=>v(void 0,[...u],void 0,function*(g=5){return typeof window.dekoratorenAnalytics=="function"?Promise.resolve(!0):g===0?Promise.resolve(!1):(yield Is(),tr(g-1))});function rr(u){return v(this,void 0,void 0,function*(){return typeof window>"u"?Promise.reject("Analytics is only available in the browser"):(yield tr())?window.dekoratorenAnalytics(u):Promise.reject("Analytics instance not found, it may not have been initialized yet")})}function Ps(u){return(g,R)=>rr({eventName:g,eventData:R,origin:u})}s.awaitDecoratorData=Me,s.getAllowedStorage=xe,s.getAmplitudeInstance=As,s.getAnalyticsInstance=Ps,s.getCurrentConsent=ys,s.getNavCookie=Es,s.injectDecoratorClientSide=ke,s.isStorageKeyAllowed=Y,s.logAmplitudeEvent=er,s.logAnalyticsEvent=rr,s.navLocalStorage=Ts,s.navSessionStorage=Ss,s.onBreadcrumbClick=b,s.onLanguageSelect=c,s.openChatbot=C,s.setAvailableLanguages=p,s.setBreadcrumbs=d,s.setNavCookie=bs,s.setParams=h})}(tt,tt.exports)),tt.exports}var ar=kn(),et=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},De=typeof window>"u"||"Deno"in globalThis;function H(){}function wn(t,e){return typeof t=="function"?t(e):t}function Ct(t){return typeof t=="number"&&t>=0&&t!==1/0}function Xr(t,e){return Math.max(t+(e||0)-Date.now(),0)}function qe(t,e){return typeof t=="function"?t(e):t}function re(t,e){return typeof t=="function"?t(e):t}function or(t,e){const{type:r="all",exact:s,fetchStatus:i,predicate:a,queryKey:o,stale:l}=t;if(o){if(s){if(e.queryHash!==Bt(o,e.options))return!1}else if(!st(e.queryKey,o))return!1}if(r!=="all"){const h=e.isActive();if(r==="active"&&!h||r==="inactive"&&h)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||a&&!a(e))}function ur(t,e){const{exact:r,status:s,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(_e(e.options.mutationKey)!==_e(a))return!1}else if(!st(e.options.mutationKey,a))return!1}return!(s&&e.state.status!==s||i&&!i(e))}function Bt(t,e){return((e==null?void 0:e.queryKeyHashFn)||_e)(t)}function _e(t){return JSON.stringify(t,(e,r)=>Ot(r)?Object.keys(r).sort().reduce((s,i)=>(s[i]=r[i],s),{}):r)}function st(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>st(t[r],e[r])):!1}function Zr(t,e){if(t===e)return t;const r=lr(t)&&lr(e);if(r||Ot(t)&&Ot(e)){const s=r?t:Object.keys(t),i=s.length,a=r?e:Object.keys(e),o=a.length,l=r?[]:{};let h=0;for(let b=0;b<o;b++){const d=r?b:a[b];(!r&&s.includes(d)||r)&&t[d]===void 0&&e[d]===void 0?(l[d]=void 0,h++):(l[d]=Zr(t[d],e[d]),l[d]===t[d]&&t[d]!==void 0&&h++)}return i===o&&h===i?t:l}return e}function bt(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function lr(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Ot(t){if(!cr(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!cr(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function cr(t){return Object.prototype.toString.call(t)==="[object Object]"}function An(t){return new Promise(e=>{setTimeout(e,t)})}function jt(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Zr(t,e):e}function In(t,e,r=0){const s=[...t,e];return r&&s.length>r?s.slice(1):s}function Pn(t,e,r=0){const s=[e,...t];return r&&s.length>r?s.slice(0,-1):s}var Ht=Symbol();function es(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Ht?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function ts(t,e){return typeof t=="function"?t(...e):!!t}var Ie,fe,Ue,Er,Nn=(Er=class extends et{constructor(){super();y(this,Ie);y(this,fe);y(this,Ue);f(this,Ue,e=>{if(!De&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){n(this,fe)||this.setEventListener(n(this,Ue))}onUnsubscribe(){var e;this.hasListeners()||((e=n(this,fe))==null||e.call(this),f(this,fe,void 0))}setEventListener(e){var r;f(this,Ue,e),(r=n(this,fe))==null||r.call(this),f(this,fe,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){n(this,Ie)!==e&&(f(this,Ie,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof n(this,Ie)=="boolean"?n(this,Ie):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ie=new WeakMap,fe=new WeakMap,Ue=new WeakMap,Er),Vt=new Nn,Ge,pe,Ke,Rr,Cn=(Rr=class extends et{constructor(){super();y(this,Ge,!0);y(this,pe);y(this,Ke);f(this,Ke,e=>{if(!De&&window.addEventListener){const r=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){n(this,pe)||this.setEventListener(n(this,Ke))}onUnsubscribe(){var e;this.hasListeners()||((e=n(this,pe))==null||e.call(this),f(this,pe,void 0))}setEventListener(e){var r;f(this,Ke,e),(r=n(this,pe))==null||r.call(this),f(this,pe,e(this.setOnline.bind(this)))}setOnline(e){n(this,Ge)!==e&&(f(this,Ge,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return n(this,Ge)}},Ge=new WeakMap,pe=new WeakMap,Ke=new WeakMap,Rr),Et=new Cn;function Ft(){let t,e;const r=new Promise((i,a)=>{t=i,e=a});r.status="pending",r.catch(()=>{});function s(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{s({status:"fulfilled",value:i}),t(i)},r.reject=i=>{s({status:"rejected",reason:i}),e(i)},r}function On(t){return Math.min(1e3*2**t,3e4)}function rs(t){return(t??"online")==="online"?Et.isOnline():!0}var ss=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function It(t){return t instanceof ss}function ns(t){let e=!1,r=0,s=!1,i;const a=Ft(),o=S=>{var E;s||(p(new ss(S)),(E=t.abort)==null||E.call(t))},l=()=>{e=!0},h=()=>{e=!1},b=()=>Vt.isFocused()&&(t.networkMode==="always"||Et.isOnline())&&t.canRun(),d=()=>rs(t.networkMode)&&t.canRun(),c=S=>{var E;s||(s=!0,(E=t.onSuccess)==null||E.call(t,S),i==null||i(),a.resolve(S))},p=S=>{var E;s||(s=!0,(E=t.onError)==null||E.call(t,S),i==null||i(),a.reject(S))},v=()=>new Promise(S=>{var E;i=O=>{(s||b())&&S(O)},(E=t.onPause)==null||E.call(t)}).then(()=>{var S;i=void 0,s||(S=t.onContinue)==null||S.call(t)}),k=()=>{if(s)return;let S;const E=r===0?t.initialPromise:void 0;try{S=E??t.fn()}catch(O){S=Promise.reject(O)}Promise.resolve(S).then(c).catch(O=>{var Q;if(s)return;const M=t.retry??(De?0:3),N=t.retryDelay??On,L=typeof N=="function"?N(r,O):N,q=M===!0||typeof M=="number"&&r<M||typeof M=="function"&&M(r,O);if(e||!q){p(O);return}r++,(Q=t.onFail)==null||Q.call(t,r,O),An(L).then(()=>b()?void 0:v()).then(()=>{e?p(O):k()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:l,continueRetry:h,canStart:d,start:()=>(d()?k():v().then(k),a)}}var jn=t=>setTimeout(t,0);function Fn(){let t=[],e=0,r=l=>{l()},s=l=>{l()},i=jn;const a=l=>{e?t.push(l):i(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{s(()=>{l.forEach(h=>{r(h)})})})};return{batch:l=>{let h;e++;try{h=l()}finally{e--,e||o()}return h},batchCalls:l=>(...h)=>{a(()=>{l(...h)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{i=l}}}var D=Fn(),Pe,Sr,is=(Sr=class{constructor(){y(this,Pe)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ct(this.gcTime)&&f(this,Pe,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(De?1/0:5*60*1e3))}clearGcTimeout(){n(this,Pe)&&(clearTimeout(n(this,Pe)),f(this,Pe,void 0))}},Pe=new WeakMap,Sr),Qe,$e,Z,Ne,K,nt,Ce,ee,ae,Tr,Ln=(Tr=class extends is{constructor(e){super();y(this,ee);y(this,Qe);y(this,$e);y(this,Z);y(this,Ne);y(this,K);y(this,nt);y(this,Ce);f(this,Ce,!1),f(this,nt,e.defaultOptions),this.setOptions(e.options),this.observers=[],f(this,Ne,e.client),f(this,Z,n(this,Ne).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,f(this,Qe,Dn(this.options)),this.state=e.state??n(this,Qe),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=n(this,K))==null?void 0:e.promise}setOptions(e){this.options={...n(this,nt),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&n(this,Z).remove(this)}setData(e,r){const s=jt(this.state.data,e,this.options);return T(this,ee,ae).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(e,r){T(this,ee,ae).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var s,i;const r=(s=n(this,K))==null?void 0:s.promise;return(i=n(this,K))==null||i.cancel(e),r?r.then(H).catch(H):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(n(this,Qe))}isActive(){return this.observers.some(e=>re(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ht||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Xr(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=n(this,K))==null||r.continue()}onOnline(){var r;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=n(this,K))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),n(this,Z).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(n(this,K)&&(n(this,Ce)?n(this,K).cancel({revert:!0}):n(this,K).cancelRetry()),this.scheduleGc()),n(this,Z).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||T(this,ee,ae).call(this,{type:"invalidate"})}fetch(e,r){var h,b,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(n(this,K))return n(this,K).continueRetry(),n(this,K).promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(p=>p.options.queryFn);c&&this.setOptions(c.options)}const s=new AbortController,i=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(f(this,Ce,!0),s.signal)})},a=()=>{const c=es(this.options,r),p={client:n(this,Ne),queryKey:this.queryKey,meta:this.meta};return i(p),f(this,Ce,!1),this.options.persister?this.options.persister(c,p,this):c(p)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:n(this,Ne),state:this.state,fetchFn:a};i(o),(h=this.options.behavior)==null||h.onFetch(o,this),f(this,$e,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((b=o.fetchOptions)==null?void 0:b.meta))&&T(this,ee,ae).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=c=>{var p,v,k,S;It(c)&&c.silent||T(this,ee,ae).call(this,{type:"error",error:c}),It(c)||((v=(p=n(this,Z).config).onError)==null||v.call(p,c,this),(S=(k=n(this,Z).config).onSettled)==null||S.call(k,this.state.data,c,this)),this.scheduleGc()};return f(this,K,ns({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:s.abort.bind(s),onSuccess:c=>{var p,v,k,S;if(c===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(E){l(E);return}(v=(p=n(this,Z).config).onSuccess)==null||v.call(p,c,this),(S=(k=n(this,Z).config).onSettled)==null||S.call(k,c,this.state.error,this),this.scheduleGc()},onError:l,onFail:(c,p)=>{T(this,ee,ae).call(this,{type:"failed",failureCount:c,error:p})},onPause:()=>{T(this,ee,ae).call(this,{type:"pause"})},onContinue:()=>{T(this,ee,ae).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),n(this,K).start()}},Qe=new WeakMap,$e=new WeakMap,Z=new WeakMap,Ne=new WeakMap,K=new WeakMap,nt=new WeakMap,Ce=new WeakMap,ee=new WeakSet,ae=function(e){const r=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...as(s.data,this.options),fetchMeta:e.meta??null};case"success":return{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return It(i)&&i.revert&&n(this,$e)?{...n(this,$e),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=r(this.state),D.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),n(this,Z).notify({query:this,type:"updated",action:e})})},Tr);function as(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:rs(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Dn(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,s=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var se,kr,_n=(kr=class extends et{constructor(e={}){super();y(this,se);this.config=e,f(this,se,new Map)}build(e,r,s){const i=r.queryKey,a=r.queryHash??Bt(i,r);let o=this.get(a);return o||(o=new Ln({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(r),state:s,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){n(this,se).has(e.queryHash)||(n(this,se).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=n(this,se).get(e.queryHash);r&&(e.destroy(),r===e&&n(this,se).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){D.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return n(this,se).get(e)}getAll(){return[...n(this,se).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(s=>or(r,s))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(s=>or(e,s)):r}notify(e){D.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){D.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){D.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},se=new WeakMap,kr),ne,$,Oe,ie,he,wr,Mn=(wr=class extends is{constructor(e){super();y(this,ie);y(this,ne);y(this,$);y(this,Oe);this.mutationId=e.mutationId,f(this,$,e.mutationCache),f(this,ne,[]),this.state=e.state||os(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){n(this,ne).includes(e)||(n(this,ne).push(e),this.clearGcTimeout(),n(this,$).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){f(this,ne,n(this,ne).filter(r=>r!==e)),this.scheduleGc(),n(this,$).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){n(this,ne).length||(this.state.status==="pending"?this.scheduleGc():n(this,$).remove(this))}continue(){var e;return((e=n(this,Oe))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,l,h,b,d,c,p,v,k,S,E,O,M,N,L,q,Q,ke,_;const r=()=>{T(this,ie,he).call(this,{type:"continue"})};f(this,Oe,ns({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(C,F)=>{T(this,ie,he).call(this,{type:"failed",failureCount:C,error:F})},onPause:()=>{T(this,ie,he).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>n(this,$).canRun(this)}));const s=this.state.status==="pending",i=!n(this,Oe).canStart();try{if(s)r();else{T(this,ie,he).call(this,{type:"pending",variables:e,isPaused:i}),await((o=(a=n(this,$).config).onMutate)==null?void 0:o.call(a,e,this));const F=await((h=(l=this.options).onMutate)==null?void 0:h.call(l,e));F!==this.state.context&&T(this,ie,he).call(this,{type:"pending",context:F,variables:e,isPaused:i})}const C=await n(this,Oe).start();return await((d=(b=n(this,$).config).onSuccess)==null?void 0:d.call(b,C,e,this.state.context,this)),await((p=(c=this.options).onSuccess)==null?void 0:p.call(c,C,e,this.state.context)),await((k=(v=n(this,$).config).onSettled)==null?void 0:k.call(v,C,null,this.state.variables,this.state.context,this)),await((E=(S=this.options).onSettled)==null?void 0:E.call(S,C,null,e,this.state.context)),T(this,ie,he).call(this,{type:"success",data:C}),C}catch(C){try{throw await((M=(O=n(this,$).config).onError)==null?void 0:M.call(O,C,e,this.state.context,this)),await((L=(N=this.options).onError)==null?void 0:L.call(N,C,e,this.state.context)),await((Q=(q=n(this,$).config).onSettled)==null?void 0:Q.call(q,void 0,C,this.state.variables,this.state.context,this)),await((_=(ke=this.options).onSettled)==null?void 0:_.call(ke,void 0,C,e,this.state.context)),C}finally{T(this,ie,he).call(this,{type:"error",error:C})}}finally{n(this,$).runNext(this)}}},ne=new WeakMap,$=new WeakMap,Oe=new WeakMap,ie=new WeakSet,he=function(e){const r=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),D.batch(()=>{n(this,ne).forEach(s=>{s.onMutationUpdate(e)}),n(this,$).notify({mutation:this,type:"updated",action:e})})},wr);function os(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var oe,te,it,Ar,xn=(Ar=class extends et{constructor(e={}){super();y(this,oe);y(this,te);y(this,it);this.config=e,f(this,oe,new Set),f(this,te,new Map),f(this,it,0)}build(e,r,s){const i=new Mn({mutationCache:this,mutationId:++ut(this,it)._,options:e.defaultMutationOptions(r),state:s});return this.add(i),i}add(e){n(this,oe).add(e);const r=ct(e);if(typeof r=="string"){const s=n(this,te).get(r);s?s.push(e):n(this,te).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(n(this,oe).delete(e)){const r=ct(e);if(typeof r=="string"){const s=n(this,te).get(r);if(s)if(s.length>1){const i=s.indexOf(e);i!==-1&&s.splice(i,1)}else s[0]===e&&n(this,te).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=ct(e);if(typeof r=="string"){const s=n(this,te).get(r),i=s==null?void 0:s.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){var s;const r=ct(e);if(typeof r=="string"){const i=(s=n(this,te).get(r))==null?void 0:s.find(a=>a!==e&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){D.batch(()=>{n(this,oe).forEach(e=>{this.notify({type:"removed",mutation:e})}),n(this,oe).clear(),n(this,te).clear()})}getAll(){return Array.from(n(this,oe))}find(e){const r={exact:!0,...e};return this.getAll().find(s=>ur(r,s))}findAll(e={}){return this.getAll().filter(r=>ur(e,r))}notify(e){D.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return D.batch(()=>Promise.all(e.map(r=>r.continue().catch(H))))}},oe=new WeakMap,te=new WeakMap,it=new WeakMap,Ar);function ct(t){var e;return(e=t.options.scope)==null?void 0:e.id}function dr(t){return{onFetch:(e,r)=>{var d,c,p,v,k;const s=e.options,i=(p=(c=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:c.fetchMore)==null?void 0:p.direction,a=((v=e.state.data)==null?void 0:v.pages)||[],o=((k=e.state.data)==null?void 0:k.pageParams)||[];let l={pages:[],pageParams:[]},h=0;const b=async()=>{let S=!1;const E=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(e.signal.aborted?S=!0:e.signal.addEventListener("abort",()=>{S=!0}),e.signal)})},O=es(e.options,e.fetchOptions),M=async(N,L,q)=>{if(S)return Promise.reject();if(L==null&&N.pages.length)return Promise.resolve(N);const Q={client:e.client,queryKey:e.queryKey,pageParam:L,direction:q?"backward":"forward",meta:e.options.meta};E(Q);const ke=await O(Q),{maxPages:_}=e.options,C=q?Pn:In;return{pages:C(N.pages,ke,_),pageParams:C(N.pageParams,L,_)}};if(i&&a.length){const N=i==="backward",L=N?qn:hr,q={pages:a,pageParams:o},Q=L(s,q);l=await M(q,Q,N)}else{const N=t??a.length;do{const L=h===0?o[0]??s.initialPageParam:hr(s,l);if(h>0&&L==null)break;l=await M(l,L),h++}while(h<N)}return l};e.options.persister?e.fetchFn=()=>{var S,E;return(E=(S=e.options).persister)==null?void 0:E.call(S,b,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=b}}}function hr(t,{pages:e,pageParams:r}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,r[s],r):void 0}function qn(t,{pages:e,pageParams:r}){var s;return e.length>0?(s=t.getPreviousPageParam)==null?void 0:s.call(t,e[0],e,r[0],r):void 0}var j,ge,me,Be,He,ve,Ve,Je,Ir,Un=(Ir=class{constructor(t={}){y(this,j);y(this,ge);y(this,me);y(this,Be);y(this,He);y(this,ve);y(this,Ve);y(this,Je);f(this,j,t.queryCache||new _n),f(this,ge,t.mutationCache||new xn),f(this,me,t.defaultOptions||{}),f(this,Be,new Map),f(this,He,new Map),f(this,ve,0)}mount(){ut(this,ve)._++,n(this,ve)===1&&(f(this,Ve,Vt.subscribe(async t=>{t&&(await this.resumePausedMutations(),n(this,j).onFocus())})),f(this,Je,Et.subscribe(async t=>{t&&(await this.resumePausedMutations(),n(this,j).onOnline())})))}unmount(){var t,e;ut(this,ve)._--,n(this,ve)===0&&((t=n(this,Ve))==null||t.call(this),f(this,Ve,void 0),(e=n(this,Je))==null||e.call(this),f(this,Je,void 0))}isFetching(t){return n(this,j).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return n(this,ge).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=n(this,j).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=n(this,j).build(this,e),s=r.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(qe(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return n(this,j).findAll(t).map(({queryKey:e,state:r})=>{const s=r.data;return[e,s]})}setQueryData(t,e,r){const s=this.defaultQueryOptions({queryKey:t}),i=n(this,j).get(s.queryHash),a=i==null?void 0:i.state.data,o=wn(e,a);if(o!==void 0)return n(this,j).build(this,s).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return D.batch(()=>n(this,j).findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=n(this,j).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=n(this,j);D.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=n(this,j);return D.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},s=D.batch(()=>n(this,j).findAll(t).map(i=>i.cancel(r)));return Promise.all(s).then(H).catch(H)}invalidateQueries(t,e={}){return D.batch(()=>(n(this,j).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},s=D.batch(()=>n(this,j).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(H)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(H)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=n(this,j).build(this,e);return r.isStaleByTime(qe(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(H).catch(H)}fetchInfiniteQuery(t){return t.behavior=dr(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(H).catch(H)}ensureInfiniteQueryData(t){return t.behavior=dr(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Et.isOnline()?n(this,ge).resumePausedMutations():Promise.resolve()}getQueryCache(){return n(this,j)}getMutationCache(){return n(this,ge)}getDefaultOptions(){return n(this,me)}setDefaultOptions(t){f(this,me,t)}setQueryDefaults(t,e){n(this,Be).set(_e(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...n(this,Be).values()],r={};return e.forEach(s=>{st(t,s.queryKey)&&Object.assign(r,s.defaultOptions)}),r}setMutationDefaults(t,e){n(this,He).set(_e(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...n(this,He).values()],r={};return e.forEach(s=>{st(t,s.mutationKey)&&Object.assign(r,s.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...n(this,me).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Bt(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Ht&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...n(this,me).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){n(this,j).clear(),n(this,ge).clear()}},j=new WeakMap,ge=new WeakMap,me=new WeakMap,Be=new WeakMap,He=new WeakMap,ve=new WeakMap,Ve=new WeakMap,Je=new WeakMap,Ir),J,w,at,B,je,ze,ye,be,ot,Ye,We,Fe,Le,Ee,Xe,I,rt,Lt,Dt,_t,Mt,xt,qt,Ut,us,Pr,Gn=(Pr=class extends et{constructor(e,r){super();y(this,I);y(this,J);y(this,w);y(this,at);y(this,B);y(this,je);y(this,ze);y(this,ye);y(this,be);y(this,ot);y(this,Ye);y(this,We);y(this,Fe);y(this,Le);y(this,Ee);y(this,Xe,new Set);this.options=r,f(this,J,e),f(this,be,null),f(this,ye,Ft()),this.options.experimental_prefetchInRender||n(this,ye).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(n(this,w).addObserver(this),fr(n(this,w),this.options)?T(this,I,rt).call(this):this.updateResult(),T(this,I,Mt).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Gt(n(this,w),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Gt(n(this,w),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,T(this,I,xt).call(this),T(this,I,qt).call(this),n(this,w).removeObserver(this)}setOptions(e){const r=this.options,s=n(this,w);if(this.options=n(this,J).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof re(this.options.enabled,n(this,w))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");T(this,I,Ut).call(this),n(this,w).setOptions(this.options),r._defaulted&&!bt(this.options,r)&&n(this,J).getQueryCache().notify({type:"observerOptionsUpdated",query:n(this,w),observer:this});const i=this.hasListeners();i&&pr(n(this,w),s,this.options,r)&&T(this,I,rt).call(this),this.updateResult(),i&&(n(this,w)!==s||re(this.options.enabled,n(this,w))!==re(r.enabled,n(this,w))||qe(this.options.staleTime,n(this,w))!==qe(r.staleTime,n(this,w)))&&T(this,I,Lt).call(this);const a=T(this,I,Dt).call(this);i&&(n(this,w)!==s||re(this.options.enabled,n(this,w))!==re(r.enabled,n(this,w))||a!==n(this,Ee))&&T(this,I,_t).call(this,a)}getOptimisticResult(e){const r=n(this,J).getQueryCache().build(n(this,J),e),s=this.createResult(r,e);return Qn(this,s)&&(f(this,B,s),f(this,ze,this.options),f(this,je,n(this,w).state)),s}getCurrentResult(){return n(this,B)}trackResult(e,r){return new Proxy(e,{get:(s,i)=>(this.trackProp(i),r==null||r(i),Reflect.get(s,i))})}trackProp(e){n(this,Xe).add(e)}getCurrentQuery(){return n(this,w)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=n(this,J).defaultQueryOptions(e),s=n(this,J).getQueryCache().build(n(this,J),r);return s.fetch().then(()=>this.createResult(s,r))}fetch(e){return T(this,I,rt).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),n(this,B)))}createResult(e,r){var C;const s=n(this,w),i=this.options,a=n(this,B),o=n(this,je),l=n(this,ze),b=e!==s?e.state:n(this,at),{state:d}=e;let c={...d},p=!1,v;if(r._optimisticResults){const F=this.hasListeners(),Me=!F&&fr(e,r),Y=F&&pr(e,s,r,i);(Me||Y)&&(c={...c,...as(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(c.fetchStatus="idle")}let{error:k,errorUpdatedAt:S,status:E}=c;v=c.data;let O=!1;if(r.placeholderData!==void 0&&v===void 0&&E==="pending"){let F;a!=null&&a.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(F=a.data,O=!0):F=typeof r.placeholderData=="function"?r.placeholderData((C=n(this,We))==null?void 0:C.state.data,n(this,We)):r.placeholderData,F!==void 0&&(E="success",v=jt(a==null?void 0:a.data,F,r),p=!0)}if(r.select&&v!==void 0&&!O)if(a&&v===(o==null?void 0:o.data)&&r.select===n(this,ot))v=n(this,Ye);else try{f(this,ot,r.select),v=r.select(v),v=jt(a==null?void 0:a.data,v,r),f(this,Ye,v),f(this,be,null)}catch(F){f(this,be,F)}n(this,be)&&(k=n(this,be),v=n(this,Ye),S=Date.now(),E="error");const M=c.fetchStatus==="fetching",N=E==="pending",L=E==="error",q=N&&M,Q=v!==void 0,_={status:E,fetchStatus:c.fetchStatus,isPending:N,isSuccess:E==="success",isError:L,isInitialLoading:q,isLoading:q,data:v,dataUpdatedAt:c.dataUpdatedAt,error:k,errorUpdatedAt:S,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>b.dataUpdateCount||c.errorUpdateCount>b.errorUpdateCount,isFetching:M,isRefetching:M&&!N,isLoadingError:L&&!Q,isPaused:c.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:L&&Q,isStale:Jt(e,r),refetch:this.refetch,promise:n(this,ye)};if(this.options.experimental_prefetchInRender){const F=xe=>{_.status==="error"?xe.reject(_.error):_.data!==void 0&&xe.resolve(_.data)},Me=()=>{const xe=f(this,ye,_.promise=Ft());F(xe)},Y=n(this,ye);switch(Y.status){case"pending":e.queryHash===s.queryHash&&F(Y);break;case"fulfilled":(_.status==="error"||_.data!==Y.value)&&Me();break;case"rejected":(_.status!=="error"||_.error!==Y.reason)&&Me();break}}return _}updateResult(){const e=n(this,B),r=this.createResult(n(this,w),this.options);if(f(this,je,n(this,w).state),f(this,ze,this.options),n(this,je).data!==void 0&&f(this,We,n(this,w)),bt(r,e))return;f(this,B,r);const s=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!n(this,Xe).size)return!0;const o=new Set(a??n(this,Xe));return this.options.throwOnError&&o.add("error"),Object.keys(n(this,B)).some(l=>{const h=l;return n(this,B)[h]!==e[h]&&o.has(h)})};T(this,I,us).call(this,{listeners:s()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&T(this,I,Mt).call(this)}},J=new WeakMap,w=new WeakMap,at=new WeakMap,B=new WeakMap,je=new WeakMap,ze=new WeakMap,ye=new WeakMap,be=new WeakMap,ot=new WeakMap,Ye=new WeakMap,We=new WeakMap,Fe=new WeakMap,Le=new WeakMap,Ee=new WeakMap,Xe=new WeakMap,I=new WeakSet,rt=function(e){T(this,I,Ut).call(this);let r=n(this,w).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(H)),r},Lt=function(){T(this,I,xt).call(this);const e=qe(this.options.staleTime,n(this,w));if(De||n(this,B).isStale||!Ct(e))return;const s=Xr(n(this,B).dataUpdatedAt,e)+1;f(this,Fe,setTimeout(()=>{n(this,B).isStale||this.updateResult()},s))},Dt=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(n(this,w)):this.options.refetchInterval)??!1},_t=function(e){T(this,I,qt).call(this),f(this,Ee,e),!(De||re(this.options.enabled,n(this,w))===!1||!Ct(n(this,Ee))||n(this,Ee)===0)&&f(this,Le,setInterval(()=>{(this.options.refetchIntervalInBackground||Vt.isFocused())&&T(this,I,rt).call(this)},n(this,Ee)))},Mt=function(){T(this,I,Lt).call(this),T(this,I,_t).call(this,T(this,I,Dt).call(this))},xt=function(){n(this,Fe)&&(clearTimeout(n(this,Fe)),f(this,Fe,void 0))},qt=function(){n(this,Le)&&(clearInterval(n(this,Le)),f(this,Le,void 0))},Ut=function(){const e=n(this,J).getQueryCache().build(n(this,J),this.options);if(e===n(this,w))return;const r=n(this,w);f(this,w,e),f(this,at,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},us=function(e){D.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(n(this,B))}),n(this,J).getQueryCache().notify({query:n(this,w),type:"observerResultsUpdated"})})},Pr);function Kn(t,e){return re(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function fr(t,e){return Kn(t,e)||t.state.data!==void 0&&Gt(t,e,e.refetchOnMount)}function Gt(t,e,r){if(re(e.enabled,t)!==!1){const s=typeof r=="function"?r(t):r;return s==="always"||s!==!1&&Jt(t,e)}return!1}function pr(t,e,r,s){return(t!==e||re(s.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&Jt(t,r)}function Jt(t,e){return re(e.enabled,t)!==!1&&t.isStaleByTime(qe(e.staleTime,t))}function Qn(t,e){return!bt(t.getCurrentResult(),e)}var Re,Se,z,ue,de,vt,Kt,Nr,$n=(Nr=class extends et{constructor(e,r){super();y(this,de);y(this,Re);y(this,Se);y(this,z);y(this,ue);f(this,Re,e),this.setOptions(r),this.bindMethods(),T(this,de,vt).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var s;const r=this.options;this.options=n(this,Re).defaultMutationOptions(e),bt(this.options,r)||n(this,Re).getMutationCache().notify({type:"observerOptionsUpdated",mutation:n(this,z),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&_e(r.mutationKey)!==_e(this.options.mutationKey)?this.reset():((s=n(this,z))==null?void 0:s.state.status)==="pending"&&n(this,z).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=n(this,z))==null||e.removeObserver(this)}onMutationUpdate(e){T(this,de,vt).call(this),T(this,de,Kt).call(this,e)}getCurrentResult(){return n(this,Se)}reset(){var e;(e=n(this,z))==null||e.removeObserver(this),f(this,z,void 0),T(this,de,vt).call(this),T(this,de,Kt).call(this)}mutate(e,r){var s;return f(this,ue,r),(s=n(this,z))==null||s.removeObserver(this),f(this,z,n(this,Re).getMutationCache().build(n(this,Re),this.options)),n(this,z).addObserver(this),n(this,z).execute(e)}},Re=new WeakMap,Se=new WeakMap,z=new WeakMap,ue=new WeakMap,de=new WeakSet,vt=function(){var r;const e=((r=n(this,z))==null?void 0:r.state)??os();f(this,Se,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},Kt=function(e){D.batch(()=>{var r,s,i,a,o,l,h,b;if(n(this,ue)&&this.hasListeners()){const d=n(this,Se).variables,c=n(this,Se).context;(e==null?void 0:e.type)==="success"?((s=(r=n(this,ue)).onSuccess)==null||s.call(r,e.data,d,c),(a=(i=n(this,ue)).onSettled)==null||a.call(i,e.data,null,d,c)):(e==null?void 0:e.type)==="error"&&((l=(o=n(this,ue)).onError)==null||l.call(o,e.error,d,c),(b=(h=n(this,ue)).onSettled)==null||b.call(h,void 0,e.error,d,c))}this.listeners.forEach(d=>{d(n(this,Se))})})},Nr),ls=P.createContext(void 0),cs=t=>{const e=P.useContext(ls);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Bn=({client:t,children:e})=>(P.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx(ls.Provider,{value:t,children:e})),ds=P.createContext(!1),Hn=()=>P.useContext(ds);ds.Provider;function Vn(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Jn=P.createContext(Vn()),zn=()=>P.useContext(Jn),Yn=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Wn=t=>{P.useEffect(()=>{t.clearReset()},[t])},Xn=({result:t,errorResetBoundary:e,throwOnError:r,query:s,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&s&&(i&&t.data===void 0||ts(r,[t.error,s])),Zn=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...r)=>Math.max(e(...r),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},ei=(t,e)=>t.isLoading&&t.isFetching&&!e,ti=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,gr=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function ri(t,e,r){var c,p,v,k,S;const s=cs(),i=Hn(),a=zn(),o=s.defaultQueryOptions(t);(p=(c=s.getDefaultOptions().queries)==null?void 0:c._experimental_beforeQuery)==null||p.call(c,o),o._optimisticResults=i?"isRestoring":"optimistic",Zn(o),Yn(o,a),Wn(a);const l=!s.getQueryCache().get(o.queryHash),[h]=P.useState(()=>new e(s,o)),b=h.getOptimisticResult(o),d=!i&&t.subscribed!==!1;if(P.useSyncExternalStore(P.useCallback(E=>{const O=d?h.subscribe(D.batchCalls(E)):H;return h.updateResult(),O},[h,d]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),P.useEffect(()=>{h.setOptions(o)},[o,h]),ti(o,b))throw gr(o,h,a);if(Xn({result:b,errorResetBoundary:a,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw b.error;if((k=(v=s.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||k.call(v,o,b),o.experimental_prefetchInRender&&!De&&ei(b,i)){const E=l?gr(o,h,a):(S=s.getQueryCache().get(o.queryHash))==null?void 0:S.promise;E==null||E.catch(H).finally(()=>{h.updateResult()})}return o.notifyOnChangeProps?b:h.trackResult(b)}function mr(t,e){return ri(t,Gn)}function Rt(t,e){const r=cs(),[s]=P.useState(()=>new $n(r,t));P.useEffect(()=>{s.setOptions(t)},[s,t]);const i=P.useSyncExternalStore(P.useCallback(o=>s.subscribe(D.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=P.useCallback((o,l)=>{s.mutate(o,l).catch(H)},[s]);if(i.error&&ts(s.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}var si=function(){return null},hs=(t=>(t.BARN="BARN",t.OPPTJENING="OPPTJENING",t.TILRETTELEGGING="TILRETTELEGGING",t.UTTAK="UTTAK",t))(hs||{});const ni="Fra {fom} til {tom}",ii={tidsperiode:ni,"tidsperiode.kort":"{fom} - {tom}"},ai="Frå {fom} til {tom}",oi={tidsperiode:ai,"tidsperiode.kort":"{fom} - {tom}"},ui=t=>{window.location.href=t},zt=t=>{const e=t+"=",s=decodeURIComponent(document.cookie).split(";");for(let i=0;i<s.length;i++){let a=s[i];for(;a.charAt(0)==" ";)a=a.substring(1);if(a.indexOf(e)==0)return a.substring(e.length,a.length)}return"nb"},fs={nb:ii,nn:oi},ps=7,li="ukjent uuid",vr="Det har oppstått et problem med innsending av søknaden. Vennligst prøv igjen senere. Hvis problemet vedvarer, kontakt oss og oppgi feil-id: ",ci=(t,e)=>{const r=$t(),s=Js(),i=Yr(),[a,o]=P.useState(!1),l=P.useRef(null),{mutate:h}=Rt({mutationFn:()=>Te.delete(".//rest/storage/svangerskapspenger")});return P.useEffect(()=>{a&&(async()=>{o(!1);const c=s[X.APP_ROUTE];if(c){r(c);try{const p={version:ps,søkerInfo:t,...s};await Te.post(".//rest/storage/svangerskapspenger",{json:p})}catch(p){if(p instanceof Kr){if(p.response.status===401||p.response.status===403)throw p;const v=await p.response.json(),k=(v==null?void 0:v.uuid)??li;throw yt(vr+k),Error(vr+k)}throw p instanceof Error?p:new Error(String(p))}}else e(!1),i(),r("/"),h();l.current&&l.current()})().catch(c=>{yt(c.message),l.current&&l.current()})},[a]),P.useCallback(()=>(o(!0),new Promise(c=>{l.current=c})),[])};var Pt,yr;function di(){if(yr)return Pt;yr=1;var t=Ws();function e(r,s){return t(r,s)}return Pt=e,Pt}var hi=di();const fi=Cs(hi),pi=()=>{const t=document.getElementById("nav:appSettings");if(!t)return{};const e=JSON.parse(t.text);return{LOG_VALIDATION:e.LOG_VALIDATION,INNSYN:e.INNSYN}},Nt=pi(),gi=t=>{const e=$t(),r=Yr(),{mutate:s}=Rt({mutationFn:()=>Te.delete(".//rest/storage/svangerskapspenger")});return async()=>{Os({origin:"svangerskapspengesoknad",eventName:"skjema avbrutt"}),r(),t(!1),s(),e("/")}},mi=()=>{const t=P.useRef(null);return P.useEffect(()=>()=>{t.current&&t.current.abort()},[]),{initAbortSignal:P.useCallback(()=>{t.current&&t.current.abort();const r=new AbortController;return t.current=r,t.current.signal},[t])}},vi=(t,e,r,s,i,a)=>{const o=nn(e);return Object.keys(r).map(l=>{const h=r[l],b=s==null?void 0:s[l],d=Xs(e.termindato,l,t,i,a);return{arbeidsforhold:{id:l,type:Wr(l,t)},behovForTilretteleggingFom:h.behovForTilretteleggingFom,risikofaktorer:h.risikofaktorer,tilretteleggingstiltak:h.tilretteleggingstiltak,tilrettelegginger:b&&b.length>0?Zs(b,o,d):en(h,o,d)}})},yi=(t,e)=>Object.keys(t).map(s=>{const i=t[s],a={id:s,type:Wr(s,e)};return i.map(o=>({...o,dokumenterer:{type:hs.TILRETTELEGGING,arbeidsforhold:a}}))}).flat(),bi=(t,e)=>{var c;const r=e(X.UTENLANDSOPPHOLD_SENERE),s=e(X.UTENLANDSOPPHOLD_TIDLIGERE),i=gt(e(X.OM_BARNET)),a=gt(e(X.TILRETTELEGGINGER)),o=gt(e(X.TILRETTELEGGINGER_VEDLEGG)),l=e(X.TILRETTELEGGINGER_PERIODER),h=e(X.FRILANS),b=e(X.EGEN_NÆRING),d=e(X.FERIE);return{språkkode:zt("decorator-language"),barn:i,frilans:h,egenNæring:b,andreInntekterSiste10Mnd:(c=e(X.ARBEID_I_UTLANDET))==null?void 0:c.arbeidIUtlandet,utenlandsopphold:(s??[]).concat(r??[]),tilretteleggingsbehov:vi(t,i,a,l,b,h),vedlegg:yi(o,t),avtaltFerie:d?Object.values(d).flatMap(p=>p.feriePerioder):[]}},Ei="ukjent uuid",br="Det har oppstått et problem med innsending av søknaden. Vennligst prøv igjen senere. Hvis problemet vedvarer, kontakt oss og oppgi feil-id: ",Ri=(t,e)=>{const r=zs(),{initAbortSignal:s}=mi(),{mutate:i}=Rt({mutationFn:()=>Te.delete(".//rest/storage/svangerskapspenger")}),a=async()=>{const h=bi(e,r),b=s();try{const d=await Te.post(".//rest/soknad/svangerskapspenger",{json:h,signal:b});i(),t(await d.json())}catch(d){if(d instanceof Kr){if(yt(d.message),b.aborted||d.response.status===401||d.response.status===403)throw d;const c=await d.response.json();yt(`${br}${JSON.stringify(c)}`);const p=(c==null?void 0:c.uuid)??Ei;throw Error(br+p)}throw d instanceof Error?d:new Error(String(d))}},{mutateAsync:o,error:l}=Rt({mutationFn:()=>a()});return P.useMemo(()=>({sendSøknad:()=>o(),errorSendSøknad:l}),[o,l])},Yt=()=>m.jsx("div",{style:{textAlign:"center",padding:"12rem 0"},children:m.jsx(Fs,{size:"2xlarge"})}),Wt=({error:t})=>m.jsx(js,{appName:"svangerskapspengesoknad",errorMessage:t.message,retryCallback:()=>location.reload()}),Si=(t,e,r,s,i)=>t?m.jsxs(m.Fragment,{children:[m.jsx(G,{path:U.BARNET,element:m.jsx(ln,{arbeidsforhold:e.arbeidsforhold,mellomlagreSøknadOgNaviger:r,avbrytSøknad:s})}),m.jsx(G,{path:U.UTENLANDSOPPHOLD,element:m.jsx(yn,{arbeidsforhold:e.arbeidsforhold,mellomlagreSøknadOgNaviger:r,avbrytSøknad:s})}),m.jsx(G,{path:U.HAR_BODD_I_UTLANDET,element:m.jsx(vn,{arbeidsforhold:e.arbeidsforhold,mellomlagreSøknadOgNaviger:r,avbrytSøknad:s})}),m.jsx(G,{path:U.SKAL_BO_I_UTLANDET,element:m.jsx(mn,{arbeidsforhold:e.arbeidsforhold,mellomlagreSøknadOgNaviger:r,avbrytSøknad:s})}),m.jsx(G,{path:U.ARBEIDSFORHOLD_OG_INNTEKT,element:m.jsx(un,{arbeidsforhold:e.arbeidsforhold,mellomlagreSøknadOgNaviger:r,avbrytSøknad:s})}),m.jsx(G,{path:U.FRILANS,element:m.jsx(hn,{arbeidsforhold:e.arbeidsforhold,mellomlagreSøknadOgNaviger:r,avbrytSøknad:s})}),m.jsx(G,{path:U.NÆRING,element:m.jsx(cn,{arbeidsforhold:e.arbeidsforhold,mellomlagreSøknadOgNaviger:r,avbrytSøknad:s})}),m.jsx(G,{path:U.ARBEID_I_UTLANDET,element:m.jsx(on,{arbeidsforhold:e.arbeidsforhold,mellomlagreSøknadOgNaviger:r,avbrytSøknad:s})}),m.jsx(G,{path:U.VELG_ARBEID,element:m.jsx(bn,{arbeidsforhold:e.arbeidsforhold,mellomlagreSøknadOgNaviger:r,avbrytSøknad:s})}),m.jsx(G,{path:`${U.SKJEMA}/${lt}`,element:m.jsx(Ns,{arbeidsforhold:e.arbeidsforhold,mellomlagreSøknadOgNaviger:r,avbrytSøknad:s})}),m.jsx(G,{path:`${U.TILRETTELEGGING}/${lt}`,element:m.jsx(gn,{arbeidsforhold:e.arbeidsforhold,mellomlagreSøknadOgNaviger:r,avbrytSøknad:s})}),m.jsx(G,{path:`${U.PERIODER}/${lt}`,element:m.jsx(pn,{arbeidsforhold:e.arbeidsforhold,mellomlagreSøknadOgNaviger:r,avbrytSøknad:s})}),m.jsx(G,{path:`${U.FERIE}/${lt}`,element:m.jsx(dn,{arbeidsforhold:e.arbeidsforhold,mellomlagreSøknadOgNaviger:r,avbrytSøknad:s})}),m.jsx(G,{path:U.OPPSUMMERING,element:m.jsx(fn,{søkerInfo:e,mellomlagreSøknadOgNaviger:r,avbrytSøknad:s,sendSøknad:i})})]}):m.jsx(G,{path:"*",element:m.jsx(rn,{to:U.FORSIDE})}),gs=({søkerInfo:t,mellomlagretData:e})=>{const r=$t(),[s,i]=P.useState(!1),[a,o]=P.useState(),{sendSøknad:l,errorSendSøknad:h}=Ri(o,t.arbeidsforhold),b=ci(t,i),d=gi(i);return P.useEffect(()=>{e!=null&&e[X.APP_ROUTE]&&(i(!0),r(e[X.APP_ROUTE]))},[e]),a?Nt.INNSYN?(ui(a.saksNr?`${Nt.INNSYN}/sak/${a.saksNr}/redirectFromSoknad`:`${Nt.INNSYN}/redirectFromSoknad`),m.jsx(Yt,{})):m.jsx("div",{children:"Redirected to Innsyn"}):h?m.jsx(Wt,{error:h}):m.jsxs(tn,{children:[m.jsx(G,{path:U.FORSIDE,element:m.jsx(an,{mellomlagreSøknadOgNaviger:b,setHarGodkjentVilkår:i,harGodkjentVilkår:s})}),Si(s,t,b,d,l)]})};Yt.__docgenInfo={description:"",methods:[],displayName:"Spinner"};Wt.__docgenInfo={description:"",methods:[],displayName:"ApiErrorHandler",props:{error:{required:!0,tsType:{name:"Error"},description:""}}};gs.__docgenInfo={description:"",methods:[],displayName:"SvangerskapspengesøknadRoutes",props:{søkerInfo:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    søker: PersonFrontend;
    arbeidsforhold: Arbeidsforhold[];
}`,signature:{properties:[{key:"søker",value:{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
    kjønn: 'M' | 'K';
    fødselsdato: string;
    bankkonto?: Bankkonto;
    barn: BarnFrontend[];
    sivilstand?: Sivilstand;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}},{key:"kjønn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"bankkonto",value:{name:"signature",type:"object",raw:`{
    kontonummer?: string;
    banknavn?: string;
}`,signature:{properties:[{key:"kontonummer",value:{name:"string",required:!1}},{key:"banknavn",value:{name:"string",required:!1}}]},required:!1}},{key:"barn",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
    kjønn: string;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: AnnenForelderFrontend;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}},{key:"kjønn",value:{name:"string",required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"dødsdato",value:{name:"string",required:!1}},{key:"annenForelder",value:{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
    fødselsdato?: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}},{key:"fødselsdato",value:{name:"string",required:!1}}]},required:!1}}]}}],raw:"BarnFrontend[]",required:!0}},{key:"sivilstand",value:{name:"signature",type:"object",raw:`{
    type?:
        | 'UOPPGITT'
        | 'UGIFT'
        | 'GIFT'
        | 'ENKE_ELLER_ENKEMANN'
        | 'SKILT'
        | 'SEPARERT'
        | 'REGISTRERT_PARTNER'
        | 'SEPARERT_PARTNER'
        | 'SKILT_PARTNER'
        | 'GJENLEVENDE_PARTNER';
}`,signature:{properties:[{key:"type",value:{name:"union",raw:`| 'UOPPGITT'
| 'UGIFT'
| 'GIFT'
| 'ENKE_ELLER_ENKEMANN'
| 'SKILT'
| 'SEPARERT'
| 'REGISTRERT_PARTNER'
| 'SEPARERT_PARTNER'
| 'SKILT_PARTNER'
| 'GJENLEVENDE_PARTNER'`,elements:[{name:"literal",value:"'UOPPGITT'"},{name:"literal",value:"'UGIFT'"},{name:"literal",value:"'GIFT'"},{name:"literal",value:"'ENKE_ELLER_ENKEMANN'"},{name:"literal",value:"'SKILT'"},{name:"literal",value:"'SEPARERT'"},{name:"literal",value:"'REGISTRERT_PARTNER'"},{name:"literal",value:"'SEPARERT_PARTNER'"},{name:"literal",value:"'SKILT_PARTNER'"},{name:"literal",value:"'GJENLEVENDE_PARTNER'"}],required:!1}}]},required:!1}}]},required:!0}},{key:"arbeidsforhold",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    arbeidsgiverNavn: string;
    stillingsprosent: number;
    fom: string;
    tom?: string;
}`,signature:{properties:[{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"stillingsprosent",value:{name:"number",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}}]}}],raw:"Arbeidsforhold[]",required:!0}}]}},description:""},mellomlagretData:{required:!1,tsType:{name:"intersection",raw:"{ version: number; søkerInfo: Søkerinfo } & ContextDataMap",elements:[{name:"signature",type:"object",raw:"{ version: number; søkerInfo: Søkerinfo }",signature:{properties:[{key:"version",value:{name:"number",required:!0}},{key:"søkerInfo",value:{name:"signature",type:"object",raw:`{
    søker: PersonFrontend;
    arbeidsforhold: Arbeidsforhold[];
}`,signature:{properties:[{key:"søker",value:{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
    kjønn: 'M' | 'K';
    fødselsdato: string;
    bankkonto?: Bankkonto;
    barn: BarnFrontend[];
    sivilstand?: Sivilstand;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}},{key:"kjønn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"bankkonto",value:{name:"signature",type:"object",raw:`{
    kontonummer?: string;
    banknavn?: string;
}`,signature:{properties:[{key:"kontonummer",value:{name:"string",required:!1}},{key:"banknavn",value:{name:"string",required:!1}}]},required:!1}},{key:"barn",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
    kjønn: string;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: AnnenForelderFrontend;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}},{key:"kjønn",value:{name:"string",required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"dødsdato",value:{name:"string",required:!1}},{key:"annenForelder",value:{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
    fødselsdato?: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}},{key:"fødselsdato",value:{name:"string",required:!1}}]},required:!1}}]}}],raw:"BarnFrontend[]",required:!0}},{key:"sivilstand",value:{name:"signature",type:"object",raw:`{
    type?:
        | 'UOPPGITT'
        | 'UGIFT'
        | 'GIFT'
        | 'ENKE_ELLER_ENKEMANN'
        | 'SKILT'
        | 'SEPARERT'
        | 'REGISTRERT_PARTNER'
        | 'SEPARERT_PARTNER'
        | 'SKILT_PARTNER'
        | 'GJENLEVENDE_PARTNER';
}`,signature:{properties:[{key:"type",value:{name:"union",raw:`| 'UOPPGITT'
| 'UGIFT'
| 'GIFT'
| 'ENKE_ELLER_ENKEMANN'
| 'SKILT'
| 'SEPARERT'
| 'REGISTRERT_PARTNER'
| 'SEPARERT_PARTNER'
| 'SKILT_PARTNER'
| 'GJENLEVENDE_PARTNER'`,elements:[{name:"literal",value:"'UOPPGITT'"},{name:"literal",value:"'UGIFT'"},{name:"literal",value:"'GIFT'"},{name:"literal",value:"'ENKE_ELLER_ENKEMANN'"},{name:"literal",value:"'SKILT'"},{name:"literal",value:"'SEPARERT'"},{name:"literal",value:"'REGISTRERT_PARTNER'"},{name:"literal",value:"'SEPARERT_PARTNER'"},{name:"literal",value:"'SKILT_PARTNER'"},{name:"literal",value:"'GJENLEVENDE_PARTNER'"}],required:!1}}]},required:!1}}]},required:!0}},{key:"arbeidsforhold",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    arbeidsgiverNavn: string;
    stillingsprosent: number;
    fom: string;
    tom?: string;
}`,signature:{properties:[{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"stillingsprosent",value:{name:"number",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}}]}}],raw:"Arbeidsforhold[]",required:!0}}]},required:!0}}]}},{name:"signature",type:"object",raw:`{
    [ContextDataType.APP_ROUTE]?: SøknadRoute | string;
    [ContextDataType.OM_BARNET]?: Barn;
    [ContextDataType.UTENLANDSOPPHOLD]?: Utenlandsopphold;
    [ContextDataType.UTENLANDSOPPHOLD_SENERE]?: UtenlandsoppholdPeriode[];
    [ContextDataType.UTENLANDSOPPHOLD_TIDLIGERE]?: UtenlandsoppholdPeriode[];
    [ContextDataType.ARBEIDSFORHOLD_OG_INNTEKT]?: ArbeidsforholdOgInntektSvp;
    [ContextDataType.FRILANS]?: Frilans;
    [ContextDataType.ARBEID_I_UTLANDET]?: ArbeidIUtlandet;
    [ContextDataType.EGEN_NÆRING]?: EgenNæring;
    [ContextDataType.VALGTE_ARBEIDSFORHOLD]?: string[];
    [ContextDataType.TILRETTELEGGINGER_VEDLEGG]?: Record<string, Attachment[]>;
    [ContextDataType.TILRETTELEGGINGER]?: Record<string, DelvisTilrettelegging | IngenTilrettelegging>;
    [ContextDataType.FERIE]?: AvtaltFeriePerArbeidsgiver;
    [ContextDataType.TILRETTELEGGINGER_PERIODER]?: Record<string, PeriodeMedVariasjon[]>;
}`,signature:{properties:[]}}]},description:""}}};const ms=async()=>{try{await Te.delete(".//rest/storage/svangerskapspenger")}catch{}location.reload()},vs=()=>{var o;const t=Ls();Ds(t.formatMessage({id:"søknad.pagetitle"}));const e=mr({queryKey:["SOKERINFO"],queryFn:()=>Te.get(".//rest/sokerinfo").json(),staleTime:1/0}),r=mr({queryKey:["MELLOMLAGRET_INFO"],queryFn:()=>Te.get(".//rest/storage/svangerskapspenger").json(),staleTime:1/0});if(e.error||r.error)return m.jsx(Wt,{error:gt(e.error??r.error)});if(!e.data||r.isPending)return m.jsx(Yt,{});if(!(e.data.søker.kjønn==="K"))return m.jsx(En,{});const i=_s(e.data.søker.fødselsdato),a=((o=r.data)==null?void 0:o.version)===ps?r.data:void 0;return a&&!fi(a.søkerInfo,e.data)?m.jsx(Ms,{slettMellomlagringOgLastSidePåNytt:ms,appName:"svangerskapspengesoknad"}):m.jsx("div",{children:i?m.jsx(Ys,{initialState:a,children:m.jsx(gs,{søkerInfo:e.data,mellomlagretData:a})}):m.jsx(xs,{appName:"svangerskapspengesoknad"})})};vs.__docgenInfo={description:"",methods:[],displayName:"Svangerskapspengesøknad"};const Ti={...Vs,...zr.nb,...Jr.nb,...Vr.nb,...fs.nb,...Hr.nb,...Br.nb,...$r.nb,...Qr.nb},ki={...Hs,...zr.nn,...Jr.nn,...Vr.nn,...fs.nn,...Hr.nn,...Br.nn,...$r.nn,...Qr.nn},wi=new Un({defaultOptions:{queries:{retry:3}}}),Ai={nb:Ti,nn:ki};Bs.locale(zt("decorator-language"));const Qt=()=>{const[t,e]=P.useState(zt("decorator-language"));return ar.setAvailableLanguages([{locale:"nb",handleInApp:!0},{locale:"nn",handleInApp:!0}]),ar.onLanguageSelect(r=>{e(r.locale),document.documentElement.setAttribute("lang",r.locale)}),m.jsx(qs,{locale:t,messagesGroupedByLocale:Ai,children:m.jsxs(Us,{appName:"svangerskapspengesoknad",retryCallback:ms,children:[m.jsx(Gs,{}),m.jsxs(Bn,{client:wi,children:[m.jsx(si,{}),m.jsx(Ks,{locale:t==="nb"?Qs:$s,children:m.jsx(vs,{})})]})]})})};Qt.__docgenInfo={description:"",methods:[],displayName:"AppContainer"};const Ze={søker:{fnr:"30088930610",fornavn:"ERLINGA-MASK",etternavn:"ORAVAKANGAS",kjønn:"K",fødselsdato:"1989-08-30",barn:[],bankkonto:{kontonummer:"10824223373",banknavn:"Din Bank"}},arbeidsforhold:[{arbeidsgiverId:"975326209",arbeidsgiverIdType:"orgnr",arbeidsgiverNavn:"SYKEHUSET I VESTFOLD",stillingsprosent:32.63,fom:"2014-05-22",tom:"2019-05-31"},{arbeidsgiverId:"975326209",arbeidsgiverIdType:"orgnr",arbeidsgiverNavn:"SYKEHUSET I VESTFOLD",stillingsprosent:0,fom:"2018-04-09",tom:"2018-09-09"},{arbeidsgiverId:"975326209",arbeidsgiverIdType:"orgnr",arbeidsgiverNavn:"SYKEHUSET I VESTFOLD",stillingsprosent:80,fom:"2018-06-25",tom:"2018-08-05"},{arbeidsgiverId:"975326209",arbeidsgiverIdType:"orgnr",arbeidsgiverNavn:"SYKEHUSET I VESTFOLD",stillingsprosent:85.09,fom:"2019-06-01"},{arbeidsgiverId:"990322244",arbeidsgiverIdType:"orgnr",arbeidsgiverNavn:"OMSORGSPARTNER VESTFOLD",stillingsprosent:100,fom:"2017-04-05"},{arbeidsgiverId:"995090910",arbeidsgiverIdType:"orgnr",arbeidsgiverNavn:"RE KOMMUNE",stillingsprosent:0,fom:"2018-06-01"}]},Ii={mottattDato:"2019-02-19T13:40:45.115",referanseId:"3959c880-83d2-4f01-b107-035fa7693758",leveranseStatus:"PÅ_VENT",journalId:"439772941"},St=[le.post(".//rest/soknad/svangerskapspenger",()=>ce.json(Ii)),le.post(".//rest/storage/svangerskapspenger/vedlegg",()=>new ce(null,{status:200})),le.post(".//rest/storage/svangerskapspenger",()=>new ce(null,{status:200})),le.get(".//rest/storage/svangerskapspenger",()=>new ce(null,{status:200})),le.delete(".//rest/storage/svangerskapspenger",()=>new ce(null,{status:200}))],Sa={component:Qt,render:()=>m.jsx(sn,{children:m.jsx(Qt,{})})},dt={parameters:{msw:{handlers:St.concat([le.get(".//rest/sokerinfo",()=>ce.json(Ze))])}}},ht={parameters:{msw:{handlers:St.concat([le.get(".//rest/sokerinfo",()=>ce.json({...Ze,arbeidsforhold:[]}))])}}},ft={parameters:{msw:{handlers:St.concat([le.get(".//rest/sokerinfo",()=>ce.json({...Ze,søker:{...Ze.søker,kjønn:"M"}}))])}}},pt={parameters:{msw:{handlers:St.concat([le.get(".//rest/sokerinfo",()=>ce.json({...Ze,søker:{...Ze.søker,kjønn:"K",fødselsdato:"2023-08-30"}}))])}}};var Cr,Or,jr;dt.parameters={...dt.parameters,docs:{...(Cr=dt.parameters)==null?void 0:Cr.docs,source:{originalSource:`{
  parameters: {
    msw: {
      handlers: HANDLERS.concat([http.get(\`\${import.meta.env.BASE_URL}/rest/sokerinfo\`, () => HttpResponse.json(defaultSøkerinfo))])
    }
  }
}`,...(jr=(Or=dt.parameters)==null?void 0:Or.docs)==null?void 0:jr.source}}};var Fr,Lr,Dr;ht.parameters={...ht.parameters,docs:{...(Fr=ht.parameters)==null?void 0:Fr.docs,source:{originalSource:`{
  parameters: {
    msw: {
      handlers: HANDLERS.concat([http.get(\`\${import.meta.env.BASE_URL}/rest/sokerinfo\`, () => HttpResponse.json({
        ...defaultSøkerinfo,
        arbeidsforhold: []
      }))])
    }
  }
}`,...(Dr=(Lr=ht.parameters)==null?void 0:Lr.docs)==null?void 0:Dr.source}}};var _r,Mr,xr;ft.parameters={...ft.parameters,docs:{...(_r=ft.parameters)==null?void 0:_r.docs,source:{originalSource:`{
  parameters: {
    msw: {
      handlers: HANDLERS.concat([http.get(\`\${import.meta.env.BASE_URL}/rest/sokerinfo\`, () => HttpResponse.json({
        ...defaultSøkerinfo,
        søker: {
          ...defaultSøkerinfo.søker,
          kjønn: 'M'
        }
      }))])
    }
  }
}`,...(xr=(Mr=ft.parameters)==null?void 0:Mr.docs)==null?void 0:xr.source}}};var qr,Ur,Gr;pt.parameters={...pt.parameters,docs:{...(qr=pt.parameters)==null?void 0:qr.docs,source:{originalSource:`{
  parameters: {
    msw: {
      handlers: HANDLERS.concat([http.get(\`\${import.meta.env.BASE_URL}/rest/sokerinfo\`, () => HttpResponse.json({
        ...defaultSøkerinfo,
        søker: {
          ...defaultSøkerinfo.søker,
          kjønn: 'K',
          fødselsdato: '2023-08-30'
        }
      }))])
    }
  }
}`,...(Gr=(Ur=pt.parameters)==null?void 0:Ur.docs)==null?void 0:Gr.source}}};const Ta=["VisAppKvinneMedArbeid","VisAppKvinneUtenArbeid","VisAppMann","VisAppUmyndig"];export{dt as VisAppKvinneMedArbeid,ht as VisAppKvinneUtenArbeid,ft as VisAppMann,pt as VisAppUmyndig,Ta as __namedExportsOrder,Sa as default};
