import{u as j,j as t}from"./index-f7e8eec7.js";import{u as k,F as M,E as y,D as G,R as O,a as c,S as L}from"./ErrorSummaryHookForm-b3689071.js";import{V,D as J,c as C}from"./VStack-1b7d0c8f.js";import{u as d,C as s,b as m,c as K,a as l}from"./routes-999d7714.js";import"./index-f1f2c4b1.js";import{u as B,a as q,n as f,i as S,b as H,c as P,s as F,g as U}from"./useSvpNavigator-7f6afa8c.js";import{e as Y}from"./EgenNæring-1a3aa973.js";import{f as w}from"./Frilans-f45bffb0.js";import{g as z}from"./velgArbeidFormUtils-95eaeee3.js";import{F as b}from"./Button-07c65ca4.js";const Q=(a,o,r)=>{const e=U(o,a);if(F(a,e,r.harJobbetSomFrilans,r.harJobbetSomSelvstendigNæringsdrivende))if(e.length===0){const n=r.harJobbetSomFrilans?w:Y;return{nextRoute:l.SKJEMA,nextTilretteleggingId:n}}else return{nextRoute:l.SKJEMA,nextTilretteleggingId:e[0].arbeidsgiverId};return{nextRoute:l.VELG_ARBEID}},W=(a,o,r)=>{const e=a.harHattArbeidIUtlandet?l.ARBEID_I_UTLANDET:void 0,i=a.harJobbetSomSelvstendigNæringsdrivende?l.NÆRING:e;return i?{nextRoute:i}:Q(o,r,a)},v=({mellomlagreSøknadOgNaviger:a,avbrytSøknad:o,arbeidsforhold:r})=>{const e=j(),i=B(r),n=q(a,r),E=d(s.FRILANS),g=f(d(s.INNTEKTSINFORMASJON)),T=d(s.TILRETTELEGGINGER),u=f(d(s.OM_BARNET)),A=m(s.FRILANS),x=m(s.TILRETTELEGGINGER),I=m(s.VALGT_TILRETTELEGGING_ID),N=k({defaultValues:E}),R=p=>{if(A(p),F(u.termindato,r,g.harJobbetSomFrilans,g.harJobbetSomSelvstendigNæringsdrivende)){const _=[z(T||[],p.oppstart)];x(_)}const{nextRoute:h,nextTilretteleggingId:D}=W(g,u.termindato,r);return I(D),n.goToNextStep(h)};return t.jsx(K,{bannerTitle:e.formatMessage({id:"søknad.pageheading"}),onCancel:o,steps:i,onContinueLater:n.fortsettSøknadSenere,children:t.jsx(M,{formMethods:N,onSubmit:R,children:t.jsxs(V,{gap:"10",children:[t.jsx(y,{}),t.jsx(G,{name:"oppstart",label:e.formatMessage({id:"frilans.oppstart"}),validate:[S(e.formatMessage({id:"valideringsfeil.fraOgMedDato.påkrevd"})),H(e.formatMessage({id:"valideringsfeil.fraOgMedDato.gyldigDato"})),P(e.formatMessage({id:"valideringsfeil.fraOgMedDato.erIFremtiden"}))],maxDate:J,minDate:C}),t.jsxs(O,{name:"jobberFremdelesSomFrilans",label:e.formatMessage({id:"frilans.jobberFremdelesSomFrilans"}),validate:[S(e.formatMessage({id:"valideringsfeil.jobberFremdelesSomFrilans.påkrevd"}))],children:[t.jsx(c,{value:!0,children:t.jsx(b,{id:"frilans.jobberFremdelesSomFrilans.ja"})}),t.jsx(c,{value:!1,children:t.jsx(b,{id:"frilans.jobberFremdelesSomFrilans.nei"})})]}),t.jsx(L,{goToPreviousStep:n.goToPreviousDefaultStep})]})})})};try{v.displayName="FrilansStep",v.__docgenInfo={description:"",displayName:"FrilansStep",props:{mellomlagreSøknadOgNaviger:{defaultValue:null,description:"",name:"mellomlagreSøknadOgNaviger",required:!0,type:{name:"() => Promise<void>"}},avbrytSøknad:{defaultValue:null,description:"",name:"avbrytSøknad",required:!0,type:{name:"() => Promise<void>"}},arbeidsforhold:{defaultValue:null,description:"",name:"arbeidsforhold",required:!0,type:{name:"Arbeidsforhold[]"}}}}}catch{}export{v as F};
