import{u as R,j as e,F as n,B as c,a as _}from"./Modal-046e2c19.js";import{S as A,R as b,a as v,d as s,b as w}from"./dates-c2c0c09e.js";import{r as V}from"./index-f1f2c4b1.js";import"./_baseToString-375081cd.js";import"./_createSet-53ab95fd.js";import{u as C,F as E,R as N,D as h}from"./ErrorSummaryHookForm-c67fe3a7.js";import{u as L,i as o,a as m,b as P,c as q,h as G,n as S,e as f,d as H,f as U}from"./useFortsettSøknadSenere-f7e44c56.js";import{u as W,C as l,a as x,b as Y}from"./routes-33249ab0.js";import{V as z}from"./VStack-976bfc58.js";const J=(r,t)=>r&&t&&m(t)?f(new Date(t)):f(new Date),K=(r,t)=>i=>{if(s(i).isSameOrAfter(S(new Date),"day"))return r.formatMessage({id:"valideringsfeil.barnet.termindato.forLangtFremITid"});if(s(i).isBefore(f(new Date),"day")&&!t)return r.formatMessage({id:"valideringsfeil.barnet.termindato.vennligstOppgiBarnetsFødselsDato"});if(s(i).isBefore(H(new Date),"day"))return r.formatMessage({id:"valideringsfeil.barnet.termindato.forLangtTilbakeITid"});if(t&&!s(i).subtract(6,"months").isSameOrBefore(s(t),"day"))return r.formatMessage({id:"valideringsfeil.barnet.termindato.6mndEtterFødsel"});if(t&&!s(i).add(1,"months").isSameOrAfter(s(t),"day"))return r.formatMessage({id:"valideringsfeil.barnet.termindato.1mndFørFødsel"})},M=({mellomlagreSøknadOgNaviger:r,avbrytSøknad:t,arbeidsforhold:i})=>{const a=R(),F=L(a,i),[g,j]=V.useState(!1),D=U(),B=W(l.OM_BARNET),y=x(l.OM_BARNET),T=x(l.APP_ROUTE),k=I=>(j(!0),y(I),T(Y.UTENLANDSOPPHOLD),r()),d=C({defaultValues:B}),u=d.watch("erBarnetFødt"),p=d.watch("fødselsdato"),O=J(u,p);return e.jsx(A,{bannerTitle:a.formatMessage({id:"søknad.pageheading"}),activeStepId:"barnet",pageTitle:a.formatMessage({id:"steps.label.barnet"}),onCancel:t,steps:F,onContinueLater:D,children:e.jsx(E,{formMethods:d,onSubmit:k,children:e.jsxs(z,{gap:"10",children:[e.jsxs("div",{children:[e.jsxs(N,{name:"erBarnetFødt",label:a.formatMessage({id:"barnet.erBarnetFødt"}),validate:[o(a.formatMessage({id:"valideringsfeil.barnet.erBarnetFødt.påkrevd"}))],children:[e.jsx(b,{value:!0,children:e.jsx(n,{id:"ja"})}),e.jsx(b,{value:!1,children:e.jsx(n,{id:"nei"})})]}),e.jsx(v,{header:a.formatMessage({id:"barnet.erBarnetFødt.merInfo.tittel"}),children:e.jsx(c,{children:e.jsx(n,{id:"barnet.erBarnetFødt.merInfo.tekst"})})})]}),u&&e.jsx(h,{name:"fødselsdato",label:a.formatMessage({id:"barnet.fødselsdato"}),validate:[o(a.formatMessage({id:"valideringsfeil.barnet.fødselsdato.duMåOppgi"})),m(a.formatMessage({id:"valideringsfeil.barnet.fødselsdato.ugyldigDatoFormat"})),P(a.formatMessage({id:"valideringsfeil.barnet.fødselsdato.måVæreIdagEllerTidligere"})),q(a.formatMessage({id:"valideringsfeil.barnet.termindato.forLangtTilbakeITid"}))],minDate:G(new Date),maxDate:s().toDate()}),e.jsxs("div",{children:[e.jsx(h,{name:"termindato",label:a.formatMessage({id:"barnet.termindato"}),minDate:O,maxDate:S(new Date),validate:[o(a.formatMessage({id:"valideringsfeil.barnet.termindato.duMåOppgi"})),m(a.formatMessage({id:"valideringsfeil.barnet.termindato.ugyldigDatoFormat"})),K(a,p)]}),e.jsx(v,{header:a.formatMessage({id:"barnet.termindato.merInfo.tittel"}),children:e.jsx(c,{children:e.jsx(n,{id:"barnet.termindato.merInfo.tekst"})})})]}),e.jsx(w,{children:e.jsx(_,{type:"submit",disabled:g,loading:g,children:e.jsx(n,{id:"søknad.gåVidere"})})})]})})})};try{M.displayName="Barnet",M.__docgenInfo={description:"",displayName:"Barnet",props:{mellomlagreSøknadOgNaviger:{defaultValue:null,description:"",name:"mellomlagreSøknadOgNaviger",required:!0,type:{name:"() => Promise<void>"}},avbrytSøknad:{defaultValue:null,description:"",name:"avbrytSøknad",required:!0,type:{name:"() => Promise<void>"}},arbeidsforhold:{defaultValue:null,description:"",name:"arbeidsforhold",required:!0,type:{name:"Arbeidsforhold[]"}}}}}catch{}export{M as B};
