import{j as e}from"./tslib.es6-C_-gbNBy.js";import{u as k,c as y,V as I,M as d,d as p,h as O,e as n,n as c,f as g,g as C,j as R}from"./ByttBrowserModal-iiEVx-55.js";import{u as w,F as _,E,R as A,a as b,D as x,S as N}from"./ErrorSummaryHookForm-DTQrR26r.js";import"./index-CTjT7uj6.js";import{i as f,a as M,b as V,c as L,d as H,e as v}from"./dateFormValidation-BKcBHHfi.js";import{u as G,C as h,b as P}from"./routes-BKH065He.js";import{u as q,a as z}from"./useSvpNavigator-Bmm3IUMq.js";import{R as D}from"./ReadMore-Buh9l1h-.js";const U=(r,t)=>r&&t&&R(t)?g(t):g(new Date),Y=(r,t)=>s=>t&&!n(s).subtract(6,"months").isSameOrBefore(n(t),"day")?r.formatMessage({id:"valideringsfeil.barnet.termindato.6mndEtterFødsel"}):t&&!n(s).add(1,"months").isSameOrAfter(n(t),"day")?r.formatMessage({id:"valideringsfeil.barnet.termindato.1mndFørFødsel"}):null,$=({mellomlagreSøknadOgNaviger:r,avbrytSøknad:t,arbeidsforhold:s})=>{const a=k(),j=q(s),o=z(r,s),S=G(h.OM_BARNET),F=P(h.OM_BARNET),T=l=>(F(l),o.goToNextDefaultStep()),i=w({shouldUnregister:!0,defaultValues:S}),u=i.watch("erBarnetFødt"),m=i.watch("fødselsdato"),B=U(u,m);return e.jsx(y,{bannerTitle:a.formatMessage({id:"søknad.pageheading"}),onCancel:t,steps:j,onContinueLater:o.fortsettSøknadSenere,onStepChange:o.goToNextStep,children:e.jsx(_,{formMethods:i,onSubmit:T,children:e.jsxs(I,{gap:"10",children:[e.jsx(E,{}),e.jsxs("div",{children:[e.jsxs(A,{name:"erBarnetFødt",label:a.formatMessage({id:"barnet.erBarnetFødt"}),validate:[f(a.formatMessage({id:"valideringsfeil.barnet.erBarnetFødt.påkrevd"}))],children:[e.jsx(b,{value:!0,children:e.jsx(d,{id:"ja"})}),e.jsx(b,{value:!1,children:e.jsx(d,{id:"nei"})})]}),e.jsx(D,{header:a.formatMessage({id:"barnet.erBarnetFødt.merInfo.tittel"}),children:e.jsx(p,{children:e.jsx(d,{id:"barnet.erBarnetFødt.merInfo.tekst"})})})]}),u&&e.jsx(x,{name:"fødselsdato",label:a.formatMessage({id:"barnet.fødselsdato"}),validate:[f(a.formatMessage({id:"valideringsfeil.barnet.fødselsdato.duMåOppgi"})),M(a.formatMessage({id:"valideringsfeil.barnet.fødselsdato.ugyldigDatoFormat"})),V(a.formatMessage({id:"valideringsfeil.barnet.fødselsdato.måVæreIdagEllerTidligere"})),L(a.formatMessage({id:"valideringsfeil.barnet.termindato.forLangtTilbakeITid"}))],minDate:O(new Date),maxDate:n().toDate(),onChange:()=>i.formState.isSubmitted&&i.trigger()}),e.jsxs("div",{children:[e.jsx(x,{name:"termindato",label:a.formatMessage({id:"barnet.termindato"}),minDate:B,maxDate:c(new Date),validate:[f(a.formatMessage({id:"valideringsfeil.barnet.termindato.duMåOppgi"})),M(a.formatMessage({id:"valideringsfeil.barnet.termindato.ugyldigDatoFormat"})),H(a.formatMessage({id:"valideringsfeil.barnet.termindato.forLangtFremITid"}),c(new Date)),l=>m?null:v(a.formatMessage({id:"valideringsfeil.barnet.termindato.vennligstOppgiBarnetsFødselsDato"}),g(new Date))(l),v(a.formatMessage({id:"valideringsfeil.barnet.termindato.forLangtTilbakeITid"}),C(new Date)),Y(a,m)]}),e.jsx(D,{header:a.formatMessage({id:"barnet.termindato.merInfo.tittel"}),children:e.jsx(p,{children:e.jsx(d,{id:"barnet.termindato.merInfo.tekst"})})})]}),e.jsx(N,{goToPreviousStep:o.goToPreviousDefaultStep})]})})})};$.__docgenInfo={description:"",methods:[],displayName:"Barnet"};export{$ as B};
