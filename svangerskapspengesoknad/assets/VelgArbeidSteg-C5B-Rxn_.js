import{j as e}from"./index-DDg3ir62.js";import{u as g,C as o,b as M,a as O}from"./routes-BC9Z9msW.js";import{A as m,F as N,i as D,u as L,a as V}from"./useSvpNavigator-DXhEL9vs.js";import{u as _}from"./useTilretteleggingerHelper-CuYgMqf3.js";import{u as P,R as C,E as q,i as w,S as H}from"./ErrorSummaryHookForm-BxqtRDT2.js";import{G as B,o as v,M as c,u as J,b as K,V as z}from"./VeiviserPage-DTDXQ2bF.js";import"./index-CR__hKHy.js";import{l as U,E as W,n as y,i as Q}from"./minMax-Y6gCI2nf.js";import{l as X}from"./amplitude-DFYcRhpr.js";import{C as Y}from"./Checkbox-O3mlsi-x.js";const A=()=>(X({origin:"svangerskapspengesoknad",eventName:"besøk",eventData:{tittel:"umyndig"}}),e.jsxs(B,{children:[e.jsx(v,{children:e.jsx(c,{id:"velgArbeid.guidepanel.tekst"})}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(v,{children:e.jsx(c,{id:"velgArbeid.guidepanel.liste.del1"})})}),e.jsx("li",{children:e.jsx(v,{children:e.jsx(c,{id:"velgArbeid.guidepanel.liste.del2"})})})]})]}));A.__docgenInfo={description:"",methods:[],displayName:"FlereArbeidsforholdGuidePanel"};const Z=(t,s,i)=>t===m.SELVSTENDIG&&(!i||i.trim().length===0)?s.formatMessage({id:"egenNæring"}):U(i),$=t=>({id:W,arbeidsforholdType:m.SELVSTENDIG,arbeidsforholdNavn:t.navnPåNæringen}),ee=()=>({id:N,arbeidsforholdType:m.FRILANSER,arbeidsforholdNavn:N}),re=(t,s,i)=>D(t,s).map(r=>({id:r.id,arbeidsforholdType:r.arbeidsgiverIdType==="orgnr"?m.VIRKSOMHET:m.PRIVAT,arbeidsforholdNavn:r.arbeidsgiverIdType==="orgnr"||r.arbeidsgiverNavn?r.arbeidsgiverNavn:i.formatMessage({id:"privat.arbeidsgiver"})})),ie=(t,s,i,r,u,n)=>{const p=re(s,i,r),d=t.harJobbetSomSelvstendigNæringsdrivende&&n?[$(n)]:[],b=t.harJobbetSomFrilans&&u?[ee()]:[];return[...p,...d,...b]},te=({mellomlagreSøknadOgNaviger:t,avbrytSøknad:s,arbeidsforhold:i})=>{const r=J(),u=L(i),n=V(t,i),{fjernTilrettelegginger:p}=_(),d=g(o.VALGTE_ARBEIDSFORHOLD),b=g(o.TILRETTELEGGINGER),I=y(g(o.ARBEIDSFORHOLD_OG_INNTEKT)),E=g(o.FRILANS),x=g(o.EGEN_NÆRING),k=y(g(o.OM_BARNET)),R=M(o.VALGTE_ARBEIDSFORHOLD),f=ie(I,i,k.termindato,r,E,x),j=a=>{const S=f.filter(l=>a.arbeidMedTilrettelegging.includes(l.id)).map(l=>l.id);if(R(S),d&&b){const l=d.filter(G=>!a.arbeidMedTilrettelegging.includes(G));p(l)}return n.goToStep(O.SKJEMA+"/"+S[0])},h=P({defaultValues:d?{arbeidMedTilrettelegging:d}:void 0}),T=h.watch("arbeidMedTilrettelegging"),F=T&&T.length>1;return e.jsx(K,{bannerTitle:r.formatMessage({id:"søknad.pageheading"}),onCancel:s,steps:u,onContinueLater:n.fortsettSøknadSenere,onStepChange:n.goToStep,children:e.jsx(C,{formMethods:h,onSubmit:j,children:e.jsxs(z,{gap:"10",children:[e.jsx(q,{}),e.jsx(w,{name:"arbeidMedTilrettelegging",label:r.formatMessage({id:"velgArbeid.hvor"}),validate:[Q(r.formatMessage({id:"valideringsfeil.tilrettelegging.påkrevd"}))],children:f.map(a=>e.jsx(Y,{value:a.id,children:Z(a.arbeidsforholdType,r,a.arbeidsforholdNavn)},a.id))}),F&&e.jsx(A,{}),e.jsx(H,{goToPreviousStep:n.goToPreviousDefaultStep})]})})})};te.__docgenInfo={description:"",methods:[],displayName:"VelgArbeidSteg",props:{mellomlagreSøknadOgNaviger:{required:!0,tsType:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},avbrytSøknad:{required:!0,tsType:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},arbeidsforhold:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverNavn: string;
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    fom: string;
    tom?: string;
    stillingsprosent: number;
}`,signature:{properties:[{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}},{key:"stillingsprosent",value:{name:"number",required:!0}}]}}],raw:"Arbeidsforhold[]"},description:""}}};export{te as V};
