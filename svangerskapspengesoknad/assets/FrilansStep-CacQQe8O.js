import{j as t}from"./tslib.es6-D_L490Ab.js";import{u as M,F as j,E as G,D as _,R as k,a as f,S as L}from"./ErrorSummaryHookForm-CyvSHmHB.js";import{u as O,M as S}from"./Button-B1PUoZR5.js";import{V as J,D as C,c as K}from"./Uttaksdagen-BvdO4nAB.js";import"./index-CTjT7uj6.js";import{S as V}from"./CalendarLabel-NM4S6BVz.js";import{u as y,a as B,n as b,s as E,g as H}from"./useSvpNavigator-Bi3xcxec.js";import{i as c,a as P,b as U}from"./dateFormValidation-CZBy-b6N.js";import{u as d,C as s,b as m,a as l}from"./routes-DqIFKQUo.js";import{e as Y}from"./EgenNæring-DdBVG6ty.js";import{f as q}from"./Frilans-B_RcwIAw.js";import{g as z}from"./velgArbeidFormUtils-g8QkUK7l.js";const w=(a,o,r)=>{const e=H(o,a);if(E(a,e,r.harJobbetSomFrilans,r.harJobbetSomSelvstendigNæringsdrivende))if(e.length===0){const n=r.harJobbetSomFrilans?q:Y;return{nextRoute:l.SKJEMA,nextTilretteleggingId:n}}else return{nextRoute:l.SKJEMA,nextTilretteleggingId:e[0].arbeidsgiverId};return{nextRoute:l.VELG_ARBEID}},Q=(a,o,r)=>{const e=a.harHattArbeidIUtlandet?l.ARBEID_I_UTLANDET:void 0,i=a.harJobbetSomSelvstendigNæringsdrivende?l.NÆRING:e;return i?{nextRoute:i}:w(o,r,a)},W=({mellomlagreSøknadOgNaviger:a,avbrytSøknad:o,arbeidsforhold:r})=>{const e=O(),i=y(r),n=B(a,r),T=d(s.FRILANS),g=b(d(s.INNTEKTSINFORMASJON)),v=d(s.TILRETTELEGGINGER),p=b(d(s.OM_BARNET)),x=m(s.FRILANS),A=m(s.TILRETTELEGGINGER),F=m(s.VALGT_TILRETTELEGGING_ID),I=M({defaultValues:T}),R=u=>{if(x(u),E(p.termindato,r,g.harJobbetSomFrilans,g.harJobbetSomSelvstendigNæringsdrivende)){const h=[z(v||[],u.oppstart)];A(h)}const{nextRoute:N,nextTilretteleggingId:D}=Q(g,p.termindato,r);return F(D),n.goToNextStep(N)};return t.jsx(V,{bannerTitle:e.formatMessage({id:"søknad.pageheading"}),onCancel:o,steps:i,onContinueLater:n.fortsettSøknadSenere,children:t.jsx(j,{formMethods:I,onSubmit:R,children:t.jsxs(J,{gap:"10",children:[t.jsx(G,{}),t.jsx(_,{name:"oppstart",label:e.formatMessage({id:"frilans.oppstart"}),validate:[c(e.formatMessage({id:"valideringsfeil.fraOgMedDato.påkrevd"})),P(e.formatMessage({id:"valideringsfeil.fraOgMedDato.gyldigDato"})),U(e.formatMessage({id:"valideringsfeil.fraOgMedDato.erIFremtiden"}))],maxDate:C,minDate:K}),t.jsxs(k,{name:"jobberFremdelesSomFrilans",label:e.formatMessage({id:"frilans.jobberFremdelesSomFrilans"}),validate:[c(e.formatMessage({id:"valideringsfeil.jobberFremdelesSomFrilans.påkrevd"}))],children:[t.jsx(f,{value:!0,children:t.jsx(S,{id:"frilans.jobberFremdelesSomFrilans.ja"})}),t.jsx(f,{value:!1,children:t.jsx(S,{id:"frilans.jobberFremdelesSomFrilans.nei"})})]}),t.jsx(L,{goToPreviousStep:n.goToPreviousDefaultStep})]})})})};W.__docgenInfo={description:"",methods:[],displayName:"FrilansStep"};export{W as F};
