import{j as t}from"./tslib.es6-C_-gbNBy.js";import{u as M,F as j,E as G,D as _,R as k,a as S,S as L}from"./ErrorSummaryHookForm-CW2jdrtX.js";import{u as O,c as C,V as J,D as K,k as V,M as f}from"./ByttBrowserModal-DBe_H0Dd.js";import"./index-CTjT7uj6.js";import{u as y,a as B,n as b,s as E,g as H}from"./useSvpNavigator-B0jGCtvG.js";import{i as c,a as P,b as U}from"./dateFormValidation-DqgzgaF8.js";import{u as d,C as s,b as m,a as l}from"./routes-BKH065He.js";import{e as Y}from"./EgenNæring-DdBVG6ty.js";import{f as q}from"./Frilans-B_RcwIAw.js";import{g as z}from"./velgArbeidFormUtils-XlIkFml9.js";const w=(a,i,r)=>{const e=H(i,a);if(E(a,e,r.harJobbetSomFrilans,r.harJobbetSomSelvstendigNæringsdrivende))if(e.length===0){const o=r.harJobbetSomFrilans?q:Y;return{nextRoute:l.SKJEMA,nextTilretteleggingId:o}}else return{nextRoute:l.SKJEMA,nextTilretteleggingId:e[0].arbeidsgiverId};return{nextRoute:l.VELG_ARBEID}},Q=(a,i,r)=>{const e=a.harHattArbeidIUtlandet?l.ARBEID_I_UTLANDET:void 0,n=a.harJobbetSomSelvstendigNæringsdrivende?l.NÆRING:e;return n?{nextRoute:n}:w(i,r,a)},W=({mellomlagreSøknadOgNaviger:a,avbrytSøknad:i,arbeidsforhold:r})=>{const e=O(),n=y(r),o=B(a,r),T=d(s.FRILANS),g=b(d(s.INNTEKTSINFORMASJON)),x=d(s.TILRETTELEGGINGER),p=b(d(s.OM_BARNET)),v=m(s.FRILANS),A=m(s.TILRETTELEGGINGER),F=m(s.VALGT_TILRETTELEGGING_ID),I=M({defaultValues:T}),R=u=>{if(v(u),E(p.termindato,r,g.harJobbetSomFrilans,g.harJobbetSomSelvstendigNæringsdrivende)){const D=[z(x||[],u.oppstart)];A(D)}const{nextRoute:N,nextTilretteleggingId:h}=Q(g,p.termindato,r);return F(h),o.goToNextStep(N)};return t.jsx(C,{bannerTitle:e.formatMessage({id:"søknad.pageheading"}),onCancel:i,steps:n,onContinueLater:o.fortsettSøknadSenere,onStepChange:o.goToNextStep,children:t.jsx(j,{formMethods:I,onSubmit:R,children:t.jsxs(J,{gap:"10",children:[t.jsx(G,{}),t.jsx(_,{name:"oppstart",label:e.formatMessage({id:"frilans.oppstart"}),validate:[c(e.formatMessage({id:"valideringsfeil.fraOgMedDato.påkrevd"})),P(e.formatMessage({id:"valideringsfeil.fraOgMedDato.gyldigDato"})),U(e.formatMessage({id:"valideringsfeil.fraOgMedDato.erIFremtiden"}))],maxDate:K,minDate:V}),t.jsxs(k,{name:"jobberFremdelesSomFrilans",label:e.formatMessage({id:"frilans.jobberFremdelesSomFrilans"}),validate:[c(e.formatMessage({id:"valideringsfeil.jobberFremdelesSomFrilans.påkrevd"}))],children:[t.jsx(S,{value:!0,children:t.jsx(f,{id:"frilans.jobberFremdelesSomFrilans.ja"})}),t.jsx(S,{value:!1,children:t.jsx(f,{id:"frilans.jobberFremdelesSomFrilans.nei"})})]}),t.jsx(L,{goToPreviousStep:o.goToPreviousDefaultStep})]})})})};W.__docgenInfo={description:"",methods:[],displayName:"FrilansStep"};export{W as F};
