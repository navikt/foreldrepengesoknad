import{j as e}from"./index-DDg3ir62.js";import{u as g,C as o,b as O,a as L}from"./routes-BC9Z9msW.js";import{A as m,F as y,i as D,u as V,a as _}from"./useSvpNavigator-DwGQ5pvG.js";import{u as P}from"./useTilretteleggingerHelper-CuYgMqf3.js";import{u as C,R as q,E as w,i as H,S as B}from"./ErrorSummaryHookForm-DsITp4mj.js";import{l as z,G as J,p as c,M as v,z as f,u as K,c as U,V as W}from"./RegisterdataUtdatert-DgKnUraw.js";import"./index-CR__hKHy.js";import{l as Q,E as X,n as A,i as Y}from"./minMax-2wYzmeS3.js";import{C as Z}from"./Checkbox-CV6Q_Byr.js";const I=()=>(z({origin:"svangerskapspengesoknad",eventName:"besøk",eventData:{tittel:"umyndig"}}),e.jsxs(J,{children:[e.jsx(c,{children:e.jsx(v,{id:"velgArbeid.guidepanel.tekst"})}),e.jsxs(f,{children:[e.jsx(f.Item,{children:e.jsx(c,{children:e.jsx(v,{id:"velgArbeid.guidepanel.liste.del1"})})}),e.jsx(f.Item,{children:e.jsx(c,{children:e.jsx(v,{id:"velgArbeid.guidepanel.liste.del2"})})})]})]}));I.__docgenInfo={description:"",methods:[],displayName:"FlereArbeidsforholdGuidePanel"};const $=(t,s,i)=>t===m.SELVSTENDIG&&(!i||i.trim().length===0)?s.formatMessage({id:"egenNæring"}):Q(i),ee=t=>({id:X,arbeidsforholdType:m.SELVSTENDIG,arbeidsforholdNavn:t.navnPåNæringen}),re=()=>({id:y,arbeidsforholdType:m.FRILANSER,arbeidsforholdNavn:y}),ie=(t,s,i)=>D(t,s).map(r=>({id:r.id,arbeidsforholdType:r.arbeidsgiverIdType==="orgnr"?m.VIRKSOMHET:m.PRIVAT,arbeidsforholdNavn:r.arbeidsgiverIdType==="orgnr"||r.arbeidsgiverNavn?r.arbeidsgiverNavn:i.formatMessage({id:"privat.arbeidsgiver"})})),te=(t,s,i,r,u,n)=>{const p=ie(s,i,r),d=t.harJobbetSomSelvstendigNæringsdrivende&&n?[ee(n)]:[],b=t.harJobbetSomFrilans&&u?[re()]:[];return[...p,...d,...b]},se=({mellomlagreSøknadOgNaviger:t,avbrytSøknad:s,arbeidsforhold:i})=>{const r=K(),u=V(i),n=_(t,i),{fjernTilrettelegginger:p}=P(),d=g(o.VALGTE_ARBEIDSFORHOLD),b=g(o.TILRETTELEGGINGER),E=A(g(o.ARBEIDSFORHOLD_OG_INNTEKT)),x=g(o.FRILANS),k=g(o.EGEN_NÆRING),R=A(g(o.OM_BARNET)),j=O(o.VALGTE_ARBEIDSFORHOLD),h=te(E,i,R.termindato,r,x,k),F=a=>{const N=h.filter(l=>a.arbeidMedTilrettelegging.includes(l.id)).map(l=>l.id);if(j(N),d&&b){const l=d.filter(M=>!a.arbeidMedTilrettelegging.includes(M));p(l)}return n.goToStep(L.SKJEMA+"/"+N[0])},T=C({defaultValues:d?{arbeidMedTilrettelegging:d}:void 0}),S=T.watch("arbeidMedTilrettelegging"),G=S&&S.length>1;return e.jsx(U,{bannerTitle:r.formatMessage({id:"søknad.pageheading"}),onCancel:s,steps:u,onContinueLater:n.fortsettSøknadSenere,onStepChange:n.goToStep,children:e.jsx(q,{formMethods:T,onSubmit:F,children:e.jsxs(W,{gap:"10",children:[e.jsx(w,{}),e.jsx(H,{name:"arbeidMedTilrettelegging",label:r.formatMessage({id:"velgArbeid.hvor"}),validate:[Y(r.formatMessage({id:"valideringsfeil.tilrettelegging.påkrevd"}))],children:h.map(a=>e.jsx(Z,{value:a.id,children:$(a.arbeidsforholdType,r,a.arbeidsforholdNavn)},a.id))}),G&&e.jsx(I,{}),e.jsx(B,{goToPreviousStep:n.goToPreviousDefaultStep})]})})})};se.__docgenInfo={description:"",methods:[],displayName:"VelgArbeidSteg",props:{mellomlagreSøknadOgNaviger:{required:!0,tsType:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},avbrytSøknad:{required:!0,tsType:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},arbeidsforhold:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    arbeidsgiverNavn: string;
    stillingsprosent: number;
    fom: string;
    tom?: string;
}`,signature:{properties:[{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"stillingsprosent",value:{name:"number",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}}]}}],raw:"Arbeidsforhold[]"},description:""}}};export{se as V};
