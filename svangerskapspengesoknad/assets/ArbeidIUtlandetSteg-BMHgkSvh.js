import{i as U,aa as E,ab as F,j as e,_ as j,a6 as c,ac as R,ad as w,ae as d,a7 as b,a1 as u,af as B,ag as L,ah as C,ai as q,aj as I,ak as P,H as f,al as h,am as H,an as y,ao as G,ap as M,aq as D,ar as V,as as $,at as z,au as J,e as A,av as K,Z as W,aw as X,ax as Y,ay as Z,az as Q}from"./iframe-DxgGwtn5.js";import{e as v,C as l,d as ee}from"./routes-aTfUpKZd.js";import{e as ae,f as te,h as re}from"./useSvpNavigator-CWWVJYYd.js";import{A as T}from"./ArbeidIUtlandet-BK3pFOD4.js";import{g as ie}from"./validationUtils-DxfIUmBb.js";const S={type:T.JOBB_I_UTLANDET,fom:"",tom:"",pågående:void 0,arbeidsgiverNavn:"",land:""},k=()=>{const a=U(),i=E(),{fields:n,append:g,remove:m}=F({name:"arbeidIUtlandet",control:i.control}),r=i.watch("arbeidIUtlandet"),o=a.formatMessage({id:"arbeidIUtlandet.navn"});return e.jsxs(e.Fragment,{children:[n.map((p,t)=>e.jsxs(j,{gap:"space-40",children:[e.jsxs(c,{justify:"space-between",children:[e.jsx(R,{name:`arbeidIUtlandet.${t}.land`,control:i.control,style:{width:"var(--app-text-input-width)"},label:a.formatMessage({id:"arbeidIUtlandet.land"}),validate:[d(a.formatMessage({id:"valideringsfeil.arbeidIUtlandetLand.påkrevd"}))],children:w().map(s=>e.jsx("option",{value:s[0],children:s[1]},s[0]))}),t!==0&&e.jsx(b,{icon:e.jsx(B,{"aria-hidden":!0}),type:"button",variant:"tertiary",onClick:()=>m(t),children:e.jsx(u,{id:"perioder.varierende.slett"})})]}),e.jsx(L,{name:`arbeidIUtlandet.${t}.arbeidsgiverNavn`,control:i.control,style:{width:"var(--app-text-input-width)"},label:o,validate:[d(a.formatMessage({id:"valideringsfeil.arbeidIUtlandetNavn.påkrevd"})),C(a.formatMessage({id:"valideringsfeil.arbeidIUtlandetNavn.forLang"}),100),q(s=>a.formatMessage({id:"valideringsfeil.fritekst.kanIkkeInneholdeTegn"},{feltNavn:o,ugyldigeTegn:s}))]}),e.jsx(I,{name:`arbeidIUtlandet.${t}.fom`,control:i.control,label:a.formatMessage({id:"arbeidIUtlandet.fom"}),validate:[d(a.formatMessage({id:"valideringsfeil.fraOgMedDato.påkrevd"})),h(a.formatMessage({id:"valideringsfeil.fraOgMedDato.gyldigDato"})),H(a.formatMessage({id:"valideringsfeil.fraOgMedDato.erIFremtiden"})),s=>r[t].tom?y(a.formatMessage({id:"valideringsfeil.fraOgMedDato.førTilDato"}),r[t].tom)(s):null],maxDate:f().toDate(),minDate:P}),e.jsxs(G,{name:`arbeidIUtlandet.${t}.pågående`,control:i.control,label:e.jsx(u,{id:"ArbeidIUtlandetFieldArray.næring.pågående"}),validate:[d(a.formatMessage({id:"valideringsfeil.arbeidIUtlandetPågående.påkrevd"}))],children:[e.jsx(M,{value:!0,children:"Ja"}),e.jsx(M,{value:!1,children:"Nei"})]}),r[t].pågående===!1&&e.jsx(I,{name:`arbeidIUtlandet.${t}.tom`,control:i.control,label:a.formatMessage({id:"arbeidIUtlandet.tom"}),description:a.formatMessage({id:"ArbeidIUtlandetFieldArray.arbeid.tom.description"}),validate:[d(a.formatMessage({id:"valideringsfeil.tilOgMedDato.påkrevd"})),h(a.formatMessage({id:"valideringsfeil.tilOgMedDato.gyldigDato"})),y(a.formatMessage({id:"valideringsfeil.tilOgMedDato.erIFremtiden"}),f().add(9,"month")),D(a.formatMessage({id:"valideringsfeil.tilOgMedDato.arbeidIUtlandet.merEnn5MånederSiden"}),V()),D(a.formatMessage({id:"valideringsfeil.tilOgMedDato.etterFraDato"}),r[t].fom)],maxDate:f().add(9,"month").toDate(),minDate:ie(r[t].fom,J)}),t<n.length-1&&e.jsx($,{})]},p.id)),e.jsx(c,{children:e.jsx(b,{icon:e.jsx(z,{"aria-hidden":!0}),type:"button",variant:"secondary",onClick:()=>g(S),children:e.jsx(u,{id:"arbeidIUtlandet.tittel.ny"})})})]})};k.__docgenInfo={description:"",methods:[],displayName:"ArbeidIUtlandetFieldArray"};const se=({mellomlagreSøknadOgNaviger:a,avbrytSøknad:i,arbeidsforhold:n})=>{const g=U(),m=ae(n),r=te(a,n),o=v(l.ARBEID_I_UTLANDET),p=A(v(l.OM_BARNET)),t=A(v(l.ARBEIDSFORHOLD_OG_INNTEKT)),s=ee(l.ARBEID_I_UTLANDET),x=O=>(s({arbeidIUtlandet:O.arbeidIUtlandet.map(N=>({...N,type:T.JOBB_I_UTLANDET}))}),r.goToStep(re(p.termindato,n,t))),_=K({shouldUnregister:!0,defaultValues:o||{arbeidIUtlandet:[S]}});return e.jsx(W,{pageTitle:g.formatMessage({id:"søknad.pageheading"}),children:e.jsx(X,{steps:m,onStepChange:r.goToStep,children:e.jsx(Y,{formMethods:_,onSubmit:x,children:e.jsxs(j,{gap:"space-40",children:[e.jsx(Z,{}),e.jsx(k,{}),e.jsx(Q,{onAvsluttOgSlett:i,onFortsettSenere:r.fortsettSøknadSenere,goToPreviousStep:r.goToPreviousDefaultStep})]})})})})};se.__docgenInfo={description:"",methods:[],displayName:"ArbeidIUtlandetSteg",props:{mellomlagreSøknadOgNaviger:{required:!0,tsType:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},avbrytSøknad:{required:!0,tsType:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},arbeidsforhold:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    arbeidsgiverNavn: string;
    stillingsprosent: number;
    fom: string;
    tom?: string;
}`,signature:{properties:[{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"stillingsprosent",value:{name:"number",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}}]}}],raw:"Arbeidsforhold[]"},description:""}}};export{se as A};
