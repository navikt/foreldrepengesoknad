import{m as M,j as e,a8 as G,bj as c,M as b,aG as _,aW as D,p as L,o as y,az as P,d as q,aA as V,aB as C,V as w,aC as B,bq as H,ai as z,br as J,aD as K}from"./iframe-Culqi94t.js";import{e as g,d as W,C as o,S as U}from"./routes-DyUskLZA.js";import{s as Q,F as A,e as X,f as Y}from"./useSvpNavigator-DHfCxIZE.js";import{u as Z}from"./useTilretteleggingerHelper-CkWO1Lqp.js";import{L as f}from"./List-9Sd_rlxM.js";const N=()=>(M({origin:"svangerskapspengesoknad",eventName:"besøk",eventData:{tittel:"umyndig"}}),e.jsxs(G,{children:[e.jsx(c,{children:e.jsx(b,{id:"velgArbeid.guidepanel.tekst"})}),e.jsxs(f,{children:[e.jsx(f.Item,{children:e.jsx(c,{children:e.jsx(b,{id:"velgArbeid.guidepanel.liste.del1"})})}),e.jsx(f.Item,{children:e.jsx(c,{children:e.jsx(b,{id:"velgArbeid.guidepanel.liste.del2"})})})]})]}));N.__docgenInfo={description:"",methods:[],displayName:"FlereArbeidsforholdGuidePanel"};const $=(t,s,i)=>t==="selvstendig"&&(!i||i.trim().length===0)?s.formatMessage({id:"egenNæring"}):D(i),ee=t=>({id:_,arbeidsforholdType:"selvstendig",arbeidsforholdNavn:t.navnPåNæringen}),re=()=>({id:A,arbeidsforholdType:"frilanser",arbeidsforholdNavn:A}),ie=(t,s,i)=>Q(t,s).map(r=>({id:r.id,arbeidsforholdType:r.arbeidsgiverIdType==="orgnr"?"virksomhet":"privat",arbeidsforholdNavn:r.arbeidsgiverIdType==="orgnr"||r.arbeidsgiverNavn?r.arbeidsgiverNavn:i.formatMessage({id:"privat.arbeidsgiver"})})),te=(t,s,i,r,m,n)=>{const u=ie(s,i,r),d=t.harJobbetSomSelvstendigNæringsdrivende&&n?[ee(n)]:[],p=t.harJobbetSomFrilans&&m?[re()]:[];return[...u,...d,...p]},se=({mellomlagreSøknadOgNaviger:t,avbrytSøknad:s,arbeidsforhold:i})=>{const r=L(),m=X(i),n=Y(t,i),{fjernTilrettelegginger:u}=Z(),d=g(o.VALGTE_ARBEIDSFORHOLD),p=g(o.TILRETTELEGGINGER),k=y(g(o.ARBEIDSFORHOLD_OG_INNTEKT)),x=g(o.FRILANS),I=g(o.EGEN_NÆRING),j=y(g(o.OM_BARNET)),E=W(o.VALGTE_ARBEIDSFORHOLD),h=te(k,i,j.termindato,r,x,I),R=a=>{const S=h.filter(l=>a.arbeidMedTilrettelegging.includes(l.id)).map(l=>l.id);if(E(S),d&&p){const l=d.filter(O=>!a.arbeidMedTilrettelegging.includes(O));u(l)}return n.goToStep(U.SKJEMA+"/"+S[0])},v=P({defaultValues:d?{arbeidMedTilrettelegging:d}:void 0}),T=v.watch("arbeidMedTilrettelegging"),F=T&&T.length>1;return e.jsx(q,{pageTitle:r.formatMessage({id:"søknad.pageheading"}),children:e.jsx(V,{steps:m,onStepChange:n.goToStep,children:e.jsx(C,{formMethods:v,onSubmit:R,children:e.jsxs(w,{gap:"space-40",children:[e.jsx(B,{}),e.jsx(H,{name:"arbeidMedTilrettelegging",control:v.control,label:r.formatMessage({id:"velgArbeid.hvor"}),validate:[z(r.formatMessage({id:"valideringsfeil.tilrettelegging.påkrevd"}))],children:h.map(a=>e.jsx(J,{value:a.id,children:$(a.arbeidsforholdType,r,a.arbeidsforholdNavn)},a.id))}),F&&e.jsx(N,{}),e.jsx(K,{goToPreviousStep:n.goToPreviousDefaultStep,onAvsluttOgSlett:s,onFortsettSenere:n.fortsettSøknadSenere})]})})})})};se.__docgenInfo={description:"",methods:[],displayName:"VelgArbeidSteg",props:{mellomlagreSøknadOgNaviger:{required:!0,tsType:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},avbrytSøknad:{required:!0,tsType:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},arbeidsforhold:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    arbeidsgiverNavn: string;
    from: string;
    stillingsprosent: number;
    to?: string;
}`,signature:{properties:[{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"from",value:{name:"string",required:!0}},{key:"stillingsprosent",value:{name:"number",required:!0}},{key:"to",value:{name:"string",required:!1}}]}}],raw:"EksternArbeidsforholdDto_fpoversikt[]"},description:""}}};export{se as V};
