import{j as e}from"./jsx-runtime-Cw0GR0a5.js";import{u as O,C as p,b as _}from"./routes-Cd7jN6RC.js";import{u as y,a as C}from"./useSvpNavigator-B3F_qXR5.js";import{u as R,c as I,V as w,M as d,d as c,e as b,h as A,f as i,n as h,g as f,j as E,k as V}from"./VeiviserPage-DFVY7kb3.js";import{u as L,R as N,E as P,a as H,b as v,c as S,S as G}from"./ErrorSummaryHookForm-BYm0lOzV.js";import"./index-CTjT7uj6.js";import{i as g,a as M,b as q,c as z,d as U,e as x}from"./minMax-BlSSLQ_O.js";import{R as j}from"./ReadMore-BTjxB3Iz.js";const Y=(r,t)=>r&&t&&V(t)?f(t):f(new Date),$=(r,t)=>s=>t&&!i(s).subtract(6,"months").isSameOrBefore(i(t),"day")?r.formatMessage({id:"valideringsfeil.barnet.termindato.6mndEtterFødsel"}):t&&!i(s).add(1,"months").isSameOrAfter(i(t),"day")?r.formatMessage({id:"valideringsfeil.barnet.termindato.1mndFørFødsel"}):null,J=({mellomlagreSøknadOgNaviger:r,avbrytSøknad:t,arbeidsforhold:s})=>{const a=R(),D=y(s),o=C(r,s),T=O(p.OM_BARNET),F=_(p.OM_BARNET),B=l=>(F(l),o.goToNextDefaultStep()),n=L({shouldUnregister:!0,defaultValues:T}),u=n.watch("erBarnetFødt"),m=n.watch("fødselsdato"),k=Y(u,m);return e.jsx(I,{bannerTitle:a.formatMessage({id:"søknad.pageheading"}),onCancel:t,steps:D,onContinueLater:o.fortsettSøknadSenere,onStepChange:o.goToStep,children:e.jsx(N,{formMethods:n,onSubmit:B,children:e.jsxs(w,{gap:"10",children:[e.jsx(P,{}),e.jsxs("div",{children:[e.jsxs(H,{name:"erBarnetFødt",label:a.formatMessage({id:"barnet.erBarnetFødt"}),validate:[g(a.formatMessage({id:"valideringsfeil.barnet.erBarnetFødt.påkrevd"}))],children:[e.jsx(v,{value:!0,children:e.jsx(d,{id:"ja"})}),e.jsx(v,{value:!1,children:e.jsx(d,{id:"nei"})})]}),e.jsx(j,{onOpenChange:c("Svangerskapspenger","SVP_tilbake_i_tid"),header:a.formatMessage({id:"barnet.erBarnetFødt.merInfo.tittel"}),children:e.jsx(b,{children:e.jsx(d,{id:"barnet.erBarnetFødt.merInfo.tekst"})})})]}),u&&e.jsx(S,{name:"fødselsdato",label:a.formatMessage({id:"barnet.fødselsdato"}),validate:[g(a.formatMessage({id:"valideringsfeil.barnet.fødselsdato.duMåOppgi"})),M(a.formatMessage({id:"valideringsfeil.barnet.fødselsdato.ugyldigDatoFormat"})),q(a.formatMessage({id:"valideringsfeil.barnet.fødselsdato.måVæreIdagEllerTidligere"})),z(a.formatMessage({id:"valideringsfeil.barnet.termindato.forLangtTilbakeITid"}))],minDate:A(new Date),maxDate:i().toDate(),onChange:()=>n.formState.isSubmitted&&n.trigger()}),e.jsxs("div",{children:[e.jsx(S,{name:"termindato",label:a.formatMessage({id:"barnet.termindato"}),minDate:k,maxDate:h(new Date),useStrategyAbsolute:!0,validate:[g(a.formatMessage({id:"valideringsfeil.barnet.termindato.duMåOppgi"})),M(a.formatMessage({id:"valideringsfeil.barnet.termindato.ugyldigDatoFormat"})),U(a.formatMessage({id:"valideringsfeil.barnet.termindato.forLangtFremITid"}),h(new Date)),l=>m?null:x(a.formatMessage({id:"valideringsfeil.barnet.termindato.vennligstOppgiBarnetsFødselsDato"}),f(new Date))(l),x(a.formatMessage({id:"valideringsfeil.barnet.termindato.forLangtTilbakeITid"}),E(new Date)),$(a,m)]}),e.jsx(j,{onOpenChange:c("Svangerskapspenger","SVP_tre_uker_før_termin"),header:a.formatMessage({id:"barnet.termindato.merInfo.tittel"}),children:e.jsx(b,{children:e.jsx(d,{id:"barnet.termindato.merInfo.tekst"})})})]}),e.jsx(G,{goToPreviousStep:o.goToPreviousDefaultStep})]})})})};J.__docgenInfo={description:"",methods:[],displayName:"BarnetSteg"};export{J as B};
