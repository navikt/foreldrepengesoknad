import{j as e}from"./jsx-runtime-Cw0GR0a5.js";import{u as l,C as n,b as O}from"./routes-B1fb87EI.js";import{A as p,F as N,d as D,u as L,a as V}from"./useSvpNavigator-yfJ1o2OX.js";import{u as _}from"./useTilretteleggingerHelper-D-6BeEDu.js";import{u as k,R as C,E as H,h as P,S as B}from"./ErrorSummaryHookForm-C03QHvL8.js";import{l as K,G as z,r as f,M as u,u as J,c as q,V as w}from"./VeiviserPage-DPeYfbGG.js";import"./index-CTjT7uj6.js";import{j as U,E as W,n as S,i as Q}from"./minMax-BeRBV8CB.js";import{C as X}from"./Checkbox-BLvctaFa.js";const A=()=>(K("sidevisning",{app:"svangerskapspengerny",team:"foreldrepenger",pageKey:"umyndig"}),e.jsxs(z,{children:[e.jsx(f,{children:e.jsx(u,{id:"velgArbeid.guidepanel.tekst"})}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(f,{children:e.jsx(u,{id:"velgArbeid.guidepanel.liste.del1"})})}),e.jsx("li",{children:e.jsx(f,{children:e.jsx(u,{id:"velgArbeid.guidepanel.liste.del2"})})})]})]}));A.__docgenInfo={description:"",methods:[],displayName:"FlereArbeidsforholdGuidePanel"};const Y=(t,s,i)=>t===p.SELVSTENDIG&&(!i||i.trim().length===0)?s.formatMessage({id:"egenNæring"}):U(i),Z=t=>({id:W,arbeidsforholdType:p.SELVSTENDIG,arbeidsforholdNavn:t.navnPåNæringen}),$=()=>({id:N,arbeidsforholdType:p.FRILANSER,arbeidsforholdNavn:N}),ee=(t,s,i)=>D(t,s).map(r=>({id:r.id,arbeidsforholdType:r.arbeidsgiverIdType==="orgnr"?p.VIRKSOMHET:p.PRIVAT,arbeidsforholdNavn:r.arbeidsgiverIdType==="orgnr"||r.arbeidsgiverNavn?r.arbeidsgiverNavn:i.formatMessage({id:"privat.arbeidsgiver"})})),re=(t,s,i,r,c,a)=>{const m=ee(s,i,r),d=t.harJobbetSomSelvstendigNæringsdrivende&&a?[Z(a)]:[],b=t.harJobbetSomFrilans&&c?[$()]:[];return[...m,...d,...b]},ie=({mellomlagreSøknadOgNaviger:t,avbrytSøknad:s,arbeidsforhold:i})=>{const r=J(),c=L(i),a=V(t,i),{fjernTilrettelegginger:m}=_(),d=l(n.VALGTE_ARBEIDSFORHOLD),b=l(n.TILRETTELEGGINGER),E=S(l(n.ARBEIDSFORHOLD_OG_INNTEKT)),x=l(n.FRILANS),I=l(n.EGEN_NÆRING),j=S(l(n.OM_BARNET)),R=O(n.VALGTE_ARBEIDSFORHOLD),h=re(E,i,j.termindato,r,x,I),y=o=>{const G=h.filter(g=>o.arbeidMedTilrettelegging.includes(g.id)).map(g=>g.id);if(R(G),d&&b){const g=d.filter(M=>!o.arbeidMedTilrettelegging.includes(M));m(g)}return a.goToNextDefaultStep()},v=k({defaultValues:d?{arbeidMedTilrettelegging:d}:void 0}),T=v.watch("arbeidMedTilrettelegging"),F=T&&T.length>1;return e.jsx(q,{bannerTitle:r.formatMessage({id:"søknad.pageheading"}),onCancel:s,steps:c,onContinueLater:a.fortsettSøknadSenere,children:e.jsx(C,{formMethods:v,onSubmit:y,children:e.jsxs(w,{gap:"10",children:[e.jsx(H,{}),e.jsx(P,{name:"arbeidMedTilrettelegging",label:r.formatMessage({id:"velgArbeid.hvor"}),validate:[Q(r.formatMessage({id:"valideringsfeil.tilrettelegging.påkrevd"}))],children:h.map(o=>e.jsx(X,{value:o.id,children:Y(o.arbeidsforholdType,r,o.arbeidsforholdNavn)},o.id))}),F&&e.jsx(A,{}),e.jsx(B,{goToPreviousStep:a.goToPreviousDefaultStep})]})})})};ie.__docgenInfo={description:"",methods:[],displayName:"VelgArbeid"};export{ie as V};
