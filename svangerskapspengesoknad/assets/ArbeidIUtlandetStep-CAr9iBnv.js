import{u as E,j as e,V as j,a as I,N as L,B as h,O as C,M as c,f as b,A as B,Q as G,R as V,K as H,T as K,c as w}from"./VeiviserPage-CfK1i7fg.js";import{u,C as l,b as M,a as v}from"./routes-pye24-Lp.js";import{u as J,a as P,g as $,s as q}from"./useSvpNavigator-DFSmD5hk.js";import{l as z,o as Q,p as W,i as g,q as X,r as Y,s as Z,c as A,d as D,e as ee,g as x,a as ae,b as S,t as T,n as U,u as te,R as re,E as ie,S as se}from"./minMax-CxCvVqoX.js";import{f as de,e as ne}from"./EgenNæring-BaE2fK_g.js";import"./index-CTjT7uj6.js";import"./FrilansPanel-BMhzv-o-.js";import{g as oe}from"./validationUtils-CTWBpqip.js";import{S as le}from"./Plus-D__Q220h.js";const _={fom:"",tom:"",pågående:void 0,arbeidsgiverNavn:"",land:""},N=()=>{const o=H("arbeidIUtlandet"),a=E(),r=z(),{fields:s,append:m,remove:d}=Q({name:"arbeidIUtlandet",control:r.control}),n=r.watch("arbeidIUtlandet"),f=a.formatMessage({id:"arbeidIUtlandet.navn"});return e.jsxs(e.Fragment,{children:[s.map((p,t)=>e.jsxs(j,{gap:"10",children:[e.jsxs(I,{justify:"space-between",children:[e.jsx(W,{name:`arbeidIUtlandet.${t}.land`,style:{width:"var(--app-text-input-width)"},label:a.formatMessage({id:"arbeidIUtlandet.land"}),validate:[g(a.formatMessage({id:"valideringsfeil.arbeidIUtlandetLand.påkrevd"}))],children:L().map(i=>e.jsx("option",{value:i[0],children:i[1]},i[0]))}),t!==0&&e.jsx(h,{className:o.element("delete"),icon:e.jsx(C,{"aria-hidden":!0}),type:"button",variant:"tertiary",onClick:()=>d(t),children:e.jsx(c,{id:"perioder.varierende.slett"})})]}),e.jsx(X,{name:`arbeidIUtlandet.${t}.arbeidsgiverNavn`,style:{width:"var(--app-text-input-width)"},label:f,validate:[g(a.formatMessage({id:"valideringsfeil.arbeidIUtlandetNavn.påkrevd"})),Y(a.formatMessage({id:"valideringsfeil.arbeidIUtlandetNavn.forLang"}),100),Z(i=>a.formatMessage({id:"valideringsfeil.fritekst.kanIkkeInneholdeTegn"},{feltNavn:f,ugyldigeTegn:i}))]}),e.jsx(A,{name:`arbeidIUtlandet.${t}.fom`,label:a.formatMessage({id:"arbeidIUtlandet.fom"}),validate:[g(a.formatMessage({id:"valideringsfeil.fraOgMedDato.påkrevd"})),D(a.formatMessage({id:"valideringsfeil.fraOgMedDato.gyldigDato"})),ee(a.formatMessage({id:"valideringsfeil.fraOgMedDato.erIFremtiden"})),i=>n[t].tom?x(a.formatMessage({id:"valideringsfeil.fraOgMedDato.førTilDato"}),n[t].tom)(i):null],maxDate:b().toDate(),minDate:B}),e.jsxs(ae,{name:`arbeidIUtlandet.${t}.pågående`,label:e.jsx(c,{id:"ArbeidIUtlandetFieldArray.næring.pågående"}),validate:[g(a.formatMessage({id:"valideringsfeil.arbeidIUtlandetPågående.påkrevd"}))],children:[e.jsx(S,{value:!0,children:"Ja"}),e.jsx(S,{value:!1,children:"Nei"})]}),n[t].pågående===!1&&e.jsx(A,{name:`arbeidIUtlandet.${t}.tom`,label:a.formatMessage({id:"arbeidIUtlandet.tom"}),description:a.formatMessage({id:"ArbeidIUtlandetFieldArray.arbeid.tom.description"}),validate:[g(a.formatMessage({id:"valideringsfeil.tilOgMedDato.påkrevd"})),D(a.formatMessage({id:"valideringsfeil.tilOgMedDato.gyldigDato"})),x(a.formatMessage({id:"valideringsfeil.tilOgMedDato.erIFremtiden"}),b().add(9,"month")),T(a.formatMessage({id:"valideringsfeil.tilOgMedDato.arbeidIUtlandet.merEnn5MånederSiden"}),G()),T(a.formatMessage({id:"valideringsfeil.tilOgMedDato.etterFraDato"}),n[t].fom)],maxDate:b().add(9,"month").toDate(),minDate:oe(n[t].fom,K)}),t<s.length-1&&e.jsx(V,{})]},p.id)),e.jsx(I,{children:e.jsx(h,{icon:e.jsx(le,{"aria-hidden":!0}),type:"button",variant:"secondary",onClick:()=>m(_),children:e.jsx(c,{id:"arbeidIUtlandet.tittel.ny"})})})]})};N.__docgenInfo={description:"",methods:[],displayName:"ArbeidIUtlandetFieldArray"};const ge=(o,a,r)=>{const s=$(a,o);if(q(o,s,r.harJobbetSomFrilans,r.harJobbetSomSelvstendigNæringsdrivende))if(s.length===0){const d=r.harJobbetSomFrilans?de:ne;return{nextRoute:v.SKJEMA,nextTilretteleggingId:d}}else return{nextRoute:v.SKJEMA,nextTilretteleggingId:s[0].arbeidsgiverId};return{nextRoute:v.VELG_ARBEID}},me=({mellomlagreSøknadOgNaviger:o,avbrytSøknad:a,arbeidsforhold:r})=>{const s=E(),m=J(r),d=P(o,r),n=u(l.ARBEID_I_UTLANDET),f=U(u(l.OM_BARNET)),p=U(u(l.ARBEIDSFORHOLD_OG_INNTEKT)),t=M(l.ARBEID_I_UTLANDET),i=M(l.VALGT_TILRETTELEGGING_ID),R=y=>{t(y);const{nextRoute:O,nextTilretteleggingId:F}=ge(f.termindato,r,p);return i(F),d.goToNextStep(O)},k=te({shouldUnregister:!0,defaultValues:n||{arbeidIUtlandet:[_]}});return e.jsx(w,{bannerTitle:s.formatMessage({id:"søknad.pageheading"}),onCancel:a,steps:m,onContinueLater:d.fortsettSøknadSenere,onStepChange:d.goToNextStep,children:e.jsx(re,{formMethods:k,onSubmit:R,children:e.jsxs(j,{gap:"10",children:[e.jsx(ie,{}),e.jsx(N,{}),e.jsx(se,{goToPreviousStep:d.goToPreviousDefaultStep})]})})})};me.__docgenInfo={description:"",methods:[],displayName:"ArbeidIUtlandetStep"};export{me as A};
