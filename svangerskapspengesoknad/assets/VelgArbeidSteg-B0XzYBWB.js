import{j as e}from"./jsx-runtime-Cw0GR0a5.js";import{u as l,C as a,b as O,a as L}from"./routes-B3RFaVmR.js";import{A as p,F as A,i as V,u as _,a as k}from"./useSvpNavigator-DKnyX4rK.js";import{u as D}from"./useTilretteleggingerHelper-B07pf_fk.js";import{u as C,R as H,E as P,i as B,S as K}from"./ErrorSummaryHookForm-COxLyZNO.js";import{l as J,G as z,r as f,M as u,u as q,c as w,V as U}from"./VeiviserPage-CLXcsmfi.js";import"./index-CTjT7uj6.js";import{l as W,E as Q,n as E,i as X}from"./minMax-Bz1hsF8W.js";import{C as Y}from"./Checkbox-BvQb64x5.js";const N=()=>(J("sidevisning",{app:"svangerskapspengerny",team:"foreldrepenger",pageKey:"umyndig"}),e.jsxs(z,{children:[e.jsx(f,{children:e.jsx(u,{id:"velgArbeid.guidepanel.tekst"})}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(f,{children:e.jsx(u,{id:"velgArbeid.guidepanel.liste.del1"})})}),e.jsx("li",{children:e.jsx(f,{children:e.jsx(u,{id:"velgArbeid.guidepanel.liste.del2"})})})]})]}));N.__docgenInfo={description:"",methods:[],displayName:"FlereArbeidsforholdGuidePanel"};const Z=(t,s,i)=>t===p.SELVSTENDIG&&(!i||i.trim().length===0)?s.formatMessage({id:"egenNæring"}):W(i),$=t=>({id:Q,arbeidsforholdType:p.SELVSTENDIG,arbeidsforholdNavn:t.navnPåNæringen}),ee=()=>({id:A,arbeidsforholdType:p.FRILANSER,arbeidsforholdNavn:A}),re=(t,s,i)=>V(t,s).map(r=>({id:r.id,arbeidsforholdType:r.arbeidsgiverIdType==="orgnr"?p.VIRKSOMHET:p.PRIVAT,arbeidsforholdNavn:r.arbeidsgiverIdType==="orgnr"||r.arbeidsgiverNavn?r.arbeidsgiverNavn:i.formatMessage({id:"privat.arbeidsgiver"})})),ie=(t,s,i,r,c,o)=>{const m=re(s,i,r),d=t.harJobbetSomSelvstendigNæringsdrivende&&o?[$(o)]:[],b=t.harJobbetSomFrilans&&c?[ee()]:[];return[...m,...d,...b]},te=({mellomlagreSøknadOgNaviger:t,avbrytSøknad:s,arbeidsforhold:i})=>{const r=q(),c=_(i),o=k(t,i),{fjernTilrettelegginger:m}=D(),d=l(a.VALGTE_ARBEIDSFORHOLD),b=l(a.TILRETTELEGGINGER),x=E(l(a.ARBEIDSFORHOLD_OG_INNTEKT)),I=l(a.FRILANS),R=l(a.EGEN_NÆRING),j=E(l(a.OM_BARNET)),y=O(a.VALGTE_ARBEIDSFORHOLD),h=ie(x,i,j.termindato,r,I,R),F=n=>{const T=h.filter(g=>n.arbeidMedTilrettelegging.includes(g.id)).map(g=>g.id);if(y(T),d&&b){const g=d.filter(M=>!n.arbeidMedTilrettelegging.includes(M));m(g)}return o.goToStep(L.SKJEMA+"/"+T[0])},v=C({defaultValues:d?{arbeidMedTilrettelegging:d}:void 0}),S=v.watch("arbeidMedTilrettelegging"),G=S&&S.length>1;return e.jsx(w,{bannerTitle:r.formatMessage({id:"søknad.pageheading"}),onCancel:s,steps:c,onContinueLater:o.fortsettSøknadSenere,onStepChange:o.goToStep,children:e.jsx(H,{formMethods:v,onSubmit:F,children:e.jsxs(U,{gap:"10",children:[e.jsx(P,{}),e.jsx(B,{name:"arbeidMedTilrettelegging",label:r.formatMessage({id:"velgArbeid.hvor"}),validate:[X(r.formatMessage({id:"valideringsfeil.tilrettelegging.påkrevd"}))],children:h.map(n=>e.jsx(Y,{value:n.id,children:Z(n.arbeidsforholdType,r,n.arbeidsforholdNavn)},n.id))}),G&&e.jsx(N,{}),e.jsx(K,{goToPreviousStep:o.goToPreviousDefaultStep})]})})})};te.__docgenInfo={description:"",methods:[],displayName:"VelgArbeidSteg"};export{te as V};
