import{f as B,au as I,aC as u,j as e,av as w,aw as O,Z as C,ax as q,an as A,ad as g,ao as v,$ as m,aD as p,l as b,a1 as c,ai as h,G as o,aE as N,ak as x,al as R,aF as E,am as P,aG as y,aH as M,aI as _,ay as L,aJ as V}from"./iframe-CjREDw4G.js";import{e as G,C as S,d as H}from"./routes-CFH8rONi.js";import{d as $,e as z}from"./useSvpNavigator-DqU81pO3.js";const J=(n,t)=>n&&t&&V(t)?u(t):u(new Date),U=(n,t)=>s=>t&&!o(s).subtract(6,"months").isSameOrBefore(o(t),"day")?n.formatMessage({id:"valideringsfeil.barnet.termindato.6mndEtterFødsel"}):t&&!o(s).add(1,"months").isSameOrAfter(o(t),"day")?n.formatMessage({id:"valideringsfeil.barnet.termindato.1mndFørFødsel"}):null,Y=({mellomlagreSøknadOgNaviger:n,avbrytSøknad:t,arbeidsforhold:s})=>{const a=B(),k=$(s),d=z(n,s),D=G(S.OM_BARNET),T=H(S.OM_BARNET),j=r=>(T(r),d.goToNextDefaultStep()),i=I({shouldUnregister:!0,defaultValues:D}),f=i.watch("erBarnetFødt"),l=i.watch("fødselsdato"),F=J(f,l);return e.jsx(w,{bannerTitle:a.formatMessage({id:"søknad.pageheading"}),onCancel:t,steps:k,onContinueLater:d.fortsettSøknadSenere,onStepChange:d.goToStep,children:e.jsx(O,{formMethods:i,onSubmit:j,children:e.jsxs(C,{gap:"10",children:[e.jsx(q,{}),e.jsxs("div",{children:[e.jsxs(A,{name:"erBarnetFødt",label:a.formatMessage({id:"barnet.erBarnetFødt"}),validate:[g(a.formatMessage({id:"valideringsfeil.barnet.erBarnetFødt.påkrevd"}))],children:[e.jsx(v,{value:!0,children:e.jsx(m,{id:"ja"})}),e.jsx(v,{value:!1,children:e.jsx(m,{id:"nei"})})]}),e.jsx(p,{onOpenChange:r=>b({origin:"svangerskapspengesoknad",eventName:r?"readmore åpnet":"readmore lukket",eventData:{tittel:"barnet.erBarnetFødt.merInfo.tittel"}}),header:a.formatMessage({id:"barnet.erBarnetFødt.merInfo.tittel"}),children:e.jsx(c,{children:e.jsx(m,{id:"barnet.erBarnetFødt.merInfo.tekst"})})})]}),f&&e.jsx(h,{name:"fødselsdato",label:a.formatMessage({id:"barnet.fødselsdato"}),validate:[g(a.formatMessage({id:"valideringsfeil.barnet.fødselsdato.duMåOppgi"})),x(a.formatMessage({id:"valideringsfeil.barnet.fødselsdato.ugyldigDatoFormat"})),R(a.formatMessage({id:"valideringsfeil.barnet.fødselsdato.måVæreIdagEllerTidligere"})),E(a.formatMessage({id:"valideringsfeil.barnet.termindato.forLangtTilbakeITid"}))],minDate:N(new Date),maxDate:o().toDate(),onChange:()=>i.formState.isSubmitted&&i.trigger()}),e.jsxs("div",{children:[e.jsx(h,{name:"termindato",label:a.formatMessage({id:"barnet.termindato"}),minDate:F,maxDate:M(new Date),useStrategyAbsolute:!0,validate:[g(a.formatMessage({id:"valideringsfeil.barnet.termindato.duMåOppgi"})),x(a.formatMessage({id:"valideringsfeil.barnet.termindato.ugyldigDatoFormat"})),P(a.formatMessage({id:"valideringsfeil.barnet.termindato.forLangtFremITid"}),M(new Date)),r=>l?null:y(a.formatMessage({id:"valideringsfeil.barnet.termindato.vennligstOppgiBarnetsFødselsDato"}),u(new Date))(r),y(a.formatMessage({id:"valideringsfeil.barnet.termindato.forLangtTilbakeITid"}),_(new Date)),U(a,l)]}),e.jsx(p,{onOpenChange:r=>b({origin:"svangerskapspengesoknad",eventName:r?"readmore åpnet":"readmore lukket",eventData:{tittel:"barnet.termindato.merInfo.tittel"}}),header:a.formatMessage({id:"barnet.termindato.merInfo.tittel"}),children:e.jsx(c,{children:e.jsx(m,{id:"barnet.termindato.merInfo.tekst"})})})]}),e.jsx(L,{goToPreviousStep:d.goToPreviousDefaultStep})]})})})};Y.__docgenInfo={description:"",methods:[],displayName:"BarnetSteg",props:{mellomlagreSøknadOgNaviger:{required:!0,tsType:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},avbrytSøknad:{required:!0,tsType:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},arbeidsforhold:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    arbeidsgiverNavn: string;
    stillingsprosent: number;
    fom: string;
    tom?: string;
}`,signature:{properties:[{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"stillingsprosent",value:{name:"number",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}}]}}],raw:"Arbeidsforhold[]"},description:""}}};export{Y as B};
