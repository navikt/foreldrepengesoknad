import{j as e}from"./jsx-runtime-Cw0GR0a5.js";import{u as B,C as p,b as O}from"./routes-B3RFaVmR.js";import{u as I,a as _}from"./useSvpNavigator-qWNCtkEP.js";import{u as w,c as C,V as R,M as d,d as v,e as b,h as q,f as s,n as c,g as u,j as A,k as P}from"./VeiviserPage-DdZZg1gK.js";import{u as E,R as N,E as V,a as L,b as h,c as S,S as H}from"./ErrorSummaryHookForm-bSIC7VwN.js";import"./index-CTjT7uj6.js";import{i as l,a as M,b as G,c as z,d as U,e as x}from"./minMax-BmzTRFqW.js";import{R as y}from"./ReadMore-SmW33bW9.js";const Y=(t,r)=>t&&r&&P(r)?u(r):u(new Date),$=(t,r)=>n=>r&&!s(n).subtract(6,"months").isSameOrBefore(s(r),"day")?t.formatMessage({id:"valideringsfeil.barnet.termindato.6mndEtterFødsel"}):r&&!s(n).add(1,"months").isSameOrAfter(s(r),"day")?t.formatMessage({id:"valideringsfeil.barnet.termindato.1mndFørFødsel"}):null,J=({mellomlagreSøknadOgNaviger:t,avbrytSøknad:r,arbeidsforhold:n})=>{const a=w(),j=I(n),o=_(t,n),T=B(p.OM_BARNET),D=O(p.OM_BARNET),k=g=>(D(g),o.goToNextDefaultStep()),i=E({shouldUnregister:!0,defaultValues:T}),f=i.watch("erBarnetFødt"),m=i.watch("fødselsdato"),F=Y(f,m);return e.jsx(C,{bannerTitle:a.formatMessage({id:"søknad.pageheading"}),onCancel:r,steps:j,onContinueLater:o.fortsettSøknadSenere,onStepChange:o.goToStep,children:e.jsx(N,{formMethods:i,onSubmit:k,children:e.jsxs(R,{gap:"10",children:[e.jsx(V,{}),e.jsxs("div",{children:[e.jsxs(L,{name:"erBarnetFødt",label:a.formatMessage({id:"barnet.erBarnetFødt"}),validate:[l(a.formatMessage({id:"valideringsfeil.barnet.erBarnetFødt.påkrevd"}))],children:[e.jsx(h,{value:!0,children:e.jsx(d,{id:"ja"})}),e.jsx(h,{value:!1,children:e.jsx(d,{id:"nei"})})]}),e.jsx(y,{onOpenChange:v("Svangerskapspenger","SVP_tilbake_i_tid"),header:a.formatMessage({id:"barnet.erBarnetFødt.merInfo.tittel"}),children:e.jsx(b,{children:e.jsx(d,{id:"barnet.erBarnetFødt.merInfo.tekst"})})})]}),f&&e.jsx(S,{name:"fødselsdato",label:a.formatMessage({id:"barnet.fødselsdato"}),validate:[l(a.formatMessage({id:"valideringsfeil.barnet.fødselsdato.duMåOppgi"})),M(a.formatMessage({id:"valideringsfeil.barnet.fødselsdato.ugyldigDatoFormat"})),G(a.formatMessage({id:"valideringsfeil.barnet.fødselsdato.måVæreIdagEllerTidligere"})),z(a.formatMessage({id:"valideringsfeil.barnet.termindato.forLangtTilbakeITid"}))],minDate:q(new Date),maxDate:s().toDate(),onChange:()=>i.formState.isSubmitted&&i.trigger()}),e.jsxs("div",{children:[e.jsx(S,{name:"termindato",label:a.formatMessage({id:"barnet.termindato"}),minDate:F,maxDate:c(new Date),useStrategyAbsolute:!0,validate:[l(a.formatMessage({id:"valideringsfeil.barnet.termindato.duMåOppgi"})),M(a.formatMessage({id:"valideringsfeil.barnet.termindato.ugyldigDatoFormat"})),U(a.formatMessage({id:"valideringsfeil.barnet.termindato.forLangtFremITid"}),c(new Date)),g=>m?null:x(a.formatMessage({id:"valideringsfeil.barnet.termindato.vennligstOppgiBarnetsFødselsDato"}),u(new Date))(g),x(a.formatMessage({id:"valideringsfeil.barnet.termindato.forLangtTilbakeITid"}),A(new Date)),$(a,m)]}),e.jsx(y,{onOpenChange:v("Svangerskapspenger","SVP_tre_uker_før_termin"),header:a.formatMessage({id:"barnet.termindato.merInfo.tittel"}),children:e.jsx(b,{children:e.jsx(d,{id:"barnet.termindato.merInfo.tekst"})})})]}),e.jsx(H,{goToPreviousStep:o.goToPreviousDefaultStep})]})})})};J.__docgenInfo={description:"",methods:[],displayName:"BarnetSteg",props:{mellomlagreSøknadOgNaviger:{required:!0,tsType:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},avbrytSøknad:{required:!0,tsType:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},arbeidsforhold:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverNavn: string;
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    fom: string;
    tom?: string;
    stillingsprosent: number;
}`,signature:{properties:[{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}},{key:"stillingsprosent",value:{name:"number",required:!0}}]}}],raw:"Arbeidsforhold[]"},description:""}}};export{J as B};
