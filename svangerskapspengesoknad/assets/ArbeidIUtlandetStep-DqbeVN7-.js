import{u as j,j as e,V as E,a as I,N as L,B as h,O as C,M as c,f as b,o as B,Q as G,R as V,K as H,T as K,c as w}from"./VeiviserPage-V2QjMGNU.js";import{u,C as l,b as M,a as v}from"./routes-CTkhDio1.js";import{u as J,a as P,g as $,s as z}from"./useSvpNavigator-Ca2Ayn4u.js";import{e as q,f as Q,g as W,h as X,c as A,a as Y,b as D,u as Z,R as ee,E as ae,S as te}from"./ErrorSummaryHookForm-BkGyEJ5g.js";import{f as re,e as ie}from"./Frilans-B2NmSH5j.js";import"./index-CTjT7uj6.js";import{i as g,h as se,g as de,a as x,b as ne,d as S,j as T,n as U}from"./minMax-Ccxj7oyT.js";import{g as oe}from"./validationUtils-D5T09zzs.js";import{S as le}from"./Plus-57wQlsfV.js";const _={fom:"",tom:"",pågående:void 0,arbeidsgiverNavn:"",land:""},N=()=>{const o=H("arbeidIUtlandet"),a=j(),r=q(),{fields:s,append:m,remove:d}=Q({name:"arbeidIUtlandet",control:r.control}),n=r.watch("arbeidIUtlandet"),f=a.formatMessage({id:"arbeidIUtlandet.navn"});return e.jsxs(e.Fragment,{children:[s.map((p,t)=>e.jsxs(E,{gap:"10",children:[e.jsxs(I,{justify:"space-between",children:[e.jsx(W,{name:`arbeidIUtlandet.${t}.land`,style:{width:"var(--app-text-input-width)"},label:a.formatMessage({id:"arbeidIUtlandet.land"}),validate:[g(a.formatMessage({id:"valideringsfeil.arbeidIUtlandetLand.påkrevd"}))],children:L().map(i=>e.jsx("option",{value:i[0],children:i[1]},i[0]))}),t!==0&&e.jsx(h,{className:o.element("delete"),icon:e.jsx(C,{"aria-hidden":!0}),type:"button",variant:"tertiary",onClick:()=>d(t),children:e.jsx(c,{id:"perioder.varierende.slett"})})]}),e.jsx(X,{name:`arbeidIUtlandet.${t}.arbeidsgiverNavn`,style:{width:"var(--app-text-input-width)"},label:f,validate:[g(a.formatMessage({id:"valideringsfeil.arbeidIUtlandetNavn.påkrevd"})),se(a.formatMessage({id:"valideringsfeil.arbeidIUtlandetNavn.forLang"}),100),de(i=>a.formatMessage({id:"valideringsfeil.fritekst.kanIkkeInneholdeTegn"},{feltNavn:f,ugyldigeTegn:i}))]}),e.jsx(A,{name:`arbeidIUtlandet.${t}.fom`,label:a.formatMessage({id:"arbeidIUtlandet.fom"}),validate:[g(a.formatMessage({id:"valideringsfeil.fraOgMedDato.påkrevd"})),x(a.formatMessage({id:"valideringsfeil.fraOgMedDato.gyldigDato"})),ne(a.formatMessage({id:"valideringsfeil.fraOgMedDato.erIFremtiden"})),i=>n[t].tom?S(a.formatMessage({id:"valideringsfeil.fraOgMedDato.førTilDato"}),n[t].tom)(i):null],maxDate:b().toDate(),minDate:B}),e.jsxs(Y,{name:`arbeidIUtlandet.${t}.pågående`,label:e.jsx(c,{id:"ArbeidIUtlandetFieldArray.næring.pågående"}),validate:[g(a.formatMessage({id:"valideringsfeil.arbeidIUtlandetPågående.påkrevd"}))],children:[e.jsx(D,{value:!0,children:"Ja"}),e.jsx(D,{value:!1,children:"Nei"})]}),n[t].pågående===!1&&e.jsx(A,{name:`arbeidIUtlandet.${t}.tom`,label:a.formatMessage({id:"arbeidIUtlandet.tom"}),description:a.formatMessage({id:"ArbeidIUtlandetFieldArray.arbeid.tom.description"}),validate:[g(a.formatMessage({id:"valideringsfeil.tilOgMedDato.påkrevd"})),x(a.formatMessage({id:"valideringsfeil.tilOgMedDato.gyldigDato"})),S(a.formatMessage({id:"valideringsfeil.tilOgMedDato.erIFremtiden"}),b().add(9,"month")),T(a.formatMessage({id:"valideringsfeil.tilOgMedDato.arbeidIUtlandet.merEnn5MånederSiden"}),G()),T(a.formatMessage({id:"valideringsfeil.tilOgMedDato.etterFraDato"}),n[t].fom)],maxDate:b().add(9,"month").toDate(),minDate:oe(n[t].fom,K)}),t<s.length-1&&e.jsx(V,{})]},p.id)),e.jsx(I,{children:e.jsx(h,{icon:e.jsx(le,{"aria-hidden":!0}),type:"button",variant:"secondary",onClick:()=>m(_),children:e.jsx(c,{id:"arbeidIUtlandet.tittel.ny"})})})]})};N.__docgenInfo={description:"",methods:[],displayName:"ArbeidIUtlandetFieldArray"};const ge=(o,a,r)=>{const s=$(a,o);if(z(o,s,r.harJobbetSomFrilans,r.harJobbetSomSelvstendigNæringsdrivende))if(s.length===0){const d=r.harJobbetSomFrilans?re:ie;return{nextRoute:v.SKJEMA,nextTilretteleggingId:d}}else return{nextRoute:v.SKJEMA,nextTilretteleggingId:s[0].arbeidsgiverId};return{nextRoute:v.VELG_ARBEID}},me=({mellomlagreSøknadOgNaviger:o,avbrytSøknad:a,arbeidsforhold:r})=>{const s=j(),m=J(r),d=P(o,r),n=u(l.ARBEID_I_UTLANDET),f=U(u(l.OM_BARNET)),p=U(u(l.ARBEIDSFORHOLD_OG_INNTEKT)),t=M(l.ARBEID_I_UTLANDET),i=M(l.VALGT_TILRETTELEGGING_ID),R=y=>{t(y);const{nextRoute:O,nextTilretteleggingId:F}=ge(f.termindato,r,p);return i(F),d.goToNextStep(O)},k=Z({shouldUnregister:!0,defaultValues:n||{arbeidIUtlandet:[_]}});return e.jsx(w,{bannerTitle:s.formatMessage({id:"søknad.pageheading"}),onCancel:a,steps:m,onContinueLater:d.fortsettSøknadSenere,onStepChange:d.goToNextStep,children:e.jsx(ee,{formMethods:k,onSubmit:R,children:e.jsxs(E,{gap:"10",children:[e.jsx(ae,{}),e.jsx(N,{}),e.jsx(te,{goToPreviousStep:d.goToPreviousDefaultStep})]})})})};me.__docgenInfo={description:"",methods:[],displayName:"ArbeidIUtlandetStep"};export{me as A};
