import{u as C,j as r,a as _}from"./Modal-5f6515f6.js";import{r as G}from"./index-f1f2c4b1.js";import{n as j}from"./validation-631bcf6e.js";import"./dateFormValidation-78b19ee9.js";import{g as L,Y as x,i as s,a as Y,m as M,S as P,B as f,n as U,o as K,l as w,j as Q}from"./fridagerUtils-57eeeb7b.js";import{j as W,h as T,u as q,K as J,f as H,L as z,M as X,k as Z,N as $}from"./useFortsettSøknadSenere-e239225e.js";import"./_baseToString-375081cd.js";import"./_createSet-53ab95fd.js";import{u as F,C as i,a as u}from"./routes-345f7acb.js";import{Q as ee}from"./index-47edccfa.js";import"./dateUtils-8d85eca7.js";import{B as re}from"./BackButton-f80f5ffe.js";var t=(e=>(e.frilansFom="frilansFom",e.jobberFremdelesSomFrilanser="jobberFremdelesSomFrilanser",e))(t||{});const p=L(),b={[t.frilansFom]:"",[t.jobberFremdelesSomFrilanser]:x.UNANSWERED},te=e=>e===void 0?b:{...b,frilansFom:e.oppstart,jobberFremdelesSomFrilanser:W(e.jobberFremdelesSomFrilans)},se=(e,a)=>({frilansFom:a.isVisible(t.frilansFom)?e.frilansFom:b.frilansFom,jobberFremdelesSomFrilanser:a.isVisible(t.jobberFremdelesSomFrilanser)?e.jobberFremdelesSomFrilanser:b.jobberFremdelesSomFrilanser}),ae={[t.frilansFom]:{isIncluded:()=>!0,isAnswered:({frilansFom:e})=>T(e)},[t.jobberFremdelesSomFrilanser]:{isIncluded:()=>!0,isAnswered:({jobberFremdelesSomFrilanser:e})=>e!==x.UNANSWERED}},ne=ee(ae),ie=e=>a=>{if(!T(a))return s(e,"valideringsfeil.fraOgMedDato.påkrevd");if(!Y(a))return s(e,"valideringsfeil.fraOgMedDato.gyldigDato");if(M(a))return s(e,"valideringsfeil.fraOgMedDato.erIFremtiden")},v=({mellomlagreSøknadOgNaviger:e,avbrytSøknad:a,søkerInfo:d})=>{const n=C(),N=q(n,d.arbeidsforhold),E=H(),[g,I]=G.useState(!1),h=F(i.FRILANS),c=j(F(i.INNTEKTSINFORMASJON)),k=F(i.TILRETTELEGGINGER),S=j(F(i.OM_BARNET)),A=u(i.FRILANS),D=u(i.TILRETTELEGGINGER),O=u(i.VALGT_TILRETTELEGGING_ID),y=u(i.APP_ROUTE),R=o=>{if(I(!0),z(S.termindato,d.arbeidsforhold,c.harJobbetSomFrilans,c.harJobbetSomSelvstendigNæringsdrivende)){const B=[X(k||[],o.frilansFom)];D(B)}A({jobberFremdelesSomFrilans:!!Z(o.jobberFremdelesSomFrilanser),oppstart:o.frilansFom});const{nextRoute:l,nextTilretteleggingId:V}=$(c,S.termindato,d.arbeidsforhold);O(V),y(l),e()};return r.jsx(p.FormikWrapper,{initialValues:te(h),onSubmit:R,renderForm:({values:o})=>{const m=ne.getVisbility(o);return r.jsx(P,{bannerTitle:s(n,"søknad.pageheading"),activeStepId:"frilans",pageTitle:s(n,"steps.label.frilans"),onCancel:a,steps:N,onContinueLater:E,children:r.jsxs(p.Form,{includeButtons:!1,includeValidationSummary:!0,cleanup:l=>se(l,m),children:[r.jsx(f,{padBottom:"xxl",visible:m.isVisible(t.frilansFom),children:r.jsx(p.DatePicker,{name:t.frilansFom,label:s(n,"frilans.oppstart"),validate:ie(n),maxDate:U,minDate:K,showYearSelector:!0,placeholder:"dd.mm.åååå"})}),r.jsx(f,{padBottom:"xxl",visible:m.isVisible(t.jobberFremdelesSomFrilanser),children:r.jsx(p.YesOrNoQuestion,{name:t.jobberFremdelesSomFrilanser,legend:s(n,"frilans.jobberFremdelesSomFrilans"),validate:l=>w(l,s(n,"valideringsfeil.jobberFremdelesSomFrilans.påkrevd"))})}),r.jsx(f,{padBottom:"l",children:r.jsxs(Q,{children:[r.jsx(re,{mellomlagreSøknadOgNaviger:e,route:J("frilans")}),r.jsx(_,{type:"submit",disabled:g,loading:g,children:s(n,"søknad.gåVidere")})]})})]})})}})};try{v.displayName="FrilansStep",v.__docgenInfo={description:"",displayName:"FrilansStep",props:{mellomlagreSøknadOgNaviger:{defaultValue:null,description:"",name:"mellomlagreSøknadOgNaviger",required:!0,type:{name:"() => Promise<void>"}},avbrytSøknad:{defaultValue:null,description:"",name:"avbrytSøknad",required:!0,type:{name:"() => Promise<void>"}},søkerInfo:{defaultValue:null,description:"",name:"søkerInfo",required:!0,type:{name:"Søkerinfo"}}}}}catch{}export{v as F};
