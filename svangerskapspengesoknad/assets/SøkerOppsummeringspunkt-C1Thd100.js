import{c as b,o as U,d as T,e as z,H as R,j as o,u as h,B as p,F as y}from"./Button-BkdplLyZ.js";import{r as i,R as m}from"./index-Dl6G-zuu.js";import"./attachmentApi-C_RMp63E.js";import{a as V,S as H,e as J,B as Y}from"./calendarLabel.module-BY81L3_i.js";import{j as w,V as f,F as I,J as C,K,u as W,d as O}from"./dateUtils-Dbv769BU.js";import{C as G}from"./ConfirmationPanel-CD6zTGJI.js";import{n as B}from"./dateFormValidation-ChqYL53f.js";import{u as Q}from"./useControllableState-CUPquq4N.js";const X=()=>{const e=i.useRef(new AbortController);return i.useEffect(()=>()=>{e.current.abort()},[]),e.current.signal},E=i.createContext({headingSize:"small",size:"medium",openItems:[],mounted:!1});var Z=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)r.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(t[n[a]]=e[n[a]]);return t};const P=i.createContext(null),ee=i.forwardRef((e,r)=>{var{children:t,className:n,open:a,defaultOpen:s=!1,onOpenChange:d}=e,l=Z(e,["children","className","open","defaultOpen","onOpenChange"]);const[u,S]=Q({defaultValue:s,value:a,onChange:d}),c=i.useContext(E),g=i.useRef(!(a||s)),j=()=>{S(_=>!_),g.current=!0};return c!=null&&c.mounted||console.error("<Accordion.Item> has to be used within an <Accordion>"),m.createElement("div",Object.assign({className:b("navds-accordion__item",n,{"navds-accordion__item--open":u,"navds-accordion__item--neutral":(c==null?void 0:c.variant)==="neutral","navds-accordion__item--no-animation":!g.current}),ref:r},U(l,["onClick"])),m.createElement(P.Provider,{value:{open:u,toggleOpen:j}},t))});var ne=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)r.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(t[n[a]]=e[n[a]]);return t};const te=i.forwardRef((e,r)=>{var{children:t,className:n}=e,a=ne(e,["children","className"]);const s=i.useContext(P);return s===null?(console.error("<Accordion.Content> has to be used within an <Accordion.Item>"),null):m.createElement(T,Object.assign({},a,{as:"div",ref:r,className:b("navds-accordion__content",{"navds-accordion__content--closed":!s.open},n),"aria-hidden":!s.open||void 0}),t)});var re=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)r.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(t[n[a]]=e[n[a]]);return t};const ae=i.forwardRef((e,r)=>{var t,{children:n,className:a,onClick:s}=e,d=re(e,["children","className","onClick"]);const l=i.useContext(P),u=i.useContext(E);return l===null?(console.error("<Accordion.Header> has to be used within an <Accordion.Item>, which in turn must be within an <Accordion>"),null):m.createElement("button",Object.assign({ref:r},d,{className:b("navds-accordion__header",a),onClick:z(s,l.toggleOpen),"aria-expanded":l.open,type:"button"}),m.createElement("span",{className:"navds-accordion__icon-wrapper"},m.createElement(V,{className:"navds-accordion__header-chevron",title:"Vis mer","aria-hidden":!0})),m.createElement(R,{size:(t=u==null?void 0:u.headingSize)!==null&&t!==void 0?t:"small",as:"span",className:"navds-accordion__header-content"},n))});var oe=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)r.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(t[n[a]]=e[n[a]]);return t};const k=i.forwardRef((e,r)=>{var{className:t,variant:n="default",headingSize:a="small",size:s="medium",indent:d=!0}=e,l=oe(e,["className","variant","headingSize","size","indent"]);return m.createElement(E.Provider,{value:{variant:n,headingSize:a,size:s,mounted:!0}},m.createElement("div",Object.assign({},l,{className:b("navds-accordion",t,`navds-accordion--${s}`,{"navds-accordion--indent":d}),ref:r})))});k.Header=ae;k.Content=te;k.Item=ee;const v=k,x=({tittel:e,hide:r=!1,children:t})=>{const[n,a]=i.useState(!1);return r?null:o.jsxs(v.Item,{children:[o.jsx(v.Header,{className:n?w("accordian_header").block:void 0,onClick:()=>a(s=>!s),children:o.jsx(R,{level:"3",size:"small",children:e})}),o.jsx(v.Content,{children:o.jsx("div",{className:w("content_margin").block,children:t})})]})};x.__docgenInfo={description:"",methods:[],displayName:"Oppsummeringspunkt",props:{tittel:{required:!0,tsType:{name:"string"},description:""},hide:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},children:{required:!0,tsType:{name:"ReactNode"},description:""}}};const se=(e,r,t)=>{if(r==="Engangsstønad")return e.formatMessage({id:"OppsummeringPanel.SamtykkeEs"});if(r==="Foreldrepenger"&&t!==void 0)return e.formatMessage({id:"OppsummeringPanel.SamtykkeFp"}).concat(t);if(r==="Svangerskapspenger")return e.formatMessage({id:"OppsummeringPanel.SamtykkeSvp"});throw new Error(`appName ${r} not supported`)},q=({sendSøknad:e,cancelApplication:r,onContinueLater:t,goToPreviousStep:n,stepConfig:a,children:s,appName:d,ekstraSamtykketekst:l})=>{const u=h(),S=X(),[c,g]=i.useState(!1),[j,_]=i.useState(!1),[F,D]=i.useState(!1),L=()=>{c?(_(!0),e(S)):D(!0)};return o.jsx(H,{onCancel:r,onContinueLater:t,steps:a,children:o.jsxs(f,{gap:"10",children:[o.jsx(v,{indent:!1,children:s}),o.jsx(G,{label:se(u,d,l),onChange:()=>g($=>!$),checked:c,error:F&&!c&&u.formatMessage({id:"OppsummeringPanel.Validering.BekrefteOpplysninger"})}),o.jsx(J,{goToPreviousStep:n,nextButtonOnClick:L,isDisabledAndLoading:j,isSendButton:!0})]})})};q.Punkt=x;q.__docgenInfo={description:"",methods:[{name:"Punkt",docblock:null,modifiers:["static"],params:[{name:"{ tittel, hide = false, children }: Props",optional:!1,type:{name:"Props",alias:"Props"}}],returns:null}],displayName:"OppsummeringPanel",props:{sendSøknad:{required:!0,tsType:{name:"signature",type:"function",raw:"(abortSignal: AbortSignal) => Promise<void>",signature:{arguments:[{type:{name:"AbortSignal"},name:"abortSignal"}],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},cancelApplication:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onContinueLater:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},goToPreviousStep:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},stepConfig:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    id: TYPE;
    label?: string;
    isSelected: boolean;
    completed?: boolean;
}`,signature:{properties:[{key:"id",value:{name:"TYPE",required:!0}},{key:"label",value:{name:"string",required:!1}},{key:"isSelected",value:{name:"boolean",required:!0}},{key:"completed",value:{name:"boolean",required:!1}}]}}],raw:"Array<ProgressStep<TYPE>>"},description:""},children:{required:!0,tsType:{name:"union",raw:"ReactElement[] | ReactElement",elements:[{name:"Array",elements:[{name:"ReactElement"}],raw:"ReactElement[]"},{name:"ReactElement"}]},description:""},appName:{required:!0,tsType:{name:"union",raw:"'Foreldrepenger' | 'Engangsstønad' | 'Svangerskapspenger'",elements:[{name:"literal",value:"'Foreldrepenger'"},{name:"literal",value:"'Engangsstønad'"},{name:"literal",value:"'Svangerskapspenger'"}]},description:""},ekstraSamtykketekst:{required:!1,tsType:{name:"string"},description:""}}};const A=(e,r)=>K(e)?r.formatMessage({id:"LandOppsummering.IDag"}):W(e),ie=(e,r)=>O(e.fom).isAfter(r.fom,"day")?1:0,N=({utenlandsoppholdListe:e})=>{const r=h();return o.jsx(o.Fragment,{children:e.sort(ie).map(t=>o.jsx(Y,{padding:"4",background:"surface-alt-3-subtle",borderRadius:"medium",children:o.jsxs(f,{gap:"1",children:[o.jsxs(p,{style:{fontWeight:"bold"},children:[I(t.fom)&&o.jsx(y,{id:"LandOppsummering.HarBodd",values:{country:C.getName(t.landkode,"nb")}}),!I(t.fom)&&o.jsx(y,{id:"LandOppsummering.SkalBo",values:{country:C.getName(t.landkode,"nb")}})]}),o.jsxs(T,{children:[A(t.fom,r)," - ",A(t.tom,r)]})]})},`${t.landkode}${t.fom}`))})};N.__docgenInfo={description:"",methods:[],displayName:"LandOppsummering"};const M=(e,r,t)=>O(e).isBetween(O(r),O(t),"day","[]"),de=(e,r,t)=>{if(r==="TERMIN")return e.formatMessage({id:"BoIUtlandetOppsummeringspunkt.Text.OgKommerPåFødselstidspunktet"},t);if(r==="FØDSEL")return e.formatMessage({id:"BoIUtlandetOppsummeringspunkt.VarPåFødselstidspunktet"},t);if(r==="ADOPSJON")return e.formatMessage({id:"BoIUtlandetOppsummeringspunkt.VarPåOmsorgsovertakelsepunktet"},t);throw new Error("Function not implemented.")},ce=(e,r=[],t=[])=>r.some(n=>M(e,n.fom,n.tom))||t.some(n=>M(e,n.fom,n.tom));var le=(e=>(e.ADOPSJON="ADOPSJON",e.FØDSEL="FØDSEL",e.TERMIN="TERMIN",e))(le||{});const ue=({familiehendelseDato:e,hendelseType:r,utenlandsopphold:t,tidligereUtenlandsopphold:n,senereUtenlandsopphold:a,hide:s=!1})=>{const d=h();return s?null:o.jsx(x,{tittel:d.formatMessage({id:"BoIUtlandetOppsummeringspunkt.Utenlandsopphold"}),children:o.jsxs(f,{gap:"5",children:[o.jsxs(f,{gap:"2",children:[t.harBoddUtenforNorgeSiste12Mnd&&o.jsx(N,{utenlandsoppholdListe:B(n).utenlandsoppholdSiste12Mnd}),t.skalBoUtenforNorgeNeste12Mnd&&o.jsx(N,{utenlandsoppholdListe:B(a).utenlandsoppholdNeste12Mnd})]}),t.harBoddUtenforNorgeSiste12Mnd===!1&&o.jsx(p,{children:o.jsx(y,{id:"BoIUtlandetOppsummeringspunkt.BoddSisteTolv",values:{country:d.formatMessage({id:"BoIUtlandetOppsummeringspunkt.Norge"})}})}),t.skalBoUtenforNorgeNeste12Mnd===!1&&o.jsx(p,{children:o.jsx(y,{id:"BoIUtlandetOppsummeringspunkt.BoNesteTolv",values:{country:d.formatMessage({id:"BoIUtlandetOppsummeringspunkt.Norge"})}})}),o.jsx(p,{children:de(d,r,{country:ce(e,n==null?void 0:n.utenlandsoppholdSiste12Mnd,a==null?void 0:a.utenlandsoppholdNeste12Mnd)?d.formatMessage({id:"BoIUtlandetOppsummeringspunkt.Utlandet"}):d.formatMessage({id:"BoIUtlandetOppsummeringspunkt.Norge"})})})]})})};ue.__docgenInfo={description:"",methods:[],displayName:"BoIUtlandetOppsummeringspunkt",props:{hide:{defaultValue:{value:"false",computed:!1},required:!1}}};const me=(e,r,t)=>t?`${e} ${t} ${r}`:`${e} ${r}`,pe=({søker:e})=>{const r=h();return o.jsx(x,{tittel:r.formatMessage({id:"DegOppsummeringspunkt.OmDeg"}),children:o.jsxs(f,{gap:"4",children:[o.jsx(p,{children:me(e.fornavn,e.etternavn,e.mellomnavn)}),o.jsx(p,{children:e.fnr})]})})};pe.__docgenInfo={description:"",methods:[],displayName:"SøkerOppsummeringspunkt"};export{ue as B,le as H,q as O,pe as S};
