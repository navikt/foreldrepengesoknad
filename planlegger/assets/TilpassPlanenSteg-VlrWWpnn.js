import{j as t}from"./jsx-runtime-CLpGMVip.js";import{u as Y,a as Z,b as p,C as u,c as ee}from"./usePlanleggerNavigator-CB5JmEPp.js";import{r as i}from"./index-CR__hKHy.js";import{M as g,u as te,m as re,j as v,H as ne,n as ae}from"./VeiviserPage-BEkP5Xgm.js";import{b as se,h as oe,p as le,q as ie}from"./HvemPlanleggerUtils-Bv9Egsad.js";import{u as de,h as ue,a as ge}from"./hvemHarRettUtils-CG2w_MQ5.js";import{g as me}from"./uttakUtils-qbhfq-Yv.js";import{U as pe,K as ce,S as fe,F as c,c as ke}from"./KvoteOppsummering-3eWyemKV.js";import{u as Te}from"./useScrollBehaviour-Dvq8pEsj.js";import{U as Ee}from"./UttaksplanKalender-BTgTYrvx.js";import{n as f}from"./validation-DYlyn1BB.js";import"./dateFormValidation-DK8wrmQ9.js";import{C as ve}from"./CalendarLabels-DD3DsyYa.js";import{P as je}from"./PlanleggerStepPage-GZKy2b1y.js";import{T as _}from"./ToggleGroup-Syy9KdVX.js";import{u as L,V as j,H as Se}from"./VStack-2apmvZh_.js";import{S as he}from"./Responsive-B-Uwxu87.js";import{g as ye,m as D}from"./barnetUtils-CWB0Dy58.js";import{b as be}from"./BarnehageplassSteg-DZVAH6G0.js";import{H as xe}from"./HvaErMulig-MCORAsph.js";import{M as A}from"./StepButtonsHookForm-DKwXHReh.js";var Re=function(e,s){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&s.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)s.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Pe=i.forwardRef((e,s)=>{var{title:n,titleId:r}=e,a=Re(e,["title","titleId"]);let o=L();return o=n?r||"title-"+o:void 0,i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:s,"aria-labelledby":o},a),n?i.createElement("title",{id:o},n):null,i.createElement("path",{fill:"currentColor",d:"M16.03 3.97a.75.75 0 1 0-1.06 1.06l3.22 3.22H8a5.75 5.75 0 0 0 0 11.5h1.5a.75.75 0 0 0 0-1.5H8a4.25 4.25 0 0 1 0-8.5h10.19l-3.22 3.22a.75.75 0 0 0 1.06 1.06l4.5-4.5a.75.75 0 0 0 0-1.06z"}))});var _e=function(e,s){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&s.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)s.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Ae=i.forwardRef((e,s)=>{var{title:n,titleId:r}=e,a=_e(e,["title","titleId"]);let o=L();return o=n?r||"title-"+o:void 0,i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:s,"aria-labelledby":o},a),n?i.createElement("title",{id:o},n):null,i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 5.75a.25.25 0 1 0 0 .5.25.25 0 0 0 0-.5M2.25 6a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0m1.5 6a.25.25 0 1 1 .5 0 .25.25 0 0 1-.5 0M4 10.25a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5M3.75 18a.25.25 0 1 1 .5 0 .25.25 0 0 1-.5 0M4 16.25a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5m5 1a.75.75 0 0 0 0 1.5h12a.75.75 0 0 0 0-1.5zM8.25 12a.75.75 0 0 1 .75-.75h12a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75M9 5.25a.75.75 0 0 0 0 1.5h12a.75.75 0 0 0 0-1.5z",clipRule:"evenodd"}))});var S=(e=>(e.ÅTTI_PROSENT="80",e.HUNDRE_PROSENT="100",e))(S||{}),B=(e=>(e.UttakFellesperiodeAnnenForelder="FELLESPERIODE_ANNEN_FORELDER",e.UttakFedrekvoteAnnenForelder="FEDREKVOTE_ANNEN_FORELDER",e.UttakMødrekvoteAnnenForelder="MØDREKVOTE_ANNEN_FORELDER",e.UttakForeldrepengerAnnenForelder="FORELDREPENGER_ANNEN_FORELDER",e.Ingen="INGEN",e))(B||{}),h=(e=>(e.BARE_SØKER_RETT="BARE_SØKER_RETT",e.ALENEOMSORG="ALENEOMSORG",e.BEGGE_RETT="BEGGE_RETT",e))(h||{});const K=({setVisningsmodus:e})=>{const s=n=>{e(n)};return t.jsxs(_,{defaultValue:"liste",variant:"neutral",onChange:n=>s(n),children:[t.jsxs(_.Item,{value:"liste",children:[t.jsx(Ae,{"aria-hidden":!0}),t.jsx(g,{id:"Liste"})]}),t.jsxs(_.Item,{value:"kalender",children:[t.jsx(he,{"aria-hidden":!0}),t.jsx(g,{id:"Kalender"})]})]})};K.__docgenInfo={description:"",methods:[],displayName:"PlanvisningToggle",props:{setVisningsmodus:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"union",raw:"'liste' | 'kalender'",elements:[{name:"literal",value:"'liste'"},{name:"literal",value:"'kalender'"}]}],raw:"SetStateAction<Visningsmodus>"}],raw:"Dispatch<SetStateAction<Visningsmodus>>"},description:""}}};const Ne="_calendar_wfn3i_1",Oe={calendar:Ne},Fe=({locale:e,stønadskontoer:s})=>{const[n,r]=i.useState(!1),a=te(),o=Y(e),H=Z(),[N,C]=i.useState("liste");Te();const d=f(p(u.HVEM_PLANLEGGER)),m=f(p(u.OM_BARNET)),G=f(p(u.HVOR_LANG_PERIODE)),O=f(p(u.ARBEIDSSITUASJON)),q=p(u.FORDELING),T=f(p(u.UTTAKSPLAN),"Uttaksplan ikke oppgitt"),V=f(p(u.ORIGINAL_UTTAKSPLAN),"Uttaksplan ikke oppgitt"),z=s[S.HUNDRE_PROSENT],J=s[S.ÅTTI_PROSENT],F=G.dekningsgrad===S.HUNDRE_PROSENT?z:J,$=be(m),y=T.length>0?T[T.length-1]:[],b=ee(u.UTTAKSPLAN),w=ye(m),E=de(O),Q=me(m),M=se(d),I=ue(E,d)||ge(E,d),k=oe(d,E),x=q!==void 0,W=()=>x?h.BEGGE_RETT:M?h.ALENEOMSORG:h.BARE_SØKER_RETT,X=l=>{const U=[...T];U.push(l),b(U)},R=()=>x?y.filter(l=>k?l.forelder===c.farMedmor:l.forelder===c.mor):y,P=()=>x?y.filter(l=>k?l.forelder===c.mor:l.forelder===c.farMedmor):[];return t.jsxs(je,{steps:H,goToStep:o.goToNextStep,children:[t.jsxs(A,{open:n,onClose:()=>r(!1),header:{heading:a.formatMessage({id:"TilpassPlanenSteg.FjernAlt.Modal.Tittel"}),size:"small",closeButton:!1},width:"small",children:[t.jsx(A.Body,{children:t.jsx(re,{children:t.jsx(g,{id:"TilpassPlanenSteg.FjernAlt.Modal.Body"})})}),t.jsxs(A.Footer,{children:[t.jsx(v,{type:"button",variant:"danger",onClick:()=>{b([]),r(!1)},children:t.jsx(g,{id:"TilpassPlanenSteg.FjernAlt.Modal.Knapp.Bekreft"})}),t.jsx(v,{type:"button",variant:"secondary",onClick:()=>r(!1),children:t.jsx(g,{id:"TilpassPlanenSteg.FjernAlt.Modal.Knapp.Avbryt"})})]})]}),t.jsxs(j,{gap:"6",children:[t.jsx(ne,{size:"medium",spacing:!0,level:"2",children:t.jsx(g,{id:"TilpassPlanenSteg.Tittel",values:{erAleneforsørger:M}})}),t.jsxs(j,{gap:"5",children:[t.jsx(xe,{hvemPlanlegger:d,arbeidssituasjon:O,barnet:m}),t.jsx(j,{gap:"10",children:t.jsx(K,{setVisningsmodus:C})}),N==="liste"&&t.jsxs(t.Fragment,{children:[t.jsx(pe,{familiehendelsedato:Q,bareFarHarRett:I,erFarEllerMedmor:k,familiesituasjon:w,gjelderAdopsjon:w==="adopsjon",navnPåForeldre:{farMedmor:le(d,a)||"Annen forelder",mor:ie(d,a)},førsteUttaksdagNesteBarnsSak:void 0,harAktivitetskravIPeriodeUtenUttak:!1,søkersPerioder:R(),annenPartsPerioder:P(),barn:D(m),handleOnPlanChange:X,modus:"planlegger",valgtStønadskonto:F}),t.jsx(ce,{visStatusIkoner:!0,konto:F,perioder:[...R(),...P().map(l=>l.kontoType===fe.Fellesperiode?{...l,kontoType:void 0,oppholdÅrsak:B.UttakFellesperiodeAnnenForelder}:l)],rettighetType:W(),forelder:k?c.farMedmor:c.mor})]})]}),t.jsxs(j,{gap:"5",children:[N==="kalender"&&t.jsx("div",{className:Oe.calendar,children:t.jsx(Ee,{bareFarHarRett:I,erFarEllerMedmor:k,harAktivitetskravIPeriodeUtenUttak:!1,søkersPerioder:R(),annenPartsPerioder:P(),navnAnnenPart:"Test",barn:D(m),planleggerLegend:t.jsx(ve,{hvemPlanlegger:d,barnet:m,hvemHarRett:E}),barnehagestartdato:$})}),t.jsxs(Se,{gap:"4",children:[t.jsx(v,{size:"xsmall",variant:"secondary",icon:t.jsx(Pe,{"aria-hidden":!0,height:24,width:24}),onClick:()=>{b([V])},children:t.jsx(g,{id:"TilpassPlanenSteg.Tilbakestill"})}),t.jsx(v,{size:"xsmall",variant:"secondary",icon:t.jsx(ke,{"aria-hidden":!0,height:24,width:24}),onClick:()=>r(!0),children:t.jsx(g,{id:"TilpassPlanenSteg.FjernAlt"})})]})]}),t.jsx(ae,{goToPreviousStep:o.goToPreviousDefaultStep,nextButtonOnClick:o.goToNextDefaultStep,useSimplifiedTexts:!0})]})]})};Fe.__docgenInfo={description:"",methods:[],displayName:"TilpassPlanenSteg",props:{locale:{required:!0,tsType:{name:"union",raw:"LocaleNo | 'en'",elements:[{name:"union",raw:"'nb' | 'nn'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"}]},{name:"literal",value:"'en'"}]},description:""},stønadskontoer:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    '80': TilgjengeligeStønadskontoerForDekningsgrad;
    '100': TilgjengeligeStønadskontoerForDekningsgrad;
}`,signature:{properties:[{key:"80",value:{name:"signature",type:"object",raw:`{
    kontoer: Stønadskonto[];
    minsteretter: TilgjengeligeMinsterettskontoer;
    tillegg?: TilgjengeligeKontoTillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: StønadskontoType;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"StønadskontoType",required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"Stønadskonto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    [MinsterettType.farRundtFødsel]: number;
    [MinsterettType.toTette]: number;
}`,signature:{properties:[]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    [KontoTilleggType.prematur]: number;
    [KontoTilleggType.flerbarn]: number;
}`,signature:{properties:[]},required:!1}}]},required:!0}},{key:"100",value:{name:"signature",type:"object",raw:`{
    kontoer: Stønadskonto[];
    minsteretter: TilgjengeligeMinsterettskontoer;
    tillegg?: TilgjengeligeKontoTillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: StønadskontoType;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"StønadskontoType",required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"Stønadskonto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    [MinsterettType.farRundtFødsel]: number;
    [MinsterettType.toTette]: number;
}`,signature:{properties:[]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    [KontoTilleggType.prematur]: number;
    [KontoTilleggType.flerbarn]: number;
}`,signature:{properties:[]},required:!1}}]},required:!0}}]}},description:""}}};export{Fe as T};
