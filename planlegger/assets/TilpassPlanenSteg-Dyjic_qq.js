import{r as h,a2 as K,a3 as u,j as e,Z as i,aj as ue,ac as me,ad as T,aS as pe,aT as F,as as H,aB as k,a5 as M,aU as ge,ae as q,aV as ce,X as Ee,aW as fe,aM as ve,aX as he,aY as Te,a1 as z,aZ as ke,aJ as Se,aO as je}from"./iframe-CKmKbywv.js";import{c as Re,e as ye,u as v,f as Oe,C as E}from"./usePlanleggerNavigator-1AbGXYeW.js";import{l as Pe,e as be,j as xe,m as Ae}from"./HvemPlanleggerUtils-Ckqzekpn.js";import{g as we,m as $}from"./barnetUtils-DqLZZUfD.js";import{u as Ie,a as De,b as _e}from"./hvemHarRettUtils-BfRHJrRd.js";import{g as Fe,h as b,i as N}from"./uttakUtils-cnlBWSzj.js";import{u as Me}from"./useScrollBehaviour-VsA90qnl.js";import{C as Ne}from"./CalendarLabels-DAf2ve5I.js";import{P as Le}from"./PlanleggerStepPage-C2sApglb.js";import{T as L}from"./ToggleGroup-CZUmAq_Q.js";import{b as Ke}from"./BarnehageplassSteg-Bf_VAW7B.js";import{H as Ue}from"./HvaErMulig-DG3Q8t8_.js";var Be=function(r,l){var a={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&l.indexOf(t)<0&&(a[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(r);n<t.length;n++)l.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(r,t[n])&&(a[t[n]]=r[t[n]]);return a};const Ve=h.forwardRef((r,l)=>{var{title:a,titleId:t}=r,n=Be(r,["title","titleId"]);let s=K();return s=a?t||"title-"+s:void 0,u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:l,"aria-labelledby":s},n),a?u.createElement("title",{id:s},a):null,u.createElement("path",{fill:"currentColor",d:"M18.746 7.25A8.25 8.25 0 1 0 20.25 12a.75.75 0 0 1 1.5 0c0 5.385-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12 6.615 2.25 12 2.25a9.73 9.73 0 0 1 7.75 3.833V3.5a.75.75 0 0 1 1.5 0V8a.75.75 0 0 1-.75.75H16a.75.75 0 0 1 0-1.5z"}))});var Ce=function(r,l){var a={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&l.indexOf(t)<0&&(a[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(r);n<t.length;n++)l.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(r,t[n])&&(a[t[n]]=r[t[n]]);return a};const Ge=h.forwardRef((r,l)=>{var{title:a,titleId:t}=r,n=Ce(r,["title","titleId"]);let s=K();return s=a?t||"title-"+s:void 0,u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:l,"aria-labelledby":s},n),a?u.createElement("title",{id:s},a):null,u.createElement("path",{fill:"currentColor",d:"M9.03 5.03a.75.75 0 1 0-1.06-1.06l-4.5 4.5a.75.75 0 0 0 0 1.06l4.5 4.5a.75.75 0 1 0 1.06-1.06L5.81 9.75H16a4.25 4.25 0 0 1 0 8.5h-1.5a.75.75 0 0 0 0 1.5H16a5.75 5.75 0 0 0 0-11.5H5.81z"}))});var He=function(r,l){var a={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&l.indexOf(t)<0&&(a[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(r);n<t.length;n++)l.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(r,t[n])&&(a[t[n]]=r[t[n]]);return a};const qe=h.forwardRef((r,l)=>{var{title:a,titleId:t}=r,n=He(r,["title","titleId"]);let s=K();return s=a?t||"title-"+s:void 0,u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:l,"aria-labelledby":s},n),a?u.createElement("title",{id:s},a):null,u.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 5.75a.25.25 0 1 0 0 .5.25.25 0 0 0 0-.5M2.25 6a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0m1.5 6a.25.25 0 1 1 .5 0 .25.25 0 0 1-.5 0M4 10.25a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5M3.75 18a.25.25 0 1 1 .5 0 .25.25 0 0 1-.5 0M4 16.25a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5m5 1a.75.75 0 0 0 0 1.5h12a.75.75 0 0 0 0-1.5zM8.25 12a.75.75 0 0 1 .75-.75h12a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75M9 5.25a.75.75 0 0 0 0 1.5h12a.75.75 0 0 0 0-1.5z",clipRule:"evenodd"}))});var x=(r=>(r.ÅTTI_PROSENT="80",r.HUNDRE_PROSENT="100",r))(x||{}),A=(r=>(r.BARE_SØKER_RETT="BARE_SØKER_RETT",r.ALENEOMSORG="ALENEOMSORG",r.BEGGE_RETT="BEGGE_RETT",r))(A||{});const X=({setVisningsmodus:r})=>{const l=a=>{r(a)};return e.jsxs(L,{defaultValue:"liste",variant:"neutral",onChange:a=>l(a),children:[e.jsxs(L.Item,{value:"liste",children:[e.jsx(qe,{"aria-hidden":!0}),e.jsx(i,{id:"Liste"})]}),e.jsxs(L.Item,{value:"kalender",children:[e.jsx(ue,{"aria-hidden":!0}),e.jsx(i,{id:"Kalender"})]})]})};X.__docgenInfo={description:"",methods:[],displayName:"PlanvisningToggle",props:{setVisningsmodus:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"union",raw:"'liste' | 'kalender'",elements:[{name:"literal",value:"'liste'"},{name:"literal",value:"'kalender'"}]}],raw:"SetStateAction<Visningsmodus>"}],raw:"Dispatch<SetStateAction<Visningsmodus>>"},description:""}}};const ze=({stønadskontoer:r})=>{const[l,a]=h.useState(!1),[t,n]=h.useState(!1),s=me(),w=Re(),J=ye(),[U,Z]=h.useState("liste");Me();const m=T(v(E.HVEM_PLANLEGGER)),f=T(v(E.OM_BARNET)),W=T(v(E.HVOR_LANG_PERIODE)),B=T(v(E.ARBEIDSSITUASJON)),Y=v(E.FORDELING),p=T(v(E.UTTAKSPLAN),"Uttaksplan ikke oppgitt"),Q=T(v(E.ORIGINAL_UTTAKSPLAN),"Uttaksplan ikke oppgitt"),ee=p.length-1,[S,R]=h.useState(Math.max(ee,0)),te=r[x.HUNDRE_PROSENT],re=r[x.ÅTTI_PROSENT],V=W.dekningsgrad===x.HUNDRE_PROSENT?te:re,ae=Ke(f),g=p.length>0?p[S]:[],I=Oe(E.UTTAKSPLAN),C=Pe(m),y=we(f),O=Ie(B),D=Fe(f),_=be(m),P=De(O,m)||_e(O,m),o=xe(m,O),c=Y!==void 0,ne=()=>c?A.BEGGE_RETT:_?A.ALENEOMSORG:A.BARE_SØKER_RETT,le=d=>{let j=[];S!==p.length-1?j=p.slice(0,S+1):j=p.length>=6?[...p.toSpliced(1,1)]:[...p],j.push(d),R(j.length-1),I(j)},se=()=>{n(!t)},G=Ae(m,s),ie=d=>({...d,id:`${d.fom}-${d.tom}`,readOnly:!1,fom:d.fom,tom:d.tom}),oe=b(c,g,o).map(ie),de=pe(oe,!1,D,y==="adopsjon",P,o,void 0).some(d=>d.periodeHullÅrsak==="Tapte dager");return e.jsxs(Le,{steps:J,goToStep:w.goToNextStep,children:[e.jsxs(F,{open:l,onClose:()=>a(!1),header:{heading:s.formatMessage({id:"TilpassPlanenSteg.FjernAlt.Modal.Tittel"}),size:"small",closeButton:!1},width:"small",children:[e.jsx(F.Body,{children:e.jsx(H,{children:e.jsx(i,{id:"TilpassPlanenSteg.FjernAlt.Modal.Body"})})}),e.jsxs(F.Footer,{children:[e.jsx(k,{type:"button",variant:"danger",onClick:()=>{I([[]]),R(0),a(!1)},children:e.jsx(i,{id:"TilpassPlanenSteg.FjernAlt.Modal.Knapp.Bekreft"})}),e.jsx(k,{type:"button",variant:"secondary",onClick:()=>a(!1),children:e.jsx(i,{id:"TilpassPlanenSteg.FjernAlt.Modal.Knapp.Avbryt"})})]})]}),e.jsxs(M,{gap:"space-24",children:[e.jsxs(ge,{variant:"info",children:[e.jsx(q,{size:"medium",spacing:!0,level:"2",children:e.jsx(i,{id:"TilpassPlanenSteg.SavnerDuNoe.Tittel"})}),e.jsx(H,{children:e.jsx(i,{id:"TilpassPlanenSteg.SavnerDuNoe.Tekst"})})]}),e.jsx(q,{size:"medium",spacing:!0,level:"2",children:e.jsx(i,{id:"TilpassPlanenSteg.Tittel",values:{erAleneforsørger:_}})}),e.jsxs(M,{gap:"space-24",children:[e.jsx(Ue,{hvemPlanlegger:m,arbeidssituasjon:B,barnet:f}),e.jsx(X,{setVisningsmodus:Z}),U==="liste"&&e.jsxs(e.Fragment,{children:[e.jsx(ce,{familiehendelsedato:D,bareFarMedmorHarRett:P,erFarEllerMedmor:o,familiesituasjon:y,gjelderAdopsjon:y==="adopsjon",navnPåForeldre:G,førsteUttaksdagNesteBarnsSak:void 0,harAktivitetskravIPeriodeUtenUttak:!1,søkersPerioder:b(c,g,o),annenPartsPerioder:N(c,g,o),barn:$(f),handleOnPlanChange:le,modus:"planlegger",valgtStønadskonto:V,erAleneOmOmsorg:_,isAllAccordionsOpen:t,erMedmorDelAvSøknaden:C}),e.jsxs(Ee,{gap:"space-16",children:[e.jsx(k,{size:"small",variant:"secondary",icon:e.jsx(Ve,{"aria-hidden":!0,height:24,width:24}),onClick:()=>{R(0),I([Q])},children:e.jsx(i,{id:"TilpassPlanenSteg.Tilbakestill"})}),e.jsx(k,{size:"small",variant:"secondary",icon:e.jsx(Ge,{"aria-hidden":!0,height:24,width:24}),onClick:()=>{S>0&&R(S-1)},children:e.jsx(i,{id:"TilpassPlanenSteg.Angre"})}),e.jsx(k,{size:"small",variant:t?"primary":"secondary",icon:t?e.jsx(fe,{"aria-hidden":!0,height:24,width:24}):e.jsx(ve,{"aria-hidden":!0,height:24,width:24}),onClick:se,children:t?e.jsx(i,{id:"TilpassPlanenSteg.LukkPerioder"}):e.jsx(i,{id:"TilpassPlanenSteg.EndrePlanen"})}),e.jsx(k,{size:"small",variant:"secondary",icon:e.jsx(he,{"aria-hidden":!0,height:24,width:24}),onClick:()=>a(!0),children:e.jsx(i,{id:"TilpassPlanenSteg.FjernAlt"})})]}),e.jsx(Te,{navnPåForeldre:G,modus:"planlegger",visStatusIkoner:!0,konto:V,perioder:ke({familiehendelsedato:D,erFarEllerMedmor:o,søkersPerioder:b(c,g,o),annenPartsPerioder:N(c,g,o),gjelderAdopsjon:y==="adopsjon",bareFarMedmorHarRett:P,harAktivitetskravIPeriodeUtenUttak:!1,førsteUttaksdagNesteBarnsSak:void 0,modus:"planlegger"}),rettighetType:ne(),forelder:o?z.farMedmor:z.mor,erMedmorDelAvSøknaden:C})]})]}),e.jsx(M,{gap:"space-20",children:U==="kalender"&&e.jsx("div",{className:"p-6 max-[479px]:p-0",children:e.jsx(Se,{bareFarMedmorHarRett:P,erFarEllerMedmor:o,harAktivitetskravIPeriodeUtenUttak:!1,søkersPerioder:b(c,g,o),annenPartsPerioder:N(c,g,o),navnAnnenPart:"Test",barn:$(f),planleggerLegend:e.jsx(Ne,{hvemPlanlegger:m,barnet:f,hvemHarRett:O,uttaksplan:g,inneholderTapteDager:de}),barnehagestartdato:ae})})}),e.jsx(je,{goToPreviousStep:w.goToPreviousDefaultStep,nextButtonOnClick:w.goToNextDefaultStep,useSimplifiedTexts:!0})]})]})};ze.__docgenInfo={description:"",methods:[],displayName:"TilpassPlanenSteg",props:{stønadskontoer:{required:!0,tsType:{name:"signature",type:"object",raw:"{ '80': KontoBeregningDto; '100': KontoBeregningDto }",signature:{properties:[{key:"80",value:{name:"signature",type:"object",raw:`{
    kontoer: KontoDto[];
    minsteretter: Minsteretter;
    tillegg?: Tillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: KontoTypeUttak;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"union",raw:`| 'MØDREKVOTE'
| 'FEDREKVOTE'
| 'FELLESPERIODE'
| 'FORELDREPENGER'
| 'FORELDREPENGER_FØR_FØDSEL'
| 'AKTIVITETSFRI_KVOTE'`,elements:[{name:"literal",value:"'MØDREKVOTE'"},{name:"literal",value:"'FEDREKVOTE'"},{name:"literal",value:"'FELLESPERIODE'"},{name:"literal",value:"'FORELDREPENGER'"},{name:"literal",value:"'FORELDREPENGER_FØR_FØDSEL'"},{name:"literal",value:"'AKTIVITETSFRI_KVOTE'"}],required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"KontoDto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    farRundtFødsel: number;
    toTette: number;
}`,signature:{properties:[{key:"farRundtFødsel",value:{name:"number",required:!0}},{key:"toTette",value:{name:"number",required:!0}}]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    flerbarn: number;
    prematur: number;
}`,signature:{properties:[{key:"flerbarn",value:{name:"number",required:!0}},{key:"prematur",value:{name:"number",required:!0}}]},required:!1}}]},required:!0}},{key:"100",value:{name:"signature",type:"object",raw:`{
    kontoer: KontoDto[];
    minsteretter: Minsteretter;
    tillegg?: Tillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: KontoTypeUttak;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"union",raw:`| 'MØDREKVOTE'
| 'FEDREKVOTE'
| 'FELLESPERIODE'
| 'FORELDREPENGER'
| 'FORELDREPENGER_FØR_FØDSEL'
| 'AKTIVITETSFRI_KVOTE'`,elements:[{name:"literal",value:"'MØDREKVOTE'"},{name:"literal",value:"'FEDREKVOTE'"},{name:"literal",value:"'FELLESPERIODE'"},{name:"literal",value:"'FORELDREPENGER'"},{name:"literal",value:"'FORELDREPENGER_FØR_FØDSEL'"},{name:"literal",value:"'AKTIVITETSFRI_KVOTE'"}],required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"KontoDto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    farRundtFødsel: number;
    toTette: number;
}`,signature:{properties:[{key:"farRundtFødsel",value:{name:"number",required:!0}},{key:"toTette",value:{name:"number",required:!0}}]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    flerbarn: number;
    prematur: number;
}`,signature:{properties:[{key:"flerbarn",value:{name:"number",required:!0}},{key:"prematur",value:{name:"number",required:!0}}]},required:!1}}]},required:!0}}]}},description:""}}};export{ze as T};
