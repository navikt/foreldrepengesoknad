import{j as r}from"./jsx-runtime-CLpGMVip.js";import{u as X,a as Y,b as m,C as u,c as Z}from"./usePlanleggerNavigator-CWu1jVoO.js";import{r as s}from"./index-CR__hKHy.js";import{M as g,u as ee,k as te,h as E,H as re,m as ne}from"./VeiviserPage-k_7-Y0Mo.js";import{b as ae,h as oe,p as le,q as se}from"./HvemPlanleggerUtils-u56oj6VV.js";import{u as ie,h as de,a as ue}from"./hvemHarRettUtils-B7YOkapv.js";import{g as ge}from"./uttakUtils-L708Zgxa.js";import{U as me,K as pe,S as ce,F as c}from"./KvoteOppsummering-CxeuNtqZ.js";import{u as fe}from"./useScrollBehaviour-Dvq8pEsj.js";import{U as ve}from"./UttaksplanKalender-syMGKOyV.js";import{n as f}from"./validation-DYlyn1BB.js";import"./dateFormValidation-XdXp584L.js";import{C as ke}from"./CalendarLabels-qwnm_10U.js";import{P as he}from"./PlanleggerStepPage-8XwwoPm1.js";import{T as P}from"./ToggleGroup-DijbeKe7.js";import{u as w,V as T,H as Ee}from"./VStack-CmtOnz83.js";import{S as Te}from"./Responsive-IFi8LHQ2.js";import{g as je,m as L}from"./barnetUtils-C0lJ0hcK.js";import{H as ye}from"./HvaErMulig-BpukWF8I.js";import{M as _}from"./StepButtonsHookForm-BlppQmQ7.js";var Se=function(e,o){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]]);return a};const be=s.forwardRef((e,o)=>{var{title:a,titleId:t}=e,n=Se(e,["title","titleId"]);let l=w();return l=a?t||"title-"+l:void 0,s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:o,"aria-labelledby":l},n),a?s.createElement("title",{id:l},a):null,s.createElement("path",{fill:"currentColor",d:"M16.03 3.97a.75.75 0 1 0-1.06 1.06l3.22 3.22H8a5.75 5.75 0 0 0 0 11.5h1.5a.75.75 0 0 0 0-1.5H8a4.25 4.25 0 0 1 0-8.5h10.19l-3.22 3.22a.75.75 0 0 0 1.06 1.06l4.5-4.5a.75.75 0 0 0 0-1.06z"}))});var xe=function(e,o){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]]);return a};const Re=s.forwardRef((e,o)=>{var{title:a,titleId:t}=e,n=xe(e,["title","titleId"]);let l=w();return l=a?t||"title-"+l:void 0,s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:o,"aria-labelledby":l},n),a?s.createElement("title",{id:l},a):null,s.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 5.75a.25.25 0 1 0 0 .5.25.25 0 0 0 0-.5M2.25 6a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0m1.5 6a.25.25 0 1 1 .5 0 .25.25 0 0 1-.5 0M4 10.25a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5M3.75 18a.25.25 0 1 1 .5 0 .25.25 0 0 1-.5 0M4 16.25a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5m5 1a.75.75 0 0 0 0 1.5h12a.75.75 0 0 0 0-1.5zM8.25 12a.75.75 0 0 1 .75-.75h12a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75M9 5.25a.75.75 0 0 0 0 1.5h12a.75.75 0 0 0 0-1.5z",clipRule:"evenodd"}))});var Oe=function(e,o){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]]);return a};const Pe=s.forwardRef((e,o)=>{var{title:a,titleId:t}=e,n=Oe(e,["title","titleId"]);let l=w();return l=a?t||"title-"+l:void 0,s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:o,"aria-labelledby":l},n),a?s.createElement("title",{id:l},a):null,s.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.5 6.25a.75.75 0 0 0 0 1.5h.805l.876 11.384a1.75 1.75 0 0 0 1.745 1.616h8.148a1.75 1.75 0 0 0 1.745-1.616l.876-11.384h.805a.75.75 0 0 0 0-1.5h-2.75V6A2.75 2.75 0 0 0 14 3.25h-4A2.75 2.75 0 0 0 7.25 6v.25zm5.5-1.5c-.69 0-1.25.56-1.25 1.25v.25h6.5V6c0-.69-.56-1.25-1.25-1.25zm-3.19 3 .867 11.27c.01.13.118.23.249.23h8.148c.13 0 .24-.1.25-.23l.866-11.27zm3.19 2a.75.75 0 0 1 .75.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 .75-.75m4 0a.75.75 0 0 1 .75.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 .75-.75",clipRule:"evenodd"}))});var j=(e=>(e.ÅTTI_PROSENT="80",e.HUNDRE_PROSENT="100",e))(j||{}),D=(e=>(e.UttakFellesperiodeAnnenForelder="FELLESPERIODE_ANNEN_FORELDER",e.UttakFedrekvoteAnnenForelder="FEDREKVOTE_ANNEN_FORELDER",e.UttakMødrekvoteAnnenForelder="MØDREKVOTE_ANNEN_FORELDER",e.UttakForeldrepengerAnnenForelder="FORELDREPENGER_ANNEN_FORELDER",e.Ingen="INGEN",e))(D||{}),y=(e=>(e.BARE_SØKER_RETT="BARE_SØKER_RETT",e.ALENEOMSORG="ALENEOMSORG",e.BEGGE_RETT="BEGGE_RETT",e))(y||{});const K=({setVisningsmodus:e})=>{const o=a=>{e(a)};return r.jsxs(P,{defaultValue:"liste",variant:"neutral",onChange:a=>o(a),children:[r.jsxs(P.Item,{value:"liste",children:[r.jsx(Re,{"aria-hidden":!0}),r.jsx(g,{id:"Liste"})]}),r.jsxs(P.Item,{value:"kalender",children:[r.jsx(Te,{"aria-hidden":!0}),r.jsx(g,{id:"Kalender"})]})]})};K.__docgenInfo={description:"",methods:[],displayName:"PlanvisningToggle",props:{setVisningsmodus:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"union",raw:"'liste' | 'kalender'",elements:[{name:"literal",value:"'liste'"},{name:"literal",value:"'kalender'"}]}],raw:"SetStateAction<Visningsmodus>"}],raw:"Dispatch<SetStateAction<Visningsmodus>>"},description:""}}};const _e="_calendar_wfn3i_1",we={calendar:_e},Ae=({locale:e,stønadskontoer:o})=>{const[a,t]=s.useState(!1),n=ee(),l=X(e),H=Y(),[A,C]=s.useState("liste");fe();const d=f(m(u.HVEM_PLANLEGGER)),p=f(m(u.OM_BARNET)),G=f(m(u.HVOR_LANG_PERIODE)),N=f(m(u.ARBEIDSSITUASJON)),q=m(u.FORDELING),k=f(m(u.UTTAKSPLAN),"Uttaksplan ikke oppgitt"),V=f(m(u.ORIGINAL_UTTAKSPLAN),"Uttaksplan ikke oppgitt"),z=o[j.HUNDRE_PROSENT],$=o[j.ÅTTI_PROSENT],F=G.dekningsgrad===j.HUNDRE_PROSENT?z:$,S=k.length>0?k[k.length-1]:[],b=Z(u.UTTAKSPLAN),M=je(p),h=ie(N),J=ge(p),I=ae(d),U=de(h,d)||ue(h,d),v=oe(d,h),x=q!==void 0,Q=()=>x?y.BEGGE_RETT:I?y.ALENEOMSORG:y.BARE_SØKER_RETT,W=i=>{const B=[...k];B.push(i),b(B)},R=()=>x?S.filter(i=>v?i.forelder===c.farMedmor:i.forelder===c.mor):S,O=()=>x?S.filter(i=>v?i.forelder===c.mor:i.forelder===c.farMedmor):[];return r.jsxs(he,{steps:H,goToStep:l.goToNextStep,children:[r.jsxs(_,{open:a,onClose:()=>t(!1),header:{heading:n.formatMessage({id:"TilpassPlanenSteg.FjernAlt.Modal.Tittel"}),size:"small",closeButton:!1},width:"small",children:[r.jsx(_.Body,{children:r.jsx(te,{children:r.jsx(g,{id:"TilpassPlanenSteg.FjernAlt.Modal.Body"})})}),r.jsxs(_.Footer,{children:[r.jsx(E,{type:"button",variant:"danger",onClick:()=>{b([]),t(!1)},children:r.jsx(g,{id:"TilpassPlanenSteg.FjernAlt.Modal.Knapp.Bekreft"})}),r.jsx(E,{type:"button",variant:"secondary",onClick:()=>t(!1),children:r.jsx(g,{id:"TilpassPlanenSteg.FjernAlt.Modal.Knapp.Avbryt"})})]})]}),r.jsxs(T,{gap:"6",children:[r.jsx(re,{size:"medium",spacing:!0,level:"2",children:r.jsx(g,{id:"TilpassPlanenSteg.Tittel",values:{erAleneforsørger:I}})}),r.jsxs(T,{gap:"5",children:[r.jsx(ye,{hvemPlanlegger:d,arbeidssituasjon:N,barnet:p}),r.jsx(T,{gap:"10",children:r.jsx(K,{setVisningsmodus:C})}),A==="liste"&&r.jsxs(r.Fragment,{children:[r.jsx(me,{familiehendelsedato:J,bareFarHarRett:U,erFarEllerMedmor:v,familiesituasjon:M,gjelderAdopsjon:M==="adopsjon",navnPåForeldre:{farMedmor:le(d,n)||"Annen forelder",mor:se(d,n)},førsteUttaksdagNesteBarnsSak:void 0,harAktivitetskravIPeriodeUtenUttak:!1,søkersPerioder:R(),annenPartsPerioder:O(),barn:L(p),handleOnPlanChange:W,modus:"planlegger",valgtStønadskonto:F}),r.jsx(pe,{visStatusIkoner:!0,konto:F,perioder:[...R(),...O().map(i=>i.kontoType===ce.Fellesperiode?{...i,kontoType:void 0,oppholdÅrsak:D.UttakFellesperiodeAnnenForelder}:i)],rettighetType:Q(),forelder:v?c.farMedmor:c.mor})]})]}),r.jsxs(T,{gap:"5",children:[A==="kalender"&&r.jsx("div",{className:we.calendar,children:r.jsx(ve,{bareFarHarRett:U,erFarEllerMedmor:v,harAktivitetskravIPeriodeUtenUttak:!1,søkersPerioder:R(),annenPartsPerioder:O(),navnAnnenPart:"Test",barn:L(p),planleggerLegend:r.jsx(ke,{hvemPlanlegger:d,barnet:p,hvemHarRett:h})})}),r.jsxs(Ee,{gap:"4",children:[r.jsx(E,{size:"xsmall",variant:"secondary",icon:r.jsx(be,{"aria-hidden":!0,height:24,width:24}),onClick:()=>{b([V])},children:r.jsx(g,{id:"TilpassPlanenSteg.Tilbakestill"})}),r.jsx(E,{size:"xsmall",variant:"secondary",icon:r.jsx(Pe,{"aria-hidden":!0,height:24,width:24}),onClick:()=>t(!0),children:r.jsx(g,{id:"TilpassPlanenSteg.FjernAlt"})})]})]}),r.jsx(ne,{goToPreviousStep:l.goToPreviousDefaultStep,nextButtonOnClick:l.goToNextDefaultStep,useSimplifiedTexts:!0})]})]})};Ae.__docgenInfo={description:"",methods:[],displayName:"TilpassPlanenSteg",props:{locale:{required:!0,tsType:{name:"union",raw:"LocaleNo | 'en'",elements:[{name:"union",raw:"'nb' | 'nn'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"}]},{name:"literal",value:"'en'"}]},description:""},stønadskontoer:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    '80': TilgjengeligeStønadskontoerForDekningsgrad;
    '100': TilgjengeligeStønadskontoerForDekningsgrad;
}`,signature:{properties:[{key:"80",value:{name:"signature",type:"object",raw:`{
    kontoer: Stønadskonto[];
    minsteretter: TilgjengeligeMinsterettskontoer;
    tillegg?: TilgjengeligeKontoTillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: StønadskontoType;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"StønadskontoType",required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"Stønadskonto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    [MinsterettType.farRundtFødsel]: number;
    [MinsterettType.toTette]: number;
}`,signature:{properties:[]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    [KontoTilleggType.prematur]: number;
    [KontoTilleggType.flerbarn]: number;
}`,signature:{properties:[]},required:!1}}]},required:!0}},{key:"100",value:{name:"signature",type:"object",raw:`{
    kontoer: Stønadskonto[];
    minsteretter: TilgjengeligeMinsterettskontoer;
    tillegg?: TilgjengeligeKontoTillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: StønadskontoType;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"StønadskontoType",required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"Stønadskonto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    [MinsterettType.farRundtFødsel]: number;
    [MinsterettType.toTette]: number;
}`,signature:{properties:[]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    [KontoTilleggType.prematur]: number;
    [KontoTilleggType.flerbarn]: number;
}`,signature:{properties:[]},required:!1}}]},required:!0}}]}},description:""}}};export{Ae as T};
