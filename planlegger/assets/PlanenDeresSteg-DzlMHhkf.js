import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{u as ne,a as se,b as T,C as n,c as h}from"./usePlanleggerNavigator-CE_6AcPv.js";import{P as oe}from"./PlanleggerStepPage-ChY5fp_x.js";import{u as ie,U as G,H as le,M as i,j as B,h as q,B as b,k as ge,m as de}from"./VeiviserPage-CHSQEW6u.js";import{g as pe,f as ue}from"./FordelingSteg-BGPXsStx.js";import{D as u}from"./Dekningsgrad-Bg_cIyqc.js";import{H as k,b as me,h as ke,g as ce,c as Se}from"./HvemPlanleggerUtils-BYHEAsy1.js";import{u as Te,h as fe,a as he}from"./hvemHarRettUtils-C8lIuyXR.js";import{d as J,c as C,g as je,l as ve}from"./uttakUtils-T6Bng2AV.js";import{r as K}from"./index-DQLiH3RP.js";import{u as Oe}from"./useScrollBehaviour-CPpBIkgK.js";import{U as ye}from"./UttaksplanKalender-HVIdH-f_.js";import{n as j}from"./validation-Dy1ue2_T.js";import"./dateFormValidation-DphE57k6.js";import{P as D}from"./routes-Cyl7_Mgv.js";import{C as xe}from"./CalendarLabels-BD4svbUj.js";import{A as Re}from"./Arbeidssituasjon-i2z_eSVB.js";import{b as be,m as De}from"./barnetUtils-DYBBskKi.js";import{b as Pe}from"./BarnehageplassSteg-htSOp-d5.js";import{O as Ae}from"./OmÅTilpassePlanen-DKZld6Nc.js";import{U as Fe}from"./UforutsetteEndringer-B3v9QWHr.js";import{V as f,H as z}from"./VStack-05Ww9A8B.js";import{a as V}from"./KvoteOppsummering-B_4lCBex.js";import{S as Ee}from"./PersonGroup-_nGe72we.js";import{T as P}from"./ToggleGroup-BM85Y63y.js";import{e as _e}from"./StepButtonsHookForm-DAulkPa7.js";const Ne=typeof window<"u"&&window.matchMedia===void 0,Ue=(g,d)=>{const[s,m]=K.useState(d);return K.useEffect(()=>{if(Ne)return;const t=window.matchMedia(g);m(t.matches);const r=c=>{m(c.matches)};return t.addEventListener("change",r),()=>{t.removeEventListener("change",r)}},[g]),s},Me="_calendar_wfn3i_1",Ie={calendar:Me},He=(g,d,s)=>{const m=J(g===u.HUNDRE_PROSENT?d[u.HUNDRE_PROSENT]:d[u.ÅTTI_PROSENT]);return s.antallDagerSøker1>m.totaltAntallDager?m.totaltAntallDager:s.antallDagerSøker1},we=({stønadskontoer:g})=>{const d=ie(),s=ne(),m=se();Oe();const t=j(T(n.HVEM_PLANLEGGER)),r=j(T(n.OM_BARNET)),c=j(T(n.HVOR_LANG_PERIODE)),S=j(T(n.ARBEIDSSITUASJON)),Q=T(n.UTTAKSPLAN)||[],l=T(n.FORDELING),A=h(n.FORDELING),W=j(h(n.HVOR_LANG_PERIODE)),v=h(n.UTTAKSPLAN),O=h(n.ORIGINAL_UTTAKSPLAN),y=h(n.TILPASS_PLAN),F=g[u.HUNDRE_PROSENT],E=g[u.ÅTTI_PROSENT],X=Pe(r),_=c.dekningsgrad===u.HUNDRE_PROSENT?F:E,Y=J(_),Z=o=>{const L=o;W({dekningsgrad:L}),l&&A({antallDagerSøker1:He(L,g,l)})},x=()=>{const o=[...Q];return o.push([...a.søker1,...a.søker2]),o},p=Te(S),$=t.type===k.FAR_OG_FAR&&(p==="kunSøker1HarRett"||p==="kunSøker2HarRett"),N=C(F),U=C(E),M=je(r),R=me(t),I=fe(p,t)||he(p,t);let H;(t.type===k.MOR_OG_MEDMOR||t.type===k.MOR_OG_FAR)&&p==="kunSøker2HarRett"&&(H=G(G(M).denneEllerNeste()).leggTil(30));const w=ke(t,p),a=ve({erDeltUttak:l!==void 0,famDato:M,startdato:H,tilgjengeligeStønadskontoer:_.kontoer,fellesperiodeDagerMor:l==null?void 0:l.antallDagerSøker1,bareFarMedmorHarRett:I,erAdopsjon:be(r),erFarEllerMedmor:w,erMorUfør:(S==null?void 0:S.status)===Re.UFØR,erAleneOmOmsorg:t.type===k.FAR||t.type===k.MOR,farOgFar:t.type===k.FAR_OG_FAR}),ee=ce(t,d),te=Se(t,d),re=!0,ae=Ue("screen and (min-width: 480)");return e.jsx("form",{children:e.jsx(oe,{steps:m,goToStep:s.goToNextStep,children:e.jsxs(f,{gap:"6",children:[e.jsxs(z,{justify:"space-between",children:[e.jsx(le,{size:"medium",spacing:!0,level:"2",children:e.jsx(i,{id:"OversiktSteg.Tittel",values:{erAleneforsørger:R}})}),e.jsx(f,{gap:"1",children:e.jsx(B,{size:"xsmall",variant:"secondary",type:"button",icon:e.jsx(V,{height:24,width:24,fontSize:"1-5rem","aria-hidden":!0}),onClick:()=>{v(x()),O([...a.søker1,...a.søker2]),y(!0),s.goToNextStep(D.TILPASS_PLANEN)},children:e.jsx(i,{id:"OversiktSteg.Infoboks.Tilpass"})})})]}),$&&r.erFødsel&&e.jsx(q,{header:e.jsx(i,{id:"OversiktSteg.Infoboks.FarOgFar.DereHarOppgitt"}),icon:e.jsx(Ee,{height:24,width:24,fontSize:"1.5rem",color:"#0067C5","aria-hidden":!0}),color:"green",children:e.jsxs("div",{children:[e.jsx(b,{children:e.jsx(i,{id:"OversiktSteg.Infoboks.FarOgFar.DenSomErBiologisk"})}),e.jsx(b,{children:e.jsx(i,{id:"OversiktSteg.Infoboks.FarOgFar.HvisDetErStebarnsadopsjon"})})]})}),e.jsxs(f,{gap:"1",children:[e.jsxs(P,{defaultValue:c==null?void 0:c.dekningsgrad,size:ae?"medium":"small",variant:"neutral",onChange:Z,style:{width:"100%"},children:[e.jsx(P.Item,{value:u.HUNDRE_PROSENT,children:e.jsx(i,{id:"OversiktSteg.100",values:{uker:N.uker,dager:N.dager}})}),e.jsx(P.Item,{value:u.ÅTTI_PROSENT,children:e.jsx(i,{id:"OversiktSteg.80",values:{uker:U.uker,dager:U.dager}})})]}),p==="beggeHarRett"&&(!r.erFødsel||t.type!==k.FAR_OG_FAR)&&e.jsx(_e,{defaultValue:l==null?void 0:l.antallDagerSøker1,label:"Velg fordeling fellesperiode",hideLabel:!0,name:"antallDagerSøker1",onChange:o=>{A({antallDagerSøker1:parseInt(o.target.value,10)})},children:pe(Y).map(o=>e.jsx("option",{value:o.antallUkerOgDagerSøker1.totaltAntallDager,children:ue(d,o,t,ee,te,re)},o.antallUkerOgDagerSøker1.totaltAntallDager))})]}),e.jsx(f,{gap:"5",children:e.jsx("div",{className:Ie.calendar,children:e.jsx(ye,{bareFarHarRett:I,erFarEllerMedmor:w,harAktivitetskravIPeriodeUtenUttak:!1,søkersPerioder:a.søker1,annenPartsPerioder:a.søker2,navnAnnenPart:"Test",barn:De(r),planleggerLegend:e.jsx(xe,{hvemPlanlegger:t,barnet:r,hvemHarRett:p,uttaksplan:[...a.søker1,...a.søker2]}),barnehagestartdato:X})})}),e.jsx(q,{header:e.jsx(i,{id:"OversiktSteg.Infoboks.Utkast",values:{erAleneforsørger:R}}),color:"gray",icon:e.jsx(V,{height:24,width:24,fontSize:"1-5rem","aria-hidden":!0}),children:e.jsxs(f,{gap:"2",children:[e.jsx(ge,{children:e.jsx(i,{id:"OversiktSteg.Infoboks.Utkast.Tekst",values:{erAleneforsørger:R}})}),e.jsx(z,{children:e.jsx(B,{variant:"primary",type:"button",onClick:()=>{v(x()),O([...a.søker1,...a.søker2]),y(!0),s.goToNextStep(D.TILPASS_PLANEN)},children:e.jsx(b,{size:"small",children:e.jsx(i,{id:"OversiktSteg.Infoboks.TilpassPlanen"})})})})]})}),e.jsxs(f,{gap:"1",children:[e.jsx(Ae,{arbeidssituasjon:S,barnet:r,hvemPlanlegger:t}),e.jsx(Fe,{arbeidssituasjon:S,hvemPlanlegger:t,barnet:r})]}),e.jsx(de,{goToPreviousStep:s.goToPreviousDefaultStep,nextButtonOnClick:()=>{v(x()),O([...a.søker1,...a.søker2]),y(!1),s.goToNextStep(D.OPPSUMMERING)},isJumpToEndButton:!0,useSimplifiedTexts:!0})]})})})};we.__docgenInfo={description:"",methods:[],displayName:"PlanenDeresSteg",props:{stønadskontoer:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    '80': TilgjengeligeStønadskontoerForDekningsgrad;
    '100': TilgjengeligeStønadskontoerForDekningsgrad;
}`,signature:{properties:[{key:"80",value:{name:"signature",type:"object",raw:`{
    kontoer: Stønadskonto[];
    minsteretter: TilgjengeligeMinsterettskontoer;
    tillegg?: TilgjengeligeKontoTillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: StønadskontoType;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"StønadskontoType",required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"Stønadskonto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    [MinsterettType.farRundtFødsel]: number;
    [MinsterettType.toTette]: number;
}`,signature:{properties:[]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    [KontoTilleggType.prematur]: number;
    [KontoTilleggType.flerbarn]: number;
}`,signature:{properties:[]},required:!1}}]},required:!0}},{key:"100",value:{name:"signature",type:"object",raw:`{
    kontoer: Stønadskonto[];
    minsteretter: TilgjengeligeMinsterettskontoer;
    tillegg?: TilgjengeligeKontoTillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: StønadskontoType;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"StønadskontoType",required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"Stønadskonto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    [MinsterettType.farRundtFødsel]: number;
    [MinsterettType.toTette]: number;
}`,signature:{properties:[]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    [KontoTilleggType.prematur]: number;
    [KontoTilleggType.flerbarn]: number;
}`,signature:{properties:[]},required:!1}}]},required:!0}}]}},description:""}}};export{we as P};
