import{j as e}from"./jsx-runtime-Cw0GR0a5.js";import{u as Q,a as W,b as S,C as d,c as M}from"./usePlanleggerNavigator-BMwMoAob.js";import{P as X}from"./PlanleggerStepPage-CgCEs-Kq.js";import{u as Y,U as Z,H as $,M as p,B as N}from"./composeEventHandlers-CQxkItEI.js";import{g as ee,f as te}from"./FordelingSteg-DRGOHXbb.js";import{D as l}from"./Dekningsgrad-Bg_cIyqc.js";import{S as c,b as re,h as ae,c as ne,g as se}from"./HvemPlanleggerUtils-CRuekH12.js";import{u as oe,h as ie,a as le}from"./hvemHarRettUtils-DaTWCV6h.js";import{d as U,c as H,g as ge,l as de}from"./uttakUtils-6UCupljg.js";import{d as ue,S as me,f as pe}from"./VeiviserPage-CEALjThC.js";import{r as w}from"./index-CTjT7uj6.js";import{u as ce}from"./useScrollBehaviour-DHGEE0Vi.js";import{U as ke}from"./UttaksplanKalender-24oPhHao.js";import{n as f}from"./validation-DdAZ_Aa2.js";import"./dateFormValidation-akPD_OBx.js";import{C as Se}from"./CalendarLabels-h0IoqPIc.js";import{A as fe}from"./Arbeidssituasjon-i2z_eSVB.js";import{b as Te,m as ve}from"./barnetUtils-DlK2ezHC.js";import{b as Oe}from"./BarnehageplassSteg-BU0MhGrH.js";import{O as ye}from"./OmÅTilpassePlanen-BUEuVAbV.js";import{U as je}from"./UforutsetteEndringer-Cee2FGLi.js";import{V as v,H as De}from"./VStack-CL9KkpXr.js";import{S as he}from"./PersonGroup-28ji-Imn.js";import{T as O}from"./ToggleGroup-C3Jkg6Tv.js";const Re=typeof window<"u"&&window.matchMedia===void 0,be=(s,u)=>{const[o,a]=w.useState(u);return w.useEffect(()=>{if(Re)return;const k=window.matchMedia(s);a(k.matches);const t=r=>{a(r.matches)};return k.addEventListener("change",t),()=>{k.removeEventListener("change",t)}},[s]),o},xe="_calendar_wfn3i_1",Fe={calendar:xe},Ee=(s,u,o)=>{const a=U(s===l.HUNDRE_PROSENT?u[l.HUNDRE_PROSENT]:u[l.ÅTTI_PROSENT]);return o.antallDagerSøker1>a.totaltAntallDager?a.totaltAntallDager:o.antallDagerSøker1},_e=({stønadskontoer:s,locale:u})=>{const o=Y(),a=Q(u),k=W();ce();const t=f(S(d.HVEM_PLANLEGGER)),r=f(S(d.OM_BARNET)),T=f(S(d.HVOR_LANG_PERIODE)),m=f(S(d.ARBEIDSSITUASJON)),n=S(d.FORDELING),y=M(d.FORDELING),I=f(M(d.HVOR_LANG_PERIODE)),j=s[l.HUNDRE_PROSENT],D=s[l.ÅTTI_PROSENT],q=Oe(r),h=T.dekningsgrad===l.HUNDRE_PROSENT?j:D,G=U(h),B=g=>{const A=g;I({dekningsgrad:A}),n&&y({antallDagerSøker1:Ee(A,s,n)})},i=oe(m),L=t.type===c.FAR_OG_FAR&&(i==="kunSøker1HarRett"||i==="kunSøker2HarRett"),R=H(j),b=H(D),x=ge(r),C=re(t),F=ie(i,t)||le(i,t);let E;(t.type===c.MOR_OG_MEDMOR||t.type===c.MOR_OG_FAR)&&i==="kunSøker2HarRett"&&(E=Z(x).leggTil(30));const _=ae(t,i),P=de({erDeltUttak:n!==void 0,famDato:x,startdato:E,tilgjengeligeStønadskontoer:h.kontoer,fellesperiodeDagerMor:n==null?void 0:n.antallDagerSøker1,bareFarMedmorHarRett:F,erAdopsjon:Te(r),erFarEllerMedmor:_,erMorUfør:(m==null?void 0:m.status)===fe.UFØR,erAleneOmOmsorg:t.type===c.FAR||t.type===c.MOR}),K=ne(t,o),V=se(t,o),z=!0,J=be("screen and (min-width: 480)");return e.jsx("form",{children:e.jsx(X,{steps:k,goToStep:a.goToNextStep,children:e.jsxs(v,{gap:"6",children:[e.jsx(De,{justify:"space-between",children:e.jsx($,{size:"medium",spacing:!0,level:"2",children:e.jsx(p,{id:"OversiktSteg.Tittel",values:{erAleneforsørger:C}})})}),L&&r.erFødsel&&e.jsx(ue,{header:e.jsx(p,{id:"OversiktSteg.Infoboks.FarOgFar.DereHarOppgitt"}),icon:e.jsx(he,{height:24,width:24,fontSize:"1.5rem",color:"#0067C5","aria-hidden":!0}),color:"green",children:e.jsxs("div",{children:[e.jsx(N,{children:e.jsx(p,{id:"OversiktSteg.Infoboks.FarOgFar.DenSomErBiologisk"})}),e.jsx(N,{children:e.jsx(p,{id:"OversiktSteg.Infoboks.FarOgFar.HvisDetErStebarnsadopsjon"})})]})}),e.jsxs(v,{gap:"1",children:[e.jsxs(O,{defaultValue:T==null?void 0:T.dekningsgrad,size:J?"medium":"small",variant:"neutral",onChange:B,style:{width:"100%"},children:[e.jsx(O.Item,{value:l.HUNDRE_PROSENT,children:e.jsx(p,{id:"OversiktSteg.100",values:{uker:R.uker,dager:R.dager}})}),e.jsx(O.Item,{value:l.ÅTTI_PROSENT,children:e.jsx(p,{id:"OversiktSteg.80",values:{uker:b.uker,dager:b.dager}})})]}),i==="beggeHarRett"&&(!r.erFødsel||t.type!==c.FAR_OG_FAR)&&e.jsx(me,{defaultValue:n==null?void 0:n.antallDagerSøker1,label:"",name:"antallDagerSøker1",onChange:g=>{y({antallDagerSøker1:parseInt(g.target.value,10)})},children:ee(G).map(g=>e.jsx("option",{value:g.antallUkerOgDagerSøker1.totaltAntallDager,children:te(o,g,t,K,V,z)},g.antallUkerOgDagerSøker1.totaltAntallDager))})]}),e.jsx(v,{gap:"5",children:e.jsx("div",{className:Fe.calendar,children:e.jsx(ke,{bareFarHarRett:F,erFarEllerMedmor:_,harAktivitetskravIPeriodeUtenUttak:!1,søkersPerioder:P.søker1,annenPartsPerioder:P.søker2,navnAnnenPart:"Test",barn:ve(r),planleggerLegend:e.jsx(Se,{hvemPlanlegger:t,barnet:r,hvemHarRett:i}),barnehagestartdato:q})})}),e.jsxs(v,{gap:"1",children:[e.jsx(ye,{arbeidssituasjon:m,barnet:r,hvemPlanlegger:t}),e.jsx(je,{arbeidssituasjon:m,hvemPlanlegger:t,barnet:r})]}),e.jsx(pe,{goToPreviousStep:a.goToPreviousDefaultStep,nextButtonOnClick:a.goToNextDefaultStep,useSimplifiedTexts:!0})]})})})};_e.__docgenInfo={description:"",methods:[],displayName:"PlanenDeresSteg",props:{stønadskontoer:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    '80': TilgjengeligeStønadskontoerForDekningsgrad;
    '100': TilgjengeligeStønadskontoerForDekningsgrad;
}`,signature:{properties:[{key:"80",value:{name:"signature",type:"object",raw:`{
    kontoer: Stønadskonto[];
    minsteretter: TilgjengeligeMinsterettskontoer;
    tillegg?: TilgjengeligeKontoTillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: StønadskontoType;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"StønadskontoType",required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"Stønadskonto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    [MinsterettType.farRundtFødsel]: number;
    [MinsterettType.toTette]: number;
}`,signature:{properties:[]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    [KontoTilleggType.prematur]: number;
    [KontoTilleggType.flerbarn]: number;
}`,signature:{properties:[]},required:!1}}]},required:!0}},{key:"100",value:{name:"signature",type:"object",raw:`{
    kontoer: Stønadskonto[];
    minsteretter: TilgjengeligeMinsterettskontoer;
    tillegg?: TilgjengeligeKontoTillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: StønadskontoType;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"StønadskontoType",required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"Stønadskonto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    [MinsterettType.farRundtFødsel]: number;
    [MinsterettType.toTette]: number;
}`,signature:{properties:[]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    [KontoTilleggType.prematur]: number;
    [KontoTilleggType.flerbarn]: number;
}`,signature:{properties:[]},required:!1}}]},required:!0}}]}},description:""},locale:{required:!0,tsType:{name:"union",raw:"LocaleNo | 'en'",elements:[{name:"union",raw:"'nb' | 'nn'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"}]},{name:"literal",value:"'en'"}]},description:""}}};export{_e as P};
