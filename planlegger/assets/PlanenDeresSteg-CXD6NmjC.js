import{j as r}from"./jsx-runtime-Cw0GR0a5.js";import{u as X,a as Y,b as E,C as j,c as U}from"./usePlanleggerNavigator-B5zB9kBt.js";import{l as Z,C as ee}from"./kalenderPerioderUtils-BNhqJLdg.js";import{P as te}from"./PlanleggerStepPage-DTcf6wWR.js";import{B as H,L as re,u as ne,H as ae,M as S,c as oe}from"./Label-Cpj7GWrI.js";import{g as se,f as le}from"./FordelingSteg-UR8tCA-r.js";import{D as k}from"./Dekningsgrad-Bg_cIyqc.js";import{S as V,b as ie,c as ge,g as de}from"./HvemPlanleggerUtils-D1xsqW5u.js";import{u as ue}from"./hvemHarRettUtils-BiyQH6Vj.js";import{d as B,f as L,c as q}from"./uttakUtils-CBMPEG0k.js";import{m as ce,o as A,u as pe,d as z,p as me,C as fe,S as ke}from"./VeiviserPage-CkT3KPPH.js";import{r as y,R as v}from"./index-CTjT7uj6.js";import{u as ve}from"./dateFormValidation-BiF3bZPS.js";import{n as _}from"./validation-4HO0J-zV.js";import{O as be}from"./OmÅTilpassePlanen-Bqwmoy7w.js";import{U as Se}from"./UforutsetteEndringer-BU6r0owu.js";import{m as ye,c as P,a as Te,V as N}from"./VStack-CHPVCYB5.js";import{S as Oe}from"./Information-DTjzskpf.js";import{S as xe}from"./PersonGroup-Cdi4bEX1.js";import{h as je}from"./StepButtonsHookForm-sty2oT3A.js";y.createContext(null);const[he,st,De,Ee]=je(),[_e,$]=ce({name:"ToggleGroupContext",hookName:"useToggleGroupContext",providerName:"ToggleGroupProvider",errorMessage:"<ToggleGroup.Item> needs to be wrapped within <ToggleGroup>"});function we({value:t,disabled:s=!1,onFocus:a,onClick:e,onKeyDown:n},o){const{setSelectedValue:l,setFocusedValue:c,selectedValue:d,focusedValue:u}=$(),{register:b,descendants:g}=Ee({disabled:s,value:t}),f=t===d,h=()=>c(t),D=y.useCallback(m=>{const T=g.values().findIndex(i=>i.value===u),w={ArrowLeft:()=>{var i;const p=g.prevEnabled(T,!1);p&&((i=p.node)===null||i===void 0||i.focus())},ArrowRight:()=>{var i;const p=g.nextEnabled(T,!1);p&&((i=p.node)===null||i===void 0||i.focus())},Home:()=>{var i;const p=g.firstEnabled();p&&((i=p.node)===null||i===void 0||i.focus())},End:()=>{var i;const p=g.lastEnabled();p&&((i=p.node)===null||i===void 0||i.focus())}},F=m.shiftKey||m.ctrlKey||m.altKey||m.metaKey,R=w[m.key];R&&!F?(m.preventDefault(),R(m)):m.key==="Tab"&&d&&setTimeout(()=>c(d))},[g,u,d,c]);return{ref:ye([b,o]),isSelected:f,isFocused:u===t,onClick:A(e,()=>d!==t&&l(t)),onFocus:s?void 0:A(a,h),onKeyDown:A(n,D)}}var Fe=function(t,s){var a={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&s.indexOf(e)<0&&(a[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(t);n<e.length;n++)s.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(t,e[n])&&(a[e[n]]=t[e[n]]);return a};const Re=y.forwardRef((t,s)=>{var{className:a,children:e,icon:n,label:o,value:l,onClick:c,onFocus:d,onKeyDown:u}=t,b=Fe(t,["className","children","icon","label","value","onClick","onFocus","onKeyDown"]);const g=we({value:l,onClick:c,onFocus:d,disabled:!1,onKeyDown:u},s),f=$();return v.createElement("button",Object.assign({},b,{ref:g.ref,className:P("navds-toggle-group__button",a),type:"button",role:"radio","aria-checked":g.isSelected,tabIndex:g.isFocused?0:-1,onClick:g.onClick,onFocus:g.onFocus,onKeyDown:g.onKeyDown}),v.createElement(H,{as:"span",className:"navds-toggle-group__button-inner",size:f==null?void 0:f.size},e??v.createElement(v.Fragment,null,n,o)))});function Ne({onChange:t,value:s,defaultValue:a=""}){const[e,n]=y.useState(a),[o,l]=pe({defaultValue:a,value:s,onChange:t});return y.useEffect(()=>{s!=null&&n(s)},[s]),{selectedValue:o,setSelectedValue:l,focusedValue:e,setFocusedValue:n}}var Pe=function(t,s){var a={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&s.indexOf(e)<0&&(a[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(t);n<e.length;n++)s.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(t,e[n])&&(a[e[n]]=t[e[n]]);return a};const C=y.forwardRef((t,s)=>{var{className:a,children:e,onChange:n,size:o="medium",label:l,value:c,defaultValue:d,"aria-describedby":u,variant:b="action",fill:g=!1}=t,f=Pe(t,["className","children","onChange","size","label","value","defaultValue","aria-describedby","variant","fill"]);const h=De(),D=Ne({defaultValue:d,value:c,onChange:n}),m=Object.assign(Object.assign({},D),{size:o}),T=Te();return!c&&!d&&console.error("ToggleGroup without value or defaultvalue is not allowed"),!c&&!d&&console.error("ToggleGroup needs either a value or defaultValue"),v.createElement(he,{value:h},v.createElement(_e,Object.assign({},m),v.createElement("div",{className:P("navds-toggle-group__wrapper",a,{"navds-toggle-group__wrapper--fill":g})},l&&v.createElement(re,{size:o,className:"navds-toggle-group__label",id:T},l),v.createElement("div",Object.assign({},f,{ref:s,className:P("navds-toggle-group",`navds-toggle-group--${o}`,`navds-toggle-group--${b}`),"aria-describedby":P(u,!!l&&T)||void 0,role:"radiogroup"}),e))))});C.Item=Re;const Ce=typeof window<"u"&&window.matchMedia===void 0,Ie=(t,s)=>{const[a,e]=y.useState(s);return y.useEffect(()=>{if(Ce)return;const n=window.matchMedia(t);e(n.matches);const o=l=>{e(l.matches)};return n.addEventListener("change",o),()=>{n.removeEventListener("change",o)}},[t]),a},Ge="_calendar_wfn3i_1",Ae={calendar:Ge},He=(t,s,a)=>{const e=B(t===k.HUNDRE_PROSENT?s[k.HUNDRE_PROSENT]:s[k.ÅTTI_PROSENT]);return a.antallDagerSøker1>e.totaltAntallDager?e.totaltAntallDager:a.antallDagerSøker1},Me=({stønadskontoer:t,locale:s})=>{const a=ne(),e=X(s),n=Y();ve();const o=_(E(j.HVEM_PLANLEGGER)),l=_(E(j.OM_BARNET)),c=_(E(j.HVOR_LANG_PERIODE)),d=_(E(j.ARBEIDSSITUASJON)),u=E(j.FORDELING),b=U(j.FORDELING),g=_(U(j.HVOR_LANG_PERIODE)),f=t[k.HUNDRE_PROSENT],h=t[k.ÅTTI_PROSENT],D=c.dekningsgrad===k.HUNDRE_PROSENT?f:h,m=B(D),T=x=>{const K=x;g({dekningsgrad:K}),u&&b({antallDagerSøker1:He(K,t,u)})},O=ue(d),M=o.type===V.FAR_OG_FAR&&(O==="kunSøker1HarRett"||O==="kunSøker2HarRett"),I=L(O,o,f,l),G=L(O,o,h,l),w=q(I),F=q(G),R=ie(o),i=Z(D,l,o,d,u==null?void 0:u.antallDagerSøker1),p=ge(o,a),J=de(o,a),Q=!0,W=Ie("screen and (min-width: 480)");return r.jsx("form",{children:r.jsx(te,{steps:n,goToStep:e.goToNextStep,children:r.jsxs(N,{gap:"10",children:[r.jsx(ae,{size:"medium",spacing:!0,level:"2",children:r.jsx(S,{id:"OversiktSteg.Tittel",values:{erAleneforsørger:R}})}),r.jsx(z,{header:r.jsx(S,{id:"OversiktSteg.Infoboks.Utkast"}),color:"gray",icon:r.jsx(Oe,{height:24,width:24,fontSize:"1-5rem","aria-hidden":!0}),children:r.jsx(oe,{children:r.jsx(S,{id:"OversiktSteg.Infoboks.Utkast.Tekst"})})}),M&&l.erFødsel&&r.jsx(z,{header:r.jsx(S,{id:"OversiktSteg.Infoboks.FarOgFar.DereHarOppgitt"}),icon:r.jsx(xe,{height:24,width:24,fontSize:"1.5rem",color:"#0067C5","aria-hidden":!0}),color:"green",children:r.jsxs("div",{children:[r.jsx(H,{children:r.jsx(S,{id:"OversiktSteg.Infoboks.FarOgFar.DenSomErBiologisk"})}),r.jsx(H,{children:r.jsx(S,{id:"OversiktSteg.Infoboks.FarOgFar.HvisDetErStebarnsadopsjon"})})]})}),r.jsxs(N,{gap:"1",children:[r.jsxs(C,{defaultValue:c==null?void 0:c.dekningsgrad,size:W?"medium":"small",variant:"neutral",onChange:T,style:{width:"100%"},children:[r.jsx(C.Item,{value:k.HUNDRE_PROSENT,children:r.jsx(S,{id:"OversiktSteg.100",values:{uker:w.uker,dager:w.dager}})}),r.jsx(C.Item,{value:k.ÅTTI_PROSENT,children:r.jsx(S,{id:"OversiktSteg.80",values:{uker:F.uker,dager:F.dager}})})]}),O==="beggeHarRett"&&(!l.erFødsel||o.type!==V.FAR_OG_FAR)&&r.jsx(me,{defaultValue:u==null?void 0:u.antallDagerSøker1,label:"",name:"antallDagerSøker1",onChange:x=>{b({antallDagerSøker1:parseInt(x.target.value,10)})},children:se(m).map(x=>r.jsx("option",{value:x.antallUkerOgDagerSøker1.totaltAntallDager,children:le(a,x,o,p,J,Q)},x.antallUkerOgDagerSøker1.totaltAntallDager))})]}),r.jsxs(N,{gap:"5",children:[r.jsx(ee,{uttaksdata:c.dekningsgrad===k.HUNDRE_PROSENT?I:G,hvemPlanlegger:o,barnet:l,hvemHarRett:O}),r.jsx("div",{className:Ae.calendar,children:r.jsx(fe,{periods:i})})]}),r.jsxs(N,{gap:"1",children:[r.jsx(be,{arbeidssituasjon:d,barnet:l,hvemPlanlegger:o}),r.jsx(Se,{arbeidssituasjon:d,hvemPlanlegger:o,barnet:l})]}),r.jsx(ke,{goToPreviousStep:e.goToPreviousDefaultStep,nextButtonOnClick:e.goToNextDefaultStep,useSimplifiedTexts:!0})]})})})};Me.__docgenInfo={description:"",methods:[],displayName:"PlanenDeresSteg",props:{stønadskontoer:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    '80': TilgjengeligeStønadskontoerForDekningsgrad;
    '100': TilgjengeligeStønadskontoerForDekningsgrad;
}`,signature:{properties:[{key:"80",value:{name:"signature",type:"object",raw:`{
    kontoer: Stønadskonto[];
    minsteretter: TilgjengeligeMinsterettskontoer;
    tillegg?: TilgjengeligeKontoTillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: StønadskontoType;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"StønadskontoType",required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"Stønadskonto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    [MinsterettType.farRundtFødsel]: number;
    [MinsterettType.toTette]: number;
}`,signature:{properties:[]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    [KontoTilleggType.prematur]: number;
    [KontoTilleggType.flerbarn]: number;
}`,signature:{properties:[]},required:!1}}]},required:!0}},{key:"100",value:{name:"signature",type:"object",raw:`{
    kontoer: Stønadskonto[];
    minsteretter: TilgjengeligeMinsterettskontoer;
    tillegg?: TilgjengeligeKontoTillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: StønadskontoType;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"StønadskontoType",required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"Stønadskonto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    [MinsterettType.farRundtFødsel]: number;
    [MinsterettType.toTette]: number;
}`,signature:{properties:[]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    [KontoTilleggType.prematur]: number;
    [KontoTilleggType.flerbarn]: number;
}`,signature:{properties:[]},required:!1}}]},required:!0}}]}},description:""},locale:{required:!0,tsType:{name:"union",raw:"LocaleNo | 'en'",elements:[{name:"union",raw:"'nb' | 'nn'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"}]},{name:"literal",value:"'en'"}]},description:""}}};export{Me as P};
