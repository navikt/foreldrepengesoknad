import{m as W,c as F,a as X,j as n,V as w}from"./VStack-CUK_170J.js";import{u as Y,a as Z,b as D,C as j,c as U}from"./usePlanleggerNavigator--ivN0HFz.js";import{l as ee,C as te}from"./kalenderPerioderUtils-BuK3nbRC.js";import{P as re}from"./PlanleggerStepPage-rhW8hRYv.js";import{B as A,L as ne,u as ae,H as oe,M as S,e as se}from"./Label-CID3Cstt.js";import{g as le,f as ie}from"./FordelingSteg-CCkotkBt.js";import{D as k}from"./Dekningsgrad-Bg_cIyqc.js";import{S as V,b as de,c as ge,g as ue}from"./HvemPlanleggerUtils-D1xsqW5u.js";import{u as ce}from"./hvemHarRettUtils-tuYFdP_1.js";import{d as z,f as K,c as L}from"./uttakUtils-CMk_3sxY.js";import{k as pe,m as G,d as q,C as me,S as fe}from"./Infobox-C9xVbVLy.js";import{r as y,R as v}from"./index-DVXBtNgz.js";import{u as ke}from"./useScrollBehaviour-DZQNITUT.js";import{n as E}from"./validation-4HO0J-zV.js";import{O as ve}from"./OmÅTilpassePlanen-Cep8bi9t.js";import{U as be}from"./UforutsetteEndringer-DiXBwpYK.js";import{S as Se}from"./Information-7yXFVef7.js";import{S as ye}from"./PersonGroup-B7ZUyNHa.js";import{d as Te,e as Oe}from"./StepButtonsHookForm-BTvbgS1l.js";import{u as je}from"./ExpansionCard-B-Fv0RpH.js";y.createContext(null);const[xe,ot,he,De]=Te(),[Ee,B]=pe({name:"ToggleGroupContext",hookName:"useToggleGroupContext",providerName:"ToggleGroupProvider",errorMessage:"<ToggleGroup.Item> needs to be wrapped within <ToggleGroup>"});function _e({value:e,disabled:a=!1,onFocus:o,onClick:t,onKeyDown:r},s){const{setSelectedValue:g,setFocusedValue:u,selectedValue:l,focusedValue:m}=B(),{register:T,descendants:d}=De({disabled:a,value:e}),f=e===l,x=()=>u(e),h=y.useCallback(b=>{const p=d.values().findIndex(i=>i.value===m),_={ArrowLeft:()=>{var i;const c=d.prevEnabled(p,!1);c&&((i=c.node)===null||i===void 0||i.focus())},ArrowRight:()=>{var i;const c=d.nextEnabled(p,!1);c&&((i=c.node)===null||i===void 0||i.focus())},Home:()=>{var i;const c=d.firstEnabled();c&&((i=c.node)===null||i===void 0||i.focus())},End:()=>{var i;const c=d.lastEnabled();c&&((i=c.node)===null||i===void 0||i.focus())}}[b.key];_?(b.preventDefault(),_(b)):b.key==="Tab"&&l&&setTimeout(()=>u(l))},[d,m,l,u]);return{ref:W([T,s]),isSelected:f,isFocused:m===e,onClick:G(t,()=>l!==e&&g(e)),onFocus:a?void 0:G(o,x),onKeyDown:G(r,h)}}var we=function(e,a){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)a.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(o[t[r]]=e[t[r]]);return o};const Fe=y.forwardRef((e,a)=>{var{className:o,children:t,icon:r,label:s,value:g,onClick:u,onFocus:l,onKeyDown:m}=e,T=we(e,["className","children","icon","label","value","onClick","onFocus","onKeyDown"]);const d=_e({value:g,onClick:u,onFocus:l,disabled:!1,onKeyDown:m},a),f=B();return v.createElement("button",Object.assign({},T,{ref:d.ref,className:F("navds-toggle-group__button",o),type:"button",role:"radio","aria-checked":d.isSelected,tabIndex:d.isFocused?0:-1,onClick:d.onClick,onFocus:d.onFocus,onKeyDown:d.onKeyDown}),v.createElement(A,{as:"span",className:"navds-toggle-group__button-inner",size:f==null?void 0:f.size},t??v.createElement(v.Fragment,null,r,s)))});function Re({onChange:e,value:a,defaultValue:o=""}){const[t,r]=y.useState(o),[s,g]=je({defaultValue:o,value:a,onChange:e});return y.useEffect(()=>{a!=null&&r(a)},[a]),{selectedValue:s,setSelectedValue:g,focusedValue:t,setFocusedValue:r}}var Pe=function(e,a){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)a.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(o[t[r]]=e[t[r]]);return o};const R=y.forwardRef((e,a)=>{var{className:o,children:t,onChange:r,size:s="medium",label:g,value:u,defaultValue:l,"aria-describedby":m,variant:T="action",fill:d=!1}=e,f=Pe(e,["className","children","onChange","size","label","value","defaultValue","aria-describedby","variant","fill"]);const x=he(),h=Re({defaultValue:l,value:u,onChange:r}),b=Object.assign(Object.assign({},h),{size:s}),p=X();return!u&&!l&&console.error("ToggleGroup without value or defaultvalue is not allowed"),!u&&!l&&console.error("ToggleGroup needs either a value or defaultValue"),v.createElement(xe,{value:x},v.createElement(Ee,Object.assign({},b),v.createElement("div",{className:F("navds-toggle-group__wrapper",o,{"navds-toggle-group__wrapper--fill":d})},g&&v.createElement(ne,{size:s,className:"navds-toggle-group__label",id:p},g),v.createElement("div",Object.assign({},f,{ref:a,className:F("navds-toggle-group",`navds-toggle-group--${s}`,`navds-toggle-group--${T}`),"aria-describedby":F(m,!!g&&p)||void 0,role:"radiogroup"}),t))))});R.Item=Fe;const Ne=typeof window<"u"&&window.matchMedia===void 0,Ce=(e,a)=>{const[o,t]=y.useState(a);return y.useEffect(()=>{if(Ne)return;const r=window.matchMedia(e);t(r.matches);const s=g=>{t(g.matches)};return r.addEventListener("change",s),()=>{r.removeEventListener("change",s)}},[e]),o},Ie="_calendar_wfn3i_1",Ge={calendar:Ie},Ae=(e,a,o)=>{const t=z(e===k.HUNDRE_PROSENT?a[k.HUNDRE_PROSENT]:a[k.ÅTTI_PROSENT]);return o.antallDagerSøker1>t.totaltAntallDager?t.totaltAntallDager:o.antallDagerSøker1},He=({stønadskontoer:e})=>{const a=ae(),o=Y(),t=Z();ke();const r=E(D(j.HVEM_PLANLEGGER)),s=E(D(j.OM_BARNET)),g=E(D(j.HVOR_LANG_PERIODE)),u=E(D(j.ARBEIDSSITUASJON)),l=D(j.FORDELING),m=U(j.FORDELING),T=E(U(j.HVOR_LANG_PERIODE)),d=e[k.HUNDRE_PROSENT],f=e[k.ÅTTI_PROSENT],x=g.dekningsgrad===k.HUNDRE_PROSENT?d:f,h=z(x),b=O=>{const M=O;T({dekningsgrad:M}),l&&m({antallDagerSøker1:Ae(M,e,l)})},p=ce(u),H=r.type===V.FAR_OG_FAR&&(p==="kunSøker1HarRett"||p==="kunSøker2HarRett"),P=K(p,r,d,s),N=K(p,r,f,s),C=L(P),I=L(N),_=de(r),i=ee(x,s,r,u,l==null?void 0:l.antallDagerSøker1),c=ge(r,a),$=ue(r,a),J=!0,Q=Ce("screen and (min-width: 480)");return n.jsx("form",{children:n.jsx(re,{steps:t,children:n.jsxs(w,{gap:"10",children:[n.jsx(oe,{size:"medium",spacing:!0,level:"2",children:n.jsx(S,{id:"OversiktSteg.Tittel",values:{erAleneforsørger:_}})}),n.jsx(q,{header:n.jsx(S,{id:"OversiktSteg.Infoboks.Utkast"}),isGray:!0,icon:n.jsx(Se,{height:24,width:24,fontSize:"1-5rem","aria-hidden":!0}),children:n.jsx(se,{children:n.jsx(S,{id:"OversiktSteg.Infoboks.Utkast.Tekst"})})}),H&&s.erFødsel&&n.jsx(q,{header:n.jsx(S,{id:"OversiktSteg.Infoboks.FarOgFar.DereHarOppgitt"}),icon:n.jsx(ye,{height:24,width:24,fontSize:"1.5rem",color:"#0067C5","aria-hidden":!0}),children:n.jsxs("div",{children:[n.jsx(A,{children:n.jsx(S,{id:"OversiktSteg.Infoboks.FarOgFar.DenSomErBiologisk"})}),n.jsx(A,{children:n.jsx(S,{id:"OversiktSteg.Infoboks.FarOgFar.HvisDetErStebarnsadopsjon"})})]})}),n.jsxs(w,{gap:"1",children:[n.jsxs(R,{defaultValue:g==null?void 0:g.dekningsgrad,size:Q?"medium":"small",variant:"neutral",onChange:b,style:{width:"100%"},children:[n.jsx(R.Item,{value:k.HUNDRE_PROSENT,children:n.jsx(S,{id:"OversiktSteg.100",values:{uker:C.uker,dager:C.dager}})}),n.jsx(R.Item,{value:k.ÅTTI_PROSENT,children:n.jsx(S,{id:"OversiktSteg.80",values:{uker:I.uker,dager:I.dager}})})]}),p==="beggeHarRett"&&(!s.erFødsel||r.type!==V.FAR_OG_FAR)&&n.jsx(Oe,{defaultValue:l==null?void 0:l.antallDagerSøker1,label:"",name:"antallDagerSøker1",onChange:O=>{m({antallDagerSøker1:parseInt(O.target.value,10)})},children:le(h).map(O=>n.jsx("option",{value:O.antallUkerOgDagerSøker1.totaltAntallDager,children:ie(a,O,r,c,$,J)},O.antallUkerOgDagerSøker1.totaltAntallDager))})]}),n.jsxs(w,{gap:"5",children:[n.jsx(te,{uttaksdata:g.dekningsgrad===k.HUNDRE_PROSENT?P:N,hvemPlanlegger:r,barnet:s,hvemHarRett:p}),n.jsx("div",{className:Ge.calendar,children:n.jsx(me,{periods:i})})]}),n.jsxs(w,{gap:"1",children:[n.jsx(ve,{arbeidssituasjon:u,barnet:s,hvemPlanlegger:r}),n.jsx(be,{arbeidssituasjon:u,hvemPlanlegger:r,barnet:s})]}),n.jsx(fe,{goToPreviousStep:o.goToPreviousDefaultStep,nextButtonOnClick:o.goToNextDefaultStep,useSimplifiedTexts:!0})]})})})};He.__docgenInfo={description:"",methods:[],displayName:"PlanenDeresSteg",props:{stønadskontoer:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    '80': TilgjengeligeStønadskontoerForDekningsgrad;
    '100': TilgjengeligeStønadskontoerForDekningsgrad;
}`,signature:{properties:[{key:"80",value:{name:"signature",type:"object",raw:`{
    kontoer: Stønadskonto[];
    minsteretter: TilgjengeligeMinsterettskontoer;
    tillegg?: TilgjengeligeKontoTillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: StønadskontoType;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"StønadskontoType",required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"Stønadskonto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    [MinsterettType.farRundtFødsel]: number;
    [MinsterettType.toTette]: number;
}`,signature:{properties:[]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    [KontoTilleggType.prematur]: number;
    [KontoTilleggType.flerbarn]: number;
}`,signature:{properties:[]},required:!1}}]},required:!0}},{key:"100",value:{name:"signature",type:"object",raw:`{
    kontoer: Stønadskonto[];
    minsteretter: TilgjengeligeMinsterettskontoer;
    tillegg?: TilgjengeligeKontoTillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: StønadskontoType;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"StønadskontoType",required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"Stønadskonto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    [MinsterettType.farRundtFødsel]: number;
    [MinsterettType.toTette]: number;
}`,signature:{properties:[]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    [KontoTilleggType.prematur]: number;
    [KontoTilleggType.flerbarn]: number;
}`,signature:{properties:[]},required:!1}}]},required:!0}}]}},description:""}}};export{He as P};
