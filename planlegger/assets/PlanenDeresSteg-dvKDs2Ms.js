import{j as r}from"./jsx-runtime-Cw0GR0a5.js";import{u as X,a as Y,b as E,C as j,c as U}from"./usePlanleggerNavigator-DW4nnOlQ.js";import{l as Z,C as ee}from"./kalenderPerioderUtils-Dp-FPEJI.js";import{P as te}from"./PlanleggerStepPage-F7Yp21t3.js";import{B as H,L as re,u as ne,H as ae,M as S,a as oe}from"./Label-CXFT65WO.js";import{g as se,f as le}from"./FordelingSteg-BsvtQi8g.js";import{D as k}from"./Dekningsgrad-Bg_cIyqc.js";import{S as V,b as ie,c as de,g as ge}from"./HvemPlanleggerUtils-D1xsqW5u.js";import{u as ue}from"./hvemHarRettUtils-BiyQH6Vj.js";import{d as B,f as L,c as q}from"./uttakUtils-D2M1HdQ9.js";import{k as ce,m as A,h as pe,d as z,o as me,C as fe,S as ke}from"./VeiviserPage-BcsEgJcv.js";import{r as y,R as v}from"./index-CTjT7uj6.js";import{u as ve}from"./useScrollBehaviour-DHGEE0Vi.js";import{n as _}from"./validation-4HO0J-zV.js";import"./dateFormValidation-DEZIZxBd.js";import{O as be}from"./OmÅTilpassePlanen-Cg-04bGr.js";import{U as Se}from"./UforutsetteEndringer-S7UcI-8n.js";import{m as ye,c as P,a as Te,V as N}from"./VStack-DXwxFTIo.js";import{S as Oe}from"./Information-BHhX2pxT.js";import{S as xe}from"./PersonGroup-Dm-EwGRr.js";import{g as je}from"./StepButtonsHookForm-dNN7vPxK.js";const he=typeof window<"u"&&window.matchMedia===void 0,De=(t,s)=>{const[a,e]=y.useState(s);return y.useEffect(()=>{if(he)return;const n=window.matchMedia(t);e(n.matches);const o=l=>{e(l.matches)};return n.addEventListener("change",o),()=>{n.removeEventListener("change",o)}},[t]),a};y.createContext(null);const[Ee,lt,_e,we]=je(),[Fe,$]=ce({name:"ToggleGroupContext",hookName:"useToggleGroupContext",providerName:"ToggleGroupProvider",errorMessage:"<ToggleGroup.Item> needs to be wrapped within <ToggleGroup>"});function Re({value:t,disabled:s=!1,onFocus:a,onClick:e,onKeyDown:n},o){const{setSelectedValue:l,setFocusedValue:p,selectedValue:u,focusedValue:c}=$(),{register:b,descendants:d}=we({disabled:s,value:t}),f=t===u,h=()=>p(t),D=y.useCallback(m=>{const T=d.values().findIndex(i=>i.value===c),w={ArrowLeft:()=>{var i;const g=d.prevEnabled(T,!1);(i=g==null?void 0:g.node)===null||i===void 0||i.focus()},ArrowRight:()=>{var i;const g=d.nextEnabled(T,!1);(i=g==null?void 0:g.node)===null||i===void 0||i.focus()},Home:()=>{var i;const g=d.firstEnabled();(i=g==null?void 0:g.node)===null||i===void 0||i.focus()},End:()=>{var i;const g=d.lastEnabled();(i=g==null?void 0:g.node)===null||i===void 0||i.focus()}},F=m.shiftKey||m.ctrlKey||m.altKey||m.metaKey,R=w[m.key];R&&!F?(m.preventDefault(),R(m)):m.key==="Tab"&&u&&setTimeout(()=>p(u))},[d,c,u,p]);return{ref:ye([b,o]),isSelected:f,isFocused:c===t,onClick:A(e,()=>u!==t&&l(t)),onFocus:s?void 0:A(a,h),onKeyDown:A(n,D)}}var Ne=function(t,s){var a={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&s.indexOf(e)<0&&(a[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(t);n<e.length;n++)s.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(t,e[n])&&(a[e[n]]=t[e[n]]);return a};const Pe=y.forwardRef((t,s)=>{var{className:a,children:e,icon:n,label:o,value:l,onClick:p,onFocus:u,onKeyDown:c}=t,b=Ne(t,["className","children","icon","label","value","onClick","onFocus","onKeyDown"]);const d=Re({value:l,onClick:p,onFocus:u,disabled:!1,onKeyDown:c},s),f=$();return v.createElement("button",Object.assign({},b,{ref:d.ref,className:P("navds-toggle-group__button",a),type:"button",role:"radio","aria-checked":d.isSelected,tabIndex:d.isFocused?0:-1,onClick:d.onClick,onFocus:d.onFocus,onKeyDown:d.onKeyDown}),v.createElement(H,{as:"span",className:"navds-toggle-group__button-inner",size:f==null?void 0:f.size},e??v.createElement(v.Fragment,null,n,o)))});function Ce({onChange:t,value:s,defaultValue:a=""}){const[e,n]=y.useState(a),[o,l]=pe({defaultValue:a,value:s,onChange:t});return y.useEffect(()=>{s!=null&&n(s)},[s]),{selectedValue:o,setSelectedValue:l,focusedValue:e,setFocusedValue:n}}var Ie=function(t,s){var a={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&s.indexOf(e)<0&&(a[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(t);n<e.length;n++)s.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(t,e[n])&&(a[e[n]]=t[e[n]]);return a};const C=y.forwardRef((t,s)=>{var{className:a,children:e,onChange:n,size:o="medium",label:l,value:p,defaultValue:u,"aria-describedby":c,variant:b="action",fill:d=!1}=t,f=Ie(t,["className","children","onChange","size","label","value","defaultValue","aria-describedby","variant","fill"]);const h=_e(),D=Ce({defaultValue:u,value:p,onChange:n}),m=Object.assign(Object.assign({},D),{size:o}),T=Te();return!p&&!u&&console.error("ToggleGroup without value or defaultvalue is not allowed"),!p&&!u&&console.error("ToggleGroup needs either a value or defaultValue"),v.createElement(Ee,{value:h},v.createElement(Fe,Object.assign({},m),v.createElement("div",{className:P("navds-toggle-group__wrapper",a,{"navds-toggle-group__wrapper--fill":d})},l&&v.createElement(re,{size:o,className:"navds-toggle-group__label",id:T},l),v.createElement("div",Object.assign({},f,{ref:s,className:P("navds-toggle-group",`navds-toggle-group--${o}`,`navds-toggle-group--${b}`),"aria-describedby":P(c,!!l&&T)||void 0,role:"radiogroup"}),e))))});C.Item=Pe;const Ge="_calendar_wfn3i_1",Ae={calendar:Ge},He=(t,s,a)=>{const e=B(t===k.HUNDRE_PROSENT?s[k.HUNDRE_PROSENT]:s[k.ÅTTI_PROSENT]);return a.antallDagerSøker1>e.totaltAntallDager?e.totaltAntallDager:a.antallDagerSøker1},Me=({stønadskontoer:t,locale:s})=>{const a=ne(),e=X(s),n=Y();ve();const o=_(E(j.HVEM_PLANLEGGER)),l=_(E(j.OM_BARNET)),p=_(E(j.HVOR_LANG_PERIODE)),u=_(E(j.ARBEIDSSITUASJON)),c=E(j.FORDELING),b=U(j.FORDELING),d=_(U(j.HVOR_LANG_PERIODE)),f=t[k.HUNDRE_PROSENT],h=t[k.ÅTTI_PROSENT],D=p.dekningsgrad===k.HUNDRE_PROSENT?f:h,m=B(D),T=x=>{const K=x;d({dekningsgrad:K}),c&&b({antallDagerSøker1:He(K,t,c)})},O=ue(u),M=o.type===V.FAR_OG_FAR&&(O==="kunSøker1HarRett"||O==="kunSøker2HarRett"),I=L(O,o,f,l),G=L(O,o,h,l),w=q(I),F=q(G),R=ie(o),i=Z(D,l,o,u,c==null?void 0:c.antallDagerSøker1),g=de(o,a),J=ge(o,a),Q=!0,W=De("screen and (min-width: 480)");return r.jsx("form",{children:r.jsx(te,{steps:n,goToStep:e.goToNextStep,children:r.jsxs(N,{gap:"10",children:[r.jsx(ae,{size:"medium",spacing:!0,level:"2",children:r.jsx(S,{id:"OversiktSteg.Tittel",values:{erAleneforsørger:R}})}),r.jsx(z,{header:r.jsx(S,{id:"OversiktSteg.Infoboks.Utkast"}),color:"gray",icon:r.jsx(Oe,{height:24,width:24,fontSize:"1-5rem","aria-hidden":!0}),children:r.jsx(oe,{children:r.jsx(S,{id:"OversiktSteg.Infoboks.Utkast.Tekst"})})}),M&&l.erFødsel&&r.jsx(z,{header:r.jsx(S,{id:"OversiktSteg.Infoboks.FarOgFar.DereHarOppgitt"}),icon:r.jsx(xe,{height:24,width:24,fontSize:"1.5rem",color:"#0067C5","aria-hidden":!0}),color:"green",children:r.jsxs("div",{children:[r.jsx(H,{children:r.jsx(S,{id:"OversiktSteg.Infoboks.FarOgFar.DenSomErBiologisk"})}),r.jsx(H,{children:r.jsx(S,{id:"OversiktSteg.Infoboks.FarOgFar.HvisDetErStebarnsadopsjon"})})]})}),r.jsxs(N,{gap:"1",children:[r.jsxs(C,{defaultValue:p==null?void 0:p.dekningsgrad,size:W?"medium":"small",variant:"neutral",onChange:T,style:{width:"100%"},children:[r.jsx(C.Item,{value:k.HUNDRE_PROSENT,children:r.jsx(S,{id:"OversiktSteg.100",values:{uker:w.uker,dager:w.dager}})}),r.jsx(C.Item,{value:k.ÅTTI_PROSENT,children:r.jsx(S,{id:"OversiktSteg.80",values:{uker:F.uker,dager:F.dager}})})]}),O==="beggeHarRett"&&(!l.erFødsel||o.type!==V.FAR_OG_FAR)&&r.jsx(me,{defaultValue:c==null?void 0:c.antallDagerSøker1,label:"",name:"antallDagerSøker1",onChange:x=>{b({antallDagerSøker1:parseInt(x.target.value,10)})},children:se(m).map(x=>r.jsx("option",{value:x.antallUkerOgDagerSøker1.totaltAntallDager,children:le(a,x,o,g,J,Q)},x.antallUkerOgDagerSøker1.totaltAntallDager))})]}),r.jsxs(N,{gap:"5",children:[r.jsx(ee,{uttaksdata:p.dekningsgrad===k.HUNDRE_PROSENT?I:G,hvemPlanlegger:o,barnet:l,hvemHarRett:O}),r.jsx("div",{className:Ae.calendar,children:r.jsx(fe,{periods:i})})]}),r.jsxs(N,{gap:"1",children:[r.jsx(be,{arbeidssituasjon:u,barnet:l,hvemPlanlegger:o}),r.jsx(Se,{arbeidssituasjon:u,hvemPlanlegger:o,barnet:l})]}),r.jsx(ke,{goToPreviousStep:e.goToPreviousDefaultStep,nextButtonOnClick:e.goToNextDefaultStep,useSimplifiedTexts:!0})]})})})};Me.__docgenInfo={description:"",methods:[],displayName:"PlanenDeresSteg",props:{stønadskontoer:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    '80': TilgjengeligeStønadskontoerForDekningsgrad;
    '100': TilgjengeligeStønadskontoerForDekningsgrad;
}`,signature:{properties:[{key:"80",value:{name:"signature",type:"object",raw:`{
    kontoer: Stønadskonto[];
    minsteretter: TilgjengeligeMinsterettskontoer;
    tillegg?: TilgjengeligeKontoTillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: StønadskontoType;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"StønadskontoType",required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"Stønadskonto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    [MinsterettType.farRundtFødsel]: number;
    [MinsterettType.toTette]: number;
}`,signature:{properties:[]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    [KontoTilleggType.prematur]: number;
    [KontoTilleggType.flerbarn]: number;
}`,signature:{properties:[]},required:!1}}]},required:!0}},{key:"100",value:{name:"signature",type:"object",raw:`{
    kontoer: Stønadskonto[];
    minsteretter: TilgjengeligeMinsterettskontoer;
    tillegg?: TilgjengeligeKontoTillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: StønadskontoType;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"StønadskontoType",required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"Stønadskonto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    [MinsterettType.farRundtFødsel]: number;
    [MinsterettType.toTette]: number;
}`,signature:{properties:[]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    [KontoTilleggType.prematur]: number;
    [KontoTilleggType.flerbarn]: number;
}`,signature:{properties:[]},required:!1}}]},required:!0}}]}},description:""},locale:{required:!0,tsType:{name:"union",raw:"LocaleNo | 'en'",elements:[{name:"union",raw:"'nb' | 'nn'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"}]},{name:"literal",value:"'en'"}]},description:""}}};export{Me as P};
