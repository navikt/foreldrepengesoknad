import{m as G,c as T,a as j}from"./VStack-CL9KkpXr.js";import{r as m,R as f}from"./index-CTjT7uj6.js";import{j as O,B as D,k,L as F}from"./UttaksdagenString-CIHKv-n2.js";import{g as K}from"./VeiviserPage-BSjOxTLZ.js";import{c as N}from"./useDescendant-LVjUk_Yw.js";m.createContext(null);const[S,Z,I,V]=N(),[P,h]=K({name:"ToggleGroupContext",hookName:"useToggleGroupContext",providerName:"ToggleGroupProvider",errorMessage:"<ToggleGroup.Item> needs to be wrapped within <ToggleGroup>"});function R({value:o,disabled:n=!1,onFocus:a,onClick:e,onKeyDown:t},u){const{setSelectedValue:i,setFocusedValue:g,selectedValue:c,focusedValue:p}=h(),{register:v,descendants:s}=V({disabled:n,value:o}),b=o===c,x=()=>g(o),w=m.useCallback(d=>{const y=s.values().findIndex(r=>r.value===p),C={ArrowLeft:()=>{var r;const l=s.prevEnabled(y,!1);(r=l==null?void 0:l.node)===null||r===void 0||r.focus()},ArrowRight:()=>{var r;const l=s.nextEnabled(y,!1);(r=l==null?void 0:l.node)===null||r===void 0||r.focus()},Home:()=>{var r;const l=s.firstEnabled();(r=l==null?void 0:l.node)===null||r===void 0||r.focus()},End:()=>{var r;const l=s.lastEnabled();(r=l==null?void 0:l.node)===null||r===void 0||r.focus()}},E=d.shiftKey||d.ctrlKey||d.altKey||d.metaKey,_=C[d.key];_&&!E?(d.preventDefault(),_(d)):d.key==="Tab"&&c&&setTimeout(()=>g(c))},[s,p,c,g]);return{ref:G([v,u]),isSelected:b,isFocused:p===o,onClick:O(e,()=>c!==o&&i(o)),onFocus:n?void 0:O(a,x),onKeyDown:O(t,w)}}var z=function(o,n){var a={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&n.indexOf(e)<0&&(a[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(o);t<e.length;t++)n.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(o,e[t])&&(a[e[t]]=o[e[t]]);return a};const L=m.forwardRef((o,n)=>{var{className:a,children:e,icon:t,label:u,value:i,onClick:g,onFocus:c,onKeyDown:p}=o,v=z(o,["className","children","icon","label","value","onClick","onFocus","onKeyDown"]);const s=R({value:i,onClick:g,onFocus:c,disabled:!1,onKeyDown:p},n),b=h();return f.createElement("button",Object.assign({},v,{ref:s.ref,className:T("navds-toggle-group__button",a),type:"button",role:"radio","aria-checked":s.isSelected,tabIndex:s.isFocused?0:-1,onClick:s.onClick,onFocus:s.onFocus,onKeyDown:s.onKeyDown}),f.createElement(D,{as:"span",className:"navds-toggle-group__button-inner",size:b==null?void 0:b.size},e??f.createElement(f.Fragment,null,t,u)))});function M({onChange:o,value:n,defaultValue:a=""}){const[e,t]=m.useState(a),[u,i]=k({defaultValue:a,value:n,onChange:o});return m.useEffect(()=>{n!=null&&t(n)},[n]),{selectedValue:u,setSelectedValue:i,focusedValue:e,setFocusedValue:t}}var $=function(o,n){var a={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&n.indexOf(e)<0&&(a[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(o);t<e.length;t++)n.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(o,e[t])&&(a[e[t]]=o[e[t]]);return a};const A=m.forwardRef((o,n)=>{var{className:a,children:e,onChange:t,size:u="medium",label:i,value:g,defaultValue:c,"aria-describedby":p,variant:v="action",fill:s=!1}=o,b=$(o,["className","children","onChange","size","label","value","defaultValue","aria-describedby","variant","fill"]);const x=I(),w=M({defaultValue:c,value:g,onChange:t}),d=Object.assign(Object.assign({},w),{size:u}),y=j();return!g&&!c&&console.error("ToggleGroup without value or defaultvalue is not allowed"),!g&&!c&&console.error("ToggleGroup needs either a value or defaultValue"),f.createElement(S,{value:x},f.createElement(P,Object.assign({},d),f.createElement("div",{className:T("navds-toggle-group__wrapper",a,{"navds-toggle-group__wrapper--fill":s})},i&&f.createElement(F,{size:u,className:"navds-toggle-group__label",id:y},i),f.createElement("div",Object.assign({},b,{ref:n,className:T("navds-toggle-group",`navds-toggle-group--${u}`,`navds-toggle-group--${v}`),"aria-describedby":T(p,!!i&&y)||void 0,role:"radiogroup"}),e))))});A.Item=L;export{A as T};
