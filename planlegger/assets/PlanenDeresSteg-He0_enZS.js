import{j as e}from"./jsx-runtime-DwRxq3ZX.js";import{u as Q,a as W,b as S,C as d,c as M}from"./usePlanleggerNavigator-D8MRbo-c.js";import{P as X}from"./PlanleggerStepPage-B4mv9i7n.js";import{u as Y,U as Z,H as $,M as p,B as N}from"./UttaksdagenString-BukZE9W5.js";import{g as ee,f as te}from"./FordelingSteg--9dqG0FH.js";import{D as l}from"./Dekningsgrad-Bg_cIyqc.js";import{S as c,b as re,h as ne,c as ae,g as se}from"./HvemPlanleggerUtils-BK9nF1ca.js";import{u as oe,h as ie,a as le}from"./hvemHarRettUtils-C-poRxZI.js";import{d as U,c as H,g as ge,l as de}from"./uttakUtils-Ccou8geE.js";import{d as ue,S as me,f as pe}from"./VeiviserPage-D4tcb8_M.js";import{r as w}from"./index-BX3iQpgp.js";import{u as ce}from"./useScrollBehaviour-CZj3Grib.js";import{U as ke}from"./UttaksplanKalender-DjMPEdLw.js";import{n as f}from"./validation-C6jaRJB5.js";import"./dateFormValidation-Bp6HZMTm.js";import{C as Se}from"./CalendarLabels-DXk4Tri_.js";import{A as fe}from"./Arbeidssituasjon-i2z_eSVB.js";import{b as Te,m as ve}from"./barnetUtils-CSRVk0a8.js";import{b as Oe}from"./BarnehageplassSteg-CUnDaUGh.js";import{O as ye}from"./OmÅTilpassePlanen-DdkxR_HE.js";import{U as je}from"./UforutsetteEndringer-DW_6_C44.js";import{V as v,H as De}from"./VStack-D5W2V_Wo.js";import{S as he}from"./PersonGroup-PZs_xqug.js";import{T as O}from"./ToggleGroup-DgS3hqkv.js";const be=typeof window<"u"&&window.matchMedia===void 0,Re=(s,u)=>{const[o,n]=w.useState(u);return w.useEffect(()=>{if(be)return;const k=window.matchMedia(s);n(k.matches);const t=r=>{n(r.matches)};return k.addEventListener("change",t),()=>{k.removeEventListener("change",t)}},[s]),o},xe="_calendar_wfn3i_1",Fe={calendar:xe},Ee=(s,u,o)=>{const n=U(s===l.HUNDRE_PROSENT?u[l.HUNDRE_PROSENT]:u[l.ÅTTI_PROSENT]);return o.antallDagerSøker1>n.totaltAntallDager?n.totaltAntallDager:o.antallDagerSøker1},_e=({stønadskontoer:s,locale:u})=>{const o=Y(),n=Q(u),k=W();ce();const t=f(S(d.HVEM_PLANLEGGER)),r=f(S(d.OM_BARNET)),T=f(S(d.HVOR_LANG_PERIODE)),m=f(S(d.ARBEIDSSITUASJON)),a=S(d.FORDELING),y=M(d.FORDELING),I=f(M(d.HVOR_LANG_PERIODE)),j=s[l.HUNDRE_PROSENT],D=s[l.ÅTTI_PROSENT],q=Oe(r),h=T.dekningsgrad===l.HUNDRE_PROSENT?j:D,G=U(h),L=g=>{const A=g;I({dekningsgrad:A}),a&&y({antallDagerSøker1:Ee(A,s,a)})},i=oe(m),B=t.type===c.FAR_OG_FAR&&(i==="kunSøker1HarRett"||i==="kunSøker2HarRett"),b=H(j),R=H(D),x=ge(r),C=re(t),F=ie(i,t)||le(i,t);let E;(t.type===c.MOR_OG_MEDMOR||t.type===c.MOR_OG_FAR)&&i==="kunSøker2HarRett"&&(E=Z(x).leggTil(30));const _=ne(t,i),P=de({erDeltUttak:a!==void 0,famDato:x,startdato:E,tilgjengeligeStønadskontoer:h.kontoer,fellesperiodeDagerMor:a==null?void 0:a.antallDagerSøker1,bareFarMedmorHarRett:F,erAdopsjon:Te(r),erFarEllerMedmor:_,erMorUfør:(m==null?void 0:m.status)===fe.UFØR,erAleneOmOmsorg:t.type===c.FAR||t.type===c.MOR}),K=ae(t,o),V=se(t,o),z=!0,J=Re("screen and (min-width: 480)");return e.jsx("form",{children:e.jsx(X,{steps:k,goToStep:n.goToNextStep,children:e.jsxs(v,{gap:"6",children:[e.jsx(De,{justify:"space-between",children:e.jsx($,{size:"medium",spacing:!0,level:"2",children:e.jsx(p,{id:"OversiktSteg.Tittel",values:{erAleneforsørger:C}})})}),B&&r.erFødsel&&e.jsx(ue,{header:e.jsx(p,{id:"OversiktSteg.Infoboks.FarOgFar.DereHarOppgitt"}),icon:e.jsx(he,{height:24,width:24,fontSize:"1.5rem",color:"#0067C5","aria-hidden":!0}),color:"green",children:e.jsxs("div",{children:[e.jsx(N,{children:e.jsx(p,{id:"OversiktSteg.Infoboks.FarOgFar.DenSomErBiologisk"})}),e.jsx(N,{children:e.jsx(p,{id:"OversiktSteg.Infoboks.FarOgFar.HvisDetErStebarnsadopsjon"})})]})}),e.jsxs(v,{gap:"1",children:[e.jsxs(O,{defaultValue:T==null?void 0:T.dekningsgrad,size:J?"medium":"small",variant:"neutral",onChange:L,style:{width:"100%"},children:[e.jsx(O.Item,{value:l.HUNDRE_PROSENT,children:e.jsx(p,{id:"OversiktSteg.100",values:{uker:b.uker,dager:b.dager}})}),e.jsx(O.Item,{value:l.ÅTTI_PROSENT,children:e.jsx(p,{id:"OversiktSteg.80",values:{uker:R.uker,dager:R.dager}})})]}),i==="beggeHarRett"&&(!r.erFødsel||t.type!==c.FAR_OG_FAR)&&e.jsx(me,{defaultValue:a==null?void 0:a.antallDagerSøker1,label:"Velg fordeling fellesperiode",hideLabel:!0,name:"antallDagerSøker1",onChange:g=>{y({antallDagerSøker1:parseInt(g.target.value,10)})},children:ee(G).map(g=>e.jsx("option",{value:g.antallUkerOgDagerSøker1.totaltAntallDager,children:te(o,g,t,K,V,z)},g.antallUkerOgDagerSøker1.totaltAntallDager))})]}),e.jsx(v,{gap:"5",children:e.jsx("div",{className:Fe.calendar,children:e.jsx(ke,{bareFarHarRett:F,erFarEllerMedmor:_,harAktivitetskravIPeriodeUtenUttak:!1,søkersPerioder:P.søker1,annenPartsPerioder:P.søker2,navnAnnenPart:"Test",barn:ve(r),planleggerLegend:e.jsx(Se,{hvemPlanlegger:t,barnet:r,hvemHarRett:i}),barnehagestartdato:q})})}),e.jsxs(v,{gap:"1",children:[e.jsx(ye,{arbeidssituasjon:m,barnet:r,hvemPlanlegger:t}),e.jsx(je,{arbeidssituasjon:m,hvemPlanlegger:t,barnet:r})]}),e.jsx(pe,{goToPreviousStep:n.goToPreviousDefaultStep,nextButtonOnClick:n.goToNextDefaultStep,useSimplifiedTexts:!0})]})})})};_e.__docgenInfo={description:"",methods:[],displayName:"PlanenDeresSteg",props:{stønadskontoer:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    '80': TilgjengeligeStønadskontoerForDekningsgrad;
    '100': TilgjengeligeStønadskontoerForDekningsgrad;
}`,signature:{properties:[{key:"80",value:{name:"signature",type:"object",raw:`{
    kontoer: Stønadskonto[];
    minsteretter: TilgjengeligeMinsterettskontoer;
    tillegg?: TilgjengeligeKontoTillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: StønadskontoType;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"StønadskontoType",required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"Stønadskonto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    [MinsterettType.farRundtFødsel]: number;
    [MinsterettType.toTette]: number;
}`,signature:{properties:[]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    [KontoTilleggType.prematur]: number;
    [KontoTilleggType.flerbarn]: number;
}`,signature:{properties:[]},required:!1}}]},required:!0}},{key:"100",value:{name:"signature",type:"object",raw:`{
    kontoer: Stønadskonto[];
    minsteretter: TilgjengeligeMinsterettskontoer;
    tillegg?: TilgjengeligeKontoTillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: StønadskontoType;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"StønadskontoType",required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"Stønadskonto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    [MinsterettType.farRundtFødsel]: number;
    [MinsterettType.toTette]: number;
}`,signature:{properties:[]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    [KontoTilleggType.prematur]: number;
    [KontoTilleggType.flerbarn]: number;
}`,signature:{properties:[]},required:!1}}]},required:!0}}]}},description:""},locale:{required:!0,tsType:{name:"union",raw:"LocaleNo | 'en'",elements:[{name:"union",raw:"'nb' | 'nn'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"}]},{name:"literal",value:"'en'"}]},description:""}}};export{_e as P};
