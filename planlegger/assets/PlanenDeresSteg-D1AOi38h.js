import{m as W,c as R,a as X,j as n,V as F}from"./VStack-1BYz4cx9.js";import{u as Y,a as Z,b as D,C as x,c as K}from"./usePlanleggerNavigator-CSXZAriH.js";import{l as ee,C as te}from"./kalenderPerioderUtils-ptH-5ZA6.js";import{P as re}from"./PlanleggerStepPage-mJcSQXyF.js";import{j as ne,L as ae,u as oe,H as se,M as S,c as le,B as U}from"./Label-xTGzdijQ.js";import{g as ie,f as ge}from"./FordelingSteg-CuJKZriM.js";import{D as v}from"./Dekningsgrad-Bg_cIyqc.js";import{S as V,b as de,c as ue,g as ce}from"./HvemPlanleggerUtils-D1xsqW5u.js";import{u as pe}from"./hvemHarRettUtils-CqRnCsCY.js";import{d as B,f as L,c as q}from"./uttakUtils-IrxiEj86.js";import{m as me,o as A,u as fe,d as z,p as ke,C as ve,S as be}from"./VeiviserPage-CkT1vu0n.js";import{r as y,R as b}from"./index-CTjT7uj6.js";import{u as Se}from"./dateFormValidation-CUQTHxD6.js";import{n as E}from"./validation-4HO0J-zV.js";import{O as ye}from"./OmÅTilpassePlanen-CMroIri2.js";import{U as Te}from"./UforutsetteEndringer-DGtSmV2e.js";import{S as Oe}from"./Information--Df_NHHt.js";import{S as xe}from"./PersonGroup-DhM52ZF8.js";import{h as je}from"./StepButtonsHookForm-CFhcz6Nn.js";y.createContext(null);const[he,ot,De,Ee]=je(),[_e,$]=me({name:"ToggleGroupContext",hookName:"useToggleGroupContext",providerName:"ToggleGroupProvider",errorMessage:"<ToggleGroup.Item> needs to be wrapped within <ToggleGroup>"});function we({value:e,disabled:a=!1,onFocus:o,onClick:t,onKeyDown:r},s){const{setSelectedValue:d,setFocusedValue:u,selectedValue:l,focusedValue:f}=$(),{register:T,descendants:g}=Ee({disabled:a,value:e}),k=e===l,j=()=>u(e),h=y.useCallback(p=>{const m=g.values().findIndex(i=>i.value===f),_={ArrowLeft:()=>{var i;const c=g.prevEnabled(m,!1);c&&((i=c.node)===null||i===void 0||i.focus())},ArrowRight:()=>{var i;const c=g.nextEnabled(m,!1);c&&((i=c.node)===null||i===void 0||i.focus())},Home:()=>{var i;const c=g.firstEnabled();c&&((i=c.node)===null||i===void 0||i.focus())},End:()=>{var i;const c=g.lastEnabled();c&&((i=c.node)===null||i===void 0||i.focus())}},G=p.shiftKey||p.ctrlKey||p.altKey||p.metaKey,w=_[p.key];w&&!G?(p.preventDefault(),w(p)):p.key==="Tab"&&l&&setTimeout(()=>u(l))},[g,f,l,u]);return{ref:W([T,s]),isSelected:k,isFocused:f===e,onClick:A(t,()=>l!==e&&d(e)),onFocus:a?void 0:A(o,j),onKeyDown:A(r,h)}}var Fe=function(e,a){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)a.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(o[t[r]]=e[t[r]]);return o};const Re=y.forwardRef((e,a)=>{var{className:o,children:t,icon:r,label:s,value:d,onClick:u,onFocus:l,onKeyDown:f}=e,T=Fe(e,["className","children","icon","label","value","onClick","onFocus","onKeyDown"]);const g=we({value:d,onClick:u,onFocus:l,disabled:!1,onKeyDown:f},a),k=$();return b.createElement("button",Object.assign({},T,{ref:g.ref,className:R("navds-toggle-group__button",o),type:"button",role:"radio","aria-checked":g.isSelected,tabIndex:g.isFocused?0:-1,onClick:g.onClick,onFocus:g.onFocus,onKeyDown:g.onKeyDown}),b.createElement(ne,{as:"span",className:"navds-toggle-group__button-inner",size:k==null?void 0:k.size},t??b.createElement(b.Fragment,null,r,s)))});function Ne({onChange:e,value:a,defaultValue:o=""}){const[t,r]=y.useState(o),[s,d]=fe({defaultValue:o,value:a,onChange:e});return y.useEffect(()=>{a!=null&&r(a)},[a]),{selectedValue:s,setSelectedValue:d,focusedValue:t,setFocusedValue:r}}var Pe=function(e,a){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)a.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(o[t[r]]=e[t[r]]);return o};const N=y.forwardRef((e,a)=>{var{className:o,children:t,onChange:r,size:s="medium",label:d,value:u,defaultValue:l,"aria-describedby":f,variant:T="action",fill:g=!1}=e,k=Pe(e,["className","children","onChange","size","label","value","defaultValue","aria-describedby","variant","fill"]);const j=De(),h=Ne({defaultValue:l,value:u,onChange:r}),p=Object.assign(Object.assign({},h),{size:s}),m=X();return!u&&!l&&console.error("ToggleGroup without value or defaultvalue is not allowed"),!u&&!l&&console.error("ToggleGroup needs either a value or defaultValue"),b.createElement(he,{value:j},b.createElement(_e,Object.assign({},p),b.createElement("div",{className:R("navds-toggle-group__wrapper",o,{"navds-toggle-group__wrapper--fill":g})},d&&b.createElement(ae,{size:s,className:"navds-toggle-group__label",id:m},d),b.createElement("div",Object.assign({},k,{ref:a,className:R("navds-toggle-group",`navds-toggle-group--${s}`,`navds-toggle-group--${T}`),"aria-describedby":R(f,!!d&&m)||void 0,role:"radiogroup"}),t))))});N.Item=Re;const Ce=typeof window<"u"&&window.matchMedia===void 0,Ie=(e,a)=>{const[o,t]=y.useState(a);return y.useEffect(()=>{if(Ce)return;const r=window.matchMedia(e);t(r.matches);const s=d=>{t(d.matches)};return r.addEventListener("change",s),()=>{r.removeEventListener("change",s)}},[e]),o},Ge="_calendar_wfn3i_1",Ae={calendar:Ge},He=(e,a,o)=>{const t=B(e===v.HUNDRE_PROSENT?a[v.HUNDRE_PROSENT]:a[v.ÅTTI_PROSENT]);return o.antallDagerSøker1>t.totaltAntallDager?t.totaltAntallDager:o.antallDagerSøker1},Me=({stønadskontoer:e})=>{const a=oe(),o=Y(),t=Z();Se();const r=E(D(x.HVEM_PLANLEGGER)),s=E(D(x.OM_BARNET)),d=E(D(x.HVOR_LANG_PERIODE)),u=E(D(x.ARBEIDSSITUASJON)),l=D(x.FORDELING),f=K(x.FORDELING),T=E(K(x.HVOR_LANG_PERIODE)),g=e[v.HUNDRE_PROSENT],k=e[v.ÅTTI_PROSENT],j=d.dekningsgrad===v.HUNDRE_PROSENT?g:k,h=B(j),p=O=>{const M=O;T({dekningsgrad:M}),l&&f({antallDagerSøker1:He(M,e,l)})},m=pe(u),H=r.type===V.FAR_OG_FAR&&(m==="kunSøker1HarRett"||m==="kunSøker2HarRett"),P=L(m,r,g,s),C=L(m,r,k,s),I=q(P),_=q(C),G=de(r),w=ee(j,s,r,u,l==null?void 0:l.antallDagerSøker1),i=ue(r,a),c=ce(r,a),J=!0,Q=Ie("screen and (min-width: 480)");return n.jsx("form",{children:n.jsx(re,{steps:t,goToStep:o.goToNextStep,children:n.jsxs(F,{gap:"10",children:[n.jsx(se,{size:"medium",spacing:!0,level:"2",children:n.jsx(S,{id:"OversiktSteg.Tittel",values:{erAleneforsørger:G}})}),n.jsx(z,{header:n.jsx(S,{id:"OversiktSteg.Infoboks.Utkast"}),color:"gray",icon:n.jsx(Oe,{height:24,width:24,fontSize:"1-5rem","aria-hidden":!0}),children:n.jsx(le,{children:n.jsx(S,{id:"OversiktSteg.Infoboks.Utkast.Tekst"})})}),H&&s.erFødsel&&n.jsx(z,{header:n.jsx(S,{id:"OversiktSteg.Infoboks.FarOgFar.DereHarOppgitt"}),icon:n.jsx(xe,{height:24,width:24,fontSize:"1.5rem",color:"#0067C5","aria-hidden":!0}),color:"green",children:n.jsxs("div",{children:[n.jsx(U,{children:n.jsx(S,{id:"OversiktSteg.Infoboks.FarOgFar.DenSomErBiologisk"})}),n.jsx(U,{children:n.jsx(S,{id:"OversiktSteg.Infoboks.FarOgFar.HvisDetErStebarnsadopsjon"})})]})}),n.jsxs(F,{gap:"1",children:[n.jsxs(N,{defaultValue:d==null?void 0:d.dekningsgrad,size:Q?"medium":"small",variant:"neutral",onChange:p,style:{width:"100%"},children:[n.jsx(N.Item,{value:v.HUNDRE_PROSENT,children:n.jsx(S,{id:"OversiktSteg.100",values:{uker:I.uker,dager:I.dager}})}),n.jsx(N.Item,{value:v.ÅTTI_PROSENT,children:n.jsx(S,{id:"OversiktSteg.80",values:{uker:_.uker,dager:_.dager}})})]}),m==="beggeHarRett"&&(!s.erFødsel||r.type!==V.FAR_OG_FAR)&&n.jsx(ke,{defaultValue:l==null?void 0:l.antallDagerSøker1,label:"",name:"antallDagerSøker1",onChange:O=>{f({antallDagerSøker1:parseInt(O.target.value,10)})},children:ie(h).map(O=>n.jsx("option",{value:O.antallUkerOgDagerSøker1.totaltAntallDager,children:ge(a,O,r,i,c,J)},O.antallUkerOgDagerSøker1.totaltAntallDager))})]}),n.jsxs(F,{gap:"5",children:[n.jsx(te,{uttaksdata:d.dekningsgrad===v.HUNDRE_PROSENT?P:C,hvemPlanlegger:r,barnet:s,hvemHarRett:m}),n.jsx("div",{className:Ae.calendar,children:n.jsx(ve,{periods:w})})]}),n.jsxs(F,{gap:"1",children:[n.jsx(ye,{arbeidssituasjon:u,barnet:s,hvemPlanlegger:r}),n.jsx(Te,{arbeidssituasjon:u,hvemPlanlegger:r,barnet:s})]}),n.jsx(be,{goToPreviousStep:o.goToPreviousDefaultStep,nextButtonOnClick:o.goToNextDefaultStep,useSimplifiedTexts:!0})]})})})};Me.__docgenInfo={description:"",methods:[],displayName:"PlanenDeresSteg",props:{stønadskontoer:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    '80': TilgjengeligeStønadskontoerForDekningsgrad;
    '100': TilgjengeligeStønadskontoerForDekningsgrad;
}`,signature:{properties:[{key:"80",value:{name:"signature",type:"object",raw:`{
    kontoer: Stønadskonto[];
    minsteretter: TilgjengeligeMinsterettskontoer;
    tillegg?: TilgjengeligeKontoTillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: StønadskontoType;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"StønadskontoType",required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"Stønadskonto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    [MinsterettType.farRundtFødsel]: number;
    [MinsterettType.toTette]: number;
}`,signature:{properties:[]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    [KontoTilleggType.prematur]: number;
    [KontoTilleggType.flerbarn]: number;
}`,signature:{properties:[]},required:!1}}]},required:!0}},{key:"100",value:{name:"signature",type:"object",raw:`{
    kontoer: Stønadskonto[];
    minsteretter: TilgjengeligeMinsterettskontoer;
    tillegg?: TilgjengeligeKontoTillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: StønadskontoType;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"StønadskontoType",required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"Stønadskonto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    [MinsterettType.farRundtFødsel]: number;
    [MinsterettType.toTette]: number;
}`,signature:{properties:[]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    [KontoTilleggType.prematur]: number;
    [KontoTilleggType.flerbarn]: number;
}`,signature:{properties:[]},required:!1}}]},required:!0}}]}},description:""}}};export{Me as P};
