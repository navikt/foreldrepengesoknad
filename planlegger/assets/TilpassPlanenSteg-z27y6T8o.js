import{j as e}from"./jsx-runtime-CLpGMVip.js";import{u as ee,a as te,b as f,C as u,c as ne}from"./usePlanleggerNavigator-CjEgey8u.js";import{r as l}from"./index-CR__hKHy.js";import{M as g,u as re,m as D,j as E,J as ae,H as U,n as se}from"./VeiviserPage-BdtfnLD_.js";import{b as oe,h as le,p as ie,q as de}from"./HvemPlanleggerUtils-CHj9bqWy.js";import{u as ue,h as ge,a as me}from"./hvemHarRettUtils-DYsKH61o.js";import{g as pe,h as R,i as P}from"./uttakUtils-tdlJCiXP.js";import{c as ce,K as fe,S as ke,F as L,d as Te}from"./KvoteOppsummering-N5rCXY1B.js";import{u as je}from"./useScrollBehaviour-Dvq8pEsj.js";import{U as ve}from"./UttaksplanKalender-npx0Ob3t.js";import{n as k}from"./validation-DYlyn1BB.js";import"./dateFormValidation-DQiH8wl3.js";import{C as Ee}from"./CalendarLabels-BgJtnkX3.js";import{P as he}from"./PlanleggerStepPage-BCwFcPRB.js";import{T as _}from"./ToggleGroup-DkdgKY41.js";import{u as K,V as h,H as Se}from"./VStack-2apmvZh_.js";import{S as ye}from"./Responsive-B-Uwxu87.js";import{g as be,m as B}from"./barnetUtils-BypMPfuf.js";import{b as xe}from"./BarnehageplassSteg-DdIOFNYC.js";import{H as Re}from"./HvaErMulig-DyQqavKg.js";import{M as A}from"./StepButtonsHookForm-_P5JRXmw.js";var Pe=function(t,s){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&s.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)s.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};const _e=l.forwardRef((t,s)=>{var{title:r,titleId:n}=t,a=Pe(t,["title","titleId"]);let o=K();return o=r?n||"title-"+o:void 0,l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:s,"aria-labelledby":o},a),r?l.createElement("title",{id:o},r):null,l.createElement("path",{fill:"currentColor",d:"M16.03 3.97a.75.75 0 1 0-1.06 1.06l3.22 3.22H8a5.75 5.75 0 0 0 0 11.5h1.5a.75.75 0 0 0 0-1.5H8a4.25 4.25 0 0 1 0-8.5h10.19l-3.22 3.22a.75.75 0 0 0 1.06 1.06l4.5-4.5a.75.75 0 0 0 0-1.06z"}))});var Ae=function(t,s){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&s.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)s.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};const Oe=l.forwardRef((t,s)=>{var{title:r,titleId:n}=t,a=Ae(t,["title","titleId"]);let o=K();return o=r?n||"title-"+o:void 0,l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:s,"aria-labelledby":o},a),r?l.createElement("title",{id:o},r):null,l.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 5.75a.25.25 0 1 0 0 .5.25.25 0 0 0 0-.5M2.25 6a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0m1.5 6a.25.25 0 1 1 .5 0 .25.25 0 0 1-.5 0M4 10.25a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5M3.75 18a.25.25 0 1 1 .5 0 .25.25 0 0 1-.5 0M4 16.25a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5m5 1a.75.75 0 0 0 0 1.5h12a.75.75 0 0 0 0-1.5zM8.25 12a.75.75 0 0 1 .75-.75h12a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75M9 5.25a.75.75 0 0 0 0 1.5h12a.75.75 0 0 0 0-1.5z",clipRule:"evenodd"}))});var S=(t=>(t.ÅTTI_PROSENT="80",t.HUNDRE_PROSENT="100",t))(S||{}),H=(t=>(t.UttakFellesperiodeAnnenForelder="FELLESPERIODE_ANNEN_FORELDER",t.UttakFedrekvoteAnnenForelder="FEDREKVOTE_ANNEN_FORELDER",t.UttakMødrekvoteAnnenForelder="MØDREKVOTE_ANNEN_FORELDER",t.UttakForeldrepengerAnnenForelder="FORELDREPENGER_ANNEN_FORELDER",t.Ingen="INGEN",t))(H||{}),y=(t=>(t.BARE_SØKER_RETT="BARE_SØKER_RETT",t.ALENEOMSORG="ALENEOMSORG",t.BEGGE_RETT="BEGGE_RETT",t))(y||{});const C=({setVisningsmodus:t})=>{const s=r=>{t(r)};return e.jsxs(_,{defaultValue:"liste",variant:"neutral",onChange:r=>s(r),children:[e.jsxs(_.Item,{value:"liste",children:[e.jsx(Oe,{"aria-hidden":!0}),e.jsx(g,{id:"Liste"})]}),e.jsxs(_.Item,{value:"kalender",children:[e.jsx(ye,{"aria-hidden":!0}),e.jsx(g,{id:"Kalender"})]})]})};C.__docgenInfo={description:"",methods:[],displayName:"PlanvisningToggle",props:{setVisningsmodus:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"union",raw:"'liste' | 'kalender'",elements:[{name:"literal",value:"'liste'"},{name:"literal",value:"'kalender'"}]}],raw:"SetStateAction<Visningsmodus>"}],raw:"Dispatch<SetStateAction<Visningsmodus>>"},description:""}}};const Ne="_calendar_wfn3i_1",Fe={calendar:Ne},we=({locale:t,stønadskontoer:s})=>{const[r,n]=l.useState(!1),a=re(),o=ee(t),G=te(),[O,q]=l.useState("liste");je();const i=k(f(u.HVEM_PLANLEGGER)),m=k(f(u.OM_BARNET)),V=k(f(u.HVOR_LANG_PERIODE)),N=k(f(u.ARBEIDSSITUASJON)),z=f(u.FORDELING),j=k(f(u.UTTAKSPLAN),"Uttaksplan ikke oppgitt"),J=k(f(u.ORIGINAL_UTTAKSPLAN),"Uttaksplan ikke oppgitt"),$=s[S.HUNDRE_PROSENT],Q=s[S.ÅTTI_PROSENT],F=V.dekningsgrad===S.HUNDRE_PROSENT?$:Q,W=xe(m),p=j.length>0?j[j.length-1]:[],b=ne(u.UTTAKSPLAN),w=be(m),v=ue(N),X=pe(m),x=oe(i),M=ge(v,i)||me(v,i),d=le(i,v),c=z!==void 0,Y=()=>c?y.BEGGE_RETT:x?y.ALENEOMSORG:y.BARE_SØKER_RETT,Z=T=>{const I=[...j];I.push(T),b(I)};return e.jsxs(he,{steps:G,goToStep:o.goToNextStep,children:[e.jsxs(A,{open:r,onClose:()=>n(!1),header:{heading:a.formatMessage({id:"TilpassPlanenSteg.FjernAlt.Modal.Tittel"}),size:"small",closeButton:!1},width:"small",children:[e.jsx(A.Body,{children:e.jsx(D,{children:e.jsx(g,{id:"TilpassPlanenSteg.FjernAlt.Modal.Body"})})}),e.jsxs(A.Footer,{children:[e.jsx(E,{type:"button",variant:"danger",onClick:()=>{b([]),n(!1)},children:e.jsx(g,{id:"TilpassPlanenSteg.FjernAlt.Modal.Knapp.Bekreft"})}),e.jsx(E,{type:"button",variant:"secondary",onClick:()=>n(!1),children:e.jsx(g,{id:"TilpassPlanenSteg.FjernAlt.Modal.Knapp.Avbryt"})})]})]}),e.jsxs(h,{gap:"6",children:[e.jsxs(ae,{variant:"info",children:[e.jsx(U,{size:"medium",spacing:!0,level:"2",children:"Savner du noe i planleggeren?"}),e.jsx(D,{children:"Vi jobber med å forbedre planleggeren. Det betyr at flere funksjoner kommer snart. Det kan derfor være forskjeller mellom det du kan legge inn i planleggeren og det du faktisk kan søke om."})]}),e.jsx(U,{size:"medium",spacing:!0,level:"2",children:e.jsx(g,{id:"TilpassPlanenSteg.Tittel",values:{erAleneforsørger:x}})}),e.jsxs(h,{gap:"5",children:[e.jsx(Re,{hvemPlanlegger:i,arbeidssituasjon:N,barnet:m}),e.jsx(h,{gap:"10",children:e.jsx(C,{setVisningsmodus:q})}),O==="liste"&&e.jsxs(e.Fragment,{children:[e.jsx(ce,{familiehendelsedato:X,bareFarHarRett:M,erFarEllerMedmor:d,familiesituasjon:w,gjelderAdopsjon:w==="adopsjon",navnPåForeldre:{farMedmor:ie(i,a)||"Annen forelder",mor:de(i,a)},førsteUttaksdagNesteBarnsSak:void 0,harAktivitetskravIPeriodeUtenUttak:!1,søkersPerioder:R(c,p,d),annenPartsPerioder:P(c,p,d),barn:B(m),handleOnPlanChange:Z,modus:"planlegger",valgtStønadskonto:F,erAleneOmOmsorg:x}),e.jsx(fe,{hvemPlanleggerType:i.type,visStatusIkoner:!0,konto:F,perioder:[...R(c,p,d),...P(c,p,d).map(T=>T.kontoType===ke.Fellesperiode?{...T,kontoType:void 0,oppholdÅrsak:H.UttakFellesperiodeAnnenForelder}:T)],rettighetType:Y(),forelder:d?L.farMedmor:L.mor})]})]}),e.jsxs(h,{gap:"5",children:[O==="kalender"&&e.jsx("div",{className:Fe.calendar,children:e.jsx(ve,{bareFarHarRett:M,erFarEllerMedmor:d,harAktivitetskravIPeriodeUtenUttak:!1,søkersPerioder:R(c,p,d),annenPartsPerioder:P(c,p,d),navnAnnenPart:"Test",barn:B(m),planleggerLegend:e.jsx(Ee,{hvemPlanlegger:i,barnet:m,hvemHarRett:v,uttaksplan:p}),barnehagestartdato:W})}),e.jsxs(Se,{gap:"4",children:[e.jsx(E,{size:"xsmall",variant:"secondary",icon:e.jsx(_e,{"aria-hidden":!0,height:24,width:24}),onClick:()=>{b([J])},children:e.jsx(g,{id:"TilpassPlanenSteg.Tilbakestill"})}),e.jsx(E,{size:"xsmall",variant:"secondary",icon:e.jsx(Te,{"aria-hidden":!0,height:24,width:24}),onClick:()=>n(!0),children:e.jsx(g,{id:"TilpassPlanenSteg.FjernAlt"})})]})]}),e.jsx(se,{goToPreviousStep:o.goToPreviousDefaultStep,nextButtonOnClick:o.goToNextDefaultStep,useSimplifiedTexts:!0})]})]})};we.__docgenInfo={description:"",methods:[],displayName:"TilpassPlanenSteg",props:{locale:{required:!0,tsType:{name:"union",raw:"LocaleNo | 'en'",elements:[{name:"union",raw:"'nb' | 'nn'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"}]},{name:"literal",value:"'en'"}]},description:""},stønadskontoer:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    '80': TilgjengeligeStønadskontoerForDekningsgrad;
    '100': TilgjengeligeStønadskontoerForDekningsgrad;
}`,signature:{properties:[{key:"80",value:{name:"signature",type:"object",raw:`{
    kontoer: Stønadskonto[];
    minsteretter: TilgjengeligeMinsterettskontoer;
    tillegg?: TilgjengeligeKontoTillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: StønadskontoType;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"StønadskontoType",required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"Stønadskonto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    [MinsterettType.farRundtFødsel]: number;
    [MinsterettType.toTette]: number;
}`,signature:{properties:[]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    [KontoTilleggType.prematur]: number;
    [KontoTilleggType.flerbarn]: number;
}`,signature:{properties:[]},required:!1}}]},required:!0}},{key:"100",value:{name:"signature",type:"object",raw:`{
    kontoer: Stønadskonto[];
    minsteretter: TilgjengeligeMinsterettskontoer;
    tillegg?: TilgjengeligeKontoTillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: StønadskontoType;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"StønadskontoType",required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"Stønadskonto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    [MinsterettType.farRundtFødsel]: number;
    [MinsterettType.toTette]: number;
}`,signature:{properties:[]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    [KontoTilleggType.prematur]: number;
    [KontoTilleggType.flerbarn]: number;
}`,signature:{properties:[]},required:!1}}]},required:!0}}]}},description:""}}};export{we as T};
