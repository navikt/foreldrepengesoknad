import{r as k,a1 as K,a2 as u,j as e,Y as i,ai as ue,ab as pe,ac as h,aR as me,aS as F,ar as H,aA as T,a4 as M,aT as ge,ad as q,aU as ce,W as Ee,aV as fe,aL as ve,aW as ke,aX as he,a0 as z,aY as Te,aI as Se,aN as je}from"./iframe-fPI5aq2O.js";import{c as Re,e as ye,u as v,f as be,C as E}from"./usePlanleggerNavigator-CeDTzdr5.js";import{l as Oe,e as Pe,j as xe,m as _e}from"./HvemPlanleggerUtils-DVNChNZi.js";import{g as Ae,m as $}from"./barnetUtils-DQot4dki.js";import{u as Ie,a as we,b as De}from"./hvemHarRettUtils-CcghcU1b.js";import{g as Fe,h as P,i as N}from"./uttakUtils-BZiPgOZo.js";import{u as Me}from"./useScrollBehaviour-BT-vTIkQ.js";import{C as Ne}from"./CalendarLabels-Bue1swYQ.js";import{P as Le}from"./PlanleggerStepPage-B7bYn7ti.js";import{T as L}from"./ToggleGroup-BZFbx6GU.js";import{b as Ke}from"./BarnehageplassSteg-CCHD85pT.js";import{H as Ue}from"./HvaErMulig-C4zCQPn7.js";var Be=function(r,s){var a={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&s.indexOf(t)<0&&(a[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(r);n<t.length;n++)s.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(r,t[n])&&(a[t[n]]=r[t[n]]);return a};const Ve=k.forwardRef((r,s)=>{var{title:a,titleId:t}=r,n=Be(r,["title","titleId"]);let l=K();return l=a?t||"title-"+l:void 0,u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:s,"aria-labelledby":l},n),a?u.createElement("title",{id:l},a):null,u.createElement("path",{fill:"currentColor",d:"M18.746 7.25A8.25 8.25 0 1 0 20.25 12a.75.75 0 0 1 1.5 0c0 5.385-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12 6.615 2.25 12 2.25a9.73 9.73 0 0 1 7.75 3.833V3.5a.75.75 0 0 1 1.5 0V8a.75.75 0 0 1-.75.75H16a.75.75 0 0 1 0-1.5z"}))});var Ce=function(r,s){var a={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&s.indexOf(t)<0&&(a[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(r);n<t.length;n++)s.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(r,t[n])&&(a[t[n]]=r[t[n]]);return a};const Ge=k.forwardRef((r,s)=>{var{title:a,titleId:t}=r,n=Ce(r,["title","titleId"]);let l=K();return l=a?t||"title-"+l:void 0,u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:s,"aria-labelledby":l},n),a?u.createElement("title",{id:l},a):null,u.createElement("path",{fill:"currentColor",d:"M9.03 5.03a.75.75 0 1 0-1.06-1.06l-4.5 4.5a.75.75 0 0 0 0 1.06l4.5 4.5a.75.75 0 1 0 1.06-1.06L5.81 9.75H16a4.25 4.25 0 0 1 0 8.5h-1.5a.75.75 0 0 0 0 1.5H16a5.75 5.75 0 0 0 0-11.5H5.81z"}))});var He=function(r,s){var a={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&s.indexOf(t)<0&&(a[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(r);n<t.length;n++)s.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(r,t[n])&&(a[t[n]]=r[t[n]]);return a};const qe=k.forwardRef((r,s)=>{var{title:a,titleId:t}=r,n=He(r,["title","titleId"]);let l=K();return l=a?t||"title-"+l:void 0,u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:s,"aria-labelledby":l},n),a?u.createElement("title",{id:l},a):null,u.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 5.75a.25.25 0 1 0 0 .5.25.25 0 0 0 0-.5M2.25 6a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0m1.5 6a.25.25 0 1 1 .5 0 .25.25 0 0 1-.5 0M4 10.25a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5M3.75 18a.25.25 0 1 1 .5 0 .25.25 0 0 1-.5 0M4 16.25a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5m5 1a.75.75 0 0 0 0 1.5h12a.75.75 0 0 0 0-1.5zM8.25 12a.75.75 0 0 1 .75-.75h12a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75M9 5.25a.75.75 0 0 0 0 1.5h12a.75.75 0 0 0 0-1.5z",clipRule:"evenodd"}))});var x=(r=>(r.ÅTTI_PROSENT="80",r.HUNDRE_PROSENT="100",r))(x||{}),_=(r=>(r.BARE_SØKER_RETT="BARE_SØKER_RETT",r.ALENEOMSORG="ALENEOMSORG",r.BEGGE_RETT="BEGGE_RETT",r))(_||{});const W=({setVisningsmodus:r})=>{const s=a=>{r(a)};return e.jsxs(L,{defaultValue:"liste",variant:"neutral",onChange:a=>s(a),children:[e.jsxs(L.Item,{value:"liste",children:[e.jsx(qe,{"aria-hidden":!0}),e.jsx(i,{id:"Liste"})]}),e.jsxs(L.Item,{value:"kalender",children:[e.jsx(ue,{"aria-hidden":!0}),e.jsx(i,{id:"Kalender"})]})]})};W.__docgenInfo={description:"",methods:[],displayName:"PlanvisningToggle",props:{setVisningsmodus:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"union",raw:"'liste' | 'kalender'",elements:[{name:"literal",value:"'liste'"},{name:"literal",value:"'kalender'"}]}],raw:"SetStateAction<Visningsmodus>"}],raw:"Dispatch<SetStateAction<Visningsmodus>>"},description:""}}};const ze=({stønadskontoer:r})=>{const[s,a]=k.useState(!1),[t,n]=k.useState(!1),l=pe(),A=Re(),X=ye(),[U,Y]=k.useState("liste");Me();const p=h(v(E.HVEM_PLANLEGGER)),f=h(v(E.OM_BARNET)),J=h(v(E.HVOR_LANG_PERIODE)),B=h(v(E.ARBEIDSSITUASJON)),Q=v(E.FORDELING),m=h(v(E.UTTAKSPLAN),"Uttaksplan ikke oppgitt"),Z=h(v(E.ORIGINAL_UTTAKSPLAN),"Uttaksplan ikke oppgitt"),ee=m.length-1,[S,R]=k.useState(Math.max(ee,0)),te=r[x.HUNDRE_PROSENT],re=r[x.ÅTTI_PROSENT],V=J.dekningsgrad===x.HUNDRE_PROSENT?te:re,ae=Ke(f),g=m.length>0?m[S]:[],I=be(E.UTTAKSPLAN),C=Oe(p),y=Ae(f),b=Ie(B),w=Fe(f),D=Pe(p),O=we(b,p)||De(b,p),o=xe(p,b),c=Q!==void 0,ne=()=>c?_.BEGGE_RETT:D?_.ALENEOMSORG:_.BARE_SØKER_RETT,se=d=>{let j=[];S!==m.length-1?j=m.slice(0,S+1):j=m.length>=6?[...m.toSpliced(1,1)]:[...m],j.push(d),R(j.length-1),I(j)},le=()=>{n(!t)},G=_e(p,l),ie=d=>({...d,id:`${d.fom}-${d.tom}`,readOnly:!1,fom:d.fom,tom:d.tom}),oe=P(c,g,o).map(ie),de=me(oe,!1,w,y==="adopsjon",O,o,void 0).some(d=>d.periodeHullÅrsak==="Tapte dager");return e.jsxs(Le,{steps:X,goToStep:A.goToNextStep,children:[e.jsxs(F,{open:s,onClose:()=>a(!1),header:{heading:l.formatMessage({id:"TilpassPlanenSteg.FjernAlt.Modal.Tittel"}),size:"small",closeButton:!1},width:"small",children:[e.jsx(F.Body,{children:e.jsx(H,{children:e.jsx(i,{id:"TilpassPlanenSteg.FjernAlt.Modal.Body"})})}),e.jsxs(F.Footer,{children:[e.jsx(T,{type:"button",variant:"danger",onClick:()=>{I([[]]),R(0),a(!1)},children:e.jsx(i,{id:"TilpassPlanenSteg.FjernAlt.Modal.Knapp.Bekreft"})}),e.jsx(T,{type:"button",variant:"secondary",onClick:()=>a(!1),children:e.jsx(i,{id:"TilpassPlanenSteg.FjernAlt.Modal.Knapp.Avbryt"})})]})]}),e.jsxs(M,{gap:"space-24",children:[e.jsxs(ge,{variant:"info",children:[e.jsx(q,{size:"medium",spacing:!0,level:"2",children:e.jsx(i,{id:"TilpassPlanenSteg.SavnerDuNoe.Tittel"})}),e.jsx(H,{children:e.jsx(i,{id:"TilpassPlanenSteg.SavnerDuNoe.Tekst"})})]}),e.jsx(q,{size:"medium",spacing:!0,level:"2",children:e.jsx(i,{id:"TilpassPlanenSteg.Tittel",values:{erAleneforsørger:D}})}),e.jsxs(M,{gap:"space-24",children:[e.jsx(Ue,{hvemPlanlegger:p,arbeidssituasjon:B,barnet:f}),e.jsx(W,{setVisningsmodus:Y}),U==="liste"&&e.jsxs(e.Fragment,{children:[e.jsx(ce,{familiehendelsedato:w,bareFarMedmorHarRett:O,erFarEllerMedmor:o,familiesituasjon:y,gjelderAdopsjon:y==="adopsjon",navnPåForeldre:G,førsteUttaksdagNesteBarnsSak:void 0,harAktivitetskravIPeriodeUtenUttak:!1,søkersPerioder:P(c,g,o),annenPartsPerioder:N(c,g,o),barn:$(f),handleOnPlanChange:se,modus:"planlegger",valgtStønadskonto:V,erAleneOmOmsorg:D,isAllAccordionsOpen:t,erMedmorDelAvSøknaden:C}),e.jsxs(Ee,{gap:"space-16",children:[e.jsx(T,{size:"small",variant:"secondary",icon:e.jsx(Ve,{"aria-hidden":!0,height:24,width:24}),onClick:()=>{R(0),I([Z])},children:e.jsx(i,{id:"TilpassPlanenSteg.Tilbakestill"})}),e.jsx(T,{size:"small",variant:"secondary",icon:e.jsx(Ge,{"aria-hidden":!0,height:24,width:24}),onClick:()=>{S>0&&R(S-1)},children:e.jsx(i,{id:"TilpassPlanenSteg.Angre"})}),e.jsx(T,{size:"small",variant:t?"primary":"secondary",icon:t?e.jsx(fe,{"aria-hidden":!0,height:24,width:24}):e.jsx(ve,{"aria-hidden":!0,height:24,width:24}),onClick:le,children:t?e.jsx(i,{id:"TilpassPlanenSteg.LukkPerioder"}):e.jsx(i,{id:"TilpassPlanenSteg.EndrePlanen"})}),e.jsx(T,{size:"small",variant:"secondary",icon:e.jsx(ke,{"aria-hidden":!0,height:24,width:24}),onClick:()=>a(!0),children:e.jsx(i,{id:"TilpassPlanenSteg.FjernAlt"})})]}),e.jsx(he,{navnPåForeldre:G,modus:"planlegger",visStatusIkoner:!0,konto:V,perioder:Te({familiehendelsedato:w,erFarEllerMedmor:o,søkersPerioder:P(c,g,o),annenPartsPerioder:N(c,g,o),gjelderAdopsjon:y==="adopsjon",bareFarMedmorHarRett:O,harAktivitetskravIPeriodeUtenUttak:!1,førsteUttaksdagNesteBarnsSak:void 0,modus:"planlegger"}),rettighetType:ne(),forelder:o?z.farMedmor:z.mor,erMedmorDelAvSøknaden:C})]})]}),e.jsx(M,{gap:"space-20",children:U==="kalender"&&e.jsx("div",{className:"p-6 max-[479px]:p-0",children:e.jsx(Se,{bareFarMedmorHarRett:O,erFarEllerMedmor:o,harAktivitetskravIPeriodeUtenUttak:!1,søkersPerioder:P(c,g,o),annenPartsPerioder:N(c,g,o),navnAnnenPart:"Test",barn:$(f),planleggerLegend:e.jsx(Ne,{hvemPlanlegger:p,barnet:f,hvemHarRett:b,uttaksplan:g,inneholderTapteDager:de}),barnehagestartdato:ae})})}),e.jsx(je,{goToPreviousStep:A.goToPreviousDefaultStep,nextButtonOnClick:A.goToNextDefaultStep,useSimplifiedTexts:!0})]})]})};ze.__docgenInfo={description:"",methods:[],displayName:"TilpassPlanenSteg",props:{stønadskontoer:{required:!0,tsType:{name:"signature",type:"object",raw:"{ '80': KontoBeregningDto_fpoversikt; '100': KontoBeregningDto_fpoversikt }",signature:{properties:[{key:"80",value:{name:"signature",type:"object",raw:`{
    kontoer: KontoDto_fpoversikt[];
    minsteretter: Minsteretter_fpoversikt;
    tillegg?: Tillegg_fpoversikt;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    dager: number;
    konto: KontoTypeUttak_fpoversikt;
}`,signature:{properties:[{key:"dager",value:{name:"number",required:!0}},{key:"konto",value:{name:"union",raw:`| 'MØDREKVOTE'
| 'FEDREKVOTE'
| 'FELLESPERIODE'
| 'FORELDREPENGER'
| 'FORELDREPENGER_FØR_FØDSEL'
| 'AKTIVITETSFRI_KVOTE'`,elements:[{name:"literal",value:"'MØDREKVOTE'"},{name:"literal",value:"'FEDREKVOTE'"},{name:"literal",value:"'FELLESPERIODE'"},{name:"literal",value:"'FORELDREPENGER'"},{name:"literal",value:"'FORELDREPENGER_FØR_FØDSEL'"},{name:"literal",value:"'AKTIVITETSFRI_KVOTE'"}],required:!0}}]}}],raw:"KontoDto_fpoversikt[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    farRundtFødsel: number;
    toTette: number;
}`,signature:{properties:[{key:"farRundtFødsel",value:{name:"number",required:!0}},{key:"toTette",value:{name:"number",required:!0}}]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    flerbarn: number;
    prematur: number;
}`,signature:{properties:[{key:"flerbarn",value:{name:"number",required:!0}},{key:"prematur",value:{name:"number",required:!0}}]},required:!1}}]},required:!0}},{key:"100",value:{name:"signature",type:"object",raw:`{
    kontoer: KontoDto_fpoversikt[];
    minsteretter: Minsteretter_fpoversikt;
    tillegg?: Tillegg_fpoversikt;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    dager: number;
    konto: KontoTypeUttak_fpoversikt;
}`,signature:{properties:[{key:"dager",value:{name:"number",required:!0}},{key:"konto",value:{name:"union",raw:`| 'MØDREKVOTE'
| 'FEDREKVOTE'
| 'FELLESPERIODE'
| 'FORELDREPENGER'
| 'FORELDREPENGER_FØR_FØDSEL'
| 'AKTIVITETSFRI_KVOTE'`,elements:[{name:"literal",value:"'MØDREKVOTE'"},{name:"literal",value:"'FEDREKVOTE'"},{name:"literal",value:"'FELLESPERIODE'"},{name:"literal",value:"'FORELDREPENGER'"},{name:"literal",value:"'FORELDREPENGER_FØR_FØDSEL'"},{name:"literal",value:"'AKTIVITETSFRI_KVOTE'"}],required:!0}}]}}],raw:"KontoDto_fpoversikt[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    farRundtFødsel: number;
    toTette: number;
}`,signature:{properties:[{key:"farRundtFødsel",value:{name:"number",required:!0}},{key:"toTette",value:{name:"number",required:!0}}]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    flerbarn: number;
    prematur: number;
}`,signature:{properties:[{key:"flerbarn",value:{name:"number",required:!0}},{key:"prematur",value:{name:"number",required:!0}}]},required:!1}}]},required:!0}}]}},description:""}}};export{ze as T};
