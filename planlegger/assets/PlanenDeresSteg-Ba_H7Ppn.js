import{j as e}from"./jsx-runtime-CLpGMVip.js";import{u as ne,a as ae,b as c,C as s,c as v}from"./usePlanleggerNavigator-eMJF_Kl5.js";import{P as se}from"./PlanleggerStepPage-tAiaGuO2.js";import{u as oe,U as ie,H as le,M as o,h as L,g as B,B as y,j as ge,k as de,m as ue}from"./VeiviserPage-C7O1QSdG.js";import{g as pe,f as me}from"./FordelingSteg-BZVekM6P.js";import{D as u}from"./Dekningsgrad-Bg_cIyqc.js";import{S as k,b as ce,h as ke,c as Se,g as fe}from"./HvemPlanleggerUtils-CzKVUhpa.js";import{u as Te,h as he,a as je}from"./hvemHarRettUtils-CXCK96Nu.js";import{d as z,c as q,g as ve,l as xe}from"./uttakUtils-C_md0b-6.js";import{r as G}from"./index-CR__hKHy.js";import{u as ye}from"./useScrollBehaviour-Dvq8pEsj.js";import{U as Oe}from"./UttaksplanKalender-BiWWhCpa.js";import{n as T}from"./validation-DYlyn1BB.js";import"./dateFormValidation-3CrpAqpr.js";import{P as O}from"./routes-Cyl7_Mgv.js";import{C as be}from"./CalendarLabels-CZyuC3pD.js";import{A as De}from"./Arbeidssituasjon-i2z_eSVB.js";import{b as Re,m as Pe}from"./barnetUtils-q5P1ZqAS.js";import{b as Ee}from"./BarnehageplassSteg-BYf333lS.js";import{O as Fe}from"./OmÅTilpassePlanen-Cq-sYA_9.js";import{U as Ae}from"./UforutsetteEndringer--GZwQQFf.js";import{V as S,H as C}from"./VStack-BfPiYV8A.js";import{a as K}from"./KvoteOppsummering-CEuKxbVL.js";import{S as _e}from"./PersonGroup-D4jOGdhK.js";import{T as b}from"./ToggleGroup-Dbn96R-Y.js";const Ne=typeof window<"u"&&window.matchMedia===void 0,Ue=(l,p)=>{const[g,r]=G.useState(p);return G.useEffect(()=>{if(Ne)return;const f=window.matchMedia(l);r(f.matches);const t=n=>{r(n.matches)};return f.addEventListener("change",t),()=>{f.removeEventListener("change",t)}},[l]),g},Me="_calendar_wfn3i_1",Ie={calendar:Me},we=(l,p,g)=>{const r=z(l===u.HUNDRE_PROSENT?p[u.HUNDRE_PROSENT]:p[u.ÅTTI_PROSENT]);return g.antallDagerSøker1>r.totaltAntallDager?r.totaltAntallDager:g.antallDagerSøker1},He=({stønadskontoer:l,locale:p})=>{const g=oe(),r=ne(p),f=ae();ye();const t=T(c(s.HVEM_PLANLEGGER)),n=T(c(s.OM_BARNET)),h=T(c(s.HVOR_LANG_PERIODE)),m=T(c(s.ARBEIDSSITUASJON)),V=c(s.UTTAKSPLAN)||[],i=c(s.FORDELING),D=v(s.FORDELING),J=T(v(s.HVOR_LANG_PERIODE)),R=v(s.UTTAKSPLAN),Q=v(s.TILPASS_PLAN),P=l[u.HUNDRE_PROSENT],E=l[u.ÅTTI_PROSENT],W=Ee(n),F=h.dekningsgrad===u.HUNDRE_PROSENT?P:E,X=z(F),Y=a=>{const H=a;J({dekningsgrad:H}),i&&D({antallDagerSøker1:we(H,l,i)})},A=()=>{const a=[...V];return a.push([...j.søker1,...j.søker2]),a},d=Te(m),Z=t.type===k.FAR_OG_FAR&&(d==="kunSøker1HarRett"||d==="kunSøker2HarRett"),_=q(P),N=q(E),U=ve(n),x=ce(t),M=he(d,t)||je(d,t);let I;(t.type===k.MOR_OG_MEDMOR||t.type===k.MOR_OG_FAR)&&d==="kunSøker2HarRett"&&(I=ie(U).leggTil(30));const w=ke(t,d),j=xe({erDeltUttak:i!==void 0,famDato:U,startdato:I,tilgjengeligeStønadskontoer:F.kontoer,fellesperiodeDagerMor:i==null?void 0:i.antallDagerSøker1,bareFarMedmorHarRett:M,erAdopsjon:Re(n),erFarEllerMedmor:w,erMorUfør:(m==null?void 0:m.status)===De.UFØR,erAleneOmOmsorg:t.type===k.FAR||t.type===k.MOR}),$=Se(t,g),ee=fe(t,g),te=!0,re=Ue("screen and (min-width: 480)");return e.jsx("form",{children:e.jsx(se,{steps:f,goToStep:r.goToNextStep,children:e.jsxs(S,{gap:"6",children:[e.jsxs(C,{justify:"space-between",children:[e.jsx(le,{size:"medium",spacing:!0,level:"2",children:e.jsx(o,{id:"OversiktSteg.Tittel",values:{erAleneforsørger:x}})}),e.jsx(S,{gap:"1",children:e.jsx(L,{size:"xsmall",variant:"secondary",type:"button",icon:e.jsx(K,{height:24,width:24,fontSize:"1-5rem","aria-hidden":!0}),onClick:()=>r.goToNextStep(O.TILPASS_PLANEN),children:e.jsx(o,{id:"OversiktSteg.Infoboks.Tilpass"})})})]}),Z&&n.erFødsel&&e.jsx(B,{header:e.jsx(o,{id:"OversiktSteg.Infoboks.FarOgFar.DereHarOppgitt"}),icon:e.jsx(_e,{height:24,width:24,fontSize:"1.5rem",color:"#0067C5","aria-hidden":!0}),color:"green",children:e.jsxs("div",{children:[e.jsx(y,{children:e.jsx(o,{id:"OversiktSteg.Infoboks.FarOgFar.DenSomErBiologisk"})}),e.jsx(y,{children:e.jsx(o,{id:"OversiktSteg.Infoboks.FarOgFar.HvisDetErStebarnsadopsjon"})})]})}),e.jsxs(S,{gap:"1",children:[e.jsxs(b,{defaultValue:h==null?void 0:h.dekningsgrad,size:re?"medium":"small",variant:"neutral",onChange:Y,style:{width:"100%"},children:[e.jsx(b.Item,{value:u.HUNDRE_PROSENT,children:e.jsx(o,{id:"OversiktSteg.100",values:{uker:_.uker,dager:_.dager}})}),e.jsx(b.Item,{value:u.ÅTTI_PROSENT,children:e.jsx(o,{id:"OversiktSteg.80",values:{uker:N.uker,dager:N.dager}})})]}),d==="beggeHarRett"&&(!n.erFødsel||t.type!==k.FAR_OG_FAR)&&e.jsx(ge,{defaultValue:i==null?void 0:i.antallDagerSøker1,label:"Velg fordeling fellesperiode",hideLabel:!0,name:"antallDagerSøker1",onChange:a=>{D({antallDagerSøker1:parseInt(a.target.value,10)})},children:pe(X).map(a=>e.jsx("option",{value:a.antallUkerOgDagerSøker1.totaltAntallDager,children:me(g,a,t,$,ee,te)},a.antallUkerOgDagerSøker1.totaltAntallDager))})]}),e.jsx(S,{gap:"5",children:e.jsx("div",{className:Ie.calendar,children:e.jsx(Oe,{bareFarHarRett:M,erFarEllerMedmor:w,harAktivitetskravIPeriodeUtenUttak:!1,søkersPerioder:j.søker1,annenPartsPerioder:j.søker2,navnAnnenPart:"Test",barn:Pe(n),planleggerLegend:e.jsx(be,{hvemPlanlegger:t,barnet:n,hvemHarRett:d}),barnehagestartdato:W})})}),e.jsx(B,{header:e.jsx(o,{id:"OversiktSteg.Infoboks.Utkast",values:{erAleneforsørger:x}}),color:"gray",icon:e.jsx(K,{height:24,width:24,fontSize:"1-5rem","aria-hidden":!0}),children:e.jsxs(S,{gap:"2",children:[e.jsx(de,{children:e.jsx(o,{id:"OversiktSteg.Infoboks.Utkast.Tekst",values:{erAleneforsørger:x}})}),e.jsx(C,{children:e.jsx(L,{variant:"primary",type:"button",onClick:()=>{R(A()),Q(!0),r.goToNextStep(O.TILPASS_PLANEN)},children:e.jsx(y,{size:"small",children:e.jsx(o,{id:"OversiktSteg.Infoboks.TilpassPlanen"})})})})]})}),e.jsxs(S,{gap:"1",children:[e.jsx(Fe,{arbeidssituasjon:m,barnet:n,hvemPlanlegger:t}),e.jsx(Ae,{arbeidssituasjon:m,hvemPlanlegger:t,barnet:n})]}),e.jsx(ue,{goToPreviousStep:r.goToPreviousDefaultStep,nextButtonOnClick:()=>{R(A()),r.goToNextStep(O.OPPSUMMERING)},isJumpToEndButton:!0,useSimplifiedTexts:!0})]})})})};He.__docgenInfo={description:"",methods:[],displayName:"PlanenDeresSteg",props:{stønadskontoer:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    '80': TilgjengeligeStønadskontoerForDekningsgrad;
    '100': TilgjengeligeStønadskontoerForDekningsgrad;
}`,signature:{properties:[{key:"80",value:{name:"signature",type:"object",raw:`{
    kontoer: Stønadskonto[];
    minsteretter: TilgjengeligeMinsterettskontoer;
    tillegg?: TilgjengeligeKontoTillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: StønadskontoType;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"StønadskontoType",required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"Stønadskonto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    [MinsterettType.farRundtFødsel]: number;
    [MinsterettType.toTette]: number;
}`,signature:{properties:[]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    [KontoTilleggType.prematur]: number;
    [KontoTilleggType.flerbarn]: number;
}`,signature:{properties:[]},required:!1}}]},required:!0}},{key:"100",value:{name:"signature",type:"object",raw:`{
    kontoer: Stønadskonto[];
    minsteretter: TilgjengeligeMinsterettskontoer;
    tillegg?: TilgjengeligeKontoTillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: StønadskontoType;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"StønadskontoType",required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"Stønadskonto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    [MinsterettType.farRundtFødsel]: number;
    [MinsterettType.toTette]: number;
}`,signature:{properties:[]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    [KontoTilleggType.prematur]: number;
    [KontoTilleggType.flerbarn]: number;
}`,signature:{properties:[]},required:!1}}]},required:!0}}]}},description:""},locale:{required:!0,tsType:{name:"union",raw:"LocaleNo | 'en'",elements:[{name:"union",raw:"'nb' | 'nn'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"}]},{name:"literal",value:"'en'"}]},description:""}}};export{He as P};
