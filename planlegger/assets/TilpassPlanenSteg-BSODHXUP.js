import{r as o,a2 as B,j as n,Z as f,ai as se,ab as le,ac as j,aO as oe,aP as I,ar as L,aA as y,a4 as M,aQ as ie,ad as G,aR as de,X as ge,aS as ue,aT as pe,a1 as q,aU as me,aD as ce,aI as fe}from"./iframe-DgOJv59J.js";import{c as ke,e as he,u as h,f as je,C as c}from"./usePlanleggerNavigator-Cyt7D8Sq.js";import{e as ve,j as Te,l as ye,m as Se}from"./HvemPlanleggerUtils-DH4lpjzv.js";import{g as be,m as z}from"./barnetUtils-CDtTXb69.js";import{u as xe,a as Pe,b as Ee}from"./hvemHarRettUtils-CpUjoCfJ.js";import{g as Oe,h as P,i as N}from"./uttakUtils-DwM9VdOA.js";import{u as we}from"./useScrollBehaviour-uDpg5_LB.js";import{C as Ae}from"./CalendarLabels-weCEpBeI.js";import{P as _e}from"./PlanleggerStepPage-B2LEjRwR.js";import{T as U}from"./ToggleGroup-DGeO9rpx.js";import{b as Re}from"./BarnehageplassSteg-JSUGYtSV.js";import{H as Ie}from"./HvaErMulig-Cagruxv1.js";var Me=function(e,s){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&s.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)s.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(r[t[a]]=e[t[a]]);return r};const Ne=o.forwardRef((e,s)=>{var{title:r,titleId:t}=e,a=Me(e,["title","titleId"]);let l=B();return l=r?t||"title-"+l:void 0,o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:s,"aria-labelledby":l},a),r?o.createElement("title",{id:l},r):null,o.createElement("path",{fill:"currentColor",d:"M18.746 7.25A8.25 8.25 0 1 0 20.25 12a.75.75 0 0 1 1.5 0c0 5.385-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12 6.615 2.25 12 2.25a9.73 9.73 0 0 1 7.75 3.833V3.5a.75.75 0 0 1 1.5 0V8a.75.75 0 0 1-.75.75H16a.75.75 0 0 1 0-1.5z"}))});var Ue=function(e,s){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&s.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)s.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(r[t[a]]=e[t[a]]);return r};const Be=o.forwardRef((e,s)=>{var{title:r,titleId:t}=e,a=Ue(e,["title","titleId"]);let l=B();return l=r?t||"title-"+l:void 0,o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:s,"aria-labelledby":l},a),r?o.createElement("title",{id:l},r):null,o.createElement("path",{fill:"currentColor",d:"M9.03 5.03a.75.75 0 1 0-1.06-1.06l-4.5 4.5a.75.75 0 0 0 0 1.06l4.5 4.5a.75.75 0 1 0 1.06-1.06L5.81 9.75H16a4.25 4.25 0 0 1 0 8.5h-1.5a.75.75 0 0 0 0 1.5H16a5.75 5.75 0 0 0 0-11.5H5.81z"}))});var Ce=function(e,s){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&s.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)s.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(r[t[a]]=e[t[a]]);return r};const He=o.forwardRef((e,s)=>{var{title:r,titleId:t}=e,a=Ce(e,["title","titleId"]);let l=B();return l=r?t||"title-"+l:void 0,o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:s,"aria-labelledby":l},a),r?o.createElement("title",{id:l},r):null,o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 5.75a.25.25 0 1 0 0 .5.25.25 0 0 0 0-.5M2.25 6a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0m1.5 6a.25.25 0 1 1 .5 0 .25.25 0 0 1-.5 0M4 10.25a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5M3.75 18a.25.25 0 1 1 .5 0 .25.25 0 0 1-.5 0M4 16.25a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5m5 1a.75.75 0 0 0 0 1.5h12a.75.75 0 0 0 0-1.5zM8.25 12a.75.75 0 0 1 .75-.75h12a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75M9 5.25a.75.75 0 0 0 0 1.5h12a.75.75 0 0 0 0-1.5z",clipRule:"evenodd"}))});var E=(e=>(e.ÅTTI_PROSENT="80",e.HUNDRE_PROSENT="100",e))(E||{}),O=(e=>(e.BARE_SØKER_RETT="BARE_SØKER_RETT",e.ALENEOMSORG="ALENEOMSORG",e.BEGGE_RETT="BEGGE_RETT",e))(O||{});const V=({setVisningsmodus:e})=>{const s=r=>{e(r)};return n.jsxs(U,{defaultValue:"liste",variant:"neutral",onChange:r=>s(r),children:[n.jsxs(U.Item,{value:"liste",children:[n.jsx(He,{"aria-hidden":!0}),n.jsx(f,{id:"Liste"})]}),n.jsxs(U.Item,{value:"kalender",children:[n.jsx(se,{"aria-hidden":!0}),n.jsx(f,{id:"Kalender"})]})]})};V.__docgenInfo={description:"",methods:[],displayName:"PlanvisningToggle",props:{setVisningsmodus:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"union",raw:"'liste' | 'kalender'",elements:[{name:"literal",value:"'liste'"},{name:"literal",value:"'kalender'"}]}],raw:"SetStateAction<Visningsmodus>"}],raw:"Dispatch<SetStateAction<Visningsmodus>>"},description:""}}};const De="_calendar_wfn3i_1",Fe={calendar:De},Ke=({stønadskontoer:e})=>{const[s,r]=o.useState(!1),t=le(),a=ke(),l=he(),[C,$]=o.useState("liste");we();const g=j(h(c.HVEM_PLANLEGGER)),k=j(h(c.OM_BARNET)),J=j(h(c.HVOR_LANG_PERIODE)),H=j(h(c.ARBEIDSSITUASJON)),Q=h(c.FORDELING),u=j(h(c.UTTAKSPLAN),"Uttaksplan ikke oppgitt"),X=j(h(c.ORIGINAL_UTTAKSPLAN),"Uttaksplan ikke oppgitt"),D=u.length-1,[v,w]=o.useState(D<0?0:D),Z=e[E.HUNDRE_PROSENT],W=e[E.ÅTTI_PROSENT],F=J.dekningsgrad===E.HUNDRE_PROSENT?Z:W,Y=Re(k),p=u.length>0?u[v]:[],A=je(c.UTTAKSPLAN),S=be(k),b=xe(H),_=Oe(k),R=ve(g),x=Pe(b,g)||Ee(b,g),i=Te(g,b),m=Q!==void 0,ee=()=>m?O.BEGGE_RETT:R?O.ALENEOMSORG:O.BARE_SØKER_RETT,te=d=>{let T=[];v!==u.length-1?T=u.slice(0,v+1):T=u.length>=6?[...u.toSpliced(1,1)]:[...u],T.push(d),w(T.length-1),A(T)},K={farMedmor:Se(g,t),mor:ye(g,t)},ne=d=>({...d,id:`${d.fom}-${d.tom}`,readOnly:!1,fom:d.fom,tom:d.tom}),re=P(m,p,i).map(ne),ae=oe(re,!1,_,S==="adopsjon",x,i,void 0).some(d=>d.periodeHullÅrsak==="Tapte dager");return n.jsxs(_e,{steps:l,goToStep:a.goToNextStep,children:[n.jsxs(I,{open:s,onClose:()=>r(!1),header:{heading:t.formatMessage({id:"TilpassPlanenSteg.FjernAlt.Modal.Tittel"}),size:"small",closeButton:!1},width:"small",children:[n.jsx(I.Body,{children:n.jsx(L,{children:n.jsx(f,{id:"TilpassPlanenSteg.FjernAlt.Modal.Body"})})}),n.jsxs(I.Footer,{children:[n.jsx(y,{type:"button",variant:"danger",onClick:()=>{A([[]]),r(!1)},children:n.jsx(f,{id:"TilpassPlanenSteg.FjernAlt.Modal.Knapp.Bekreft"})}),n.jsx(y,{type:"button",variant:"secondary",onClick:()=>r(!1),children:n.jsx(f,{id:"TilpassPlanenSteg.FjernAlt.Modal.Knapp.Avbryt"})})]})]}),n.jsxs(M,{gap:"6",children:[n.jsxs(ie,{variant:"info",children:[n.jsx(G,{size:"medium",spacing:!0,level:"2",children:"Savner du noe i planleggeren?"}),n.jsx(L,{children:"Vi jobber med å forbedre planleggeren. Det betyr at flere funksjoner kommer snart. Det kan derfor være forskjeller mellom det du kan legge inn i planleggeren og det du faktisk kan søke om."})]}),n.jsx(G,{size:"medium",spacing:!0,level:"2",children:n.jsx(f,{id:"TilpassPlanenSteg.Tittel",values:{erAleneforsørger:R}})}),n.jsxs(M,{gap:"6",children:[n.jsx(Ie,{hvemPlanlegger:g,arbeidssituasjon:H,barnet:k}),n.jsx(V,{setVisningsmodus:$}),C==="liste"&&n.jsxs(n.Fragment,{children:[n.jsx(de,{familiehendelsedato:_,bareFarMedmorHarRett:x,erFarEllerMedmor:i,familiesituasjon:S,gjelderAdopsjon:S==="adopsjon",navnPåForeldre:K,førsteUttaksdagNesteBarnsSak:void 0,harAktivitetskravIPeriodeUtenUttak:!1,søkersPerioder:P(m,p,i),annenPartsPerioder:N(m,p,i),barn:z(k),handleOnPlanChange:te,modus:"planlegger",valgtStønadskonto:F,erAleneOmOmsorg:R}),n.jsxs(ge,{gap:"4",children:[n.jsx(y,{size:"xsmall",variant:"secondary",icon:n.jsx(Ne,{"aria-hidden":!0,height:24,width:24}),onClick:()=>{w(0),A([X])},children:n.jsx(f,{id:"TilpassPlanenSteg.Tilbakestill"})}),n.jsx(y,{size:"xsmall",variant:"secondary",icon:n.jsx(Be,{"aria-hidden":!0,height:24,width:24}),onClick:()=>{v>0&&w(v-1)},children:"Angre"}),n.jsx(y,{size:"xsmall",variant:"secondary",icon:n.jsx(ue,{"aria-hidden":!0,height:24,width:24}),onClick:()=>r(!0),children:n.jsx(f,{id:"TilpassPlanenSteg.FjernAlt"})})]}),n.jsx(pe,{navnPåForeldre:K,modus:"planlegger",visStatusIkoner:!0,konto:F,perioder:me({familiehendelsedato:_,erFarEllerMedmor:i,søkersPerioder:P(m,p,i),annenPartsPerioder:N(m,p,i),gjelderAdopsjon:S==="adopsjon",bareFarMedmorHarRett:x,harAktivitetskravIPeriodeUtenUttak:!1,førsteUttaksdagNesteBarnsSak:void 0,modus:"planlegger"}),rettighetType:ee(),forelder:i?q.farMedmor:q.mor})]})]}),n.jsx(M,{gap:"5",children:C==="kalender"&&n.jsx("div",{className:Fe.calendar,children:n.jsx(ce,{bareFarMedmorHarRett:x,erFarEllerMedmor:i,harAktivitetskravIPeriodeUtenUttak:!1,søkersPerioder:P(m,p,i),annenPartsPerioder:N(m,p,i),navnAnnenPart:"Test",barn:z(k),planleggerLegend:n.jsx(Ae,{hvemPlanlegger:g,barnet:k,hvemHarRett:b,uttaksplan:p,inneholderTapteDager:ae}),barnehagestartdato:Y})})}),n.jsx(fe,{goToPreviousStep:a.goToPreviousDefaultStep,nextButtonOnClick:a.goToNextDefaultStep,useSimplifiedTexts:!0})]})]})};Ke.__docgenInfo={description:"",methods:[],displayName:"TilpassPlanenSteg",props:{stønadskontoer:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    '80': TilgjengeligeStønadskontoerForDekningsgrad;
    '100': TilgjengeligeStønadskontoerForDekningsgrad;
}`,signature:{properties:[{key:"80",value:{name:"signature",type:"object",raw:`{
    kontoer: Stønadskonto[];
    minsteretter: TilgjengeligeMinsterettskontoer;
    tillegg?: TilgjengeligeKontoTillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: StønadskontoType;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"StønadskontoType",required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"Stønadskonto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    [MinsterettType.farRundtFødsel]: number;
    [MinsterettType.toTette]: number;
}`,signature:{properties:[]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    [KontoTilleggType.prematur]: number;
    [KontoTilleggType.flerbarn]: number;
}`,signature:{properties:[]},required:!1}}]},required:!0}},{key:"100",value:{name:"signature",type:"object",raw:`{
    kontoer: Stønadskonto[];
    minsteretter: TilgjengeligeMinsterettskontoer;
    tillegg?: TilgjengeligeKontoTillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: StønadskontoType;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"StønadskontoType",required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"Stønadskonto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    [MinsterettType.farRundtFødsel]: number;
    [MinsterettType.toTette]: number;
}`,signature:{properties:[]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    [KontoTilleggType.prematur]: number;
    [KontoTilleggType.flerbarn]: number;
}`,signature:{properties:[]},required:!1}}]},required:!0}}]}},description:""}}};export{Ke as T};
