import{j as r}from"./jsx-runtime-CLpGMVip.js";import{u as W,a as X,b as m,C as d,c as Y}from"./usePlanleggerNavigator-DvczxTQD.js";import{r as s}from"./index-CR__hKHy.js";import{M as g,u as Z,k as ee,h as j,H as te,m as re}from"./VeiviserPage-C7O1QSdG.js";import{D as O}from"./Dekningsgrad-Bg_cIyqc.js";import{b as ne,h as ae,S as U,o as le,p as oe}from"./HvemPlanleggerUtils-CzKVUhpa.js";import{u as se,h as ie,a as de}from"./hvemHarRettUtils-CXCK96Nu.js";import{g as ge,l as ue}from"./uttakUtils-DYdEoTxa.js";import{U as pe,F as b}from"./KvoteOppsummering-PQ0qCltK.js";import{u as me}from"./useScrollBehaviour-Dvq8pEsj.js";import{U as ce}from"./UttaksplanKalender-asiu3D2i.js";import{n as c}from"./validation-DYlyn1BB.js";import"./dateFormValidation-3CrpAqpr.js";import{C as fe}from"./CalendarLabels-CPHR1a3L.js";import{P as he}from"./PlanleggerStepPage-tAiaGuO2.js";import{T as A}from"./ToggleGroup-Dbn96R-Y.js";import{u as _,V as S,H as ve}from"./VStack-BfPiYV8A.js";import{S as ke}from"./Responsive-Cl7tMJT2.js";import{A as ye}from"./Arbeidssituasjon-i2z_eSVB.js";import{g as je,b as be,m as D}from"./barnetUtils-q5P1ZqAS.js";import{H as Se}from"./HvaErMulig-DnDiuHyB.js";import{M}from"./StepButtonsHookForm-mKptxFxi.js";var Te=function(t,l){var a={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&l.indexOf(e)<0&&(a[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(t);n<e.length;n++)l.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(t,e[n])&&(a[e[n]]=t[e[n]]);return a};const xe=s.forwardRef((t,l)=>{var{title:a,titleId:e}=t,n=Te(t,["title","titleId"]);let o=_();return o=a?e||"title-"+o:void 0,s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:l,"aria-labelledby":o},n),a?s.createElement("title",{id:o},a):null,s.createElement("path",{fill:"currentColor",d:"M16.03 3.97a.75.75 0 1 0-1.06 1.06l3.22 3.22H8a5.75 5.75 0 0 0 0 11.5h1.5a.75.75 0 0 0 0-1.5H8a4.25 4.25 0 0 1 0-8.5h10.19l-3.22 3.22a.75.75 0 0 0 1.06 1.06l4.5-4.5a.75.75 0 0 0 0-1.06z"}))});var Pe=function(t,l){var a={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&l.indexOf(e)<0&&(a[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(t);n<e.length;n++)l.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(t,e[n])&&(a[e[n]]=t[e[n]]);return a};const we=s.forwardRef((t,l)=>{var{title:a,titleId:e}=t,n=Pe(t,["title","titleId"]);let o=_();return o=a?e||"title-"+o:void 0,s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:l,"aria-labelledby":o},n),a?s.createElement("title",{id:o},a):null,s.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 5.75a.25.25 0 1 0 0 .5.25.25 0 0 0 0-.5M2.25 6a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0m1.5 6a.25.25 0 1 1 .5 0 .25.25 0 0 1-.5 0M4 10.25a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5M3.75 18a.25.25 0 1 1 .5 0 .25.25 0 0 1-.5 0M4 16.25a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5m5 1a.75.75 0 0 0 0 1.5h12a.75.75 0 0 0 0-1.5zM8.25 12a.75.75 0 0 1 .75-.75h12a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75M9 5.25a.75.75 0 0 0 0 1.5h12a.75.75 0 0 0 0-1.5z",clipRule:"evenodd"}))});var Oe=function(t,l){var a={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&l.indexOf(e)<0&&(a[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(t);n<e.length;n++)l.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(t,e[n])&&(a[e[n]]=t[e[n]]);return a};const Ae=s.forwardRef((t,l)=>{var{title:a,titleId:e}=t,n=Oe(t,["title","titleId"]);let o=_();return o=a?e||"title-"+o:void 0,s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:l,"aria-labelledby":o},n),a?s.createElement("title",{id:o},a):null,s.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.5 6.25a.75.75 0 0 0 0 1.5h.805l.876 11.384a1.75 1.75 0 0 0 1.745 1.616h8.148a1.75 1.75 0 0 0 1.745-1.616l.876-11.384h.805a.75.75 0 0 0 0-1.5h-2.75V6A2.75 2.75 0 0 0 14 3.25h-4A2.75 2.75 0 0 0 7.25 6v.25zm5.5-1.5c-.69 0-1.25.56-1.25 1.25v.25h6.5V6c0-.69-.56-1.25-1.25-1.25zm-3.19 3 .867 11.27c.01.13.118.23.249.23h8.148c.13 0 .24-.1.25-.23l.866-11.27zm3.19 2a.75.75 0 0 1 .75.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 .75-.75m4 0a.75.75 0 0 1 .75.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 .75-.75",clipRule:"evenodd"}))}),B=({setVisningsmodus:t})=>{const l=a=>{t(a)};return r.jsxs(A,{defaultValue:"liste",variant:"neutral",onChange:a=>l(a),children:[r.jsxs(A.Item,{value:"liste",children:[r.jsx(we,{"aria-hidden":!0}),r.jsx(g,{id:"Liste"})]}),r.jsxs(A.Item,{value:"kalender",children:[r.jsx(ke,{"aria-hidden":!0}),r.jsx(g,{id:"Kalender"})]})]})};B.__docgenInfo={description:"",methods:[],displayName:"PlanvisningToggle",props:{setVisningsmodus:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"union",raw:"'liste' | 'kalender'",elements:[{name:"literal",value:"'liste'"},{name:"literal",value:"'kalender'"}]}],raw:"SetStateAction<Visningsmodus>"}],raw:"Dispatch<SetStateAction<Visningsmodus>>"},description:""}}};const Me="_calendar_wfn3i_1",_e={calendar:Me},Ee=({stønadskontoer:t,locale:l})=>{const[a,e]=s.useState(!1),n=Z(),o=W(l),C=X(),[E,H]=s.useState("liste");me();const i=c(m(d.HVEM_PLANLEGGER)),u=c(m(d.OM_BARNET)),q=c(m(d.HVOR_LANG_PERIODE)),f=c(m(d.ARBEIDSSITUASJON)),v=m(d.FORDELING),k=c(m(d.UTTAKSPLAN),"Uttaksplan ikke oppgitt"),K=c(m(d.ORIGINAL_UTTAKSPLAN),"Uttaksplan ikke oppgitt"),T=k.length>0?k[k.length-1]:[],x=Y(d.UTTAKSPLAN),L=t[O.HUNDRE_PROSENT],z=t[O.ÅTTI_PROSENT],V=q.dekningsgrad===O.HUNDRE_PROSENT?L:z,R=je(u),y=se(f),I=ge(u),G=ne(i),P=ie(y,i)||de(y,i),h=ae(i,y),w=v!==void 0,F=ue({erDeltUttak:w,famDato:I,tilgjengeligeStønadskontoer:V.kontoer,fellesperiodeDagerMor:v==null?void 0:v.antallDagerSøker1,bareFarMedmorHarRett:P,erAdopsjon:be(u),erFarEllerMedmor:h,erMorUfør:(f==null?void 0:f.status)===ye.UFØR,erAleneOmOmsorg:i.type===U.FAR||i.type===U.MOR}),$=p=>{const N=[...k];N.push(p),x(N)},J=()=>w?T.filter(p=>h?p.forelder===b.farMedmor:p.forelder===b.mor):T,Q=()=>w?T.filter(p=>h?p.forelder===b.mor:p.forelder===b.farMedmor):[];return r.jsxs(he,{steps:C,goToStep:o.goToNextStep,children:[r.jsxs(M,{open:a,onClose:()=>e(!1),header:{heading:n.formatMessage({id:"TilpassPlanenSteg.FjernAlt.Modal.Tittel"}),size:"small",closeButton:!1},width:"small",children:[r.jsx(M.Body,{children:r.jsx(ee,{children:r.jsx(g,{id:"TilpassPlanenSteg.FjernAlt.Modal.Body"})})}),r.jsxs(M.Footer,{children:[r.jsx(j,{type:"button",variant:"danger",onClick:()=>{x([]),e(!1)},children:r.jsx(g,{id:"TilpassPlanenSteg.FjernAlt.Modal.Knapp.Bekreft"})}),r.jsx(j,{type:"button",variant:"secondary",onClick:()=>e(!1),children:r.jsx(g,{id:"TilpassPlanenSteg.FjernAlt.Modal.Knapp.Avbryt"})})]})]}),r.jsxs(S,{gap:"6",children:[r.jsx(te,{size:"medium",spacing:!0,level:"2",children:r.jsx(g,{id:"TilpassPlanenSteg.Tittel",values:{erAleneforsørger:G}})}),r.jsxs(S,{gap:"5",children:[r.jsx(Se,{hvemPlanlegger:i,arbeidssituasjon:f,barnet:u}),r.jsx(S,{gap:"10",children:r.jsx(B,{setVisningsmodus:H})}),E==="liste"&&r.jsx(pe,{familiehendelsedato:I,bareFarHarRett:P,erFarEllerMedmor:h,familiesituasjon:R,gjelderAdopsjon:R==="adopsjon",navnPåForeldre:{farMedmor:le(i,n)||"Annen forelder",mor:oe(i,n)},førsteUttaksdagNesteBarnsSak:void 0,harAktivitetskravIPeriodeUtenUttak:!1,søkersPerioder:J(),annenPartsPerioder:Q(),barn:D(u),handleOnPlanChange:$,modus:"planlegger"})]}),r.jsxs(S,{gap:"5",children:[E==="kalender"&&r.jsx("div",{className:_e.calendar,children:r.jsx(ce,{bareFarHarRett:P,erFarEllerMedmor:h,harAktivitetskravIPeriodeUtenUttak:!1,søkersPerioder:F.søker1,annenPartsPerioder:F.søker2,navnAnnenPart:"Test",barn:D(u),planleggerLegend:r.jsx(fe,{hvemPlanlegger:i,barnet:u,hvemHarRett:y})})}),r.jsxs(ve,{gap:"4",children:[r.jsx(j,{size:"xsmall",variant:"secondary",icon:r.jsx(xe,{"aria-hidden":!0,height:24,width:24}),onClick:()=>{x([K])},children:r.jsx(g,{id:"TilpassPlanenSteg.Tilbakestill"})}),r.jsx(j,{size:"xsmall",variant:"secondary",icon:r.jsx(Ae,{"aria-hidden":!0,height:24,width:24}),onClick:()=>e(!0),children:r.jsx(g,{id:"TilpassPlanenSteg.FjernAlt"})})]})]}),r.jsx(re,{goToPreviousStep:o.goToPreviousDefaultStep,nextButtonOnClick:o.goToNextDefaultStep,useSimplifiedTexts:!0})]})]})};Ee.__docgenInfo={description:"",methods:[],displayName:"TilpassPlanenSteg",props:{stønadskontoer:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    '80': TilgjengeligeStønadskontoerForDekningsgrad;
    '100': TilgjengeligeStønadskontoerForDekningsgrad;
}`,signature:{properties:[{key:"80",value:{name:"signature",type:"object",raw:`{
    kontoer: Stønadskonto[];
    minsteretter: TilgjengeligeMinsterettskontoer;
    tillegg?: TilgjengeligeKontoTillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: StønadskontoType;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"StønadskontoType",required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"Stønadskonto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    [MinsterettType.farRundtFødsel]: number;
    [MinsterettType.toTette]: number;
}`,signature:{properties:[]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    [KontoTilleggType.prematur]: number;
    [KontoTilleggType.flerbarn]: number;
}`,signature:{properties:[]},required:!1}}]},required:!0}},{key:"100",value:{name:"signature",type:"object",raw:`{
    kontoer: Stønadskonto[];
    minsteretter: TilgjengeligeMinsterettskontoer;
    tillegg?: TilgjengeligeKontoTillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: StønadskontoType;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"StønadskontoType",required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"Stønadskonto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    [MinsterettType.farRundtFødsel]: number;
    [MinsterettType.toTette]: number;
}`,signature:{properties:[]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    [KontoTilleggType.prematur]: number;
    [KontoTilleggType.flerbarn]: number;
}`,signature:{properties:[]},required:!1}}]},required:!0}}]}},description:""},locale:{required:!0,tsType:{name:"union",raw:"LocaleNo | 'en'",elements:[{name:"union",raw:"'nb' | 'nn'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"}]},{name:"literal",value:"'en'"}]},description:""}}};export{Ee as T};
