import{j as l}from"./jsx-runtime-Du8NFWEI.js";import{d as m}from"./dayjs.min-a42Le6oL.js";import{i as j}from"./isoWeek-tto3dG8J.js";import{B as S}from"./Box-DoqHmnCA.js";import{H as O}from"./Label-DKKZxAV5.js";import{c as Y}from"./clsx-B-dksMZM.js";import{r as x,R as I}from"./index-Dl6G-zuu.js";import{g as R,a as T}from"./css-CqApuV4H.js";var k=function(e,s){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&s.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)s.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(n[t[r]]=e[t[r]]);return n};const v=x.forwardRef((e,s)=>{var{className:n,columns:t,gap:r,style:o,align:i}=e,a=k(e,["className","columns","gap","style","align"]);const c=Object.assign(Object.assign(Object.assign(Object.assign({},o),{"--__ac-hgrid-align":i}),R("hgrid","gap","spacing",r)),T("hgrid","columns",L(t)));return I.createElement("div",Object.assign({},a,{ref:s,className:Y("navds-hgrid",n),style:c}))});function L(e){return e?typeof e=="string"||typeof e=="number"?h(e):Object.fromEntries(Object.entries(e).map(([s,n])=>[s,h(n)])):{}}const h=e=>typeof e=="number"?`repeat(${e}, minmax(0, 1fr))`:e,N=v,M="_days_16ojg_1",W="_blueDay_16ojg_31",C="_greenDay_16ojg_35",$="_firstDay_16ojg_41",F="_lastDay_16ojg_45",P="_firstAndLastDay_16ojg_49",B="_grayDay_16ojg_54",G="_none_16ojg_58",w="_pinkDay_16ojg_63",d={days:M,blueDay:W,greenDay:C,firstDay:$,lastDay:F,firstAndLastDay:P,grayDay:B,none:G,pinkDay:w};var y=(e=>(e.NONE="NONE",e.PINK="PINK",e.BLUE="BLUE",e.GREEN="GREEN",e.GRAY="GRAY",e))(y||{}),u=(e=>(e.FIRST_DAY="FIRST_DAY",e.LAST_DAY="LAST_DAY",e.FIRST_AND_LAST_DAY="FIRST_AND_LAST_DAY",e.BETWEEN_DAY="BETWEEN_DAY",e))(u||{});const q={NONE:d.none,BLUE:d.blueDay,GREEN:d.greenDay,GRAY:d.grayDay,PINK:d.pinkDay},p=({day:e,dayColor:s,dayType:n})=>{const t=n==="FIRST_DAY",r=n==="LAST_DAY",o=n==="FIRST_AND_LAST_DAY";return l.jsx("div",{"data-testid":`day:${e};dayColor:${s};dayType:${n}`,className:`${d.days} ${q[s]} ${t&&d.firstDay} ${r&&d.lastDay} ${o&&d.firstAndLastDay}`,children:e})};p.__docgenInfo={description:"",methods:[],displayName:"Day"};const K="_box_pj78t_1",H={box:K};m.extend(j);const A=(e,s="MMMM")=>{const n=e.format(s);return n.charAt(0).toUpperCase()+n.slice(1)},E=({year:e,month:s,showYear:n,children:t,headerLevel:r})=>{const o=m().year(e).month(s).startOf("month"),i=o.isoWeekday(),a=o.endOf("month").isoWeekday(),c=o.daysInMonth()+(i-1)+(7-a),g=[...Array(c/7).keys()];let b=0;return l.jsxs(S,{className:H.box,"data-testid":`year:${e};month:${s}`,"aria-hidden":!0,children:[l.jsx(O,{size:"small",level:r,children:n?`${A(o,"MMM")} (${e})`:A(o)}),g.map(_=>l.jsx(N,{columns:7,children:[...Array(7).keys()].map(f=>_===0&&f<i-1?l.jsx("div",{},f):_+1===g.length&&f>=a?l.jsx("div",{},f):t[b++])},_))]})};E.__docgenInfo={description:"",methods:[],displayName:"Month"};const U="_gridColumnsWide_jsg38_1",V="_gridColumnsSmall_jsg38_5",D={gridColumnsWide:U,gridColumnsSmall:V};m.extend(j);const z=(e,s,n,t)=>{const r=m().year(e).month(s).date(n),o=t[0].fom,i=t[t.length-1].tom;if(r.isBefore(o,"day")||r.isAfter(i,"day"))return y.NONE;const a=t.find(c=>r.isBetween(c.fom,c.tom,"day","[]"));return(a==null?void 0:a.color)===y.PINK?y.PINK:r.isoWeekday()===6||r.isoWeekday()===7?y.GRAY:(a==null?void 0:a.color)||y.NONE},J=(e,s,n)=>e.isoWeekday()===6||e.isoWeekday()===1||s===1||n.some(t=>e.isSame(t.fom,"day")),Q=(e,s,n)=>e.isoWeekday()===7||e.isoWeekday()===5||s===e.daysInMonth()||n.some(t=>e.isSame(t.tom,"day")),X=(e,s,n,t)=>{const r=m().year(e).month(s).date(n),o=J(r,n,t),i=Q(r,n,t);return o&&i?u.FIRST_AND_LAST_DAY:o?u.FIRST_DAY:i?u.LAST_DAY:u.BETWEEN_DAY},Z=(e,s)=>{let n;return n=(s.getFullYear()-e.getFullYear())*12,n-=e.getMonth(),n+=s.getMonth(),n<=0?0:n},ee=(e,s)=>{const n=m(e).month()%3,t=3-m(s).month()%3,r=m(e).subtract(n,"month"),o=m(s).add(t,"month"),i=Z(r.toDate(),o.toDate());return[...new Array(i)].map((a,c)=>({month:r.add(c,"month").month(),year:r.add(c,"month").year()}))},te=({periods:e,useSmallerWidth:s=!1})=>{const n=ee(e[0].fom,e[e.length-1].tom);return l.jsx(N,{gap:{xs:"2",sm:"4",md:"8"},className:s?D.gridColumnsSmall:D.gridColumnsWide,children:n.map((t,r)=>l.jsx(E,{year:t.year,month:t.month,showYear:r>0&&n[r-1].year!==t.year,headerLevel:s?"5":"4",children:[...Array(m().year(t.year).month(t.month).daysInMonth()).keys()].map(o=>l.jsx(p,{day:o+1,dayColor:z(t.year,t.month,o+1,e),dayType:X(t.year,t.month,o+1,e)},t.year+t.month+o))},t.year+"-"+t.month))})};te.__docgenInfo={description:"",methods:[],displayName:"Calendar",props:{periods:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fom: string;
    tom: string;
    color: DayColor;
}`,signature:{properties:[{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!0}},{key:"color",value:{name:"DayColor",required:!0}}]}}],raw:"Period[]"},description:""},useSmallerWidth:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};export{te as C,y as D};
