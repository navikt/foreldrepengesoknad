import{r as G,ab as ne,ac as v,aH as V,j as e,a4 as k,W as q,ad as se,Y as o,aA as w,aL as B,a3 as C,a5 as b,aM as oe,aI as le,ar as ie,aN as ue}from"./iframe-Dl5tCAIC.js";import{c as ge,e as de,u as c,C as n,f as R}from"./usePlanleggerNavigator-CRPKJXJq.js";import{P as me}from"./PlanleggerStepPage-DDgla6Mc.js";import{g as pe,f as ke}from"./FordelingSteg-Dqq6enMt.js";import{D as d}from"./Dekningsgrad-Bg_cIyqc.js";import{H as m,e as ce,j as Ee,g as ve,a as Re}from"./HvemPlanleggerUtils-hU-R16o8.js";import{u as Se,a as fe,b as Oe}from"./hvemHarRettUtils-BnwfFIjQ.js";import{d as J,c as z,g as Te,l as De}from"./uttakUtils-DKfO2R5_.js";import{u as he}from"./useScrollBehaviour-C1-DVm5-.js";import{P}from"./routes-Cyl7_Mgv.js";import{C as Fe}from"./CalendarLabels-dgBixUas.js";import{A as be}from"./Arbeidssituasjon-i2z_eSVB.js";import{e as Pe,m as xe}from"./barnetUtils-3VQFAqGJ.js";import{b as _e}from"./BarnehageplassSteg-BWsk3yfa.js";import{O as je}from"./OmÅTilpassePlanen-9UdmC_kf.js";import{U as ye}from"./UforutsetteEndringer-Cxgo_R7N.js";import{S as Ae}from"./PersonGroup-Cxrr-NAK.js";import{T as x}from"./ToggleGroup-3uMhljrg.js";const Ne=typeof globalThis<"u"&&globalThis.matchMedia===void 0,Le=(i,u)=>{const[l,p]=G.useState(u);return G.useEffect(()=>{if(Ne)return;const r=globalThis.matchMedia(i);p(r.matches);const t=S=>{p(S.matches)};return r.addEventListener("change",t),()=>{r.removeEventListener("change",t)}},[i]),l},Ie=(i,u,l)=>{const p=J(i===d.HUNDRE_PROSENT?u[d.HUNDRE_PROSENT]:u[d.ÅTTI_PROSENT]);return Math.min(l.antallDagerSøker1,p.totaltAntallDager)},Ue=({stønadskontoer:i})=>{const u=ne(),l=ge(),p=de();he();const r=v(c(n.HVEM_PLANLEGGER)),t=v(c(n.OM_BARNET)),S=v(c(n.HVOR_LANG_PERIODE)),f=v(c(n.ARBEIDSSITUASJON)),Q=c(n.UTTAKSPLAN)||[],E=c(n.FORDELING),_=R(n.FORDELING),W=v(R(n.HVOR_LANG_PERIODE)),O=R(n.UTTAKSPLAN),T=R(n.ORIGINAL_UTTAKSPLAN),D=R(n.TILPASS_PLAN),j=i[d.HUNDRE_PROSENT],y=i[d.ÅTTI_PROSENT],Y=_e(t),A=S.dekningsgrad===d.HUNDRE_PROSENT?j:y,X=J(A),Z=s=>{const H=s;W({dekningsgrad:H}),E&&_({antallDagerSøker1:Ie(H,i,E)})},h=()=>{const s=[...Q];return s.push([...a.søker1,...a.søker2]),s},g=Se(f),$=r.type===m.FAR_OG_FAR&&(g==="kunSøker1HarRett"||g==="kunSøker2HarRett"),N=z(j),L=z(y),I=Te(t),F=ce(r),U=fe(g,r)||Oe(g,r);let M;(r.type===m.MOR_OG_MEDMOR||r.type===m.MOR_OG_FAR)&&g==="kunSøker2HarRett"&&(M=V(V(I).denneEllerNeste()).leggTil(30));const K=Ee(r,g),a=De({erDeltUttak:E!==void 0,famDato:I,startdato:M,tilgjengeligeStønadskontoer:A.kontoer,fellesperiodeDagerMor:E?.antallDagerSøker1,bareFarMedmorHarRett:U,erAdopsjon:Pe(t),erFarEllerMedmor:K,erMorUfør:f?.status===be.UFØR,erAleneOmOmsorg:r.type===m.FAR||r.type===m.MOR,farOgFar:r.type===m.FAR_OG_FAR}),ee=ve(r,u),re=Re(r,u),te=!0,ae=Le("screen and (min-width: 480)");return e.jsx("form",{children:e.jsx(me,{steps:p,goToStep:l.goToNextStep,children:e.jsxs(k,{gap:"space-24",children:[e.jsxs(q,{justify:"space-between",children:[e.jsx(se,{size:"medium",spacing:!0,level:"2",children:e.jsx(o,{id:"OversiktSteg.Tittel",values:{erAleneforsørger:F}})}),e.jsx(k,{gap:"space-4",children:e.jsx(w,{size:"xsmall",variant:"secondary",type:"button",icon:e.jsx(B,{height:24,width:24,fontSize:"1-5rem","aria-hidden":!0}),onClick:()=>{O(h()),T([...a.søker1,...a.søker2]),D(!0),l.goToNextStep(P.TILPASS_PLANEN)},children:e.jsx(o,{id:"OversiktSteg.Infoboks.Tilpass"})})})]}),$&&t.erFødsel&&e.jsx(C,{header:e.jsx(o,{id:"OversiktSteg.Infoboks.FarOgFar.DereHarOppgitt"}),icon:e.jsx(Ae,{height:24,width:24,fontSize:"1.5rem",color:"var(--ax-bg-accent-strong)","aria-hidden":!0}),color:"green",children:e.jsxs("div",{children:[e.jsx(b,{children:e.jsx(o,{id:"OversiktSteg.Infoboks.FarOgFar.DenSomErBiologisk"})}),e.jsx(b,{children:e.jsx(o,{id:"OversiktSteg.Infoboks.FarOgFar.HvisDetErStebarnsadopsjon"})})]})}),e.jsxs(k,{gap:"space-4",children:[e.jsxs(x,{defaultValue:S?.dekningsgrad,size:ae?"medium":"small",variant:"neutral",onChange:Z,style:{width:"100%"},children:[e.jsx(x.Item,{value:d.HUNDRE_PROSENT,children:e.jsx(o,{id:"OversiktSteg.100",values:{uker:N.uker,dager:N.dager}})}),e.jsx(x.Item,{value:d.ÅTTI_PROSENT,children:e.jsx(o,{id:"OversiktSteg.80",values:{uker:L.uker,dager:L.dager}})})]}),g==="beggeHarRett"&&(!t.erFødsel||r.type!==m.FAR_OG_FAR)&&e.jsx(oe,{defaultValue:E?.antallDagerSøker1,label:"Velg fordeling fellesperiode",hideLabel:!0,name:"antallDagerSøker1",onChange:s=>{_({antallDagerSøker1:Number.parseInt(s.target.value,10)})},children:pe(X).map(s=>e.jsx("option",{value:s.antallUkerOgDagerSøker1.totaltAntallDager,children:ke(u,s,r,ee,re,te)},s.antallUkerOgDagerSøker1.totaltAntallDager))})]}),e.jsx(k,{gap:"space-20",children:e.jsx("div",{className:"p-[24px] max-[479px]:p-0",children:e.jsx(le,{bareFarMedmorHarRett:U,erFarEllerMedmor:K,harAktivitetskravIPeriodeUtenUttak:!1,søkersPerioder:a.søker1,annenPartsPerioder:a.søker2,navnAnnenPart:"Test",barn:xe(t),planleggerLegend:e.jsx(Fe,{hvemPlanlegger:r,barnet:t,hvemHarRett:g,uttaksplan:[...a.søker1,...a.søker2]}),barnehagestartdato:Y})})}),e.jsx(C,{header:e.jsx(o,{id:"OversiktSteg.Infoboks.Utkast",values:{erAleneforsørger:F}}),color:"gray",icon:e.jsx(B,{height:24,width:24,fontSize:"1-5rem","aria-hidden":!0}),children:e.jsxs(k,{gap:"space-8",children:[e.jsx(ie,{children:e.jsx(o,{id:"OversiktSteg.Infoboks.Utkast.Tekst",values:{erAleneforsørger:F}})}),e.jsx(q,{children:e.jsx(w,{variant:"primary",type:"button",onClick:()=>{O(h()),T([...a.søker1,...a.søker2]),D(!0),l.goToNextStep(P.TILPASS_PLANEN)},children:e.jsx(b,{size:"small",children:e.jsx(o,{id:"OversiktSteg.Infoboks.TilpassPlanen"})})})})]})}),e.jsxs(k,{gap:"space-4",children:[e.jsx(je,{arbeidssituasjon:f,barnet:t,hvemPlanlegger:r}),e.jsx(ye,{arbeidssituasjon:f,hvemPlanlegger:r,barnet:t})]}),e.jsx(ue,{goToPreviousStep:l.goToPreviousDefaultStep,nextButtonOnClick:()=>{O(h()),T([...a.søker1,...a.søker2]),D(!1),l.goToNextStep(P.OPPSUMMERING)},isJumpToEndButton:!0,useSimplifiedTexts:!0})]})})})};Ue.__docgenInfo={description:"",methods:[],displayName:"PlanenDeresSteg",props:{stønadskontoer:{required:!0,tsType:{name:"signature",type:"object",raw:"{ '80': KontoBeregningDto_fpoversikt; '100': KontoBeregningDto_fpoversikt }",signature:{properties:[{key:"80",value:{name:"signature",type:"object",raw:`{
    kontoer: KontoDto_fpoversikt[];
    minsteretter: Minsteretter_fpoversikt;
    tillegg?: Tillegg_fpoversikt;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    dager: number;
    konto: KontoTypeUttak_fpoversikt;
}`,signature:{properties:[{key:"dager",value:{name:"number",required:!0}},{key:"konto",value:{name:"union",raw:`| 'MØDREKVOTE'
| 'FEDREKVOTE'
| 'FELLESPERIODE'
| 'FORELDREPENGER'
| 'FORELDREPENGER_FØR_FØDSEL'
| 'AKTIVITETSFRI_KVOTE'`,elements:[{name:"literal",value:"'MØDREKVOTE'"},{name:"literal",value:"'FEDREKVOTE'"},{name:"literal",value:"'FELLESPERIODE'"},{name:"literal",value:"'FORELDREPENGER'"},{name:"literal",value:"'FORELDREPENGER_FØR_FØDSEL'"},{name:"literal",value:"'AKTIVITETSFRI_KVOTE'"}],required:!0}}]}}],raw:"KontoDto_fpoversikt[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    farRundtFødsel: number;
    toTette: number;
}`,signature:{properties:[{key:"farRundtFødsel",value:{name:"number",required:!0}},{key:"toTette",value:{name:"number",required:!0}}]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    flerbarn: number;
    prematur: number;
}`,signature:{properties:[{key:"flerbarn",value:{name:"number",required:!0}},{key:"prematur",value:{name:"number",required:!0}}]},required:!1}}]},required:!0}},{key:"100",value:{name:"signature",type:"object",raw:`{
    kontoer: KontoDto_fpoversikt[];
    minsteretter: Minsteretter_fpoversikt;
    tillegg?: Tillegg_fpoversikt;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    dager: number;
    konto: KontoTypeUttak_fpoversikt;
}`,signature:{properties:[{key:"dager",value:{name:"number",required:!0}},{key:"konto",value:{name:"union",raw:`| 'MØDREKVOTE'
| 'FEDREKVOTE'
| 'FELLESPERIODE'
| 'FORELDREPENGER'
| 'FORELDREPENGER_FØR_FØDSEL'
| 'AKTIVITETSFRI_KVOTE'`,elements:[{name:"literal",value:"'MØDREKVOTE'"},{name:"literal",value:"'FEDREKVOTE'"},{name:"literal",value:"'FELLESPERIODE'"},{name:"literal",value:"'FORELDREPENGER'"},{name:"literal",value:"'FORELDREPENGER_FØR_FØDSEL'"},{name:"literal",value:"'AKTIVITETSFRI_KVOTE'"}],required:!0}}]}}],raw:"KontoDto_fpoversikt[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    farRundtFødsel: number;
    toTette: number;
}`,signature:{properties:[{key:"farRundtFødsel",value:{name:"number",required:!0}},{key:"toTette",value:{name:"number",required:!0}}]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    flerbarn: number;
    prematur: number;
}`,signature:{properties:[{key:"flerbarn",value:{name:"number",required:!0}},{key:"prematur",value:{name:"number",required:!0}}]},required:!1}}]},required:!0}}]}},description:""}}};export{Ue as P};
