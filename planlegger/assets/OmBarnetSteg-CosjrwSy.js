import{j as e}from"./jsx-runtime-Du8NFWEI.js";import{i as x,d as v,e as Q,f as X,g as Z,h as C,j as $,k as ee,u as se,a as te,b as P,C as A,n as ae,c as re}from"./usePlanleggerNavigator-Bv5BjPTg.js";import{P as G}from"./routes-DI-Woyga.js";import{I as g}from"./Infobox-DBiJWQmR.js";import{P as oe}from"./PlanleggerStepPage-CgQnGAng.js";import{d as n}from"./dayjs.min-a42Le6oL.js";import{a as O,D as S,f as b,R as j,u as de,F as ne,S as ie}from"./StepButtonsHookForm-DUdbmqm8.js";import{u as D,F as s}from"./index-e2vXP8VC.js";import{S as k,f as U,b as R,e as H,j as T,k as q,h as le}from"./HvemPlanleggerUtils-CHTffTZd.js";import{e as me}from"./barnetUtils-Dtg6gkcN.js";import{u as ue}from"./useScrollBehaviour-BhOrFi8k.js";import{L as ce,l as fe}from"./links-BAR-PZvy.js";import{a as y}from"./dateUtils-C_C2kvi-.js";import"./index-Dl6G-zuu.js";import"./calendarLabel.module-Bk8mFlZK.js";import"./amplitude.esm-JOtNIP3j.js";import{G as _}from"./GreenRadioGroup-DxUftn9i.js";import{G as V}from"./GreenPanel-CEPEejtT.js";import{V as h}from"./VStack-C-EA7mzX.js";import{T as I}from"./TasklistStart-BHosgMZk.js";import{a as f,B as F,H as xe}from"./Label-DKKZxAV5.js";import{S as je}from"./Spacer-DYbme5k_.js";const L=({erAlenesøker:t,erOmBarnetIkkeOppgittFraFør:i,antallBarn:l,hvemPlanlegger:o})=>{const a=D(),r=l==="3"||l==="2",m=O(),d=m.watch("fødselsdato"),u=m.watch("overtakelsesdato"),c=o.type===k.MOR_OG_FAR||o.type===k.MOR_OG_MEDMOR;return e.jsxs(e.Fragment,{children:[e.jsx(V,{isDarkGreen:i,shouldFadeIn:!0,children:e.jsxs(h,{gap:"8",children:[e.jsx(S,{label:e.jsx(s,{id:"Adopsjon.Overtakelsesdato",values:{erAlenesøker:t,flereBarn:r}}),name:"overtakelsesdato",minDate:n().subtract(6,"month").toDate(),autofocusWhenEmpty:!0,validate:[x(a.formatMessage({id:"Overtakelsesdato.Required"},{erAlenesøker:t,flereBarn:r})),v(a.formatMessage({id:"ValidationMessage.ValidDate"})),Q(a.formatMessage({id:"ValidationMessage.OlderThan6months"})),X(a.formatMessage({id:"ValidationMessage.FødselsdatoMåVæreFørOmsorgovertakelse"}),d),Z(a.formatMessage({id:"ValidationMessage.OmsorgsovertakelseKanIkkeVæreLengerEnn15ÅrEtterFødsel"}),d&&n(d).add(15,"years"))]}),e.jsx(S,{label:e.jsx(s,{id:"Adopsjon.Fødselsdato",values:{flereBarn:r}}),name:"fødselsdato",minDate:n().subtract(15,"years").toDate(),maxDate:n().toDate(),validate:[x(a.formatMessage({id:"Fødselsdato.Required"})),v(a.formatMessage({id:"ValidationMessage.ValidDate"})),C(a.formatMessage({id:"ValidationMessage.IdagEllerTidligere"}))]})]})}),u&&e.jsxs(g,{header:e.jsx(s,{id:"OmBarnetSteg.Adopsjon.ForeldrepengerInfo",values:{erAlenesøker:t}}),icon:e.jsx(I,{height:24,width:24,color:"#236B7D",fontSize:"1.5rem","aria-hidden":!0}),shouldFadeIn:!0,children:[e.jsx(f,{children:e.jsx(s,{id:"OmBarnetSteg.Adopsjon.ForeldrepengerInfoTekst"})}),e.jsx(f,{children:e.jsx(s,{id:"OmBarnetSteg.Adopsjon.ForeldrepengerInfoTekstDel2Deg",values:{erAlenesøker:t,erFarEllerMedmor:c,hvem:U(a,o)}})})]})]})};L.__docgenInfo={description:"",methods:[],displayName:"Adopsjon"};const z=({hvemPlanlegger:t,erOmBarnetIkkeOppgittFraFør:i,antallBarn:l,scrollToBottom:o})=>{const a=D(),m=O().watch("fødselsdato"),d=R(t),u=t.type!==k.MOR;return e.jsxs(h,{gap:"5",children:[e.jsx(V,{isDarkGreen:i,shouldFadeIn:!0,children:e.jsxs(h,{gap:"8",children:[e.jsx(S,{label:e.jsx(s,{id:"ErFødtPanel.Fødselsdato",values:{antallBarn:l}}),name:"fødselsdato",maxDate:n().toDate(),autofocusWhenEmpty:!0,useStrategyAbsolute:!0,validate:[x(a.formatMessage({id:"Fødselsdato.Required"})),v(a.formatMessage({id:"ValidationMessage.ValidDate"})),C(a.formatMessage({id:"ValidationMessage.InFuture"}))],customErrorFormatter:b,onChange:o}),e.jsx(S,{label:e.jsx(s,{id:"ErFødtPanel.NårVarTermin"}),name:"termindato",maxDate:n().add(18,"weeks").add(3,"days").toDate(),validate:[x(a.formatMessage({id:"Termindato.Required"})),v(a.formatMessage({id:"ValidationMessage.ValidDate"})),$(a.formatMessage({id:"ValidationMessage.DuMåVæreIUke22"}))],customErrorFormatter:b,useStrategyAbsolute:!0,onChange:o})]})}),m!==void 0&&n(m).isAfter(y)&&e.jsxs(g,{header:e.jsx(s,{id:"ErFødtPanel.Født.InfoboksTittel",values:{erAlenesøker:d}}),icon:e.jsx(I,{height:24,width:24,color:"#236B7D",fontSize:"1.5rem","aria-hidden":!0}),shouldFadeIn:!0,children:[e.jsx(F,{children:e.jsx(s,{id:"ErFødtPanel.Født.Infoboks.ManKanSøkeTilbakeITid"})}),e.jsx(F,{children:e.jsx(s,{id:"ErFødtPanel.Født.InfoboksTekst.NAVanbefaler",values:{erMorDelAvSøknaden:H(t)}})}),T(t)&&e.jsx(F,{children:e.jsx(s,{id:"ErFødtPanel.Født.InfoboksTekst.toFørsteUkerDekket",values:{erFar:u,hvem:U(a,t)}})})]}),m!==void 0&&n(m).isBefore(y)&&e.jsxs(g,{header:e.jsx(s,{id:"ErFødtPanel.Født.InfoboksTittel.EldreEnnTreÅr",values:{erAlenesøker:d,antallBarn:l}}),icon:e.jsx(I,{height:24,width:24,color:"#236B7D",fontSize:"1.5rem"}),shouldFadeIn:!0,children:[e.jsx(F,{children:e.jsx(s,{id:"ErFødtPanel.Født.InfoboksTekst.EldreEnnTreÅr",values:{antallBarn:l}})}),e.jsx(F,{children:e.jsx(s,{id:"ErFødtPanel.Født.Infoboks.ManKanSøkeTilbakeITid",values:{erFar:u}})})]})]})};z.__docgenInfo={description:"",methods:[],displayName:"ErFødtPanel"};const N=n().startOf("days").add(3,"months").add(1,"day"),Fe=n().startOf("days"),w=(t,i)=>{if(i.type===k.MOR_OG_MEDMOR)return t.formatMessage({id:"OversiktSteg.Medmor"});if(T(i))return t.formatMessage({id:"OversiktSteg.Far"})},K=({hvemPlanlegger:t,erOmBarnetIkkeOppgittFraFør:i,scrollToBottom:l})=>{const o=D(),r=O().watch("termindato"),m=r!==void 0?n(r).subtract(18,"weeks").subtract(2,"days").toDate():void 0,d=R(t),u=T(t),c=q(t);return e.jsxs(h,{gap:"5",children:[e.jsx(V,{isDarkGreen:i,shouldFadeIn:!0,children:e.jsx(S,{label:e.jsx(s,{id:"ErIkkeFødtPanel.Termin"}),name:"termindato",minDate:n().subtract(3,"week").toDate(),maxDate:n().add(1,"year").toDate(),autofocusWhenEmpty:!0,useStrategyAbsolute:!0,validate:[x(o.formatMessage({id:"Termindato.Required"})),v(o.formatMessage({id:"ValidationMessage.ValidDate"})),ee(o.formatMessage({id:"ValidationMessage.KanIkkeVære3UkerFraIdag"}))],customErrorFormatter:b,onChange:l})}),r!==void 0&&n(r).isAfter(N)&&e.jsx(e.Fragment,{children:e.jsxs(g,{header:e.jsx(s,{id:"ErIkkeFødtPanel.ForeldrepengerInfo",values:{erAlenesøker:d,dato:n(m).format("DD.MM.YY")}}),icon:e.jsx(I,{height:24,width:24,color:"#236B7D",fontSize:"1.5rem","aria-hidden":!0}),shouldFadeIn:!0,children:[e.jsx(f,{children:e.jsx(s,{id:"ErIkkeFødtPanel.ForeldrepengerInfoTekst.kanSøke",values:{erAlenesøker:d}})}),e.jsx(f,{children:e.jsx(s,{id:"ErIkkeFødtPanel.ForeldrepengerInfoTekst.NAVanbefaler",values:{erMorDelAvSøknaden:H(t)}})}),T(t)&&!c&&e.jsx(f,{children:e.jsx(s,{id:"ErIkkeFødtPanel.ForeldrepengerInfoTekst.toFørsteUkerDekket",values:{erFar:u,hvem:w(o,t)}})})]})}),r!==void 0&&n(r).isBefore(N)&&e.jsx(e.Fragment,{children:e.jsx(g,{header:e.jsx(e.Fragment,{children:n(r).isSameOrAfter(Fe)?e.jsx(s,{id:"ErIkkeFødtPanel.UnderTreMndTilTerminInfo",values:{erAlenesøker:d}}):e.jsx(s,{id:"ErIkkeFødtPanel.TerminErForbi",values:{erAlenesøker:d}})}),icon:e.jsx(I,{height:24,width:24,color:"#236B7D",fontSize:"1.5rem","aria-hidden":!0}),shouldFadeIn:!0,children:!c&&e.jsxs(e.Fragment,{children:[e.jsx(f,{children:t.type===k.MOR&&e.jsx(s,{id:"ErIkkeFødtPanel.UnderTreMndTilTermin",values:{erAlenesøker:d}})}),!d&&e.jsx(f,{children:e.jsx(s,{id:"ErIkkeFødtPanel.UnderTreMndTilTermin",values:{erAlenesøker:d,navn:le(t,o)}})}),(!d||t.type===k.FAR)&&e.jsx(f,{children:e.jsx(s,{id:"ErIkkeFødtPanel.ForeldrepengerInfoTekst.toFørsteUkerDekket",values:{erAlenesøker:d,erFar:u,hvem:w(o,t)}})})]})})})]})};K.__docgenInfo={description:"",methods:[],displayName:"ErIkkeFødtPanel"};const W=({hvemPlanlegger:t,erOmBarnetIkkeOppgittFraFør:i,antallBarn:l,scrollToBottom:o})=>{const a=D(),r=O(),m=r.watch("erBarnetFødt");return e.jsxs(h,{gap:"8",children:[e.jsxs(_,{label:e.jsx(s,{id:"Fødsel.ErFødt",values:{antallBarn:l}}),name:"erBarnetFødt",shouldFadeIn:!0,validate:[x(a.formatMessage({id:"Fødsel.ErFødt.Required"},{antallBarn:l}))],onChange:()=>{r.resetField("fødselsdato"),r.resetField("termindato"),o()},children:[e.jsx(j,{value:!0,autoFocus:i,children:e.jsx(s,{id:"DefaultMessage.Ja"})}),e.jsx(j,{value:!1,children:e.jsx(s,{id:"DefaultMessage.Nei"})})]}),m&&e.jsx(z,{hvemPlanlegger:t,erOmBarnetIkkeOppgittFraFør:i,antallBarn:l,scrollToBottom:o}),m===!1&&e.jsx(K,{hvemPlanlegger:t,erOmBarnetIkkeOppgittFraFør:i,antallBarn:l,scrollToBottom:o})]})};W.__docgenInfo={description:"",methods:[],displayName:"Fødsel"};const he=(t,i)=>i?e.jsx(s,{id:"OmBarnetSteg.HvorMange",values:{erAlenesøker:t}}):e.jsx(s,{id:"OmBarnetSteg.Adopsjon.HvorMange",values:{erAlenesøker:t}}),ge=({locale:t})=>{const i=D(),l=se(t),o=te(),a=P(A.OM_BARNET),r=ae(P(A.HVEM_PLANLEGGER)),m=re(A.OM_BARNET),d=M=>{m(M),me(M)&&n(M.fødselsdato).isBefore(y)?l.goToNextStep(G.OPPSUMMERING):l.goToNextStep(G.ARBEIDSSITUASJON)},u=de({shouldUnregister:!0,defaultValues:a}),c=u.watch("erFødsel"),E=u.watch("antallBarn"),p=R(r),Y=q(r),{ref:J,scrollToBottom:B}=ue();return e.jsx(oe,{ref:J,steps:o,children:e.jsx(ne,{formMethods:u,onSubmit:d,shouldUseFlexbox:!0,children:e.jsxs(h,{gap:"10",style:{flex:1},children:[e.jsxs(h,{gap:"8",children:[e.jsx(xe,{level:"2",size:"medium",children:e.jsx(s,{id:"OmBarnetSteg.Tittel"})}),e.jsxs(_,{name:"erFødsel",label:e.jsx(s,{id:"OmBarnetSteg.HvaGjelder",values:{erAlenesøker:p}}),validate:[x(i.formatMessage({id:"OmBarnetSteg.HvaGjelder.Required"},{erAlenesøker:p}))],onChange:()=>{u.resetField("antallBarn"),B()},children:[e.jsx(j,{value:!0,autoFocus:!0,children:e.jsx(s,{id:"OmBarnetSteg.Fødsel"})}),e.jsx(j,{value:!1,children:e.jsx(s,{id:"OmBarnetSteg.Adopsjon"})})]}),c!==void 0&&c===!0&&Y&&e.jsxs(g,{header:e.jsx(s,{id:"OmBarnetSteg.Fødsel.Infoboks"}),children:[e.jsx(F,{children:e.jsx(s,{id:"OmBarnetSteg.Fødsel.Infoboks.DenSomErBiologiskFar"})}),e.jsx(F,{children:e.jsx(s,{id:"OmBarnetSteg.Fødsel.Infoboks.LesMer",values:{a:M=>e.jsx(ce,{href:fe.foreldrepenger,target:"_blank",inlineText:!0,children:M})}})})]}),c!==void 0&&e.jsxs(_,{name:"antallBarn",label:he(p,c),shouldFadeIn:!0,validate:[x(i.formatMessage({id:"OmBarnetSteg.HvorMange.Required"},{erAlenesøker:p,erFødsel:c}))],onChange:()=>{u.resetField("erBarnetFødt"),B()},children:[e.jsx(j,{value:"1",autoFocus:a===void 0,children:e.jsx(s,{id:"OmBarnetSteg.Ett"})}),e.jsx(j,{value:"2",children:c?e.jsx(s,{id:"OmBarnetSteg.Tvillinger"}):e.jsx(s,{id:"OmBarnetSteg.To"})}),e.jsx(j,{value:"3",children:e.jsx(s,{id:"OmBarnetSteg.FlereEnnTo"})})]}),c&&E&&e.jsx(W,{hvemPlanlegger:r,erOmBarnetIkkeOppgittFraFør:a===void 0,antallBarn:E,scrollToBottom:B}),c===!1&&E&&e.jsx(L,{erAlenesøker:p,erOmBarnetIkkeOppgittFraFør:a===void 0,antallBarn:E,hvemPlanlegger:r})]}),e.jsx(je,{}),e.jsx(ie,{saveDataOnPreviousClick:m,goToPreviousStep:l.goToPreviousDefaultStep,useSimplifiedTexts:!0})]})})})};ge.__docgenInfo={description:"",methods:[],displayName:"OmBarnetSteg"};export{ge as O};
