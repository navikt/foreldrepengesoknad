import{r as H,ac as ne,ad as R,aI as V,j as e,a5 as k,X as q,ae as se,Z as o,aB as w,aM as B,a4 as C,a6 as b,aN as oe,aJ as le,as as ie,aO as ue}from"./iframe-CKmKbywv.js";import{c as ge,e as de,u as c,C as n,f as S}from"./usePlanleggerNavigator-1AbGXYeW.js";import{P as me}from"./PlanleggerStepPage-C2sApglb.js";import{g as pe,f as ke}from"./FordelingSteg-Df5QKbSe.js";import{D as d}from"./Dekningsgrad-Bg_cIyqc.js";import{H as m,e as ce,j as Ee,g as Re,a as Se}from"./HvemPlanleggerUtils-Ckqzekpn.js";import{u as Oe,a as ve,b as Te}from"./hvemHarRettUtils-BfRHJrRd.js";import{d as J,c as z,g as fe,l as De}from"./uttakUtils-cnlBWSzj.js";import{u as he}from"./useScrollBehaviour-VsA90qnl.js";import{P}from"./routes-Cyl7_Mgv.js";import{C as Fe}from"./CalendarLabels-DAf2ve5I.js";import{A as be}from"./Arbeidssituasjon-i2z_eSVB.js";import{e as Pe,m as xe}from"./barnetUtils-DqLZZUfD.js";import{b as je}from"./BarnehageplassSteg-Bf_VAW7B.js";import{O as ye}from"./OmÅTilpassePlanen-BgR8cZDO.js";import{U as _e}from"./UforutsetteEndringer-eufOatd8.js";import{S as Ae}from"./PersonGroup-D5ouniXZ.js";import{T as x}from"./ToggleGroup-CZUmAq_Q.js";const Ne=typeof globalThis<"u"&&globalThis.matchMedia===void 0,Ie=(i,u)=>{const[l,p]=H.useState(u);return H.useEffect(()=>{if(Ne)return;const r=globalThis.matchMedia(i);p(r.matches);const t=O=>{p(O.matches)};return r.addEventListener("change",t),()=>{r.removeEventListener("change",t)}},[i]),l},Le=(i,u,l)=>{const p=J(i===d.HUNDRE_PROSENT?u[d.HUNDRE_PROSENT]:u[d.ÅTTI_PROSENT]);return Math.min(l.antallDagerSøker1,p.totaltAntallDager)},Ue=({stønadskontoer:i})=>{const u=ne(),l=ge(),p=de();he();const r=R(c(n.HVEM_PLANLEGGER)),t=R(c(n.OM_BARNET)),O=R(c(n.HVOR_LANG_PERIODE)),v=R(c(n.ARBEIDSSITUASJON)),Q=c(n.UTTAKSPLAN)||[],E=c(n.FORDELING),j=S(n.FORDELING),X=R(S(n.HVOR_LANG_PERIODE)),T=S(n.UTTAKSPLAN),f=S(n.ORIGINAL_UTTAKSPLAN),D=S(n.TILPASS_PLAN),y=i[d.HUNDRE_PROSENT],_=i[d.ÅTTI_PROSENT],Z=je(t),A=O.dekningsgrad===d.HUNDRE_PROSENT?y:_,W=J(A),Y=s=>{const G=s;X({dekningsgrad:G}),E&&j({antallDagerSøker1:Le(G,i,E)})},h=()=>{const s=[...Q];return s.push([...a.søker1,...a.søker2]),s},g=Oe(v),$=r.type===m.FAR_OG_FAR&&(g==="kunSøker1HarRett"||g==="kunSøker2HarRett"),N=z(y),I=z(_),L=fe(t),F=ce(r),U=ve(g,r)||Te(g,r);let M;(r.type===m.MOR_OG_MEDMOR||r.type===m.MOR_OG_FAR)&&g==="kunSøker2HarRett"&&(M=V(V(L).denneEllerNeste()).leggTil(30));const K=Ee(r,g),a=De({erDeltUttak:E!==void 0,famDato:L,startdato:M,tilgjengeligeStønadskontoer:A.kontoer,fellesperiodeDagerMor:E?.antallDagerSøker1,bareFarMedmorHarRett:U,erAdopsjon:Pe(t),erFarEllerMedmor:K,erMorUfør:v?.status===be.UFØR,erAleneOmOmsorg:r.type===m.FAR||r.type===m.MOR,farOgFar:r.type===m.FAR_OG_FAR}),ee=Re(r,u),re=Se(r,u),te=!0,ae=Ie("screen and (min-width: 480)");return e.jsx("form",{children:e.jsx(me,{steps:p,goToStep:l.goToNextStep,children:e.jsxs(k,{gap:"space-24",children:[e.jsxs(q,{justify:"space-between",children:[e.jsx(se,{size:"medium",spacing:!0,level:"2",children:e.jsx(o,{id:"OversiktSteg.Tittel",values:{erAleneforsørger:F}})}),e.jsx(k,{gap:"space-4",children:e.jsx(w,{size:"xsmall",variant:"secondary",type:"button",icon:e.jsx(B,{height:24,width:24,fontSize:"1-5rem","aria-hidden":!0}),onClick:()=>{T(h()),f([...a.søker1,...a.søker2]),D(!0),l.goToNextStep(P.TILPASS_PLANEN)},children:e.jsx(o,{id:"OversiktSteg.Infoboks.Tilpass"})})})]}),$&&t.erFødsel&&e.jsx(C,{header:e.jsx(o,{id:"OversiktSteg.Infoboks.FarOgFar.DereHarOppgitt"}),icon:e.jsx(Ae,{height:24,width:24,fontSize:"1.5rem",color:"var(--ax-bg-accent-strong)","aria-hidden":!0}),color:"green",children:e.jsxs("div",{children:[e.jsx(b,{children:e.jsx(o,{id:"OversiktSteg.Infoboks.FarOgFar.DenSomErBiologisk"})}),e.jsx(b,{children:e.jsx(o,{id:"OversiktSteg.Infoboks.FarOgFar.HvisDetErStebarnsadopsjon"})})]})}),e.jsxs(k,{gap:"space-4",children:[e.jsxs(x,{defaultValue:O?.dekningsgrad,size:ae?"medium":"small",variant:"neutral",onChange:Y,style:{width:"100%"},children:[e.jsx(x.Item,{value:d.HUNDRE_PROSENT,children:e.jsx(o,{id:"OversiktSteg.100",values:{uker:N.uker,dager:N.dager}})}),e.jsx(x.Item,{value:d.ÅTTI_PROSENT,children:e.jsx(o,{id:"OversiktSteg.80",values:{uker:I.uker,dager:I.dager}})})]}),g==="beggeHarRett"&&(!t.erFødsel||r.type!==m.FAR_OG_FAR)&&e.jsx(oe,{defaultValue:E?.antallDagerSøker1,label:"Velg fordeling fellesperiode",hideLabel:!0,name:"antallDagerSøker1",onChange:s=>{j({antallDagerSøker1:Number.parseInt(s.target.value,10)})},children:pe(W).map(s=>e.jsx("option",{value:s.antallUkerOgDagerSøker1.totaltAntallDager,children:ke(u,s,r,ee,re,te)},s.antallUkerOgDagerSøker1.totaltAntallDager))})]}),e.jsx(k,{gap:"space-20",children:e.jsx("div",{className:"p-[24px] max-[479px]:p-0",children:e.jsx(le,{bareFarMedmorHarRett:U,erFarEllerMedmor:K,harAktivitetskravIPeriodeUtenUttak:!1,søkersPerioder:a.søker1,annenPartsPerioder:a.søker2,navnAnnenPart:"Test",barn:xe(t),planleggerLegend:e.jsx(Fe,{hvemPlanlegger:r,barnet:t,hvemHarRett:g,uttaksplan:[...a.søker1,...a.søker2]}),barnehagestartdato:Z})})}),e.jsx(C,{header:e.jsx(o,{id:"OversiktSteg.Infoboks.Utkast",values:{erAleneforsørger:F}}),color:"gray",icon:e.jsx(B,{height:24,width:24,fontSize:"1-5rem","aria-hidden":!0}),children:e.jsxs(k,{gap:"space-8",children:[e.jsx(ie,{children:e.jsx(o,{id:"OversiktSteg.Infoboks.Utkast.Tekst",values:{erAleneforsørger:F}})}),e.jsx(q,{children:e.jsx(w,{variant:"primary",type:"button",onClick:()=>{T(h()),f([...a.søker1,...a.søker2]),D(!0),l.goToNextStep(P.TILPASS_PLANEN)},children:e.jsx(b,{size:"small",children:e.jsx(o,{id:"OversiktSteg.Infoboks.TilpassPlanen"})})})})]})}),e.jsxs(k,{gap:"space-4",children:[e.jsx(ye,{arbeidssituasjon:v,barnet:t,hvemPlanlegger:r}),e.jsx(_e,{arbeidssituasjon:v,hvemPlanlegger:r,barnet:t})]}),e.jsx(ue,{goToPreviousStep:l.goToPreviousDefaultStep,nextButtonOnClick:()=>{T(h()),f([...a.søker1,...a.søker2]),D(!1),l.goToNextStep(P.OPPSUMMERING)},isJumpToEndButton:!0,useSimplifiedTexts:!0})]})})})};Ue.__docgenInfo={description:"",methods:[],displayName:"PlanenDeresSteg",props:{stønadskontoer:{required:!0,tsType:{name:"signature",type:"object",raw:"{ '80': KontoBeregningDto; '100': KontoBeregningDto }",signature:{properties:[{key:"80",value:{name:"signature",type:"object",raw:`{
    kontoer: KontoDto[];
    minsteretter: Minsteretter;
    tillegg?: Tillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: KontoTypeUttak;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"union",raw:`| 'MØDREKVOTE'
| 'FEDREKVOTE'
| 'FELLESPERIODE'
| 'FORELDREPENGER'
| 'FORELDREPENGER_FØR_FØDSEL'
| 'AKTIVITETSFRI_KVOTE'`,elements:[{name:"literal",value:"'MØDREKVOTE'"},{name:"literal",value:"'FEDREKVOTE'"},{name:"literal",value:"'FELLESPERIODE'"},{name:"literal",value:"'FORELDREPENGER'"},{name:"literal",value:"'FORELDREPENGER_FØR_FØDSEL'"},{name:"literal",value:"'AKTIVITETSFRI_KVOTE'"}],required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"KontoDto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    farRundtFødsel: number;
    toTette: number;
}`,signature:{properties:[{key:"farRundtFødsel",value:{name:"number",required:!0}},{key:"toTette",value:{name:"number",required:!0}}]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    flerbarn: number;
    prematur: number;
}`,signature:{properties:[{key:"flerbarn",value:{name:"number",required:!0}},{key:"prematur",value:{name:"number",required:!0}}]},required:!1}}]},required:!0}},{key:"100",value:{name:"signature",type:"object",raw:`{
    kontoer: KontoDto[];
    minsteretter: Minsteretter;
    tillegg?: Tillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: KontoTypeUttak;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"union",raw:`| 'MØDREKVOTE'
| 'FEDREKVOTE'
| 'FELLESPERIODE'
| 'FORELDREPENGER'
| 'FORELDREPENGER_FØR_FØDSEL'
| 'AKTIVITETSFRI_KVOTE'`,elements:[{name:"literal",value:"'MØDREKVOTE'"},{name:"literal",value:"'FEDREKVOTE'"},{name:"literal",value:"'FELLESPERIODE'"},{name:"literal",value:"'FORELDREPENGER'"},{name:"literal",value:"'FORELDREPENGER_FØR_FØDSEL'"},{name:"literal",value:"'AKTIVITETSFRI_KVOTE'"}],required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"KontoDto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    farRundtFødsel: number;
    toTette: number;
}`,signature:{properties:[{key:"farRundtFødsel",value:{name:"number",required:!0}},{key:"toTette",value:{name:"number",required:!0}}]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    flerbarn: number;
    prematur: number;
}`,signature:{properties:[{key:"flerbarn",value:{name:"number",required:!0}},{key:"prematur",value:{name:"number",required:!0}}]},required:!1}}]},required:!0}}]}},description:""}}};export{Ue as P};
