import{r as G,ad as ne,ae as T,aE as B,j as e,a6 as c,Y as K,af as se,_ as i,aC as q,aI as C,a5 as z,a7 as P,aJ as oe,aF as ie,at as le,aK as ge}from"./iframe-lVwyS3Qx.js";import{c as de,e as ue,u as m,C as n,f}from"./usePlanleggerNavigator-CjY_a4A1.js";import{P as pe}from"./PlanleggerStepPage-0kquicl9.js";import{g as ke,f as ce}from"./FordelingSteg-CvNctuE5.js";import{D as u}from"./Dekningsgrad-Bg_cIyqc.js";import{H as k,e as me,j as Se,g as Te,a as fe}from"./HvemPlanleggerUtils-DmRXPRql.js";import{u as he,a as je,b as ve}from"./hvemHarRettUtils-DNkiKGiZ.js";import{d as J,c as V,g as Oe,l as xe}from"./uttakUtils-AuLh9lHc.js";import{u as ye}from"./useScrollBehaviour-DsMkK5LC.js";import{P as R}from"./routes-Cyl7_Mgv.js";import{C as be}from"./CalendarLabels-D8Rfr7FS.js";import{A as Pe}from"./Arbeidssituasjon-i2z_eSVB.js";import{e as Re,m as De}from"./barnetUtils-fEB1cv7e.js";import{b as Ae}from"./BarnehageplassSteg-fVVqECtp.js";import{O as Ee}from"./OmÅTilpassePlanen-D-mHeY4w.js";import{U as Fe}from"./UforutsetteEndringer-CT8rbH3J.js";import{S as _e}from"./PersonGroup-yWtezmRC.js";import{T as D}from"./ToggleGroup-DWTSZUQg.js";const Ne=typeof window<"u"&&window.matchMedia===void 0,Ue=(l,g)=>{const[s,p]=G.useState(g);return G.useEffect(()=>{if(Ne)return;const t=window.matchMedia(l);p(t.matches);const r=h=>{p(h.matches)};return t.addEventListener("change",r),()=>{t.removeEventListener("change",r)}},[l]),s},Ie="_calendar_wfn3i_1",Me={calendar:Ie},Le=(l,g,s)=>{const p=J(l===u.HUNDRE_PROSENT?g[u.HUNDRE_PROSENT]:g[u.ÅTTI_PROSENT]);return s.antallDagerSøker1>p.totaltAntallDager?p.totaltAntallDager:s.antallDagerSøker1},we=({stønadskontoer:l})=>{const g=ne(),s=de(),p=ue();ye();const t=T(m(n.HVEM_PLANLEGGER)),r=T(m(n.OM_BARNET)),h=T(m(n.HVOR_LANG_PERIODE)),j=T(m(n.ARBEIDSSITUASJON)),Q=m(n.UTTAKSPLAN)||[],S=m(n.FORDELING),A=f(n.FORDELING),Y=T(f(n.HVOR_LANG_PERIODE)),v=f(n.UTTAKSPLAN),O=f(n.ORIGINAL_UTTAKSPLAN),x=f(n.TILPASS_PLAN),E=l[u.HUNDRE_PROSENT],F=l[u.ÅTTI_PROSENT],W=Ae(r),_=h.dekningsgrad===u.HUNDRE_PROSENT?E:F,X=J(_),Z=o=>{const H=o;Y({dekningsgrad:H}),S&&A({antallDagerSøker1:Le(H,l,S)})},y=()=>{const o=[...Q];return o.push([...a.søker1,...a.søker2]),o},d=he(j),$=t.type===k.FAR_OG_FAR&&(d==="kunSøker1HarRett"||d==="kunSøker2HarRett"),N=V(E),U=V(F),I=Oe(r),b=me(t),M=je(d,t)||ve(d,t);let L;(t.type===k.MOR_OG_MEDMOR||t.type===k.MOR_OG_FAR)&&d==="kunSøker2HarRett"&&(L=B(B(I).denneEllerNeste()).leggTil(30));const w=Se(t,d),a=xe({erDeltUttak:S!==void 0,famDato:I,startdato:L,tilgjengeligeStønadskontoer:_.kontoer,fellesperiodeDagerMor:S?.antallDagerSøker1,bareFarMedmorHarRett:M,erAdopsjon:Re(r),erFarEllerMedmor:w,erMorUfør:j?.status===Pe.UFØR,erAleneOmOmsorg:t.type===k.FAR||t.type===k.MOR,farOgFar:t.type===k.FAR_OG_FAR}),ee=Te(t,g),te=fe(t,g),re=!0,ae=Ue("screen and (min-width: 480)");return e.jsx("form",{children:e.jsx(pe,{steps:p,goToStep:s.goToNextStep,children:e.jsxs(c,{gap:"space-24",children:[e.jsxs(K,{justify:"space-between",children:[e.jsx(se,{size:"medium",spacing:!0,level:"2",children:e.jsx(i,{id:"OversiktSteg.Tittel",values:{erAleneforsørger:b}})}),e.jsx(c,{gap:"space-4",children:e.jsx(q,{size:"xsmall",variant:"secondary",type:"button",icon:e.jsx(C,{height:24,width:24,fontSize:"1-5rem","aria-hidden":!0}),onClick:()=>{v(y()),O([...a.søker1,...a.søker2]),x(!0),s.goToNextStep(R.TILPASS_PLANEN)},children:e.jsx(i,{id:"OversiktSteg.Infoboks.Tilpass"})})})]}),$&&r.erFødsel&&e.jsx(z,{header:e.jsx(i,{id:"OversiktSteg.Infoboks.FarOgFar.DereHarOppgitt"}),icon:e.jsx(_e,{height:24,width:24,fontSize:"1.5rem",color:"var(--ax-bg-accent-strong)","aria-hidden":!0}),color:"green",children:e.jsxs("div",{children:[e.jsx(P,{children:e.jsx(i,{id:"OversiktSteg.Infoboks.FarOgFar.DenSomErBiologisk"})}),e.jsx(P,{children:e.jsx(i,{id:"OversiktSteg.Infoboks.FarOgFar.HvisDetErStebarnsadopsjon"})})]})}),e.jsxs(c,{gap:"space-4",children:[e.jsxs(D,{defaultValue:h?.dekningsgrad,size:ae?"medium":"small",variant:"neutral",onChange:Z,style:{width:"100%"},children:[e.jsx(D.Item,{value:u.HUNDRE_PROSENT,children:e.jsx(i,{id:"OversiktSteg.100",values:{uker:N.uker,dager:N.dager}})}),e.jsx(D.Item,{value:u.ÅTTI_PROSENT,children:e.jsx(i,{id:"OversiktSteg.80",values:{uker:U.uker,dager:U.dager}})})]}),d==="beggeHarRett"&&(!r.erFødsel||t.type!==k.FAR_OG_FAR)&&e.jsx(oe,{defaultValue:S?.antallDagerSøker1,label:"Velg fordeling fellesperiode",hideLabel:!0,name:"antallDagerSøker1",onChange:o=>{A({antallDagerSøker1:Number.parseInt(o.target.value,10)})},children:ke(X).map(o=>e.jsx("option",{value:o.antallUkerOgDagerSøker1.totaltAntallDager,children:ce(g,o,t,ee,te,re)},o.antallUkerOgDagerSøker1.totaltAntallDager))})]}),e.jsx(c,{gap:"space-20",children:e.jsx("div",{className:Me.calendar,children:e.jsx(ie,{bareFarMedmorHarRett:M,erFarEllerMedmor:w,harAktivitetskravIPeriodeUtenUttak:!1,søkersPerioder:a.søker1,annenPartsPerioder:a.søker2,navnAnnenPart:"Test",barn:De(r),planleggerLegend:e.jsx(be,{hvemPlanlegger:t,barnet:r,hvemHarRett:d,uttaksplan:[...a.søker1,...a.søker2]}),barnehagestartdato:W})})}),e.jsx(z,{header:e.jsx(i,{id:"OversiktSteg.Infoboks.Utkast",values:{erAleneforsørger:b}}),color:"gray",icon:e.jsx(C,{height:24,width:24,fontSize:"1-5rem","aria-hidden":!0}),children:e.jsxs(c,{gap:"space-8",children:[e.jsx(le,{children:e.jsx(i,{id:"OversiktSteg.Infoboks.Utkast.Tekst",values:{erAleneforsørger:b}})}),e.jsx(K,{children:e.jsx(q,{variant:"primary",type:"button",onClick:()=>{v(y()),O([...a.søker1,...a.søker2]),x(!0),s.goToNextStep(R.TILPASS_PLANEN)},children:e.jsx(P,{size:"small",children:e.jsx(i,{id:"OversiktSteg.Infoboks.TilpassPlanen"})})})})]})}),e.jsxs(c,{gap:"space-4",children:[e.jsx(Ee,{arbeidssituasjon:j,barnet:r,hvemPlanlegger:t}),e.jsx(Fe,{arbeidssituasjon:j,hvemPlanlegger:t,barnet:r})]}),e.jsx(ge,{goToPreviousStep:s.goToPreviousDefaultStep,nextButtonOnClick:()=>{v(y()),O([...a.søker1,...a.søker2]),x(!1),s.goToNextStep(R.OPPSUMMERING)},isJumpToEndButton:!0,useSimplifiedTexts:!0})]})})})};we.__docgenInfo={description:"",methods:[],displayName:"PlanenDeresSteg",props:{stønadskontoer:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    '80': TilgjengeligeStønadskontoerForDekningsgrad;
    '100': TilgjengeligeStønadskontoerForDekningsgrad;
}`,signature:{properties:[{key:"80",value:{name:"signature",type:"object",raw:`{
    kontoer: Stønadskonto[];
    minsteretter: TilgjengeligeMinsterettskontoer;
    tillegg?: TilgjengeligeKontoTillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: StønadskontoType;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"StønadskontoType",required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"Stønadskonto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    [MinsterettType.farRundtFødsel]: number;
    [MinsterettType.toTette]: number;
}`,signature:{properties:[]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    [KontoTilleggType.prematur]: number;
    [KontoTilleggType.flerbarn]: number;
}`,signature:{properties:[]},required:!1}}]},required:!0}},{key:"100",value:{name:"signature",type:"object",raw:`{
    kontoer: Stønadskonto[];
    minsteretter: TilgjengeligeMinsterettskontoer;
    tillegg?: TilgjengeligeKontoTillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: StønadskontoType;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"StønadskontoType",required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"Stønadskonto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    [MinsterettType.farRundtFødsel]: number;
    [MinsterettType.toTette]: number;
}`,signature:{properties:[]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    [KontoTilleggType.prematur]: number;
    [KontoTilleggType.flerbarn]: number;
}`,signature:{properties:[]},required:!1}}]},required:!0}}]}},description:""}}};export{we as P};
