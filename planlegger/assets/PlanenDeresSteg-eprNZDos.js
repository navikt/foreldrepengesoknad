import{r as G,a9 as ne,aa as h,aA as B,j as e,a2 as T,W as q,ab as se,Y as i,ay as C,aE as K,a1 as z,a3 as D,aF as oe,aB as ie,ap as le,aG as ge}from"./iframe-BSnBYb0H.js";import{c as de,e as ue,u as f,C as n,f as j}from"./usePlanleggerNavigator-CtW8Zg21.js";import{P as pe}from"./PlanleggerStepPage-C3SgeqXX.js";import{g as ke,f as me}from"./FordelingSteg-CLkkdS-Q.js";import{D as p}from"./Dekningsgrad-Bg_cIyqc.js";import{H as m,e as ce,j as Se,g as Te,a as fe}from"./HvemPlanleggerUtils-tY-ycf-D.js";import{u as he,a as je,b as ve}from"./hvemHarRettUtils-TmteFj5U.js";import{d as J,c as V,g as Oe,l as ye}from"./uttakUtils-Cm-YuDI-.js";import{u as xe}from"./useScrollBehaviour-DBnWHCX4.js";import{P}from"./routes-Cyl7_Mgv.js";import{C as Re}from"./CalendarLabels-XBnwQvuk.js";import{A as De}from"./Arbeidssituasjon-i2z_eSVB.js";import{e as Pe,m as be}from"./barnetUtils-C4R--m3k.js";import{b as Ae}from"./BarnehageplassSteg-DgyCtsh9.js";import{O as Ee}from"./OmÅTilpassePlanen-Bg_PK7im.js";import{U as Fe}from"./UforutsetteEndringer-CmHUrShJ.js";import{S as _e}from"./PersonGroup-s2foYm7K.js";import{T as b}from"./ToggleGroup-BcukD8UM.js";const Ne=typeof window<"u"&&window.matchMedia===void 0,Ue=(g,d)=>{const[s,k]=G.useState(d);return G.useEffect(()=>{if(Ne)return;const t=window.matchMedia(g);k(t.matches);const r=c=>{k(c.matches)};return t.addEventListener("change",r),()=>{t.removeEventListener("change",r)}},[g]),s},Me="_calendar_wfn3i_1",Ie={calendar:Me},we=(g,d,s)=>{const k=J(g===p.HUNDRE_PROSENT?d[p.HUNDRE_PROSENT]:d[p.ÅTTI_PROSENT]);return s.antallDagerSøker1>k.totaltAntallDager?k.totaltAntallDager:s.antallDagerSøker1},He=({stønadskontoer:g})=>{const d=ne(),s=de(),k=ue();xe();const t=h(f(n.HVEM_PLANLEGGER)),r=h(f(n.OM_BARNET)),c=h(f(n.HVOR_LANG_PERIODE)),S=h(f(n.ARBEIDSSITUASJON)),Q=f(n.UTTAKSPLAN)||[],l=f(n.FORDELING),A=j(n.FORDELING),W=h(j(n.HVOR_LANG_PERIODE)),v=j(n.UTTAKSPLAN),O=j(n.ORIGINAL_UTTAKSPLAN),y=j(n.TILPASS_PLAN),E=g[p.HUNDRE_PROSENT],F=g[p.ÅTTI_PROSENT],Y=Ae(r),_=c.dekningsgrad===p.HUNDRE_PROSENT?E:F,X=J(_),Z=o=>{const L=o;W({dekningsgrad:L}),l&&A({antallDagerSøker1:we(L,g,l)})},x=()=>{const o=[...Q];return o.push([...a.søker1,...a.søker2]),o},u=he(S),$=t.type===m.FAR_OG_FAR&&(u==="kunSøker1HarRett"||u==="kunSøker2HarRett"),N=V(E),U=V(F),M=Oe(r),R=ce(t),I=je(u,t)||ve(u,t);let w;(t.type===m.MOR_OG_MEDMOR||t.type===m.MOR_OG_FAR)&&u==="kunSøker2HarRett"&&(w=B(B(M).denneEllerNeste()).leggTil(30));const H=Se(t,u),a=ye({erDeltUttak:l!==void 0,famDato:M,startdato:w,tilgjengeligeStønadskontoer:_.kontoer,fellesperiodeDagerMor:l==null?void 0:l.antallDagerSøker1,bareFarMedmorHarRett:I,erAdopsjon:Pe(r),erFarEllerMedmor:H,erMorUfør:(S==null?void 0:S.status)===De.UFØR,erAleneOmOmsorg:t.type===m.FAR||t.type===m.MOR,farOgFar:t.type===m.FAR_OG_FAR}),ee=Te(t,d),te=fe(t,d),re=!0,ae=Ue("screen and (min-width: 480)");return e.jsx("form",{children:e.jsx(pe,{steps:k,goToStep:s.goToNextStep,children:e.jsxs(T,{gap:"6",children:[e.jsxs(q,{justify:"space-between",children:[e.jsx(se,{size:"medium",spacing:!0,level:"2",children:e.jsx(i,{id:"OversiktSteg.Tittel",values:{erAleneforsørger:R}})}),e.jsx(T,{gap:"1",children:e.jsx(C,{size:"xsmall",variant:"secondary",type:"button",icon:e.jsx(K,{height:24,width:24,fontSize:"1-5rem","aria-hidden":!0}),onClick:()=>{v(x()),O([...a.søker1,...a.søker2]),y(!0),s.goToNextStep(P.TILPASS_PLANEN)},children:e.jsx(i,{id:"OversiktSteg.Infoboks.Tilpass"})})})]}),$&&r.erFødsel&&e.jsx(z,{header:e.jsx(i,{id:"OversiktSteg.Infoboks.FarOgFar.DereHarOppgitt"}),icon:e.jsx(_e,{height:24,width:24,fontSize:"1.5rem",color:"#0067C5","aria-hidden":!0}),color:"green",children:e.jsxs("div",{children:[e.jsx(D,{children:e.jsx(i,{id:"OversiktSteg.Infoboks.FarOgFar.DenSomErBiologisk"})}),e.jsx(D,{children:e.jsx(i,{id:"OversiktSteg.Infoboks.FarOgFar.HvisDetErStebarnsadopsjon"})})]})}),e.jsxs(T,{gap:"1",children:[e.jsxs(b,{defaultValue:c==null?void 0:c.dekningsgrad,size:ae?"medium":"small",variant:"neutral",onChange:Z,style:{width:"100%"},children:[e.jsx(b.Item,{value:p.HUNDRE_PROSENT,children:e.jsx(i,{id:"OversiktSteg.100",values:{uker:N.uker,dager:N.dager}})}),e.jsx(b.Item,{value:p.ÅTTI_PROSENT,children:e.jsx(i,{id:"OversiktSteg.80",values:{uker:U.uker,dager:U.dager}})})]}),u==="beggeHarRett"&&(!r.erFødsel||t.type!==m.FAR_OG_FAR)&&e.jsx(oe,{defaultValue:l==null?void 0:l.antallDagerSøker1,label:"Velg fordeling fellesperiode",hideLabel:!0,name:"antallDagerSøker1",onChange:o=>{A({antallDagerSøker1:parseInt(o.target.value,10)})},children:ke(X).map(o=>e.jsx("option",{value:o.antallUkerOgDagerSøker1.totaltAntallDager,children:me(d,o,t,ee,te,re)},o.antallUkerOgDagerSøker1.totaltAntallDager))})]}),e.jsx(T,{gap:"5",children:e.jsx("div",{className:Ie.calendar,children:e.jsx(ie,{bareFarMedmorHarRett:I,erFarEllerMedmor:H,harAktivitetskravIPeriodeUtenUttak:!1,søkersPerioder:a.søker1,annenPartsPerioder:a.søker2,navnAnnenPart:"Test",barn:be(r),planleggerLegend:e.jsx(Re,{hvemPlanlegger:t,barnet:r,hvemHarRett:u,uttaksplan:[...a.søker1,...a.søker2]}),barnehagestartdato:Y})})}),e.jsx(z,{header:e.jsx(i,{id:"OversiktSteg.Infoboks.Utkast",values:{erAleneforsørger:R}}),color:"gray",icon:e.jsx(K,{height:24,width:24,fontSize:"1-5rem","aria-hidden":!0}),children:e.jsxs(T,{gap:"2",children:[e.jsx(le,{children:e.jsx(i,{id:"OversiktSteg.Infoboks.Utkast.Tekst",values:{erAleneforsørger:R}})}),e.jsx(q,{children:e.jsx(C,{variant:"primary",type:"button",onClick:()=>{v(x()),O([...a.søker1,...a.søker2]),y(!0),s.goToNextStep(P.TILPASS_PLANEN)},children:e.jsx(D,{size:"small",children:e.jsx(i,{id:"OversiktSteg.Infoboks.TilpassPlanen"})})})})]})}),e.jsxs(T,{gap:"1",children:[e.jsx(Ee,{arbeidssituasjon:S,barnet:r,hvemPlanlegger:t}),e.jsx(Fe,{arbeidssituasjon:S,hvemPlanlegger:t,barnet:r})]}),e.jsx(ge,{goToPreviousStep:s.goToPreviousDefaultStep,nextButtonOnClick:()=>{v(x()),O([...a.søker1,...a.søker2]),y(!1),s.goToNextStep(P.OPPSUMMERING)},isJumpToEndButton:!0,useSimplifiedTexts:!0})]})})})};He.__docgenInfo={description:"",methods:[],displayName:"PlanenDeresSteg",props:{stønadskontoer:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    '80': TilgjengeligeStønadskontoerForDekningsgrad;
    '100': TilgjengeligeStønadskontoerForDekningsgrad;
}`,signature:{properties:[{key:"80",value:{name:"signature",type:"object",raw:`{
    kontoer: Stønadskonto[];
    minsteretter: TilgjengeligeMinsterettskontoer;
    tillegg?: TilgjengeligeKontoTillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: StønadskontoType;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"StønadskontoType",required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"Stønadskonto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    [MinsterettType.farRundtFødsel]: number;
    [MinsterettType.toTette]: number;
}`,signature:{properties:[]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    [KontoTilleggType.prematur]: number;
    [KontoTilleggType.flerbarn]: number;
}`,signature:{properties:[]},required:!1}}]},required:!0}},{key:"100",value:{name:"signature",type:"object",raw:`{
    kontoer: Stønadskonto[];
    minsteretter: TilgjengeligeMinsterettskontoer;
    tillegg?: TilgjengeligeKontoTillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: StønadskontoType;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"StønadskontoType",required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"Stønadskonto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    [MinsterettType.farRundtFødsel]: number;
    [MinsterettType.toTette]: number;
}`,signature:{properties:[]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    [KontoTilleggType.prematur]: number;
    [KontoTilleggType.flerbarn]: number;
}`,signature:{properties:[]},required:!1}}]},required:!0}}]}},description:""}}};export{He as P};
