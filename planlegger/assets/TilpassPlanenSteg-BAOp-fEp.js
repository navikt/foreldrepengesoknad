import{j as r}from"./jsx-runtime-D_zvdyIk.js";import{u as re,a as ne,b as k,c as ae,C as g}from"./usePlanleggerNavigator-79nakA9I.js";import{r as l}from"./index-DQLiH3RP.js";import{M as u,u as se,k as H,j as S,G as oe,H as C,m as le}from"./VeiviserPage-CHSQEW6u.js";import{b as ie,h as de,q as ge,r as ue}from"./HvemPlanleggerUtils-BRHn8u1k.js";import{u as pe,h as me,a as ce}from"./hvemHarRettUtils-PDHR2N7S.js";import{g as fe,j as P,i as _}from"./uttakUtils-C8aTownO.js";import{c as ke,d as ve,K as je,F as K,S as he}from"./KvoteOppsummering-ygVuYgOF.js";import{u as Ee}from"./useScrollBehaviour-CPpBIkgK.js";import{U as Se}from"./UttaksplanKalender-Dl-4wzcF.js";import{n as v}from"./validation-Dy1ue2_T.js";import"./dateFormValidation-DphE57k6.js";import{C as Te}from"./CalendarLabels-BOEHz-s0.js";import{P as ye}from"./PlanleggerStepPage-ChY5fp_x.js";import{T as A}from"./ToggleGroup-BM85Y63y.js";import{u as F,V as w,H as be}from"./VStack-05Ww9A8B.js";import{S as xe}from"./Responsive-CnWLTDCQ.js";import{g as Re,m as G}from"./barnetUtils-DYBBskKi.js";import{b as Oe}from"./BarnehageplassSteg-Cfyk5x0J.js";import{H as Pe}from"./HvaErMulig-DnSgGNL-.js";import{M as N}from"./StepButtonsHookForm-DAulkPa7.js";var _e=function(e,s){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&s.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)s.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(n[t[a]]=e[t[a]]);return n};const Ae=l.forwardRef((e,s)=>{var{title:n,titleId:t}=e,a=_e(e,["title","titleId"]);let o=F();return o=n?t||"title-"+o:void 0,l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:s,"aria-labelledby":o},a),n?l.createElement("title",{id:o},n):null,l.createElement("path",{fill:"currentColor",d:"M18.746 7.25A8.25 8.25 0 1 0 20.25 12a.75.75 0 0 1 1.5 0c0 5.385-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12 6.615 2.25 12 2.25a9.73 9.73 0 0 1 7.75 3.833V3.5a.75.75 0 0 1 1.5 0V8a.75.75 0 0 1-.75.75H16a.75.75 0 0 1 0-1.5z"}))});var we=function(e,s){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&s.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)s.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(n[t[a]]=e[t[a]]);return n};const Ne=l.forwardRef((e,s)=>{var{title:n,titleId:t}=e,a=we(e,["title","titleId"]);let o=F();return o=n?t||"title-"+o:void 0,l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:s,"aria-labelledby":o},a),n?l.createElement("title",{id:o},n):null,l.createElement("path",{fill:"currentColor",d:"M9.03 5.03a.75.75 0 1 0-1.06-1.06l-4.5 4.5a.75.75 0 0 0 0 1.06l4.5 4.5a.75.75 0 1 0 1.06-1.06L5.81 9.75H16a4.25 4.25 0 0 1 0 8.5h-1.5a.75.75 0 0 0 0 1.5H16a5.75 5.75 0 0 0 0-11.5H5.81z"}))});var Fe=function(e,s){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&s.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)s.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(n[t[a]]=e[t[a]]);return n};const Me=l.forwardRef((e,s)=>{var{title:n,titleId:t}=e,a=Fe(e,["title","titleId"]);let o=F();return o=n?t||"title-"+o:void 0,l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:s,"aria-labelledby":o},a),n?l.createElement("title",{id:o},n):null,l.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 5.75a.25.25 0 1 0 0 .5.25.25 0 0 0 0-.5M2.25 6a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0m1.5 6a.25.25 0 1 1 .5 0 .25.25 0 0 1-.5 0M4 10.25a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5M3.75 18a.25.25 0 1 1 .5 0 .25.25 0 0 1-.5 0M4 16.25a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5m5 1a.75.75 0 0 0 0 1.5h12a.75.75 0 0 0 0-1.5zM8.25 12a.75.75 0 0 1 .75-.75h12a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75M9 5.25a.75.75 0 0 0 0 1.5h12a.75.75 0 0 0 0-1.5z",clipRule:"evenodd"}))});var y=(e=>(e.ÅTTI_PROSENT="80",e.HUNDRE_PROSENT="100",e))(y||{}),q=(e=>(e.UttakFellesperiodeAnnenForelder="FELLESPERIODE_ANNEN_FORELDER",e.UttakFedrekvoteAnnenForelder="FEDREKVOTE_ANNEN_FORELDER",e.UttakMødrekvoteAnnenForelder="MØDREKVOTE_ANNEN_FORELDER",e.UttakForeldrepengerAnnenForelder="FORELDREPENGER_ANNEN_FORELDER",e.Ingen="INGEN",e))(q||{}),b=(e=>(e.BARE_SØKER_RETT="BARE_SØKER_RETT",e.ALENEOMSORG="ALENEOMSORG",e.BEGGE_RETT="BEGGE_RETT",e))(b||{});const V=({setVisningsmodus:e})=>{const s=n=>{e(n)};return r.jsxs(A,{defaultValue:"liste",variant:"neutral",onChange:n=>s(n),children:[r.jsxs(A.Item,{value:"liste",children:[r.jsx(Me,{"aria-hidden":!0}),r.jsx(u,{id:"Liste"})]}),r.jsxs(A.Item,{value:"kalender",children:[r.jsx(xe,{"aria-hidden":!0}),r.jsx(u,{id:"Kalender"})]})]})};V.__docgenInfo={description:"",methods:[],displayName:"PlanvisningToggle",props:{setVisningsmodus:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"union",raw:"'liste' | 'kalender'",elements:[{name:"literal",value:"'liste'"},{name:"literal",value:"'kalender'"}]}],raw:"SetStateAction<Visningsmodus>"}],raw:"Dispatch<SetStateAction<Visningsmodus>>"},description:""}}};const Ie="_calendar_wfn3i_1",Ue={calendar:Ie},De=({stønadskontoer:e})=>{const[s,n]=l.useState(!1),t=se(),a=re(),o=ne(),[M,z]=l.useState("liste");Ee();const d=v(k(g.HVEM_PLANLEGGER)),p=v(k(g.OM_BARNET)),$=v(k(g.HVOR_LANG_PERIODE)),I=v(k(g.ARBEIDSSITUASJON)),J=k(g.FORDELING),m=v(k(g.UTTAKSPLAN),"Uttaksplan ikke oppgitt"),Q=v(k(g.ORIGINAL_UTTAKSPLAN),"Uttaksplan ikke oppgitt"),[j,x]=l.useState(0),W=e[y.HUNDRE_PROSENT],X=e[y.ÅTTI_PROSENT],U=$.dekningsgrad===y.HUNDRE_PROSENT?W:X,Y=Oe(p),c=m.length>0?m[j]:[],R=ae(g.UTTAKSPLAN),D=Re(p),T=pe(I),Z=fe(p),O=ie(d),L=me(T,d)||ce(T,d),i=de(d,T),f=J!==void 0,ee=()=>f?b.BEGGE_RETT:O?b.ALENEOMSORG:b.BARE_SØKER_RETT,te=h=>{let E=[];j!==m.length-1?E=m.slice(0,j+1):E=m.length>=6?[...m.toSpliced(1,1)]:[...m],E.push(h),x(E.length-1),R(E)},B={farMedmor:ue(d,t),mor:ge(d,t)};return r.jsxs(ye,{steps:o,goToStep:a.goToNextStep,children:[r.jsxs(N,{open:s,onClose:()=>n(!1),header:{heading:t.formatMessage({id:"TilpassPlanenSteg.FjernAlt.Modal.Tittel"}),size:"small",closeButton:!1},width:"small",children:[r.jsx(N.Body,{children:r.jsx(H,{children:r.jsx(u,{id:"TilpassPlanenSteg.FjernAlt.Modal.Body"})})}),r.jsxs(N.Footer,{children:[r.jsx(S,{type:"button",variant:"danger",onClick:()=>{R([]),n(!1)},children:r.jsx(u,{id:"TilpassPlanenSteg.FjernAlt.Modal.Knapp.Bekreft"})}),r.jsx(S,{type:"button",variant:"secondary",onClick:()=>n(!1),children:r.jsx(u,{id:"TilpassPlanenSteg.FjernAlt.Modal.Knapp.Avbryt"})})]})]}),r.jsxs(w,{gap:"6",children:[r.jsxs(oe,{variant:"info",children:[r.jsx(C,{size:"medium",spacing:!0,level:"2",children:"Savner du noe i planleggeren?"}),r.jsx(H,{children:"Vi jobber med å forbedre planleggeren. Det betyr at flere funksjoner kommer snart. Det kan derfor være forskjeller mellom det du kan legge inn i planleggeren og det du faktisk kan søke om."})]}),r.jsx(C,{size:"medium",spacing:!0,level:"2",children:r.jsx(u,{id:"TilpassPlanenSteg.Tittel",values:{erAleneforsørger:O}})}),r.jsxs(w,{gap:"6",children:[r.jsx(Pe,{hvemPlanlegger:d,arbeidssituasjon:I,barnet:p}),r.jsx(V,{setVisningsmodus:z}),M==="liste"&&r.jsxs(r.Fragment,{children:[r.jsx(ke,{familiehendelsedato:Z,bareFarHarRett:L,erFarEllerMedmor:i,familiesituasjon:D,gjelderAdopsjon:D==="adopsjon",navnPåForeldre:B,førsteUttaksdagNesteBarnsSak:void 0,harAktivitetskravIPeriodeUtenUttak:!1,søkersPerioder:_(f,c,i),annenPartsPerioder:P(f,c,i),barn:G(p),handleOnPlanChange:te,modus:"planlegger",valgtStønadskonto:U,erAleneOmOmsorg:O}),r.jsxs(be,{gap:"4",children:[r.jsx(S,{size:"xsmall",variant:"secondary",icon:r.jsx(Ae,{"aria-hidden":!0,height:24,width:24}),onClick:()=>{x(0),R([Q])},children:r.jsx(u,{id:"TilpassPlanenSteg.Tilbakestill"})}),r.jsx(S,{size:"xsmall",variant:"secondary",icon:r.jsx(Ne,{"aria-hidden":!0,height:24,width:24}),onClick:()=>{j>0&&x(j-1)},children:"Angre"}),r.jsx(S,{size:"xsmall",variant:"secondary",icon:r.jsx(ve,{"aria-hidden":!0,height:24,width:24}),onClick:()=>n(!0),children:r.jsx(u,{id:"TilpassPlanenSteg.FjernAlt"})})]}),r.jsx(je,{navnPåForeldre:B,brukesIHvilkenApp:"PLANLEGGER",visStatusIkoner:!0,konto:U,perioder:[..._(f,c,i),...P(f,c,i).map(h=>h.kontoType===he.Fellesperiode?{...h,kontoType:void 0,oppholdÅrsak:q.UttakFellesperiodeAnnenForelder}:h)],rettighetType:ee(),forelder:i?K.farMedmor:K.mor})]})]}),r.jsx(w,{gap:"5",children:M==="kalender"&&r.jsx("div",{className:Ue.calendar,children:r.jsx(Se,{bareFarHarRett:L,erFarEllerMedmor:i,harAktivitetskravIPeriodeUtenUttak:!1,søkersPerioder:_(f,c,i),annenPartsPerioder:P(f,c,i),navnAnnenPart:"Test",barn:G(p),planleggerLegend:r.jsx(Te,{hvemPlanlegger:d,barnet:p,hvemHarRett:T,uttaksplan:c}),barnehagestartdato:Y})})}),r.jsx(le,{goToPreviousStep:a.goToPreviousDefaultStep,nextButtonOnClick:a.goToNextDefaultStep,useSimplifiedTexts:!0})]})]})};De.__docgenInfo={description:"",methods:[],displayName:"TilpassPlanenSteg",props:{stønadskontoer:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    '80': TilgjengeligeStønadskontoerForDekningsgrad;
    '100': TilgjengeligeStønadskontoerForDekningsgrad;
}`,signature:{properties:[{key:"80",value:{name:"signature",type:"object",raw:`{
    kontoer: Stønadskonto[];
    minsteretter: TilgjengeligeMinsterettskontoer;
    tillegg?: TilgjengeligeKontoTillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: StønadskontoType;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"StønadskontoType",required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"Stønadskonto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    [MinsterettType.farRundtFødsel]: number;
    [MinsterettType.toTette]: number;
}`,signature:{properties:[]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    [KontoTilleggType.prematur]: number;
    [KontoTilleggType.flerbarn]: number;
}`,signature:{properties:[]},required:!1}}]},required:!0}},{key:"100",value:{name:"signature",type:"object",raw:`{
    kontoer: Stønadskonto[];
    minsteretter: TilgjengeligeMinsterettskontoer;
    tillegg?: TilgjengeligeKontoTillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: StønadskontoType;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"StønadskontoType",required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"Stønadskonto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    [MinsterettType.farRundtFødsel]: number;
    [MinsterettType.toTette]: number;
}`,signature:{properties:[]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    [KontoTilleggType.prematur]: number;
    [KontoTilleggType.flerbarn]: number;
}`,signature:{properties:[]},required:!1}}]},required:!0}}]}},description:""}}};export{De as T};
