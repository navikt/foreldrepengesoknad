import{j as e,V as g}from"./VStack-WHXoK350.js";import{u as Q,a as Z,b as V,C as O,c as $}from"./usePlanleggerNavigator-BUJeCoY_.js";import{P}from"./routes-Cp-2uEwO.js";import{P as ee}from"./PlanleggerStepPage-BUxaMC47.js";import{u as E,M as s,d as n,e as N,g as b,B as u,c as se,H as ae}from"./Label-DMHnewTW.js";import{a as T,D as v,f as A,R as j,u as te,F as re,S as de}from"./StepButtonsHookForm-CVvicH7s.js";import{S as k,f as _,b as R,e as H,j as p,k as q,c as oe}from"./HvemPlanleggerUtils-D1xsqW5u.js";import{e as ne}from"./barnetUtils-Dtg6gkcN.js";import{B as y,d as h,L as ie,l as le}from"./Infobox-ClLisdhQ.js";import"./index-DVXBtNgz.js";import{i as f,a as I,b as ue,c as ce,d as me,e as z,f as Fe,g as fe,u as xe}from"./useScrollBehaviour-BRwzlaSf.js";import{n as je}from"./validation-4HO0J-zV.js";import{B}from"./BlueRadioGroup-BJeS4ZeG.js";import{S as M}from"./TasklistStart-B0h6AqDi.js";import{S as ke}from"./Spacer-CmfZYR-2.js";import{S as he}from"./PersonGroup-Cfb_4mVh.js";const L=({erAlenesøker:a,erOmBarnetIkkeOppgittFraFør:i,antallBarn:m,hvemPlanlegger:r})=>{const t=E(),o=m==="3"||m==="2",c=T(),d=c.watch("fødselsdato"),l=c.watch("overtakelsesdato"),F=r.type===k.MOR_OG_FAR||r.type===k.MOR_OG_MEDMOR;return e.jsxs(e.Fragment,{children:[e.jsx(y,{isDarkBlue:i,shouldFadeIn:!0,children:e.jsxs(g,{gap:"8",children:[e.jsx(v,{label:e.jsx(s,{id:"Adopsjon.Overtakelsesdato",values:{erAlenesøker:a,flereBarn:o}}),name:"overtakelsesdato",minDate:n().subtract(6,"month").toDate(),validate:[f(t.formatMessage({id:"Overtakelsesdato.Required"},{erAlenesøker:a,flereBarn:o})),I(t.formatMessage({id:"ValidationMessage.ValidDate"})),ue(t.formatMessage({id:"ValidationMessage.OlderThan6months"})),ce(t.formatMessage({id:"ValidationMessage.FødselsdatoMåVæreFørOmsorgovertakelse"}),d),me(t.formatMessage({id:"ValidationMessage.OmsorgsovertakelseKanIkkeVæreLengerEnn15ÅrEtterFødsel"}),d&&n(d).add(15,"years"))]}),e.jsx(v,{label:e.jsx(s,{id:"Adopsjon.Fødselsdato",values:{flereBarn:o}}),name:"fødselsdato",minDate:n().subtract(15,"years").toDate(),maxDate:n().toDate(),validate:[f(t.formatMessage({id:"Fødselsdato.Required"})),I(t.formatMessage({id:"ValidationMessage.ValidDate"})),z(t.formatMessage({id:"ValidationMessage.IdagEllerTidligere"}))]})]})}),l&&e.jsxs(h,{header:e.jsx(s,{id:"OmBarnetSteg.Adopsjon.ForeldrepengerInfo",values:{erAlenesøker:a}}),icon:e.jsx(M,{height:24,width:24,color:"#7F8900",fontSize:"1.5rem","aria-hidden":!0}),shouldFadeIn:!0,children:[e.jsx(N,{children:e.jsx(s,{id:"OmBarnetSteg.Adopsjon.ForeldrepengerInfoTekst"})}),e.jsx(N,{children:e.jsx(s,{id:"OmBarnetSteg.Adopsjon.ForeldrepengerInfoTekstDel2Deg",values:{erAlenesøker:a,erFarEllerMedmor:F,hvem:_(t,r)}})})]})]})};L.__docgenInfo={description:"",methods:[],displayName:"Adopsjon"};const w=a=>se.test(a),K=({hvemPlanlegger:a,erOmBarnetIkkeOppgittFraFør:i,antallBarn:m,scrollToBottom:r})=>{const t=E(),c=T().watch("fødselsdato"),d=R(a),l=a.type!==k.MOR;return e.jsxs(g,{gap:"5",children:[e.jsx(y,{isDarkBlue:i,shouldFadeIn:!0,children:e.jsxs(g,{gap:"8",children:[e.jsx(v,{label:e.jsx(s,{id:"ErFødtPanel.Fødselsdato",values:{antallBarn:m}}),name:"fødselsdato",maxDate:n().toDate(),useStrategyAbsolute:!0,validate:[f(t.formatMessage({id:"Fødselsdato.Required"})),I(t.formatMessage({id:"ValidationMessage.ValidDate"})),z(t.formatMessage({id:"ValidationMessage.InFuture"}))],customErrorFormatter:A,onChange:r}),e.jsx(v,{label:e.jsx(s,{id:"ErFødtPanel.NårVarTermin"}),name:"termindato",maxDate:n().add(18,"weeks").add(3,"days").toDate(),validate:[f(t.formatMessage({id:"Termindato.Required"})),I(t.formatMessage({id:"ValidationMessage.ValidDate"})),Fe(t.formatMessage({id:"ValidationMessage.DuMåVæreIUke22"}))],customErrorFormatter:A,useStrategyAbsolute:!0,onChange:r})]})}),c!==void 0&&w(c)&&n(c).isAfter(b)&&e.jsxs(h,{header:e.jsx(s,{id:"ErFødtPanel.Født.InfoboksTittel",values:{erAlenesøker:d}}),icon:e.jsx(M,{height:24,width:24,color:"#7F8900",fontSize:"1.5rem","aria-hidden":!0}),shouldFadeIn:!0,children:[e.jsx(u,{children:e.jsx(s,{id:"ErFødtPanel.Født.Infoboks.ManKanSøkeTilbakeITid"})}),e.jsx(u,{children:e.jsx(s,{id:"ErFødtPanel.Født.InfoboksTekst.NAVanbefaler",values:{erMorDelAvSøknaden:H(a)}})}),p(a)&&e.jsx(u,{children:e.jsx(s,{id:"ErFødtPanel.Født.InfoboksTekst.toFørsteUkerDekket",values:{erFar:l,hvem:_(t,a)}})})]}),c!==void 0&&w(c)&&n(c).isBefore(b)&&e.jsxs(h,{header:e.jsx(s,{id:"ErFødtPanel.Født.InfoboksTittel.EldreEnnTreÅr",values:{erAlenesøker:d,antallBarn:m}}),icon:e.jsx(M,{height:24,width:24,color:"#7F8900",fontSize:"1.5rem"}),shouldFadeIn:!0,children:[e.jsx(u,{children:e.jsx(s,{id:"ErFødtPanel.Født.InfoboksTekst.EldreEnnTreÅr",values:{antallBarn:m}})}),e.jsx(u,{children:e.jsx(s,{id:"ErFødtPanel.Født.Infoboks.ManKanSøkeTilbakeITid",values:{erFar:l}})})]})]})};K.__docgenInfo={description:"",methods:[],displayName:"ErFødtPanel"};const G=n().startOf("days").add(22,"weeks"),U=n().startOf("days").toDate(),C=(a,i)=>{if(i.type===k.MOR_OG_MEDMOR)return a.formatMessage({id:"OversiktSteg.Medmor"});if(p(i))return a.formatMessage({id:"OversiktSteg.Far"})},Y=({hvemPlanlegger:a,erOmBarnetIkkeOppgittFraFør:i,scrollToBottom:m})=>{const r=E(),o=T().watch("termindato"),c=o!==void 0?n(o).subtract(18,"weeks").subtract(3,"days").toDate():void 0,d=R(a),l=p(a),F=q(a),x=a.type===k.FAR;return e.jsxs(g,{gap:"5",children:[e.jsx(y,{isDarkBlue:i,shouldFadeIn:!0,children:e.jsx(v,{label:e.jsx(s,{id:"ErIkkeFødtPanel.Termin"}),name:"termindato",minDate:n().subtract(3,"week").toDate(),maxDate:n().add(1,"year").toDate(),useStrategyAbsolute:!0,validate:[f(r.formatMessage({id:"Termindato.Required"})),I(r.formatMessage({id:"ValidationMessage.ValidDate"})),fe(r.formatMessage({id:"ValidationMessage.KanIkkeVære3UkerFraIdag"}))],customErrorFormatter:A,onChange:m})}),o!==void 0&&n(o).isBefore(U)&&e.jsxs(h,{header:e.jsx(s,{id:"ErFødtPanel.Født.InfoboksTittel",values:{erAlenesøker:d}}),icon:e.jsx(M,{height:24,width:24,color:"#7F8900",fontSize:"1.5rem","aria-hidden":!0}),shouldFadeIn:!0,children:[e.jsx(u,{children:e.jsx(s,{id:"ErFødtPanel.Født.Infoboks.ManKanSøkeTilbakeITid"})}),e.jsx(u,{children:e.jsx(s,{id:"ErFødtPanel.Født.InfoboksTekst.NAVanbefaler",values:{erMorDelAvSøknaden:H(a)}})}),p(a)&&e.jsx(u,{children:e.jsx(s,{id:"ErFødtPanel.Født.InfoboksTekst.toFørsteUkerDekket",values:{erFar:l,hvem:_(r,a)}})})]}),o!==void 0&&n(o).isAfter(G)&&e.jsxs(h,{header:e.jsx(s,{id:"ErIkkeFødtPanel.ForeldrepengerInfo",values:{erAlenesøker:d,dato:n(c).format("DD.MM.YY")}}),icon:e.jsx(M,{height:24,width:24,color:"#7F8900",fontSize:"1.5rem","aria-hidden":!0}),shouldFadeIn:!0,children:[e.jsx(u,{children:e.jsx(s,{id:"ErIkkeFødtPanel.ForeldrepengerInfoTekst.kanSøke"})}),e.jsx(u,{children:F?e.jsx(s,{id:"ErFødtPanel.Født.InfoboksTekst.NAVanbefaler",values:{erMorDelAvSøknaden:!1}}):e.jsx(s,{id:"ErFødtPanel.Født.InfoboksTekst.NAVanbefaler",values:{erMorDelAvSøknaden:!0}})}),p(a)&&!F&&e.jsx(u,{children:e.jsx(s,{id:"ErIkkeFødtPanel.ForeldrepengerInfoTekst.toFørsteUkerDekket",values:{erFar:l,hvem:C(r,a)}})})]}),o!==void 0&&n(o).isSameOrAfter(U)&&n(o).isSameOrBefore(G)&&e.jsxs(h,{header:e.jsx(s,{id:"ErIkkeFødtPanel.UnderTreMndTilTerminInfo",values:{erAlenesøker:d}}),icon:e.jsx(M,{height:24,width:24,color:"#7F8900",fontSize:"1.5rem","aria-hidden":!0}),shouldFadeIn:!0,children:[e.jsxs(u,{children:[e.jsx(s,{id:"ErIkkeFødtPanel.ForeldrepengerInfoTekst.kanSøke"}),F||x?e.jsx(s,{id:"ErFødtPanel.Født.InfoboksTekst.NAVanbefaler",values:{erMorDelAvSøknaden:!1}}):e.jsx(s,{id:"ErFødtPanel.Født.InfoboksTekst.NAVanbefaler",values:{erMorDelAvSøknaden:!0}})]}),!F&&e.jsxs(e.Fragment,{children:[e.jsx(u,{children:a.type===k.MOR&&e.jsx(s,{id:"ErIkkeFødtPanel.UnderTreMndTilTermin",values:{erAlenesøker:d}})}),!d&&e.jsx(u,{children:e.jsx(s,{id:"ErIkkeFødtPanel.UnderTreMndTilTermin",values:{erAlenesøker:d,navn:oe(a,r)}})}),(!d||a.type===k.FAR)&&e.jsx(u,{children:e.jsx(s,{id:"ErIkkeFødtPanel.ForeldrepengerInfoTekst.toFørsteUkerDekket",values:{erAlenesøker:d,erFar:l,hvem:C(r,a)}})})]})]})]})};Y.__docgenInfo={description:"",methods:[],displayName:"ErIkkeFødtPanel"};const J=({hvemPlanlegger:a,erOmBarnetIkkeOppgittFraFør:i,antallBarn:m,scrollToBottom:r})=>{const t=E(),o=T(),c=o.watch("erBarnetFødt");return e.jsxs(g,{gap:"8",children:[e.jsxs(B,{label:e.jsx(s,{id:"Fødsel.ErFødt",values:{antallBarn:m}}),name:"erBarnetFødt",shouldFadeIn:!0,validate:[f(t.formatMessage({id:"Fødsel.ErFødt.Required"},{antallBarn:m}))],onChange:()=>{o.resetField("fødselsdato"),o.resetField("termindato"),r()},children:[e.jsx(j,{value:!0,children:e.jsx(s,{id:"DefaultMessage.Ja"})}),e.jsx(j,{value:!1,children:e.jsx(s,{id:"DefaultMessage.Nei"})})]}),c&&e.jsx(K,{hvemPlanlegger:a,erOmBarnetIkkeOppgittFraFør:i,antallBarn:m,scrollToBottom:r}),c===!1&&e.jsx(Y,{hvemPlanlegger:a,erOmBarnetIkkeOppgittFraFør:i,antallBarn:m,scrollToBottom:r})]})};J.__docgenInfo={description:"",methods:[],displayName:"Fødsel"};const ge=(a,i)=>i?e.jsx(s,{id:"OmBarnetSteg.HvorMange",values:{erAlenesøker:a}}):e.jsx(s,{id:"OmBarnetSteg.Adopsjon.HvorMange",values:{erAlenesøker:a}}),Me=()=>{const a=E(),i=Q(),m=Z(),r=V(O.OM_BARNET),t=je(V(O.HVEM_PLANLEGGER)),o=$(O.OM_BARNET),c=S=>{o(S),ne(S)&&n(S.fødselsdato).isBefore(b)?i.goToNextStep(P.OPPSUMMERING):i.goToNextStep(P.ARBEIDSSITUASJON)},d=te({shouldUnregister:!0,defaultValues:r}),l=d.watch("erFødsel"),F=d.watch("antallBarn"),x=R(t),W=q(t),{ref:X,scrollToBottom:D}=xe();return e.jsx(ee,{ref:X,steps:m,children:e.jsx(re,{formMethods:d,onSubmit:c,shouldUseFlexbox:!0,children:e.jsxs(g,{gap:"10",style:{flex:1},children:[e.jsxs(g,{gap:"8",children:[e.jsx(ae,{level:"2",size:"medium",children:e.jsx(s,{id:"OmBarnetSteg.Tittel"})}),e.jsxs(B,{name:"erFødsel",label:e.jsx(s,{id:"OmBarnetSteg.HvaGjelder",values:{erAlenesøker:x}}),validate:[f(a.formatMessage({id:"OmBarnetSteg.HvaGjelder.Required"},{erAlenesøker:x}))],onChange:()=>{d.resetField("antallBarn"),D()},children:[e.jsx(j,{value:!0,autoFocus:!0,children:e.jsx(s,{id:"OmBarnetSteg.Fødsel"})}),e.jsx(j,{value:!1,children:e.jsx(s,{id:"OmBarnetSteg.Adopsjon"})})]}),l!==void 0&&l===!0&&W&&e.jsxs(h,{header:e.jsx(s,{id:"OmBarnetSteg.Fødsel.Infoboks"}),icon:e.jsx(he,{height:24,width:24,color:"#7F8900",fontSize:"1.5rem","aria-hidden":!0}),children:[e.jsx(u,{children:e.jsx(s,{id:"OmBarnetSteg.Fødsel.Infoboks.DenSomErBiologiskFar"})}),e.jsx(u,{children:e.jsx(s,{id:"OmBarnetSteg.Fødsel.Infoboks.LesMer",values:{a:S=>e.jsx(ie,{href:le.foreldrepengerFarOgFar,target:"_blank",inlineText:!0,children:S})}})})]}),l!==void 0&&e.jsxs(B,{name:"antallBarn",label:ge(x,l),shouldFadeIn:!0,validate:[f(a.formatMessage({id:"OmBarnetSteg.HvorMange.Required"},{erAlenesøker:x,erFødsel:l}))],onChange:()=>{d.resetField("erBarnetFødt"),D()},children:[e.jsx(j,{value:"1",children:e.jsx(s,{id:"OmBarnetSteg.Ett"})}),e.jsx(j,{value:"2",children:l?e.jsx(s,{id:"OmBarnetSteg.Tvillinger"}):e.jsx(s,{id:"OmBarnetSteg.To"})}),e.jsx(j,{value:"3",children:e.jsx(s,{id:"OmBarnetSteg.FlereEnnTo"})})]}),l&&F&&e.jsx(J,{hvemPlanlegger:t,erOmBarnetIkkeOppgittFraFør:r===void 0,antallBarn:F,scrollToBottom:D}),l===!1&&F&&e.jsx(L,{erAlenesøker:x,erOmBarnetIkkeOppgittFraFør:r===void 0,antallBarn:F,hvemPlanlegger:t})]}),e.jsx(ke,{}),e.jsx(de,{saveDataOnPreviousClick:o,goToPreviousStep:i.goToPreviousDefaultStep,useSimplifiedTexts:!0})]})})})};Me.__docgenInfo={description:"",methods:[],displayName:"OmBarnetSteg"};export{Me as O};
