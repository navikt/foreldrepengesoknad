import{j as n}from"./jsx-runtime-CLpGMVip.js";import{u as ne,a as re,b as k,C as u,c as ae}from"./usePlanleggerNavigator-b8g8WVym.js";import{r as o}from"./index-CR__hKHy.js";import{M as g,u as le,m as B,j as T,Q as se,H as C,n as oe}from"./VeiviserPage-CJfirJND.js";import{b as ie,h as de,q as ue,r as ge}from"./HvemPlanleggerUtils-DUJVsSFI.js";import{u as me,h as pe,a as ce}from"./hvemHarRettUtils-BF790fPf.js";import{g as fe,i as P,j as _}from"./uttakUtils-BDiTaHKq.js";import{c as ke,d as ve,K as he,S as je,F as H}from"./KvoteOppsummering-CfBAMzIY.js";import{u as ye}from"./useScrollBehaviour-Dvq8pEsj.js";import{U as Te}from"./UttaksplanKalender-BxQ3J-nk.js";import{n as v}from"./validation-DYlyn1BB.js";import"./dateFormValidation-DnKcK7gd.js";import{C as Ee}from"./CalendarLabels-Br-THEdx.js";import{P as Se}from"./PlanleggerStepPage-BRgqeVft.js";import{T as w}from"./ToggleGroup-CXrGkXh1.js";import{u as F,V as A,H as be}from"./VStack-2apmvZh_.js";import{S as xe}from"./Responsive-B-Uwxu87.js";import{g as Oe,m as K}from"./barnetUtils-DsJdcleW.js";import{b as Re}from"./BarnehageplassSteg-zDxkkDQW.js";import{H as Pe}from"./HvaErMulig-BF8oEAdl.js";import{M as N}from"./StepButtonsHookForm-wg_kDBvw.js";var _e=function(e,l){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)l.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(a[t[r]]=e[t[r]]);return a};const we=o.forwardRef((e,l)=>{var{title:a,titleId:t}=e,r=_e(e,["title","titleId"]);let s=F();return s=a?t||"title-"+s:void 0,o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:l,"aria-labelledby":s},r),a?o.createElement("title",{id:s},a):null,o.createElement("path",{fill:"currentColor",d:"M18.746 7.25A8.25 8.25 0 1 0 20.25 12a.75.75 0 0 1 1.5 0c0 5.385-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12 6.615 2.25 12 2.25a9.73 9.73 0 0 1 7.75 3.833V3.5a.75.75 0 0 1 1.5 0V8a.75.75 0 0 1-.75.75H16a.75.75 0 0 1 0-1.5z"}))});var Ae=function(e,l){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)l.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(a[t[r]]=e[t[r]]);return a};const Ne=o.forwardRef((e,l)=>{var{title:a,titleId:t}=e,r=Ae(e,["title","titleId"]);let s=F();return s=a?t||"title-"+s:void 0,o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:l,"aria-labelledby":s},r),a?o.createElement("title",{id:s},a):null,o.createElement("path",{fill:"currentColor",d:"M9.03 5.03a.75.75 0 1 0-1.06-1.06l-4.5 4.5a.75.75 0 0 0 0 1.06l4.5 4.5a.75.75 0 1 0 1.06-1.06L5.81 9.75H16a4.25 4.25 0 0 1 0 8.5h-1.5a.75.75 0 0 0 0 1.5H16a5.75 5.75 0 0 0 0-11.5H5.81z"}))});var Fe=function(e,l){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)l.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(a[t[r]]=e[t[r]]);return a};const Me=o.forwardRef((e,l)=>{var{title:a,titleId:t}=e,r=Fe(e,["title","titleId"]);let s=F();return s=a?t||"title-"+s:void 0,o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:l,"aria-labelledby":s},r),a?o.createElement("title",{id:s},a):null,o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 5.75a.25.25 0 1 0 0 .5.25.25 0 0 0 0-.5M2.25 6a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0m1.5 6a.25.25 0 1 1 .5 0 .25.25 0 0 1-.5 0M4 10.25a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5M3.75 18a.25.25 0 1 1 .5 0 .25.25 0 0 1-.5 0M4 16.25a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5m5 1a.75.75 0 0 0 0 1.5h12a.75.75 0 0 0 0-1.5zM8.25 12a.75.75 0 0 1 .75-.75h12a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75M9 5.25a.75.75 0 0 0 0 1.5h12a.75.75 0 0 0 0-1.5z",clipRule:"evenodd"}))});var S=(e=>(e.ÅTTI_PROSENT="80",e.HUNDRE_PROSENT="100",e))(S||{}),G=(e=>(e.UttakFellesperiodeAnnenForelder="FELLESPERIODE_ANNEN_FORELDER",e.UttakFedrekvoteAnnenForelder="FEDREKVOTE_ANNEN_FORELDER",e.UttakMødrekvoteAnnenForelder="MØDREKVOTE_ANNEN_FORELDER",e.UttakForeldrepengerAnnenForelder="FORELDREPENGER_ANNEN_FORELDER",e.Ingen="INGEN",e))(G||{}),b=(e=>(e.BARE_SØKER_RETT="BARE_SØKER_RETT",e.ALENEOMSORG="ALENEOMSORG",e.BEGGE_RETT="BEGGE_RETT",e))(b||{});const q=({setVisningsmodus:e})=>{const l=a=>{e(a)};return n.jsxs(w,{defaultValue:"liste",variant:"neutral",onChange:a=>l(a),children:[n.jsxs(w.Item,{value:"liste",children:[n.jsx(Me,{"aria-hidden":!0}),n.jsx(g,{id:"Liste"})]}),n.jsxs(w.Item,{value:"kalender",children:[n.jsx(xe,{"aria-hidden":!0}),n.jsx(g,{id:"Kalender"})]})]})};q.__docgenInfo={description:"",methods:[],displayName:"PlanvisningToggle",props:{setVisningsmodus:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"union",raw:"'liste' | 'kalender'",elements:[{name:"literal",value:"'liste'"},{name:"literal",value:"'kalender'"}]}],raw:"SetStateAction<Visningsmodus>"}],raw:"Dispatch<SetStateAction<Visningsmodus>>"},description:""}}};const Ie="_calendar_wfn3i_1",Ue={calendar:Ie},De=({locale:e,stønadskontoer:l})=>{const[a,t]=o.useState(!1),r=le(),s=ne(e),V=re(),[M,z]=o.useState("liste");ye();const i=v(k(u.HVEM_PLANLEGGER)),m=v(k(u.OM_BARNET)),$=v(k(u.HVOR_LANG_PERIODE)),I=v(k(u.ARBEIDSSITUASJON)),J=k(u.FORDELING),p=v(k(u.UTTAKSPLAN),"Uttaksplan ikke oppgitt"),Q=v(k(u.ORIGINAL_UTTAKSPLAN),"Uttaksplan ikke oppgitt"),[h,x]=o.useState(0),W=l[S.HUNDRE_PROSENT],X=l[S.ÅTTI_PROSENT],U=$.dekningsgrad===S.HUNDRE_PROSENT?W:X,Y=Re(m),c=p.length>0?p[h]:[],O=ae(u.UTTAKSPLAN),D=Oe(m),E=me(I),Z=fe(m),R=ie(i),L=pe(E,i)||ce(E,i),d=de(i,E),f=J!==void 0,ee=()=>f?b.BEGGE_RETT:R?b.ALENEOMSORG:b.BARE_SØKER_RETT,te=j=>{let y=[];h!==p.length-1?y=p.slice(0,h+1):y=p.length>=6?[...p.toSpliced(1,1)]:[...p],y.push(j),x(y.length-1),O(y)};return n.jsxs(Se,{steps:V,goToStep:s.goToNextStep,children:[n.jsxs(N,{open:a,onClose:()=>t(!1),header:{heading:r.formatMessage({id:"TilpassPlanenSteg.FjernAlt.Modal.Tittel"}),size:"small",closeButton:!1},width:"small",children:[n.jsx(N.Body,{children:n.jsx(B,{children:n.jsx(g,{id:"TilpassPlanenSteg.FjernAlt.Modal.Body"})})}),n.jsxs(N.Footer,{children:[n.jsx(T,{type:"button",variant:"danger",onClick:()=>{O([]),t(!1)},children:n.jsx(g,{id:"TilpassPlanenSteg.FjernAlt.Modal.Knapp.Bekreft"})}),n.jsx(T,{type:"button",variant:"secondary",onClick:()=>t(!1),children:n.jsx(g,{id:"TilpassPlanenSteg.FjernAlt.Modal.Knapp.Avbryt"})})]})]}),n.jsxs(A,{gap:"6",children:[n.jsxs(se,{variant:"info",children:[n.jsx(C,{size:"medium",spacing:!0,level:"2",children:"Savner du noe i planleggeren?"}),n.jsx(B,{children:"Vi jobber med å forbedre planleggeren. Det betyr at flere funksjoner kommer snart. Det kan derfor være forskjeller mellom det du kan legge inn i planleggeren og det du faktisk kan søke om."})]}),n.jsx(C,{size:"medium",spacing:!0,level:"2",children:n.jsx(g,{id:"TilpassPlanenSteg.Tittel",values:{erAleneforsørger:R}})}),n.jsxs(A,{gap:"6",children:[n.jsx(Pe,{hvemPlanlegger:i,arbeidssituasjon:I,barnet:m}),n.jsx(q,{setVisningsmodus:z}),M==="liste"&&n.jsxs(n.Fragment,{children:[n.jsx(ke,{familiehendelsedato:Z,bareFarHarRett:L,erFarEllerMedmor:d,familiesituasjon:D,gjelderAdopsjon:D==="adopsjon",navnPåForeldre:{farMedmor:ue(i,r)||"Annen forelder",mor:ge(i,r)},førsteUttaksdagNesteBarnsSak:void 0,harAktivitetskravIPeriodeUtenUttak:!1,søkersPerioder:P(f,c,d),annenPartsPerioder:_(f,c,d),barn:K(m),handleOnPlanChange:te,modus:"planlegger",valgtStønadskonto:U,erAleneOmOmsorg:R}),n.jsxs(be,{gap:"4",children:[n.jsx(T,{size:"xsmall",variant:"secondary",icon:n.jsx(we,{"aria-hidden":!0,height:24,width:24}),onClick:()=>{x(0),O([Q])},children:n.jsx(g,{id:"TilpassPlanenSteg.Tilbakestill"})}),n.jsx(T,{size:"xsmall",variant:"secondary",icon:n.jsx(Ne,{"aria-hidden":!0,height:24,width:24}),onClick:()=>{h>0&&x(h-1)},children:"Angre"}),n.jsx(T,{size:"xsmall",variant:"secondary",icon:n.jsx(ve,{"aria-hidden":!0,height:24,width:24}),onClick:()=>t(!0),children:n.jsx(g,{id:"TilpassPlanenSteg.FjernAlt"})})]}),n.jsx(he,{hvemPlanleggerType:i.type,visStatusIkoner:!0,konto:U,perioder:[...P(f,c,d),..._(f,c,d).map(j=>j.kontoType===je.Fellesperiode?{...j,kontoType:void 0,oppholdÅrsak:G.UttakFellesperiodeAnnenForelder}:j)],rettighetType:ee(),forelder:d?H.farMedmor:H.mor})]})]}),n.jsx(A,{gap:"5",children:M==="kalender"&&n.jsx("div",{className:Ue.calendar,children:n.jsx(Te,{bareFarHarRett:L,erFarEllerMedmor:d,harAktivitetskravIPeriodeUtenUttak:!1,søkersPerioder:P(f,c,d),annenPartsPerioder:_(f,c,d),navnAnnenPart:"Test",barn:K(m),planleggerLegend:n.jsx(Ee,{hvemPlanlegger:i,barnet:m,hvemHarRett:E,uttaksplan:c}),barnehagestartdato:Y})})}),n.jsx(oe,{goToPreviousStep:s.goToPreviousDefaultStep,nextButtonOnClick:s.goToNextDefaultStep,useSimplifiedTexts:!0})]})]})};De.__docgenInfo={description:"",methods:[],displayName:"TilpassPlanenSteg",props:{locale:{required:!0,tsType:{name:"union",raw:"LocaleNo | 'en'",elements:[{name:"union",raw:"'nb' | 'nn'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"}]},{name:"literal",value:"'en'"}]},description:""},stønadskontoer:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    '80': TilgjengeligeStønadskontoerForDekningsgrad;
    '100': TilgjengeligeStønadskontoerForDekningsgrad;
}`,signature:{properties:[{key:"80",value:{name:"signature",type:"object",raw:`{
    kontoer: Stønadskonto[];
    minsteretter: TilgjengeligeMinsterettskontoer;
    tillegg?: TilgjengeligeKontoTillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: StønadskontoType;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"StønadskontoType",required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"Stønadskonto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    [MinsterettType.farRundtFødsel]: number;
    [MinsterettType.toTette]: number;
}`,signature:{properties:[]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    [KontoTilleggType.prematur]: number;
    [KontoTilleggType.flerbarn]: number;
}`,signature:{properties:[]},required:!1}}]},required:!0}},{key:"100",value:{name:"signature",type:"object",raw:`{
    kontoer: Stønadskonto[];
    minsteretter: TilgjengeligeMinsterettskontoer;
    tillegg?: TilgjengeligeKontoTillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: StønadskontoType;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"StønadskontoType",required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"Stønadskonto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    [MinsterettType.farRundtFødsel]: number;
    [MinsterettType.toTette]: number;
}`,signature:{properties:[]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    [KontoTilleggType.prematur]: number;
    [KontoTilleggType.flerbarn]: number;
}`,signature:{properties:[]},required:!1}}]},required:!0}}]}},description:""}}};export{De as T};
