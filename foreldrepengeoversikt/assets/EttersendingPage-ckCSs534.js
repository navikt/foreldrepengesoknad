import{u as Te,d as T,i as we,a as Ie,b as Re,e as Ne,f as De,g as x,h as M,k as Oe,j as A,F as Se,B as Le,l as Fe,L as be,S as Ge,m as Pe,n as Me}from"./index-yB2cIPJo.js";import{r as k,R as ye}from"./index-DogsOklH.js";import{b as je,E as re,Y as F,S as h,u as Ve,c as Ke,V as ie,A as de,L as Be,F as xe,d as Ue,g as He,H as Ce}from"./attachmentApi-k1s_rKr1.js";import"./_baseToString-2BF1PD3k.js";import"./_createSet-nR6t1GBy.js";var Ye=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(n[s[o]]=e[s[o]]);return n};const $e=k.forwardRef((e,t)=>{var{title:n,titleId:s}=e,o=Ye(e,["title","titleId"]);let c=Te();return c=n?s||"title-"+c:void 0,k.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:t,"aria-labelledby":c},o),n?k.createElement("title",{id:c},n):null,k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 13v8h2v-8h8v-2h-8V3h-2v8H3v2h8Z",fill:"currentColor"}))}),qe=$e;var O=(e=>(e.UNFETCHED="Unfetched",e.IN_PROGRESS="InProgress",e.FINISHED="Finished",e))(O||{});const Je=re.REST_API_URL,Z=je.create({baseURL:Je}),q=e=>(Z.interceptors.request.use(t=>(t.timeout=60*1e3,e&&(t.headers.fnr=e),t)),Z.interceptors.response.use(t=>t,t=>Promise.reject(t)),Z),me=()=>{window.location.href=re.LOGIN_URL+"?redirect="+window.location.origin},pe={config:{},isSuspended:!1},G=(e,t=pe,n)=>{const[s,o]=k.useState(),[c,m]=k.useState(null),[S,v]=k.useState(O.UNFETCHED),w=q(n);return k.useEffect(()=>{!t.isSuspended&&S===O.UNFETCHED&&(v(O.IN_PROGRESS),w.get(e,t.config).then(f=>{f.data===""?o(void 0):o(f.data),v(O.FINISHED)}).catch(f=>{f.response&&(f.response.status===401||f.response.status===403)?me():m(f),v(O.FINISHED)}))},[t,e,w,S]),{data:s,error:c,requestStatus:S}},ze=(e,t,n=pe)=>{const[s,o]=k.useState(),[c,m]=k.useState(null),[S,v]=k.useState(O.UNFETCHED),w=n.fnr?q(n.fnr):q();return k.useEffect(()=>{!n.isSuspended&&S===O.UNFETCHED&&(v(O.IN_PROGRESS),w.post(e,t,n.config).then(f=>{f.data===""?o(void 0):o(f.data),v(O.FINISHED)}).catch(f=>{f.response&&(f.response.status===401||f.response.status===403)?me():m(f),v(O.FINISHED)}))},[n,e,w,S,t]),{data:s,error:c,requestStatus:S}},We=()=>{const{data:e,error:t}=G("/sokerinfo",{config:{withCredentials:!0}});return{søkerinfoData:e,søkerinfoError:t}},Ze=e=>{const{data:t,error:n}=G("/innsyn/v2/saker",{config:{withCredentials:!0},isSuspended:e});return{sakerData:t,sakerError:n}},Xe=()=>{const{data:e,error:t}=G("/storage/aktive",{config:{withCredentials:!0},isSuspended:!0});return{storageData:e,storageError:t}},Qe=(e,t,n,s)=>{const o={annenPartFødselsnummer:e,barnFødselsnummer:t,familiehendelse:n},{data:c,error:m,requestStatus:S}=ze("/innsyn/v2/annenPartVedtak",o,{config:{withCredentials:!0},isSuspended:s});return m&&m.message.includes("Ugyldig ident")?{annenPartsVedtakData:void 0,annenPartsVedtakError:void 0,annenPartsVedtakRequestStatus:O.FINISHED}:{annenPartsVedtakData:c,annenPartsVedtakError:m,annenPartsVedtakRequestStatus:S}},et=e=>{const{data:t,error:n,requestStatus:s}=G("/dokument/alle",{config:{withCredentials:!0,params:{saksnummer:e}}});return{dokumenterData:t,dokumenterError:n,dokumenterStatus:s}},tt=e=>{const{data:t,error:n}=G("/innsyn/tidslinje",{config:{withCredentials:!0,params:{saksnummer:e}}});return{tidslinjeHendelserData:t,tidslinjeHendelserError:n}},nt=()=>{const{data:e,error:t}=G("/minidialog",{config:{withCredentials:!0}});return{minidialogData:e,minidialogError:t}},rt=e=>{const{data:t,error:n}=G("/historikk/vedlegg",{config:{withCredentials:!0,params:{saksnummer:e}}});return{manglendeVedleggData:t,manglendeVedleggError:n}},st=(e,t)=>q(t).post("/soknad/ettersend",e,{timeout:30*1e3,withCredentials:!0}),ot=()=>{const{data:e,error:t}=G("/innsyn/v2/saker/oppdatert",{config:{withCredentials:!0}});return{oppdatertData:e,oppdatertError:t}},at={useSøkerinfo:We,useGetSaker:Ze,useGetDokumenter:et,useGetAnnenPartsVedtak:Qe,useGetTidslinjeHendelser:tt,useGetMinidialog:nt,useGetManglendeVedlegg:rt,useErSakOppdatert:ot,useGetMellomlagretSøknad:Xe,sendEttersending:st};var R={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1,STORYBOOK:"true"};let it=0;function dt(e,t){const n=`atom${++it}`,s={toString:()=>n};return typeof e=="function"?s.read=e:(s.init=e,s.read=function(o){return o(this)},s.write=function(o,c,m){return c(this,typeof m=="function"?m(o(this)):m)}),t&&(s.write=t),s}const X=e=>"init"in e,Q=e=>!!e.write,J=new WeakMap,lt=(e,t)=>{J.set(e,t),e.catch(()=>{}).finally(()=>J.delete(e))},le=(e,t)=>{const n=J.get(e);n&&(J.delete(e),n(t))},ce=(e,t)=>{e.status="fulfilled",e.value=t},ue=(e,t)=>{e.status="rejected",e.reason=t},ct=e=>typeof(e==null?void 0:e.then)=="function",K=(e,t)=>!!e&&"v"in e&&"v"in t&&Object.is(e.v,t.v),fe=(e,t)=>!!e&&"e"in e&&"e"in t&&Object.is(e.e,t.e),y=e=>!!e&&"v"in e&&e.v instanceof Promise,ut=(e,t)=>"v"in e&&"v"in t&&e.v.orig&&e.v.orig===t.v.orig,$=e=>{if("e"in e)throw e.e;return e.v},ft=()=>{const e=new WeakMap,t=new WeakMap,n=new Map;let s,o;(R?"production":void 0)!=="production"&&(s=new Set,o=new Set);const c=r=>e.get(r),m=(r,i)=>{(R?"production":void 0)!=="production"&&Object.freeze(i);const l=e.get(r);if(e.set(r,i),n.has(r)||n.set(r,l),y(l)){const a="v"in i?i.v instanceof Promise?i.v:Promise.resolve(i.v):Promise.reject(i.e);l.v!==a&&le(l.v,a)}},S=(r,i,l)=>{const a=new Map;let u=!1;l.forEach((g,d)=>{!g&&d===r&&(g=i),g?(a.set(d,g),i.d.get(d)!==g&&(u=!0)):(R?"production":void 0)!=="production"&&console.warn("[Bug] atom state not found")}),(u||i.d.size!==a.size)&&(i.d=a)},v=(r,i,l)=>{const a=c(r),u={d:(a==null?void 0:a.d)||new Map,v:i};if(l&&S(r,u,l),K(a,u)&&a.d===u.d)return a;if(y(a)&&y(u)&&ut(a,u)){if(a.d===u.d)return a;u.v=a.v}return m(r,u),u},w=(r,i,l,a)=>{if(ct(i)){let u;const g=()=>{const E=c(r);if(!y(E)||E.v!==d)return;const I=v(r,d,l);t.has(r)&&E.d!==I.d&&oe(r,I,E.d)},d=new Promise((E,I)=>{let p=!1;i.then(_=>{p||(p=!0,ce(d,_),E(_),g())},_=>{p||(p=!0,ue(d,_),I(_),g())}),u=_=>{p||(p=!0,_.then(N=>ce(d,N),N=>ue(d,N)),E(_))}});return d.orig=i,d.status="pending",lt(d,E=>{E&&u(E),a==null||a()}),v(r,d,l)}return v(r,i,l)},f=(r,i,l)=>{const a=c(r),u={d:(a==null?void 0:a.d)||new Map,e:i};return l&&S(r,u,l),fe(a,u)&&a.d===u.d?a:(m(r,u),u)},L=(r,i)=>{const l=c(r);if(!i&&l&&(t.has(r)||Array.from(l.d).every(([p,_])=>{if(p===r)return!0;const N=L(p);return N===_||K(N,_)})))return l;const a=new Map;let u=!0;const g=p=>{if(p===r){const N=c(p);if(N)return a.set(p,N),$(N);if(X(p))return a.set(p,void 0),p.init;throw new Error("no atom init")}const _=L(p);return a.set(p,_),$(_)};let d,E;const I={get signal(){return d||(d=new AbortController),d.signal},get setSelf(){return(R?"production":void 0)!=="production"&&!Q(r)&&console.warn("setSelf function cannot be used with read-only atom"),!E&&Q(r)&&(E=(...p)=>{if((R?"production":void 0)!=="production"&&u&&console.warn("setSelf function cannot be called in sync"),!u)return D(r,...p)}),E}};try{const p=r.read(g,I);return w(r,p,a,()=>d==null?void 0:d.abort())}catch(p){return f(r,p,a)}finally{u=!1}},b=r=>$(L(r)),W=r=>{let i=t.get(r);return i||(i=V(r)),i},U=(r,i)=>!i.l.size&&(!i.t.size||i.t.size===1&&i.t.has(r)),P=r=>{const i=t.get(r);i&&U(r,i)&&C(r)},H=r=>{const i=new Map,l=new WeakMap,a=d=>{var E;const I=new Set((E=t.get(d))==null?void 0:E.t);return n.forEach((p,_)=>{var N;(N=c(_))!=null&&N.d.has(d)&&I.add(_)}),I},u=d=>{a(d).forEach(E=>{E!==d&&(i.set(E,(i.get(E)||new Set).add(d)),l.set(E,(l.get(E)||0)+1),u(E))})};u(r);const g=d=>{a(d).forEach(E=>{var I;if(E!==d){let p=l.get(E);if(p&&l.set(E,--p),!p){let _=!!((I=i.get(E))!=null&&I.size);if(_){const N=c(E),Ae=L(E,!0);_=!K(N,Ae)}_||i.forEach(N=>N.delete(E))}g(E)}})};g(r)},j=(r,...i)=>{let l=!0;const a=d=>$(L(d)),u=(d,...E)=>{let I;if(d===r){if(!X(d))throw new Error("atom not writable");const p=c(d),_=w(d,E[0]);K(p,_)||H(d)}else I=j(d,...E);if(!l){const p=Y();(R?"production":void 0)!=="production"&&s.forEach(_=>_({type:"async-write",flushed:p}))}return I},g=r.write(a,u,...i);return l=!1,g},D=(r,...i)=>{const l=j(r,...i),a=Y();return(R?"production":void 0)!=="production"&&s.forEach(u=>u({type:"write",flushed:a})),l},V=(r,i,l)=>{var a;const u=l||[];(a=c(r))==null||a.d.forEach((d,E)=>{const I=t.get(E);I?I.t.add(r):E!==r&&V(E,r,u)}),L(r);const g={t:new Set(i&&[i]),l:new Set};if(t.set(r,g),(R?"production":void 0)!=="production"&&o.add(r),Q(r)&&r.onMount){const{onMount:d}=r;u.push(()=>{const E=d((...I)=>D(r,...I));E&&(g.u=E)})}return l||u.forEach(d=>d()),g},C=r=>{var i;const l=(i=t.get(r))==null?void 0:i.u;l&&l(),t.delete(r),(R?"production":void 0)!=="production"&&o.delete(r);const a=c(r);a?(y(a)&&le(a.v),a.d.forEach((u,g)=>{if(g!==r){const d=t.get(g);d&&(d.t.delete(r),U(g,d)&&C(g))}})):(R?"production":void 0)!=="production"&&console.warn("[Bug] could not find atom state to unmount",r)},oe=(r,i,l)=>{const a=new Set(i.d.keys());l==null||l.forEach((u,g)=>{if(a.has(g)){a.delete(g);return}const d=t.get(g);d&&(d.t.delete(r),U(g,d)&&C(g))}),a.forEach(u=>{const g=t.get(u);g?g.t.add(r):t.has(r)&&V(u,r)})},Y=()=>{let r;for((R?"production":void 0)!=="production"&&(r=new Set);n.size;){const i=Array.from(n);n.clear(),i.forEach(([l,a])=>{const u=c(l);if(u){const g=t.get(l);g&&u.d!==(a==null?void 0:a.d)&&oe(l,u,a==null?void 0:a.d),g&&!(!y(a)&&(K(a,u)||fe(a,u)))&&(g.l.forEach(d=>d()),(R?"production":void 0)!=="production"&&r.add(l))}else(R?"production":void 0)!=="production"&&console.warn("[Bug] no atom state to flush")})}if((R?"production":void 0)!=="production")return r},ae=(r,i)=>{const l=W(r),a=Y(),u=l.l;return u.add(i),(R?"production":void 0)!=="production"&&s.forEach(g=>g({type:"sub",flushed:a})),()=>{u.delete(i),P(r),(R?"production":void 0)!=="production"&&s.forEach(g=>g({type:"unsub"}))}};return(R?"production":void 0)!=="production"?{get:b,set:D,sub:ae,dev_subscribe_store:(r,i)=>{if(i!==2)throw new Error("The current StoreListener revision is 2.");return s.add(r),()=>{s.delete(r)}},dev_get_mounted_atoms:()=>o.values(),dev_get_atom_state:r=>e.get(r),dev_get_mounted:r=>t.get(r),dev_restore_atoms:r=>{for(const[l,a]of r)X(l)&&(w(l,a),H(l));const i=Y();s.forEach(l=>l({type:"restore",flushed:i}))}}:{get:b,set:D,sub:ae}};let ee;(R?"production":void 0)!=="production"&&(typeof globalThis.__NUMBER_OF_JOTAI_INSTANCES__=="number"?++globalThis.__NUMBER_OF_JOTAI_INSTANCES__:globalThis.__NUMBER_OF_JOTAI_INSTANCES__=1);const Et=()=>(ee||((R?"production":void 0)!=="production"&&globalThis.__NUMBER_OF_JOTAI_INSTANCES__!==1&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"),ee=ft()),ee);var gt={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1,STORYBOOK:"true"};const St=k.createContext(void 0),he=e=>{const t=k.useContext(St);return(e==null?void 0:e.store)||t||Et()},mt=e=>typeof(e==null?void 0:e.then)=="function",pt=ye.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)});function ht(e,t){const n=he(t),[[s,o,c],m]=k.useReducer(w=>{const f=n.get(e);return Object.is(w[0],f)&&w[1]===n&&w[2]===e?w:[f,n,e]},void 0,()=>[n.get(e),n,e]);let S=s;(o!==n||c!==e)&&(m(),S=n.get(e));const v=t==null?void 0:t.delay;return k.useEffect(()=>{const w=n.sub(e,()=>{if(typeof v=="number"){setTimeout(m,v);return}m()});return m(),w},[n,e,v]),k.useDebugValue(S),mt(S)?pt(S):S}function vt(e,t){const n=he(t);return k.useCallback((...o)=>{if((gt?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return n.set(e,...o)},[n,e])}var se=(e=>(e.HOVEDSIDE="/",e.SAKSOVERSIKT="/sak",e.DIN_PLAN="din-plan",e.DOKUMENTER="dokumenter",e.ETTERSEND="ettersend",e.TIDSLINJEN="tidslinjen",e.OPPGAVER="oppgaver",e))(se||{}),_t=(e=>(e.SAKSBEHANDLINGSTIDER="https://www.nav.no/saksbehandlingstider",e.SAKSBEHANDLINGSTIDER_FP="https://www.nav.no/saksbehandlingstider#foreldrepenger",e.SAKSBEHANDLINGSTIDER_SVP="https://www.nav.no/saksbehandlingstider#svangerskapspenger",e.SAKSBEHANDLINGSTIDER_ES="https://www.nav.no/saksbehandlingstider#engangsstonad",e.KLAGERETTIGHETER="https://klage.nav.no/nb/familie",e.KLAGERETTIGHETER_FP="https://klage.nav.no/nb/familie/foreldrepenger",e.KLAGERETTIGHETER_SVP="https://klage.nav.no/nb/familie/svangerskapspenger",e.KLAGERETTIGHETER_ES="https://klage.nav.no/nb/familie/engangsstonad",e.CHAT_MED_OSS="https://www.nav.no/person/kontakt-oss/chat/familie",e.SKRIV_TIL_OSS="https://innboks.nav.no/s/skriv-til-oss?category=Familie",e.RING_OSS="tel:55553333",e.SE_FLERE_TLF_NR_OG_TASTEVALG="https://www.nav.no/kontaktoss#ring-oss",e.LES_MER_OM_VÅRE_PENGESTØTTER="https://www.nav.no/barn",e.LES_MER_OM_FORELDREPENGER="https://www.nav.no/foreldrepenger",e.LES_MER_OM_SVANGERSKAPSPENGER="https://familie.nav.no/om-svangerskapspenger",e.LES_MER_OM_ENGANGSTØNAD="https://familie.nav.no/om-engangsstonad",e.MELD_FRA_OM_ENDRINGER="https://www.nav.no/no/nav-og-samfunn/om-nav/relatert-informasjon/du-har-plikt-til-a-gi-nav-riktige-opplysninger",e.VENT_INNTEKTSMELDING="https://www.nav.no/arbeidsgiver/inntektsmelding",e.VENT_MELDEKORT="https://www.nav.no/no/person/arbeid/dagpenger-ved-arbeidsloshet-og-permittering/meldekort-hvordan-gjor-du-det",e.SØKNADSFRISTER="https://www.nav.no/foreldrepenger#soknadsfrister",e.FORELDREPENGESOKNAD="https://foreldrepengesoknad.nav.no",e.HVOR_LENGE="https://www.nav.no/foreldrepenger#hvor-lenge",e))(_t||{});const ve=dt(se.HOVEDSIDE),Wt=()=>ht(ve),kt=e=>{const t=vt(ve);k.useEffect(()=>{t(e)},[t,e])},At=e=>{const t=e.charAt(e.length-1).toLowerCase();return t==="s"||t==="x"||t==="z"},Zt=(e,t)=>t!=="nb"?e:At(e)?`${e}'`:`${e}s`,Xt=(e,t,n)=>{const s=!e.sakTilhørerMor;return{farMedmor:s?t:n,mor:s?n:t}},Tt=e=>!e.dødsdato;T.extend(we);T.extend(Ie);T.extend(Re);T.extend(Ne);const wt=(e,t)=>T(e).format(t||"dddd D. MMMM YYYY"),Qt=e=>wt(e,"KL.HH:mm"),en=e=>e.format("MMM").substr(0,3),It=e=>{const t=Math.floor(e/5);return{dager:e-t*5,uker:t}},tn=(e,t,n="full")=>{const{uker:s,dager:o}=It(Math.abs(e)),c=t.formatMessage({id:"varighet.dager"},{dager:o});if(s===0)return c;const m=t.formatMessage({id:"varighet.uker"},{uker:s});if(o>0){const S=n==="full"?t.formatMessage({id:"varighet.separator--full"}):t.formatMessage({id:"varighet.separator--normal"});return`${m}${S}${c}`}return m},Rt=e=>e.fom!==void 0&&e.tom!==void 0&&T(e.fom).isSameOrBefore(e.tom,"day"),Ee=e=>T(e).isoWeekday(),Nt=e=>Ee(e)!==6&&Ee(e)!==7,nn=e=>{if(!Rt(e))return 0;let t=T(e.fom);const n=T(e.tom);let s=0;for(;t.isSameOrBefore(n,"day");)Nt(t.toDate())&&s++,t=t.add(24,"hours");return s},B=e=>{if(e!==void 0&&De(e)&&T(e,"YYYY-MM-DD",!0).isValid())return T.utc(e).toDate()},Dt=(e,t)=>e===void 0||t===void 0?!1:T(e).isSameOrAfter(T(t).subtract(1,"day"),"day")&&T(e).isSameOrBefore(T(t).add(1,"day"),"day"),_e=e=>[...e.engangsstønad,...e.foreldrepenger,...e.svangerskapspenger];function Ot(e,t){return T(e.fødselsdato).isAfter(t.fødselsdato,"d")?1:T(e.fødselsdato).isBefore(t.fødselsdato,"d")||e.fornavn<t.fornavn?-1:1}const rn=e=>{var t;if(e.gjeldendeVedtak&&e.gjeldendeVedtak.perioder.length>0)return B(e.gjeldendeVedtak.perioder[0].fom);if(e.åpenBehandling&&e.åpenBehandling.søknadsperioder)return B((t=e.åpenBehandling)==null?void 0:t.søknadsperioder[0].fom)},Lt=(e,t)=>{const n=e.ytelse===F.FORELDREPENGER,s=n&&e.barn!==void 0?e.barn.map(f=>f.fnr).flat():[],o=n&&t?t.filter(f=>s.includes(f.fnr)):[],c=B(e.familiehendelse.fødselsdato),m=c!==void 0&&t?t.filter(f=>Dt(B(f.fødselsdato),c)&&!(o!=null&&o.find(L=>L.fnr===f.fnr))):[],S=o.concat(m);S.sort(Ot);const v=S.filter(f=>f.fødselsdato!==void 0).map(f=>B(f.fødselsdato));let w=[];return v&&v.length>0?w=v:c&&(w=[c]),{fornavn:S==null?void 0:S.filter(f=>f.fornavn!==void 0&&f.fornavn.trim()!=="").map(f=>[f.fornavn,f.mellomnavn!==void 0?f.mellomnavn:""].join(" ")),fødselsdatoer:w,alleBarnaLever:!!(S!=null&&S.every(f=>Tt(f)))}},sn=(e,t)=>_e(t).reduce((s,o)=>{if(o.familiehendelse){const c=Gt(o.familiehendelse),m=s.find(S=>Ft(S,c));if(m&&m.saker.push(o),m&&s.includes(m))return s;{const S=bt(o.familiehendelse,o.gjelderAdopsjon),v={antallBarn:o.familiehendelse.antallBarn,familiehendelsedato:c,saker:[o],type:S,ytelse:o.ytelse,barn:S!=="termin"?Lt(o,e):void 0};return s.push(v),s}}else return s},[]),te=(e,t)=>t===F.ENGANGSSTØNAD?e.map(n=>({...n,ytelse:t})):t===F.SVANGERSKAPSPENGER?e.map(n=>({...n,ytelse:t})):e.map(n=>({...n,ytelse:t})),on=e=>({foreldrepenger:te(e.foreldrepenger,F.FORELDREPENGER),engangsstønad:te(e.engangsstønad,F.ENGANGSSTØNAD),svangerskapspenger:te(e.svangerskapspenger,F.SVANGERSKAPSPENGER)}),an=e=>{const{foreldrepenger:t,svangerskapspenger:n,engangsstønad:s}=e;return t.length+n.length+s.length},Ft=(e,t)=>{const n=T(t).subtract(2,"months"),s=T(t).add(3,"weeks");if(e)return T(e.familiehendelsedato).isAfter(n)&&T(e.familiehendelsedato).isSameOrBefore(s)},bt=(e,t)=>{if(t)return"adopsjon";const{fødselsdato:n}=e;return n?"fødsel":"termin"},Gt=e=>{const{fødselsdato:t,termindato:n,omsorgsovertakelse:s}=e;return s||t||n},dn=(e,t)=>{const n=t&&t.familiehendelse?t.familiehendelse.fødselsdato:void 0,s=e.søker.barn&&n?e.søker.barn.find(c=>T(c.fødselsdato).isSame(n,"d")):void 0,o=s&&s.annenForelder?s.annenForelder.fornavn:void 0;return o!==void 0&&o.trim()!==""?o:"Annen forelder"},Pt=(e,t)=>e===1||e===0?M(t,"barn"):e===2?M(t,"tvillinger"):e===3?M(t,"trillinger"):M(t,"flerlinger"),ke=e=>{if(e===void 0)return;const t=[];if(e.forEach(n=>{t.find(o=>T(o).isSame(n,"day"))===void 0&&t.push(n)}),t.length>1){const n=t.map(c=>x(c)),s=n.slice(0,-1).join(", "),o=n[n.length-1];return`${s} og ${o}`}return x(t[0])},Mt=(e,t,n,s,o)=>{const c=Pt(n,s);if(n===0&&t===void 0||o==="termin")return M(s,"barnHeader.terminBarn",{barnTekst:c,termindato:x(e)});if(o==="adopsjon")return M(s,"barnHeader.adoptertBarn",{adopsjonsdato:x(e)});{const m=ke(t);return t!==void 0&&t.length>0?M(s,"barnHeader.fødtBarn",{barnTekst:c,fødselsdatoTekst:m}):""}},yt=e=>{if(e.length>1){const t=e.map(s=>s.trim()).slice(0,-1).join(", "),n=e[e.length-1];return`${t} og ${n}`}else return`${e[0]}`},ln=(e,t,n,s,o,c,m)=>{if(e===void 0||e.length===0||!s)return Mt(n,t,o,c,m);const S=yt(e);if(m==="fødsel"){const v=ke(t);return`${S} født ${v}`}return m==="adopsjon"?`${S} adoptert ${x(n)}`:""},jt=e=>{const t=Object.values(h);return e.ytelse===F.FORELDREPENGER?e.kanSøkeOmEndring?t.filter(Kt):t.filter(Vt):e.ytelse===F.ENGANGSSTØNAD?t.filter(xt):t.filter(Bt)},Vt=e=>{switch(e){case h.SKJEMA_FOR_TILRETTELEGGING_OG_OMPLASSERING:return!1;default:return!0}},Kt=e=>{switch(e){case h.ANNET:case h.BEKREFTELSE_DELTAR_KVALIFISERINGSPROGRAM:case h.BEKREFTELSE_FRA_ARBEIDSGIVER:case h.BEKREFTELSE_FRA_STUDIESTED:case h.BEKREFTELSE_PÅ_AVTALT_FERIE:case h.DOK_AV_ALENEOMSORG:case h.DOK_BEGRUNNELSE_SØKE_TILBAKE_I_TID:case h.DOK_DELTAKELSE_I_INTRODUKSJONSPROGRAMMET:case h.DOK_INNLEGGELSE:case h.DOK_MORS_UTDANNING_ARBEID_SYKDOM:case h.DOK_OVERFØRING_FOR_SYK:case h.OMSORGSOVERTAKELSE:case h.TILBAKEBETALING:case h.HV_ØVELSE:case h.NAV_TILTAK:return!0;default:return!1}},Bt=e=>{switch(e){case h.ANNET:case h.DOK_MILITÆR_SILVIL_TJENESTE:case h.INNTEKTSOPPLYSNINGER_FRILANS_ELLER_SELVSTENDIG:case h.SKJEMA_FOR_TILRETTELEGGING_OG_OMPLASSERING:case h.TILBAKEBETALING:case h.TERMINBEKREFTELSE:case h.KOPI_SKATTEMELDING:case h.RESULTATREGNSKAP:return!0;default:return!1}},xt=e=>{switch(e){case h.ANNET:case h.TERMINBEKREFTELSE:case h.FØDSELSATTEST:case h.TILBAKEBETALING:return!0;default:return!1}},Ut=e=>e===F.ENGANGSSTØNAD?"engangsstonad":e===F.FORELDREPENGER?"foreldrepenger":"svangerskapspenger",ge=e=>e.map(t=>t.skjemanummer).filter((t,n,s)=>s.indexOf(t)===n),z="default",Ht=(e,t)=>t?A.jsxs(A.Fragment,{children:[A.jsx("option",{value:z,disabled:!1,hidden:!1,children:A.jsx(Se,{id:"ettersendelse.select.defaultValue"})}),jt(t).map(n=>({skjemanummer:n,text:e.formatMessage({id:`ettersendelse.${n}`})})).sort((n,s)=>n.text.localeCompare(s.text)).map(({skjemanummer:n,text:s})=>A.jsx("option",{value:n,children:s},n))]}):null,Ct=e=>{if(e===z)return e;const t=Object.values(h).find(n=>n===e);if(t)return t;throw Error("Valgt skjemanr finnes ikke")},ne=({saker:e})=>{const t=Oe();kt(se.ETTERSEND);const n=Ve(),s=Me("ettersending-page"),[o,c]=k.useState(!1),[m,S]=k.useState(!1),[v,w]=k.useState(void 0),[f,L]=k.useState(z),[b,W]=k.useState([]),P=_e(e).find(D=>D.saksnummer===n.saksnummer),H=D=>{D.preventDefault(),c(!0);const V={saksnummer:P.saksnummer,type:P.ytelse,vedlegg:b};at.sendEttersending(V).then(()=>{c(!1),S(!0)}).catch(C=>{c(!1),w("Vi klarte ikke å sende inn dokumentasjonen din. Prøv igjen senere og hvis problemet vedvarer kontakt brukerstøtte.")})};if(m||v)return A.jsxs(A.Fragment,{children:[A.jsx(Ke,{}),A.jsxs(ie,{gap:"2",children:[m&&A.jsx(de,{variant:"success",children:"Dokumentene er sendt"}),v&&A.jsx(de,{variant:"error",children:v}),A.jsx(Be,{to:`/sak/${P.saksnummer}`,children:A.jsx(Se,{id:"miniDialog.kvittering.gåTilbakeTilSaken"})})]})]});const j=b?!!b.find(D=>D.pending):!1;return A.jsx("form",{onSubmit:H,children:A.jsxs(ie,{gap:"4",children:[A.jsx(Le,{children:"Dokumentene du laster opp vil bli lagt ved søknaden din. Du må velge hva dokumentene inneholder for at saksbehandlerene i NAV skal kunne behandle saken din."}),A.jsx(Fe,{children:"Du kan laste opp dokumenter i formatene pdf, png og jpg."}),A.jsx(be,{target:"_blank",href:"https://www.nav.no/brukerstotte#sende-soknad-pa-nett",children:"Les om hvordan du kan ta bilde av dokumenter med mobilen"}),A.jsx(Ge,{className:s.element("select"),label:"Hva inneholder dokumentene dine?",onChange:D=>L(Ct(D.target.value)),children:Ht(t,P)}),f!==z&&A.jsx(xe,{updateAttachments:W,attachmentType:Ue.MORS_AKTIVITET_DOKUMENTASJON,skjemanummer:f,existingAttachments:b,saveAttachment:He(re.REST_API_URL,Ut(P.ytelse))}),b&&b.length>0&&A.jsx(Ce,{children:A.jsx(Pe,{type:"submit",icon:A.jsx(qe,{}),loading:o||j,disabled:o||j,children:"Legg ved sak"})})]})})},cn=ne;try{ge.displayName="getListOfUniqueSkjemanummer",ge.__docgenInfo={description:"",displayName:"getListOfUniqueSkjemanummer",props:{}}}catch{}try{ne.displayName="EttersendingPage",ne.__docgenInfo={description:"",displayName:"EttersendingPage",props:{saker:{defaultValue:null,description:"",name:"saker",required:!0,type:{name:"SakOppslag"}}}}}catch{}export{at as A,cn as E,B as I,_t as N,se as O,O as R,dt as a,vt as b,nn as c,tn as d,Xt as e,yt as f,Zt as g,wt as h,Gt as i,Qt as j,_e as k,rn as l,en as m,Lt as n,kt as o,dn as p,ln as q,Wt as r,bt as s,an as t,ht as u,sn as v,on as w,Z as x};
