import{c as q,k as Re,f as me,o as Ie,E as Oe,d as D,m as Ne,n as Le,p as be,q as Ge,i as z,j as k,V as de,B as Me,L as ye,g as Fe,e as Pe}from"./index-D3ktEWFU.js";import{r as A,R as y}from"./index-DVXBtNgz.js";import{i as je,u as Ke,A as le,M as pe,F as Ve,B as Be}from"./infobox.module-B5g2jqlm.js";import{u as xe,d as Ue,e as He,S,f as Ce,g as $e,L as Ye,A as ze,h as qe,G as Je}from"./attachmentApi-BcjVrL6c.js";import{S as We,E as oe,Y as F}from"./Ytelse-NhSSlM2E.js";import{u as Ze}from"./useId-DbilmxAP.js";const Xe=e=>{A.useEffect(()=>{const t=document.title;return document.title=e,()=>{document.title=t}},[e])};var Qe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const et=A.forwardRef((e,t)=>{const{inputProps:n,errorId:r,showErrorMsg:o,hasError:m,size:c,inputDescriptionId:p,readOnly:_}=xe(e,"select"),{children:w,label:g,className:P,description:L,htmlSize:M,hideLabel:K=!1,style:B}=e,U=Qe(e,["children","label","className","description","htmlSize","hideLabel","style"]),O={onMouseDown:G=>{_&&(G.preventDefault(),G.target.focus())},onKeyDown:G=>{_&&["ArrowDown","ArrowUp","ArrowRight","ArrowLeft"," "].includes(G.key)&&G.preventDefault()}};return y.createElement("div",{className:q(P,"navds-form-field",`navds-form-field--${c}`,{"navds-form-field--disabled":!!n.disabled,"navds-form-field--readonly":_,"navds-select--error":m,"navds-select--readonly":_})},y.createElement(Re,{htmlFor:n.id,size:c,className:q("navds-form-field__label",{"navds-sr-only":K})},y.createElement(Ue,{readOnly:_,nativeReadOnly:!1}),g),!!L&&y.createElement(me,{className:q("navds-form-field__description",{"navds-sr-only":K}),id:p,size:c,as:"div"},L),y.createElement("div",{className:"navds-select__container",style:B},y.createElement("select",Object.assign({},Ie(U,["error","errorId","size","readOnly"]),n,O,{ref:t,className:q("navds-select__input","navds-body-short",`navds-body-short--${c??"medium"}`),size:M}),w),y.createElement(We,{className:"navds-select__chevron","aria-hidden":!0})),y.createElement("div",{className:"navds-form-field__error",id:r,"aria-relevant":"additions removals","aria-live":"polite"},o&&y.createElement(Oe,{size:c},e.error)))});var b=(e=>(e.UNFETCHED="Unfetched",e.IN_PROGRESS="InProgress",e.FINISHED="Finished",e))(b||{});const tt=oe.REST_API_URL,ee=He.create({baseURL:tt}),W=e=>(ee.interceptors.request.use(t=>(t.timeout=60*1e3,e&&(t.headers.fnr=e),t)),ee.interceptors.response.use(t=>t,t=>Promise.reject(t)),ee),Se=()=>{window.location.href=oe.LOGIN_URL+"?redirect="+window.location.origin},he={config:{},isSuspended:!1},V=(e,t=he,n)=>{const[r,o]=A.useState(),[m,c]=A.useState(null),[p,_]=A.useState(b.UNFETCHED),w=W(n);return A.useEffect(()=>{!t.isSuspended&&p===b.UNFETCHED&&(_(b.IN_PROGRESS),w.get(e,t.config).then(g=>{g.data===""?o(void 0):o(g.data),_(b.FINISHED)}).catch(g=>{g.response&&(g.response.status===401||g.response.status===403)?Se():c(g),_(b.FINISHED)}))},[t,e,w,p]),{data:r,error:m,requestStatus:p}},nt=(e,t,n=he)=>{const[r,o]=A.useState(),[m,c]=A.useState(null),[p,_]=A.useState(b.UNFETCHED),w=n.fnr?W(n.fnr):W();return A.useEffect(()=>{!n.isSuspended&&p===b.UNFETCHED&&(_(b.IN_PROGRESS),w.post(e,t,n.config).then(g=>{g.data===""?o(void 0):o(g.data),_(b.FINISHED)}).catch(g=>{g.response&&(g.response.status===401||g.response.status===403)?Se():c(g),_(b.FINISHED)}))},[n,e,w,p,t]),{data:r,error:m,requestStatus:p}},rt=()=>{const{data:e,error:t}=V("/sokerinfo",{config:{withCredentials:!0}});return{søkerinfoData:e,søkerinfoError:t}},st=e=>{const{data:t,error:n}=V("/innsyn/v2/saker",{config:{withCredentials:!0},isSuspended:e});return{sakerData:t,sakerError:n}},ot=()=>{const{data:e,error:t}=V("/storage/aktive",{config:{withCredentials:!0},isSuspended:!0});return{storageData:e,storageError:t}},at=(e,t,n,r)=>{const o={annenPartFødselsnummer:e,barnFødselsnummer:t,familiehendelse:n},{data:m,error:c,requestStatus:p}=nt("/innsyn/v2/annenPartVedtak",o,{config:{withCredentials:!0},isSuspended:r});return c&&c.message.includes("Ugyldig ident")?{annenPartsVedtakData:void 0,annenPartsVedtakError:void 0,annenPartsVedtakRequestStatus:b.FINISHED}:{annenPartsVedtakData:m,annenPartsVedtakError:c,annenPartsVedtakRequestStatus:p}},it=e=>{const{data:t,error:n,requestStatus:r}=V("/dokument/alle",{config:{withCredentials:!0,params:{saksnummer:e}}});return{dokumenterData:t,dokumenterError:n,dokumenterStatus:r}},dt=e=>{const{data:t,error:n}=V("/innsyn/tidslinje",{config:{withCredentials:!0,params:{saksnummer:e}}});return{tidslinjeHendelserData:t,tidslinjeHendelserError:n}},lt=()=>{const{data:e,error:t}=V("/minidialog",{config:{withCredentials:!0}});return{minidialogData:e,minidialogError:t}},ct=e=>{const{data:t,error:n}=V("/historikk/vedlegg",{config:{withCredentials:!0,params:{saksnummer:e}}});return{manglendeVedleggData:t,manglendeVedleggError:n}},ut=(e,t)=>W(t).post("/soknad/ettersend",e,{timeout:30*1e3,withCredentials:!0}),ft=()=>{const{data:e,error:t}=V("/innsyn/v2/saker/oppdatert",{config:{withCredentials:!0}});return{oppdatertData:e,oppdatertError:t}},Et={useSøkerinfo:rt,useGetSaker:st,useGetDokumenter:it,useGetAnnenPartsVedtak:at,useGetTidslinjeHendelser:dt,useGetMinidialog:lt,useGetManglendeVedlegg:ct,useErSakOppdatert:ft,useGetMellomlagretSøknad:ot,sendEttersending:ut};var I={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1,STORYBOOK:"true"};let gt=0;function mt(e,t){const n=`atom${++gt}`,r={toString:()=>n};return typeof e=="function"?r.read=e:(r.init=e,r.read=pt,r.write=St),r}function pt(e){return e(this)}function St(e,t,n){return t(this,typeof n=="function"?n(e(this)):n)}const te=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,ne=e=>"init"in e,re=e=>!!e.write,Z=new WeakMap,ht=(e,t)=>{Z.set(e,t),e.catch(()=>{}).finally(()=>Z.delete(e))},ce=(e,t)=>{const n=Z.get(e);n&&(Z.delete(e),n(t))},ue=(e,t)=>{e.status="fulfilled",e.value=t},fe=(e,t)=>{e.status="rejected",e.reason=t},vt=e=>typeof(e==null?void 0:e.then)=="function",C=(e,t)=>!!e&&"v"in e&&"v"in t&&Object.is(e.v,t.v),Ee=(e,t)=>!!e&&"e"in e&&"e"in t&&Object.is(e.e,t.e),x=e=>!!e&&"v"in e&&e.v instanceof Promise,_t=(e,t)=>"v"in e&&"v"in t&&e.v.orig&&e.v.orig===t.v.orig,J=e=>{if("e"in e)throw e.e;return e.v},At=()=>{const e=new WeakMap,t=new WeakMap,n=[],r=new WeakMap;let o,m;(I?"production":void 0)!=="production"&&(o=new Set,m=new Set);const c=s=>e.get(s),p=(s,i)=>{i.d.forEach((E,l)=>{if(!r.has(l)){const a=c(l);r.set(l,[a,new Set]),a&&p(l,a)}r.get(l)[1].add(s)})},_=(s,i)=>{var E;(I?"production":void 0)!=="production"&&Object.freeze(i);const l=c(s);if(e.set(s,i),(E=n[n.length-1])==null||E.add(s),r.has(s)||(r.set(s,[l,new Set]),p(s,i)),x(l)){const a="v"in i?i.v instanceof Promise?i.v:Promise.resolve(i.v):Promise.reject(i.e);l.v!==a&&ce(l.v,a)}},w=(s,i,E,l)=>{const a=new Map(l?i.d:null);let d=!1;E.forEach((u,f)=>{!u&&te(s,f)&&(u=i),u?(a.set(f,u),i.d.get(f)!==u&&(d=!0)):(I?"production":void 0)!=="production"&&console.warn("[Bug] atom state not found")}),(d||i.d.size!==a.size)&&(i.d=a)},g=(s,i,E,l)=>{const a=c(s),d={d:(a==null?void 0:a.d)||new Map,v:i};if(E&&w(s,d,E,l),C(a,d)&&a.d===d.d)return a;if(x(a)&&x(d)&&_t(a,d)){if(a.d===d.d)return a;d.v=a.v}return _(s,d),d},P=(s,i,E,l)=>{if(vt(i)){let a;const d=()=>{const f=c(s);if(!x(f)||f.v!==u)return;const v=g(s,u,E);t.has(s)&&f.d!==v.d&&j(s,v,f.d)},u=new Promise((f,v)=>{let h=!1;i.then(T=>{h||(h=!0,ue(u,T),f(T),d())},T=>{h||(h=!0,fe(u,T),v(T),d())}),a=T=>{h||(h=!0,T.then(R=>ue(u,R),R=>fe(u,R)),f(T))}});return u.orig=i,u.status="pending",ht(u,f=>{f&&a(f),l==null||l()}),g(s,u,E,!0)}return g(s,i,E)},L=(s,i,E)=>{const l=c(s),a={d:(l==null?void 0:l.d)||new Map,e:i};return E&&w(s,a,E),Ee(l,a)&&l.d===a.d?l:(_(s,a),a)},M=(s,i)=>{const E=c(s);if(!(i!=null&&i(s))&&E&&(t.has(s)||Array.from(E.d).every(([h,T])=>{if(h===s)return!0;const R=M(h,i);return R===T||C(R,T)})))return E;const l=new Map;let a=!0;const d=h=>{if(te(s,h)){const R=c(h);if(R)return l.set(h,R),J(R);if(ne(h))return l.set(h,void 0),h.init;throw new Error("no atom init")}const T=M(h,i);return l.set(h,T),J(T)};let u,f;const v={get signal(){return u||(u=new AbortController),u.signal},get setSelf(){return(I?"production":void 0)!=="production"&&!re(s)&&console.warn("setSelf function cannot be used with read-only atom"),!f&&re(s)&&(f=(...h)=>{if((I?"production":void 0)!=="production"&&a&&console.warn("setSelf function cannot be called in sync"),!a)return O(s,...h)}),f}};try{const h=s.read(d,v);return P(s,h,l,()=>u==null?void 0:u.abort())}catch(h){return L(s,h,l)}finally{a=!1}},K=s=>J(M(s)),B=s=>{const i=f=>{var v,h;const T=new Set((v=t.get(f))==null?void 0:v.t);return(h=r.get(f))==null||h[1].forEach(R=>{T.add(R)}),T},E=new Array,l=new Set,a=f=>{if(!l.has(f)){l.add(f);for(const v of i(f))f!==v&&a(v);E.push(f)}};a(s);const d=new Set([s]),u=f=>l.has(f);for(let f=E.length-1;f>=0;--f){const v=E[f],h=c(v);if(!h)continue;let T=!1;for(const R of h.d.keys())if(R!==v&&d.has(R)){T=!0;break}if(T){const R=M(v,u);p(v,R),C(h,R)||d.add(v)}l.delete(v)}},U=(s,...i)=>{const E=d=>J(M(d)),l=(d,...u)=>{const f=n.length>0;f||n.push(new Set([d]));let v;if(te(s,d)){if(!ne(d))throw new Error("atom not writable");const h=c(d),T=P(d,u[0]);C(h,T)||B(d)}else v=U(d,...u);if(!f){const h=H(n.pop());(I?"production":void 0)!=="production"&&o.forEach(T=>T({type:"async-write",flushed:h}))}return v};return s.write(E,l,...i)},O=(s,...i)=>{n.push(new Set([s]));const E=U(s,...i),l=H(n.pop());return(I?"production":void 0)!=="production"&&o.forEach(a=>a({type:"write",flushed:l})),E},G=(s,i,E)=>{var l;const a=t.get(s);if(a)return i&&a.t.add(i),a;const d=E||[];(l=c(s))==null||l.d.forEach((f,v)=>{v!==s&&G(v,s,d)}),M(s);const u={t:new Set(i&&[i]),l:new Set};if(t.set(s,u),(I?"production":void 0)!=="production"&&m.add(s),re(s)&&s.onMount){const{onMount:f}=s;d.push(()=>{const v=f((...h)=>O(s,...h));v&&(u.u=v)})}return E||d.forEach(f=>f()),u},Q=(s,i)=>!i.l.size&&(!i.t.size||i.t.size===1&&i.t.has(s)),N=(s,i)=>{if(!Q(s,i))return;const E=i.u;E&&E(),t.delete(s),(I?"production":void 0)!=="production"&&m.delete(s);const l=c(s);l?(x(l)&&ce(l.v),l.d.forEach((a,d)=>{if(d!==s){const u=t.get(d);u&&(u.t.delete(s),N(d,u))}})):(I?"production":void 0)!=="production"&&console.warn("[Bug] could not find atom state to unmount",s)},j=(s,i,E)=>{const l=new Set(i.d.keys()),a=new Set;E==null||E.forEach((d,u)=>{if(l.has(u)){l.delete(u);return}a.add(u);const f=t.get(u);f&&f.t.delete(s)}),l.forEach(d=>{G(d,s)}),a.forEach(d=>{const u=t.get(d);u&&N(d,u)})},H=s=>{let i;(I?"production":void 0)!=="production"&&(i=new Set);const E=[],l=a=>{var d;if(!r.has(a))return;const[u,f]=r.get(a);r.delete(a),E.push([a,u]),f.forEach(l),(d=c(a))==null||d.d.forEach((v,h)=>l(h))};if(s.forEach(l),E.forEach(([a,d])=>{const u=c(a);if(!u){(I?"production":void 0)!=="production"&&console.warn("[Bug] no atom state to flush");return}if(u!==d){const f=t.get(a);f&&u.d!==(d==null?void 0:d.d)&&j(a,u,d==null?void 0:d.d),f&&!(!x(d)&&(C(d,u)||Ee(d,u)))&&(f.l.forEach(v=>v()),(I?"production":void 0)!=="production"&&i.add(a))}}),(I?"production":void 0)!=="production")return i},ie=(s,i)=>{const E=G(s),l=H([s]),a=E.l;return a.add(i),(I?"production":void 0)!=="production"&&o.forEach(d=>d({type:"sub",flushed:l})),()=>{a.delete(i),N(s,E),(I?"production":void 0)!=="production"&&o.forEach(d=>d({type:"unsub"}))}};return(I?"production":void 0)!=="production"?{get:K,set:O,sub:ie,dev_subscribe_store:s=>(o.add(s),()=>{o.delete(s)}),dev_get_mounted_atoms:()=>m.values(),dev_get_atom_state:s=>e.get(s),dev_get_mounted:s=>t.get(s),dev_restore_atoms:s=>{n.push(new Set);for(const[E,l]of s)ne(E)&&(P(E,l),B(E));const i=H(n.pop());o.forEach(E=>E({type:"restore",flushed:i}))}}:{get:K,set:O,sub:ie}};let $;const Tt=()=>($||($=At(),(I?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=$),globalThis.__JOTAI_DEFAULT_STORE__!==$&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),$),kt=Tt;var wt={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1,STORYBOOK:"true"};const Dt=A.createContext(void 0),ve=e=>A.useContext(Dt)||kt(),Rt=e=>typeof(e==null?void 0:e.then)=="function",It=y.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)});function Ot(e,t){const n=ve(),[[r,o,m],c]=A.useReducer(w=>{const g=n.get(e);return Object.is(w[0],g)&&w[1]===n&&w[2]===e?w:[g,n,e]},void 0,()=>[n.get(e),n,e]);let p=r;return(o!==n||m!==e)&&(c(),p=n.get(e)),A.useEffect(()=>{const w=n.sub(e,()=>{c()});return c(),w},[n,e,void 0]),A.useDebugValue(p),Rt(p)?It(p):p}function Nt(e,t){const n=ve();return A.useCallback((...o)=>{if((wt?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return n.set(e,...o)},[n,e])}var ae=(e=>(e.HOVEDSIDE="/",e.SAKSOVERSIKT="/sak",e.DIN_PLAN="din-plan",e.DOKUMENTER="dokumenter",e.ETTERSEND="ettersend",e.TIDSLINJEN="tidslinjen",e.OPPGAVER="oppgaver",e))(ae||{}),Lt=(e=>(e.SAKSBEHANDLINGSTIDER="https://www.nav.no/saksbehandlingstider",e.SAKSBEHANDLINGSTIDER_FP="https://www.nav.no/saksbehandlingstider#foreldrepenger",e.SAKSBEHANDLINGSTIDER_SVP="https://www.nav.no/saksbehandlingstider#svangerskapspenger",e.SAKSBEHANDLINGSTIDER_ES="https://www.nav.no/saksbehandlingstider#engangsstonad",e.KLAGERETTIGHETER="https://www.nav.no/klage",e.KLAGERETTIGHETER_FP="https://www.nav.no/klage#foreldrepenger",e.KLAGERETTIGHETER_SVP="https://www.nav.no/klage#svangerskapspenger",e.KLAGERETTIGHETER_ES="https://www.nav.no/klage#engangsstonad",e.CHAT_MED_OSS="https://www.nav.no/person/kontakt-oss/chat/familie",e.SKRIV_TIL_OSS="https://innboks.nav.no/s/skriv-til-oss?category=Familie",e.RING_OSS="tel:55553333",e.SE_FLERE_TLF_NR_OG_TASTEVALG="https://www.nav.no/kontaktoss#ring-oss",e.LES_MER_OM_VÅRE_PENGESTØTTER="https://www.nav.no/barn",e.LES_MER_OM_FORELDREPENGER="https://www.nav.no/foreldrepenger",e.LES_MER_OM_SVANGERSKAPSPENGER="https://familie.nav.no/om-svangerskapspenger",e.LES_MER_OM_ENGANGSTØNAD="https://familie.nav.no/om-engangsstonad",e.MELD_FRA_OM_ENDRINGER="https://www.nav.no/no/nav-og-samfunn/om-nav/relatert-informasjon/du-har-plikt-til-a-gi-nav-riktige-opplysninger",e.VENT_INNTEKTSMELDING="https://www.nav.no/arbeidsgiver/inntektsmelding",e.VENT_MELDEKORT="https://www.nav.no/no/person/arbeid/dagpenger-ved-arbeidsloshet-og-permittering/meldekort-hvordan-gjor-du-det",e.SØKNADSFRISTER="https://www.nav.no/foreldrepenger#for-soknad",e.FORELDREPENGESOKNAD="https://foreldrepengesoknad.nav.no",e.HVOR_LENGE="https://www.nav.no/foreldrepenger#hvor-lenge",e))(Lt||{});const _e=mt(ae.HOVEDSIDE),dn=()=>Ot(_e),bt=e=>{const t=Nt(_e);A.useEffect(()=>{t(e)},[t,e])};D.extend(Ne);D.extend(je);D.extend(Le);D.extend(be);const Gt=(e,t)=>D(e).format(t||"dddd D. MMMM YYYY"),ln=e=>Gt(e,"KL.HH:mm"),cn=e=>e.format("MMM").substr(0,3),Mt=e=>{const t=Math.floor(e/5);return{dager:e-t*5,uker:t}},un=(e,t,n="full")=>{const{uker:r,dager:o}=Mt(Math.abs(e)),m=t.formatMessage({id:"varighet.dager"},{dager:o});if(r===0)return m;const c=t.formatMessage({id:"varighet.uker"},{uker:r});if(o>0){const p=n==="full"?t.formatMessage({id:"varighet.separator--full"}):t.formatMessage({id:"varighet.separator--normal"});return`${c}${p}${m}`}return c},yt=e=>e.fom!==void 0&&e.tom!==void 0&&D(e.fom).isSameOrBefore(e.tom,"day"),ge=e=>D(e).isoWeekday(),Ft=e=>ge(e)!==6&&ge(e)!==7,fn=e=>{if(!yt(e))return 0;let t=D(e.fom);const n=D(e.tom);let r=0;for(;t.isSameOrBefore(n,"day");)Ft(t.toDate())&&r++,t=t.add(24,"hours");return r},Y=e=>{if(e!==void 0&&Ge(e)&&D(e,"YYYY-MM-DD",!0).isValid())return D.utc(e).toDate()},Pt=(e,t)=>e===void 0||t===void 0?!1:D(e).isSameOrAfter(D(t).subtract(1,"day"),"day")&&D(e).isSameOrBefore(D(t).add(1,"day"),"day"),jt=e=>{const t=e.charAt(e.length-1).toLowerCase();return t==="s"||t==="x"||t==="z"},En=(e,t)=>t!=="nb"?e:jt(e)?`${e}'`:`${e}s`,gn=(e,t,n)=>{const r=!e.sakTilhørerMor;return{farMedmor:r?t:n,mor:r?n:t}},Kt=e=>!e.dødsdato,Ae=e=>[...e.engangsstønad,...e.foreldrepenger,...e.svangerskapspenger];function Vt(e,t){return D(e.fødselsdato).isAfter(t.fødselsdato,"d")?1:D(e.fødselsdato).isBefore(t.fødselsdato,"d")||e.fornavn<t.fornavn?-1:1}const mn=e=>{var t;if(e.gjeldendeVedtak&&e.gjeldendeVedtak.perioder.length>0)return Y(e.gjeldendeVedtak.perioder[0].fom);if(e.åpenBehandling&&e.åpenBehandling.søknadsperioder)return Y((t=e.åpenBehandling)==null?void 0:t.søknadsperioder[0].fom)},Bt=(e,t)=>{const n=e.ytelse===F.FORELDREPENGER,r=n&&e.barn!==void 0?e.barn.map(g=>g.fnr).flat():[],o=n&&t?t.filter(g=>r.includes(g.fnr)):[],m=Y(e.familiehendelse.fødselsdato),c=m!==void 0&&t?t.filter(g=>Pt(Y(g.fødselsdato),m)&&!(o!=null&&o.find(P=>P.fnr===g.fnr))):[],p=o.concat(c);p.sort(Vt);const _=p.filter(g=>g.fødselsdato!==void 0).map(g=>Y(g.fødselsdato));let w=[];return _&&_.length>0?w=_:m&&(w=[m]),{fornavn:p==null?void 0:p.filter(g=>g.fornavn!==void 0&&g.fornavn.trim()!=="").map(g=>[g.fornavn,g.mellomnavn!==void 0?g.mellomnavn:""].join(" ")),fødselsdatoer:w,alleBarnaLever:!!(p!=null&&p.every(g=>Kt(g)))}},pn=(e,t)=>Ae(t).reduce((r,o)=>{if(o.familiehendelse){const m=Ht(o.familiehendelse),c=r.find(p=>xt(p,m));if(c&&c.saker.push(o),c&&r.includes(c))return r;{const p=Ut(o.familiehendelse,o.gjelderAdopsjon),_={antallBarn:o.familiehendelse.antallBarn,familiehendelsedato:m,saker:[o],type:p,ytelse:o.ytelse,barn:p!=="termin"?Bt(o,e):void 0};return r.push(_),r}}else return r},[]),se=(e,t)=>t===F.ENGANGSSTØNAD?e.map(n=>({...n,ytelse:t})):t===F.SVANGERSKAPSPENGER?e.map(n=>({...n,ytelse:t})):e.map(n=>({...n,ytelse:t})),Sn=e=>({foreldrepenger:se(e.foreldrepenger,F.FORELDREPENGER),engangsstønad:se(e.engangsstønad,F.ENGANGSSTØNAD),svangerskapspenger:se(e.svangerskapspenger,F.SVANGERSKAPSPENGER)}),hn=e=>{const{foreldrepenger:t,svangerskapspenger:n,engangsstønad:r}=e;return t.length+n.length+r.length},xt=(e,t)=>{const n=D(t).subtract(2,"months"),r=D(t).add(3,"weeks");if(e)return D(e.familiehendelsedato).isAfter(n)&&D(e.familiehendelsedato).isSameOrBefore(r)},Ut=(e,t)=>{if(t)return"adopsjon";const{fødselsdato:n}=e;return n?"fødsel":"termin"},Ht=e=>{const{fødselsdato:t,termindato:n,omsorgsovertakelse:r}=e;return r||t||n},vn=(e,t)=>{const n=t&&t.familiehendelse?t.familiehendelse.fødselsdato:void 0,r=e.søker.barn&&n?e.søker.barn.find(m=>D(m.fødselsdato).isSame(n,"d")):void 0,o=r&&r.annenForelder?r.annenForelder.fornavn:void 0;return o!==void 0&&o.trim()!==""?o:"Annen forelder"},Ct=(e,t)=>e===1||e===0?t.formatMessage({id:"barn"}):e===2?t.formatMessage({id:"tvillinger"}):e===3?t.formatMessage({id:"trillinger"}):t.formatMessage({id:"flerlinger"}),Te=e=>{if(e===void 0)return;const t=[];if(e.forEach(n=>{t.find(o=>D(o).isSame(n,"day"))===void 0&&t.push(n)}),t.length>1){const n=t.map(m=>z(m)),r=n.slice(0,-1).join(", "),o=n[n.length-1];return`${r} og ${o}`}return z(t[0])},$t=(e,t,n,r,o)=>{const m=Ct(n,r);if(n===0&&t===void 0||o==="termin")return r.formatMessage({id:"barnHeader.terminBarn"},{barnTekst:m,termindato:z(e)});if(o==="adopsjon")return r.formatMessage({id:"barnHeader.adoptertBarn"},{adopsjonsdato:z(e)});{const c=Te(t);return t!==void 0&&t.length>0?r.formatMessage({id:"barnHeader.fødtBarn"},{barnTekst:m,fødselsdatoTekst:c}):""}},Yt=e=>{if(e.length>1){const t=e.map(r=>r.trim()).slice(0,-1).join(", "),n=e[e.length-1];return`${t} og ${n}`}else return`${e[0]}`},_n=(e,t,n,r,o,m,c)=>{if(e===void 0||e.length===0||!r)return $t(n,t,o,m,c);const p=Yt(e);if(c==="fødsel"){const _=Te(t);return`${p} født ${_}`}return c==="adopsjon"?`${p} adoptert ${z(n)}`:""};var zt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const qt=A.forwardRef((e,t)=>{var{title:n,titleId:r}=e,o=zt(e,["title","titleId"]);let m=Ze();return m=n?r||"title-"+m:void 0,A.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:t,"aria-labelledby":m},o),n?A.createElement("title",{id:m},n):null,A.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 13v8h2v-8h8v-2h-8V3h-2v8H3v2h8Z",fill:"currentColor"}))}),ke=e=>{const t=Object.values(S);return e.ytelse===F.FORELDREPENGER?e.kanSøkeOmEndring?t.filter(Wt):t.filter(Jt):e.ytelse===F.ENGANGSSTØNAD?t.filter(Xt):t.filter(Zt)},Jt=e=>{switch(e){case S.SKJEMA_FOR_TILRETTELEGGING_OG_OMPLASSERING:case S.DEPRECATED_TERMINBEKREFTELSE:case S.DEPRECATED_BEKREFTELSE_DELTAR_KVALIFISERINGSPROGRAM:case S.DEPRECATED_DOK_BEGRUNNELSE_SØKE_TILBAKE_I_TID:return!1;default:return!0}},Wt=e=>{switch(e){case S.ANNET:case S.BEKREFTELSE_DELTAR_KVALIFISERINGSPROGRAM:case S.BEKREFTELSE_FRA_ARBEIDSGIVER:case S.BEKREFTELSE_PÅ_AVTALT_FERIE:case S.DOK_AV_ALENEOMSORG:case S.DOK_BEGRUNNELSE_SØKE_TILBAKE_I_TID:case S.DOK_DELTAKELSE_I_INTRODUKSJONSPROGRAMMET:case S.DOK_INNLEGGELSE_BARN:case S.DOK_INNLEGGELSE_MOR:case S.DOK_INNLEGGELSE_FAR:case S.DOK_SYKDOM_MOR:case S.DOK_SYKDOM_FAR:case S.DOK_UTDANNING_MOR:case S.DOK_UTDANNING_OG_ARBEID_MOR:case S.DOK_ARBEID_MOR:case S.OMSORGSOVERTAKELSE:case S.TILBAKEBETALING:case S.HV_ØVELSE:case S.NAV_TILTAK:case S.TERMINBEKREFTELSE:case S.DEPRECATED_TILBAKEBETALING:case S.DEPRECATED_KOPI_SKATTEMELDING:return!0;default:return!1}},Zt=e=>{switch(e){case S.ANNET:case S.DOK_MILITÆR_SILVIL_TJENESTE:case S.INNTEKTSOPPLYSNINGER_FRILANS_ELLER_SELVSTENDIG:case S.SKJEMA_FOR_TILRETTELEGGING_OG_OMPLASSERING:case S.TILBAKEBETALING:case S.TERMINBEKREFTELSE:case S.SKATTEMELDING:case S.RESULTATREGNSKAP:return!0;default:return!1}},Xt=e=>{switch(e){case S.ANNET:case S.TERMINBEKREFTELSE:case S.FØDSELSATTEST:case S.TILBAKEBETALING:return!0;default:return!1}},Qt=e=>e===F.ENGANGSSTØNAD?"engangsstonad":e===F.FORELDREPENGER?"foreldrepenger":"svangerskapspenger",X="default",we=(e,t)=>t?k.jsxs(k.Fragment,{children:[k.jsx("option",{value:X,disabled:!1,hidden:!1,children:k.jsx(pe,{id:"ettersendelse.select.defaultValue"})}),ke(t).map(n=>({skjemanummer:n,text:e.formatMessage({id:`ettersendelse.${n}`})})).sort((n,r)=>n.text.localeCompare(r.text)).map(({skjemanummer:n,text:r})=>k.jsx("option",{value:n,children:r},n))]}):null,en=e=>{if(e===X)return e;const t=Object.values(S).find(n=>n===e);if(t)return t;throw Error("Valgt skjemanr finnes ikke")},De=({saker:e})=>{const t=Ke();Xe(`${t.formatMessage({id:"lastOppDokumenter"})} - ${t.formatMessage({id:"dineForeldrepenger"})}`),bt(ae.ETTERSEND);const n=Ce(),r=Pe("ettersending-page"),[o,m]=A.useState(!1),[c,p]=A.useState(!1),[_,w]=A.useState(void 0),[g,P]=A.useState(X),[L,M]=A.useState([]),[K,B]=A.useState(!1),O=Ae(e).find(N=>N.saksnummer===n.saksnummer),G=(N,j)=>{M(N),B(j)},Q=N=>{N.preventDefault(),m(!0);const j={saksnummer:O.saksnummer,type:O.ytelse,vedlegg:L};Et.sendEttersending(j).then(()=>{m(!1),p(!0)}).catch(H=>{m(!1),w("Vi klarte ikke å sende inn dokumentasjonen din. Prøv igjen senere og hvis problemet vedvarer kontakt brukerstøtte.")})};return c||_?k.jsxs(k.Fragment,{children:[k.jsx($e,{}),k.jsxs(de,{gap:"2",children:[c&&k.jsx(le,{variant:"success",children:"Dokumentene er sendt"}),_&&k.jsx(le,{variant:"error",children:_}),k.jsx(Ye,{to:`/sak/${O.saksnummer}`,children:k.jsx(pe,{id:"miniDialog.kvittering.gåTilbakeTilSaken"})})]})]}):k.jsx("form",{onSubmit:Q,children:k.jsxs(de,{gap:"4",children:[k.jsx(Me,{children:"Dokumentene du laster opp vil bli lagt ved søknaden din. Du må velge hva dokumentene inneholder for at saksbehandlerene i NAV skal kunne behandle saken din."}),k.jsx(me,{children:"Du kan laste opp dokumenter i formatene pdf, png og jpg."}),k.jsx(ye,{target:"_blank",href:"https://www.nav.no/brukerstotte#sende-soknad-pa-nett",children:"Les om hvordan du kan ta bilde av dokumenter med mobilen"}),k.jsx(et,{className:r.element("select"),label:"Hva inneholder dokumentene dine?",onChange:N=>P(en(N.target.value)),children:we(t,O)}),g!==X&&k.jsx(Ve,{updateAttachments:G,attachmentType:ze.MORS_AKTIVITET_DOKUMENTASJON,skjemanummer:g,existingAttachments:L,saveAttachment:qe(oe.REST_API_URL,Qt(O.ytelse)),skjemanummerTextMap:O?ke(O).reduce((N,j)=>({...N,[j]:t.formatMessage({id:`ettersendelse.${j}`})}),{}):void 0}),L&&L.length>0&&L.length<=40&&k.jsx(Fe,{children:k.jsx(Be,{type:"submit",icon:k.jsx(qt,{"aria-hidden":!0}),loading:o||K,disabled:o||K,children:"Legg ved sak"})}),L&&L.length>40&&k.jsx(Je,{children:"Du kan bare laste opp 40 dokumenter på en gang. Hvis du skal laste opp flere enn 40 dokumenter kan du gjøre det i flere omganger."})]})})},An=De;we.__docgenInfo={description:"",methods:[],displayName:"getAttachmentTypeSelectOptions"};De.__docgenInfo={description:"",methods:[],displayName:"EttersendingPage"};export{Et as A,An as E,Y as I,Lt as N,ae as O,b as R,mt as a,Nt as b,dn as c,Ut as d,_n as e,En as f,Ht as g,fn as h,un as i,gn as j,bt as k,Xe as l,cn as m,vn as n,Ae as o,Yt as p,Gt as q,ln as r,mn as s,Bt as t,Ot as u,hn as v,pn as w,Sn as x,ee as y};
