import{j as f}from"./jsx-runtime-CLpGMVip.js";import{r as m,R as x}from"./index-CR__hKHy.js";import"./index-DjWdgH6H.js";import"./dates-Cs9kK9kw.js";import{D as Y,R as T}from"./DekningsgradDTO-DRRk0ium.js";import"./UttaksdagenString-BBcnJY7-.js";import{K as q,S as W,U as J,a as X}from"./UttaksplanKalender-2PBhKNZO.js";import{u as L}from"./useSelectedSak-6iVrGiER.js";import{Y as O}from"./Ytelse-7td-ciMh.js";import{c as B,d as Z,u as ee}from"./sakerUtils-ebWDps5B.js";import{u as U}from"./useQuery-D4bRZ7iC.js";import{b as te,c as ne}from"./api-i7u75HJr.js";import{c as z,m as H,V as F,H as re}from"./VStack-BsKxbgho.js";import{B as se}from"./Button-CuqaSHIm.js";import{M as w}from"./message-CzTHpKKo.js";import{c as D,B as oe,L as ae}from"./Label-uxnjPK_2.js";import{u as de,a as ie}from"./useId-BsEbCovs.js";import{u as G}from"./useClientLayoutEffect-MhY06XyY.js";import{c as R}from"./composeEventHandlers-BV8udL3-.js";import{u as le}from"./ChevronDown-Dkzsn-l9.js";var ue=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,t=Object.getOwnPropertySymbols(e);s<t.length;s++)n.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(r[t[s]]=e[t[s]]);return r};const ce=m.forwardRef((e,n)=>{var{title:r,titleId:t}=e,s=ue(e,["title","titleId"]);let o=de();return o=r?t||"title-"+o:void 0,m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:n,"aria-labelledby":o},s),r?m.createElement("title",{id:o},r):null,m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 5.75a.25.25 0 1 0 0 .5.25.25 0 0 0 0-.5M2.25 6a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0m1.5 6a.25.25 0 1 1 .5 0 .25.25 0 0 1-.5 0M4 10.25a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5M3.75 18a.25.25 0 1 1 .5 0 .25.25 0 0 1-.5 0M4 16.25a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5m5 1a.75.75 0 0 0 0 1.5h12a.75.75 0 0 0 0-1.5zM8.25 12a.75.75 0 0 1 .75-.75h12a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75M9 5.25a.75.75 0 0 0 0 1.5h12a.75.75 0 0 0 0-1.5z",clipRule:"evenodd"}))});function K(e){return e.sort((n,r)=>{const t=n.compareDocumentPosition(r);if(t&Node.DOCUMENT_POSITION_FOLLOWING||t&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(t&Node.DOCUMENT_POSITION_PRECEDING||t&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(t&Node.DOCUMENT_POSITION_DISCONNECTED||t&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}const fe=e=>typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE;function V(e,n,r){let t=e+1;return r&&t>=n&&(t=0),t}function A(e,n,r){let t=e-1;return r&&t<0&&(t=n),t}const C=e=>e;class me{constructor(){this.descendants=new Map,this.register=n=>{if(n!=null)return fe(n)?this.registerNode(n):r=>{this.registerNode(r,n)}},this.unregister=n=>{this.descendants.delete(n);const r=K(Array.from(this.descendants.keys()));this.assignIndex(r)},this.destroy=()=>{this.descendants.clear()},this.assignIndex=n=>{this.descendants.forEach(r=>{const t=n.indexOf(r.node);r.index=t,r.node.dataset.index=r.index.toString()})},this.count=()=>this.descendants.size,this.enabledCount=()=>this.enabledValues().length,this.values=()=>Array.from(this.descendants.values()).sort((r,t)=>r.index-t.index),this.enabledValues=()=>this.values().filter(n=>!n.disabled),this.item=n=>{if(this.count()!==0)return this.values()[n]},this.enabledItem=n=>{if(this.enabledCount()!==0)return this.enabledValues()[n]},this.first=()=>this.item(0),this.firstEnabled=()=>this.enabledItem(0),this.last=()=>this.item(this.descendants.size-1),this.lastEnabled=()=>{const n=this.enabledValues().length-1;return this.enabledItem(n)},this.indexOf=n=>{var r,t;return n&&(t=(r=this.descendants.get(n))===null||r===void 0?void 0:r.index)!==null&&t!==void 0?t:-1},this.enabledIndexOf=n=>n==null?-1:this.enabledValues().findIndex(r=>r.node.isSameNode(n)),this.next=(n,r=!0)=>{const t=V(n,this.count(),r);return this.item(t)},this.nextEnabled=(n,r=!0)=>{const t=this.item(n);if(!t)return;const s=this.enabledIndexOf(t.node),o=V(s,this.enabledCount(),r);return this.enabledItem(o)},this.prev=(n,r=!0)=>{const t=A(n,this.count()-1,r);return this.item(t)},this.prevEnabled=(n,r=!0)=>{const t=this.item(n);if(!t)return;const s=this.enabledIndexOf(t.node),o=A(s,this.enabledCount()-1,r);return this.enabledItem(o)},this.registerNode=(n,r)=>{if(!n)return;const t=this.descendants.get(n);if(t){this.descendants.set(n,Object.assign({index:t.index,node:n},r));return}const s=Array.from(this.descendants.keys()).concat(n),o=K(s);r!=null&&r.disabled&&(r.disabled=!!r.disabled);const d=Object.assign({node:n,index:-1},r);this.descendants.set(n,d),this.assignIndex(o)}}}function ge(){const[e,n]=z({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"}),r=C(o=>x.createElement(e,Object.assign({},o.value),o.children));function t(o){const d=n(),[u,i]=m.useState(-1),l=m.useRef(null);G(()=>()=>{l.current&&d.unregister(l.current)},[]),G(()=>{if(!l.current)return;const a=Number(l.current.dataset.index);u!==a&&!Number.isNaN(a)&&i(a)});const p=C(o?d.register(o):d.register);return{descendants:d,index:u,enabledIndex:d.enabledIndexOf(l.current),register:H([p,l])}}function s(){return m.useRef(new me).current}return[r,n,s,t]}m.createContext(null);const[he,qe,pe,be]=ge(),[Ee,$]=z({name:"ToggleGroupContext",hookName:"useToggleGroupContext",providerName:"ToggleGroupProvider",errorMessage:"<ToggleGroup.Item> needs to be wrapped within <ToggleGroup>"});function xe({value:e,disabled:n=!1,onFocus:r,onClick:t,onKeyDown:s},o){const{setSelectedValue:d,setFocusedValue:u,selectedValue:i,focusedValue:l}=$(),{register:p,descendants:a}=be({disabled:n,value:e}),b=e===i,E=()=>u(e),y=m.useCallback(g=>{const v=a.values().findIndex(c=>c.value===l),S={ArrowLeft:()=>{var c;const h=a.prevEnabled(v,!1);(c=h==null?void 0:h.node)===null||c===void 0||c.focus()},ArrowRight:()=>{var c;const h=a.nextEnabled(v,!1);(c=h==null?void 0:h.node)===null||c===void 0||c.focus()},Home:()=>{var c;const h=a.firstEnabled();(c=h==null?void 0:h.node)===null||c===void 0||c.focus()},End:()=>{var c;const h=a.lastEnabled();(c=h==null?void 0:h.node)===null||c===void 0||c.focus()}},I=g.shiftKey||g.ctrlKey||g.altKey||g.metaKey,N=S[g.key];N&&!I?(g.preventDefault(),N(g)):g.key==="Tab"&&i&&setTimeout(()=>u(i))},[a,l,i,u]);return{ref:H([p,o]),isSelected:b,isFocused:l===e,onClick:R(t,()=>i!==e&&d(e)),onFocus:n?void 0:R(r,E),onKeyDown:R(s,y)}}var ye=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,t=Object.getOwnPropertySymbols(e);s<t.length;s++)n.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(r[t[s]]=e[t[s]]);return r};const ve=m.forwardRef((e,n)=>{var{className:r,children:t,icon:s,label:o,value:d,onClick:u,onFocus:i,onKeyDown:l}=e,p=ye(e,["className","children","icon","label","value","onClick","onFocus","onKeyDown"]);const a=xe({value:d,onClick:u,onFocus:i,disabled:!1,onKeyDown:l},n),b=$();return x.createElement("button",Object.assign({},p,{ref:a.ref,className:D("navds-toggle-group__button",r),type:"button",role:"radio","aria-checked":a.isSelected,"data-selected":a.isSelected,tabIndex:a.isFocused?0:-1,onClick:a.onClick,onFocus:a.onFocus,onKeyDown:a.onKeyDown}),x.createElement(oe,{as:"span",className:"navds-toggle-group__button-inner",size:b==null?void 0:b.size},t??x.createElement(x.Fragment,null,s,o)))});function Oe({onChange:e,value:n,defaultValue:r=""}){const[t,s]=m.useState(r),[o,d]=le({defaultValue:r,value:n,onChange:e});return m.useEffect(()=>{n!=null&&s(n)},[n]),{selectedValue:o,setSelectedValue:d,focusedValue:t,setFocusedValue:s}}var Ne=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,t=Object.getOwnPropertySymbols(e);s<t.length;s++)n.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(r[t[s]]=e[t[s]]);return r};const P=m.forwardRef((e,n)=>{var{className:r,children:t,onChange:s,size:o="medium",label:d,value:u,defaultValue:i,"aria-describedby":l,variant:p="action",fill:a=!1}=e,b=Ne(e,["className","children","onChange","size","label","value","defaultValue","aria-describedby","variant","fill"]);const E=pe(),y=Oe({defaultValue:i,value:u,onChange:s}),g=Object.assign(Object.assign({},y),{size:o}),v=ie();return!u&&!i&&console.error("ToggleGroup without value or defaultvalue is not allowed"),!u&&!i&&console.error("ToggleGroup needs either a value or defaultValue"),x.createElement(he,{value:E},x.createElement(Ee,Object.assign({},g),x.createElement("div",{className:D("navds-toggle-group__wrapper",r,{"navds-toggle-group__wrapper--fill":a})},d&&x.createElement(ae,{size:o,className:"navds-toggle-group__label",id:v},d),x.createElement("div",Object.assign({},b,{ref:n,className:D("navds-toggle-group",`navds-toggle-group--${o}`,`navds-toggle-group--${p}`),"aria-describedby":D(l,!!d&&v)||void 0,role:"radiogroup"}),t))))});P.Item=ve;const Te=typeof window<"u"&&window.matchMedia===void 0,Ie=(e,n)=>{const[r,t]=m.useState(n);return m.useEffect(()=>{if(Te)return;const s=window.matchMedia(e);t(s.matches);const o=d=>{t(d.matches)};return s.addEventListener("change",o),()=>{s.removeEventListener("change",o)}},[e]),r};function De(e){var o,d,u;const n=(e==null?void 0:e.ytelse)===O.FORELDREPENGER?B(e.familiehendelse):void 0,r=(e==null?void 0:e.ytelse)===O.FORELDREPENGER?(o=e.annenPart)==null?void 0:o.fnr:void 0,t=(e==null?void 0:e.ytelse)===O.FORELDREPENGER?(u=(d=e.barn)==null?void 0:d.find(i=>i.fnr!==void 0))==null?void 0:u.fnr:void 0,s=(e==null?void 0:e.ytelse)===O.FORELDREPENGER;return U({...te({annenPartFødselsnummer:r,barnFødselsnummer:t,familiehendelse:n}),enabled:s})}const Q=()=>{const e=L();return e&&e.ytelse===O.FORELDREPENGER?f.jsx(Pe,{sak:e}):null},Pe=({sak:e})=>{var i,l,p,a,b;const n=((i=De(e).data)==null?void 0:i.perioder)??[],r=U(ne({brukerrolle:e.forelder==="MOR"?"MOR":"FAR",morHarUføretrygd:e.morUføretrygd,rettighetstype:e.rettighetType,omsorgsovertakelseDato:e.familiehendelse.omsorgsovertakelse,antallBarn:e.familiehendelse.antallBarn,termindato:e.familiehendelse.termindato,fødselsdato:e.familiehendelse.omsorgsovertakelse?void 0:e.familiehendelse.fødselsdato})),t=e.dekningsgrad===Y.HUNDRE_PROSENT?(l=r.data)==null?void 0:l["100"]:(p=r.data)==null?void 0:p["80"];if(!t)return null;const s=(a=e.gjeldendeVedtak)==null?void 0:a.perioder,o=(b=e.åpenBehandling)==null?void 0:b.søknadsperioder,u=[...s??o??[],...n].filter(E=>{var g;return!E.resultat?!0:(g=E.resultat)==null?void 0:g.innvilget});return f.jsx(q,{konto:t,perioder:u,rettighetType:e.rettighetType,forelder:e.forelder})};Q.__docgenInfo={description:"",methods:[],displayName:"KvoteOversikt"};const je=({annenPartsPerioder:e,navnPåForeldre:n})=>{var I,N;const r=L(),t=Ie("screen and (min-width: 768px)"),[s,o]=m.useState(!1);if(!r||r.ytelse!==O.FORELDREPENGER)return null;const d=(I=r.gjeldendeVedtak)==null?void 0:I.perioder,u=(N=r.åpenBehandling)==null?void 0:N.søknadsperioder,i=r.familiehendelse,l=r.sakTilhørerMor,p=r.gjelderAdopsjon,a=r.rettighetType,b=d??u??[],E=!l,y=a===T.BARE_SØKER_RETT&&!l,g=a===T.BEGGE_RETT,v=l&&(T.BEGGE_RETT||T.BARE_SØKER_RETT),M=a===T.ALENEOMSORG,j=!g&&!v&&!M,k=B(i),_=Z(i,p),S=ee(i,p);return f.jsxs(F,{gap:"10",children:[f.jsx(re,{children:f.jsx(se,{className:"mt-4",size:t?"small":"medium",variant:"secondary",onClick:()=>window.location.href="https://www.nav.no/foreldrepenger/soknad",children:f.jsx(w,{id:"DinPlan.EndrePlan"})})}),f.jsxs(F,{gap:"10",children:[f.jsxs(P,{defaultValue:s?"kalender":"plan",onChange:c=>o(c==="kalender"),fill:!0,children:[f.jsx(P.Item,{value:"plan",icon:f.jsx(ce,{"aria-hidden":!0}),label:f.jsx(w,{id:"DinPlan.Liste"})}),f.jsx(P.Item,{value:"kalender",icon:f.jsx(W,{"aria-hidden":!0}),label:f.jsx(w,{id:"DinPlan.Kalender"})})]}),!s&&f.jsxs(f.Fragment,{children:[f.jsx(J,{barn:_,erFarEllerMedmor:E,familiehendelsedato:k,navnPåForeldre:n,annenPartsPerioder:e,søkersPerioder:b,gjelderAdopsjon:p,bareFarHarRett:y,familiesituasjon:S,førsteUttaksdagNesteBarnsSak:void 0,harAktivitetskravIPeriodeUtenUttak:j}),f.jsx(Q,{})]}),s&&f.jsx(X,{bareFarHarRett:y,barn:_,erFarEllerMedmor:E,harAktivitetskravIPeriodeUtenUttak:j,søkersPerioder:b,annenPartsPerioder:e,navnAnnenPart:E?n.mor:n.farMedmor})]})]})};je.__docgenInfo={description:"",methods:[],displayName:"DinPlan",props:{navnPåForeldre:{required:!0,tsType:{name:"NavnPåForeldre"},description:""},annenPartsPerioder:{required:!0,tsType:{name:"Array",elements:[{name:"SaksperiodeNy"}],raw:"SaksperiodeNy[]"},description:""}}};export{je as D,De as u};
