import{c as z,k as Oe,f as me,o as Ie,E as Ne,d as D,m as Le,n as ye,p as be,q as Ge,i as W,j as w,V as de,B as Fe,L as Me,g as Pe,e as je}from"./index-4MA4FQk-.js";import{r as k,R as P,c as Ke,g as Ve}from"./index-BBkUAzwr.js";import{u as Be,A as le,F as pe,a as xe,B as Ue}from"./stepFooter-CRDOZNj7.js";import{u as He,d as Ce,e as $e,S as h,f as Ye,g as We,L as ze,A as qe,h as Je,G as Ze}from"./attachmentApi-na9b4ku7.js";import{C as Xe,E as oe,Y as j}from"./Ytelse-BM8k70hp.js";import{u as Qe}from"./useId-4vqqPgaI.js";function et(e){k.useEffect(()=>{const t=document.title;return document.title=e,()=>{document.title=t}},[e])}var tt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const nt=k.forwardRef((e,t)=>{const{inputProps:n,errorId:r,showErrorMsg:o,hasError:m,size:u,inputDescriptionId:g,readOnly:_}=He(e,"select"),{children:v,label:f,className:I,description:R,htmlSize:N,hideLabel:F=!1,style:V}=e,U=tt(e,["children","label","className","description","htmlSize","hideLabel","style"]),L={onMouseDown:G=>{_&&(G.preventDefault(),G.target.focus())},onKeyDown:G=>{_&&["ArrowDown","ArrowUp","ArrowRight","ArrowLeft"," "].includes(G.key)&&G.preventDefault()}};return P.createElement("div",{className:z(I,"navds-form-field",`navds-form-field--${u}`,{"navds-form-field--disabled":!!n.disabled,"navds-form-field--readonly":_,"navds-select--error":m,"navds-select--readonly":_})},P.createElement(Oe,{htmlFor:n.id,size:u,className:z("navds-form-field__label",{"navds-sr-only":F})},P.createElement(Ce,{readOnly:_,nativeReadOnly:!1}),f),!!R&&P.createElement(me,{className:z("navds-form-field__description",{"navds-sr-only":F}),id:g,size:u,as:"div"},R),P.createElement("div",{className:"navds-select__container",style:V},P.createElement("select",Object.assign({},Ie(U,["error","errorId","size","readOnly"]),n,L,{ref:t,className:z("navds-select__input","navds-body-short",`navds-body-short--${u??"medium"}`),size:N}),v),P.createElement(Xe,{className:"navds-select__chevron","aria-hidden":!0})),P.createElement("div",{className:"navds-form-field__error",id:r,"aria-relevant":"additions removals","aria-live":"polite"},o&&P.createElement(Ne,{size:u},e.error)))}),rt=nt;var b=(e=>(e.UNFETCHED="Unfetched",e.IN_PROGRESS="InProgress",e.FINISHED="Finished",e))(b||{});const st=oe.REST_API_URL,ee=$e.create({baseURL:st}),J=e=>(ee.interceptors.request.use(t=>(t.timeout=60*1e3,e&&(t.headers.fnr=e),t)),ee.interceptors.response.use(t=>t,t=>Promise.reject(t)),ee),he=()=>{window.location.href=oe.LOGIN_URL+"?redirect="+window.location.origin},Se={config:{},isSuspended:!1},B=(e,t=Se,n)=>{const[r,o]=k.useState(),[m,u]=k.useState(null),[g,_]=k.useState(b.UNFETCHED),v=J(n);return k.useEffect(()=>{!t.isSuspended&&g===b.UNFETCHED&&(_(b.IN_PROGRESS),v.get(e,t.config).then(f=>{f.data===""?o(void 0):o(f.data),_(b.FINISHED)}).catch(f=>{f.response&&(f.response.status===401||f.response.status===403)?he():u(f),_(b.FINISHED)}))},[t,e,v,g]),{data:r,error:m,requestStatus:g}},ot=(e,t,n=Se)=>{const[r,o]=k.useState(),[m,u]=k.useState(null),[g,_]=k.useState(b.UNFETCHED),v=n.fnr?J(n.fnr):J();return k.useEffect(()=>{!n.isSuspended&&g===b.UNFETCHED&&(_(b.IN_PROGRESS),v.post(e,t,n.config).then(f=>{f.data===""?o(void 0):o(f.data),_(b.FINISHED)}).catch(f=>{f.response&&(f.response.status===401||f.response.status===403)?he():u(f),_(b.FINISHED)}))},[n,e,v,g,t]),{data:r,error:m,requestStatus:g}},at=()=>{const{data:e,error:t}=B("/sokerinfo",{config:{withCredentials:!0}});return{søkerinfoData:e,søkerinfoError:t}},it=e=>{const{data:t,error:n}=B("/innsyn/v2/saker",{config:{withCredentials:!0},isSuspended:e});return{sakerData:t,sakerError:n}},dt=()=>{const{data:e,error:t}=B("/storage/aktive",{config:{withCredentials:!0},isSuspended:!0});return{storageData:e,storageError:t}},lt=(e,t,n,r)=>{const o={annenPartFødselsnummer:e,barnFødselsnummer:t,familiehendelse:n},{data:m,error:u,requestStatus:g}=ot("/innsyn/v2/annenPartVedtak",o,{config:{withCredentials:!0},isSuspended:r});return u&&u.message.includes("Ugyldig ident")?{annenPartsVedtakData:void 0,annenPartsVedtakError:void 0,annenPartsVedtakRequestStatus:b.FINISHED}:{annenPartsVedtakData:m,annenPartsVedtakError:u,annenPartsVedtakRequestStatus:g}},ct=e=>{const{data:t,error:n,requestStatus:r}=B("/dokument/alle",{config:{withCredentials:!0,params:{saksnummer:e}}});return{dokumenterData:t,dokumenterError:n,dokumenterStatus:r}},ut=e=>{const{data:t,error:n}=B("/innsyn/tidslinje",{config:{withCredentials:!0,params:{saksnummer:e}}});return{tidslinjeHendelserData:t,tidslinjeHendelserError:n}},ft=()=>{const{data:e,error:t}=B("/minidialog",{config:{withCredentials:!0}});return{minidialogData:e,minidialogError:t}},Et=e=>{const{data:t,error:n}=B("/historikk/vedlegg",{config:{withCredentials:!0,params:{saksnummer:e}}});return{manglendeVedleggData:t,manglendeVedleggError:n}},gt=(e,t)=>J(t).post("/soknad/ettersend",e,{timeout:30*1e3,withCredentials:!0}),mt=()=>{const{data:e,error:t}=B("/innsyn/v2/saker/oppdatert",{config:{withCredentials:!0}});return{oppdatertData:e,oppdatertError:t}},pt={useSøkerinfo:at,useGetSaker:it,useGetDokumenter:ct,useGetAnnenPartsVedtak:lt,useGetTidslinjeHendelser:ut,useGetMinidialog:ft,useGetManglendeVedlegg:Et,useErSakOppdatert:mt,useGetMellomlagretSøknad:dt,sendEttersending:gt};var O={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1,STORYBOOK:"true"};let ht=0;function St(e,t){const n=`atom${++ht}`,r={toString:()=>n};return typeof e=="function"?r.read=e:(r.init=e,r.read=vt,r.write=_t),t&&(r.write=t),r}function vt(e){return e(this)}function _t(e,t,n){return t(this,typeof n=="function"?n(e(this)):n)}const te=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,ne=e=>"init"in e,re=e=>!!e.write,Z=new WeakMap,kt=(e,t)=>{Z.set(e,t),e.catch(()=>{}).finally(()=>Z.delete(e))},ce=(e,t)=>{const n=Z.get(e);n&&(Z.delete(e),n(t))},ue=(e,t)=>{e.status="fulfilled",e.value=t},fe=(e,t)=>{e.status="rejected",e.reason=t},At=e=>typeof(e==null?void 0:e.then)=="function",C=(e,t)=>!!e&&"v"in e&&"v"in t&&Object.is(e.v,t.v),Ee=(e,t)=>!!e&&"e"in e&&"e"in t&&Object.is(e.e,t.e),x=e=>!!e&&"v"in e&&e.v instanceof Promise,Tt=(e,t)=>"v"in e&&"v"in t&&e.v.orig&&e.v.orig===t.v.orig,q=e=>{if("e"in e)throw e.e;return e.v},wt=()=>{const e=new WeakMap,t=new WeakMap,n=[],r=new WeakMap;let o,m;(O?"production":void 0)!=="production"&&(o=new Set,m=new Set);const u=s=>e.get(s),g=(s,l)=>{l.d.forEach((E,c)=>{var d;if(!r.has(c)){const a=u(c);(d=n[n.length-1])==null||d.add(c),r.set(c,[a,new Set]),a&&g(c,a)}r.get(c)[1].add(s)})},_=(s,l)=>{var E;(O?"production":void 0)!=="production"&&Object.freeze(l);const c=u(s);if(e.set(s,l),r.has(s)||((E=n[n.length-1])==null||E.add(s),r.set(s,[c,new Set]),g(s,l)),x(c)){const d="v"in l?l.v instanceof Promise?l.v:Promise.resolve(l.v):Promise.reject(l.e);c.v!==d&&ce(c.v,d)}},v=(s,l,E,c)=>{const d=new Map(c?l.d:null);let a=!1;E.forEach((i,p)=>{!i&&te(s,p)&&(i=l),i?(d.set(p,i),l.d.get(p)!==i&&(a=!0)):(O?"production":void 0)!=="production"&&console.warn("[Bug] atom state not found")}),(a||l.d.size!==d.size)&&(l.d=d)},f=(s,l,E,c)=>{const d=u(s),a={d:(d==null?void 0:d.d)||new Map,v:l};if(E&&v(s,a,E,c),C(d,a)&&d.d===a.d)return d;if(x(d)&&x(a)&&Tt(d,a)){if(d.d===a.d)return d;a.v=d.v}return _(s,a),a},I=(s,l,E,c)=>{if(At(l)){let d;const a=()=>{const p=u(s);if(!x(p)||p.v!==i)return;const A=f(s,i,E);t.has(s)&&p.d!==A.d&&K(s,A,p.d)},i=new Promise((p,A)=>{let S=!1;l.then(T=>{S||(S=!0,ue(i,T),p(T),a())},T=>{S||(S=!0,fe(i,T),A(T),a())}),d=T=>{S||(S=!0,T.then(M=>ue(i,M),M=>fe(i,M)),p(T))}});return i.orig=l,i.status="pending",kt(i,p=>{p&&d(p),c==null||c()}),f(s,i,E,!0)}return f(s,l,E)},R=(s,l,E)=>{const c=u(s),d={d:(c==null?void 0:c.d)||new Map,e:l};return E&&v(s,d,E),Ee(c,d)&&c.d===d.d?c:(_(s,d),d)},N=(s,l)=>{const E=u(s);if(!l&&E&&(t.has(s)||Array.from(E.d).every(([S,T])=>{if(S===s)return!0;const M=N(S);return M===T||C(M,T)})))return E;const c=new Map;let d=!0;const a=S=>{if(te(s,S)){const M=u(S);if(M)return c.set(S,M),q(M);if(ne(S))return c.set(S,void 0),S.init;throw new Error("no atom init")}const T=N(S);return c.set(S,T),q(T)};let i,p;const A={get signal(){return i||(i=new AbortController),i.signal},get setSelf(){return(O?"production":void 0)!=="production"&&!re(s)&&console.warn("setSelf function cannot be used with read-only atom"),!p&&re(s)&&(p=(...S)=>{if((O?"production":void 0)!=="production"&&d&&console.warn("setSelf function cannot be called in sync"),!d)return L(s,...S)}),p}};try{const S=s.read(a,A);return I(s,S,c,()=>i==null?void 0:i.abort())}catch(S){return R(s,S,c)}finally{d=!1}},F=s=>q(N(s)),V=s=>{const l=i=>{var p,A;const S=new Set((p=t.get(i))==null?void 0:p.t);return(A=r.get(i))==null||A[1].forEach(T=>{S.add(T)}),S},E=new Array,c=new Set,d=i=>{if(!c.has(i)){c.add(i);for(const p of l(i))i!==p&&d(p);E.push(i)}};d(s);const a=new Set([s]);for(let i=E.length-1;i>=0;--i){const p=E[i],A=u(p);if(!A)continue;let S=!1;for(const T of A.d.keys())if(T!==p&&a.has(T)){S=!0;break}if(S){const T=N(p,!0);C(A,T)||a.add(p)}}},U=(s,...l)=>{const E=a=>q(N(a)),c=(a,...i)=>{const p=n.length>0;p||n.push(new Set([a]));let A;if(te(s,a)){if(!ne(a))throw new Error("atom not writable");const S=u(a),T=I(a,i[0]);C(S,T)||V(a)}else A=U(a,...i);if(!p){const S=H(n.pop());(O?"production":void 0)!=="production"&&o.forEach(T=>T({type:"async-write",flushed:S}))}return A};return s.write(E,c,...l)},L=(s,...l)=>{n.push(new Set([s]));const E=U(s,...l),c=H(n.pop());return(O?"production":void 0)!=="production"&&o.forEach(d=>d({type:"write",flushed:c})),E},G=(s,l,E)=>{var c;const d=t.get(s);if(d)return l&&d.t.add(l),d;const a=E||[];(c=u(s))==null||c.d.forEach((p,A)=>{A!==s&&G(A,s,a)}),N(s);const i={t:new Set(l&&[l]),l:new Set};if(t.set(s,i),(O?"production":void 0)!=="production"&&m.add(s),re(s)&&s.onMount){const{onMount:p}=s;a.push(()=>{const A=p((...S)=>L(s,...S));A&&(i.u=A)})}return E||a.forEach(p=>p()),i},Q=(s,l)=>!l.l.size&&(!l.t.size||l.t.size===1&&l.t.has(s)),y=(s,l)=>{if(!Q(s,l))return;const E=l.u;E&&E(),t.delete(s),(O?"production":void 0)!=="production"&&m.delete(s);const c=u(s);c?(x(c)&&ce(c.v),c.d.forEach((d,a)=>{if(a!==s){const i=t.get(a);i&&(i.t.delete(s),y(a,i))}})):(O?"production":void 0)!=="production"&&console.warn("[Bug] could not find atom state to unmount",s)},K=(s,l,E)=>{const c=new Set(l.d.keys()),d=new Set;E==null||E.forEach((a,i)=>{if(c.has(i)){c.delete(i);return}d.add(i);const p=t.get(i);p&&p.t.delete(s)}),c.forEach(a=>{G(a,s)}),d.forEach(a=>{const i=t.get(a);i&&y(a,i)})},H=s=>{let l;(O?"production":void 0)!=="production"&&(l=new Set);const E=[],c=d=>{var a;if(!r.has(d))return;const[i,p]=r.get(d);r.delete(d),E.push([d,i]),p.forEach(c),(a=u(d))==null||a.d.forEach((A,S)=>c(S))};if(s.forEach(c),E.forEach(([d,a])=>{const i=u(d);if(!i){(O?"production":void 0)!=="production"&&console.warn("[Bug] no atom state to flush");return}if(i!==a){const p=t.get(d);p&&i.d!==(a==null?void 0:a.d)&&K(d,i,a==null?void 0:a.d),p&&!(!x(a)&&(C(a,i)||Ee(a,i)))&&(p.l.forEach(A=>A()),(O?"production":void 0)!=="production"&&l.add(d))}}),(O?"production":void 0)!=="production")return l},ie=(s,l)=>{const E=G(s),c=H([s]),d=E.l;return d.add(l),(O?"production":void 0)!=="production"&&o.forEach(a=>a({type:"sub",flushed:c})),()=>{d.delete(l),y(s,E),(O?"production":void 0)!=="production"&&o.forEach(a=>a({type:"unsub"}))}};return(O?"production":void 0)!=="production"?{get:F,set:L,sub:ie,dev_subscribe_store:(s,l)=>{if(l!==2)throw new Error("The current StoreListener revision is 2.");return o.add(s),()=>{o.delete(s)}},dev_get_mounted_atoms:()=>m.values(),dev_get_atom_state:s=>e.get(s),dev_get_mounted:s=>t.get(s),dev_restore_atoms:s=>{n.push(new Set);for(const[E,c]of s)ne(E)&&(I(E,c),V(E));const l=H(n.pop());o.forEach(E=>E({type:"restore",flushed:l}))}}:{get:F,set:L,sub:ie}};let $;const Dt=()=>($||($=wt(),(O?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=$),globalThis.__JOTAI_DEFAULT_STORE__!==$&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),$);var Rt={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1,STORYBOOK:"true"};const Ot=k.createContext(void 0),ve=e=>{const t=k.useContext(Ot);return(e==null?void 0:e.store)||t||Dt()},It=e=>typeof(e==null?void 0:e.then)=="function",Nt=P.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)});function Lt(e,t){const n=ve(t),[[r,o,m],u]=k.useReducer(v=>{const f=n.get(e);return Object.is(v[0],f)&&v[1]===n&&v[2]===e?v:[f,n,e]},void 0,()=>[n.get(e),n,e]);let g=r;(o!==n||m!==e)&&(u(),g=n.get(e));const _=t==null?void 0:t.delay;return k.useEffect(()=>{const v=n.sub(e,()=>{if(typeof _=="number"){setTimeout(u,_);return}u()});return u(),v},[n,e,_]),k.useDebugValue(g),It(g)?Nt(g):g}function yt(e,t){const n=ve(t);return k.useCallback((...o)=>{if((Rt?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return n.set(e,...o)},[n,e])}var ae=(e=>(e.HOVEDSIDE="/",e.SAKSOVERSIKT="/sak",e.DIN_PLAN="din-plan",e.DOKUMENTER="dokumenter",e.ETTERSEND="ettersend",e.TIDSLINJEN="tidslinjen",e.OPPGAVER="oppgaver",e))(ae||{}),bt=(e=>(e.SAKSBEHANDLINGSTIDER="https://www.nav.no/saksbehandlingstider",e.SAKSBEHANDLINGSTIDER_FP="https://www.nav.no/saksbehandlingstider#foreldrepenger",e.SAKSBEHANDLINGSTIDER_SVP="https://www.nav.no/saksbehandlingstider#svangerskapspenger",e.SAKSBEHANDLINGSTIDER_ES="https://www.nav.no/saksbehandlingstider#engangsstonad",e.KLAGERETTIGHETER="https://www.nav.no/klage",e.KLAGERETTIGHETER_FP="https://www.nav.no/klage#foreldrepenger",e.KLAGERETTIGHETER_SVP="https://www.nav.no/klage#svangerskapspenger",e.KLAGERETTIGHETER_ES="https://www.nav.no/klage#engangsstonad",e.CHAT_MED_OSS="https://www.nav.no/person/kontakt-oss/chat/familie",e.SKRIV_TIL_OSS="https://innboks.nav.no/s/skriv-til-oss?category=Familie",e.RING_OSS="tel:55553333",e.SE_FLERE_TLF_NR_OG_TASTEVALG="https://www.nav.no/kontaktoss#ring-oss",e.LES_MER_OM_VÅRE_PENGESTØTTER="https://www.nav.no/barn",e.LES_MER_OM_FORELDREPENGER="https://www.nav.no/foreldrepenger",e.LES_MER_OM_SVANGERSKAPSPENGER="https://familie.nav.no/om-svangerskapspenger",e.LES_MER_OM_ENGANGSTØNAD="https://familie.nav.no/om-engangsstonad",e.MELD_FRA_OM_ENDRINGER="https://www.nav.no/no/nav-og-samfunn/om-nav/relatert-informasjon/du-har-plikt-til-a-gi-nav-riktige-opplysninger",e.VENT_INNTEKTSMELDING="https://www.nav.no/arbeidsgiver/inntektsmelding",e.VENT_MELDEKORT="https://www.nav.no/no/person/arbeid/dagpenger-ved-arbeidsloshet-og-permittering/meldekort-hvordan-gjor-du-det",e.SØKNADSFRISTER="https://www.nav.no/foreldrepenger#soknadsfrister",e.FORELDREPENGESOKNAD="https://foreldrepengesoknad.nav.no",e.HVOR_LENGE="https://www.nav.no/foreldrepenger#hvor-lenge",e))(bt||{});const _e=St(ae.HOVEDSIDE),En=()=>Lt(_e),Gt=e=>{const t=yt(_e);k.useEffect(()=>{t(e)},[t,e])};var ke={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Ke,function(){var n="day";return function(r,o,m){var u=function(v){return v.add(4-v.isoWeekday(),n)},g=o.prototype;g.isoWeekYear=function(){return u(this).year()},g.isoWeek=function(v){if(!this.$utils().u(v))return this.add(7*(v-this.isoWeek()),n);var f,I,R,N,F=u(this),V=(f=this.isoWeekYear(),I=this.$u,R=(I?m.utc:m)().year(f).startOf("year"),N=4-R.isoWeekday(),R.isoWeekday()>4&&(N+=7),R.add(N,n));return F.diff(V,"week")+1},g.isoWeekday=function(v){return this.$utils().u(v)?this.day()||7:this.day(this.day()%7?v:v-7)};var _=g.startOf;g.startOf=function(v,f){var I=this.$utils(),R=!!I.u(f)||f;return I.p(v)==="isoweek"?R?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):_.bind(this)(v,f)}}})})(ke);var Ft=ke.exports;const Mt=Ve(Ft);D.extend(Le);D.extend(Mt);D.extend(ye);D.extend(be);const Pt=(e,t)=>D(e).format(t||"dddd D. MMMM YYYY"),gn=e=>Pt(e,"KL.HH:mm"),mn=e=>e.format("MMM").substr(0,3),jt=e=>{const t=Math.floor(e/5);return{dager:e-t*5,uker:t}},pn=(e,t,n="full")=>{const{uker:r,dager:o}=jt(Math.abs(e)),m=t.formatMessage({id:"varighet.dager"},{dager:o});if(r===0)return m;const u=t.formatMessage({id:"varighet.uker"},{uker:r});if(o>0){const g=n==="full"?t.formatMessage({id:"varighet.separator--full"}):t.formatMessage({id:"varighet.separator--normal"});return`${u}${g}${m}`}return u},Kt=e=>e.fom!==void 0&&e.tom!==void 0&&D(e.fom).isSameOrBefore(e.tom,"day"),ge=e=>D(e).isoWeekday(),Vt=e=>ge(e)!==6&&ge(e)!==7,hn=e=>{if(!Kt(e))return 0;let t=D(e.fom);const n=D(e.tom);let r=0;for(;t.isSameOrBefore(n,"day");)Vt(t.toDate())&&r++,t=t.add(24,"hours");return r},Y=e=>{if(e!==void 0&&Ge(e)&&D(e,"YYYY-MM-DD",!0).isValid())return D.utc(e).toDate()},Bt=(e,t)=>e===void 0||t===void 0?!1:D(e).isSameOrAfter(D(t).subtract(1,"day"),"day")&&D(e).isSameOrBefore(D(t).add(1,"day"),"day"),xt=e=>{const t=e.charAt(e.length-1).toLowerCase();return t==="s"||t==="x"||t==="z"},Sn=(e,t)=>t!=="nb"?e:xt(e)?`${e}'`:`${e}s`,vn=(e,t,n)=>{const r=!e.sakTilhørerMor;return{farMedmor:r?t:n,mor:r?n:t}},Ut=e=>!e.dødsdato,Ae=e=>[...e.engangsstønad,...e.foreldrepenger,...e.svangerskapspenger];function Ht(e,t){return D(e.fødselsdato).isAfter(t.fødselsdato,"d")?1:D(e.fødselsdato).isBefore(t.fødselsdato,"d")||e.fornavn<t.fornavn?-1:1}const _n=e=>{var t;if(e.gjeldendeVedtak&&e.gjeldendeVedtak.perioder.length>0)return Y(e.gjeldendeVedtak.perioder[0].fom);if(e.åpenBehandling&&e.åpenBehandling.søknadsperioder)return Y((t=e.åpenBehandling)==null?void 0:t.søknadsperioder[0].fom)},Ct=(e,t)=>{const n=e.ytelse===j.FORELDREPENGER,r=n&&e.barn!==void 0?e.barn.map(f=>f.fnr).flat():[],o=n&&t?t.filter(f=>r.includes(f.fnr)):[],m=Y(e.familiehendelse.fødselsdato),u=m!==void 0&&t?t.filter(f=>Bt(Y(f.fødselsdato),m)&&!(o!=null&&o.find(I=>I.fnr===f.fnr))):[],g=o.concat(u);g.sort(Ht);const _=g.filter(f=>f.fødselsdato!==void 0).map(f=>Y(f.fødselsdato));let v=[];return _&&_.length>0?v=_:m&&(v=[m]),{fornavn:g==null?void 0:g.filter(f=>f.fornavn!==void 0&&f.fornavn.trim()!=="").map(f=>[f.fornavn,f.mellomnavn!==void 0?f.mellomnavn:""].join(" ")),fødselsdatoer:v,alleBarnaLever:!!(g!=null&&g.every(f=>Ut(f)))}},kn=(e,t)=>Ae(t).reduce((r,o)=>{if(o.familiehendelse){const m=Wt(o.familiehendelse),u=r.find(g=>$t(g,m));if(u&&u.saker.push(o),u&&r.includes(u))return r;{const g=Yt(o.familiehendelse,o.gjelderAdopsjon),_={antallBarn:o.familiehendelse.antallBarn,familiehendelsedato:m,saker:[o],type:g,ytelse:o.ytelse,barn:g!=="termin"?Ct(o,e):void 0};return r.push(_),r}}else return r},[]),se=(e,t)=>t===j.ENGANGSSTØNAD?e.map(n=>({...n,ytelse:t})):t===j.SVANGERSKAPSPENGER?e.map(n=>({...n,ytelse:t})):e.map(n=>({...n,ytelse:t})),An=e=>({foreldrepenger:se(e.foreldrepenger,j.FORELDREPENGER),engangsstønad:se(e.engangsstønad,j.ENGANGSSTØNAD),svangerskapspenger:se(e.svangerskapspenger,j.SVANGERSKAPSPENGER)}),Tn=e=>{const{foreldrepenger:t,svangerskapspenger:n,engangsstønad:r}=e;return t.length+n.length+r.length},$t=(e,t)=>{const n=D(t).subtract(2,"months"),r=D(t).add(3,"weeks");if(e)return D(e.familiehendelsedato).isAfter(n)&&D(e.familiehendelsedato).isSameOrBefore(r)},Yt=(e,t)=>{if(t)return"adopsjon";const{fødselsdato:n}=e;return n?"fødsel":"termin"},Wt=e=>{const{fødselsdato:t,termindato:n,omsorgsovertakelse:r}=e;return r||t||n},wn=(e,t)=>{const n=t&&t.familiehendelse?t.familiehendelse.fødselsdato:void 0,r=e.søker.barn&&n?e.søker.barn.find(m=>D(m.fødselsdato).isSame(n,"d")):void 0,o=r&&r.annenForelder?r.annenForelder.fornavn:void 0;return o!==void 0&&o.trim()!==""?o:"Annen forelder"},zt=(e,t)=>e===1||e===0?t.formatMessage({id:"barn"}):e===2?t.formatMessage({id:"tvillinger"}):e===3?t.formatMessage({id:"trillinger"}):t.formatMessage({id:"flerlinger"}),Te=e=>{if(e===void 0)return;const t=[];if(e.forEach(n=>{t.find(o=>D(o).isSame(n,"day"))===void 0&&t.push(n)}),t.length>1){const n=t.map(m=>W(m)),r=n.slice(0,-1).join(", "),o=n[n.length-1];return`${r} og ${o}`}return W(t[0])},qt=(e,t,n,r,o)=>{const m=zt(n,r);if(n===0&&t===void 0||o==="termin")return r.formatMessage({id:"barnHeader.terminBarn"},{barnTekst:m,termindato:W(e)});if(o==="adopsjon")return r.formatMessage({id:"barnHeader.adoptertBarn"},{adopsjonsdato:W(e)});{const u=Te(t);return t!==void 0&&t.length>0?r.formatMessage({id:"barnHeader.fødtBarn"},{barnTekst:m,fødselsdatoTekst:u}):""}},Jt=e=>{if(e.length>1){const t=e.map(r=>r.trim()).slice(0,-1).join(", "),n=e[e.length-1];return`${t} og ${n}`}else return`${e[0]}`},Dn=(e,t,n,r,o,m,u)=>{if(e===void 0||e.length===0||!r)return qt(n,t,o,m,u);const g=Jt(e);if(u==="fødsel"){const _=Te(t);return`${g} født ${_}`}return u==="adopsjon"?`${g} adoptert ${W(n)}`:""};var Zt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const Xt=k.forwardRef((e,t)=>{var{title:n,titleId:r}=e,o=Zt(e,["title","titleId"]);let m=Qe();return m=n?r||"title-"+m:void 0,k.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:t,"aria-labelledby":m},o),n?k.createElement("title",{id:m},n):null,k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 13v8h2v-8h8v-2h-8V3h-2v8H3v2h8Z",fill:"currentColor"}))}),Qt=Xt,we=e=>{const t=Object.values(h);return e.ytelse===j.FORELDREPENGER?e.kanSøkeOmEndring?t.filter(tn):t.filter(en):e.ytelse===j.ENGANGSSTØNAD?t.filter(rn):t.filter(nn)},en=e=>{switch(e){case h.SKJEMA_FOR_TILRETTELEGGING_OG_OMPLASSERING:case h.DEPRECATED_TERMINBEKREFTELSE:case h.DEPRECATED_BEKREFTELSE_DELTAR_KVALIFISERINGSPROGRAM:case h.DEPRECATED_DOK_BEGRUNNELSE_SØKE_TILBAKE_I_TID:return!1;default:return!0}},tn=e=>{switch(e){case h.ANNET:case h.BEKREFTELSE_DELTAR_KVALIFISERINGSPROGRAM:case h.BEKREFTELSE_FRA_ARBEIDSGIVER:case h.BEKREFTELSE_PÅ_AVTALT_FERIE:case h.DOK_AV_ALENEOMSORG:case h.DOK_BEGRUNNELSE_SØKE_TILBAKE_I_TID:case h.DOK_DELTAKELSE_I_INTRODUKSJONSPROGRAMMET:case h.DOK_INNLEGGELSE_BARN:case h.DOK_INNLEGGELSE_MOR:case h.DOK_INNLEGGELSE_FAR:case h.DOK_SYKDOM_MOR:case h.DOK_SYKDOM_FAR:case h.DOK_UTDANNING_MOR:case h.DOK_UTDANNING_OG_ARBEID_MOR:case h.DOK_ARBEID_MOR:case h.OMSORGSOVERTAKELSE:case h.TILBAKEBETALING:case h.HV_ØVELSE:case h.NAV_TILTAK:case h.TERMINBEKREFTELSE:case h.DEPRECATED_TILBAKEBETALING:case h.DEPRECATED_KOPI_SKATTEMELDING:return!0;default:return!1}},nn=e=>{switch(e){case h.ANNET:case h.DOK_MILITÆR_SILVIL_TJENESTE:case h.INNTEKTSOPPLYSNINGER_FRILANS_ELLER_SELVSTENDIG:case h.SKJEMA_FOR_TILRETTELEGGING_OG_OMPLASSERING:case h.TILBAKEBETALING:case h.TERMINBEKREFTELSE:case h.SKATTEMELDING:case h.RESULTATREGNSKAP:return!0;default:return!1}},rn=e=>{switch(e){case h.ANNET:case h.TERMINBEKREFTELSE:case h.FØDSELSATTEST:case h.TILBAKEBETALING:return!0;default:return!1}},sn=e=>e===j.ENGANGSSTØNAD?"engangsstonad":e===j.FORELDREPENGER?"foreldrepenger":"svangerskapspenger",X="default",De=(e,t)=>t?w.jsxs(w.Fragment,{children:[w.jsx("option",{value:X,disabled:!1,hidden:!1,children:w.jsx(pe,{id:"ettersendelse.select.defaultValue"})}),we(t).map(n=>({skjemanummer:n,text:e.formatMessage({id:`ettersendelse.${n}`})})).sort((n,r)=>n.text.localeCompare(r.text)).map(({skjemanummer:n,text:r})=>w.jsx("option",{value:n,children:r},n))]}):null,on=e=>{if(e===X)return e;const t=Object.values(h).find(n=>n===e);if(t)return t;throw Error("Valgt skjemanr finnes ikke")},Re=({saker:e})=>{const t=Be();et(`${t.formatMessage({id:"lastOppDokumenter"})} - ${t.formatMessage({id:"dineForeldrepenger"})}`),Gt(ae.ETTERSEND);const n=Ye(),r=je("ettersending-page"),[o,m]=k.useState(!1),[u,g]=k.useState(!1),[_,v]=k.useState(void 0),[f,I]=k.useState(X),[R,N]=k.useState([]),[F,V]=k.useState(!1),L=Ae(e).find(y=>y.saksnummer===n.saksnummer),G=(y,K)=>{N(y),V(K)},Q=y=>{y.preventDefault(),m(!0);const K={saksnummer:L.saksnummer,type:L.ytelse,vedlegg:R};pt.sendEttersending(K).then(()=>{m(!1),g(!0)}).catch(H=>{m(!1),v("Vi klarte ikke å sende inn dokumentasjonen din. Prøv igjen senere og hvis problemet vedvarer kontakt brukerstøtte.")})};return u||_?w.jsxs(w.Fragment,{children:[w.jsx(We,{}),w.jsxs(de,{gap:"2",children:[u&&w.jsx(le,{variant:"success",children:"Dokumentene er sendt"}),_&&w.jsx(le,{variant:"error",children:_}),w.jsx(ze,{to:`/sak/${L.saksnummer}`,children:w.jsx(pe,{id:"miniDialog.kvittering.gåTilbakeTilSaken"})})]})]}):w.jsx("form",{onSubmit:Q,children:w.jsxs(de,{gap:"4",children:[w.jsx(Fe,{children:"Dokumentene du laster opp vil bli lagt ved søknaden din. Du må velge hva dokumentene inneholder for at saksbehandlerene i NAV skal kunne behandle saken din."}),w.jsx(me,{children:"Du kan laste opp dokumenter i formatene pdf, png og jpg."}),w.jsx(Me,{target:"_blank",href:"https://www.nav.no/brukerstotte#sende-soknad-pa-nett",children:"Les om hvordan du kan ta bilde av dokumenter med mobilen"}),w.jsx(rt,{className:r.element("select"),label:"Hva inneholder dokumentene dine?",onChange:y=>I(on(y.target.value)),children:De(t,L)}),f!==X&&w.jsx(xe,{updateAttachments:G,attachmentType:qe.MORS_AKTIVITET_DOKUMENTASJON,skjemanummer:f,existingAttachments:R,saveAttachment:Je(oe.REST_API_URL,sn(L.ytelse)),skjemanummerTextMap:L?we(L).reduce((y,K)=>({...y,[K]:t.formatMessage({id:`ettersendelse.${K}`})}),{}):void 0}),R&&R.length>0&&R.length<=40&&w.jsx(Pe,{children:w.jsx(Ue,{type:"submit",icon:w.jsx(Qt,{"aria-hidden":!0}),loading:o||F,disabled:o||F,children:"Legg ved sak"})}),R&&R.length>40&&w.jsx(Ze,{children:"Du kan bare laste opp 40 dokumenter på en gang. Hvis du skal laste opp flere enn 40 dokumenter kan du gjøre det i flere omganger."})]})})},Rn=Re;De.__docgenInfo={description:"",methods:[],displayName:"getAttachmentTypeSelectOptions"};Re.__docgenInfo={description:"",methods:[],displayName:"EttersendingPage"};export{pt as A,Rn as E,Y as I,bt as N,ae as O,b as R,St as a,yt as b,En as c,Yt as d,Dn as e,Ae as f,Wt as g,Sn as h,Mt as i,hn as j,pn as k,vn as l,mn as m,Gt as n,et as o,wn as p,Jt as q,Pt as r,gn as s,_n as t,Lt as u,Ct as v,Tn as w,kn as x,An as y,ee as z};
