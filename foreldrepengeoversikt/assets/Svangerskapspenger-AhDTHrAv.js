import{j as e}from"./jsx-runtime-CLpGMVip.js";import{d as h}from"./dates-C5Vjd-yy.js";import{l as E,S as M,a as z}from"./lodash-jRVyhE9m.js";import{r as p,R as N}from"./index-CR__hKHy.js";import{c as x,t as H,b as V,T as Y}from"./UttaksdagenString-B8Yb1Gis.js";import{c as O,a as C}from"./stringUtils-xBoGBqui.js";import{V as j,H as g}from"./VStack-BZkCtxmu.js";import{H as A,B as d}from"./Label-vuqQZ1tj.js";import{H as k}from"./HGrid-Bpfn9h1_.js";import{S}from"./Responsive-iNj1KCW0.js";import{S as G}from"./HeartFill-B9NHZhHv.js";import{u as w}from"./useId-CID_lvh_.js";var T=function(t,n){var a={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(a[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)n.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(a[r[s]]=t[r[s]]);return a};const $=p.forwardRef((t,n)=>{var{title:a,titleId:r}=t,s=T(t,["title","titleId"]);let o=w();return o=a?r||"title-"+o:void 0,p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:n,"aria-labelledby":o},s),a?p.createElement("title",{id:o},a):null,p.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.5 4.75a.25.25 0 0 0-.25.25v1c0 .138.112.25.25.25h5a.25.25 0 0 0 .25-.25V5a.25.25 0 0 0-.25-.25zM7.75 6a.25.25 0 0 1-.25.25h-4c-.69 0-1.25.56-1.25 1.25v4c0 .69.56 1.25 1.25 1.25h4.424c.109 0 .204-.07.24-.172a7.253 7.253 0 0 1 13.224-1.01c.1.187.356.176.362-.036V7.5c0-.69-.56-1.25-1.25-1.25h-4a.25.25 0 0 1-.25-.25V5a1.75 1.75 0 0 0-1.75-1.75h-5A1.75 1.75 0 0 0 7.75 5zm-.239 8.25c.148 0 .264.128.254.276q-.015.235-.015.474c0 1.62.531 3.116 1.43 4.323.127.172.009.427-.205.427H5c-.69 0-1.25-.56-1.25-1.25v-4a.25.25 0 0 1 .25-.25zM9.25 15a5.75 5.75 0 1 1 11.5 0 5.75 5.75 0 0 1-11.5 0M15 11.75a.75.75 0 0 1 .75.75v2.19l.78.78a.75.75 0 1 1-1.06 1.06l-1-1a.75.75 0 0 1-.22-.53v-2.5a.75.75 0 0 1 .75-.75",clipRule:"evenodd"}))});var K=function(t,n){var a={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(a[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)n.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(a[r[s]]=t[r[s]]);return a};const L=p.forwardRef((t,n)=>{var{title:a,titleId:r}=t,s=K(t,["title","titleId"]);let o=w();return o=a?r||"title-"+o:void 0,p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:n,"aria-labelledby":o},s),a?p.createElement("title",{id:o},a):null,p.createElement("path",{fill:"currentColor",d:"M10.049 2.578a.75.75 0 1 0-1.449.389l.197.737a10.65 10.65 0 0 0-6.323 5.83c-.16.364-.19.77-.087 1.153l.427 1.594a.75.75 0 0 0 .918.53l2.415-.646a.75.75 0 0 0 .456-.35l.332-.575.575.332a.75.75 0 0 0 .57.075l2.656-.712 1.432 5.348c-3.962.317-5.77 2.865-6.579 4.004q-.106.151-.19.265a.75.75 0 0 0 .762 1.18l.012-.002.037-.008.145-.031.547-.112a61 61 0 0 1 1.863-.34c1.498-.248 3.323-.489 4.735-.489s3.237.241 4.735.49a61 61 0 0 1 2.555.482l.037.008.012.003a.75.75 0 0 0 .785-1.149c-1.041-1.562-3.535-4.064-7.906-4.314l-1.534-5.723 2.657-.712a.75.75 0 0 0 .455-.35l.332-.574.575.332a.75.75 0 0 0 .57.075l2.414-.647a.75.75 0 0 0 .53-.919l-.427-1.594a1.75 1.75 0 0 0-.651-.955 10.65 10.65 0 0 0-8.393-1.888z"}))});var q=function(t,n){var a={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(a[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)n.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(a[r[s]]=t[r[s]]);return a};const J=p.forwardRef((t,n)=>{var{title:a,titleId:r}=t,s=q(t,["title","titleId"]);let o=w();return o=a?r||"title-"+o:void 0,p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:n,"aria-labelledby":o},s),a?p.createElement("title",{id:o},a):null,p.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.47 2.97a.75.75 0 0 1 .53-.22c2.018 0 3.74.242 4.95 1.15 1.269.952 1.8 2.486 1.8 4.6V9c0 1.557-.255 2.997-1.015 4.06-.796 1.115-2.05 1.69-3.735 1.69h-6c-1.685 0-2.94-.575-3.735-1.69C5.505 11.998 5.25 10.558 5.25 9V6.5A1.75 1.75 0 0 0 3.5 4.75a.75.75 0 0 1 0-1.5A3.25 3.25 0 0 1 6.75 6.5v.75h6.5V3.5a.75.75 0 0 1 .22-.53M6.75 18.5a2.75 2.75 0 1 1 5.5 0 2.75 2.75 0 0 1-5.5 0m7 0a2.75 2.75 0 1 1 5.5 0 2.75 2.75 0 0 1-5.5 0",clipRule:"evenodd"}))}),U=({svpSak:t})=>{var f,m,l;const n=!!t.åpenBehandling,a=((f=t.gjeldendeVedtak)==null?void 0:f.arbeidsforhold)??((m=t.åpenBehandling)==null?void 0:m.søknad.arbeidsforhold)??[],r=t.familiehendelse.termindato,s=((l=t.gjeldendeVedtak)==null?void 0:l.avslagÅrsak)!==void 0;if(a.length===0||!r||s)return null;const o=se(t);return e.jsxs(j,{children:[e.jsx(A,{level:"2",size:"medium",spacing:!0,children:n?"Dette har du søkt om":"Dette har du fått vedtatt"}),e.jsxs(j,{gap:"4",className:"bg-white p-4",children:[Object.values(E.groupBy(o,"fom")).map(i=>e.jsxs(N.Fragment,{children:[e.jsx(W,{perioder:i}),e.jsx("hr",{className:"text-border-divider"})]},i[0].fom)),e.jsxs(k,{gap:"2",columns:{md:"1fr 1fr 300px"},align:"center",children:[e.jsxs(d,{children:[x(H(r))," - ",x(r)]}),e.jsx(d,{children:" "}),e.jsx(re,{})]}),e.jsx("hr",{className:"text-border-divider"}),e.jsxs(k,{gap:"2",columns:{md:"1fr 1fr 300px"},align:"center",children:[e.jsx(d,{children:O(V(r))}),e.jsx(d,{children:" "}),e.jsx(te,{})]})]})]})},W=({perioder:t})=>e.jsx(k,{gap:"2",columns:{xs:"1fr 40px",md:"1fr 1fr 300px"},align:"center",children:E.sortBy(t,n=>n.aktivitet.arbeidsgiverNavn).map((n,a)=>{var i,c;const r=C(n.aktivitet.arbeidsgiverNavn)??((i=n.aktivitet.arbeidsgiver)==null?void 0:i.id)??O(n.aktivitet.type.toLowerCase()).replace("_"," "),s=a===0?`${x(n.fom)} - ${x(n.tom)}`:"",o=n.type==="HEL"?100:n.type==="INGEN"?0:n.arbeidstidprosent??0,f=Math.round(((c=n.resultat)==null?void 0:c.utbetalingsgrad)??0),m=f>0,l=f<=0&&o>0;return e.jsxs(N.Fragment,{children:[e.jsx(S,{above:"md",asChild:!0,children:e.jsxs("div",{className:"contents",children:[e.jsx(d,{className:"whitespace-nowrap",children:s}),e.jsx(d,{children:r}),m&&e.jsx(X,{prosentJobb:o,prosentSvangerskapspenger:f}),l&&e.jsx(Q,{prosentArbeid:o}),n.årsak==="FERIE"&&e.jsx(Z,{}),n.årsak==="SYKEPENGER"&&e.jsx(ee,{})]})}),e.jsx(S,{below:"md",asChild:!0,children:e.jsxs("div",{className:"contents",children:[e.jsx(d,{className:"col-span-2",children:s}),e.jsxs(j,{children:[e.jsx("strong",{children:r}),e.jsxs(d,{children:[m&&`${f} % svangerskapspenger`,n.årsak==="FERIE"&&"Ferie",n.årsak==="SYKEPENGER"&&"Sykepenger"]}),e.jsx(d,{children:`${o} % jobb`})]}),m&&e.jsx(F,{}),l&&e.jsx(B,{}),n.årsak==="FERIE"&&e.jsx(P,{}),n.årsak==="SYKEPENGER"&&e.jsx(I,{})]})})]},n.aktivitet.arbeidsgiverNavn)})}),Q=({prosentArbeid:t})=>e.jsxs(g,{wrap:!1,gap:"4",align:"center",justify:"space-between",className:"pt-2 pb-2 pl-4 pr-4 bg-deepblue-50 rounded-3xl",children:[e.jsxs(d,{children:[t," % i jobb"]}),e.jsx(B,{})]}),X=({prosentSvangerskapspenger:t,prosentJobb:n})=>e.jsxs(g,{wrap:!1,gap:"4",align:"center",justify:"space-between",className:"pt-2 pb-2 pl-4 pr-4 bg-green-100 rounded-3xl",children:[e.jsxs(j,{children:[e.jsxs(d,{children:[t," % svangerskapspenger"]}),e.jsxs(d,{children:[n," % i jobb"]})]}),e.jsx(F,{})]}),Z=()=>e.jsxs(g,{gap:"4",align:"center",justify:"space-between",className:"pt-2 pb-2 pl-4 pr-4 bg-orange-100 rounded-3xl",wrap:!1,children:[e.jsx(d,{children:"Du har ferie"}),e.jsx(P,{})]}),ee=()=>e.jsxs(g,{gap:"4",align:"center",justify:"space-between",className:"pt-2 pb-2 pl-4 pr-4 bg-orange-100 rounded-3xl",wrap:!1,children:[e.jsx(d,{children:"Du er sykmeldt"}),e.jsx(I,{})]}),re=()=>e.jsxs(g,{gap:"4",align:"center",justify:"space-between",className:"pt-2 pb-2 pl-4 pr-4 bg-purple-50 rounded-3xl",wrap:!1,children:[e.jsx(d,{children:"Du kan søke om foreldrepenger"}),e.jsx(ne,{})]}),te=()=>e.jsxs(g,{gap:"4",align:"center",justify:"space-between",className:"pt-2 pb-2 pl-4 pr-4 bg-red-50 rounded-3xl",children:[e.jsx(d,{children:"Termin"}),e.jsx(G,{fontSize:"2.5rem",className:"text-icon-danger p-05","aria-hidden":!0})]}),I=()=>e.jsx("div",{className:"rounded-3xl bg-orange-200 justify-self-end",children:e.jsx(M,{fontSize:"2.5rem",className:" text-orange-500 p-05","aria-hidden":!0})}),P=()=>e.jsx("div",{className:"rounded-3xl bg-orange-200 justify-self-end",children:e.jsx(L,{fontSize:"2.5rem",className:" text-orange-500 p-05","aria-hidden":!0})}),F=()=>e.jsx("div",{className:"rounded-3xl bg-green-200 justify-self-end",children:e.jsx(z,{fontSize:"2.5rem",className:" text-surface-success p-05","aria-hidden":!0})}),B=()=>e.jsx("div",{className:"rounded-3xl bg-deepblue-100 justify-self-end",children:e.jsx($,{fontSize:"2.5rem",className:" text-deepblue-500 p-05","aria-hidden":!0})}),ne=()=>e.jsx("div",{className:"rounded-3xl bg-purple-100 justify-self-end",children:e.jsx(J,{fontSize:"2.5rem",className:" text-purple-500 p-05","aria-hidden":!0})}),se=t=>{var f,m;const a=(((f=t.åpenBehandling)==null?void 0:f.søknad.arbeidsforhold)??((m=t.gjeldendeVedtak)==null?void 0:m.arbeidsforhold)??[]).map(l=>[...l.tilrettelegginger,...l.oppholdsperioder].map(i=>({...i,arbeidstidprosent:"arbeidstidprosent"in i?i.arbeidstidprosent:void 0,resultat:"resultat"in i?i.resultat:void 0,type:"type"in i?i.type:void 0,årsak:"årsak"in i?i.årsak:void 0,fom:i.fom,tom:i.tom,aktivitet:l.aktivitet,behovFrom:l.behovFrom,avslutningÅrsak:l.avslutningÅrsak}))).flat().sort((l,i)=>l.fom.localeCompare(i.fom)),r=[],s=[...a];let o=0;for(;s.length>0;){const l=s.shift();if(!l)break;const i=s.findIndex(u=>u.fom===l.fom&&u.tom===l.tom?!1:Y(u).inneholderDato(l.tom)),c=i!==-1?s.splice(i,1)[0]:void 0;if(c){let u,b;const D=h(l.fom).isSameOrAfter(c.fom)&&h(l.tom).isSameOrBefore(c.tom),R={...l,tom:h(c.fom).subtract(1,"day").format("YYYY-MM-DD")},_={...l,fom:c.fom};if(l.tom!==c.tom?(u={...c,tom:l.tom},b={...c,fom:h(l.tom).add(1,"day").format("YYYY-MM-DD")}):u=c,D){const v=[l,u,b].filter(y=>y!==void 0);s.unshift(...v)}else{const v=[R,_,u,b].filter(y=>y!==void 0);s.unshift(...v)}}if(c||r.push(l),++o>500){console.error("lagKronologiskeSvpPerioder er tilsynelatende stuck i en evig loop");break}}return r.sort((l,i)=>l.fom.localeCompare(i.fom))};U.__docgenInfo={description:"",methods:[],displayName:"Svangerskapspenger",props:{svpSak:{required:!0,tsType:{name:"SvangerskapspengeSak"},description:""}}};export{U as S};
