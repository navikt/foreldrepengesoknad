var Ke=e=>{throw TypeError(e)};var De=(e,t,n)=>t.has(e)||Ke("Cannot "+n);var R=(e,t,n)=>(De(e,t,"read from private field"),n?n.call(e):t.get(e)),z=(e,t,n)=>t.has(e)?Ke("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),q=(e,t,n,r)=>(De(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Q=(e,t,n)=>(De(e,t,"access private method"),n);import{j as i}from"./jsx-runtime-Cw0GR0a5.js";import{r as m,R as K,c as jt,g as kt}from"./index-CTjT7uj6.js";import{S as At}from"./Snarveier-cwIQrPeQ.js";import{O as $e,h as Z,b as Ne,R as Ot,a as L,i as Lt,j as Mt}from"./index-DOF3ycNb.js";import{u as H}from"./index-ghK6WsM8.js";import{e as Gt}from"./Uttaksdagen-ClUiN95P.js";import{d as N}from"./dates-DUtd6zgH.js";import{c as xe}from"./index-CCQ3W5xA.js";import{C as me}from"./ContentSection-B_6Fjlwm.js";import{u as C,D as ge,a as Pt,E as Kt,F as xt,g as bt}from"./Header-CXVpjRDu.js";import{S as yt,s as Ft,h as be,g as Vt,n as Ye,b as wt,c as Bt,d as Ht,u as M}from"./useQuery-D_fvW0PL.js";import{a as Ut,b as Ce,c as Je,e as ze,m as $t,d as qe,f as Qe}from"./api-DZHAPXBN.js";import{Y as D}from"./Ytelse-7td-ciMh.js";import{c as Ze,d as Yt,e as We,g as Ae,b as Ct,f as Xe,h as Jt,i as zt}from"./sakerUtils-eThI45Eb.js";import{u as ne}from"./useSelectedSak-k0E3egpA.js";import{L as se}from"./index-Cn00N9t0.js";import{D as qt}from"./Dokument-iUaOdCPU.js";import{G as Qt}from"./GrupperteDokumenter-Bbx-wsGS.js";import{N as et}from"./NoeGikkGalt-DxR4p5mt.js";import{u as ie}from"./useBackgroundColor-D4ksQeHz.js";import{O as h,N as w}from"./routes-Run26EI7.js";import{g as Zt}from"./dokumenterUtils-Nut45n91.js";import{g as ue}from"./guid-CsArkN6i.js";import{A as B,B as pe,L as tt}from"./Alert-CVpGPMbJ.js";import{S as Wt,L as ve}from"./LenkePanel-BLvnv6b4.js";import{c as de,L as Xt,B as te,E as er,a as ee,H as Oe,D as tr}from"./Label-BeJqMiuK.js";import{R as rr,a as f,S as nr,A as sr,g as ir,b as ar,G as or,M as lr,c as dr}from"./MinidialogSkjema-DqBt9KIN.js";import{u as Er,F as cr}from"./VeiviserPage-KQokrPmW.js";import{V as $,H as mr}from"./VStack-CislUPit.js";import{M as Le}from"./message-CSZdADn6.js";import{L as ae}from"./Link-gwHVuC8x.js";import{o as ur}from"./useMergeRefs-Dg7ETiim.js";import{S as fr}from"./ChevronDown-CjGECSJR.js";import{u as Me}from"./useId-BHtrcvnP.js";import{B as je,D as Nr}from"./BekreftelseSendtSÃ¸knad-BymbIp9u.js";import{H as gr,S as pr}from"./HarIkkeSaker-B9PFc_3k.js";import{H as Tr}from"./HarSaker-FzA-O2P1.js";import{S as Sr}from"./SakLink-DxzmpG3x.js";import{a as hr,b as Rr,u as Dr}from"./react-DKFOadDt.js";import{b as oe}from"./bemUtils-DmNyTjfb.js";import{P as Ie,U as re,g as vr,s as Ir,n as _r,f as jr,l as kr,a as Ar,b as Or,c as Lr,d as Mr,e as Gr,h as rt}from"./PeriodeListe-DNRHsbG1.js";import{O as Pr}from"./Oppgaver-CJkVw9bC.js";import{B as T}from"./StatusTag-Crc04EW3.js";import{f as Ee,c as Kr}from"./dateUtils-SLNltPAj.js";import{u as Te}from"./useId-BFxX0aRd.js";import{H as xr}from"./HGrid-9RT2OXkm.js";import{L as br}from"./LayoutWrapper-Rfv3lXLd.js";import{K as yr}from"./KontaktOss-pM9mAiCN.js";var F,V,k,b,y,ce,ke,Ue,Fr=(Ue=class extends yt{constructor(t,n){super();z(this,y);z(this,F);z(this,V);z(this,k);z(this,b);q(this,F,t),this.setOptions(n),this.bindMethods(),Q(this,y,ce).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var r;const n=this.options;this.options=R(this,F).defaultMutationOptions(t),Ft(this.options,n)||R(this,F).getMutationCache().notify({type:"observerOptionsUpdated",mutation:R(this,k),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&be(n.mutationKey)!==be(this.options.mutationKey)?this.reset():((r=R(this,k))==null?void 0:r.state.status)==="pending"&&R(this,k).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=R(this,k))==null||t.removeObserver(this)}onMutationUpdate(t){Q(this,y,ce).call(this),Q(this,y,ke).call(this,t)}getCurrentResult(){return R(this,V)}reset(){var t;(t=R(this,k))==null||t.removeObserver(this),q(this,k,void 0),Q(this,y,ce).call(this),Q(this,y,ke).call(this)}mutate(t,n){var r;return q(this,b,n),(r=R(this,k))==null||r.removeObserver(this),q(this,k,R(this,F).getMutationCache().build(R(this,F),this.options)),R(this,k).addObserver(this),R(this,k).execute(t)}},F=new WeakMap,V=new WeakMap,k=new WeakMap,b=new WeakMap,y=new WeakSet,ce=function(){var n;const t=((n=R(this,k))==null?void 0:n.state)??Vt();q(this,V,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},ke=function(t){Ye.batch(()=>{var n,r,s,a,l,o,c,u;if(R(this,b)&&this.hasListeners()){const E=R(this,V).variables,g=R(this,V).context;(t==null?void 0:t.type)==="success"?((r=(n=R(this,b)).onSuccess)==null||r.call(n,t.data,E,g),(a=(s=R(this,b)).onSettled)==null||a.call(s,t.data,null,E,g)):(t==null?void 0:t.type)==="error"&&((o=(l=R(this,b)).onError)==null||o.call(l,t.error,E,g),(u=(c=R(this,b)).onSettled)==null||u.call(c,void 0,t.error,E,g))}this.listeners.forEach(E=>{E(R(this,V))})})},Ue);function nt(e,t){const n=wt(),[r]=m.useState(()=>new Fr(n,e));m.useEffect(()=>{r.setOptions(e)},[r,e]);const s=m.useSyncExternalStore(m.useCallback(l=>r.subscribe(Ye.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=m.useCallback((l,o)=>{r.mutate(l,o).catch(Bt)},[r]);if(s.error&&Ht(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}const W=e=>{m.useEffect(()=>{const t=document.title;return document.title=e,()=>{document.title=t}},[e])};var Vr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const wr=m.forwardRef((e,t)=>{var{title:n,titleId:r}=e,s=Vr(e,["title","titleId"]);let a=Te();return a=n?r||"title-"+a:void 0,m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:t,"aria-labelledby":a},s),n?m.createElement("title",{id:a},n):null,m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8.25 3.5c0-.69.56-1.25 1.25-1.25H14a.75.75 0 0 1 .53.22l5 5c.141.14.22.331.22.53v8.5c0 .69-.56 1.25-1.25 1.25h-9c-.69 0-1.25-.56-1.25-1.25zm6.25 5.25c-.69 0-1.25-.56-1.25-1.25V3.75h-3.5v12.5h8.5v-7.5zm.25-3.94 2.44 2.44h-2.44zM6.502 7.75H5.75v12.5h8.5v-.748a.75.75 0 0 1 1.5 0v.998c0 .69-.56 1.25-1.25 1.25h-9c-.69 0-1.25-.56-1.25-1.25v-13c0-.69.56-1.25 1.25-1.25h1.002a.75.75 0 1 1 0 1.5",clipRule:"evenodd"}))});var Br=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Hr=m.forwardRef((e,t)=>{var{title:n,titleId:r}=e,s=Br(e,["title","titleId"]);let a=Te();return a=n?r||"title-"+a:void 0,m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:t,"aria-labelledby":a},s),n?m.createElement("title",{id:a},n):null,m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.75 3.75V7.5a.75.75 0 0 1-1.5 0v-4c0-.69.56-1.25 1.25-1.25h9c.69 0 1.25.56 1.25 1.25v7a.75.75 0 0 1-1.5 0V3.75zm-1.75 7a.25.25 0 0 0-.25.25v9.25h12.5v-6.5H12a.75.75 0 0 1-.75-.75v-2a.25.25 0 0 0-.25-.25zM4.25 11c0-.966.784-1.75 1.75-1.75h5c.966 0 1.75.784 1.75 1.75v1.25h5.75c.69 0 1.25.56 1.25 1.25v7c0 .69-.56 1.25-1.25 1.25h-13c-.69 0-1.25-.56-1.25-1.25zM10 4.75a.75.75 0 0 0 0 1.5h4a.75.75 0 0 0 0-1.5z",clipRule:"evenodd"}))});var Ur=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const $r=m.forwardRef((e,t)=>{var{title:n,titleId:r}=e,s=Ur(e,["title","titleId"]);let a=Te();return a=n?r||"title-"+a:void 0,m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:t,"aria-labelledby":a},s),n?m.createElement("title",{id:a},n):null,m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 7.75a4.25 4.25 0 1 0 0 8.5 4.25 4.25 0 0 0 0-8.5M6.25 12a5.75 5.75 0 1 1 11.5 0 5.75 5.75 0 0 1-11.5 0",clipRule:"evenodd"}))});var Yr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Cr=m.forwardRef((e,t)=>{var{title:n,titleId:r}=e,s=Yr(e,["title","titleId"]);let a=Te();return a=n?r||"title-"+a:void 0,m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:t,"aria-labelledby":a},s),n?m.createElement("title",{id:a},n):null,m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.25 12a5.75 5.75 0 1 1 11.5 0 5.75 5.75 0 0 1-11.5 0",clipRule:"evenodd"}))});var Jr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const zr=m.forwardRef((e,t)=>{const{inputProps:n,errorId:r,showErrorMsg:s,hasError:a,size:l,inputDescriptionId:o,readOnly:c}=Er(e,"select"),{children:u,label:E,className:g,description:p,htmlSize:I,hideLabel:O=!1,style:A}=e,_=Jr(e,["children","label","className","description","htmlSize","hideLabel","style"]),v={onMouseDown:j=>{c&&(j.preventDefault(),j.target.focus())},onKeyDown:j=>{c&&["ArrowDown","ArrowUp","ArrowRight","ArrowLeft"," "].includes(j.key)&&j.preventDefault()}};return K.createElement("div",{className:de(g,"navds-form-field",`navds-form-field--${l}`,{"navds-form-field--disabled":!!n.disabled,"navds-form-field--readonly":c,"navds-select--error":a,"navds-select--readonly":c})},K.createElement(Xt,{htmlFor:n.id,size:l,className:de("navds-form-field__label",{"navds-sr-only":O})},K.createElement(rr,{readOnly:c,nativeReadOnly:!1}),E),!!p&&K.createElement(te,{className:de("navds-form-field__description",{"navds-sr-only":O}),id:o,size:l,as:"div"},p),K.createElement("div",{className:"navds-select__container",style:A},K.createElement("select",Object.assign({},ur(_,["error","errorId","size","readOnly"]),n,v,{ref:t,className:de("navds-select__input","navds-body-short",`navds-body-short--${l??"medium"}`),size:I}),u),K.createElement(fr,{className:"navds-select__chevron","aria-hidden":!0})),K.createElement("div",{className:"navds-form-field__error",id:r,"aria-relevant":"additions removals","aria-live":"polite"},s&&K.createElement(er,{size:l},e.error)))}),st=()=>i.jsx($e,{});st.__docgenInfo={description:"",methods:[],displayName:"Sak"};function it(e){var l,o,c;const t=(e==null?void 0:e.Ã¥penBehandling)===void 0,n=(e==null?void 0:e.ytelse)===D.FORELDREPENGER?Ze(e.familiehendelse):void 0,r=(e==null?void 0:e.ytelse)===D.FORELDREPENGER?(l=e.annenPart)==null?void 0:l.fnr:void 0,s=(e==null?void 0:e.ytelse)===D.FORELDREPENGER?(c=(o=e.barn)==null?void 0:o.find(u=>u.fnr!==void 0))==null?void 0:c.fnr:void 0,a=(e==null?void 0:e.ytelse)===D.FORELDREPENGER&&[t,r].every(Boolean);return M({...Ut({annenPartFÃ¸dselsnummer:r,barnFÃ¸dselsnummer:s,familiehendelse:n}),enabled:a})}var qr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Qr=m.forwardRef((e,t)=>{var{title:n,titleId:r}=e,s=qr(e,["title","titleId"]);let a=Me();return a=n?r||"title-"+a:void 0,m.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:t,"aria-labelledby":a},s),n?m.createElement("title",{id:a},n):null,m.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 13v8h2v-8h8v-2h-8V3h-2v8H3v2h8Z",fill:"currentColor"}))});var Zr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Wr=m.forwardRef((e,t)=>{var{title:n,titleId:r}=e,s=Zr(e,["title","titleId"]);let a=Me();return a=n?r||"title-"+a:void 0,m.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:t,"aria-labelledby":a},s),n?m.createElement("title",{id:a},n):null,m.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.835 1.165a3.976 3.976 0 0 1 0 5.623L8.073 21.549.682 24 0 23.318l2.45-7.392L17.21 1.165a3.977 3.977 0 0 1 5.624 0Zm-4.218 7.029-2.811-2.812L4.188 17l-1.393 4.205 4.207-1.395L18.618 8.194ZM21.43 2.57a1.989 1.989 0 0 0-2.703-.1l-.108.1-1.406 1.406 2.811 2.812 1.406-1.406a1.988 1.988 0 0 0 .101-2.703l-.1-.109Z",fill:"currentColor"}))});var Xr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const en=m.forwardRef((e,t)=>{var{title:n,titleId:r}=e,s=Xr(e,["title","titleId"]);let a=Me();return a=n?r||"title-"+a:void 0,m.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:t,"aria-labelledby":a},s),n?m.createElement("title",{id:a},n):null,m.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m17.414 12-7.707 7.707-1.414-1.414L14.586 12 8.293 5.707l1.414-1.414L17.414 12Z",fill:"currentColor"}))});var at=(e=>(e.BARE_SÃKER_RETT="BARE_SÃKER_RETT",e.ALENEOMSORG="ALENEOMSORG",e.BEGGE_RETT="BEGGE_RETT",e))(at||{});const ot=({tidligerePerioder:e=[],nÃ¥vÃ¦rendePerioder:t=[],fremtidigePerioder:n=[],navnPÃ¥SÃ¸ker:r,navnAnnenForelder:s,sak:a,visHelePlanen:l,overlappendePerioderAnnenPart:o})=>{const c=H(),u=!a.sakTilhÃ¸rerMor,E=a.rettighetType===at.ALENEOMSORG,g=Yt(a,r,s),p=oe("periodeOversikt");return i.jsxs("div",{className:p.block,children:[[...t,...n].length===0&&!l&&i.jsx(B,{className:p.element("alert"),variant:"info",children:c.formatMessage({id:"periodeOversikt.ingenPerioder.visKunNÃ¥vÃ¦rendeOgNeste"})}),[...e,...t,...n].length===0&&l&&i.jsx(B,{className:p.element("alert"),variant:"info",children:c.formatMessage({id:"periodeOversikt.ingenPerioder.visHelePlanen"})}),e.length>0&&l&&i.jsx(Ie,{tittel:"Tidligere perioder",periodeListe:e,navnPÃ¥Foreldre:g,erFarEllerMedmor:u,erAleneOmOmsorg:E,overlappendePerioderAnnenPart:o}),t.length>0&&i.jsx(Ie,{tittel:"NÃ¥vÃ¦rende periode",periodeListe:t,navnPÃ¥Foreldre:g,erFarEllerMedmor:u,erAleneOmOmsorg:E,overlappendePerioderAnnenPart:o}),n.length>0&&i.jsx(Ie,{tittel:l?"Fremtidige perioder":"Neste periode",periodeListe:l?n:[n[0]],navnPÃ¥Foreldre:g,erFarEllerMedmor:u,erAleneOmOmsorg:E,overlappendePerioderAnnenPart:o}),!l&&i.jsxs(ae,{className:p.element("seHelePlanen"),as:se,to:h.DIN_PLAN,children:["Se hele planen ",i.jsx(en,{"aria-hidden":!0})]})]})};ot.__docgenInfo={description:"",methods:[],displayName:"PeriodeOversikt",props:{tidligerePerioder:{defaultValue:{value:"[]",computed:!1},required:!1},nÃ¥vÃ¦rendePerioder:{defaultValue:{value:"[]",computed:!1},required:!1},fremtidigePerioder:{defaultValue:{value:"[]",computed:!1},required:!1}}};const _e=e=>{if(e.length<=0)return e;let t=e[0];const n=[];return e.forEach((r,s)=>{if(s!==0){if(rn(t,r)&&tn(t,r)){t={...t,tom:r.tom};return}else n.push(t);t=r}}),n.push(t),n},tn=(e,t)=>{const n=re(N(e.tom).toDate()).neste(),r=t.fom;return N(n).isSame(r,"day")},rn=(e,t)=>{const n=ye(e),r=ye(t);return n===r},ye=e=>{const{fom:t,tom:n,...r}=e,s={};return Object.keys(r).sort((a,l)=>a.localeCompare(l)).filter(a=>r[a]!==void 0).forEach(a=>{s[a]=r[a]}),JSON.stringify({...s})},Ge=({annenPartsPerioder:e,sak:t,visHelePlanen:n,navnPÃ¥SÃ¸ker:r,navnAnnenForelder:s,termindato:a})=>{var G;const l=oe("din-plan");let o,c;t.gjeldendeVedtak&&(o=_e(t.gjeldendeVedtak.perioder)),(G=t.Ã¥penBehandling)!=null&&G.sÃ¸knadsperioder&&(c=_e(t.Ã¥penBehandling.sÃ¸knadsperioder));const u=!!o,E=e!==void 0?vr(_e(e).filter(P=>Ir(P,a)),!0):void 0;let g=[],p=u?o:c;if(p&&E){const{normaliserteEgnePerioder:P,normaliserteAnnenPartsPerioder:he}=_r(p,E);p=P;const Re=jr(he,p);g=kr(Re,p)}const I=g?g.filter(P=>P.visIPlan):[],O=g?g.filter(P=>!P.visIPlan):[],A=p?Ar(p.concat(I)).sort():g,_=Or(A,u),v=_?Lr(_):void 0,j=_?Mr(_):void 0,S=_?Gr(_):void 0,X=(j===void 0||j.length===0)&&(S===void 0||S.length===0);let le="";return(n||!X)&&(le="Du har fÃ¥tt vedtatt planen nedenfor."),i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:l.element("header"),children:[i.jsxs("div",{className:l.element("header-tekst"),children:[u&&i.jsxs(ee,{children:[" ",le," "]}),!u&&i.jsx(ee,{children:" Du har sÃ¸kt om planen nedenfor. "}),!u&&i.jsx(ee,{children:" Planen er ikke vedtatt av NAV ennÃ¥. "})]}),(n||!X)&&i.jsx(pe,{as:ae,href:w.FORELDREPENGESOKNAD,variant:"secondary",icon:i.jsx(Wr,{"aria-hidden":!0}),iconPosition:"right",children:"Endre plan"})]}),i.jsx(ot,{tidligerePerioder:v,nÃ¥vÃ¦rendePerioder:j,fremtidigePerioder:S,sak:t,visHelePlanen:n,navnPÃ¥SÃ¸ker:r,navnAnnenForelder:s,overlappendePerioderAnnenPart:O})]})};Ge.__docgenInfo={description:"",methods:[],displayName:"DinPlan"};const lt=({sÃ¸kerinfo:e})=>{var a;const t=H();W(`${t.formatMessage({id:"dinPlan"})} - ${t.formatMessage({id:"dineForeldrepenger"})}`),C(h.DIN_PLAN);const n=ne(),r=We(e,n),s=((a=it(n).data)==null?void 0:a.perioder)??[];return n&&n.ytelse===D.FORELDREPENGER?i.jsx(U,{header:i.jsx(ge,{sak:n}),children:i.jsx(me,{heading:"Din plan",children:i.jsx(Ge,{sak:n,visHelePlanen:!0,navnPÃ¥SÃ¸ker:e.sÃ¸ker.fornavn,navnAnnenForelder:r,annenPartsPerioder:s,termindato:n.familiehendelse.termindato})})}):null};lt.__docgenInfo={description:"",methods:[],displayName:"DinPlanPage"};const dt=()=>{ie("white"),C(h.DOKUMENTER);const e=Z(),t=H(),n=t.formatMessage({id:"dokumenter"}),r=t.formatMessage({id:"lastOppDokumenter"});W(`${n} - ${t.formatMessage({id:"dineForeldrepenger"})}`);const s=M(Ce(e.saksnummer));if(s.isPending)return i.jsx(tt,{size:"large","aria-label":"Henter dokumenter"});const a=Zt(s.data??[]);return i.jsxs(U,{header:i.jsx(Pt,{}),children:[i.jsx(pe,{icon:i.jsx(Wt,{"aria-hidden":!0}),iconPosition:"right",as:se,variant:"primary",className:"mb-8",to:`../${h.ETTERSEND}`,children:r}),!s.isError&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mb-10",children:Object.entries(a).map(l=>{const o=l[1];return o.length===1?i.jsx(qt,{dokument:o[0]},ue()):i.jsx(Qt,{dokumenter:o},ue())})}),i.jsxs(B,{variant:"info",className:"mb-8",children:[i.jsx(Oe,{level:"3",size:"small",children:"Er det noen dokumenter du savner?"}),i.jsx(ee,{children:"Vi har forelÃ¸pig ikke mulighet til Ã¥ vise papirer du har sendt til NAV i posten, eller dokumenter som gjelder saken din, men som er sendt av andre pÃ¥ vegne av deg. Det kan for eksempel vÃ¦re en lege, advokat, verge eller fullmektig."})]})]}),s.isError&&i.jsx(et,{className:"mb-8",children:"Vi har problemer med Ã¥ vise informasjon om dine dokumenter akkurat nÃ¥. Feilen er hos oss, ikke hos deg. PrÃ¸v igjen senere."})]})};dt.__docgenInfo={description:"",methods:[],displayName:"DokumenterPage"};const Et=e=>{const t=Object.values(f);return e.ytelse===D.FORELDREPENGER?e.kanSÃ¸keOmEndring?t.filter(sn):t.filter(nn):e.ytelse===D.ENGANGSSTÃNAD?t.filter(on):t.filter(an)},nn=e=>{switch(e){case f.SKJEMA_FOR_TILRETTELEGGING_OG_OMPLASSERING:case f.DEPRECATED_TERMINBEKREFTELSE:case f.DEPRECATED_BEKREFTELSE_DELTAR_KVALIFISERINGSPROGRAM:case f.DEPRECATED_DOK_BEGRUNNELSE_SÃKE_TILBAKE_I_TID:return!1;default:return!0}},sn=e=>{switch(e){case f.ANNET:case f.BEKREFTELSE_DELTAR_KVALIFISERINGSPROGRAM:case f.BEKREFTELSE_FRA_ARBEIDSGIVER:case f.BEKREFTELSE_PÃ_AVTALT_FERIE:case f.DOK_AV_ALENEOMSORG:case f.DOK_BEGRUNNELSE_SÃKE_TILBAKE_I_TID:case f.DOK_DELTAKELSE_I_INTRODUKSJONSPROGRAMMET:case f.DOK_INNLEGGELSE_BARN:case f.DOK_INNLEGGELSE_MOR:case f.DOK_INNLEGGELSE_FAR:case f.DOK_SYKDOM_MOR:case f.DOK_SYKDOM_FAR:case f.DOK_UTDANNING_MOR:case f.DOK_UTDANNING_OG_ARBEID_MOR:case f.DOK_ARBEID_MOR:case f.OMSORGSOVERTAKELSE:case f.TILBAKEBETALING:case f.HV_ÃVELSE:case f.NAV_TILTAK:case f.TERMINBEKREFTELSE:case f.DEPRECATED_TILBAKEBETALING:case f.DEPRECATED_KOPI_SKATTEMELDING:return!0;default:return!1}},an=e=>{switch(e){case f.ANNET:case f.DOK_MILITÃR_SILVIL_TJENESTE:case f.INNTEKTSOPPLYSNINGER_FRILANS_ELLER_SELVSTENDIG:case f.SKJEMA_FOR_TILRETTELEGGING_OG_OMPLASSERING:case f.TILBAKEBETALING:case f.TERMINBEKREFTELSE:case f.SKATTEMELDING:case f.RESULTATREGNSKAP:return!0;default:return!1}},on=e=>{switch(e){case f.ANNET:case f.TERMINBEKREFTELSE:case f.FÃDSELSATTEST:case f.TILBAKEBETALING:return!0;default:return!1}},ln=e=>e===D.ENGANGSSTÃNAD?"engangsstonad":e===D.FORELDREPENGER?"foreldrepenger":"svangerskapspenger",fe="default",ct=(e,t)=>t?i.jsxs(i.Fragment,{children:[i.jsx("option",{value:fe,disabled:!1,hidden:!1,children:i.jsx(Le,{id:"ettersendelse.select.defaultValue"})}),Et(t).map(n=>({skjemanummer:n,text:e.formatMessage({id:`ettersendelse.${n}`})})).sort((n,r)=>n.text.localeCompare(r.text)).map(({skjemanummer:n,text:r})=>i.jsx("option",{value:n,children:r},n))]}):null,dn=e=>{if(e===fe)return e;const t=Object.values(f).find(n=>n===e);if(t)return t;throw Error("Valgt skjemanr finnes ikke")},En=({saker:e})=>{const t=H();ie("white"),W(`${t.formatMessage({id:"lastOppDokumenter"})} - ${t.formatMessage({id:"dineForeldrepenger"})}`),C(h.ETTERSEND);const n=Z(),[r,s]=m.useState(fe),[a,l]=m.useState([]),[o,c]=m.useState(!1),E=Ae(e).find(v=>v.saksnummer===n.saksnummer),g=(v,j)=>{l(v),c(j)},{mutate:p,isPending:I,isError:O,isSuccess:A}=nt({mutationFn:v=>Je(v)}),_=v=>{v.preventDefault(),p({saksnummer:E.saksnummer,type:E.ytelse,vedlegg:a})};return A||O?i.jsxs(i.Fragment,{children:[i.jsx(nr,{}),i.jsxs($,{gap:"2",children:[A&&i.jsx(B,{variant:"success",children:"Dokumentene er sendt"}),O&&i.jsx(B,{variant:"error",children:"Vi klarte ikke Ã¥ sende inn dokumentasjonen din. PrÃ¸v igjen senere og hvis problemet vedvarer kontakt brukerstÃ¸tte."}),i.jsx(se,{to:`/sak/${E.saksnummer}`,children:i.jsx(Le,{id:"miniDialog.kvittering.gÃ¥TilbakeTilSaken"})})]})]}):i.jsx("form",{onSubmit:_,children:i.jsxs($,{gap:"4",children:[i.jsx(ee,{children:"Dokumentene du laster opp vil bli lagt ved sÃ¸knaden din. Du mÃ¥ velge hva dokumentene inneholder for at saksbehandlerene i NAV skal kunne behandle saken din."}),i.jsx(te,{children:"Du kan laste opp dokumenter i formatene pdf, png og jpg."}),i.jsx(ae,{target:"_blank",href:"https://www.nav.no/brukerstotte#sende-soknad-pa-nett",children:"Les om hvordan du kan ta bilde av dokumenter med mobilen"}),i.jsx(zr,{className:"mb-4",label:"Hva inneholder dokumentene dine?",onChange:v=>s(dn(v.target.value)),children:ct(t,E)}),r!==fe&&i.jsx(cr,{label:t.formatMessage({id:"EttersendingPageInner.dokumenter"}),updateAttachments:g,attachmentType:sr.MORS_AKTIVITET_DOKUMENTASJON,skjemanummer:r,existingAttachments:a,saveAttachment:ir(ar(),ln(E.ytelse)),skjemanummerTextMap:E?Et(E).reduce((v,j)=>({...v,[j]:t.formatMessage({id:`ettersendelse.${j}`})}),{}):void 0}),a&&a.length>0&&a.length<=40&&i.jsx(mr,{children:i.jsx(pe,{type:"submit",icon:i.jsx(Qr,{"aria-hidden":!0}),loading:I||o,disabled:I||o,children:"Legg ved sak"})}),a&&a.length>40&&i.jsx(or,{children:"Du kan bare laste opp 40 dokumenter pÃ¥ en gang. Hvis du skal laste opp flere enn 40 dokumenter kan du gjÃ¸re det i flere omganger."})]})})};function mt({saker:e}){return i.jsx(U,{header:i.jsx(Kt,{}),children:i.jsx(En,{saker:e})})}ct.__docgenInfo={description:"",methods:[],displayName:"getAttachmentTypeSelectOptions"};mt.__docgenInfo={description:"",methods:[],displayName:"EttersendingPage",props:{saker:{required:!0,tsType:{name:"SakOppslag"},description:""}}};const ut=hr(void 0);var Se=(e=>(e.REDIRECT_FROM_SÃKNAD="redirectFromSoknad",e))(Se||{});const ft="unknown",Nt=()=>Rr(ut),gt=(e,t,n)=>{const r=t??ft,s=Dr(ut),a=e===Se.REDIRECT_FROM_SÃKNAD?r:void 0;m.useEffect(()=>{n.current&&(n.current=!1,s(a))},[s,a,n])},pt=({saker:e,isFirstRender:t,sÃ¸kerinfo:n})=>{C(h.HOVEDSIDE);const r=Z();gt(r.redirect,void 0,t);const s=M(ze()),a=s.isSuccess&&!s.data,l=Ne();r.redirect===Se.REDIRECT_FROM_SÃKNAD&&l(h.HOVEDSIDE);const o=Nt(),c=Ct(n.sÃ¸ker.barn??[],e),u=Ae(e),E=c.length===0&&u.length===1&&e.svangerskapspenger.length===1?e.svangerskapspenger[0]:void 0;return i.jsx(U,{header:i.jsx(xt,{}),children:i.jsxs($,{gap:"10",children:[o===ft&&i.jsx(je,{relevantNyTidslinjehendelse:void 0,bankkonto:n.sÃ¸ker.bankkonto,ytelse:void 0}),a&&i.jsx(B,{variant:"warning",children:"Det ser ut som det tar litt tid Ã¥ opprette saken din akkurat i dag. SÃ¸knaden din er sendt, sÃ¥ du kan vente litt og komme tilbake senere for Ã¥ se alle detaljene i saken din."}),u.length>0?i.jsx(Tr,{grupperteSaker:c}):i.jsx(gr,{harOppdatertSak:!a}),E&&i.jsx(Sr,{sak:E})]})})};pt.__docgenInfo={description:"",methods:[],displayName:"Forside"};const Tt=({fnr:e})=>{const t=Z(),n=M({...$t(),select:g=>g.find(({saksnr:p,dialogId:I})=>p===t.saksnummer&&I===t.oppgaveId)}).data,r=ne(),s=Ne(),a=H();W(`${a.formatMessage({id:"oppgaver.tittel.tilbakebetaling"})} - ${a.formatMessage({id:"dineForeldrepenger"})}`),C(h.OPPGAVER),ie("blue");const{mutate:l,isPending:o,isError:c,isSuccess:u}=nt({mutationFn:({ettersendelse:g,fnr:p})=>Je(g,p)}),E=g=>{l({ettersendelse:g,fnr:e})};return!n||!r?(s(`${h.SAKSOVERSIKT}/${t.saksnummer}`),null):i.jsx(U,{header:i.jsx(ge,{sak:r}),children:i.jsx(me,{children:i.jsxs($,{gap:"2",children:[i.jsx(Oe,{size:"medium",level:"2",children:i.jsx(Le,{id:"miniDialog.tilbakekreving.undertittel"})}),i.jsx(lr,{sakstype:r.ytelse,minidialog:n,onSubmit:E,isSendingEttersendelse:o,ettersendelseErSendt:u,ettersendelseError:c?"Vi klarte ikke Ã¥ sende inn informasjonen din. PrÃ¸v igjen senere og hvis problemet vedvarer kontakt brukerstÃ¸tte.":void 0})]})})})};Tt.__docgenInfo={description:"",methods:[],displayName:"MinidialogPage"};var d=(e=>(e.FÃRSTEGANGSSÃKNAD="FÃRSTEGANGSSÃKNAD",e.FÃRSTEGANGSSÃKNAD_NY="FÃRSTEGANGSSÃKNAD_NY",e.ETTERSENDING="ETTERSENDING",e.ENDRINGSSÃKNAD="ENDRINGSSÃKNAD",e.INNTEKTSMELDING="INNTEKTSMELDING",e.VEDTAK="VEDTAK",e.VENTER_INNTEKTSMELDING="VENTER_INNTEKTSMELDING",e.VENTER_PGA_TIDLIG_SÃKNAD="VENTER_PGA_TIDLIG_SÃKNAD",e.VENTER_MELDEKORT="VENTER_MELDEKORT",e.VENT_DOKUMENTASJON="VENT_DOKUMENTASJON",e.UTGÃENDE_INNHENT_OPPLYSNINGER="UTGÃENDE_INNHENT_OPPLYSNINGER",e.UTGÃENDE_ETTERLYS_INNTEKTSMELDING="UTGÃENDE_ETTERLYS_INNTEKTSMELDING",e.UTGÃENDE_VARSEL_TILBAKEBETALING="UTGÃENDE_VARSEL_TILBAKEBETALING",e.FAMILIEHENDELSE="FAMILIEHENDELSE",e.BARNET_TRE_ÃR="BARNET_TRE_ÃR",e.FREMTIDIG_VEDTAK="FREMTIDIG_VEDTAK",e.FORELDREPENGER_FEIL_PRAKSIS_UTSETTELSE_INFOBREV="FORELDREPENGER_FEIL_PRAKSIS_UTSETTELSE_INFOBREV",e))(d||{}),St={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(jt,function(){return function(n,r,s){var a=function(l,o){if(!o||!o.length||o.length===1&&!o[0]||o.length===1&&Array.isArray(o[0])&&!o[0].length)return null;var c;o.length===1&&o[0].length>0&&(o=o[0]),c=(o=o.filter(function(E){return E}))[0];for(var u=1;u<o.length;u+=1)o[u].isValid()&&!o[u][l](c)||(c=o[u]);return c};s.max=function(){var l=[].slice.call(arguments,0);return a("isAfter",l)},s.min=function(){var l=[].slice.call(arguments,0);return a("isBefore",l)}}})})(St);var cn=St.exports;const mn=kt(cn);var Y=(e=>(e.BRUKER="BRUKER",e.NAV="NAV",e.ARBEIDSGIVER="ARBEIDSGIVER",e))(Y||{}),ht=(e=>(e.INGEN="INGEN",e.DELVIS="DELVIS",e.HEL="HEL",e))(ht||{});N.extend(mn);const un=[T.VENTER_PÃ_INNTEKTSMELDING,T.VENTER_PÃ_DOKUMENTASJON,T.TIDLIG_SÃKNAD,T.VENTER_PÃ_MELDEKORT];d.VENTER_INNTEKTSMELDING,d.VENTER_MELDEKORT,d.VENTER_PGA_TIDLIG_SÃKNAD,d.VENT_DOKUMENTASJON;const fn=(e,t)=>{if(t){const n=e.findLastIndex(r=>r.tidslinjeHendelseType===d.VEDTAK);if(n>=0)return n}return e.findIndex(n=>N(n.opprettet).isAfter(N(),"d"))},Nn=e=>e?N(e).subtract(4*7,"day").toDate():void 0,Rt=(e,t,n)=>e===1||e===0?t.formatMessage({id:"barnet"}):e>1&&n?t.formatMessage({id:"barna"}):e===2?t.formatMessage({id:"tvillingene"}):e===3?t.formatMessage({id:"trillingene"}):t.formatMessage({id:"flerlingene"}),gn=(e,t,n,r)=>{let s="";return n?r.formatMessage({id:"tidslinje.tittel.BARNET_TRE_ÃR.adopsjon"},{navn:s}):(e.fornavn===void 0||e.fornavn.length===0||!e.alleBarnaLever?s=Rt(t,r,!1):s=Xe(e.fornavn),r.formatMessage({id:"tidslinje.tittel.BARNET_TRE_ÃR.fÃ¸dsel"},{navn:s}))},pn=(e,t,n)=>N(t).isSameOrBefore(N(),"d")?n.formatMessage({id:"tidslinje.tittel.FAMILIEHENDELSE.omsorgsovertakelse.tilbakeITid"},{navn:e}):n.formatMessage({id:"tidslinje.tittel.FAMILIEHENDELSE.omsorgsovertakelse.fremITid"},{navn:e}),Tn=(e,t,n,r,s)=>{let a="";return e.fornavn===void 0||e.fornavn.length===0||!e.alleBarnaLever?a=Rt(t,s,n):a=Xe(e.fornavn),n&&r.omsorgsovertakelse?pn(a,r.omsorgsovertakelse,s):r.fÃ¸dselsdato?s.formatMessage({id:"tidslinje.tittel.FAMILIEHENDELSE.fÃ¸dsel"},{navn:a}):s.formatMessage({id:"tidslinje.tittel.FAMILIEHENDELSE.termindato"})},Sn=(e,t,n,r,s,a)=>s===D.FORELDREPENGER?Tn(n,r,t,e,a):e.omsorgsovertakelse?"Adopsjonsdato":e.fÃ¸dselsdato?"Barnet ble fÃ¸dt":a.formatMessage({id:"tidslinje.tittel.FAMILIEHENDELSE.termindato"}),hn=(e,t)=>{const n=e.dokumenter;if(n&&n.length>0){if(n.find(r=>r.tittel.includes("Avslagsbrev")))return t.formatMessage({id:"tidslinje.tittel.VEDTAK.avslÃ¥tt"});if(n.find(r=>r.tittel.includes("Innvilgelsesbrev")))return t.formatMessage({id:"tidslinje.tittel.VEDTAK.innvilget"})}return t.formatMessage({id:"tidslinje.tittel.VEDTAK"})},Rn=(e,t,n)=>{switch(t.tidslinjeHendelseType){case d.BARNET_TRE_ÃR:return n?e.formatMessage({id:"tidslinje.tittel.BARNET_TRE_ÃR.adopsjon"}):e.formatMessage({id:"tidslinje.tittel.BARNET_TRE_ÃR.fÃ¸dsel"});case d.ENDRINGSSÃKNAD:return e.formatMessage({id:"tidslinje.tittel.ENDRINGSSÃKNAD"});case d.ETTERSENDING:return e.formatMessage({id:"tidslinje.tittel.ETTERSENDING"});case d.FAMILIEHENDELSE:return e.formatMessage({id:"tidslinje.tittel.FAMILIEHENDELSE"});case d.FREMTIDIG_VEDTAK:return e.formatMessage({id:"tidslinje.tittel.FREMTIDIG_VEDTAK"});case d.FÃRSTEGANGSSÃKNAD:return e.formatMessage({id:"tidslinje.tittel.FÃRSTEGANGSSÃKNAD"});case d.FÃRSTEGANGSSÃKNAD_NY:return e.formatMessage({id:"tidslinje.tittel.FÃRSTEGANGSSÃKNAD_NY"});case d.INNTEKTSMELDING:return e.formatMessage({id:"tidslinje.tittel.INNTEKTSMELDING"});case d.UTGÃENDE_ETTERLYS_INNTEKTSMELDING:return e.formatMessage({id:"tidslinje.tittel.UTGÃENDE_ETTERLYS_INNTEKTSMELDING"});case d.UTGÃENDE_INNHENT_OPPLYSNINGER:return e.formatMessage({id:"tidslinje.tittel.UTGÃENDE_INNHENT_OPPLYSNINGER"});case d.UTGÃENDE_VARSEL_TILBAKEBETALING:return e.formatMessage({id:"tidslinje.tittel.UTGÃENDE_VARSEL_TILBAKEBETALING"});case d.VEDTAK:return hn(t,e);case d.VENTER_INNTEKTSMELDING:return e.formatMessage({id:"tidslinje.tittel.VENTER_INNTEKTSMELDING"});case d.VENTER_MELDEKORT:return e.formatMessage({id:"tidslinje.tittel.VENTER_MELDEKORT"});case d.VENTER_PGA_TIDLIG_SÃKNAD:return e.formatMessage({id:"tidslinje.tittel.VENTER_PGA_TIDLIG_SÃKNAD"});case d.VENT_DOKUMENTASJON:return e.formatMessage({id:"tidslinje.tittel.VENT_DOKUMENTASJON"});case d.FORELDREPENGER_FEIL_PRAKSIS_UTSETTELSE_INFOBREV:return e.formatMessage({id:"tidslinje.tittel.FORELDREPENGER_FEIL_PRAKSIS_UTSETTELSE_INFOBREV"})}},Dn=(e,t,n,r,s,a)=>{const l=e.tidslinjeHendelseType,{familiehendelse:o,ytelse:c,gjelderAdopsjon:u}=a,E=o==null?void 0:o.antallBarn;if(l===d.VENTER_PGA_TIDLIG_SÃKNAD&&n!==void 0)return t.formatMessage({id:"tidslinje.tittel.VENTER_PGA_TIDLIG_SÃKNAD"},{tidlistBehandlingsdato:Gt(n)});if(l===d.VENT_DOKUMENTASJON&&r&&r.length===1){const g=t.formatMessage({id:`ettersendelse.${r[0]}`}),p=g.charAt(0).toLowerCase()+g.slice(1);return t.formatMessage({id:"tidslinje.navVenterPÃ¥"},{dokumentasjon:p})}return l===d.FÃRSTEGANGSSÃKNAD?t.formatMessage({id:"tidslinje.tittel.FÃRSTEGANGSSÃKNAD"},{ytelse:c}):l===d.FAMILIEHENDELSE&&o&&E!==void 0?Sn(o,u,s,E,c,t):c===D.FORELDREPENGER&&(o!=null&&o.fÃ¸dselsdato||o!=null&&o.omsorgsovertakelse)&&E&&l===d.BARNET_TRE_ÃR?gn(s,E,o==null?void 0:o.omsorgsovertakelse,t):Rn(t,e,!!(o!=null&&o.omsorgsovertakelse))},Fe=e=>{if(e===T.VENTER_PÃ_INNTEKTSMELDING)return d.VENTER_INNTEKTSMELDING;if(e===T.TIDLIG_SÃKNAD)return d.VENTER_PGA_TIDLIG_SÃKNAD;if(e===T.VENTER_PÃ_DOKUMENTASJON)return d.VENT_DOKUMENTASJON;if(e===T.VENTER_PÃ_MELDEKORT)return d.VENTER_MELDEKORT;throw new Error("Ukjent venteÃ¥rsak")},Ve=e=>e===T.VENTER_PÃ_INNTEKTSMELDING?Y.ARBEIDSGIVER:e===T.TIDLIG_SÃKNAD?Y.NAV:Y.BRUKER,we=e=>{if(e===T.VENTER_PÃ_INNTEKTSMELDING)return w.VENT_INNTEKTSMELDING;if(e===T.TIDLIG_SÃKNAD)return w.SÃKNADSFRISTER;if(e===T.VENTER_PÃ_MELDEKORT)return w.VENT_MELDEKORT},vn=e=>{const t=e.sÃ¸knadsperioder,n=N(t[0].fom).toDate();return re(re(n).denneEllerNeste()).trekkFra(4*rt)},In=e=>{const t=e.sÃ¸knad.arbeidsforhold.map(r=>r.tilrettelegginger.filter(a=>a.type!==ht.HEL).map(a=>N(a.fom))).flat(1)||[],n=N.min(t).toDate();return re(re(n).denneEllerNeste()).trekkFra(4*rt)},_n=(e,t)=>e===D.SVANGERSKAPSPENGER?In(t):vn(t),jn=e=>{const t=e.find(n=>n.tidslinjeHendelseType===d.FÃRSTEGANGSSÃKNAD);return t?t.opprettet:void 0},kn=(e,t)=>e.map(n=>{switch(n.tidslinjeHendelseType){case d.UTGÃENDE_INNHENT_OPPLYSNINGER:return{...n,internalUrl:h.ETTERSEND,linkTittel:t.formatMessage({id:"tidslinje.VENT_DOKUMENTASJON.linkTittel"})};case d.FÃRSTEGANGSSÃKNAD_NY:{const r=jn(e);return{...n,merInformasjon:r?t.formatMessage({id:"tidslinje.merInformasjon.FÃRSTEGANGSSÃKNAD_NY"},{datoFÃ¸rsteSÃ¸knad:Ee(r,"DD. MMM YYYY")}):t.formatMessage({id:"tidslinje.merInformasjon.FÃRSTEGANGSSÃKNAD_NY.ukjentDatoFÃ¸rstSÃ¸knad"})}}default:return n}}),An=e=>{const t=Ze(e);return{type:"sÃ¸knad",opprettet:new Date(t),tidslinjeHendelseType:d.FAMILIEHENDELSE,aktÃ¸rType:Y.BRUKER,dokumenter:[],manglendeVedlegg:[]}},On=(e,t,n,r,s)=>{let a,l="";return r?(a=N(t).add(3,"y").toDate(),l=s.formatMessage({id:"tidslinje.BARN_TRE_ÃR.adopsjon.informasjon"},{antallBarn:n})):(a=N(e).add(3,"y").toDate(),l=s.formatMessage({id:"tidslinje.BARN_TRE_ÃR.fÃ¸dsel.informasjon"},{antallBarn:n})),{type:"sÃ¸knad",opprettet:a,tidslinjeHendelseType:d.BARNET_TRE_ÃR,aktÃ¸rType:Y.BRUKER,dokumenter:[],manglendeVedlegg:[],merInformasjon:l,linkTittel:s.formatMessage({id:"tidslinje.BARN_TRE_ÃR.linkTittel"}),eksternalUrl:w.HVOR_LENGE}},Ln=(e,t)=>{let n=w.SAKSBEHANDLINGSTIDER_FP;return t===D.SVANGERSKAPSPENGER&&(n=w.SAKSBEHANDLINGSTIDER_SVP),t===D.ENGANGSSTÃNAD&&(n=w.SAKSBEHANDLINGSTIDER_ES),{type:"sÃ¸knad",opprettet:N(new Date).add(1,"d").toDate(),tidslinjeHendelseType:d.FREMTIDIG_VEDTAK,aktÃ¸rType:Y.NAV,dokumenter:[],manglendeVedlegg:[],merInformasjon:e.formatMessage({id:"tidslinje.FREMTIDIG_VEDTAK.informasjon"}),linkTittel:e.formatMessage({id:"tidslinje.FREMTIDIG_VEDTAK.linkTittel"}),eksternalUrl:n}},Mn=(e,t,n)=>{switch(t){case T.TIDLIG_SÃKNAD:return n===D.FORELDREPENGER?e.formatMessage({id:"tidslinje.VENT_TIDLIG_SÃKNAD.informasjon.foreldrepenger"}):e.formatMessage({id:"tidslinje.VENT_TIDLIG_SÃKNAD.informasjon.svangerskapspenger"});case T.UNDER_BEHANDLING:return e.formatMessage({id:"tidslinje.UNDER_BEHANDLING.informasjon"});case T.VENTER_PÃ_DOKUMENTASJON:return e.formatMessage({id:"tidslinje.VENT_DOKUMENTASJON.informasjon"});case T.VENTER_PÃ_INNTEKTSMELDING:return e.formatMessage({id:"tidslinje.VENT_INNTEKTSMELDING.informasjon"});case T.VENTER_PÃ_MELDEKORT:return e.formatMessage({id:"tidslinje.VENT_MELDEKORT.informasjon"})}},Gn=(e,t)=>{switch(t){case T.TIDLIG_SÃKNAD:return e.formatMessage({id:"tidslinje.VENT_TIDLIG_SÃKNAD.linkTittel"});case T.UNDER_BEHANDLING:return e.formatMessage({id:"tidslinje.UNDER_BEHANDLING.linkTittel"});case T.VENTER_PÃ_DOKUMENTASJON:return e.formatMessage({id:"tidslinje.VENT_DOKUMENTASJON.linkTittel"});case T.VENTER_PÃ_INNTEKTSMELDING:return e.formatMessage({id:"tidslinje.VENT_INNTEKTSMELDING.linkTittel"});case T.VENTER_PÃ_MELDEKORT:return e.formatMessage({id:"tidslinje.VENT_MELDEKORT.linkTittel"})}},Pn=(e,t)=>t===D.FORELDREPENGER?e.formatMessage({id:"tidslinje.VENT_TIDLIG_SÃKNAD.informasjon.foreldrepenger"}):e.formatMessage({id:"tidslinje.VENT_TIDLIG_SÃKNAD.informasjon.svangerskapspenger"}),Kn=(e,t,n,r)=>{let s;[T.VENTER_PÃ_INNTEKTSMELDING,T.VENTER_PÃ_MELDEKORT,T.TIDLIG_SÃKNAD].includes(e.tilstand)&&t&&t.length>0&&(s={type:"sÃ¸knad",opprettet:N(new Date).add(1,"d").toDate(),aktÃ¸rType:Ve(T.VENTER_PÃ_DOKUMENTASJON),tidslinjeHendelseType:Fe(T.VENTER_PÃ_DOKUMENTASJON),dokumenter:[],manglendeVedlegg:[],merInformasjon:n.formatMessage({id:"tidslinje.VENT_DOKUMENTASJON.informasjon"}),linkTittel:n.formatMessage({id:"tidslinje.VENT_DOKUMENTASJON.linkTittel"}),eksternalUrl:we(T.VENTER_PÃ_DOKUMENTASJON),internalUrl:h.ETTERSEND,tidligstBehandlingsDato:void 0});const a=e.tilstand===T.TIDLIG_SÃKNAD?Pn(n,r):Mn(n,e.tilstand,r),l={type:"sÃ¸knad",opprettet:N(new Date).add(1,"d").toDate(),aktÃ¸rType:Ve(e.tilstand),tidslinjeHendelseType:Fe(e.tilstand),dokumenter:[],manglendeVedlegg:[],merInformasjon:a,linkTittel:Gn(n,e.tilstand),eksternalUrl:we(e.tilstand),internalUrl:e.tilstand===T.VENTER_PÃ_DOKUMENTASJON?h.ETTERSEND:void 0,tidligstBehandlingsDato:e.tilstand===T.TIDLIG_SÃKNAD?_n(r,e):void 0};return s?[s,l]:[l]},Dt=(e,t)=>N(e.opprettet).isBefore(t.opprettet)?-1:N(e.opprettet).isAfter(t.opprettet)?1:0,Be=e=>e.filter(t=>N(t.opprettet).isAfter(N(),"d")),He=e=>{const t=new Date,n=e.filter(r=>N(r.opprettet).isSameOrBefore(t,"d"));return n.length<=3?n:n.slice(Math.max(n.length-3))},xn=e=>{const t=e.findLastIndex(s=>s.dokumenter.find(a=>a.tittel.includes("Innvilgelsesbrev"))),n=t>=0?e.slice(t):void 0;return(n==null?void 0:n.find(s=>[d.ENDRINGSSÃKNAD,d.FÃRSTEGANGSSÃKNAD,d.FÃRSTEGANGSSÃKNAD_NY].includes(s.tidslinjeHendelseType)))?void 0:e[t]},bn=(e,t,n,r)=>{const s=[];if(e)s.push(...t);else if(n){const a=He(t);s.push(...a)}else if(r){const a=r?xn(t):void 0;a&&s.push(a);const l=Be(t);l.length>0&&s.push(...l)}else{const a=Be(t);if(a.length>0&&s.push(...a),s.length===0){const l=He(t);s.push(...l)}}return s},yn=(e,t,n,r,s,a,l)=>{var u;const o=kn(e,l),c=t?Kn(t,n,l,r.ytelse):void 0;if(c&&o.push(...c),(u=r.familiehendelse)!=null&&u.termindato||r.familiehendelse&&s.alleBarnaLever){const E=An(r.familiehendelse);o.push(E)}if(s.alleBarnaLever&&!a&&r.ytelse===D.FORELDREPENGER&&!r.sakAvsluttet&&(r.familiehendelse.omsorgsovertakelse||r.familiehendelse.fÃ¸dselsdato)){const E=On(r.familiehendelse.fÃ¸dselsdato,r.familiehendelse.omsorgsovertakelse,r.familiehendelse.antallBarn,r.gjelderAdopsjon,l);o.push(E)}if(r.Ã¥penBehandling){const E=Ln(l,r.ytelse);o.push(E)}return[...o].sort(Dt)},Fn=e=>{const t=[d.FÃRSTEGANGSSÃKNAD,d.FÃRSTEGANGSSÃKNAD_NY,d.ENDRINGSSÃKNAD],n=e?[...e].sort(Dt).reverse():void 0;return n?n.find(s=>t.includes(s.tidslinjeHendelseType)&&s.dokumenter.find(a=>a.tittel.includes("SÃ¸knad"))&&N(s.opprettet).isSameOrAfter(N().subtract(1,"d"))):void 0},x=oe("tidslinje-hendelse"),Vn=(e,t)=>e?"ikon_active":N(t).isBefore(N())?"ikon_completed":"ikon_incomplete",wn=(e,t)=>t?"active":N(e).isBefore(N())?"complete":"incomplete",Bn=(e,t,n,r)=>{if(e===d.VENTER_INNTEKTSMELDING){const s=Nn(n);return N(s).isAfter(N())?s?`TIDLIGST ${Ee(s,"D. MMM YYYY").toUpperCase()}`:"":"SNAREST"}else return e===d.VENTER_PGA_TIDLIG_SÃKNAD?`TIDLIGST ${Ee(r,"D. MMM YYYY").toUpperCase()}`:[d.VENTER_MELDEKORT,d.VENT_DOKUMENTASJON].includes(e)?"SNAREST":e===d.FREMTIDIG_VEDTAK?"SENERE":N(t).isSame(new Date,"d")?"I DAG":N(t).isSame(N(new Date).subtract(1,"d"),"d")?"I GÃR":Ee(t,"D. MMM YYYY").toUpperCase()},vt=({date:e,title:t,children:n,isActiveStep:r,visKlokkeslett:s,type:a,fÃ¸rsteUttaksdagISaken:l,tidligstBehandlingsDato:o,finnesHendelserFÃ¸rAktivtSteg:c,visHeleTidslinjen:u,erSistePÃ¥ForsidenMenIkkeSisteIHeleTidslinjen:E})=>{const g=s?Kr(e):"",p=Bn(a,e,l,o);return i.jsxs("div",{className:xe(x.block,x.modifier(`${wn(e,r)}`),x.modifier(`${r&&c&&!u?"aktiv_er_ikke_fÃ¸rste_hendelse":""}`),x.modifier(`${E?"siste_hendelse_pÃ¥_forsiden":""}`)),children:[i.jsxs("div",{className:xe(x.element("ikon"),x.element(Vn(r,e))),children:[N(e).isSameOrBefore(N(),"d")&&i.jsx(Cr,{width:"20",height:"20","aria-hidden":!0}),N(e).isAfter(N(),"d")&&i.jsx($r,{width:"20",height:"20","aria-hidden":!0})]}),i.jsxs("div",{className:x.element("tekst"),children:[i.jsx(te,{size:"small",className:x.element("tittle"),children:t}),i.jsx(tr,{className:x.element("date"),children:`${p} ${g}`}),n]})]})};vt.__docgenInfo={description:"",methods:[],displayName:"TidslinjeHendelse"};const Pe=({sak:e,visHeleTidslinjen:t,sÃ¸kersBarn:n,tidslinjeHendelserQuery:r,manglendeVedleggQuery:s})=>{const a=H(),l=location.pathname.replace(`/${h.TIDSLINJEN}`,""),o=oe("tidslinje-hendelse"),c=e.ytelse===D.FORELDREPENGER?Jt(e):void 0,u=zt(e,n),E=e.ytelse===D.FORELDREPENGER&&!!e.gjeldendeVedtak&&(e.gjeldendeVedtak.perioder.length===0||e.gjeldendeVedtak.perioder.every(S=>S.resultat!==void 0&&S.resultat.innvilget===!1)),g=e.ytelse===D.FORELDREPENGER&&e.Ã¥penBehandling===void 0&&!!e.gjeldendeVedtak;if(r.isError||s.isError||e===void 0)return i.jsx(et,{children:"Vi klarer ikke Ã¥ vise informasjon om hva som skjer i saken din akkurat nÃ¥. Feilen er hos oss, ikke hos deg. PrÃ¸v igjen senere."});const p=r.data??[],I=s.data??[];if(p.length===0)return null;const O=e.Ã¥penBehandling&&un.includes(e.Ã¥penBehandling.tilstand)?e.Ã¥penBehandling:void 0,A=yn(p,O,I,e,u,E,a),_=bn(t,A,E,g),v=fn(_,g),j=A.find(S=>N(S.opprettet).isSameOrBefore(N(),"d"));return i.jsx("div",{children:_.map((S,X)=>{const le=X===v,G=S.dokumenter.map(J=>i.jsx(Nr,{dokument:J,visesITidslinjen:!0},J.url)),P=S.tidslinjeHendelseType!==d.FAMILIEHENDELSE&&N(S.opprettet).isSameOrBefore(N()),he=A.findIndex(J=>J===S)===A.length-1,Re=!t&&X===_.length-1&&!he;return i.jsx(vt,{date:S.opprettet,title:Dn(S,a,S.tidligstBehandlingsDato,I,u,e),isActiveStep:le,visKlokkeslett:P,type:S.tidslinjeHendelseType,fÃ¸rsteUttaksdagISaken:c,tidligstBehandlingsDato:S.tidligstBehandlingsDato,finnesHendelserFÃ¸rAktivtSteg:!!j,visHeleTidslinjen:t,erSistePÃ¥ForsidenMenIkkeSisteIHeleTidslinjen:Re,children:i.jsxs("ul",{className:"list-none p-0",children:[S.tidslinjeHendelseType===d.VENT_DOKUMENTASJON&&I&&I.length>1&&i.jsxs("div",{className:o.element("manglende_vedlegg"),children:[i.jsx("div",{children:a.formatMessage({id:"tidslinje.VENT_DOKUMENTASJON.flereVedlegg.tittel"})}),i.jsx("ul",{children:I.map(J=>i.jsx("li",{children:a.formatMessage({id:`ettersendelse.${J}`})},ue()))})]}),S.merInformasjon&&i.jsx(te,{size:"small",className:o.element("mer_informasjon"),children:S.merInformasjon}),G.length>0&&G.length<=3&&G,G.length>0&&G.length>3&&i.jsx(dr,{className:o.element("medium_font"),header:`Du sendte ${S.dokumenter.length} dokumenter`,children:G}),S.linkTittel&&S.eksternalUrl&&i.jsxs(ae,{href:S.eksternalUrl,className:o.element("link"),children:[i.jsx(te,{size:"small",children:S.linkTittel}),i.jsx(pr,{fontSize:"16px","aria-hidden":!0})]}),S.linkTittel&&S.internalUrl&&i.jsx(se,{className:o.element("medium_font"),to:`${l}/${S.internalUrl}`,children:i.jsx(pe,{children:S.linkTittel})})]})},ue())})})};Pe.__docgenInfo={description:"",methods:[],displayName:"Tidslinje"};const It=({sÃ¸kerinfo:e,isFirstRender:t})=>{const n=ne();return i.jsx(U,{header:i.jsx(ge,{sak:n}),children:i.jsx(Hn,{sÃ¸kerinfo:e,isFirstRender:t})})},Hn=({sÃ¸kerinfo:e,isFirstRender:t})=>{var v;const n=H(),r=Z(),s=Ne();M(Ce(r.saksnummer)),gt(r.redirect,r.saksnummer,t),ie("blue"),C(h.SAKSOVERSIKT);const a=ne();W(`${bt(a==null?void 0:a.ytelse)} - ${n.formatMessage({id:"dineForeldrepenger"})}`);const l=Nt(),o=M(qe(r.saksnummer)),c=M(Qe(r.saksnummer)),u=M(ze()),E=u.isSuccess&&!u.data,g=it(a);r.redirect===Se.REDIRECT_FROM_SÃKNAD&&s(`${h.SAKSOVERSIKT}/${r.saksnummer}`);const p=Fn(o.data),I=l===r.saksnummer||p!==void 0,O=I&&(a==null?void 0:a.Ã¥penBehandling)!==void 0;if(E)return i.jsxs($,{gap:"2",children:[I&&i.jsx(je,{relevantNyTidslinjehendelse:p,bankkonto:e.sÃ¸ker.bankkonto,ytelse:void 0}),i.jsx(B,{variant:"warning",children:"Det ser ut som det tar litt tid Ã¥ opprette saken din akkurat i dag. SÃ¸knaden din er sendt, sÃ¥ du kan vente litt og komme tilbake senere for Ã¥ se alle detaljene i saken din."}),i.jsx(ae,{as:se,to:`${h.HOVEDSIDE}`,children:n.formatMessage({id:"saksoversikt"})})]});if(!a)return i.jsx(B,{variant:"warning",children:`Vi finner ingen sak med saksnummer: ${r.saksnummer}.`});const A=e.sÃ¸ker.fornavn,_=We(e,a);return i.jsxs($,{gap:"4",children:[O&&i.jsx(je,{relevantNyTidslinjehendelse:p,bankkonto:e.sÃ¸ker.bankkonto,ytelse:a.ytelse}),i.jsx(Pr,{saksnummer:a.saksnummer}),i.jsxs($,{gap:"1",children:[i.jsx(me,{heading:n.formatMessage({id:"saksoversikt.tidslinje"}),showSkeleton:o.isPending||c.isPending,skeletonProps:{height:"250px",variant:"rounded"},className:"mb-2",children:i.jsx(Pe,{sak:a,tidslinjeHendelserQuery:o,manglendeVedleggQuery:c,visHeleTidslinjen:!1,sÃ¸kersBarn:e.sÃ¸ker.barn??[]})}),i.jsx("section",{className:"mb-12",children:i.jsx(ve,{tittel:"Se hele prosessen",to:h.TIDSLINJEN})})]}),i.jsxs(xr,{gap:"4",columns:{sm:1,md:2},children:[i.jsx(ve,{tittel:"Dokumenter",to:h.DOKUMENTER,Ikon:Hr}),i.jsx(ve,{tittel:"Ettersend dokumenter",to:h.ETTERSEND,Ikon:wr})]}),a.ytelse===D.FORELDREPENGER&&i.jsx(me,{heading:n.formatMessage({id:"saksoversikt.dinPlan"}),showSkeleton:g.isLoading,skeletonProps:{height:"210px",variant:"rounded"},children:i.jsx(Ge,{sak:a,visHelePlanen:!1,navnPÃ¥SÃ¸ker:A,navnAnnenForelder:_,annenPartsPerioder:(v=g.data)==null?void 0:v.perioder,termindato:a.familiehendelse.termindato})})]})};It.__docgenInfo={description:"",methods:[],displayName:"Saksoversikt",props:{sÃ¸kerinfo:{required:!0,tsType:{name:"SÃ¸kerinfoDTO"},description:""},isFirstRender:{required:!0,tsType:{name:"ReactMutableRefObject",raw:"React.MutableRefObject<boolean>",elements:[{name:"boolean"}]},description:""}}};const Un=({sÃ¸kersBarn:e,sak:t})=>{const n=oe("tidslinje-page"),r=H();W(`${r.formatMessage({id:"heleProsessen"})} -${r.formatMessage({id:"dineForeldrepenger"})}`),ie("white"),C(h.TIDSLINJEN);const s=Z(),a=M(qe(s.saksnummer)),l=M(Qe(s.saksnummer));return a.isPending||l.isPending||!t?i.jsx(tt,{size:"large","aria-label":"Henter status for din sÃ¸knad"}):i.jsxs("div",{className:n.element("div"),children:[i.jsx(Oe,{spacing:!0,level:"2",size:"medium",children:"Dette skjer i saken"}),i.jsx(Pe,{sak:t,visHeleTidslinjen:!0,sÃ¸kersBarn:e,tidslinjeHendelserQuery:a,manglendeVedleggQuery:l})]})};function _t({sÃ¸kersBarn:e}){const t=ne();return i.jsx(U,{header:i.jsx(ge,{sak:t}),children:i.jsx(Un,{sak:t,sÃ¸kersBarn:e})})}_t.__docgenInfo={description:"",methods:[],displayName:"TidslinjePage",props:{sÃ¸kersBarn:{required:!0,tsType:{name:"Array",elements:[{name:"SÃ¸kerinfoDTOBarn"}],raw:"SÃ¸kerinfoDTOBarn[]"},description:""}}};const $n=({sÃ¸kerinfo:e,saker:t})=>{const n=m.useRef(!0);return i.jsxs(i.Fragment,{children:[i.jsx(Ot,{children:i.jsxs(L,{element:i.jsx(Yn,{saker:t}),children:[i.jsx(L,{path:`${h.HOVEDSIDE}/:redirect?`,element:i.jsx(pt,{saker:t,isFirstRender:n,sÃ¸kerinfo:e})}),i.jsxs(L,{path:`${h.SAKSOVERSIKT}/:saksnummer/:redirect?`,element:i.jsx(st,{}),children:[i.jsx(L,{index:!0,element:i.jsx(It,{sÃ¸kerinfo:e,isFirstRender:n})}),i.jsx(L,{path:h.DIN_PLAN,element:i.jsx(lt,{sÃ¸kerinfo:e})}),i.jsx(L,{path:h.DOKUMENTER,element:i.jsx(dt,{})}),i.jsx(L,{path:h.TIDSLINJEN,element:i.jsx(_t,{sÃ¸kersBarn:e.sÃ¸ker.barn??[]})}),i.jsx(L,{path:`${h.OPPGAVER}/:oppgaveId`,element:i.jsx(Tt,{fnr:e.sÃ¸ker.fnr})}),i.jsx(L,{path:h.ETTERSEND,element:i.jsx(mt,{saker:t})})]}),i.jsx(L,{path:"*",element:i.jsx(Lt,{to:h.HOVEDSIDE})})]})}),i.jsx(yr,{})]})};function Yn({saker:e}){const t=Ne(),n=Ae(e),r=n.length===1?n[0].saksnummer:void 0,s=Mt(h.HOVEDSIDE),[a,l]=m.useState(!0),o=s&&a;return m.useEffect(()=>{l(!1)},[]),m.useEffect(()=>{o&&r&&t(`${h.SAKSOVERSIKT}/${r}`)},[o,t,r]),i.jsx($e,{})}function U({header:e,children:t}){return i.jsxs(i.Fragment,{children:[e,i.jsx(br,{className:"md:pb-28 pb-4 pl-4 pr-4",children:t}),i.jsx(At,{})]})}U.__docgenInfo={description:"",methods:[],displayName:"PageRouteLayout",props:{header:{required:!0,tsType:{name:"ReactNode"},description:""},children:{required:!0,tsType:{name:"ReactNode"},description:""}}};$n.__docgenInfo={description:"",methods:[],displayName:"ForeldrepengeoversiktRoutes"};export{lt as D,mt as E,pt as F,Tt as M,It as S,_t as T,dt as a,$n as b};
