import{j as e}from"./jsx-runtime-CLpGMVip.js";import{S as W,a as J,b as Q,c as X}from"./svpsaker-usSjhgRb.js";import{L as Z}from"./LayoutWrapper-Cvi31uXS.js";import{d as h}from"./dates-C5Vjd-yy.js";import{l as ee,S as re,a as se}from"./lodash-jRVyhE9m.js";import{r as m,R as H}from"./index-CR__hKHy.js";import{c as k,t as te,b as ae,T as ne}from"./UttaksdagenString-B8Yb1Gis.js";import{c as oe,a as ie}from"./stringUtils-xBoGBqui.js";import{V as E,H as u}from"./VStack-BZkCtxmu.js";import{H as le,B as d}from"./Label-vuqQZ1tj.js";import{H as N}from"./HGrid-Bpfn9h1_.js";import{S as I}from"./Responsive-iNj1KCW0.js";import{S as de}from"./HeartFill-B9NHZhHv.js";import{u as G}from"./useId-CID_lvh_.js";import{M as ce}from"./chunk-SYFQ2XB5-D9pMU80H.js";import"./Ytelse-7td-ciMh.js";import"./index-BDNcHBiq.js";var pe=function(s,t){var o={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&t.indexOf(r)<0&&(o[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(s);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(s,r[a])&&(o[r[a]]=s[r[a]]);return o};const me=m.forwardRef((s,t)=>{var{title:o,titleId:r}=s,a=pe(s,["title","titleId"]);let i=G();return i=o?r||"title-"+i:void 0,m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:t,"aria-labelledby":i},a),o?m.createElement("title",{id:i},o):null,m.createElement("path",{fill:"currentColor",d:"M10.049 2.578a.75.75 0 1 0-1.449.389l.197.737a10.65 10.65 0 0 0-6.323 5.83c-.16.364-.19.77-.087 1.153l.427 1.594a.75.75 0 0 0 .918.53l2.415-.646a.75.75 0 0 0 .456-.35l.332-.575.575.332a.75.75 0 0 0 .57.075l2.656-.712 1.432 5.348c-3.962.317-5.77 2.865-6.579 4.004q-.106.151-.19.265a.75.75 0 0 0 .762 1.18l.012-.002.037-.008.145-.031.547-.112a61 61 0 0 1 1.863-.34c1.498-.248 3.323-.489 4.735-.489s3.237.241 4.735.49a61 61 0 0 1 2.555.482l.037.008.012.003a.75.75 0 0 0 .785-1.149c-1.041-1.562-3.535-4.064-7.906-4.314l-1.534-5.723 2.657-.712a.75.75 0 0 0 .455-.35l.332-.574.575.332a.75.75 0 0 0 .57.075l2.414-.647a.75.75 0 0 0 .53-.919l-.427-1.594a1.75 1.75 0 0 0-.651-.955 10.65 10.65 0 0 0-8.393-1.888z"}))});var fe=function(s,t){var o={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&t.indexOf(r)<0&&(o[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(s);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(s,r[a])&&(o[r[a]]=s[r[a]]);return o};const ge=m.forwardRef((s,t)=>{var{title:o,titleId:r}=s,a=fe(s,["title","titleId"]);let i=G();return i=o?r||"title-"+i:void 0,m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:t,"aria-labelledby":i},a),o?m.createElement("title",{id:i},o):null,m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.47 2.97a.75.75 0 0 1 .53-.22c2.018 0 3.74.242 4.95 1.15 1.269.952 1.8 2.486 1.8 4.6V9c0 1.557-.255 2.997-1.015 4.06-.796 1.115-2.05 1.69-3.735 1.69h-6c-1.685 0-2.94-.575-3.735-1.69C5.505 11.998 5.25 10.558 5.25 9V6.5A1.75 1.75 0 0 0 3.5 4.75a.75.75 0 0 1 0-1.5A3.25 3.25 0 0 1 6.75 6.5v.75h6.5V3.5a.75.75 0 0 1 .22-.53M6.75 18.5a2.75 2.75 0 1 1 5.5 0 2.75 2.75 0 0 1-5.5 0m7 0a2.75 2.75 0 1 1 5.5 0 2.75 2.75 0 0 1-5.5 0",clipRule:"evenodd"}))}),O=({svpSak:s})=>{var i,f,g;const t=!((i=s.gjeldendeVedtak)!=null&&i.avslagÅrsak),o=((f=s.åpenBehandling)==null?void 0:f.søknad.arbeidsforhold)??((g=s.gjeldendeVedtak)==null?void 0:g.arbeidsforhold),r=s.familiehendelse.termindato;if(!o||!r)return null;const a=ke(s);return e.jsxs(E,{children:[e.jsx(le,{level:"2",size:"medium",spacing:!0,children:t?"Dette har du fått vedtatt":"Dette har du søkt om"}),e.jsxs(E,{gap:"4",className:"bg-white p-4",children:[Object.values(ee.groupBy(a,"fom")).map(n=>e.jsxs(H.Fragment,{children:[e.jsx(ue,{perioder:n}),e.jsx("div",{className:"h-px bg-border-divider"})]},n[0].fom)),e.jsxs(N,{gap:"2",columns:{md:"1fr 1fr 300px"},align:"center",children:[e.jsxs(d,{children:[k(te(r))," - ",k(r)]}),e.jsx(d,{children:" "}),e.jsx(je,{})]}),e.jsx("div",{className:"h-[1] bg-border-divider"}),e.jsxs(N,{gap:"2",columns:{md:"1fr 1fr 300px"},align:"center",children:[e.jsx(d,{children:oe(ae(r))}),e.jsx(d,{children:" "}),e.jsx(ve,{})]})]})]})},ue=({perioder:s})=>e.jsx(N,{gap:"2",columns:{xs:"1fr 40px",md:"1fr 1fr 300px"},align:"center",children:s.map((t,o)=>{const r=ie(t.aktivitet.arbeidsgiverNavn)??t.aktivitet.arbeidsgiver.id,a=o===0?`${k(t.fom)} - ${k(t.tom)}`:"",i=t.type==="HEL"?0:t.type==="INGEN"?100:100-(t.arbeidstidprosent??0);return e.jsxs(H.Fragment,{children:[e.jsx(I,{above:"md",asChild:!0,children:e.jsxs("div",{className:"contents",children:[e.jsx(d,{className:"whitespace-nowrap",children:a}),e.jsx(d,{children:r}),t.type&&e.jsxs(u,{wrap:!1,gap:"4",align:"center",justify:"space-between",className:"pt-2 pb-2 pl-4 pr-4 bg-green-100 rounded-3xl",children:[e.jsxs(d,{children:[i,"% svangerskapspenger"]}),e.jsx(P,{})]}),t.årsak==="FERIE"&&e.jsx(he,{}),t.årsak==="SYKEPENGER"&&e.jsx(xe,{})]})}),e.jsx(I,{below:"md",asChild:!0,children:e.jsxs("div",{className:"contents",children:[e.jsx(d,{className:"col-span-2",children:a}),e.jsxs(E,{children:[e.jsx("strong",{children:r}),e.jsxs(d,{children:[t.type&&`${i}% svangerskapspenger`,t.årsak==="FERIE"&&"Ferie",t.årsak==="SYKEPENGER"&&"Sykepenger"]})]}),t.type&&e.jsx(P,{}),t.årsak==="FERIE"&&e.jsx(L,{}),t.årsak==="SYKEPENGER"&&e.jsx(T,{})]})})]},t.aktivitet.arbeidsgiverNavn)})}),he=()=>e.jsxs(u,{gap:"4",align:"center",justify:"space-between",className:"pt-2 pb-2 pl-4 pr-4 bg-orange-100 rounded-3xl",wrap:!1,children:[e.jsx(d,{children:"Du har ferie"}),e.jsx(L,{})]}),xe=()=>e.jsxs(u,{gap:"4",align:"center",justify:"space-between",className:"pt-2 pb-2 pl-4 pr-4 bg-orange-100 rounded-3xl",wrap:!1,children:[e.jsx(d,{children:"Du er sykemeldt"}),e.jsx(T,{})]}),je=()=>e.jsxs(u,{gap:"4",align:"center",justify:"space-between",className:"pt-2 pb-2 pl-4 pr-4 bg-purple-50 rounded-3xl",wrap:!1,children:[e.jsx(d,{children:"Du kan søke om foreldrepenger"}),e.jsx(be,{})]}),ve=()=>e.jsxs(u,{gap:"4",align:"center",justify:"space-between",className:"pt-2 pb-2 pl-4 pr-4 bg-red-50 rounded-3xl",children:[e.jsx(d,{children:"Termin"}),e.jsx(de,{fontSize:"2.5rem",className:"text-icon-danger p-05","aria-hidden":!0})]}),T=()=>e.jsx("div",{className:"rounded-3xl bg-orange-200 justify-self-end",children:e.jsx(re,{fontSize:"2.5rem",className:" text-orange-500 p-05","aria-hidden":!0})}),L=()=>e.jsx("div",{className:"rounded-3xl bg-orange-200 justify-self-end",children:e.jsx(me,{fontSize:"2.5rem",className:" text-orange-500 p-05","aria-hidden":!0})}),P=()=>e.jsx("div",{className:"rounded-3xl bg-green-200 justify-self-end",children:e.jsx(se,{fontSize:"2.5rem",className:" text-surface-success p-05","aria-hidden":!0})}),be=()=>e.jsx("div",{className:"rounded-3xl bg-purple-100 justify-self-end",children:e.jsx(ge,{fontSize:"2.5rem",className:" text-purple-500 p-05","aria-hidden":!0})}),ke=s=>{var f,g;const o=(((f=s.åpenBehandling)==null?void 0:f.søknad.arbeidsforhold)??((g=s.gjeldendeVedtak)==null?void 0:g.arbeidsforhold)??[]).map(n=>[...n.tilrettelegginger,...n.oppholdsperioder].map(l=>({...l,arbeidstidprosent:"arbeidstidprosent"in l?l.arbeidstidprosent:void 0,type:"type"in l?l.type:void 0,årsak:"årsak"in l?l.årsak:void 0,fom:l.fom,tom:l.tom,aktivitet:n.aktivitet,behovFrom:n.behovFrom,avslutningÅrsak:n.avslutningÅrsak}))).flat().sort((n,l)=>n.fom.localeCompare(l.fom)),r=[],a=[...o];let i=0;for(;a.length>0;){const n=a.shift();if(!n)break;const l=a.findIndex(p=>p.fom===n.fom&&p.tom===n.tom?!1:ne(p).inneholderDato(n.tom)),c=l!==-1?a.splice(l,1)[0]:void 0;if(c){let p,S;const $=h(n.fom).isSameOrAfter(c.fom)&&h(n.tom).isSameOrBefore(c.tom),U={...n,tom:h(c.fom).subtract(1,"day").format("YYYY-MM-DD")},q={...n,fom:c.fom};if(n.tom!==c.tom?(p={...c,tom:n.tom},S={...c,fom:h(n.tom).add(1,"day").format("YYYY-MM-DD")}):p=c,$){const y=[n,p,S].filter(w=>w!==void 0);a.unshift(...y)}else{const y=[U,q,p,S].filter(w=>w!==void 0);a.unshift(...y)}}if(c||r.push(n),++i>500){console.error("lagKronologiskeSvpPerioder er tilsynelatende stuck i en evig loop");break}}return r.sort((n,l)=>n.fom.localeCompare(l.fom))};O.__docgenInfo={description:"",methods:[],displayName:"Svangerskapspenger",props:{svpSak:{required:!0,tsType:{name:"SvangerskapspengeSak"},description:""}}};const Ye={title:"SVP oversikt",component:O,render:s=>e.jsx(ce,{children:e.jsx(Z,{className:"pt-1 pb-1 pl-4 pr-4 bg-deepblue-50",children:e.jsx(O,{...s})})})},x={args:{svpSak:W}},j={args:{svpSak:J}},v={args:{svpSak:Q}},b={args:{svpSak:X}};var _,F,C;x.parameters={...x.parameters,docs:{...(_=x.parameters)==null?void 0:_.docs,source:{originalSource:`{
  args: {
    svpSak: SAK_1
  }
}`,...(C=(F=x.parameters)==null?void 0:F.docs)==null?void 0:C.source}}};var D,R,B;j.parameters={...j.parameters,docs:{...(D=j.parameters)==null?void 0:D.docs,source:{originalSource:`{
  args: {
    svpSak: SAK_2
  }
}`,...(B=(R=j.parameters)==null?void 0:R.docs)==null?void 0:B.source}}};var K,A,M;v.parameters={...v.parameters,docs:{...(K=v.parameters)==null?void 0:K.docs,source:{originalSource:`{
  args: {
    svpSak: SAK_3
  }
}`,...(M=(A=v.parameters)==null?void 0:A.docs)==null?void 0:M.source}}};var Y,V,z;b.parameters={...b.parameters,docs:{...(Y=b.parameters)==null?void 0:Y.docs,source:{originalSource:`{
  args: {
    svpSak: SAK_4
  }
}`,...(z=(V=b.parameters)==null?void 0:V.docs)==null?void 0:z.source}}};const Ve=["Case1","Case2","Case3","Case4"];export{x as Case1,j as Case2,v as Case3,b as Case4,Ve as __namedExportsOrder,Ye as default};
