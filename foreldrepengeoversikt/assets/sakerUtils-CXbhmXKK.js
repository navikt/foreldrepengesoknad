import{d as l}from"./dates-efjv5HSM.js";import{g as se}from"./index-DQLiH3RP.js";import{r as ue,a as oe,b as g,c as fe,d as de,e as ce,f as jr,g as le,h as Vr,i as he,j as ve,k as pe,l as Wr,m as me,B as E}from"./_baseIsEqual-NirykxYQ.js";import{i as ge,e as _e,g as ye,h as be,j as qe,a as b}from"./UttaksdagenString-yWUZqO5q.js";var P,cr;function Jr(){if(cr)return P;cr=1;function r(e,n){for(var a=-1,i=e==null?0:e.length,t=Array(i);++a<i;)t[a]=n(e[a],a,e);return t}return P=r,P}var R,lr;function q(){if(lr)return R;lr=1;var r=ue(),e=oe(),n="[object Symbol]";function a(i){return typeof i=="symbol"||e(i)&&r(i)==n}return R=a,R}var A,hr;function fr(){if(hr)return A;hr=1;var r=g(),e=q(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function i(t,u){if(r(t))return!1;var s=typeof t;return s=="number"||s=="symbol"||s=="boolean"||t==null||e(t)?!0:a.test(t)||!n.test(t)||u!=null&&t in Object(u)}return A=i,A}var F,vr;function Se(){if(vr)return F;vr=1;var r=fe(),e="Expected a function";function n(a,i){if(typeof a!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var t=function(){var u=arguments,s=i?i.apply(this,u):u[0],o=t.cache;if(o.has(s))return o.get(s);var d=a.apply(this,u);return t.cache=o.set(s,d)||o,d};return t.cache=new(n.Cache||r),t}return n.Cache=r,F=n,F}var B,pr;function Me(){if(pr)return B;pr=1;var r=Se(),e=500;function n(a){var i=r(a,function(u){return t.size===e&&t.clear(),u}),t=i.cache;return i}return B=n,B}var O,mr;function Ee(){if(mr)return O;mr=1;var r=Me(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,a=r(function(i){var t=[];return i.charCodeAt(0)===46&&t.push(""),i.replace(e,function(u,s,o,d){t.push(o?d.replace(n,"$1"):s||u)}),t});return O=a,O}var T,gr;function Pe(){if(gr)return T;gr=1;var r=de(),e=Jr(),n=g(),a=q(),i=r?r.prototype:void 0,t=i?i.toString:void 0;function u(s){if(typeof s=="string")return s;if(n(s))return e(s,u)+"";if(a(s))return t?t.call(s):"";var o=s+"";return o=="0"&&1/s==-1/0?"-0":o}return T=u,T}var C,_r;function Re(){if(_r)return C;_r=1;var r=Pe();function e(n){return n==null?"":r(n)}return C=e,C}var D,yr;function Qr(){if(yr)return D;yr=1;var r=g(),e=fr(),n=Ee(),a=Re();function i(t,u){return r(t)?t:e(t,u)?[t]:n(a(t))}return D=i,D}var I,br;function S(){if(br)return I;br=1;var r=q();function e(n){if(typeof n=="string"||r(n))return n;var a=n+"";return a=="0"&&1/n==-1/0?"-0":a}return I=e,I}var G,qr;function dr(){if(qr)return G;qr=1;var r=Qr(),e=S();function n(a,i){i=r(i,a);for(var t=0,u=i.length;a!=null&&t<u;)a=a[e(i[t++])];return t&&t==u?a:void 0}return G=n,G}var k,Sr;function Ae(){if(Sr)return k;Sr=1;var r=ce(),e=jr(),n=1,a=2;function i(t,u,s,o){var d=s.length,f=d,c=!o;if(t==null)return!f;for(t=Object(t);d--;){var h=s[d];if(c&&h[2]?h[1]!==t[h[0]]:!(h[0]in t))return!1}for(;++d<f;){h=s[d];var v=h[0],y=t[v],p=h[1];if(c&&h[2]){if(y===void 0&&!(v in t))return!1}else{var m=new r;if(o)var M=o(y,p,v,t,u,m);if(!(M===void 0?e(p,y,n|a,o,m):M))return!1}}return!0}return k=i,k}var w,Mr;function re(){if(Mr)return w;Mr=1;var r=le();function e(n){return n===n&&!r(n)}return w=e,w}var L,Er;function Fe(){if(Er)return L;Er=1;var r=re(),e=Vr();function n(a){for(var i=e(a),t=i.length;t--;){var u=i[t],s=a[u];i[t]=[u,s,r(s)]}return i}return L=n,L}var N,Pr;function ee(){if(Pr)return N;Pr=1;function r(e,n){return function(a){return a==null?!1:a[e]===n&&(n!==void 0||e in Object(a))}}return N=r,N}var K,Rr;function Be(){if(Rr)return K;Rr=1;var r=Ae(),e=Fe(),n=ee();function a(i){var t=e(i);return t.length==1&&t[0][2]?n(t[0][0],t[0][1]):function(u){return u===i||r(u,i,t)}}return K=a,K}var x,Ar;function Oe(){if(Ar)return x;Ar=1;var r=dr();function e(n,a,i){var t=n==null?void 0:r(n,a);return t===void 0?i:t}return x=e,x}var H,Fr;function Te(){if(Fr)return H;Fr=1;function r(e,n){return e!=null&&n in Object(e)}return H=r,H}var z,Br;function Ce(){if(Br)return z;Br=1;var r=Qr(),e=he(),n=g(),a=pe(),i=ve(),t=S();function u(s,o,d){o=r(o,s);for(var f=-1,c=o.length,h=!1;++f<c;){var v=t(o[f]);if(!(h=s!=null&&d(s,v)))break;s=s[v]}return h||++f!=c?h:(c=s==null?0:s.length,!!c&&i(c)&&a(v,c)&&(n(s)||e(s)))}return z=u,z}var Y,Or;function De(){if(Or)return Y;Or=1;var r=Te(),e=Ce();function n(a,i){return a!=null&&e(a,i,r)}return Y=n,Y}var $,Tr;function Ie(){if(Tr)return $;Tr=1;var r=jr(),e=Oe(),n=De(),a=fr(),i=re(),t=ee(),u=S(),s=1,o=2;function d(f,c){return a(f)&&i(c)?t(u(f),c):function(h){var v=e(h,f);return v===void 0&&v===c?n(h,f):r(c,v,s|o)}}return $=d,$}var U,Cr;function ne(){if(Cr)return U;Cr=1;function r(e){return e}return U=r,U}var X,Dr;function Ge(){if(Dr)return X;Dr=1;function r(e){return function(n){return n==null?void 0:n[e]}}return X=r,X}var Z,Ir;function ke(){if(Ir)return Z;Ir=1;var r=dr();function e(n){return function(a){return r(a,n)}}return Z=e,Z}var j,Gr;function we(){if(Gr)return j;Gr=1;var r=Ge(),e=ke(),n=fr(),a=S();function i(t){return n(t)?r(a(t)):e(t)}return j=i,j}var V,kr;function Le(){if(kr)return V;kr=1;var r=Be(),e=Ie(),n=ne(),a=g(),i=we();function t(u){return typeof u=="function"?u:u==null?n:typeof u=="object"?a(u)?e(u[0],u[1]):r(u):i(u)}return V=t,V}var W,wr;function Ne(){if(wr)return W;wr=1;function r(e){return function(n,a,i){for(var t=-1,u=Object(n),s=i(n),o=s.length;o--;){var d=s[e?o:++t];if(a(u[d],d,u)===!1)break}return n}}return W=r,W}var J,Lr;function Ke(){if(Lr)return J;Lr=1;var r=Ne(),e=r();return J=e,J}var Q,Nr;function xe(){if(Nr)return Q;Nr=1;var r=Ke(),e=Vr();function n(a,i){return a&&r(a,i,e)}return Q=n,Q}var rr,Kr;function He(){if(Kr)return rr;Kr=1;var r=Wr();function e(n,a){return function(i,t){if(i==null)return i;if(!r(i))return n(i,t);for(var u=i.length,s=a?u:-1,o=Object(i);(a?s--:++s<u)&&t(o[s],s,o)!==!1;);return i}}return rr=e,rr}var er,xr;function ze(){if(xr)return er;xr=1;var r=xe(),e=He(),n=e(r);return er=n,er}var nr,Hr;function Ye(){if(Hr)return nr;Hr=1;var r=ze(),e=Wr();function n(a,i){var t=-1,u=e(a)?Array(a.length):[];return r(a,function(s,o,d){u[++t]=i(s,o,d)}),u}return nr=n,nr}var tr,zr;function $e(){if(zr)return tr;zr=1;function r(e,n){var a=e.length;for(e.sort(n);a--;)e[a]=e[a].value;return e}return tr=r,tr}var ar,Yr;function Ue(){if(Yr)return ar;Yr=1;var r=q();function e(n,a){if(n!==a){var i=n!==void 0,t=n===null,u=n===n,s=r(n),o=a!==void 0,d=a===null,f=a===a,c=r(a);if(!d&&!c&&!s&&n>a||s&&o&&f&&!d&&!c||t&&o&&f||!i&&f||!u)return 1;if(!t&&!s&&!c&&n<a||c&&i&&u&&!t&&!s||d&&i&&u||!o&&u||!f)return-1}return 0}return ar=e,ar}var ir,$r;function Xe(){if($r)return ir;$r=1;var r=Ue();function e(n,a,i){for(var t=-1,u=n.criteria,s=a.criteria,o=u.length,d=i.length;++t<o;){var f=r(u[t],s[t]);if(f){if(t>=d)return f;var c=i[t];return f*(c=="desc"?-1:1)}}return n.index-a.index}return ir=e,ir}var sr,Ur;function Ze(){if(Ur)return sr;Ur=1;var r=Jr(),e=dr(),n=Le(),a=Ye(),i=$e(),t=me(),u=Xe(),s=ne(),o=g();function d(f,c,h){c.length?c=r(c,function(p){return o(p)?function(m){return e(m,p.length===1?p[0]:p)}:p}):c=[s];var v=-1;c=r(c,t(n));var y=a(f,function(p,m,M){var ae=r(c,function(ie){return ie(p)});return{criteria:ae,index:++v,value:p}});return i(y,function(p,m){return u(p,m,h)})}return sr=d,sr}var ur,Xr;function je(){if(Xr)return ur;Xr=1;var r=Ze(),e=g();function n(a,i,t,u){return a==null?[]:(e(i)||(i=i==null?[]:[i]),t=u?void 0:t,e(t)||(t=t==null?[]:[t]),r(a,i,t))}return ur=n,ur}var Ve=je();const We=se(Ve);l.extend(_e);l.extend(ye);l.extend(be);l.extend(qe);const Je=(r,e)=>l(r).format(e||"dddd D. MMMM YYYY"),vn=r=>Je(r,"KL.HH:mm"),_=r=>{if(r!==void 0&&ge(r)&&l(r,"YYYY-MM-DD",!0).isValid())return l.utc(r).toDate()},Qe=(r,e)=>r===void 0||e===void 0?!1:l(r).isSameOrAfter(l(e).subtract(1,"day"),"day")&&l(r).isSameOrBefore(l(e).add(1,"day"),"day"),pn=(r,e,n)=>{const a=!r.sakTilhørerMor;return{farMedmor:a?e:n,mor:a?n:e}},rn=r=>!r.dødsdato,en=r=>[...r.engangsstønad,...r.foreldrepenger,...r.svangerskapspenger];function nn(r,e){return l(r.fødselsdato).isAfter(e.fødselsdato,"d")?1:l(r.fødselsdato).isBefore(e.fødselsdato,"d")||r.fornavn<e.fornavn?-1:1}const mn=r=>{var e,n;if(r.gjeldendeVedtak&&r.gjeldendeVedtak.perioder.length>0)return _(r.gjeldendeVedtak.perioder[0].fom);if((e=r.åpenBehandling)!=null&&e.søknadsperioder)return _((n=r.åpenBehandling)==null?void 0:n.søknadsperioder[0].fom)},gn=(r,e)=>e?{type:E.ADOPTERT_STEBARN,adopsjonsdato:r.omsorgsovertakelse,antallBarn:r.antallBarn,fødselsdatoer:[r.fødselsdato]}:r.fødselsdato?{type:E.FØDT,fødselsdatoer:[r.fødselsdato],termindato:r.termindato,antallBarn:r.antallBarn}:{type:E.UFØDT,termindato:r.termindato,antallBarn:r.antallBarn},tn=(r,e)=>{const n=r.ytelse==="FORELDREPENGER",a=n&&r.barn!==void 0?r.barn.map(f=>f.fnr).flat():[],i=n&&e.filter(f=>a.includes(f.fnr))||[],t=_(r.familiehendelse.fødselsdato),u=t!==void 0?e.filter(f=>Qe(_(f.fødselsdato),t)&&!(i!=null&&i.find(c=>c.fnr===f.fnr))):[],s=i.concat(u);s.sort(nn);const o=s.filter(f=>f.fødselsdato!==void 0).map(f=>_(f.fødselsdato));let d=[];return o&&o.length>0?d=o:t&&(d=[t]),{fornavn:s==null?void 0:s.filter(f=>f.fornavn!==void 0&&f.fornavn.trim()!=="").map(f=>[f.fornavn,f.mellomnavn??""].join(" ")),fødselsdatoer:d,alleBarnaLever:!!(s!=null&&s.every(f=>rn(f)))}},_n=(r,e)=>{const n=en(e);return We(n,i=>i.familiehendelse?Zr(i.familiehendelse):"","desc").reduce((i,t)=>{if(t.familiehendelse){const u=Zr(t.familiehendelse),s=i.find(o=>an(o,u));if(s&&s.saker.push(t),s&&i.includes(s))return i;{const o=sn(t.familiehendelse,"gjelderAdopsjon"in t?t.gjelderAdopsjon:void 0),d={antallBarn:t.familiehendelse.antallBarn,familiehendelsedato:u,saker:[t],type:o,ytelse:t.ytelse,barn:o!=="termin"?tn(t,r):void 0};return i.push(d),i}}else return i},[])},or=(r,e)=>e==="ENGANGSSTØNAD"?r.map(n=>({...n,ytelse:e})):e==="SVANGERSKAPSPENGER"?r.map(n=>({...n,ytelse:e})):r.map(n=>({...n,ytelse:e})),yn=r=>({foreldrepenger:or(r.foreldrepenger,"FORELDREPENGER"),engangsstønad:or(r.engangsstønad,"ENGANGSSTØNAD"),svangerskapspenger:or(r.svangerskapspenger,"SVANGERSKAPSPENGER")}),an=(r,e)=>{const n=l(e).subtract(2,"months"),a=l(e).add(3,"weeks");if(r)return l(r.familiehendelsedato).isAfter(n)&&l(r.familiehendelsedato).isSameOrBefore(a)},sn=(r,e)=>{if(e)return"adopsjon";const{fødselsdato:n}=r;return n?"fødsel":"termin"},Zr=r=>{const{fødselsdato:e,termindato:n,omsorgsovertakelse:a}=r;return a||e||n},bn=(r,e)=>{const n=e!=null&&e.familiehendelse?e.familiehendelse.fødselsdato:void 0,a=r.søker.barn&&n?r.søker.barn.find(t=>l(t.fødselsdato).isSame(n,"d")):void 0,i=a!=null&&a.annenForelder?a.annenForelder.fornavn:void 0;return i!==void 0&&i.trim()!==""?i:"Annen forelder"},un=(r,e)=>r===1||r===0?e.formatMessage({id:"barn"}):r===2?e.formatMessage({id:"tvillinger"}):r===3?e.formatMessage({id:"trillinger"}):e.formatMessage({id:"flerlinger"}),te=r=>{if(r===void 0)return;const e=[];if(r.forEach(n=>{e.find(i=>l(i).isSame(n,"day"))===void 0&&e.push(n)}),e.length>1){const n=e.map(t=>b(t)),a=n.slice(0,-1).join(", "),i=n[n.length-1];return`${a} og ${i}`}return b(e[0])},on=(r,e,n,a,i)=>{const t=un(n,a);if(n===0&&e===void 0||i==="termin")return{tittel:a.formatMessage({id:"barnHeader.terminBarn"},{barnTekst:t,termindato:b(r)}),undertittel:""};if(i==="adopsjon")return{tittel:a.formatMessage({id:"barnHeader.adoptertBarn"},{adopsjonsdato:b(r)}),undertittel:""};{const u=te(e);return e!==void 0&&e.length>0?{tittel:a.formatMessage({id:"barnHeader.fødtBarn"},{barnTekst:t,fødselsdatoTekst:u}),undertittel:""}:{tittel:"",undertittel:""}}},fn=r=>{if(r.length>1){const e=r.map(a=>a.trim()).slice(0,-1).join(", "),n=r[r.length-1];return`${e} og ${n}`}else return`${r[0]}`},qn=r=>{const{barngruppering:e,familiehendelsedato:n,antallBarn:a,intl:i,situasjon:t}=r,u=e==null?void 0:e.fornavn,s=e==null?void 0:e.fødselsdatoer,o=_(n);if(!o)return{tittel:"",undertittel:""};if(u===void 0||u.length===0||!(e!=null&&e.alleBarnaLever))return on(o,s,a,i,t);const d=fn(u);if(t==="fødsel"){const f=te(s);return{tittel:d,undertittel:`født ${f}`}}return t==="adopsjon"?{tittel:d,undertittel:`adoptert ${b(o)}`}:{tittel:"",undertittel:""}};export{qn as a,_n as b,Zr as c,gn as d,fn as e,Je as f,en as g,vn as h,mn as i,tn as j,pn as k,bn as l,yn as m,sn as u};
