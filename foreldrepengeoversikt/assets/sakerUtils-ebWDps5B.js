import{d as l}from"./dates-Cs9kK9kw.js";import{g as ue}from"./index-CR__hKHy.js";import{r as oe,a as fe,b as v,c as de,d as ce,e as le,f as Wr,g as he,h as Jr,i as pe,j as me,k as ge,l as Qr,m as ve,B as P}from"./_baseIsEqual-Ca4dwh5c.js";import{i as _e,d as ye,e as be,g as qe,h as Se,a as q}from"./UttaksdagenString-BBcnJY7-.js";import{Y as _}from"./Ytelse-7td-ciMh.js";var R,lr;function jr(){if(lr)return R;lr=1;function r(e,n){for(var a=-1,i=e==null?0:e.length,t=Array(i);++a<i;)t[a]=n(e[a],a,e);return t}return R=r,R}var A,hr;function S(){if(hr)return A;hr=1;var r=oe(),e=fe(),n="[object Symbol]";function a(i){return typeof i=="symbol"||e(i)&&r(i)==n}return A=a,A}var F,pr;function dr(){if(pr)return F;pr=1;var r=v(),e=S(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function i(t,u){if(r(t))return!1;var s=typeof t;return s=="number"||s=="symbol"||s=="boolean"||t==null||e(t)?!0:a.test(t)||!n.test(t)||u!=null&&t in Object(u)}return F=i,F}var B,mr;function Me(){if(mr)return B;mr=1;var r=de(),e="Expected a function";function n(a,i){if(typeof a!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var t=function(){var u=arguments,s=i?i.apply(this,u):u[0],o=t.cache;if(o.has(s))return o.get(s);var d=a.apply(this,u);return t.cache=o.set(s,d)||o,d};return t.cache=new(n.Cache||r),t}return n.Cache=r,B=n,B}var O,gr;function Ee(){if(gr)return O;gr=1;var r=Me(),e=500;function n(a){var i=r(a,function(u){return t.size===e&&t.clear(),u}),t=i.cache;return i}return O=n,O}var T,vr;function Pe(){if(vr)return T;vr=1;var r=Ee(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,a=r(function(i){var t=[];return i.charCodeAt(0)===46&&t.push(""),i.replace(e,function(u,s,o,d){t.push(o?d.replace(n,"$1"):s||u)}),t});return T=a,T}var C,_r;function Re(){if(_r)return C;_r=1;var r=ce(),e=jr(),n=v(),a=S(),i=r?r.prototype:void 0,t=i?i.toString:void 0;function u(s){if(typeof s=="string")return s;if(n(s))return e(s,u)+"";if(a(s))return t?t.call(s):"";var o=s+"";return o=="0"&&1/s==-1/0?"-0":o}return C=u,C}var D,yr;function Ae(){if(yr)return D;yr=1;var r=Re();function e(n){return n==null?"":r(n)}return D=e,D}var I,br;function re(){if(br)return I;br=1;var r=v(),e=dr(),n=Pe(),a=Ae();function i(t,u){return r(t)?t:e(t,u)?[t]:n(a(t))}return I=i,I}var G,qr;function M(){if(qr)return G;qr=1;var r=S();function e(n){if(typeof n=="string"||r(n))return n;var a=n+"";return a=="0"&&1/n==-1/0?"-0":a}return G=e,G}var k,Sr;function cr(){if(Sr)return k;Sr=1;var r=re(),e=M();function n(a,i){i=r(i,a);for(var t=0,u=i.length;a!=null&&t<u;)a=a[e(i[t++])];return t&&t==u?a:void 0}return k=n,k}var w,Mr;function Fe(){if(Mr)return w;Mr=1;var r=le(),e=Wr(),n=1,a=2;function i(t,u,s,o){var d=s.length,f=d,c=!o;if(t==null)return!f;for(t=Object(t);d--;){var h=s[d];if(c&&h[2]?h[1]!==t[h[0]]:!(h[0]in t))return!1}for(;++d<f;){h=s[d];var p=h[0],b=t[p],m=h[1];if(c&&h[2]){if(b===void 0&&!(p in t))return!1}else{var g=new r;if(o)var E=o(b,m,p,t,u,g);if(!(E===void 0?e(m,b,n|a,o,g):E))return!1}}return!0}return w=i,w}var L,Er;function ee(){if(Er)return L;Er=1;var r=he();function e(n){return n===n&&!r(n)}return L=e,L}var N,Pr;function Be(){if(Pr)return N;Pr=1;var r=ee(),e=Jr();function n(a){for(var i=e(a),t=i.length;t--;){var u=i[t],s=a[u];i[t]=[u,s,r(s)]}return i}return N=n,N}var K,Rr;function ne(){if(Rr)return K;Rr=1;function r(e,n){return function(a){return a==null?!1:a[e]===n&&(n!==void 0||e in Object(a))}}return K=r,K}var x,Ar;function Oe(){if(Ar)return x;Ar=1;var r=Fe(),e=Be(),n=ne();function a(i){var t=e(i);return t.length==1&&t[0][2]?n(t[0][0],t[0][1]):function(u){return u===i||r(u,i,t)}}return x=a,x}var H,Fr;function Te(){if(Fr)return H;Fr=1;var r=cr();function e(n,a,i){var t=n==null?void 0:r(n,a);return t===void 0?i:t}return H=e,H}var Y,Br;function Ce(){if(Br)return Y;Br=1;function r(e,n){return e!=null&&n in Object(e)}return Y=r,Y}var z,Or;function De(){if(Or)return z;Or=1;var r=re(),e=pe(),n=v(),a=ge(),i=me(),t=M();function u(s,o,d){o=r(o,s);for(var f=-1,c=o.length,h=!1;++f<c;){var p=t(o[f]);if(!(h=s!=null&&d(s,p)))break;s=s[p]}return h||++f!=c?h:(c=s==null?0:s.length,!!c&&i(c)&&a(p,c)&&(n(s)||e(s)))}return z=u,z}var $,Tr;function Ie(){if(Tr)return $;Tr=1;var r=Ce(),e=De();function n(a,i){return a!=null&&e(a,i,r)}return $=n,$}var U,Cr;function Ge(){if(Cr)return U;Cr=1;var r=Wr(),e=Te(),n=Ie(),a=dr(),i=ee(),t=ne(),u=M(),s=1,o=2;function d(f,c){return a(f)&&i(c)?t(u(f),c):function(h){var p=e(h,f);return p===void 0&&p===c?n(h,f):r(c,p,s|o)}}return U=d,U}var X,Dr;function te(){if(Dr)return X;Dr=1;function r(e){return e}return X=r,X}var Z,Ir;function ke(){if(Ir)return Z;Ir=1;function r(e){return function(n){return n==null?void 0:n[e]}}return Z=r,Z}var V,Gr;function we(){if(Gr)return V;Gr=1;var r=cr();function e(n){return function(a){return r(a,n)}}return V=e,V}var W,kr;function Le(){if(kr)return W;kr=1;var r=ke(),e=we(),n=dr(),a=M();function i(t){return n(t)?r(a(t)):e(t)}return W=i,W}var J,wr;function Ne(){if(wr)return J;wr=1;var r=Oe(),e=Ge(),n=te(),a=v(),i=Le();function t(u){return typeof u=="function"?u:u==null?n:typeof u=="object"?a(u)?e(u[0],u[1]):r(u):i(u)}return J=t,J}var Q,Lr;function Ke(){if(Lr)return Q;Lr=1;function r(e){return function(n,a,i){for(var t=-1,u=Object(n),s=i(n),o=s.length;o--;){var d=s[e?o:++t];if(a(u[d],d,u)===!1)break}return n}}return Q=r,Q}var j,Nr;function xe(){if(Nr)return j;Nr=1;var r=Ke(),e=r();return j=e,j}var rr,Kr;function He(){if(Kr)return rr;Kr=1;var r=xe(),e=Jr();function n(a,i){return a&&r(a,i,e)}return rr=n,rr}var er,xr;function Ye(){if(xr)return er;xr=1;var r=Qr();function e(n,a){return function(i,t){if(i==null)return i;if(!r(i))return n(i,t);for(var u=i.length,s=a?u:-1,o=Object(i);(a?s--:++s<u)&&t(o[s],s,o)!==!1;);return i}}return er=e,er}var nr,Hr;function ze(){if(Hr)return nr;Hr=1;var r=He(),e=Ye(),n=e(r);return nr=n,nr}var tr,Yr;function $e(){if(Yr)return tr;Yr=1;var r=ze(),e=Qr();function n(a,i){var t=-1,u=e(a)?Array(a.length):[];return r(a,function(s,o,d){u[++t]=i(s,o,d)}),u}return tr=n,tr}var ar,zr;function Ue(){if(zr)return ar;zr=1;function r(e,n){var a=e.length;for(e.sort(n);a--;)e[a]=e[a].value;return e}return ar=r,ar}var ir,$r;function Xe(){if($r)return ir;$r=1;var r=S();function e(n,a){if(n!==a){var i=n!==void 0,t=n===null,u=n===n,s=r(n),o=a!==void 0,d=a===null,f=a===a,c=r(a);if(!d&&!c&&!s&&n>a||s&&o&&f&&!d&&!c||t&&o&&f||!i&&f||!u)return 1;if(!t&&!s&&!c&&n<a||c&&i&&u&&!t&&!s||d&&i&&u||!o&&u||!f)return-1}return 0}return ir=e,ir}var sr,Ur;function Ze(){if(Ur)return sr;Ur=1;var r=Xe();function e(n,a,i){for(var t=-1,u=n.criteria,s=a.criteria,o=u.length,d=i.length;++t<o;){var f=r(u[t],s[t]);if(f){if(t>=d)return f;var c=i[t];return f*(c=="desc"?-1:1)}}return n.index-a.index}return sr=e,sr}var ur,Xr;function Ve(){if(Xr)return ur;Xr=1;var r=jr(),e=cr(),n=Ne(),a=$e(),i=Ue(),t=ve(),u=Ze(),s=te(),o=v();function d(f,c,h){c.length?c=r(c,function(m){return o(m)?function(g){return e(g,m.length===1?m[0]:m)}:m}):c=[s];var p=-1;c=r(c,t(n));var b=a(f,function(m,g,E){var ie=r(c,function(se){return se(m)});return{criteria:ie,index:++p,value:m}});return i(b,function(m,g){return u(m,g,h)})}return ur=d,ur}var or,Zr;function We(){if(Zr)return or;Zr=1;var r=Ve(),e=v();function n(a,i,t,u){return a==null?[]:(e(i)||(i=i==null?[]:[i]),t=u?void 0:t,e(t)||(t=t==null?[]:[t]),r(a,i,t))}return or=n,or}var Je=We();const Qe=ue(Je);l.extend(_e);l.extend(ye);l.extend(be);l.extend(qe);const je=(r,e)=>l(r).format(e||"dddd D. MMMM YYYY"),gn=r=>je(r,"KL.HH:mm"),y=r=>{if(r!==void 0&&Se(r)&&l(r,"YYYY-MM-DD",!0).isValid())return l.utc(r).toDate()},rn=(r,e)=>r===void 0||e===void 0?!1:l(r).isSameOrAfter(l(e).subtract(1,"day"),"day")&&l(r).isSameOrBefore(l(e).add(1,"day"),"day"),vn=(r,e,n)=>{const a=!r.sakTilhørerMor;return{farMedmor:a?e:n,mor:a?n:e}},en=r=>!r.dødsdato,nn=r=>[...r.engangsstønad,...r.foreldrepenger,...r.svangerskapspenger];function tn(r,e){return l(r.fødselsdato).isAfter(e.fødselsdato,"d")?1:l(r.fødselsdato).isBefore(e.fødselsdato,"d")||r.fornavn<e.fornavn?-1:1}const _n=r=>{var e,n;if(r.gjeldendeVedtak&&r.gjeldendeVedtak.perioder.length>0)return y(r.gjeldendeVedtak.perioder[0].fom);if((e=r.åpenBehandling)!=null&&e.søknadsperioder)return y((n=r.åpenBehandling)==null?void 0:n.søknadsperioder[0].fom)},yn=(r,e)=>e?{type:P.ADOPTERT_STEBARN,adopsjonsdato:r.omsorgsovertakelse,antallBarn:r.antallBarn,fødselsdatoer:[r.fødselsdato]}:r.fødselsdato?{type:P.FØDT,fødselsdatoer:[r.fødselsdato],termindato:r.termindato,antallBarn:r.antallBarn}:{type:P.UFØDT,termindato:r.termindato,antallBarn:r.antallBarn},an=(r,e)=>{const n=r.ytelse===_.FORELDREPENGER,a=n&&r.barn!==void 0?r.barn.map(f=>f.fnr).flat():[],i=n&&e.filter(f=>a.includes(f.fnr))||[],t=y(r.familiehendelse.fødselsdato),u=t!==void 0?e.filter(f=>rn(y(f.fødselsdato),t)&&!(i!=null&&i.find(c=>c.fnr===f.fnr))):[],s=i.concat(u);s.sort(tn);const o=s.filter(f=>f.fødselsdato!==void 0).map(f=>y(f.fødselsdato));let d=[];return o&&o.length>0?d=o:t&&(d=[t]),{fornavn:s==null?void 0:s.filter(f=>f.fornavn!==void 0&&f.fornavn.trim()!=="").map(f=>[f.fornavn,f.mellomnavn??""].join(" ")),fødselsdatoer:d,alleBarnaLever:!!(s!=null&&s.every(f=>en(f)))}},bn=(r,e)=>{const n=nn(e);return Qe(n,i=>i.familiehendelse?Vr(i.familiehendelse):"","desc").reduce((i,t)=>{if(t.familiehendelse){const u=Vr(t.familiehendelse),s=i.find(o=>sn(o,u));if(s&&s.saker.push(t),s&&i.includes(s))return i;{const o=un(t.familiehendelse,t.gjelderAdopsjon),d={antallBarn:t.familiehendelse.antallBarn,familiehendelsedato:u,saker:[t],type:o,ytelse:t.ytelse,barn:o!=="termin"?an(t,r):void 0};return i.push(d),i}}else return i},[])},fr=(r,e)=>e===_.ENGANGSSTØNAD?r.map(n=>({...n,ytelse:e})):e===_.SVANGERSKAPSPENGER?r.map(n=>({...n,ytelse:e})):r.map(n=>({...n,ytelse:e})),qn=r=>({foreldrepenger:fr(r.foreldrepenger,_.FORELDREPENGER),engangsstønad:fr(r.engangsstønad,_.ENGANGSSTØNAD),svangerskapspenger:fr(r.svangerskapspenger,_.SVANGERSKAPSPENGER)}),sn=(r,e)=>{const n=l(e).subtract(2,"months"),a=l(e).add(3,"weeks");if(r)return l(r.familiehendelsedato).isAfter(n)&&l(r.familiehendelsedato).isSameOrBefore(a)},un=(r,e)=>{if(e)return"adopsjon";const{fødselsdato:n}=r;return n?"fødsel":"termin"},Vr=r=>{const{fødselsdato:e,termindato:n,omsorgsovertakelse:a}=r;return a||e||n},Sn=(r,e)=>{const n=e!=null&&e.familiehendelse?e.familiehendelse.fødselsdato:void 0,a=r.søker.barn&&n?r.søker.barn.find(t=>l(t.fødselsdato).isSame(n,"d")):void 0,i=a!=null&&a.annenForelder?a.annenForelder.fornavn:void 0;return i!==void 0&&i.trim()!==""?i:"Annen forelder"},on=(r,e)=>r===1||r===0?e.formatMessage({id:"barn"}):r===2?e.formatMessage({id:"tvillinger"}):r===3?e.formatMessage({id:"trillinger"}):e.formatMessage({id:"flerlinger"}),ae=r=>{if(r===void 0)return;const e=[];if(r.forEach(n=>{e.find(i=>l(i).isSame(n,"day"))===void 0&&e.push(n)}),e.length>1){const n=e.map(t=>q(t)),a=n.slice(0,-1).join(", "),i=n[n.length-1];return`${a} og ${i}`}return q(e[0])},fn=(r,e,n,a,i)=>{const t=on(n,a);if(n===0&&e===void 0||i==="termin")return{tittel:a.formatMessage({id:"barnHeader.terminBarn"},{barnTekst:t,termindato:q(r)}),undertittel:""};if(i==="adopsjon")return{tittel:a.formatMessage({id:"barnHeader.adoptertBarn"},{adopsjonsdato:q(r)}),undertittel:""};{const u=ae(e);return e!==void 0&&e.length>0?{tittel:a.formatMessage({id:"barnHeader.fødtBarn"},{barnTekst:t,fødselsdatoTekst:u}),undertittel:""}:{tittel:"",undertittel:""}}},dn=r=>{if(r.length>1){const e=r.map(a=>a.trim()).slice(0,-1).join(", "),n=r[r.length-1];return`${e} og ${n}`}else return`${r[0]}`},Mn=r=>{const{barngruppering:e,familiehendelsedato:n,antallBarn:a,intl:i,situasjon:t}=r,u=e==null?void 0:e.fornavn,s=e==null?void 0:e.fødselsdatoer,o=y(n);if(!o)return{tittel:"",undertittel:""};if(u===void 0||u.length===0||!(e!=null&&e.alleBarnaLever))return fn(o,s,a,i,t);const d=dn(u);if(t==="fødsel"){const f=ae(s);return{tittel:d,undertittel:`født ${f}`}}return t==="adopsjon"?{tittel:d,undertittel:`adoptert ${q(o)}`}:{tittel:"",undertittel:""}};export{Mn as a,bn as b,Vr as c,yn as d,dn as e,je as f,nn as g,gn as h,_n as i,an as j,vn as k,Sn as l,qn as m,un as u};
