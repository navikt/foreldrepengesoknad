var ce=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)};var T=(e,t,s)=>(ce(e,t,"read from private field"),s?s.call(e):t.get(e)),U=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},$=(e,t,s,n)=>(ce(e,t,"write to private field"),n?n.call(e,s):t.set(e,s),s);var Y=(e,t,s)=>(ce(e,t,"access private method"),s);import{c as se,k as Je,f as je,o as We,E as Ze,d as R,p as Qe,q as Xe,r as et,s as tt,t as st,i as X,j as w,V as we,B as nt,L as rt,g as ot,e as it}from"./Link-D3XUxQzV.js";import{r as k,R as M}from"./index-DVXBtNgz.js";import{S as at,s as dt,v as Te,w as ut,j as Pe,u as lt,x as ct,k as ft,l as ht,m as pt,p as E,y as mt,o as gt,L as Et,A as _t,q as vt,G as yt}from"./attachmentApi-YuumtP_1.js";import{a as St,A as Re,M as Fe,F as bt,B as wt}from"./infobox.module-C8Y-zLbY.js";import{S as Tt,Y as j}from"./Ytelse-CO2s9mkn.js";import{u as Rt}from"./useId-DbilmxAP.js";var x,q,N,F,J,oe,ee,Ee,Me,At=(Me=class extends at{constructor(t,s){super();U(this,J);U(this,ee);U(this,x,void 0);U(this,q,void 0);U(this,N,void 0);U(this,F,void 0);$(this,x,t),this.setOptions(s),this.bindMethods(),Y(this,J,oe).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var n;const s=this.options;this.options=T(this,x).defaultMutationOptions(t),dt(this.options,s)||T(this,x).getMutationCache().notify({type:"observerOptionsUpdated",mutation:T(this,N),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Te(s.mutationKey)!==Te(this.options.mutationKey)?this.reset():((n=T(this,N))==null?void 0:n.state.status)==="pending"&&T(this,N).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=T(this,N))==null||t.removeObserver(this)}onMutationUpdate(t){Y(this,J,oe).call(this),Y(this,ee,Ee).call(this,t)}getCurrentResult(){return T(this,q)}reset(){var t;(t=T(this,N))==null||t.removeObserver(this),$(this,N,void 0),Y(this,J,oe).call(this),Y(this,ee,Ee).call(this)}mutate(t,s){var n;return $(this,F,s),(n=T(this,N))==null||n.removeObserver(this),$(this,N,T(this,x).getMutationCache().build(T(this,x),this.options)),T(this,N).addObserver(this),T(this,N).execute(t)}},x=new WeakMap,q=new WeakMap,N=new WeakMap,F=new WeakMap,J=new WeakSet,oe=function(){var s;const t=((s=T(this,N))==null?void 0:s.state)??ut();$(this,q,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},ee=new WeakSet,Ee=function(t){Pe.batch(()=>{var s,n,r,a,i,f,v,S;if(T(this,F)&&this.hasListeners()){const g=T(this,q).variables,A=T(this,q).context;(t==null?void 0:t.type)==="success"?((n=(s=T(this,F)).onSuccess)==null||n.call(s,t.data,g,A),(a=(r=T(this,F)).onSettled)==null||a.call(r,t.data,null,g,A)):(t==null?void 0:t.type)==="error"&&((f=(i=T(this,F)).onError)==null||f.call(i,t.error,g,A),(S=(v=T(this,F)).onSettled)==null||S.call(v,void 0,t.error,g,A))}this.listeners.forEach(g=>{g(T(this,q))})})},Me);function Ot(e,t){const s=lt(),[n]=k.useState(()=>new At(s,e));k.useEffect(()=>{n.setOptions(e)},[n,e]);const r=k.useSyncExternalStore(k.useCallback(i=>n.subscribe(Pe.batchCalls(i)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=k.useCallback((i,f)=>{n.mutate(i,f).catch(ct)},[n]);if(r.error&&ft(n.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:a,mutateAsync:r.mutate}}const kt=e=>{k.useEffect(()=>{const t=document.title;return document.title=e,()=>{document.title=t}},[e])};var Dt=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]]);return s};const It=k.forwardRef((e,t)=>{const{inputProps:s,errorId:n,showErrorMsg:r,hasError:a,size:i,inputDescriptionId:f,readOnly:v}=ht(e,"select"),{children:S,label:g,className:A,description:V,htmlSize:L,hideLabel:G=!1,style:B}=e,C=Dt(e,["children","label","className","description","htmlSize","hideLabel","style"]),K={onMouseDown:O=>{v&&(O.preventDefault(),O.target.focus())},onKeyDown:O=>{v&&["ArrowDown","ArrowUp","ArrowRight","ArrowLeft"," "].includes(O.key)&&O.preventDefault()}};return M.createElement("div",{className:se(A,"navds-form-field",`navds-form-field--${i}`,{"navds-form-field--disabled":!!s.disabled,"navds-form-field--readonly":v,"navds-select--error":a,"navds-select--readonly":v})},M.createElement(Je,{htmlFor:s.id,size:i,className:se("navds-form-field__label",{"navds-sr-only":G})},M.createElement(pt,{readOnly:v,nativeReadOnly:!1}),g),!!V&&M.createElement(je,{className:se("navds-form-field__description",{"navds-sr-only":G}),id:f,size:i,as:"div"},V),M.createElement("div",{className:"navds-select__container",style:B},M.createElement("select",Object.assign({},We(C,["error","errorId","size","readOnly"]),s,K,{ref:t,className:se("navds-select__input","navds-body-short",`navds-body-short--${i??"medium"}`),size:L}),S),M.createElement(Tt,{className:"navds-select__chevron","aria-hidden":!0})),M.createElement("div",{className:"navds-form-field__error",id:n,"aria-relevant":"additions removals","aria-live":"polite"},r&&M.createElement(Ze,{size:i},e.error)))});class Ae extends Error{constructor(t,s,n){const r=t.status||t.status===0?t.status:"",a=t.statusText||"",i=`${r} ${a}`.trim(),f=i?`status code ${i}`:"an unknown error";super(`Request failed with ${f}: ${s.method} ${s.url}`),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="HTTPError",this.response=t,this.request=s,this.options=n}}class Ge extends Error{constructor(t){super(`Request timed out: ${t.method} ${t.url}`),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.request=t}}const ie=e=>e!==null&&typeof e=="object",ne=(...e)=>{for(const t of e)if((!ie(t)||Array.isArray(t))&&t!==void 0)throw new TypeError("The `options` argument must be an object");return ve({},...e)},Ke=(e={},t={})=>{const s=new globalThis.Headers(e),n=t instanceof globalThis.Headers,r=new globalThis.Headers(t);for(const[a,i]of r.entries())n&&i==="undefined"||i===void 0?s.delete(a):s.set(a,i);return s},ve=(...e)=>{let t={},s={};for(const n of e)if(Array.isArray(n))Array.isArray(t)||(t=[]),t=[...t,...n];else if(ie(n)){for(let[r,a]of Object.entries(n))ie(a)&&r in t&&(a=ve(t[r],a)),t={...t,[r]:a};ie(n.headers)&&(s=Ke(s,n.headers),t.headers=s)}return t},Nt=(()=>{let e=!1,t=!1;const s=typeof globalThis.ReadableStream=="function",n=typeof globalThis.Request=="function";if(s&&n)try{t=new globalThis.Request("https://empty.invalid",{body:new globalThis.ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type")}catch(r){if(r instanceof Error&&r.message==="unsupported BodyInit type")return!1;throw r}return e&&!t})(),Lt=typeof globalThis.AbortController=="function",Mt=typeof globalThis.ReadableStream=="function",jt=typeof globalThis.FormData=="function",xe=["get","post","put","patch","head","delete"],Pt={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"},fe=2147483647,qe=Symbol("stop"),Ft={json:!0,parseJson:!0,stringifyJson:!0,searchParams:!0,prefixUrl:!0,retry:!0,timeout:!0,hooks:!0,throwHttpErrors:!0,onDownloadProgress:!0,fetch:!0},Gt={method:!0,headers:!0,body:!0,mode:!0,credentials:!0,cache:!0,redirect:!0,referrer:!0,referrerPolicy:!0,integrity:!0,keepalive:!0,signal:!0,window:!0,dispatcher:!0,duplex:!0,priority:!0},Kt=e=>xe.includes(e)?e.toUpperCase():e,xt=["get","put","head","delete","options","trace"],qt=[408,413,429,500,502,503,504],Ve=[413,429,503],Oe={limit:2,methods:xt,statusCodes:qt,afterStatusCodes:Ve,maxRetryAfter:Number.POSITIVE_INFINITY,backoffLimit:Number.POSITIVE_INFINITY,delay:e=>.3*2**(e-1)*1e3},Vt=(e={})=>{if(typeof e=="number")return{...Oe,limit:e};if(e.methods&&!Array.isArray(e.methods))throw new Error("retry.methods must be an array");if(e.statusCodes&&!Array.isArray(e.statusCodes))throw new Error("retry.statusCodes must be an array");return{...Oe,...e,afterStatusCodes:Ve}};async function Bt(e,t,s,n){return new Promise((r,a)=>{const i=setTimeout(()=>{s&&s.abort(),a(new Ge(e))},n.timeout);n.fetch(e,t).then(r).catch(a).then(()=>{clearTimeout(i)})})}async function Ct(e,{signal:t}){return new Promise((s,n)=>{t&&(t.throwIfAborted(),t.addEventListener("abort",r,{once:!0}));function r(){clearTimeout(a),n(t.reason)}const a=setTimeout(()=>{t==null||t.removeEventListener("abort",r),s()},e)})}const Ut=(e,t)=>{const s={};for(const n in t)!(n in Gt)&&!(n in Ft)&&!(n in e)&&(s[n]=t[n]);return s};class ae{static create(t,s){const n=new ae(t,s),r=async()=>{if(typeof n._options.timeout=="number"&&n._options.timeout>fe)throw new RangeError(`The \`timeout\` option cannot be greater than ${fe}`);await Promise.resolve();let f=await n._fetch();for(const v of n._options.hooks.afterResponse){const S=await v(n.request,n._options,n._decorateResponse(f.clone()));S instanceof globalThis.Response&&(f=S)}if(n._decorateResponse(f),!f.ok&&n._options.throwHttpErrors){let v=new Ae(f,n.request,n._options);for(const S of n._options.hooks.beforeError)v=await S(v);throw v}if(n._options.onDownloadProgress){if(typeof n._options.onDownloadProgress!="function")throw new TypeError("The `onDownloadProgress` option must be a function");if(!Mt)throw new Error("Streams are not supported in your environment. `ReadableStream` is missing.");return n._stream(f.clone(),n._options.onDownloadProgress)}return f},i=n._options.retry.methods.includes(n.request.method.toLowerCase())?n._retry(r):r();for(const[f,v]of Object.entries(Pt))i[f]=async()=>{n.request.headers.set("accept",n.request.headers.get("accept")||v);const g=(await i).clone();if(f==="json"){if(g.status===204||(await g.clone().arrayBuffer()).byteLength===0)return"";if(s.parseJson)return s.parseJson(await g.text())}return g[f]()};return i}constructor(t,s={}){var r,a;Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"abortController",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_retryCount",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_input",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._input=t;const n=this._input instanceof Request&&"credentials"in Request.prototype?this._input.credentials:void 0;if(this._options={...n&&{credentials:n},...s,headers:Ke(this._input.headers,s.headers),hooks:ve({beforeRequest:[],beforeRetry:[],beforeError:[],afterResponse:[]},s.hooks),method:Kt(s.method??this._input.method),prefixUrl:String(s.prefixUrl||""),retry:Vt(s.retry),throwHttpErrors:s.throwHttpErrors!==!1,timeout:s.timeout??1e4,fetch:s.fetch??globalThis.fetch.bind(globalThis)},typeof this._input!="string"&&!(this._input instanceof URL||this._input instanceof globalThis.Request))throw new TypeError("`input` must be a string, URL, or Request");if(this._options.prefixUrl&&typeof this._input=="string"){if(this._input.startsWith("/"))throw new Error("`input` must not begin with a slash when using `prefixUrl`");this._options.prefixUrl.endsWith("/")||(this._options.prefixUrl+="/"),this._input=this._options.prefixUrl+this._input}if(Lt){if(this.abortController=new globalThis.AbortController,this._options.signal){const i=this._options.signal;this._options.signal.addEventListener("abort",()=>{this.abortController.abort(i.reason)})}this._options.signal=this.abortController.signal}if(Nt&&(this._options.duplex="half"),this._options.json!==void 0&&(this._options.body=((a=(r=this._options).stringifyJson)==null?void 0:a.call(r,this._options.json))??JSON.stringify(this._options.json),this._options.headers.set("content-type",this._options.headers.get("content-type")??"application/json")),this.request=new globalThis.Request(this._input,this._options),this._options.searchParams){const f="?"+(typeof this._options.searchParams=="string"?this._options.searchParams.replace(/^\?/,""):new URLSearchParams(this._options.searchParams).toString()),v=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,f);(jt&&this._options.body instanceof globalThis.FormData||this._options.body instanceof URLSearchParams)&&!(this._options.headers&&this._options.headers["content-type"])&&this.request.headers.delete("content-type"),this.request=new globalThis.Request(new globalThis.Request(v,{...this.request}),this._options)}}_calculateRetryDelay(t){if(this._retryCount++,this._retryCount<=this._options.retry.limit&&!(t instanceof Ge)){if(t instanceof Ae){if(!this._options.retry.statusCodes.includes(t.response.status))return 0;const n=t.response.headers.get("Retry-After");if(n&&this._options.retry.afterStatusCodes.includes(t.response.status)){let r=Number(n)*1e3;Number.isNaN(r)&&(r=Date.parse(n)-Date.now());const a=this._options.retry.maxRetryAfter??r;return r<a?r:a}if(t.response.status===413)return 0}const s=this._options.retry.delay(this._retryCount);return Math.min(this._options.retry.backoffLimit,s)}return 0}_decorateResponse(t){return this._options.parseJson&&(t.json=async()=>this._options.parseJson(await t.text())),t}async _retry(t){try{return await t()}catch(s){const n=Math.min(this._calculateRetryDelay(s),fe);if(n!==0&&this._retryCount>0){await Ct(n,{signal:this._options.signal});for(const r of this._options.hooks.beforeRetry)if(await r({request:this.request,options:this._options,error:s,retryCount:this._retryCount})===qe)return;return this._retry(t)}throw s}}async _fetch(){for(const n of this._options.hooks.beforeRequest){const r=await n(this.request,this._options);if(r instanceof Request){this.request=r;break}if(r instanceof Response)return r}const t=Ut(this.request,this._options),s=this.request;return this.request=s.clone(),this._options.timeout===!1?this._options.fetch(s,t):Bt(s,t,this.abortController,this._options)}_stream(t,s){const n=Number(t.headers.get("content-length"))||0;let r=0;return t.status===204?(s&&s({percent:1,totalBytes:n,transferredBytes:r},new Uint8Array),new globalThis.Response(null,{status:t.status,statusText:t.statusText,headers:t.headers})):new globalThis.Response(new globalThis.ReadableStream({async start(a){const i=t.body.getReader();s&&s({percent:0,transferredBytes:0,totalBytes:n},new Uint8Array);async function f(){const{done:v,value:S}=await i.read();if(v){a.close();return}if(s){r+=S.byteLength;const g=n===0?0:r/n;s({percent:g,transferredBytes:r,totalBytes:n},S)}a.enqueue(S),await f()}await f()}}),{status:t.status,statusText:t.statusText,headers:t.headers})}}/*! MIT License © Sindre Sorhus */const _e=e=>{const t=(s,n)=>ae.create(s,ne(e,n));for(const s of xe)t[s]=(n,r)=>ae.create(n,ne(e,r,{method:s}));return t.create=s=>_e(ne(s)),t.extend=s=>_e(ne(e,s)),t.stop=qe,t},P=_e(),xs=()=>({queryKey:["SØKER_INFO"],queryFn:()=>P.get("/rest/sokerinfo").json()}),qs=()=>({queryKey:["MINIDIALOG"],queryFn:()=>P.get("/rest/minidialog").json()}),Vs=()=>({queryKey:["SAKER"],queryFn:()=>P.get("/rest/innsyn/v2/saker").json()}),Bs=e=>({queryKey:["DOKUMENTER",e],queryFn:()=>P.get("/rest/dokument/alle",{searchParams:{saksnummer:e}}).json()}),Cs=()=>({queryKey:["MELLOMLAGREDE_YTELSER"],queryFn:()=>P.get("/rest/storage/aktive").json()}),Us=e=>({queryKey:["ANNEN_PARTS_VEDTAK",e],queryFn:()=>{var t;try{return P.post("/rest/innsyn/v2/annenPartVedtak",{json:e}).json()}catch(s){if(s.name==="HTTPError"&&(t=s==null?void 0:s.message)!=null&&t.includes("Ugyldig ident"))return;throw s}}}),Hs=e=>({queryKey:["TIDSLINJEHENDELSER",e],queryFn:()=>P.get("/rest/innsyn/tidslinje",{searchParams:{saksnummer:e}}).json()}),$s=e=>({queryKey:["MANGLENDE_VEDLEGG",e],queryFn:()=>P.get("/rest/historikk/vedlegg").json()}),Ht=(e,t)=>P.post("/rest/soknad/ettersend",{json:e,timeout:30*1e3,headers:{fnr:t}}),Ys=()=>({queryKey:["SAK_OPPDATERT"],queryFn:()=>P.get("/rest/innsyn/v2/saker/oppdatert").json()});var I={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1,STORYBOOK:"true"};let $t=0;function Yt(e,t){const s=`atom${++$t}`,n={toString:()=>s};return typeof e=="function"?n.read=e:(n.init=e,n.read=zt,n.write=Jt),n}function zt(e){return e(this)}function Jt(e,t,s){return t(this,typeof s=="function"?s(e(this)):s)}const he=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,pe=e=>"init"in e,me=e=>!!e.write,de=new WeakMap,Wt=(e,t)=>{de.set(e,t),e.catch(()=>{}).finally(()=>de.delete(e))},ke=(e,t)=>{const s=de.get(e);s&&(de.delete(e),s(t))},De=(e,t)=>{e.status="fulfilled",e.value=t},Ie=(e,t)=>{e.status="rejected",e.reason=t},Zt=e=>typeof(e==null?void 0:e.then)=="function",W=(e,t)=>!!e&&"v"in e&&"v"in t&&Object.is(e.v,t.v),Ne=(e,t)=>!!e&&"e"in e&&"e"in t&&Object.is(e.e,t.e),z=e=>!!e&&"v"in e&&e.v instanceof Promise,Qt=(e,t)=>"v"in e&&"v"in t&&e.v.orig&&e.v.orig===t.v.orig,re=e=>{if("e"in e)throw e.e;return e.v},Xt=()=>{const e=new WeakMap,t=new WeakMap,s=[],n=new WeakMap;let r,a;(I?"production":void 0)!=="production"&&(r=new Set,a=new Set);const i=o=>e.get(o),f=(o,u)=>{u.d.forEach((m,c)=>{if(!n.has(c)){const d=i(c);n.set(c,[d,new Set]),d&&f(c,d)}n.get(c)[1].add(o)})},v=(o,u)=>{var m;(I?"production":void 0)!=="production"&&Object.freeze(u);const c=i(o);if(e.set(o,u),(m=s[s.length-1])==null||m.add(o),n.has(o)||(n.set(o,[c,new Set]),f(o,u)),z(c)){const d="v"in u?u.v instanceof Promise?u.v:Promise.resolve(u.v):Promise.reject(u.e);c.v!==d&&ke(c.v,d)}},S=(o,u,m,c)=>{const d=new Map(c?u.d:null);let l=!1;m.forEach((h,p)=>{!h&&he(o,p)&&(h=u),h?(d.set(p,h),u.d.get(p)!==h&&(l=!0)):(I?"production":void 0)!=="production"&&console.warn("[Bug] atom state not found")}),(l||u.d.size!==d.size)&&(u.d=d)},g=(o,u,m,c)=>{const d=i(o),l={d:(d==null?void 0:d.d)||new Map,v:u};if(m&&S(o,l,m,c),W(d,l)&&d.d===l.d)return d;if(z(d)&&z(l)&&Qt(d,l)){if(d.d===l.d)return d;l.v=d.v}return v(o,l),l},A=(o,u,m,c)=>{if(Zt(u)){let d;const l=()=>{const p=i(o);if(!z(p)||p.v!==h)return;const y=g(o,h,m);t.has(o)&&p.d!==y.d&&Se(o,y,p.d)},h=new Promise((p,y)=>{let _=!1;u.then(b=>{_||(_=!0,De(h,b),p(b),l())},b=>{_||(_=!0,Ie(h,b),y(b),l())}),d=b=>{_||(_=!0,b.then(D=>De(h,D),D=>Ie(h,D)),p(b))}});return h.orig=u,h.status="pending",Wt(h,p=>{p&&d(p),c==null||c()}),g(o,h,m,!0)}return g(o,u,m)},V=(o,u,m)=>{const c=i(o),d={d:(c==null?void 0:c.d)||new Map,e:u};return m&&S(o,d,m),Ne(c,d)&&c.d===d.d?c:(v(o,d),d)},L=(o,u)=>{const m=i(o);if(!(u!=null&&u(o))&&m&&(t.has(o)||Array.from(m.d).every(([_,b])=>{if(_===o)return!0;const D=L(_,u);return D===b||W(D,b)})))return m;const c=new Map;let d=!0;const l=_=>{if(he(o,_)){const D=i(_);if(D)return c.set(_,D),re(D);if(pe(_))return c.set(_,void 0),_.init;throw new Error("no atom init")}const b=L(_,u);return c.set(_,b),re(b)};let h,p;const y={get signal(){return h||(h=new AbortController),h.signal},get setSelf(){return(I?"production":void 0)!=="production"&&!me(o)&&console.warn("setSelf function cannot be used with read-only atom"),!p&&me(o)&&(p=(..._)=>{if((I?"production":void 0)!=="production"&&d&&console.warn("setSelf function cannot be called in sync"),!d)return K(o,..._)}),p}};try{const _=o.read(l,y);return A(o,_,c,()=>h==null?void 0:h.abort())}catch(_){return V(o,_,c)}finally{d=!1}},G=o=>re(L(o)),B=o=>{const u=p=>{var y,_;const b=new Set((y=t.get(p))==null?void 0:y.t);return(_=n.get(p))==null||_[1].forEach(D=>{b.add(D)}),b},m=new Array,c=new Set,d=p=>{if(!c.has(p)){c.add(p);for(const y of u(p))p!==y&&d(y);m.push(p)}};d(o);const l=new Set([o]),h=p=>c.has(p);for(let p=m.length-1;p>=0;--p){const y=m[p],_=i(y);if(!_)continue;let b=!1;for(const D of _.d.keys())if(D!==y&&l.has(D)){b=!0;break}if(b){const D=L(y,h);f(y,D),W(_,D)||l.add(y)}c.delete(y)}},C=(o,...u)=>{const m=l=>re(L(l)),c=(l,...h)=>{const p=s.length>0;p||s.push(new Set([l]));let y;if(he(o,l)){if(!pe(l))throw new Error("atom not writable");const _=i(l),b=A(l,h[0]);W(_,b)||B(l)}else y=C(l,...h);if(!p){const _=te(s.pop());(I?"production":void 0)!=="production"&&r.forEach(b=>b({type:"async-write",flushed:_}))}return y};return o.write(m,c,...u)},K=(o,...u)=>{s.push(new Set([o]));const m=C(o,...u),c=te(s.pop());return(I?"production":void 0)!=="production"&&r.forEach(d=>d({type:"write",flushed:c})),m},O=(o,u,m)=>{var c;const d=t.get(o);if(d)return u&&d.t.add(u),d;const l=m||[];(c=i(o))==null||c.d.forEach((p,y)=>{y!==o&&O(y,o,l)}),L(o);const h={t:new Set(u&&[u]),l:new Set};if(t.set(o,h),(I?"production":void 0)!=="production"&&a.add(o),me(o)&&o.onMount){const{onMount:p}=o;l.push(()=>{const y=p((..._)=>K(o,..._));y&&(h.u=y)})}return m||l.forEach(p=>p()),h},H=(o,u)=>!u.l.size&&(!u.t.size||u.t.size===1&&u.t.has(o)),le=(o,u)=>{if(!H(o,u))return;const m=u.u;m&&m(),t.delete(o),(I?"production":void 0)!=="production"&&a.delete(o);const c=i(o);c?(z(c)&&ke(c.v),c.d.forEach((d,l)=>{if(l!==o){const h=t.get(l);h&&(h.t.delete(o),le(l,h))}})):(I?"production":void 0)!=="production"&&console.warn("[Bug] could not find atom state to unmount",o)},Se=(o,u,m)=>{const c=new Set(u.d.keys()),d=new Set;m==null||m.forEach((l,h)=>{if(c.has(h)){c.delete(h);return}d.add(h);const p=t.get(h);p&&p.t.delete(o)}),c.forEach(l=>{O(l,o)}),d.forEach(l=>{const h=t.get(l);h&&le(l,h)})},te=o=>{let u;(I?"production":void 0)!=="production"&&(u=new Set);const m=[],c=d=>{var l;if(!n.has(d))return;const[h,p]=n.get(d);n.delete(d),m.push([d,h]),p.forEach(c),(l=i(d))==null||l.d.forEach((y,_)=>c(_))};if(o.forEach(c),m.forEach(([d,l])=>{const h=i(d);if(!h){(I?"production":void 0)!=="production"&&console.warn("[Bug] no atom state to flush");return}if(h!==l){const p=t.get(d);p&&h.d!==(l==null?void 0:l.d)&&Se(d,h,l==null?void 0:l.d),p&&!(!z(l)&&(W(l,h)||Ne(l,h)))&&(p.l.forEach(y=>y()),(I?"production":void 0)!=="production"&&u.add(d))}}),(I?"production":void 0)!=="production")return u},be=(o,u)=>{const m=O(o),c=te([o]),d=m.l;return d.add(u),(I?"production":void 0)!=="production"&&r.forEach(l=>l({type:"sub",flushed:c})),()=>{d.delete(u),le(o,m),(I?"production":void 0)!=="production"&&r.forEach(l=>l({type:"unsub"}))}};return(I?"production":void 0)!=="production"?{get:G,set:K,sub:be,dev_subscribe_store:o=>(r.add(o),()=>{r.delete(o)}),dev_get_mounted_atoms:()=>a.values(),dev_get_atom_state:o=>e.get(o),dev_get_mounted:o=>t.get(o),dev_restore_atoms:o=>{s.push(new Set);for(const[m,c]of o)pe(m)&&(A(m,c),B(m));const u=te(s.pop());r.forEach(m=>m({type:"restore",flushed:u}))}}:{get:G,set:K,sub:be}};let Z;const es=()=>(Z||(Z=Xt(),(I?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=Z),globalThis.__JOTAI_DEFAULT_STORE__!==Z&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),Z),ts=es;var ss={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1,STORYBOOK:"true"};const ns=k.createContext(void 0),Be=e=>k.useContext(ns)||ts(),rs=e=>typeof(e==null?void 0:e.then)=="function",os=M.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)});function is(e,t){const s=Be(),[[n,r,a],i]=k.useReducer(S=>{const g=s.get(e);return Object.is(S[0],g)&&S[1]===s&&S[2]===e?S:[g,s,e]},void 0,()=>[s.get(e),s,e]);let f=n;return(r!==s||a!==e)&&(i(),f=s.get(e)),k.useEffect(()=>{const S=s.sub(e,()=>{i()});return i(),S},[s,e,void 0]),k.useDebugValue(f),rs(f)?os(f):f}function as(e,t){const s=Be();return k.useCallback((...r)=>{if((ss?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return s.set(e,...r)},[s,e])}var ye=(e=>(e.HOVEDSIDE="/",e.SAKSOVERSIKT="/sak",e.DIN_PLAN="din-plan",e.DOKUMENTER="dokumenter",e.ETTERSEND="ettersend",e.TIDSLINJEN="tidslinjen",e.OPPGAVER="oppgaver",e))(ye||{}),ds=(e=>(e.SAKSBEHANDLINGSTIDER="https://www.nav.no/saksbehandlingstider",e.SAKSBEHANDLINGSTIDER_FP="https://www.nav.no/saksbehandlingstider#foreldrepenger",e.SAKSBEHANDLINGSTIDER_SVP="https://www.nav.no/saksbehandlingstider#svangerskapspenger",e.SAKSBEHANDLINGSTIDER_ES="https://www.nav.no/saksbehandlingstider#engangsstonad",e.KLAGERETTIGHETER="https://www.nav.no/klage",e.KLAGERETTIGHETER_FP="https://www.nav.no/klage#foreldrepenger",e.KLAGERETTIGHETER_SVP="https://www.nav.no/klage#svangerskapspenger",e.KLAGERETTIGHETER_ES="https://www.nav.no/klage#engangsstonad",e.CHAT_MED_OSS="https://www.nav.no/person/kontakt-oss/chat/familie",e.SKRIV_TIL_OSS="https://innboks.nav.no/s/skriv-til-oss?category=Familie",e.RING_OSS="tel:55553333",e.SE_FLERE_TLF_NR_OG_TASTEVALG="https://www.nav.no/kontaktoss#ring-oss",e.LES_MER_OM_VÅRE_PENGESTØTTER="https://www.nav.no/barn",e.LES_MER_OM_FORELDREPENGER="https://www.nav.no/foreldrepenger",e.LES_MER_OM_SVANGERSKAPSPENGER="https://familie.nav.no/om-svangerskapspenger",e.LES_MER_OM_ENGANGSTØNAD="https://familie.nav.no/om-engangsstonad",e.MELD_FRA_OM_ENDRINGER="https://www.nav.no/no/nav-og-samfunn/om-nav/relatert-informasjon/du-har-plikt-til-a-gi-nav-riktige-opplysninger",e.VENT_INNTEKTSMELDING="https://www.nav.no/arbeidsgiver/inntektsmelding",e.VENT_MELDEKORT="https://www.nav.no/no/person/arbeid/dagpenger-ved-arbeidsloshet-og-permittering/meldekort-hvordan-gjor-du-det",e.SØKNADSFRISTER="https://www.nav.no/foreldrepenger#for-soknad",e.FORELDREPENGESOKNAD="https://foreldrepengesoknad.nav.no",e.HVOR_LENGE="https://www.nav.no/foreldrepenger#hvor-lenge",e))(ds||{});const Ce=Yt(ye.HOVEDSIDE),zs=()=>is(Ce),us=e=>{const t=as(Ce);k.useEffect(()=>{t(e)},[t,e])};R.extend(Qe);R.extend(Xe);R.extend(et);R.extend(tt);const ls=(e,t)=>R(e).format(t||"dddd D. MMMM YYYY"),Js=e=>ls(e,"KL.HH:mm"),Ws=e=>e.format("MMM").substr(0,3),cs=e=>{const t=Math.floor(e/5);return{dager:e-t*5,uker:t}},Zs=(e,t,s="full")=>{const{uker:n,dager:r}=cs(Math.abs(e)),a=t.formatMessage({id:"varighet.dager"},{dager:r});if(n===0)return a;const i=t.formatMessage({id:"varighet.uker"},{uker:n});if(r>0){const f=s==="full"?t.formatMessage({id:"varighet.separator--full"}):t.formatMessage({id:"varighet.separator--normal"});return`${i}${f}${a}`}return i},fs=e=>e.fom!==void 0&&e.tom!==void 0&&R(e.fom).isSameOrBefore(e.tom,"day"),Le=e=>R(e).isoWeekday(),hs=e=>Le(e)!==6&&Le(e)!==7,Qs=e=>{if(!fs(e))return 0;let t=R(e.fom);const s=R(e.tom);let n=0;for(;t.isSameOrBefore(s,"day");)hs(t.toDate())&&n++,t=t.add(24,"hours");return n},Q=e=>{if(e!==void 0&&st(e)&&R(e,"YYYY-MM-DD",!0).isValid())return R.utc(e).toDate()},ps=(e,t)=>e===void 0||t===void 0?!1:R(e).isSameOrAfter(R(t).subtract(1,"day"),"day")&&R(e).isSameOrBefore(R(t).add(1,"day"),"day"),Xs=(e,t,s)=>{const n=!e.sakTilhørerMor;return{farMedmor:n?t:s,mor:n?s:t}},ms=e=>!e.dødsdato,Ue=e=>[...e.engangsstønad,...e.foreldrepenger,...e.svangerskapspenger];function gs(e,t){return R(e.fødselsdato).isAfter(t.fødselsdato,"d")?1:R(e.fødselsdato).isBefore(t.fødselsdato,"d")||e.fornavn<t.fornavn?-1:1}const en=e=>{var t,s;if(e.gjeldendeVedtak&&e.gjeldendeVedtak.perioder.length>0)return Q(e.gjeldendeVedtak.perioder[0].fom);if((t=e.åpenBehandling)!=null&&t.søknadsperioder)return Q((s=e.åpenBehandling)==null?void 0:s.søknadsperioder[0].fom)},Es=(e,t)=>{const s=e.ytelse===j.FORELDREPENGER,n=s&&e.barn!==void 0?e.barn.map(g=>g.fnr).flat():[],r=s&&t?t.filter(g=>n.includes(g.fnr)):[],a=Q(e.familiehendelse.fødselsdato),i=a!==void 0&&t?t.filter(g=>ps(Q(g.fødselsdato),a)&&!(r!=null&&r.find(A=>A.fnr===g.fnr))):[],f=r.concat(i);f.sort(gs);const v=f.filter(g=>g.fødselsdato!==void 0).map(g=>Q(g.fødselsdato));let S=[];return v&&v.length>0?S=v:a&&(S=[a]),{fornavn:f==null?void 0:f.filter(g=>g.fornavn!==void 0&&g.fornavn.trim()!=="").map(g=>[g.fornavn,g.mellomnavn??""].join(" ")),fødselsdatoer:S,alleBarnaLever:!!(f!=null&&f.every(g=>ms(g)))}},tn=(e,t)=>Ue(t).reduce((n,r)=>{if(r.familiehendelse){const a=ys(r.familiehendelse),i=n.find(f=>_s(f,a));if(i&&i.saker.push(r),i&&n.includes(i))return n;{const f=vs(r.familiehendelse,r.gjelderAdopsjon),v={antallBarn:r.familiehendelse.antallBarn,familiehendelsedato:a,saker:[r],type:f,ytelse:r.ytelse,barn:f!=="termin"?Es(r,e):void 0};return n.push(v),n}}else return n},[]),ge=(e,t)=>t===j.ENGANGSSTØNAD?e.map(s=>({...s,ytelse:t})):t===j.SVANGERSKAPSPENGER?e.map(s=>({...s,ytelse:t})):e.map(s=>({...s,ytelse:t})),sn=e=>({foreldrepenger:ge(e.foreldrepenger,j.FORELDREPENGER),engangsstønad:ge(e.engangsstønad,j.ENGANGSSTØNAD),svangerskapspenger:ge(e.svangerskapspenger,j.SVANGERSKAPSPENGER)}),nn=e=>{const{foreldrepenger:t,svangerskapspenger:s,engangsstønad:n}=e;return t.length+s.length+n.length},_s=(e,t)=>{const s=R(t).subtract(2,"months"),n=R(t).add(3,"weeks");if(e)return R(e.familiehendelsedato).isAfter(s)&&R(e.familiehendelsedato).isSameOrBefore(n)},vs=(e,t)=>{if(t)return"adopsjon";const{fødselsdato:s}=e;return s?"fødsel":"termin"},ys=e=>{const{fødselsdato:t,termindato:s,omsorgsovertakelse:n}=e;return n||t||s},rn=(e,t)=>{const s=t!=null&&t.familiehendelse?t.familiehendelse.fødselsdato:void 0,n=e.søker.barn&&s?e.søker.barn.find(a=>R(a.fødselsdato).isSame(s,"d")):void 0,r=n!=null&&n.annenForelder?n.annenForelder.fornavn:void 0;return r!==void 0&&r.trim()!==""?r:"Annen forelder"},Ss=(e,t)=>e===1||e===0?t.formatMessage({id:"barn"}):e===2?t.formatMessage({id:"tvillinger"}):e===3?t.formatMessage({id:"trillinger"}):t.formatMessage({id:"flerlinger"}),He=e=>{if(e===void 0)return;const t=[];if(e.forEach(s=>{t.find(r=>R(r).isSame(s,"day"))===void 0&&t.push(s)}),t.length>1){const s=t.map(a=>X(a)),n=s.slice(0,-1).join(", "),r=s[s.length-1];return`${n} og ${r}`}return X(t[0])},bs=(e,t,s,n,r)=>{const a=Ss(s,n);if(s===0&&t===void 0||r==="termin")return n.formatMessage({id:"barnHeader.terminBarn"},{barnTekst:a,termindato:X(e)});if(r==="adopsjon")return n.formatMessage({id:"barnHeader.adoptertBarn"},{adopsjonsdato:X(e)});{const i=He(t);return t!==void 0&&t.length>0?n.formatMessage({id:"barnHeader.fødtBarn"},{barnTekst:a,fødselsdatoTekst:i}):""}},ws=e=>{if(e.length>1){const t=e.map(n=>n.trim()).slice(0,-1).join(", "),s=e[e.length-1];return`${t} og ${s}`}else return`${e[0]}`},on=(e,t,s,n,r,a,i)=>{if(e===void 0||e.length===0||!n)return bs(s,t,r,a,i);const f=ws(e);if(i==="fødsel"){const v=He(t);return`${f} født ${v}`}return i==="adopsjon"?`${f} adoptert ${X(s)}`:""};var Ts=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]]);return s};const Rs=k.forwardRef((e,t)=>{var{title:s,titleId:n}=e,r=Ts(e,["title","titleId"]);let a=Rt();return a=s?n||"title-"+a:void 0,k.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:t,"aria-labelledby":a},r),s?k.createElement("title",{id:a},s):null,k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 13v8h2v-8h8v-2h-8V3h-2v8H3v2h8Z",fill:"currentColor"}))}),$e=e=>{const t=Object.values(E);return e.ytelse===j.FORELDREPENGER?e.kanSøkeOmEndring?t.filter(Os):t.filter(As):e.ytelse===j.ENGANGSSTØNAD?t.filter(Ds):t.filter(ks)},As=e=>{switch(e){case E.SKJEMA_FOR_TILRETTELEGGING_OG_OMPLASSERING:case E.DEPRECATED_TERMINBEKREFTELSE:case E.DEPRECATED_BEKREFTELSE_DELTAR_KVALIFISERINGSPROGRAM:case E.DEPRECATED_DOK_BEGRUNNELSE_SØKE_TILBAKE_I_TID:return!1;default:return!0}},Os=e=>{switch(e){case E.ANNET:case E.BEKREFTELSE_DELTAR_KVALIFISERINGSPROGRAM:case E.BEKREFTELSE_FRA_ARBEIDSGIVER:case E.BEKREFTELSE_PÅ_AVTALT_FERIE:case E.DOK_AV_ALENEOMSORG:case E.DOK_BEGRUNNELSE_SØKE_TILBAKE_I_TID:case E.DOK_DELTAKELSE_I_INTRODUKSJONSPROGRAMMET:case E.DOK_INNLEGGELSE_BARN:case E.DOK_INNLEGGELSE_MOR:case E.DOK_INNLEGGELSE_FAR:case E.DOK_SYKDOM_MOR:case E.DOK_SYKDOM_FAR:case E.DOK_UTDANNING_MOR:case E.DOK_UTDANNING_OG_ARBEID_MOR:case E.DOK_ARBEID_MOR:case E.OMSORGSOVERTAKELSE:case E.TILBAKEBETALING:case E.HV_ØVELSE:case E.NAV_TILTAK:case E.TERMINBEKREFTELSE:case E.DEPRECATED_TILBAKEBETALING:case E.DEPRECATED_KOPI_SKATTEMELDING:return!0;default:return!1}},ks=e=>{switch(e){case E.ANNET:case E.DOK_MILITÆR_SILVIL_TJENESTE:case E.INNTEKTSOPPLYSNINGER_FRILANS_ELLER_SELVSTENDIG:case E.SKJEMA_FOR_TILRETTELEGGING_OG_OMPLASSERING:case E.TILBAKEBETALING:case E.TERMINBEKREFTELSE:case E.SKATTEMELDING:case E.RESULTATREGNSKAP:return!0;default:return!1}},Ds=e=>{switch(e){case E.ANNET:case E.TERMINBEKREFTELSE:case E.FØDSELSATTEST:case E.TILBAKEBETALING:return!0;default:return!1}},Is=e=>e===j.ENGANGSSTØNAD?"engangsstonad":e===j.FORELDREPENGER?"foreldrepenger":"svangerskapspenger",ue="default",Ye=(e,t)=>t?w.jsxs(w.Fragment,{children:[w.jsx("option",{value:ue,disabled:!1,hidden:!1,children:w.jsx(Fe,{id:"ettersendelse.select.defaultValue"})}),$e(t).map(s=>({skjemanummer:s,text:e.formatMessage({id:`ettersendelse.${s}`})})).sort((s,n)=>s.text.localeCompare(n.text)).map(({skjemanummer:s,text:n})=>w.jsx("option",{value:s,children:n},s))]}):null,Ns=e=>{if(e===ue)return e;const t=Object.values(E).find(s=>s===e);if(t)return t;throw Error("Valgt skjemanr finnes ikke")},ze=({saker:e})=>{const t=St();kt(`${t.formatMessage({id:"lastOppDokumenter"})} - ${t.formatMessage({id:"dineForeldrepenger"})}`),us(ye.ETTERSEND);const s=mt(),n=it("ettersending-page"),[r,a]=k.useState(ue),[i,f]=k.useState([]),[v,S]=k.useState(!1),A=Ue(e).find(O=>O.saksnummer===s.saksnummer),V=(O,H)=>{f(O),S(H)},{mutate:L,isPending:G,isError:B,isSuccess:C}=Ot({mutationFn:O=>Ht(O)}),K=O=>{O.preventDefault(),L({saksnummer:A.saksnummer,type:A.ytelse,vedlegg:i})};return C||B?w.jsxs(w.Fragment,{children:[w.jsx(gt,{}),w.jsxs(we,{gap:"2",children:[C&&w.jsx(Re,{variant:"success",children:"Dokumentene er sendt"}),B&&w.jsx(Re,{variant:"error",children:"Vi klarte ikke å sende inn dokumentasjonen din. Prøv igjen senere og hvis problemet vedvarer kontakt brukerstøtte."}),w.jsx(Et,{to:`/sak/${A.saksnummer}`,children:w.jsx(Fe,{id:"miniDialog.kvittering.gåTilbakeTilSaken"})})]})]}):w.jsx("form",{onSubmit:K,children:w.jsxs(we,{gap:"4",children:[w.jsx(nt,{children:"Dokumentene du laster opp vil bli lagt ved søknaden din. Du må velge hva dokumentene inneholder for at saksbehandlerene i NAV skal kunne behandle saken din."}),w.jsx(je,{children:"Du kan laste opp dokumenter i formatene pdf, png og jpg."}),w.jsx(rt,{target:"_blank",href:"https://www.nav.no/brukerstotte#sende-soknad-pa-nett",children:"Les om hvordan du kan ta bilde av dokumenter med mobilen"}),w.jsx(It,{className:n.element("select"),label:"Hva inneholder dokumentene dine?",onChange:O=>a(Ns(O.target.value)),children:Ye(t,A)}),r!==ue&&w.jsx(bt,{updateAttachments:V,attachmentType:_t.MORS_AKTIVITET_DOKUMENTASJON,skjemanummer:r,existingAttachments:i,saveAttachment:vt(Is(A.ytelse)),skjemanummerTextMap:A?$e(A).reduce((O,H)=>({...O,[H]:t.formatMessage({id:`ettersendelse.${H}`})}),{}):void 0}),i&&i.length>0&&i.length<=40&&w.jsx(ot,{children:w.jsx(wt,{type:"submit",icon:w.jsx(Rs,{"aria-hidden":!0}),loading:G||v,disabled:G||v,children:"Legg ved sak"})}),i&&i.length>40&&w.jsx(yt,{children:"Du kan bare laste opp 40 dokumenter på en gang. Hvis du skal laste opp flere enn 40 dokumenter kan du gjøre det i flere omganger."})]})})},an=ze;Ye.__docgenInfo={description:"",methods:[],displayName:"getAttachmentTypeSelectOptions"};ze.__docgenInfo={description:"",methods:[],displayName:"EttersendingPage"};export{Es as A,Hs as B,$s as C,nn as D,an as E,tn as F,Vs as G,sn as H,Q as I,xs as J,ds as N,ye as O,Yt as a,as as b,zs as c,vs as d,on as e,Qs as f,ys as g,Zs as h,Xs as i,us as j,kt as k,rn as l,Ws as m,Us as n,Bs as o,Cs as p,Ys as q,Ue as r,Ot as s,Ht as t,is as u,qs as v,ws as w,ls as x,Js as y,en as z};
