import{r as g,o as w,j as e,V as x,H as M,ay as N,ab as E,U as y,J as d,az as j,aA as V,a6 as I,a7 as H,aB as Y,h,ac as _,aa as S,O as u,aC as C,aD as A,aE as G,aF as T}from"./iframe-Bw55AjnS.js";var K=function(t,s){var l={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&s.indexOf(r)<0&&(l[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)s.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(l[r[a]]=t[r[a]]);return l};const $=g.forwardRef((t,s)=>{var{title:l,titleId:r}=t,a=K(t,["title","titleId"]);let o=w();return o=l?r||"title-"+o:void 0,g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:s,"aria-labelledby":o},a),l?g.createElement("title",{id:o},l):null,g.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.5 4.75a.25.25 0 0 0-.25.25v1c0 .138.112.25.25.25h5a.25.25 0 0 0 .25-.25V5a.25.25 0 0 0-.25-.25zM7.75 6a.25.25 0 0 1-.25.25h-4c-.69 0-1.25.56-1.25 1.25v4c0 .69.56 1.25 1.25 1.25h4.424c.109 0 .204-.07.24-.172a7.253 7.253 0 0 1 13.224-1.01c.1.187.356.176.362-.036V7.5c0-.69-.56-1.25-1.25-1.25h-4a.25.25 0 0 1-.25-.25V5a1.75 1.75 0 0 0-1.75-1.75h-5A1.75 1.75 0 0 0 7.75 5zm-.239 8.25c.148 0 .264.128.254.276q-.015.235-.015.474c0 1.62.531 3.116 1.43 4.323.127.172.009.427-.205.427H5c-.69 0-1.25-.56-1.25-1.25v-4a.25.25 0 0 1 .25-.25zM9.25 15a5.75 5.75 0 1 1 11.5 0 5.75 5.75 0 0 1-11.5 0M15 11.75a.75.75 0 0 1 .75.75v2.19l.78.78a.75.75 0 1 1-1.06 1.06l-1-1a.75.75 0 0 1-.22-.53v-2.5a.75.75 0 0 1 .75-.75",clipRule:"evenodd"}))});var L=function(t,s){var l={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&s.indexOf(r)<0&&(l[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)s.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(l[r[a]]=t[r[a]]);return l};const U=g.forwardRef((t,s)=>{var{title:l,titleId:r}=t,a=L(t,["title","titleId"]);let o=w();return o=l?r||"title-"+o:void 0,g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:s,"aria-labelledby":o},a),l?g.createElement("title",{id:o},l):null,g.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.47 2.97a.75.75 0 0 1 .53-.22c2.018 0 3.74.242 4.95 1.15 1.269.952 1.8 2.486 1.8 4.6V9c0 1.557-.255 2.997-1.015 4.06-.796 1.115-2.05 1.69-3.735 1.69h-6c-1.685 0-2.94-.575-3.735-1.69C5.505 11.998 5.25 10.558 5.25 9V6.5A1.75 1.75 0 0 0 3.5 4.75a.75.75 0 0 1 0-1.5A3.25 3.25 0 0 1 6.75 6.5v.75h6.5V3.5a.75.75 0 0 1 .22-.53M6.75 18.5a2.75 2.75 0 1 1 5.5 0 2.75 2.75 0 0 1-5.5 0m7 0a2.75 2.75 0 1 1 5.5 0 2.75 2.75 0 0 1-5.5 0",clipRule:"evenodd"}))}),J=({svpSak:t})=>{var p,f,n;const s=!!t.åpenBehandling,l=((p=t.gjeldendeVedtak)==null?void 0:p.arbeidsforhold)??((f=t.åpenBehandling)==null?void 0:f.søknad.arbeidsforhold)??[],r=t.familiehendelse.termindato,a=((n=t.gjeldendeVedtak)==null?void 0:n.avslagÅrsak)!==void 0;if(l.length===0||!r||a)return null;const o=se(t);return e.jsxs(x,{children:[e.jsx(M,{level:"2",size:"medium",spacing:!0,children:s?"Dette har du søkt om":"Dette har du fått vedtatt"}),e.jsxs(x,{gap:"4",className:"bg-white p-4",children:[Object.values(N.groupBy(o,"fom")).map(i=>e.jsxs(E.Fragment,{children:[e.jsx(q,{perioder:i}),e.jsx("hr",{className:"text-border-divider"})]},i[0].fom)),e.jsxs(y,{gap:"2",columns:{md:"1fr 1fr 300px"},align:"center",children:[e.jsxs(d,{children:[j(V(r))," - ",j(r)]}),e.jsx(d,{children:" "}),e.jsx(ee,{})]}),e.jsx("hr",{className:"text-border-divider"}),e.jsxs(y,{gap:"2",columns:{md:"1fr 1fr 300px"},align:"center",children:[e.jsx(d,{children:I(H(r))}),e.jsx(d,{children:" "}),e.jsx(re,{})]})]})]})},q=({perioder:t})=>e.jsx(y,{gap:"2",columns:{xs:"1fr 40px",md:"1fr 1fr 300px"},align:"center",children:N.sortBy(t,s=>s.aktivitet.arbeidsgiverNavn).map((s,l)=>{var n,i;const r=_(s.aktivitet.arbeidsgiverNavn)??((n=s.aktivitet.arbeidsgiver)==null?void 0:n.id)??I(s.aktivitet.type.toLowerCase()).replace("_"," "),a=l===0?`${j(s.fom)} - ${j(s.tom)}`:"",o=s.type==="HEL"?100:s.type==="INGEN"?0:s.arbeidstidprosent??0,p=Math.round(((i=s.resultat)==null?void 0:i.utbetalingsgrad)??0),f=p>0;return e.jsxs(E.Fragment,{children:[e.jsx(S,{above:"md",asChild:!0,children:e.jsxs("div",{className:"contents",children:[e.jsx(d,{className:"whitespace-nowrap",children:a}),e.jsx(d,{children:r}),f&&e.jsx(Q,{prosentJobb:o,prosentSvangerskapspenger:p}),s.årsak===void 0&&e.jsx(W,{prosentArbeid:o}),s.årsak==="FERIE"&&e.jsx(X,{}),s.årsak==="SYKEPENGER"&&e.jsx(Z,{})]})}),e.jsx(S,{below:"md",asChild:!0,children:e.jsxs("div",{className:"contents",children:[e.jsx(d,{className:"col-span-2",children:a}),e.jsxs(x,{children:[e.jsx("strong",{children:r}),e.jsxs(d,{children:[f&&`${p} % svangerskapspenger`,s.årsak==="FERIE"&&"Ferie",s.årsak==="SYKEPENGER"&&"Sykepenger"]}),e.jsx(d,{children:`${o} % jobb`})]}),f&&e.jsx(F,{}),s.årsak===void 0&&e.jsx(D,{}),s.årsak==="FERIE"&&e.jsx(P,{}),s.årsak==="SYKEPENGER"&&e.jsx(O,{})]})})]},s.aktivitet.arbeidsgiverNavn)})}),W=({prosentArbeid:t})=>e.jsxs(u,{wrap:!1,gap:"4",align:"center",justify:"space-between",className:"pt-2 pb-2 pl-4 pr-4 bg-deepblue-50 rounded-3xl",children:[e.jsxs(d,{children:[t," % i jobb"]}),e.jsx(D,{})]}),Q=({prosentSvangerskapspenger:t,prosentJobb:s})=>e.jsxs(u,{wrap:!1,gap:"4",align:"center",justify:"space-between",className:"pt-2 pb-2 pl-4 pr-4 bg-green-100 rounded-3xl",children:[e.jsxs(x,{children:[e.jsxs(d,{children:[t," % svangerskapspenger"]}),e.jsxs(d,{children:[s," % i jobb"]})]}),e.jsx(F,{})]}),X=()=>e.jsxs(u,{gap:"4",align:"center",justify:"space-between",className:"pt-2 pb-2 pl-4 pr-4 bg-orange-100 rounded-3xl",wrap:!1,children:[e.jsx(d,{children:"Du har ferie"}),e.jsx(P,{})]}),Z=()=>e.jsxs(u,{gap:"4",align:"center",justify:"space-between",className:"pt-2 pb-2 pl-4 pr-4 bg-orange-100 rounded-3xl",wrap:!1,children:[e.jsx(d,{children:"Du er sykmeldt"}),e.jsx(O,{})]}),ee=()=>e.jsxs(u,{gap:"4",align:"center",justify:"space-between",className:"pt-2 pb-2 pl-4 pr-4 bg-purple-50 rounded-3xl",wrap:!1,children:[e.jsx(d,{children:"Du kan søke om foreldrepenger"}),e.jsx(te,{})]}),re=()=>e.jsxs(u,{gap:"4",align:"center",justify:"space-between",className:"pt-2 pb-2 pl-4 pr-4 bg-red-50 rounded-3xl",children:[e.jsx(d,{children:"Termin"}),e.jsx(C,{fontSize:"2.5rem",className:"text-icon-danger p-05","aria-hidden":!0})]}),O=()=>e.jsx("div",{className:"rounded-3xl bg-orange-200 justify-self-end",children:e.jsx(T,{fontSize:"2.5rem",className:" text-orange-500 p-05","aria-hidden":!0})}),P=()=>e.jsx("div",{className:"rounded-3xl bg-orange-200 justify-self-end",children:e.jsx(G,{fontSize:"2.5rem",className:" text-orange-500 p-05","aria-hidden":!0})}),F=()=>e.jsx("div",{className:"rounded-3xl bg-green-200 justify-self-end",children:e.jsx(A,{fontSize:"2.5rem",className:" text-surface-success p-05","aria-hidden":!0})}),D=()=>e.jsx("div",{className:"rounded-3xl bg-deepblue-100 justify-self-end",children:e.jsx($,{fontSize:"2.5rem",className:" text-deepblue-500 p-05","aria-hidden":!0})}),te=()=>e.jsx("div",{className:"rounded-3xl bg-purple-100 justify-self-end",children:e.jsx(U,{fontSize:"2.5rem",className:" text-purple-500 p-05","aria-hidden":!0})}),se=t=>{var p,f;const l=(((p=t.åpenBehandling)==null?void 0:p.søknad.arbeidsforhold)??((f=t.gjeldendeVedtak)==null?void 0:f.arbeidsforhold)??[]).map(n=>[...n.tilrettelegginger,...n.oppholdsperioder].map(i=>({...i,arbeidstidprosent:"arbeidstidprosent"in i?i.arbeidstidprosent:void 0,resultat:"resultat"in i?i.resultat:void 0,type:"type"in i?i.type:void 0,årsak:"årsak"in i?i.årsak:void 0,fom:i.fom,tom:i.tom,aktivitet:n.aktivitet,behovFrom:n.behovFrom,avslutningÅrsak:n.avslutningÅrsak}))).flat().sort((n,i)=>n.fom.localeCompare(i.fom)),r=[],a=[...l];let o=0;for(;a.length>0;){const n=a.shift();if(!n)break;const i=a.findIndex(m=>m.fom===n.fom&&m.tom===n.tom?!1:Y(m).inneholderDato(n.tom)),c=i!==-1?a.splice(i,1)[0]:void 0;if(c){let m,v;const B=h(n.fom).isSameOrAfter(c.fom)&&h(n.tom).isSameOrBefore(c.tom),R={...n,tom:h(c.fom).subtract(1,"day").format("YYYY-MM-DD")},z={...n,fom:c.fom};if(n.tom!==c.tom?(m={...c,tom:n.tom},v={...c,fom:h(n.tom).add(1,"day").format("YYYY-MM-DD")}):m=c,B){const b=[n,m,v].filter(k=>k!==void 0);a.unshift(...b)}else{const b=[R,z,m,v].filter(k=>k!==void 0);a.unshift(...b)}}if(c||r.push(n),++o>500){console.error("lagKronologiskeSvpPerioder er tilsynelatende stuck i en evig loop");break}}return r.sort((n,i)=>n.fom.localeCompare(i.fom))};J.__docgenInfo={description:"",methods:[],displayName:"Svangerskapspenger",props:{svpSak:{required:!0,tsType:{name:"SvangerskapspengeSak"},description:""}}};export{J as S};
