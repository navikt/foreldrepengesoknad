import{r as f,o as y,j as e,V as u,H as R,ay as S,ab as w,U as b,J as d,az as h,aA as z,a6 as N,a7 as M,aB as V,h as g,ac as H,aa as k,O as m,aC as Y,aD as _,aE as C,aF as A}from"./iframe-CVJxq6nd.js";var G=function(t,s){var l={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&s.indexOf(r)<0&&(l[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)s.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(l[r[n]]=t[r[n]]);return l};const T=f.forwardRef((t,s)=>{var{title:l,titleId:r}=t,n=G(t,["title","titleId"]);let o=y();return o=l?r||"title-"+o:void 0,f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:s,"aria-labelledby":o},n),l?f.createElement("title",{id:o},l):null,f.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.5 4.75a.25.25 0 0 0-.25.25v1c0 .138.112.25.25.25h5a.25.25 0 0 0 .25-.25V5a.25.25 0 0 0-.25-.25zM7.75 6a.25.25 0 0 1-.25.25h-4c-.69 0-1.25.56-1.25 1.25v4c0 .69.56 1.25 1.25 1.25h4.424c.109 0 .204-.07.24-.172a7.253 7.253 0 0 1 13.224-1.01c.1.187.356.176.362-.036V7.5c0-.69-.56-1.25-1.25-1.25h-4a.25.25 0 0 1-.25-.25V5a1.75 1.75 0 0 0-1.75-1.75h-5A1.75 1.75 0 0 0 7.75 5zm-.239 8.25c.148 0 .264.128.254.276q-.015.235-.015.474c0 1.62.531 3.116 1.43 4.323.127.172.009.427-.205.427H5c-.69 0-1.25-.56-1.25-1.25v-4a.25.25 0 0 1 .25-.25zM9.25 15a5.75 5.75 0 1 1 11.5 0 5.75 5.75 0 0 1-11.5 0M15 11.75a.75.75 0 0 1 .75.75v2.19l.78.78a.75.75 0 1 1-1.06 1.06l-1-1a.75.75 0 0 1-.22-.53v-2.5a.75.75 0 0 1 .75-.75",clipRule:"evenodd"}))});var K=function(t,s){var l={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&s.indexOf(r)<0&&(l[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)s.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(l[r[n]]=t[r[n]]);return l};const $=f.forwardRef((t,s)=>{var{title:l,titleId:r}=t,n=K(t,["title","titleId"]);let o=y();return o=l?r||"title-"+o:void 0,f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:s,"aria-labelledby":o},n),l?f.createElement("title",{id:o},l):null,f.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.47 2.97a.75.75 0 0 1 .53-.22c2.018 0 3.74.242 4.95 1.15 1.269.952 1.8 2.486 1.8 4.6V9c0 1.557-.255 2.997-1.015 4.06-.796 1.115-2.05 1.69-3.735 1.69h-6c-1.685 0-2.94-.575-3.735-1.69C5.505 11.998 5.25 10.558 5.25 9V6.5A1.75 1.75 0 0 0 3.5 4.75a.75.75 0 0 1 0-1.5A3.25 3.25 0 0 1 6.75 6.5v.75h6.5V3.5a.75.75 0 0 1 .22-.53M6.75 18.5a2.75 2.75 0 1 1 5.5 0 2.75 2.75 0 0 1-5.5 0m7 0a2.75 2.75 0 1 1 5.5 0 2.75 2.75 0 0 1-5.5 0",clipRule:"evenodd"}))}),L=({svpSak:t})=>{const s=!!t.åpenBehandling,l=t.gjeldendeVedtak?.arbeidsforhold??t.åpenBehandling?.søknad.arbeidsforhold??[],r=t.familiehendelse.termindato,n=t.gjeldendeVedtak?.avslagÅrsak!==void 0;if(l.length===0||!r||n)return null;const o=re(t);return e.jsxs(u,{children:[e.jsx(R,{level:"2",size:"medium",spacing:!0,children:s?"Dette har du søkt om":"Dette har du fått vedtatt"}),e.jsxs(u,{gap:"4",className:"bg-white p-4",children:[Object.values(S.groupBy(o,"fom")).map(a=>e.jsxs(w.Fragment,{children:[e.jsx(U,{perioder:a}),e.jsx("hr",{className:"text-border-divider"})]},a[0].fom)),e.jsxs(b,{gap:"2",columns:{md:"1fr 1fr 300px"},align:"center",children:[e.jsxs(d,{children:[h(z(r))," - ",h(r)]}),e.jsx(d,{children:" "}),e.jsx(X,{})]}),e.jsx("hr",{className:"text-border-divider"}),e.jsxs(b,{gap:"2",columns:{md:"1fr 1fr 300px"},align:"center",children:[e.jsx(d,{children:N(M(r))}),e.jsx(d,{children:" "}),e.jsx(Z,{})]})]})]})},U=({perioder:t})=>e.jsx(b,{gap:"2",columns:{xs:"1fr 40px",md:"1fr 1fr 300px"},align:"center",children:S.sortBy(t,s=>s.aktivitet.arbeidsgiverNavn).map((s,l)=>{const r=H(s.aktivitet.arbeidsgiverNavn)??s.aktivitet.arbeidsgiver?.id??N(s.aktivitet.type.toLowerCase()).replace("_"," "),n=l===0?`${h(s.fom)} - ${h(s.tom)}`:"",o=s.type==="HEL"?100:s.type==="INGEN"?0:s.arbeidstidprosent??0,a=Math.round(s.resultat?.utbetalingsgrad??0),i=a>0;return e.jsxs(w.Fragment,{children:[e.jsx(k,{above:"md",asChild:!0,children:e.jsxs("div",{className:"contents",children:[e.jsx(d,{className:"whitespace-nowrap",children:n}),e.jsx(d,{children:r}),i&&e.jsx(q,{prosentJobb:o,prosentSvangerskapspenger:a}),s.årsak===void 0&&e.jsx(J,{prosentArbeid:o}),s.årsak==="FERIE"&&e.jsx(W,{}),s.årsak==="SYKEPENGER"&&e.jsx(Q,{})]})}),e.jsx(k,{below:"md",asChild:!0,children:e.jsxs("div",{className:"contents",children:[e.jsx(d,{className:"col-span-2",children:n}),e.jsxs(u,{children:[e.jsx("strong",{children:r}),e.jsxs(d,{children:[i&&`${a} % svangerskapspenger`,s.årsak==="FERIE"&&"Ferie",s.årsak==="SYKEPENGER"&&"Sykepenger"]}),e.jsx(d,{children:`${o} % jobb`})]}),i&&e.jsx(O,{}),s.årsak===void 0&&e.jsx(P,{}),s.årsak==="FERIE"&&e.jsx(I,{}),s.årsak==="SYKEPENGER"&&e.jsx(E,{})]})})]},s.aktivitet.arbeidsgiverNavn)})}),J=({prosentArbeid:t})=>e.jsxs(m,{wrap:!1,gap:"4",align:"center",justify:"space-between",className:"pt-2 pb-2 pl-4 pr-4 bg-deepblue-50 rounded-3xl",children:[e.jsxs(d,{children:[t," % i jobb"]}),e.jsx(P,{})]}),q=({prosentSvangerskapspenger:t,prosentJobb:s})=>e.jsxs(m,{wrap:!1,gap:"4",align:"center",justify:"space-between",className:"pt-2 pb-2 pl-4 pr-4 bg-green-100 rounded-3xl",children:[e.jsxs(u,{children:[e.jsxs(d,{children:[t," % svangerskapspenger"]}),e.jsxs(d,{children:[s," % i jobb"]})]}),e.jsx(O,{})]}),W=()=>e.jsxs(m,{gap:"4",align:"center",justify:"space-between",className:"pt-2 pb-2 pl-4 pr-4 bg-orange-100 rounded-3xl",wrap:!1,children:[e.jsx(d,{children:"Du har ferie"}),e.jsx(I,{})]}),Q=()=>e.jsxs(m,{gap:"4",align:"center",justify:"space-between",className:"pt-2 pb-2 pl-4 pr-4 bg-orange-100 rounded-3xl",wrap:!1,children:[e.jsx(d,{children:"Du er sykmeldt"}),e.jsx(E,{})]}),X=()=>e.jsxs(m,{gap:"4",align:"center",justify:"space-between",className:"pt-2 pb-2 pl-4 pr-4 bg-purple-50 rounded-3xl",wrap:!1,children:[e.jsx(d,{children:"Du kan søke om foreldrepenger"}),e.jsx(ee,{})]}),Z=()=>e.jsxs(m,{gap:"4",align:"center",justify:"space-between",className:"pt-2 pb-2 pl-4 pr-4 bg-red-50 rounded-3xl",children:[e.jsx(d,{children:"Termin"}),e.jsx(Y,{fontSize:"2.5rem",className:"text-icon-danger p-05","aria-hidden":!0})]}),E=()=>e.jsx("div",{className:"rounded-3xl bg-orange-200 justify-self-end",children:e.jsx(A,{fontSize:"2.5rem",className:" text-orange-500 p-05","aria-hidden":!0})}),I=()=>e.jsx("div",{className:"rounded-3xl bg-orange-200 justify-self-end",children:e.jsx(C,{fontSize:"2.5rem",className:" text-orange-500 p-05","aria-hidden":!0})}),O=()=>e.jsx("div",{className:"rounded-3xl bg-green-200 justify-self-end",children:e.jsx(_,{fontSize:"2.5rem",className:" text-surface-success p-05","aria-hidden":!0})}),P=()=>e.jsx("div",{className:"rounded-3xl bg-deepblue-100 justify-self-end",children:e.jsx(T,{fontSize:"2.5rem",className:" text-deepblue-500 p-05","aria-hidden":!0})}),ee=()=>e.jsx("div",{className:"rounded-3xl bg-purple-100 justify-self-end",children:e.jsx($,{fontSize:"2.5rem",className:" text-purple-500 p-05","aria-hidden":!0})}),re=t=>{const l=(t.åpenBehandling?.søknad.arbeidsforhold??t.gjeldendeVedtak?.arbeidsforhold??[]).map(a=>[...a.tilrettelegginger,...a.oppholdsperioder].map(i=>({...i,arbeidstidprosent:"arbeidstidprosent"in i?i.arbeidstidprosent:void 0,resultat:"resultat"in i?i.resultat:void 0,type:"type"in i?i.type:void 0,årsak:"årsak"in i?i.årsak:void 0,fom:i.fom,tom:i.tom,aktivitet:a.aktivitet,behovFrom:a.behovFrom,avslutningÅrsak:a.avslutningÅrsak}))).flat().sort((a,i)=>a.fom.localeCompare(i.fom)),r=[],n=[...l];let o=0;for(;n.length>0;){const a=n.shift();if(!a)break;const i=n.findIndex(p=>p.fom===a.fom&&p.tom===a.tom?!1:V(p).inneholderDato(a.tom)),c=i!==-1?n.splice(i,1)[0]:void 0;if(c){let p,x;const F=g(a.fom).isSameOrAfter(c.fom)&&g(a.tom).isSameOrBefore(c.tom),D={...a,tom:g(c.fom).subtract(1,"day").format("YYYY-MM-DD")},B={...a,fom:c.fom};if(a.tom!==c.tom?(p={...c,tom:a.tom},x={...c,fom:g(a.tom).add(1,"day").format("YYYY-MM-DD")}):p=c,F){const j=[a,p,x].filter(v=>v!==void 0);n.unshift(...j)}else{const j=[D,B,p,x].filter(v=>v!==void 0);n.unshift(...j)}}if(c||r.push(a),++o>500){console.error("lagKronologiskeSvpPerioder er tilsynelatende stuck i en evig loop");break}}return r.sort((a,i)=>a.fom.localeCompare(i.fom))};L.__docgenInfo={description:"",methods:[],displayName:"Svangerskapspenger",props:{svpSak:{required:!0,tsType:{name:"SvangerskapspengeSak"},description:""}}};export{L as S};
