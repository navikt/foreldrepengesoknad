import{j as D}from"./index-e995adf2.js";import{r as R,R as P,c as Te,g as ke}from"./index-1b03fe98.js";import{u as we}from"./index-13d55e84.js";import{u as Ie,d as Le,e as Ne,S as m,f as ye,g as Me,h as be,A as se,L as Pe,F as ge,i as Ge,j as Fe,k as Be,B as Ve,G as je}from"./attachmentApi-174e11bb.js";import{c as W,j as Ke,f as Se,o as Ue,C as xe,k as Ce,E as ne,d as A,m as Ye,n as He,p as $e,q as We,Y as G,i as Y,V as oe,B as qe,L as ze,g as Je,e as Ze}from"./Ytelse-ffb4c97d.js";import{u as Xe}from"./useId-49f44336.js";var Qe=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const et=R.forwardRef((e,t)=>{const{inputProps:n,errorId:r,showErrorMsg:o,hasError:l,size:c,inputDescriptionId:E,readOnly:v}=Ie(e,"select"),{children:h,label:u,className:w,description:k,htmlSize:F,hideLabel:M=!1,style:j}=e,H=Qe(e,["children","label","className","description","htmlSize","hideLabel","style"]),N={onMouseDown:b=>{v&&(b.preventDefault(),b.target.focus())},onKeyDown:b=>{v&&["ArrowDown","ArrowUp","ArrowRight","ArrowLeft"," "].includes(b.key)&&b.preventDefault()}};return P.createElement("div",{className:W(w,"navds-form-field",`navds-form-field--${c}`,{"navds-form-field--disabled":!!n.disabled,"navds-form-field--readonly":v,"navds-select--error":l,"navds-select--readonly":v})},P.createElement(Ke,{htmlFor:n.id,size:c,className:W("navds-form-field__label",{"navds-sr-only":M})},P.createElement(Le,{readOnly:v,nativeReadOnly:!1}),u),!!k&&P.createElement(Se,{className:W("navds-form-field__description",{"navds-sr-only":M}),id:E,size:c,as:"div"},k),P.createElement("div",{className:"navds-select__container",style:j},P.createElement("select",Object.assign({},Ue(H,["error","errorId","size","readOnly"]),n,N,{ref:t,className:W("navds-select__input","navds-body-short",`navds-body-short--${c??"medium"}`),size:F}),h),P.createElement(xe,{className:"navds-select__chevron","aria-hidden":!0})),P.createElement("div",{className:"navds-form-field__error",id:r,"aria-relevant":"additions removals","aria-live":"polite"},o&&P.createElement(Ce,{size:c},e.error)))}),tt=et;var y=(e=>(e.UNFETCHED="Unfetched",e.IN_PROGRESS="InProgress",e.FINISHED="Finished",e))(y||{});const nt=ne.REST_API_URL,X=Ne.create({baseURL:nt}),z=e=>(X.interceptors.request.use(t=>(t.timeout=60*1e3,e&&(t.headers.fnr=e),t)),X.interceptors.response.use(t=>t,t=>Promise.reject(t)),X),me=()=>{window.location.href=ne.LOGIN_URL+"?redirect="+window.location.origin},pe={config:{},isSuspended:!1},V=(e,t=pe,n)=>{const[r,o]=R.useState(),[l,c]=R.useState(null),[E,v]=R.useState(y.UNFETCHED),h=z(n);return R.useEffect(()=>{!t.isSuspended&&E===y.UNFETCHED&&(v(y.IN_PROGRESS),h.get(e,t.config).then(u=>{u.data===""?o(void 0):o(u.data),v(y.FINISHED)}).catch(u=>{u.response&&(u.response.status===401||u.response.status===403)?me():c(u),v(y.FINISHED)}))},[t,e,h,E]),{data:r,error:l,requestStatus:E}},rt=(e,t,n=pe)=>{const[r,o]=R.useState(),[l,c]=R.useState(null),[E,v]=R.useState(y.UNFETCHED),h=n.fnr?z(n.fnr):z();return R.useEffect(()=>{!n.isSuspended&&E===y.UNFETCHED&&(v(y.IN_PROGRESS),h.post(e,t,n.config).then(u=>{u.data===""?o(void 0):o(u.data),v(y.FINISHED)}).catch(u=>{u.response&&(u.response.status===401||u.response.status===403)?me():c(u),v(y.FINISHED)}))},[n,e,h,E,t]),{data:r,error:l,requestStatus:E}},st=()=>{const{data:e,error:t}=V("/sokerinfo",{config:{withCredentials:!0}});return{søkerinfoData:e,søkerinfoError:t}},ot=e=>{const{data:t,error:n}=V("/innsyn/v2/saker",{config:{withCredentials:!0},isSuspended:e});return{sakerData:t,sakerError:n}},at=()=>{const{data:e,error:t}=V("/storage/aktive",{config:{withCredentials:!0},isSuspended:!0});return{storageData:e,storageError:t}},it=(e,t,n,r)=>{const o={annenPartFødselsnummer:e,barnFødselsnummer:t,familiehendelse:n},{data:l,error:c,requestStatus:E}=rt("/innsyn/v2/annenPartVedtak",o,{config:{withCredentials:!0},isSuspended:r});return c&&c.message.includes("Ugyldig ident")?{annenPartsVedtakData:void 0,annenPartsVedtakError:void 0,annenPartsVedtakRequestStatus:y.FINISHED}:{annenPartsVedtakData:l,annenPartsVedtakError:c,annenPartsVedtakRequestStatus:E}},dt=e=>{const{data:t,error:n,requestStatus:r}=V("/dokument/alle",{config:{withCredentials:!0,params:{saksnummer:e}}});return{dokumenterData:t,dokumenterError:n,dokumenterStatus:r}},lt=e=>{const{data:t,error:n}=V("/innsyn/tidslinje",{config:{withCredentials:!0,params:{saksnummer:e}}});return{tidslinjeHendelserData:t,tidslinjeHendelserError:n}},ut=()=>{const{data:e,error:t}=V("/minidialog",{config:{withCredentials:!0}});return{minidialogData:e,minidialogError:t}},ct=e=>{const{data:t,error:n}=V("/historikk/vedlegg",{config:{withCredentials:!0,params:{saksnummer:e}}});return{manglendeVedleggData:t,manglendeVedleggError:n}},ft=(e,t)=>z(t).post("/soknad/ettersend",e,{timeout:30*1e3,withCredentials:!0}),Et=()=>{const{data:e,error:t}=V("/innsyn/v2/saker/oppdatert",{config:{withCredentials:!0}});return{oppdatertData:e,oppdatertError:t}},gt={useSøkerinfo:st,useGetSaker:ot,useGetDokumenter:dt,useGetAnnenPartsVedtak:it,useGetTidslinjeHendelser:lt,useGetMinidialog:ut,useGetManglendeVedlegg:ct,useErSakOppdatert:Et,useGetMellomlagretSøknad:at,sendEttersending:ft};let St=0;function mt(e,t){const n=`atom${++St}`,r={toString:()=>n};return typeof e=="function"?r.read=e:(r.init=e,r.read=function(o){return o(this)},r.write=function(o,l,c){return l(this,typeof c=="function"?c(o(this)):c)}),t&&(r.write=t),r}const ae=e=>"init"in e,ie=e=>!!e.write,J=new WeakMap,pt=(e,t)=>{J.set(e,t),e.catch(()=>{}).finally(()=>J.delete(e))},de=(e,t)=>{const n=J.get(e);n&&(J.delete(e),n(t))},le=(e,t)=>{e.status="fulfilled",e.value=t},ue=(e,t)=>{e.status="rejected",e.reason=t},ht=e=>typeof(e==null?void 0:e.then)=="function",x=(e,t)=>!!e&&"v"in e&&"v"in t&&Object.is(e.v,t.v),ce=(e,t)=>!!e&&"e"in e&&"e"in t&&Object.is(e.e,t.e),K=e=>!!e&&"v"in e&&e.v instanceof Promise,vt=(e,t)=>"v"in e&&"v"in t&&e.v.orig&&e.v.orig===t.v.orig,q=e=>{if("e"in e)throw e.e;return e.v},Ot=()=>{const e=new WeakMap,t=new WeakMap,n=new Map;let r,o;const l=s=>e.get(s),c=(s,d)=>{const f=e.get(s);if(e.set(s,d),n.has(s)||n.set(s,f),K(f)){const i="v"in d?d.v instanceof Promise?d.v:Promise.resolve(d.v):Promise.reject(d.e);f.v!==i&&de(f.v,i)}},E=(s,d,f)=>{const i=new Map;let g=!1;f.forEach((p,a)=>{!p&&a===s&&(p=d),p&&(i.set(a,p),d.d.get(a)!==p&&(g=!0))}),(g||d.d.size!==i.size)&&(d.d=i)},v=(s,d,f)=>{const i=l(s),g={d:(i==null?void 0:i.d)||new Map,v:d};if(f&&E(s,g,f),x(i,g)&&i.d===g.d)return i;if(K(i)&&K(g)&&vt(i,g)){if(i.d===g.d)return i;g.v=i.v}return c(s,g),g},h=(s,d,f,i)=>{if(ht(d)){let g;const p=()=>{const S=l(s);if(!K(S)||S.v!==a)return;const T=v(s,a,f);t.has(s)&&S.d!==T.d&&B(s,T,S.d)},a=new Promise((S,T)=>{let O=!1;d.then(_=>{O||(O=!0,le(a,_),S(_),p())},_=>{O||(O=!0,ue(a,_),T(_),p())}),g=_=>{O||(O=!0,_.then(I=>le(a,I),I=>ue(a,I)),S(_))}});return a.orig=d,a.status="pending",pt(a,S=>{S&&g(S),i==null||i()}),v(s,a,f)}return v(s,d,f)},u=(s,d,f)=>{const i=l(s),g={d:(i==null?void 0:i.d)||new Map,e:d};return f&&E(s,g,f),ce(i,g)&&i.d===g.d?i:(c(s,g),g)},w=(s,d)=>{const f=l(s);if(!d&&f&&(t.has(s)||Array.from(f.d).every(([O,_])=>{if(O===s)return!0;const I=w(O);return I===_||x(I,_)})))return f;const i=new Map;let g=!0;const p=O=>{if(O===s){const I=l(O);if(I)return i.set(O,I),q(I);if(ae(O))return i.set(O,void 0),O.init;throw new Error("no atom init")}const _=w(O);return i.set(O,_),q(_)};let a,S;const T={get signal(){return a||(a=new AbortController),a.signal},get setSelf(){return!S&&ie(s)&&(S=(...O)=>{if(!g)return b(s,...O)}),S}};try{const O=s.read(p,T);return h(s,O,i,()=>a==null?void 0:a.abort())}catch(O){return u(s,O,i)}finally{g=!1}},k=s=>q(w(s)),F=s=>{let d=t.get(s);return d||(d=U(s)),d},M=(s,d)=>!d.l.size&&(!d.t.size||d.t.size===1&&d.t.has(s)),j=s=>{const d=t.get(s);d&&M(s,d)&&L(s)},H=s=>{const d=new Map,f=new WeakMap,i=a=>{var S;const T=new Set((S=t.get(a))==null?void 0:S.t);return n.forEach((O,_)=>{var I;(I=l(_))!=null&&I.d.has(a)&&T.add(_)}),T},g=a=>{i(a).forEach(S=>{S!==a&&(d.set(S,(d.get(S)||new Set).add(a)),f.set(S,(f.get(S)||0)+1),g(S))})};g(s);const p=a=>{i(a).forEach(S=>{var T;if(S!==a){let O=f.get(S);if(O&&f.set(S,--O),!O){let _=!!((T=d.get(S))!=null&&T.size);if(_){const I=l(S),Ae=w(S,!0);_=!x(I,Ae)}_||d.forEach(I=>I.delete(S))}p(S)}})};p(s)},N=(s,...d)=>{let f=!0;const i=a=>q(w(a)),g=(a,...S)=>{let T;if(a===s){if(!ae(a))throw new Error("atom not writable");const O=l(a),_=h(a,S[0]);x(O,_)||H(a)}else T=N(a,...S);if(!f){const O=$()}return T},p=s.write(i,g,...d);return f=!1,p},b=(s,...d)=>{const f=N(s,...d),i=$();return f},U=(s,d,f)=>{var i;const g=f||[];(i=l(s))==null||i.d.forEach((a,S)=>{const T=t.get(S);T?T.t.add(s):S!==s&&U(S,s,g)}),w(s);const p={t:new Set(d&&[d]),l:new Set};if(t.set(s,p),ie(s)&&s.onMount){const{onMount:a}=s;g.push(()=>{const S=a((...T)=>b(s,...T));S&&(p.u=S)})}return f||g.forEach(a=>a()),p},L=s=>{var d;const f=(d=t.get(s))==null?void 0:d.u;f&&f(),t.delete(s);const i=l(s);i&&(K(i)&&de(i.v),i.d.forEach((g,p)=>{if(p!==s){const a=t.get(p);a&&(a.t.delete(s),M(p,a)&&L(p))}}))},B=(s,d,f)=>{const i=new Set(d.d.keys()),g=new Set;f==null||f.forEach((p,a)=>{if(i.has(a)){i.delete(a);return}g.add(a);const S=t.get(a);S&&S.t.delete(s)}),i.forEach(p=>{const a=t.get(p);a?a.t.add(s):t.has(s)&&U(p,s)}),g.forEach(p=>{const a=t.get(p);a&&M(p,a)&&L(p)})},$=()=>{let s;for(;n.size;){const d=Array.from(n);n.clear(),d.forEach(([f,i])=>{const g=l(f);if(g){const p=t.get(f);p&&g.d!==(i==null?void 0:i.d)&&B(f,g,i==null?void 0:i.d),p&&!(!K(i)&&(x(i,g)||ce(i,g)))&&p.l.forEach(a=>a())}})}};return{get:k,set:b,sub:(s,d)=>{const f=F(s),i=$(),g=f.l;return g.add(d),()=>{g.delete(d),j(s)}}}};let Q;const Rt=()=>(Q||(Q=Ot()),Q),_t=R.createContext(void 0),he=e=>{const t=R.useContext(_t);return(e==null?void 0:e.store)||t||Rt()},Dt=e=>typeof(e==null?void 0:e.then)=="function",At=P.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)});function Tt(e,t){const n=he(t),[[r,o,l],c]=R.useReducer(h=>{const u=n.get(e);return Object.is(h[0],u)&&h[1]===n&&h[2]===e?h:[u,n,e]},void 0,()=>[n.get(e),n,e]);let E=r;(o!==n||l!==e)&&(c(),E=n.get(e));const v=t==null?void 0:t.delay;return R.useEffect(()=>{const h=n.sub(e,()=>{if(typeof v=="number"){setTimeout(c,v);return}c()});return c(),h},[n,e,v]),R.useDebugValue(E),Dt(E)?At(E):E}function kt(e,t){const n=he(t);return R.useCallback((...o)=>n.set(e,...o),[n,e])}var re=(e=>(e.HOVEDSIDE="/",e.SAKSOVERSIKT="/sak",e.DIN_PLAN="din-plan",e.DOKUMENTER="dokumenter",e.ETTERSEND="ettersend",e.TIDSLINJEN="tidslinjen",e.OPPGAVER="oppgaver",e))(re||{}),wt=(e=>(e.SAKSBEHANDLINGSTIDER="https://www.nav.no/saksbehandlingstider",e.SAKSBEHANDLINGSTIDER_FP="https://www.nav.no/saksbehandlingstider#foreldrepenger",e.SAKSBEHANDLINGSTIDER_SVP="https://www.nav.no/saksbehandlingstider#svangerskapspenger",e.SAKSBEHANDLINGSTIDER_ES="https://www.nav.no/saksbehandlingstider#engangsstonad",e.KLAGERETTIGHETER="https://www.nav.no/klage",e.KLAGERETTIGHETER_FP="https://www.nav.no/klage#foreldrepenger",e.KLAGERETTIGHETER_SVP="https://www.nav.no/klage#svangerskapspenger",e.KLAGERETTIGHETER_ES="https://www.nav.no/klage#engangsstonad",e.CHAT_MED_OSS="https://www.nav.no/person/kontakt-oss/chat/familie",e.SKRIV_TIL_OSS="https://innboks.nav.no/s/skriv-til-oss?category=Familie",e.RING_OSS="tel:55553333",e.SE_FLERE_TLF_NR_OG_TASTEVALG="https://www.nav.no/kontaktoss#ring-oss",e.LES_MER_OM_VÅRE_PENGESTØTTER="https://www.nav.no/barn",e.LES_MER_OM_FORELDREPENGER="https://www.nav.no/foreldrepenger",e.LES_MER_OM_SVANGERSKAPSPENGER="https://familie.nav.no/om-svangerskapspenger",e.LES_MER_OM_ENGANGSTØNAD="https://familie.nav.no/om-engangsstonad",e.MELD_FRA_OM_ENDRINGER="https://www.nav.no/no/nav-og-samfunn/om-nav/relatert-informasjon/du-har-plikt-til-a-gi-nav-riktige-opplysninger",e.VENT_INNTEKTSMELDING="https://www.nav.no/arbeidsgiver/inntektsmelding",e.VENT_MELDEKORT="https://www.nav.no/no/person/arbeid/dagpenger-ved-arbeidsloshet-og-permittering/meldekort-hvordan-gjor-du-det",e.SØKNADSFRISTER="https://www.nav.no/foreldrepenger#soknadsfrister",e.FORELDREPENGESOKNAD="https://foreldrepengesoknad.nav.no",e.HVOR_LENGE="https://www.nav.no/foreldrepenger#hvor-lenge",e))(wt||{});const ve=mt(re.HOVEDSIDE),un=()=>Tt(ve),It=e=>{const t=kt(ve);R.useEffect(()=>{t(e)},[t,e])};var Oe={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Te,function(){var n="day";return function(r,o,l){var c=function(h){return h.add(4-h.isoWeekday(),n)},E=o.prototype;E.isoWeekYear=function(){return c(this).year()},E.isoWeek=function(h){if(!this.$utils().u(h))return this.add(7*(h-this.isoWeek()),n);var u,w,k,F,M=c(this),j=(u=this.isoWeekYear(),w=this.$u,k=(w?l.utc:l)().year(u).startOf("year"),F=4-k.isoWeekday(),k.isoWeekday()>4&&(F+=7),k.add(F,n));return M.diff(j,"week")+1},E.isoWeekday=function(h){return this.$utils().u(h)?this.day()||7:this.day(this.day()%7?h:h-7)};var v=E.startOf;E.startOf=function(h,u){var w=this.$utils(),k=!!w.u(u)||u;return w.p(h)==="isoweek"?k?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):v.bind(this)(h,u)}}})})(Oe);var Lt=Oe.exports;const Nt=ke(Lt);A.extend(Ye);A.extend(Nt);A.extend(He);A.extend($e);const yt=(e,t)=>A(e).format(t||"dddd D. MMMM YYYY"),cn=e=>yt(e,"KL.HH:mm"),fn=e=>e.format("MMM").substr(0,3),Mt=e=>{const t=Math.floor(e/5);return{dager:e-t*5,uker:t}},En=(e,t,n="full")=>{const{uker:r,dager:o}=Mt(Math.abs(e)),l=t.formatMessage({id:"varighet.dager"},{dager:o});if(r===0)return l;const c=t.formatMessage({id:"varighet.uker"},{uker:r});if(o>0){const E=n==="full"?t.formatMessage({id:"varighet.separator--full"}):t.formatMessage({id:"varighet.separator--normal"});return`${c}${E}${l}`}return c},bt=e=>e.fom!==void 0&&e.tom!==void 0&&A(e.fom).isSameOrBefore(e.tom,"day"),fe=e=>A(e).isoWeekday(),Pt=e=>fe(e)!==6&&fe(e)!==7,gn=e=>{if(!bt(e))return 0;let t=A(e.fom);const n=A(e.tom);let r=0;for(;t.isSameOrBefore(n,"day");)Pt(t.toDate())&&r++,t=t.add(24,"hours");return r},C=e=>{if(e!==void 0&&We(e)&&A(e,"YYYY-MM-DD",!0).isValid())return A.utc(e).toDate()},Gt=(e,t)=>e===void 0||t===void 0?!1:A(e).isSameOrAfter(A(t).subtract(1,"day"),"day")&&A(e).isSameOrBefore(A(t).add(1,"day"),"day"),Ft=e=>{const t=e.charAt(e.length-1).toLowerCase();return t==="s"||t==="x"||t==="z"},Sn=(e,t)=>t!=="nb"?e:Ft(e)?`${e}'`:`${e}s`,mn=(e,t,n)=>{const r=!e.sakTilhørerMor;return{farMedmor:r?t:n,mor:r?n:t}},Bt=e=>!e.dødsdato,Re=e=>[...e.engangsstønad,...e.foreldrepenger,...e.svangerskapspenger];function Vt(e,t){return A(e.fødselsdato).isAfter(t.fødselsdato,"d")?1:A(e.fødselsdato).isBefore(t.fødselsdato,"d")||e.fornavn<t.fornavn?-1:1}const pn=e=>{var t;if(e.gjeldendeVedtak&&e.gjeldendeVedtak.perioder.length>0)return C(e.gjeldendeVedtak.perioder[0].fom);if(e.åpenBehandling&&e.åpenBehandling.søknadsperioder)return C((t=e.åpenBehandling)==null?void 0:t.søknadsperioder[0].fom)},jt=(e,t)=>{const n=e.ytelse===G.FORELDREPENGER,r=n&&e.barn!==void 0?e.barn.map(u=>u.fnr).flat():[],o=n&&t?t.filter(u=>r.includes(u.fnr)):[],l=C(e.familiehendelse.fødselsdato),c=l!==void 0&&t?t.filter(u=>Gt(C(u.fødselsdato),l)&&!(o!=null&&o.find(w=>w.fnr===u.fnr))):[],E=o.concat(c);E.sort(Vt);const v=E.filter(u=>u.fødselsdato!==void 0).map(u=>C(u.fødselsdato));let h=[];return v&&v.length>0?h=v:l&&(h=[l]),{fornavn:E==null?void 0:E.filter(u=>u.fornavn!==void 0&&u.fornavn.trim()!=="").map(u=>[u.fornavn,u.mellomnavn!==void 0?u.mellomnavn:""].join(" ")),fødselsdatoer:h,alleBarnaLever:!!(E!=null&&E.every(u=>Bt(u)))}},hn=(e,t)=>Re(t).reduce((r,o)=>{if(o.familiehendelse){const l=xt(o.familiehendelse),c=r.find(E=>Kt(E,l));if(c&&c.saker.push(o),c&&r.includes(c))return r;{const E=Ut(o.familiehendelse,o.gjelderAdopsjon),v={antallBarn:o.familiehendelse.antallBarn,familiehendelsedato:l,saker:[o],type:E,ytelse:o.ytelse,barn:E!=="termin"?jt(o,e):void 0};return r.push(v),r}}else return r},[]),ee=(e,t)=>t===G.ENGANGSSTØNAD?e.map(n=>({...n,ytelse:t})):t===G.SVANGERSKAPSPENGER?e.map(n=>({...n,ytelse:t})):e.map(n=>({...n,ytelse:t})),vn=e=>({foreldrepenger:ee(e.foreldrepenger,G.FORELDREPENGER),engangsstønad:ee(e.engangsstønad,G.ENGANGSSTØNAD),svangerskapspenger:ee(e.svangerskapspenger,G.SVANGERSKAPSPENGER)}),On=e=>{const{foreldrepenger:t,svangerskapspenger:n,engangsstønad:r}=e;return t.length+n.length+r.length},Kt=(e,t)=>{const n=A(t).subtract(2,"months"),r=A(t).add(3,"weeks");if(e)return A(e.familiehendelsedato).isAfter(n)&&A(e.familiehendelsedato).isSameOrBefore(r)},Ut=(e,t)=>{if(t)return"adopsjon";const{fødselsdato:n}=e;return n?"fødsel":"termin"},xt=e=>{const{fødselsdato:t,termindato:n,omsorgsovertakelse:r}=e;return r||t||n},Rn=(e,t)=>{const n=t&&t.familiehendelse?t.familiehendelse.fødselsdato:void 0,r=e.søker.barn&&n?e.søker.barn.find(l=>A(l.fødselsdato).isSame(n,"d")):void 0,o=r&&r.annenForelder?r.annenForelder.fornavn:void 0;return o!==void 0&&o.trim()!==""?o:"Annen forelder"},Ct=(e,t)=>e===1||e===0?t.formatMessage({id:"barn"}):e===2?t.formatMessage({id:"tvillinger"}):e===3?t.formatMessage({id:"trillinger"}):t.formatMessage({id:"flerlinger"}),_e=e=>{if(e===void 0)return;const t=[];if(e.forEach(n=>{t.find(o=>A(o).isSame(n,"day"))===void 0&&t.push(n)}),t.length>1){const n=t.map(l=>Y(l)),r=n.slice(0,-1).join(", "),o=n[n.length-1];return`${r} og ${o}`}return Y(t[0])},Yt=(e,t,n,r,o)=>{const l=Ct(n,r);if(n===0&&t===void 0||o==="termin")return r.formatMessage({id:"barnHeader.terminBarn"},{barnTekst:l,termindato:Y(e)});if(o==="adopsjon")return r.formatMessage({id:"barnHeader.adoptertBarn"},{adopsjonsdato:Y(e)});{const c=_e(t);return t!==void 0&&t.length>0?r.formatMessage({id:"barnHeader.fødtBarn"},{barnTekst:l,fødselsdatoTekst:c}):""}},Ht=e=>{if(e.length>1){const t=e.map(r=>r.trim()).slice(0,-1).join(", "),n=e[e.length-1];return`${t} og ${n}`}else return`${e[0]}`},_n=(e,t,n,r,o,l,c)=>{if(e===void 0||e.length===0||!r)return Yt(n,t,o,l,c);const E=Ht(e);if(c==="fødsel"){const v=_e(t);return`${E} født ${v}`}return c==="adopsjon"?`${E} adoptert ${Y(n)}`:""};var $t=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const Wt=R.forwardRef((e,t)=>{var{title:n,titleId:r}=e,o=$t(e,["title","titleId"]);let l=Xe();return l=n?r||"title-"+l:void 0,R.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:t,"aria-labelledby":l},o),n?R.createElement("title",{id:l},n):null,R.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 13v8h2v-8h8v-2h-8V3h-2v8H3v2h8Z",fill:"currentColor"}))}),qt=Wt,De=e=>{const t=Object.values(m);return e.ytelse===G.FORELDREPENGER?e.kanSøkeOmEndring?t.filter(Jt):t.filter(zt):e.ytelse===G.ENGANGSSTØNAD?t.filter(Xt):t.filter(Zt)},zt=e=>{switch(e){case m.SKJEMA_FOR_TILRETTELEGGING_OG_OMPLASSERING:case m.DEPRECATED_TERMINBEKREFTELSE:case m.DEPRECATED_BEKREFTELSE_DELTAR_KVALIFISERINGSPROGRAM:case m.DEPRECATED_DOK_BEGRUNNELSE_SØKE_TILBAKE_I_TID:return!1;default:return!0}},Jt=e=>{switch(e){case m.ANNET:case m.BEKREFTELSE_DELTAR_KVALIFISERINGSPROGRAM:case m.BEKREFTELSE_FRA_ARBEIDSGIVER:case m.BEKREFTELSE_PÅ_AVTALT_FERIE:case m.DOK_AV_ALENEOMSORG:case m.DOK_BEGRUNNELSE_SØKE_TILBAKE_I_TID:case m.DOK_DELTAKELSE_I_INTRODUKSJONSPROGRAMMET:case m.DOK_INNLEGGELSE_BARN:case m.DOK_INNLEGGELSE_MOR:case m.DOK_INNLEGGELSE_FAR:case m.DOK_SYKDOM_MOR:case m.DOK_SYKDOM_FAR:case m.DOK_UTDANNING_MOR:case m.DOK_UTDANNING_OG_ARBEID_MOR:case m.DOK_ARBEID_MOR:case m.OMSORGSOVERTAKELSE:case m.TILBAKEBETALING:case m.HV_ØVELSE:case m.NAV_TILTAK:case m.TERMINBEKREFTELSE:case m.DEPRECATED_TILBAKEBETALING:case m.DEPRECATED_KOPI_SKATTEMELDING:return!0;default:return!1}},Zt=e=>{switch(e){case m.ANNET:case m.DOK_MILITÆR_SILVIL_TJENESTE:case m.INNTEKTSOPPLYSNINGER_FRILANS_ELLER_SELVSTENDIG:case m.SKJEMA_FOR_TILRETTELEGGING_OG_OMPLASSERING:case m.TILBAKEBETALING:case m.TERMINBEKREFTELSE:case m.SKATTEMELDING:case m.RESULTATREGNSKAP:return!0;default:return!1}},Xt=e=>{switch(e){case m.ANNET:case m.TERMINBEKREFTELSE:case m.FØDSELSATTEST:case m.TILBAKEBETALING:return!0;default:return!1}};const Qt=e=>e===G.ENGANGSSTØNAD?"engangsstonad":e===G.FORELDREPENGER?"foreldrepenger":"svangerskapspenger",Ee=e=>e.map(t=>t.skjemanummer).filter((t,n,r)=>r.indexOf(t)===n),Z="default",en=(e,t)=>t?D.jsxs(D.Fragment,{children:[D.jsx("option",{value:Z,disabled:!1,hidden:!1,children:D.jsx(ge,{id:"ettersendelse.select.defaultValue"})}),De(t).map(n=>({skjemanummer:n,text:e.formatMessage({id:`ettersendelse.${n}`})})).sort((n,r)=>n.text.localeCompare(r.text)).map(({skjemanummer:n,text:r})=>D.jsx("option",{value:n,children:r},n))]}):null,tn=e=>{if(e===Z)return e;const t=Object.values(m).find(n=>n===e);if(t)return t;throw Error("Valgt skjemanr finnes ikke")},te=({saker:e})=>{const t=we();ye(`${t.formatMessage({id:"lastOppDokumenter"})} - ${t.formatMessage({id:"dineForeldrepenger"})}`),It(re.ETTERSEND);const n=Me(),r=Ze("ettersending-page"),[o,l]=R.useState(!1),[c,E]=R.useState(!1),[v,h]=R.useState(void 0),[u,w]=R.useState(Z),[k,F]=R.useState([]),[M,j]=R.useState(!1),N=Re(e).find(L=>L.saksnummer===n.saksnummer),b=(L,B)=>{F(L),j(B)},U=L=>{L.preventDefault(),l(!0);const B={saksnummer:N.saksnummer,type:N.ytelse,vedlegg:k};gt.sendEttersending(B).then(()=>{l(!1),E(!0)}).catch($=>{l(!1),h("Vi klarte ikke å sende inn dokumentasjonen din. Prøv igjen senere og hvis problemet vedvarer kontakt brukerstøtte.")})};return c||v?D.jsxs(D.Fragment,{children:[D.jsx(be,{}),D.jsxs(oe,{gap:"2",children:[c&&D.jsx(se,{variant:"success",children:"Dokumentene er sendt"}),v&&D.jsx(se,{variant:"error",children:v}),D.jsx(Pe,{to:`/sak/${N.saksnummer}`,children:D.jsx(ge,{id:"miniDialog.kvittering.gåTilbakeTilSaken"})})]})]}):D.jsx("form",{onSubmit:U,children:D.jsxs(oe,{gap:"4",children:[D.jsx(qe,{children:"Dokumentene du laster opp vil bli lagt ved søknaden din. Du må velge hva dokumentene inneholder for at saksbehandlerene i NAV skal kunne behandle saken din."}),D.jsx(Se,{children:"Du kan laste opp dokumenter i formatene pdf, png og jpg."}),D.jsx(ze,{target:"_blank",href:"https://www.nav.no/brukerstotte#sende-soknad-pa-nett",children:"Les om hvordan du kan ta bilde av dokumenter med mobilen"}),D.jsx(tt,{className:r.element("select"),label:"Hva inneholder dokumentene dine?",onChange:L=>w(tn(L.target.value)),children:en(t,N)}),u!==Z&&D.jsx(Ge,{updateAttachments:b,attachmentType:Fe.MORS_AKTIVITET_DOKUMENTASJON,skjemanummer:u,existingAttachments:k,saveAttachment:Be(ne.REST_API_URL,Qt(N.ytelse)),skjemanummerTextMap:N?De(N).reduce((L,B)=>({...L,[B]:t.formatMessage({id:`ettersendelse.${B}`})}),{}):void 0}),k&&k.length>0&&k.length<=40&&D.jsx(Je,{children:D.jsx(Ve,{type:"submit",icon:D.jsx(qt,{"aria-hidden":!0}),loading:o||M,disabled:o||M,children:"Legg ved sak"})}),k&&k.length>40&&D.jsx(je,{children:"Du kan bare laste opp 40 dokumenter på en gang. Hvis du skal laste opp flere enn 40 dokumenter kan du gjøre det i flere omganger."})]})})},Dn=te;try{Ee.displayName="getListOfUniqueSkjemanummer",Ee.__docgenInfo={description:"",displayName:"getListOfUniqueSkjemanummer",props:{}}}catch{}try{te.displayName="EttersendingPage",te.__docgenInfo={description:"",displayName:"EttersendingPage",props:{saker:{defaultValue:null,description:"",name:"saker",required:!0,type:{name:"SakOppslag"}}}}}catch{}export{gt as A,Dn as E,C as I,wt as N,re as O,y as R,mt as a,kt as b,un as c,Ut as d,_n as e,Re as f,xt as g,Sn as h,Nt as i,gn as j,En as k,mn as l,fn as m,It as n,Rn as o,Ht as p,yt as q,cn as r,pn as s,jt as t,Tt as u,On as v,hn as w,vn as x,X as y};
