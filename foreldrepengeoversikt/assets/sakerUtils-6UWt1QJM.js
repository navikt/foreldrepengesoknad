import{aS as se,aT as ue,aU as m,aV as oe,aW as fe,aX as de,aY as Vr,aZ as ce,a_ as Wr,a$ as le,b0 as he,b1 as pe,b2 as Jr,b3 as ve,b4 as ge,b5 as me,h as l,_ as _e,a0 as be,b6 as ye,b7 as qe,b8 as B,X as y}from"./iframe-Baoq88Fe.js";var E,cr;function Qr(){if(cr)return E;cr=1;function r(e,n){for(var a=-1,i=e==null?0:e.length,t=Array(i);++a<i;)t[a]=n(e[a],a,e);return t}return E=r,E}var P,lr;function q(){if(lr)return P;lr=1;var r=se(),e=ue(),n="[object Symbol]";function a(i){return typeof i=="symbol"||e(i)&&r(i)==n}return P=a,P}var R,hr;function fr(){if(hr)return R;hr=1;var r=m(),e=q(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function i(t,s){if(r(t))return!1;var u=typeof t;return u=="number"||u=="symbol"||u=="boolean"||t==null||e(t)?!0:a.test(t)||!n.test(t)||s!=null&&t in Object(s)}return R=i,R}var A,pr;function Se(){if(pr)return A;pr=1;var r=oe(),e="Expected a function";function n(a,i){if(typeof a!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var t=function(){var s=arguments,u=i?i.apply(this,s):s[0],o=t.cache;if(o.has(u))return o.get(u);var d=a.apply(this,s);return t.cache=o.set(u,d)||o,d};return t.cache=new(n.Cache||r),t}return n.Cache=r,A=n,A}var F,vr;function Me(){if(vr)return F;vr=1;var r=Se(),e=500;function n(a){var i=r(a,function(s){return t.size===e&&t.clear(),s}),t=i.cache;return i}return F=n,F}var T,gr;function Be(){if(gr)return T;gr=1;var r=Me(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,a=r(function(i){var t=[];return i.charCodeAt(0)===46&&t.push(""),i.replace(e,function(s,u,o,d){t.push(o?d.replace(n,"$1"):u||s)}),t});return T=a,T}var O,mr;function Ee(){if(mr)return O;mr=1;var r=fe(),e=Qr(),n=m(),a=q(),i=r?r.prototype:void 0,t=i?i.toString:void 0;function s(u){if(typeof u=="string")return u;if(n(u))return e(u,s)+"";if(a(u))return t?t.call(u):"";var o=u+"";return o=="0"&&1/u==-1/0?"-0":o}return O=s,O}var C,_r;function Pe(){if(_r)return C;_r=1;var r=Ee();function e(n){return n==null?"":r(n)}return C=e,C}var D,br;function jr(){if(br)return D;br=1;var r=m(),e=fr(),n=Be(),a=Pe();function i(t,s){return r(t)?t:e(t,s)?[t]:n(a(t))}return D=i,D}var I,yr;function S(){if(yr)return I;yr=1;var r=q();function e(n){if(typeof n=="string"||r(n))return n;var a=n+"";return a=="0"&&1/n==-1/0?"-0":a}return I=e,I}var k,qr;function dr(){if(qr)return k;qr=1;var r=jr(),e=S();function n(a,i){i=r(i,a);for(var t=0,s=i.length;a!=null&&t<s;)a=a[e(i[t++])];return t&&t==s?a:void 0}return k=n,k}var G,Sr;function Re(){if(Sr)return G;Sr=1;var r=de(),e=Vr(),n=1,a=2;function i(t,s,u,o){var d=u.length,f=d,c=!o;if(t==null)return!f;for(t=Object(t);d--;){var h=u[d];if(c&&h[2]?h[1]!==t[h[0]]:!(h[0]in t))return!1}for(;++d<f;){h=u[d];var p=h[0],b=t[p],v=h[1];if(c&&h[2]){if(b===void 0&&!(p in t))return!1}else{var g=new r;if(o)var M=o(b,v,p,t,s,g);if(!(M===void 0?e(v,b,n|a,o,g):M))return!1}}return!0}return G=i,G}var w,Mr;function re(){if(Mr)return w;Mr=1;var r=ce();function e(n){return n===n&&!r(n)}return w=e,w}var L,Br;function Ae(){if(Br)return L;Br=1;var r=re(),e=Wr();function n(a){for(var i=e(a),t=i.length;t--;){var s=i[t],u=a[s];i[t]=[s,u,r(u)]}return i}return L=n,L}var N,Er;function ee(){if(Er)return N;Er=1;function r(e,n){return function(a){return a==null?!1:a[e]===n&&(n!==void 0||e in Object(a))}}return N=r,N}var K,Pr;function Fe(){if(Pr)return K;Pr=1;var r=Re(),e=Ae(),n=ee();function a(i){var t=e(i);return t.length==1&&t[0][2]?n(t[0][0],t[0][1]):function(s){return s===i||r(s,i,t)}}return K=a,K}var x,Rr;function Te(){if(Rr)return x;Rr=1;var r=dr();function e(n,a,i){var t=n==null?void 0:r(n,a);return t===void 0?i:t}return x=e,x}var H,Ar;function Oe(){if(Ar)return H;Ar=1;function r(e,n){return e!=null&&n in Object(e)}return H=r,H}var Y,Fr;function Ce(){if(Fr)return Y;Fr=1;var r=jr(),e=le(),n=m(),a=he(),i=pe(),t=S();function s(u,o,d){o=r(o,u);for(var f=-1,c=o.length,h=!1;++f<c;){var p=t(o[f]);if(!(h=u!=null&&d(u,p)))break;u=u[p]}return h||++f!=c?h:(c=u==null?0:u.length,!!c&&i(c)&&a(p,c)&&(n(u)||e(u)))}return Y=s,Y}var $,Tr;function De(){if(Tr)return $;Tr=1;var r=Oe(),e=Ce();function n(a,i){return a!=null&&e(a,i,r)}return $=n,$}var z,Or;function Ie(){if(Or)return z;Or=1;var r=Vr(),e=Te(),n=De(),a=fr(),i=re(),t=ee(),s=S(),u=1,o=2;function d(f,c){return a(f)&&i(c)?t(s(f),c):function(h){var p=e(h,f);return p===void 0&&p===c?n(h,f):r(c,p,u|o)}}return z=d,z}var U,Cr;function ne(){if(Cr)return U;Cr=1;function r(e){return e}return U=r,U}var X,Dr;function ke(){if(Dr)return X;Dr=1;function r(e){return function(n){return n?.[e]}}return X=r,X}var Z,Ir;function Ge(){if(Ir)return Z;Ir=1;var r=dr();function e(n){return function(a){return r(a,n)}}return Z=e,Z}var V,kr;function we(){if(kr)return V;kr=1;var r=ke(),e=Ge(),n=fr(),a=S();function i(t){return n(t)?r(a(t)):e(t)}return V=i,V}var W,Gr;function Le(){if(Gr)return W;Gr=1;var r=Fe(),e=Ie(),n=ne(),a=m(),i=we();function t(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?a(s)?e(s[0],s[1]):r(s):i(s)}return W=t,W}var J,wr;function Ne(){if(wr)return J;wr=1;function r(e){return function(n,a,i){for(var t=-1,s=Object(n),u=i(n),o=u.length;o--;){var d=u[e?o:++t];if(a(s[d],d,s)===!1)break}return n}}return J=r,J}var Q,Lr;function Ke(){if(Lr)return Q;Lr=1;var r=Ne(),e=r();return Q=e,Q}var j,Nr;function xe(){if(Nr)return j;Nr=1;var r=Ke(),e=Wr();function n(a,i){return a&&r(a,i,e)}return j=n,j}var rr,Kr;function He(){if(Kr)return rr;Kr=1;var r=Jr();function e(n,a){return function(i,t){if(i==null)return i;if(!r(i))return n(i,t);for(var s=i.length,u=a?s:-1,o=Object(i);(a?u--:++u<s)&&t(o[u],u,o)!==!1;);return i}}return rr=e,rr}var er,xr;function Ye(){if(xr)return er;xr=1;var r=xe(),e=He(),n=e(r);return er=n,er}var nr,Hr;function $e(){if(Hr)return nr;Hr=1;var r=Ye(),e=Jr();function n(a,i){var t=-1,s=e(a)?Array(a.length):[];return r(a,function(u,o,d){s[++t]=i(u,o,d)}),s}return nr=n,nr}var tr,Yr;function ze(){if(Yr)return tr;Yr=1;function r(e,n){var a=e.length;for(e.sort(n);a--;)e[a]=e[a].value;return e}return tr=r,tr}var ar,$r;function Ue(){if($r)return ar;$r=1;var r=q();function e(n,a){if(n!==a){var i=n!==void 0,t=n===null,s=n===n,u=r(n),o=a!==void 0,d=a===null,f=a===a,c=r(a);if(!d&&!c&&!u&&n>a||u&&o&&f&&!d&&!c||t&&o&&f||!i&&f||!s)return 1;if(!t&&!u&&!c&&n<a||c&&i&&s&&!t&&!u||d&&i&&s||!o&&s||!f)return-1}return 0}return ar=e,ar}var ir,zr;function Xe(){if(zr)return ir;zr=1;var r=Ue();function e(n,a,i){for(var t=-1,s=n.criteria,u=a.criteria,o=s.length,d=i.length;++t<o;){var f=r(s[t],u[t]);if(f){if(t>=d)return f;var c=i[t];return f*(c=="desc"?-1:1)}}return n.index-a.index}return ir=e,ir}var sr,Ur;function Ze(){if(Ur)return sr;Ur=1;var r=Qr(),e=dr(),n=Le(),a=$e(),i=ze(),t=ve(),s=Xe(),u=ne(),o=m();function d(f,c,h){c.length?c=r(c,function(v){return o(v)?function(g){return e(g,v.length===1?v[0]:v)}:v}):c=[u];var p=-1;c=r(c,t(n));var b=a(f,function(v,g,M){var ae=r(c,function(ie){return ie(v)});return{criteria:ae,index:++p,value:v}});return i(b,function(v,g){return s(v,g,h)})}return sr=d,sr}var ur,Xr;function Ve(){if(Xr)return ur;Xr=1;var r=Ze(),e=m();function n(a,i,t,s){return a==null?[]:(e(i)||(i=i==null?[]:[i]),t=s?void 0:t,e(t)||(t=t==null?[]:[t]),r(a,i,t))}return ur=n,ur}var We=Ve();const Je=ge(We);l.extend(_e);l.extend(be);l.extend(ye);l.extend(qe);const Qe=(r,e)=>l(r).format(e||"dddd D. MMMM YYYY"),cn=r=>Qe(r,"KL.HH:mm"),_=r=>{if(r!==void 0&&me(r)&&l(r,"YYYY-MM-DD",!0).isValid())return l.utc(r).toDate()},je=(r,e)=>r===void 0||e===void 0?!1:l(r).isSameOrAfter(l(e).subtract(1,"day"),"day")&&l(r).isSameOrBefore(l(e).add(1,"day"),"day"),ln=(r,e,n)=>{const a=!r.sakTilhørerMor;return{farMedmor:a?e:n,mor:a?n:e}},rn=r=>!r.dødsdato,en=r=>[...r.engangsstønad,...r.foreldrepenger,...r.svangerskapspenger];function nn(r,e){return l(r.fødselsdato).isAfter(e.fødselsdato,"d")?1:l(r.fødselsdato).isBefore(e.fødselsdato,"d")||r.fornavn<e.fornavn?-1:1}const hn=r=>{if(r.gjeldendeVedtak&&r.gjeldendeVedtak.perioder.length>0)return _(r.gjeldendeVedtak.perioder[0].fom);if(r.åpenBehandling?.søknadsperioder&&r.åpenBehandling?.søknadsperioder.length>0)return _(r.åpenBehandling?.søknadsperioder[0].fom)},pn=(r,e)=>e?{type:B.ADOPTERT_STEBARN,adopsjonsdato:r.omsorgsovertakelse,antallBarn:r.antallBarn,fødselsdatoer:[r.fødselsdato]}:r.fødselsdato?{type:B.FØDT,fødselsdatoer:[r.fødselsdato],termindato:r.termindato,antallBarn:r.antallBarn}:{type:B.UFØDT,termindato:r.termindato,antallBarn:r.antallBarn},tn=(r,e)=>{const n=r.ytelse==="FORELDREPENGER",a=n&&r.barn!==void 0?r.barn.map(f=>f.fnr).flat():[],i=n&&e.filter(f=>a.includes(f.fnr))||[],t=_(r.familiehendelse.fødselsdato),s=t!==void 0?e.filter(f=>je(_(f.fødselsdato),t)&&!i?.find(c=>c.fnr===f.fnr)):[],u=i.concat(s);u.sort(nn);const o=u.filter(f=>f.fødselsdato!==void 0).map(f=>_(f.fødselsdato));let d=[];return o&&o.length>0?d=o:t&&(d=[t]),{fornavn:u?.filter(f=>f.fornavn!==void 0&&f.fornavn.trim()!=="").map(f=>[f.fornavn,f.mellomnavn??""].join(" ")),fødselsdatoer:d,alleBarnaLever:!!u?.every(f=>rn(f))}},vn=(r,e)=>{const n=en(e);return Je(n,i=>i.familiehendelse?Zr(i.familiehendelse):"","desc").reduce((i,t)=>{if(t.familiehendelse){const s=Zr(t.familiehendelse),u=i.find(o=>an(o,s));if(u&&u.saker.push(t),u&&i.includes(u))return i;{const o=sn(t.familiehendelse,"gjelderAdopsjon"in t?t.gjelderAdopsjon:void 0),d={antallBarn:t.familiehendelse.antallBarn,familiehendelsedato:s,saker:[t],type:o,ytelse:t.ytelse,barn:o!=="termin"?tn(t,r):void 0};return i.push(d),i}}else return i},[])},or=(r,e)=>e==="ENGANGSSTØNAD"?r.map(n=>({...n,ytelse:e})):e==="SVANGERSKAPSPENGER"?r.map(n=>({...n,ytelse:e})):r.map(n=>({...n,ytelse:e})),gn=r=>({foreldrepenger:or(r.foreldrepenger,"FORELDREPENGER"),engangsstønad:or(r.engangsstønad,"ENGANGSSTØNAD"),svangerskapspenger:or(r.svangerskapspenger,"SVANGERSKAPSPENGER")}),an=(r,e)=>{const n=l(e).subtract(2,"months"),a=l(e).add(3,"weeks");if(r)return l(r.familiehendelsedato).isAfter(n)&&l(r.familiehendelsedato).isSameOrBefore(a)},sn=(r,e)=>{if(e)return"adopsjon";const{fødselsdato:n}=r;return n?"fødsel":"termin"},Zr=r=>{const{fødselsdato:e,termindato:n,omsorgsovertakelse:a}=r;return a||e||n},mn=(r,e)=>{const n=e?.familiehendelse?e.familiehendelse.fødselsdato:void 0,a=r.søker.barn&&n?r.søker.barn.find(t=>l(t.fødselsdato).isSame(n,"d")):void 0,i=a?.annenForelder?a.annenForelder.fornavn:void 0;return i!==void 0&&i.trim()!==""?i:"Annen forelder"},un=(r,e)=>r===1||r===0?e.formatMessage({id:"barn"}):r===2?e.formatMessage({id:"tvillinger"}):r===3?e.formatMessage({id:"trillinger"}):e.formatMessage({id:"flerlinger"}),te=r=>{if(r===void 0)return;const e=[];if(r.forEach(n=>{e.find(i=>l(i).isSame(n,"day"))===void 0&&e.push(n)}),e.length>1){const n=e.map(t=>y(t)),a=n.slice(0,-1).join(", "),i=n[n.length-1];return`${a} og ${i}`}return y(e[0])},on=(r,e,n,a,i)=>{const t=un(n,a);if(n===0&&e===void 0||i==="termin")return{tittel:a.formatMessage({id:"barnHeader.terminBarn"},{barnTekst:t,termindato:y(r)}),undertittel:""};if(i==="adopsjon")return{tittel:a.formatMessage({id:"barnHeader.adoptertBarn"},{adopsjonsdato:y(r)}),undertittel:""};{const s=te(e);return e!==void 0&&e.length>0?{tittel:a.formatMessage({id:"barnHeader.fødtBarn"},{barnTekst:t,fødselsdatoTekst:s}),undertittel:""}:{tittel:"",undertittel:""}}},fn=r=>{if(r.length>1){const e=r.map(a=>a.trim()).slice(0,-1).join(", "),n=r[r.length-1];return`${e} og ${n}`}else return`${r[0]}`},_n=r=>{const{barngruppering:e,familiehendelsedato:n,antallBarn:a,intl:i,situasjon:t}=r,s=e?.fornavn,u=e?.fødselsdatoer,o=_(n);if(!o)return{tittel:"",undertittel:""};if(s===void 0||s.length===0||!e?.alleBarnaLever)return on(o,u,a,i,t);const d=fn(s);if(t==="fødsel"){const f=te(u);return{tittel:d,undertittel:`født ${f}`}}return t==="adopsjon"?{tittel:d,undertittel:`adoptert ${y(o)}`}:{tittel:"",undertittel:""}};export{vn as a,Zr as b,Qe as c,hn as d,tn as e,cn as f,en as g,ln as h,mn as i,fn as j,_n as k,pn as l,gn as m,sn as u};
