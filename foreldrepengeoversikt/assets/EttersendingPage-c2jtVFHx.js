var ce=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)};var T=(e,t,s)=>(ce(e,t,"read from private field"),s?s.call(e):t.get(e)),C=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},$=(e,t,s,r)=>(ce(e,t,"write to private field"),r?r.call(e,s):t.set(e,s),s);var Y=(e,t,s)=>(ce(e,t,"access private method"),s);import{c as se,k as ze,f as Pe,o as We,E as Ze,d as A,p as Qe,q as Xe,r as et,s as tt,t as st,i as X,j as w,V as we,B as rt,L as nt,g as ot,e as it}from"./Link-D3XUxQzV.js";import{r as k,R as M}from"./index-DVXBtNgz.js";import{S as at,s as dt,v as Te,w as ut,j as je,u as lt,x as ct,k as ft,l as ht,m as pt,p as E,y as gt,o as mt,L as Et,A as _t,q as vt,G as yt}from"./attachmentApi-YuumtP_1.js";import{a as St,A as Ae,M as Fe,F as bt,B as wt}from"./infobox.module-C8Y-zLbY.js";import{S as Tt,Y as P}from"./Ytelse-CO2s9mkn.js";import{u as At}from"./useId-DbilmxAP.js";var K,x,N,j,z,oe,ee,Ee,Me,Rt=(Me=class extends at{constructor(t,s){super();C(this,z);C(this,ee);C(this,K,void 0);C(this,x,void 0);C(this,N,void 0);C(this,j,void 0);$(this,K,t),this.setOptions(s),this.bindMethods(),Y(this,z,oe).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var r;const s=this.options;this.options=T(this,K).defaultMutationOptions(t),dt(this.options,s)||T(this,K).getMutationCache().notify({type:"observerOptionsUpdated",mutation:T(this,N),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Te(s.mutationKey)!==Te(this.options.mutationKey)?this.reset():((r=T(this,N))==null?void 0:r.state.status)==="pending"&&T(this,N).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=T(this,N))==null||t.removeObserver(this)}onMutationUpdate(t){Y(this,z,oe).call(this),Y(this,ee,Ee).call(this,t)}getCurrentResult(){return T(this,x)}reset(){var t;(t=T(this,N))==null||t.removeObserver(this),$(this,N,void 0),Y(this,z,oe).call(this),Y(this,ee,Ee).call(this)}mutate(t,s){var r;return $(this,j,s),(r=T(this,N))==null||r.removeObserver(this),$(this,N,T(this,K).getMutationCache().build(T(this,K),this.options)),T(this,N).addObserver(this),T(this,N).execute(t)}},K=new WeakMap,x=new WeakMap,N=new WeakMap,j=new WeakMap,z=new WeakSet,oe=function(){var s;const t=((s=T(this,N))==null?void 0:s.state)??ut();$(this,x,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},ee=new WeakSet,Ee=function(t){je.batch(()=>{var s,r,n,a,i,f,v,S;if(T(this,j)&&this.hasListeners()){const m=T(this,x).variables,R=T(this,x).context;(t==null?void 0:t.type)==="success"?((r=(s=T(this,j)).onSuccess)==null||r.call(s,t.data,m,R),(a=(n=T(this,j)).onSettled)==null||a.call(n,t.data,null,m,R)):(t==null?void 0:t.type)==="error"&&((f=(i=T(this,j)).onError)==null||f.call(i,t.error,m,R),(S=(v=T(this,j)).onSettled)==null||S.call(v,void 0,t.error,m,R))}this.listeners.forEach(m=>{m(T(this,x))})})},Me);function Ot(e,t){const s=lt(),[r]=k.useState(()=>new Rt(s,e));k.useEffect(()=>{r.setOptions(e)},[r,e]);const n=k.useSyncExternalStore(k.useCallback(i=>r.subscribe(je.batchCalls(i)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=k.useCallback((i,f)=>{r.mutate(i,f).catch(ct)},[r]);if(n.error&&ft(r.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:a,mutateAsync:n.mutate}}const kt=e=>{k.useEffect(()=>{const t=document.title;return document.title=e,()=>{document.title=t}},[e])};var Dt=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(s[r[n]]=e[r[n]]);return s};const It=k.forwardRef((e,t)=>{const{inputProps:s,errorId:r,showErrorMsg:n,hasError:a,size:i,inputDescriptionId:f,readOnly:v}=ht(e,"select"),{children:S,label:m,className:R,description:q,htmlSize:L,hideLabel:F=!1,style:V}=e,B=Dt(e,["children","label","className","description","htmlSize","hideLabel","style"]),G={onMouseDown:O=>{v&&(O.preventDefault(),O.target.focus())},onKeyDown:O=>{v&&["ArrowDown","ArrowUp","ArrowRight","ArrowLeft"," "].includes(O.key)&&O.preventDefault()}};return M.createElement("div",{className:se(R,"navds-form-field",`navds-form-field--${i}`,{"navds-form-field--disabled":!!s.disabled,"navds-form-field--readonly":v,"navds-select--error":a,"navds-select--readonly":v})},M.createElement(ze,{htmlFor:s.id,size:i,className:se("navds-form-field__label",{"navds-sr-only":F})},M.createElement(pt,{readOnly:v,nativeReadOnly:!1}),m),!!q&&M.createElement(Pe,{className:se("navds-form-field__description",{"navds-sr-only":F}),id:f,size:i,as:"div"},q),M.createElement("div",{className:"navds-select__container",style:V},M.createElement("select",Object.assign({},We(B,["error","errorId","size","readOnly"]),s,G,{ref:t,className:se("navds-select__input","navds-body-short",`navds-body-short--${i??"medium"}`),size:L}),S),M.createElement(Tt,{className:"navds-select__chevron","aria-hidden":!0})),M.createElement("div",{className:"navds-form-field__error",id:r,"aria-relevant":"additions removals","aria-live":"polite"},n&&M.createElement(Ze,{size:i},e.error)))});class Re extends Error{constructor(t,s,r){const n=t.status||t.status===0?t.status:"",a=t.statusText||"",i=`${n} ${a}`.trim(),f=i?`status code ${i}`:"an unknown error";super(`Request failed with ${f}: ${s.method} ${s.url}`),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="HTTPError",this.response=t,this.request=s,this.options=r}}class Ge extends Error{constructor(t){super(`Request timed out: ${t.method} ${t.url}`),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.request=t}}const ie=e=>e!==null&&typeof e=="object",re=(...e)=>{for(const t of e)if((!ie(t)||Array.isArray(t))&&t!==void 0)throw new TypeError("The `options` argument must be an object");return ve({},...e)},Ke=(e={},t={})=>{const s=new globalThis.Headers(e),r=t instanceof globalThis.Headers,n=new globalThis.Headers(t);for(const[a,i]of n.entries())r&&i==="undefined"||i===void 0?s.delete(a):s.set(a,i);return s},ve=(...e)=>{let t={},s={};for(const r of e)if(Array.isArray(r))Array.isArray(t)||(t=[]),t=[...t,...r];else if(ie(r)){for(let[n,a]of Object.entries(r))ie(a)&&n in t&&(a=ve(t[n],a)),t={...t,[n]:a};ie(r.headers)&&(s=Ke(s,r.headers),t.headers=s)}return t},Nt=(()=>{let e=!1,t=!1;const s=typeof globalThis.ReadableStream=="function",r=typeof globalThis.Request=="function";if(s&&r)try{t=new globalThis.Request("https://empty.invalid",{body:new globalThis.ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type")}catch(n){if(n instanceof Error&&n.message==="unsupported BodyInit type")return!1;throw n}return e&&!t})(),Lt=typeof globalThis.AbortController=="function",Mt=typeof globalThis.ReadableStream=="function",Pt=typeof globalThis.FormData=="function",xe=["get","post","put","patch","head","delete"],jt={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"},fe=2147483647,qe=Symbol("stop"),Ft={json:!0,parseJson:!0,stringifyJson:!0,searchParams:!0,prefixUrl:!0,retry:!0,timeout:!0,hooks:!0,throwHttpErrors:!0,onDownloadProgress:!0,fetch:!0},Gt={method:!0,headers:!0,body:!0,mode:!0,credentials:!0,cache:!0,redirect:!0,referrer:!0,referrerPolicy:!0,integrity:!0,keepalive:!0,signal:!0,window:!0,dispatcher:!0,duplex:!0,priority:!0},Kt=e=>xe.includes(e)?e.toUpperCase():e,xt=["get","put","head","delete","options","trace"],qt=[408,413,429,500,502,503,504],Ve=[413,429,503],Oe={limit:2,methods:xt,statusCodes:qt,afterStatusCodes:Ve,maxRetryAfter:Number.POSITIVE_INFINITY,backoffLimit:Number.POSITIVE_INFINITY,delay:e=>.3*2**(e-1)*1e3},Vt=(e={})=>{if(typeof e=="number")return{...Oe,limit:e};if(e.methods&&!Array.isArray(e.methods))throw new Error("retry.methods must be an array");if(e.statusCodes&&!Array.isArray(e.statusCodes))throw new Error("retry.statusCodes must be an array");return{...Oe,...e,afterStatusCodes:Ve}};async function Bt(e,t,s,r){return new Promise((n,a)=>{const i=setTimeout(()=>{s&&s.abort(),a(new Ge(e))},r.timeout);r.fetch(e,t).then(n).catch(a).then(()=>{clearTimeout(i)})})}async function Ct(e,{signal:t}){return new Promise((s,r)=>{t&&(t.throwIfAborted(),t.addEventListener("abort",n,{once:!0}));function n(){clearTimeout(a),r(t.reason)}const a=setTimeout(()=>{t==null||t.removeEventListener("abort",n),s()},e)})}const Ut=(e,t)=>{const s={};for(const r in t)!(r in Gt)&&!(r in Ft)&&!(r in e)&&(s[r]=t[r]);return s};class ae{static create(t,s){const r=new ae(t,s),n=async()=>{if(typeof r._options.timeout=="number"&&r._options.timeout>fe)throw new RangeError(`The \`timeout\` option cannot be greater than ${fe}`);await Promise.resolve();let f=await r._fetch();for(const v of r._options.hooks.afterResponse){const S=await v(r.request,r._options,r._decorateResponse(f.clone()));S instanceof globalThis.Response&&(f=S)}if(r._decorateResponse(f),!f.ok&&r._options.throwHttpErrors){let v=new Re(f,r.request,r._options);for(const S of r._options.hooks.beforeError)v=await S(v);throw v}if(r._options.onDownloadProgress){if(typeof r._options.onDownloadProgress!="function")throw new TypeError("The `onDownloadProgress` option must be a function");if(!Mt)throw new Error("Streams are not supported in your environment. `ReadableStream` is missing.");return r._stream(f.clone(),r._options.onDownloadProgress)}return f},i=r._options.retry.methods.includes(r.request.method.toLowerCase())?r._retry(n):n();for(const[f,v]of Object.entries(jt))i[f]=async()=>{r.request.headers.set("accept",r.request.headers.get("accept")||v);const m=(await i).clone();if(f==="json"){if(m.status===204||(await m.clone().arrayBuffer()).byteLength===0)return"";if(s.parseJson)return s.parseJson(await m.text())}return m[f]()};return i}constructor(t,s={}){var n,a;Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"abortController",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_retryCount",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_input",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._input=t;const r=this._input instanceof Request&&"credentials"in Request.prototype?this._input.credentials:void 0;if(this._options={...r&&{credentials:r},...s,headers:Ke(this._input.headers,s.headers),hooks:ve({beforeRequest:[],beforeRetry:[],beforeError:[],afterResponse:[]},s.hooks),method:Kt(s.method??this._input.method),prefixUrl:String(s.prefixUrl||""),retry:Vt(s.retry),throwHttpErrors:s.throwHttpErrors!==!1,timeout:s.timeout??1e4,fetch:s.fetch??globalThis.fetch.bind(globalThis)},typeof this._input!="string"&&!(this._input instanceof URL||this._input instanceof globalThis.Request))throw new TypeError("`input` must be a string, URL, or Request");if(this._options.prefixUrl&&typeof this._input=="string"){if(this._input.startsWith("/"))throw new Error("`input` must not begin with a slash when using `prefixUrl`");this._options.prefixUrl.endsWith("/")||(this._options.prefixUrl+="/"),this._input=this._options.prefixUrl+this._input}if(Lt){if(this.abortController=new globalThis.AbortController,this._options.signal){const i=this._options.signal;this._options.signal.addEventListener("abort",()=>{this.abortController.abort(i.reason)})}this._options.signal=this.abortController.signal}if(Nt&&(this._options.duplex="half"),this._options.json!==void 0&&(this._options.body=((a=(n=this._options).stringifyJson)==null?void 0:a.call(n,this._options.json))??JSON.stringify(this._options.json),this._options.headers.set("content-type",this._options.headers.get("content-type")??"application/json")),this.request=new globalThis.Request(this._input,this._options),this._options.searchParams){const f="?"+(typeof this._options.searchParams=="string"?this._options.searchParams.replace(/^\?/,""):new URLSearchParams(this._options.searchParams).toString()),v=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,f);(Pt&&this._options.body instanceof globalThis.FormData||this._options.body instanceof URLSearchParams)&&!(this._options.headers&&this._options.headers["content-type"])&&this.request.headers.delete("content-type"),this.request=new globalThis.Request(new globalThis.Request(v,{...this.request}),this._options)}}_calculateRetryDelay(t){if(this._retryCount++,this._retryCount<=this._options.retry.limit&&!(t instanceof Ge)){if(t instanceof Re){if(!this._options.retry.statusCodes.includes(t.response.status))return 0;const r=t.response.headers.get("Retry-After");if(r&&this._options.retry.afterStatusCodes.includes(t.response.status)){let n=Number(r)*1e3;Number.isNaN(n)&&(n=Date.parse(r)-Date.now());const a=this._options.retry.maxRetryAfter??n;return n<a?n:a}if(t.response.status===413)return 0}const s=this._options.retry.delay(this._retryCount);return Math.min(this._options.retry.backoffLimit,s)}return 0}_decorateResponse(t){return this._options.parseJson&&(t.json=async()=>this._options.parseJson(await t.text())),t}async _retry(t){try{return await t()}catch(s){const r=Math.min(this._calculateRetryDelay(s),fe);if(r!==0&&this._retryCount>0){await Ct(r,{signal:this._options.signal});for(const n of this._options.hooks.beforeRetry)if(await n({request:this.request,options:this._options,error:s,retryCount:this._retryCount})===qe)return;return this._retry(t)}throw s}}async _fetch(){for(const r of this._options.hooks.beforeRequest){const n=await r(this.request,this._options);if(n instanceof Request){this.request=n;break}if(n instanceof Response)return n}const t=Ut(this.request,this._options),s=this.request;return this.request=s.clone(),this._options.timeout===!1?this._options.fetch(s,t):Bt(s,t,this.abortController,this._options)}_stream(t,s){const r=Number(t.headers.get("content-length"))||0;let n=0;return t.status===204?(s&&s({percent:1,totalBytes:r,transferredBytes:n},new Uint8Array),new globalThis.Response(null,{status:t.status,statusText:t.statusText,headers:t.headers})):new globalThis.Response(new globalThis.ReadableStream({async start(a){const i=t.body.getReader();s&&s({percent:0,transferredBytes:0,totalBytes:r},new Uint8Array);async function f(){const{done:v,value:S}=await i.read();if(v){a.close();return}if(s){n+=S.byteLength;const m=r===0?0:n/r;s({percent:m,transferredBytes:n,totalBytes:r},S)}a.enqueue(S),await f()}await f()}}),{status:t.status,statusText:t.statusText,headers:t.headers})}}/*! MIT License © Sindre Sorhus */const _e=e=>{const t=(s,r)=>ae.create(s,re(e,r));for(const s of xe)t[s]=(r,n)=>ae.create(r,re(e,n,{method:s}));return t.create=s=>_e(re(s)),t.extend=s=>_e(re(e,s)),t.stop=qe,t},U=_e(),xs=()=>({queryKey:["SØKER_INFO"],queryFn:()=>U.get("/rest/sokerinfo").json()}),qs=()=>({queryKey:["MINIDIALOG"],queryFn:()=>U.get("/rest/minidialog").json()}),Vs=()=>({queryKey:["SAKER"],queryFn:()=>U.get("/rest/innsyn/v2/saker").json()}),Bs=e=>({queryKey:["DOKUMENTER",e],queryFn:()=>U.get("/rest/dokument/alle",{searchParams:{saksnummer:e}}).json()}),Cs=e=>({queryKey:["ANNEN_PARTS_VEDTAK",e],queryFn:async()=>{var t;try{const s=await fetch("/rest/innsyn/v2/annenPartVedtak",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()}catch(s){if((t=s==null?void 0:s.message)!=null&&t.includes("Ugyldig ident"))return;throw s}}}),Us=e=>({queryKey:["TIDSLINJEHENDELSER",e],queryFn:()=>U.get("/rest/innsyn/tidslinje",{searchParams:{saksnummer:e}}).json()}),Hs=e=>({queryKey:["MANGLENDE_VEDLEGG",e],queryFn:()=>U.get("/rest/historikk/vedlegg",{searchParams:{saksnummer:e}}).json()}),Ht=async(e,t)=>{const s=await fetch("/rest/soknad/ettersend",{method:"POST",headers:{"Content-Type":"application/json",...t!==void 0&&{fnr:t}},signal:AbortSignal.timeout(3e4),body:JSON.stringify(e)});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()},$s=()=>({queryKey:["SAK_OPPDATERT"],queryFn:()=>U.get("/rest/innsyn/v2/saker/oppdatert").json()});var I={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1,STORYBOOK:"true"};let $t=0;function Yt(e,t){const s=`atom${++$t}`,r={toString:()=>s};return typeof e=="function"?r.read=e:(r.init=e,r.read=Jt,r.write=zt),r}function Jt(e){return e(this)}function zt(e,t,s){return t(this,typeof s=="function"?s(e(this)):s)}const he=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,pe=e=>"init"in e,ge=e=>!!e.write,de=new WeakMap,Wt=(e,t)=>{de.set(e,t),e.catch(()=>{}).finally(()=>de.delete(e))},ke=(e,t)=>{const s=de.get(e);s&&(de.delete(e),s(t))},De=(e,t)=>{e.status="fulfilled",e.value=t},Ie=(e,t)=>{e.status="rejected",e.reason=t},Zt=e=>typeof(e==null?void 0:e.then)=="function",W=(e,t)=>!!e&&"v"in e&&"v"in t&&Object.is(e.v,t.v),Ne=(e,t)=>!!e&&"e"in e&&"e"in t&&Object.is(e.e,t.e),J=e=>!!e&&"v"in e&&e.v instanceof Promise,Qt=(e,t)=>"v"in e&&"v"in t&&e.v.orig&&e.v.orig===t.v.orig,ne=e=>{if("e"in e)throw e.e;return e.v},Xt=()=>{const e=new WeakMap,t=new WeakMap,s=[],r=new WeakMap;let n,a;(I?"production":void 0)!=="production"&&(n=new Set,a=new Set);const i=o=>e.get(o),f=(o,u)=>{u.d.forEach((g,c)=>{if(!r.has(c)){const d=i(c);r.set(c,[d,new Set]),d&&f(c,d)}r.get(c)[1].add(o)})},v=(o,u)=>{var g;(I?"production":void 0)!=="production"&&Object.freeze(u);const c=i(o);if(e.set(o,u),(g=s[s.length-1])==null||g.add(o),r.has(o)||(r.set(o,[c,new Set]),f(o,u)),J(c)){const d="v"in u?u.v instanceof Promise?u.v:Promise.resolve(u.v):Promise.reject(u.e);c.v!==d&&ke(c.v,d)}},S=(o,u,g,c)=>{const d=new Map(c?u.d:null);let l=!1;g.forEach((h,p)=>{!h&&he(o,p)&&(h=u),h?(d.set(p,h),u.d.get(p)!==h&&(l=!0)):(I?"production":void 0)!=="production"&&console.warn("[Bug] atom state not found")}),(l||u.d.size!==d.size)&&(u.d=d)},m=(o,u,g,c)=>{const d=i(o),l={d:(d==null?void 0:d.d)||new Map,v:u};if(g&&S(o,l,g,c),W(d,l)&&d.d===l.d)return d;if(J(d)&&J(l)&&Qt(d,l)){if(d.d===l.d)return d;l.v=d.v}return v(o,l),l},R=(o,u,g,c)=>{if(Zt(u)){let d;const l=()=>{const p=i(o);if(!J(p)||p.v!==h)return;const y=m(o,h,g);t.has(o)&&p.d!==y.d&&Se(o,y,p.d)},h=new Promise((p,y)=>{let _=!1;u.then(b=>{_||(_=!0,De(h,b),p(b),l())},b=>{_||(_=!0,Ie(h,b),y(b),l())}),d=b=>{_||(_=!0,b.then(D=>De(h,D),D=>Ie(h,D)),p(b))}});return h.orig=u,h.status="pending",Wt(h,p=>{p&&d(p),c==null||c()}),m(o,h,g,!0)}return m(o,u,g)},q=(o,u,g)=>{const c=i(o),d={d:(c==null?void 0:c.d)||new Map,e:u};return g&&S(o,d,g),Ne(c,d)&&c.d===d.d?c:(v(o,d),d)},L=(o,u)=>{const g=i(o);if(!(u!=null&&u(o))&&g&&(t.has(o)||Array.from(g.d).every(([_,b])=>{if(_===o)return!0;const D=L(_,u);return D===b||W(D,b)})))return g;const c=new Map;let d=!0;const l=_=>{if(he(o,_)){const D=i(_);if(D)return c.set(_,D),ne(D);if(pe(_))return c.set(_,void 0),_.init;throw new Error("no atom init")}const b=L(_,u);return c.set(_,b),ne(b)};let h,p;const y={get signal(){return h||(h=new AbortController),h.signal},get setSelf(){return(I?"production":void 0)!=="production"&&!ge(o)&&console.warn("setSelf function cannot be used with read-only atom"),!p&&ge(o)&&(p=(..._)=>{if((I?"production":void 0)!=="production"&&d&&console.warn("setSelf function cannot be called in sync"),!d)return G(o,..._)}),p}};try{const _=o.read(l,y);return R(o,_,c,()=>h==null?void 0:h.abort())}catch(_){return q(o,_,c)}finally{d=!1}},F=o=>ne(L(o)),V=o=>{const u=p=>{var y,_;const b=new Set((y=t.get(p))==null?void 0:y.t);return(_=r.get(p))==null||_[1].forEach(D=>{b.add(D)}),b},g=new Array,c=new Set,d=p=>{if(!c.has(p)){c.add(p);for(const y of u(p))p!==y&&d(y);g.push(p)}};d(o);const l=new Set([o]),h=p=>c.has(p);for(let p=g.length-1;p>=0;--p){const y=g[p],_=i(y);if(!_)continue;let b=!1;for(const D of _.d.keys())if(D!==y&&l.has(D)){b=!0;break}if(b){const D=L(y,h);f(y,D),W(_,D)||l.add(y)}c.delete(y)}},B=(o,...u)=>{const g=l=>ne(L(l)),c=(l,...h)=>{const p=s.length>0;p||s.push(new Set([l]));let y;if(he(o,l)){if(!pe(l))throw new Error("atom not writable");const _=i(l),b=R(l,h[0]);W(_,b)||V(l)}else y=B(l,...h);if(!p){const _=te(s.pop());(I?"production":void 0)!=="production"&&n.forEach(b=>b({type:"async-write",flushed:_}))}return y};return o.write(g,c,...u)},G=(o,...u)=>{s.push(new Set([o]));const g=B(o,...u),c=te(s.pop());return(I?"production":void 0)!=="production"&&n.forEach(d=>d({type:"write",flushed:c})),g},O=(o,u,g)=>{var c;const d=t.get(o);if(d)return u&&d.t.add(u),d;const l=g||[];(c=i(o))==null||c.d.forEach((p,y)=>{y!==o&&O(y,o,l)}),L(o);const h={t:new Set(u&&[u]),l:new Set};if(t.set(o,h),(I?"production":void 0)!=="production"&&a.add(o),ge(o)&&o.onMount){const{onMount:p}=o;l.push(()=>{const y=p((..._)=>G(o,..._));y&&(h.u=y)})}return g||l.forEach(p=>p()),h},H=(o,u)=>!u.l.size&&(!u.t.size||u.t.size===1&&u.t.has(o)),le=(o,u)=>{if(!H(o,u))return;const g=u.u;g&&g(),t.delete(o),(I?"production":void 0)!=="production"&&a.delete(o);const c=i(o);c?(J(c)&&ke(c.v),c.d.forEach((d,l)=>{if(l!==o){const h=t.get(l);h&&(h.t.delete(o),le(l,h))}})):(I?"production":void 0)!=="production"&&console.warn("[Bug] could not find atom state to unmount",o)},Se=(o,u,g)=>{const c=new Set(u.d.keys()),d=new Set;g==null||g.forEach((l,h)=>{if(c.has(h)){c.delete(h);return}d.add(h);const p=t.get(h);p&&p.t.delete(o)}),c.forEach(l=>{O(l,o)}),d.forEach(l=>{const h=t.get(l);h&&le(l,h)})},te=o=>{let u;(I?"production":void 0)!=="production"&&(u=new Set);const g=[],c=d=>{var l;if(!r.has(d))return;const[h,p]=r.get(d);r.delete(d),g.push([d,h]),p.forEach(c),(l=i(d))==null||l.d.forEach((y,_)=>c(_))};if(o.forEach(c),g.forEach(([d,l])=>{const h=i(d);if(!h){(I?"production":void 0)!=="production"&&console.warn("[Bug] no atom state to flush");return}if(h!==l){const p=t.get(d);p&&h.d!==(l==null?void 0:l.d)&&Se(d,h,l==null?void 0:l.d),p&&!(!J(l)&&(W(l,h)||Ne(l,h)))&&(p.l.forEach(y=>y()),(I?"production":void 0)!=="production"&&u.add(d))}}),(I?"production":void 0)!=="production")return u},be=(o,u)=>{const g=O(o),c=te([o]),d=g.l;return d.add(u),(I?"production":void 0)!=="production"&&n.forEach(l=>l({type:"sub",flushed:c})),()=>{d.delete(u),le(o,g),(I?"production":void 0)!=="production"&&n.forEach(l=>l({type:"unsub"}))}};return(I?"production":void 0)!=="production"?{get:F,set:G,sub:be,dev_subscribe_store:o=>(n.add(o),()=>{n.delete(o)}),dev_get_mounted_atoms:()=>a.values(),dev_get_atom_state:o=>e.get(o),dev_get_mounted:o=>t.get(o),dev_restore_atoms:o=>{s.push(new Set);for(const[g,c]of o)pe(g)&&(R(g,c),V(g));const u=te(s.pop());n.forEach(g=>g({type:"restore",flushed:u}))}}:{get:F,set:G,sub:be}};let Z;const es=()=>(Z||(Z=Xt(),(I?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=Z),globalThis.__JOTAI_DEFAULT_STORE__!==Z&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),Z),ts=es;var ss={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1,STORYBOOK:"true"};const rs=k.createContext(void 0),Be=e=>k.useContext(rs)||ts(),ns=e=>typeof(e==null?void 0:e.then)=="function",os=M.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)});function is(e,t){const s=Be(),[[r,n,a],i]=k.useReducer(S=>{const m=s.get(e);return Object.is(S[0],m)&&S[1]===s&&S[2]===e?S:[m,s,e]},void 0,()=>[s.get(e),s,e]);let f=r;return(n!==s||a!==e)&&(i(),f=s.get(e)),k.useEffect(()=>{const S=s.sub(e,()=>{i()});return i(),S},[s,e,void 0]),k.useDebugValue(f),ns(f)?os(f):f}function as(e,t){const s=Be();return k.useCallback((...n)=>{if((ss?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return s.set(e,...n)},[s,e])}var ye=(e=>(e.HOVEDSIDE="/",e.SAKSOVERSIKT="/sak",e.DIN_PLAN="din-plan",e.DOKUMENTER="dokumenter",e.ETTERSEND="ettersend",e.TIDSLINJEN="tidslinjen",e.OPPGAVER="oppgaver",e))(ye||{}),ds=(e=>(e.SAKSBEHANDLINGSTIDER="https://www.nav.no/saksbehandlingstider",e.SAKSBEHANDLINGSTIDER_FP="https://www.nav.no/saksbehandlingstider#foreldrepenger",e.SAKSBEHANDLINGSTIDER_SVP="https://www.nav.no/saksbehandlingstider#svangerskapspenger",e.SAKSBEHANDLINGSTIDER_ES="https://www.nav.no/saksbehandlingstider#engangsstonad",e.KLAGERETTIGHETER="https://www.nav.no/klage",e.KLAGERETTIGHETER_FP="https://www.nav.no/klage#foreldrepenger",e.KLAGERETTIGHETER_SVP="https://www.nav.no/klage#svangerskapspenger",e.KLAGERETTIGHETER_ES="https://www.nav.no/klage#engangsstonad",e.CHAT_MED_OSS="https://www.nav.no/person/kontakt-oss/chat/familie",e.SKRIV_TIL_OSS="https://innboks.nav.no/s/skriv-til-oss?category=Familie",e.RING_OSS="tel:55553333",e.SE_FLERE_TLF_NR_OG_TASTEVALG="https://www.nav.no/kontaktoss#ring-oss",e.LES_MER_OM_VÅRE_PENGESTØTTER="https://www.nav.no/barn",e.LES_MER_OM_FORELDREPENGER="https://www.nav.no/foreldrepenger",e.LES_MER_OM_SVANGERSKAPSPENGER="https://familie.nav.no/om-svangerskapspenger",e.LES_MER_OM_ENGANGSTØNAD="https://familie.nav.no/om-engangsstonad",e.MELD_FRA_OM_ENDRINGER="https://www.nav.no/no/nav-og-samfunn/om-nav/relatert-informasjon/du-har-plikt-til-a-gi-nav-riktige-opplysninger",e.VENT_INNTEKTSMELDING="https://www.nav.no/arbeidsgiver/inntektsmelding",e.VENT_MELDEKORT="https://www.nav.no/no/person/arbeid/dagpenger-ved-arbeidsloshet-og-permittering/meldekort-hvordan-gjor-du-det",e.SØKNADSFRISTER="https://www.nav.no/foreldrepenger#for-soknad",e.FORELDREPENGESOKNAD="https://foreldrepengesoknad.nav.no",e.HVOR_LENGE="https://www.nav.no/foreldrepenger#hvor-lenge",e))(ds||{});const Ce=Yt(ye.HOVEDSIDE),Ys=()=>is(Ce),us=e=>{const t=as(Ce);k.useEffect(()=>{t(e)},[t,e])};A.extend(Qe);A.extend(Xe);A.extend(et);A.extend(tt);const ls=(e,t)=>A(e).format(t||"dddd D. MMMM YYYY"),Js=e=>ls(e,"KL.HH:mm"),zs=e=>e.format("MMM").substr(0,3),cs=e=>{const t=Math.floor(e/5);return{dager:e-t*5,uker:t}},Ws=(e,t,s="full")=>{const{uker:r,dager:n}=cs(Math.abs(e)),a=t.formatMessage({id:"varighet.dager"},{dager:n});if(r===0)return a;const i=t.formatMessage({id:"varighet.uker"},{uker:r});if(n>0){const f=s==="full"?t.formatMessage({id:"varighet.separator--full"}):t.formatMessage({id:"varighet.separator--normal"});return`${i}${f}${a}`}return i},fs=e=>e.fom!==void 0&&e.tom!==void 0&&A(e.fom).isSameOrBefore(e.tom,"day"),Le=e=>A(e).isoWeekday(),hs=e=>Le(e)!==6&&Le(e)!==7,Zs=e=>{if(!fs(e))return 0;let t=A(e.fom);const s=A(e.tom);let r=0;for(;t.isSameOrBefore(s,"day");)hs(t.toDate())&&r++,t=t.add(24,"hours");return r},Q=e=>{if(e!==void 0&&st(e)&&A(e,"YYYY-MM-DD",!0).isValid())return A.utc(e).toDate()},ps=(e,t)=>e===void 0||t===void 0?!1:A(e).isSameOrAfter(A(t).subtract(1,"day"),"day")&&A(e).isSameOrBefore(A(t).add(1,"day"),"day"),Qs=(e,t,s)=>{const r=!e.sakTilhørerMor;return{farMedmor:r?t:s,mor:r?s:t}},gs=e=>!e.dødsdato,Ue=e=>[...e.engangsstønad,...e.foreldrepenger,...e.svangerskapspenger];function ms(e,t){return A(e.fødselsdato).isAfter(t.fødselsdato,"d")?1:A(e.fødselsdato).isBefore(t.fødselsdato,"d")||e.fornavn<t.fornavn?-1:1}const Xs=e=>{var t,s;if(e.gjeldendeVedtak&&e.gjeldendeVedtak.perioder.length>0)return Q(e.gjeldendeVedtak.perioder[0].fom);if((t=e.åpenBehandling)!=null&&t.søknadsperioder)return Q((s=e.åpenBehandling)==null?void 0:s.søknadsperioder[0].fom)},Es=(e,t)=>{const s=e.ytelse===P.FORELDREPENGER,r=s&&e.barn!==void 0?e.barn.map(m=>m.fnr).flat():[],n=s&&t?t.filter(m=>r.includes(m.fnr)):[],a=Q(e.familiehendelse.fødselsdato),i=a!==void 0&&t?t.filter(m=>ps(Q(m.fødselsdato),a)&&!(n!=null&&n.find(R=>R.fnr===m.fnr))):[],f=n.concat(i);f.sort(ms);const v=f.filter(m=>m.fødselsdato!==void 0).map(m=>Q(m.fødselsdato));let S=[];return v&&v.length>0?S=v:a&&(S=[a]),{fornavn:f==null?void 0:f.filter(m=>m.fornavn!==void 0&&m.fornavn.trim()!=="").map(m=>[m.fornavn,m.mellomnavn??""].join(" ")),fødselsdatoer:S,alleBarnaLever:!!(f!=null&&f.every(m=>gs(m)))}},er=(e,t)=>Ue(t).reduce((r,n)=>{if(n.familiehendelse){const a=ys(n.familiehendelse),i=r.find(f=>_s(f,a));if(i&&i.saker.push(n),i&&r.includes(i))return r;{const f=vs(n.familiehendelse,n.gjelderAdopsjon),v={antallBarn:n.familiehendelse.antallBarn,familiehendelsedato:a,saker:[n],type:f,ytelse:n.ytelse,barn:f!=="termin"?Es(n,e):void 0};return r.push(v),r}}else return r},[]),me=(e,t)=>t===P.ENGANGSSTØNAD?e.map(s=>({...s,ytelse:t})):t===P.SVANGERSKAPSPENGER?e.map(s=>({...s,ytelse:t})):e.map(s=>({...s,ytelse:t})),tr=e=>({foreldrepenger:me(e.foreldrepenger,P.FORELDREPENGER),engangsstønad:me(e.engangsstønad,P.ENGANGSSTØNAD),svangerskapspenger:me(e.svangerskapspenger,P.SVANGERSKAPSPENGER)}),sr=e=>{const{foreldrepenger:t,svangerskapspenger:s,engangsstønad:r}=e;return t.length+s.length+r.length},_s=(e,t)=>{const s=A(t).subtract(2,"months"),r=A(t).add(3,"weeks");if(e)return A(e.familiehendelsedato).isAfter(s)&&A(e.familiehendelsedato).isSameOrBefore(r)},vs=(e,t)=>{if(t)return"adopsjon";const{fødselsdato:s}=e;return s?"fødsel":"termin"},ys=e=>{const{fødselsdato:t,termindato:s,omsorgsovertakelse:r}=e;return r||t||s},rr=(e,t)=>{const s=t!=null&&t.familiehendelse?t.familiehendelse.fødselsdato:void 0,r=e.søker.barn&&s?e.søker.barn.find(a=>A(a.fødselsdato).isSame(s,"d")):void 0,n=r!=null&&r.annenForelder?r.annenForelder.fornavn:void 0;return n!==void 0&&n.trim()!==""?n:"Annen forelder"},Ss=(e,t)=>e===1||e===0?t.formatMessage({id:"barn"}):e===2?t.formatMessage({id:"tvillinger"}):e===3?t.formatMessage({id:"trillinger"}):t.formatMessage({id:"flerlinger"}),He=e=>{if(e===void 0)return;const t=[];if(e.forEach(s=>{t.find(n=>A(n).isSame(s,"day"))===void 0&&t.push(s)}),t.length>1){const s=t.map(a=>X(a)),r=s.slice(0,-1).join(", "),n=s[s.length-1];return`${r} og ${n}`}return X(t[0])},bs=(e,t,s,r,n)=>{const a=Ss(s,r);if(s===0&&t===void 0||n==="termin")return{tittel:r.formatMessage({id:"barnHeader.terminBarn"},{barnTekst:a,termindato:X(e)}),undertittel:""};if(n==="adopsjon")return{tittel:r.formatMessage({id:"barnHeader.adoptertBarn"},{adopsjonsdato:X(e)}),undertittel:""};{const i=He(t);return t!==void 0&&t.length>0?{tittel:r.formatMessage({id:"barnHeader.fødtBarn"},{barnTekst:a,fødselsdatoTekst:i}),undertittel:""}:{tittel:"",undertittel:""}}},ws=e=>{if(e.length>1){const t=e.map(r=>r.trim()).slice(0,-1).join(", "),s=e[e.length-1];return`${t} og ${s}`}else return`${e[0]}`},nr=(e,t,s,r,n,a,i)=>{if(e===void 0||e.length===0||!r)return bs(s,t,n,a,i);const f=ws(e);if(i==="fødsel"){const v=He(t);return{tittel:f,undertittel:`født ${v}`}}return i==="adopsjon"?{tittel:f,undertittel:`adoptert ${X(s)}`}:{tittel:"",undertittel:""}};var Ts=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(s[r[n]]=e[r[n]]);return s};const As=k.forwardRef((e,t)=>{var{title:s,titleId:r}=e,n=Ts(e,["title","titleId"]);let a=At();return a=s?r||"title-"+a:void 0,k.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:t,"aria-labelledby":a},n),s?k.createElement("title",{id:a},s):null,k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 13v8h2v-8h8v-2h-8V3h-2v8H3v2h8Z",fill:"currentColor"}))}),$e=e=>{const t=Object.values(E);return e.ytelse===P.FORELDREPENGER?e.kanSøkeOmEndring?t.filter(Os):t.filter(Rs):e.ytelse===P.ENGANGSSTØNAD?t.filter(Ds):t.filter(ks)},Rs=e=>{switch(e){case E.SKJEMA_FOR_TILRETTELEGGING_OG_OMPLASSERING:case E.DEPRECATED_TERMINBEKREFTELSE:case E.DEPRECATED_BEKREFTELSE_DELTAR_KVALIFISERINGSPROGRAM:case E.DEPRECATED_DOK_BEGRUNNELSE_SØKE_TILBAKE_I_TID:return!1;default:return!0}},Os=e=>{switch(e){case E.ANNET:case E.BEKREFTELSE_DELTAR_KVALIFISERINGSPROGRAM:case E.BEKREFTELSE_FRA_ARBEIDSGIVER:case E.BEKREFTELSE_PÅ_AVTALT_FERIE:case E.DOK_AV_ALENEOMSORG:case E.DOK_BEGRUNNELSE_SØKE_TILBAKE_I_TID:case E.DOK_DELTAKELSE_I_INTRODUKSJONSPROGRAMMET:case E.DOK_INNLEGGELSE_BARN:case E.DOK_INNLEGGELSE_MOR:case E.DOK_INNLEGGELSE_FAR:case E.DOK_SYKDOM_MOR:case E.DOK_SYKDOM_FAR:case E.DOK_UTDANNING_MOR:case E.DOK_UTDANNING_OG_ARBEID_MOR:case E.DOK_ARBEID_MOR:case E.OMSORGSOVERTAKELSE:case E.TILBAKEBETALING:case E.HV_ØVELSE:case E.NAV_TILTAK:case E.TERMINBEKREFTELSE:case E.DEPRECATED_TILBAKEBETALING:case E.DEPRECATED_KOPI_SKATTEMELDING:return!0;default:return!1}},ks=e=>{switch(e){case E.ANNET:case E.DOK_MILITÆR_SILVIL_TJENESTE:case E.INNTEKTSOPPLYSNINGER_FRILANS_ELLER_SELVSTENDIG:case E.SKJEMA_FOR_TILRETTELEGGING_OG_OMPLASSERING:case E.TILBAKEBETALING:case E.TERMINBEKREFTELSE:case E.SKATTEMELDING:case E.RESULTATREGNSKAP:return!0;default:return!1}},Ds=e=>{switch(e){case E.ANNET:case E.TERMINBEKREFTELSE:case E.FØDSELSATTEST:case E.TILBAKEBETALING:return!0;default:return!1}},Is=e=>e===P.ENGANGSSTØNAD?"engangsstonad":e===P.FORELDREPENGER?"foreldrepenger":"svangerskapspenger",ue="default",Ye=(e,t)=>t?w.jsxs(w.Fragment,{children:[w.jsx("option",{value:ue,disabled:!1,hidden:!1,children:w.jsx(Fe,{id:"ettersendelse.select.defaultValue"})}),$e(t).map(s=>({skjemanummer:s,text:e.formatMessage({id:`ettersendelse.${s}`})})).sort((s,r)=>s.text.localeCompare(r.text)).map(({skjemanummer:s,text:r})=>w.jsx("option",{value:s,children:r},s))]}):null,Ns=e=>{if(e===ue)return e;const t=Object.values(E).find(s=>s===e);if(t)return t;throw Error("Valgt skjemanr finnes ikke")},Je=({saker:e})=>{const t=St();kt(`${t.formatMessage({id:"lastOppDokumenter"})} - ${t.formatMessage({id:"dineForeldrepenger"})}`),us(ye.ETTERSEND);const s=gt(),r=it("ettersending-page"),[n,a]=k.useState(ue),[i,f]=k.useState([]),[v,S]=k.useState(!1),R=Ue(e).find(O=>O.saksnummer===s.saksnummer),q=(O,H)=>{f(O),S(H)},{mutate:L,isPending:F,isError:V,isSuccess:B}=Ot({mutationFn:O=>Ht(O)}),G=O=>{O.preventDefault(),L({saksnummer:R.saksnummer,type:R.ytelse,vedlegg:i})};return B||V?w.jsxs(w.Fragment,{children:[w.jsx(mt,{}),w.jsxs(we,{gap:"2",children:[B&&w.jsx(Ae,{variant:"success",children:"Dokumentene er sendt"}),V&&w.jsx(Ae,{variant:"error",children:"Vi klarte ikke å sende inn dokumentasjonen din. Prøv igjen senere og hvis problemet vedvarer kontakt brukerstøtte."}),w.jsx(Et,{to:`/sak/${R.saksnummer}`,children:w.jsx(Fe,{id:"miniDialog.kvittering.gåTilbakeTilSaken"})})]})]}):w.jsx("form",{onSubmit:G,children:w.jsxs(we,{gap:"4",children:[w.jsx(rt,{children:"Dokumentene du laster opp vil bli lagt ved søknaden din. Du må velge hva dokumentene inneholder for at saksbehandlerene i NAV skal kunne behandle saken din."}),w.jsx(Pe,{children:"Du kan laste opp dokumenter i formatene pdf, png og jpg."}),w.jsx(nt,{target:"_blank",href:"https://www.nav.no/brukerstotte#sende-soknad-pa-nett",children:"Les om hvordan du kan ta bilde av dokumenter med mobilen"}),w.jsx(It,{className:r.element("select"),label:"Hva inneholder dokumentene dine?",onChange:O=>a(Ns(O.target.value)),children:Ye(t,R)}),n!==ue&&w.jsx(bt,{updateAttachments:q,attachmentType:_t.MORS_AKTIVITET_DOKUMENTASJON,skjemanummer:n,existingAttachments:i,saveAttachment:vt(Is(R.ytelse)),skjemanummerTextMap:R?$e(R).reduce((O,H)=>({...O,[H]:t.formatMessage({id:`ettersendelse.${H}`})}),{}):void 0}),i&&i.length>0&&i.length<=40&&w.jsx(ot,{children:w.jsx(wt,{type:"submit",icon:w.jsx(As,{"aria-hidden":!0}),loading:F||v,disabled:F||v,children:"Legg ved sak"})}),i&&i.length>40&&w.jsx(yt,{children:"Du kan bare laste opp 40 dokumenter på en gang. Hvis du skal laste opp flere enn 40 dokumenter kan du gjøre det i flere omganger."})]})})},or=Je;Ye.__docgenInfo={description:"",methods:[],displayName:"getAttachmentTypeSelectOptions"};Je.__docgenInfo={description:"",methods:[],displayName:"EttersendingPage"};export{Us as A,Hs as B,sr as C,er as D,or as E,Vs as F,tr as G,xs as H,Q as I,ds as N,ye as O,Yt as a,as as b,Ys as c,vs as d,nr as e,Zs as f,ys as g,Ws as h,Qs as i,us as j,kt as k,rr as l,zs as m,Cs as n,Bs as o,$s as p,Ue as q,Ot as r,Ht as s,qs as t,is as u,ws as v,ls as w,Js as x,Xs as y,Es as z};
