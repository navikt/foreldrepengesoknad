var Ge=e=>{throw TypeError(e)};var De=(e,t,r)=>t.has(e)||Ge("Cannot "+r);var h=(e,t,r)=>(De(e,t,"read from private field"),r?r.call(e):t.get(e)),Q=(e,t,r)=>t.has(e)?Ge("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Z=(e,t,r,n)=>(De(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),W=(e,t,r)=>(De(e,t,"access private method"),r);import{j as s}from"./jsx-runtime-Cw0GR0a5.js";import{r as T,R as K,c as jt,g as kt}from"./index-CTjT7uj6.js";import{e as H,g as At,h as Pe}from"./Uttaksdagen-Bkz5oXqd.js";import{d as N}from"./dates-DUtd6zgH.js";import{S as Ot}from"./Snarveier-DjLUgql7.js";import{O as Ue,h as X,b as ce,R as Lt,a as L,i as Mt,j as Gt}from"./index-BK5YD3Eg.js";import{u as U}from"./index-DnmOyZDY.js";import{C as Y}from"./ContentSection-Bg1AkEed.js";import{u as z,D as ue,a as Pt,E as Kt,F as xt,g as Ft}from"./Header-B5fKgdgt.js";import{S as Vt,s as bt,h as Ke,g as yt,n as $e,b as Bt,c as wt,d as Ht,u as M}from"./useQuery-CY6KkctN.js";import{a as Ut,b as Ye,c as Ce,e as Je,m as $t,d as ze,f as qe}from"./api-BlleEFcW.js";import{Y as _}from"./Ytelse-7td-ciMh.js";import{c as Qe,d as Yt,e as Ze,g as ve,b as Ct,f as We,h as Jt,i as zt}from"./sakerUtils-S3oFvgqY.js";import{u as fe}from"./useSelectedSak-BTrqldnb.js";import{L as ie}from"./index-BD0lb3_z.js";import{D as qt}from"./Dokument-Ae-C8ili.js";import{G as Qt}from"./GrupperteDokumenter-V2jibHLZ.js";import{N as Xe}from"./NoeGikkGalt-BM16JNz3.js";import{u as Ne}from"./useBackgroundColor-D4ksQeHz.js";import{O as D,N as B}from"./routes-Run26EI7.js";import{g as Zt}from"./dokumenterUtils-BFmXBiiW.js";import{g as Ee}from"./guid-CsArkN6i.js";import{A as w,B as je,L as et}from"./Alert--vXQkOFI.js";import{L as xe}from"./LinkPanel-Cpparcb1.js";import{c as oe,L as Wt,B as re,E as Xt,a as ne,H as ke,D as en}from"./Label-C_2a564_.js";import{R as tn,a as f,S as nn,A as rn,g as sn,G as an,M as on,b as ln}from"./MinidialogSkjema-CSfEgC9n.js";import{u as dn,F as En}from"./ByttBrowserModal-D6aSXWe7.js";import{V as C,H as mn}from"./VStack-CQ8vh05t.js";import{M as Ae}from"./message-CHiw6Zgx.js";import{L as ge}from"./Link-D59AnNQS.js";import{o as cn}from"./useMergeRefs-Dg7ETiim.js";import{S as un}from"./ChevronDown-CjGECSJR.js";import{u as Oe}from"./useId-BHtrcvnP.js";import{B as _e,D as fn}from"./BekreftelseSendtSÃ¸knad-AtI2Ep16.js";import{H as Nn,S as gn}from"./HarIkkeSaker-CLTS4FCV.js";import{H as Tn}from"./HarSaker-DT3D318d.js";import{S as pn}from"./SakLink-DKC-smGn.js";import{a as Sn,b as Dn,u as Rn}from"./react-DKFOadDt.js";import{E as hn}from"./EttersendDokumenter-Du0AUo4O.js";import{S as _n}from"./SeDokumenter-CP-Oo6Z_.js";import{S as In}from"./SeHeleProsessen-CzgZw06h.js";import{P as Re,U as se,g as vn,s as jn,n as kn,f as An,l as On,a as Ln,b as Mn,c as Gn,d as Pn,e as Kn,h as tt}from"./PeriodeListe-DBEYZXH4.js";import{O as xn}from"./Oppgaver-CeZQ1DIC.js";import{B as S}from"./StatusTag-MRVr4YUs.js";import{f as le,c as Fn}from"./dateUtils-BIf_z0Mz.js";import{u as nt}from"./useId-BFxX0aRd.js";import{K as Vn}from"./KontaktOss-B1470kL8.js";var b,y,j,F,V,de,Ie,He,bn=(He=class extends Vt{constructor(t,r){super();Q(this,V);Q(this,b);Q(this,y);Q(this,j);Q(this,F);Z(this,b,t),this.setOptions(r),this.bindMethods(),W(this,V,de).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var n;const r=this.options;this.options=h(this,b).defaultMutationOptions(t),bt(this.options,r)||h(this,b).getMutationCache().notify({type:"observerOptionsUpdated",mutation:h(this,j),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Ke(r.mutationKey)!==Ke(this.options.mutationKey)?this.reset():((n=h(this,j))==null?void 0:n.state.status)==="pending"&&h(this,j).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=h(this,j))==null||t.removeObserver(this)}onMutationUpdate(t){W(this,V,de).call(this),W(this,V,Ie).call(this,t)}getCurrentResult(){return h(this,y)}reset(){var t;(t=h(this,j))==null||t.removeObserver(this),Z(this,j,void 0),W(this,V,de).call(this),W(this,V,Ie).call(this)}mutate(t,r){var n;return Z(this,F,r),(n=h(this,j))==null||n.removeObserver(this),Z(this,j,h(this,b).getMutationCache().build(h(this,b),this.options)),h(this,j).addObserver(this),h(this,j).execute(t)}},b=new WeakMap,y=new WeakMap,j=new WeakMap,F=new WeakMap,V=new WeakSet,de=function(){var r;const t=((r=h(this,j))==null?void 0:r.state)??yt();Z(this,y,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},Ie=function(t){$e.batch(()=>{var r,n,i,a,o,l,E,m;if(h(this,F)&&this.hasListeners()){const u=h(this,y).variables,c=h(this,y).context;(t==null?void 0:t.type)==="success"?((n=(r=h(this,F)).onSuccess)==null||n.call(r,t.data,u,c),(a=(i=h(this,F)).onSettled)==null||a.call(i,t.data,null,u,c)):(t==null?void 0:t.type)==="error"&&((l=(o=h(this,F)).onError)==null||l.call(o,t.error,u,c),(m=(E=h(this,F)).onSettled)==null||m.call(E,void 0,t.error,u,c))}this.listeners.forEach(u=>{u(h(this,y))})})},He);function rt(e,t){const r=Bt(),[n]=T.useState(()=>new bn(r,e));T.useEffect(()=>{n.setOptions(e)},[n,e]);const i=T.useSyncExternalStore(T.useCallback(o=>n.subscribe($e.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=T.useCallback((o,l)=>{n.mutate(o,l).catch(wt)},[n]);if(i.error&&Ht(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}const ee=e=>{T.useEffect(()=>{const t=document.title;return document.title=e,()=>{document.title=t}},[e])};var yn=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Bn=T.forwardRef((e,t)=>{var{title:r,titleId:n}=e,i=yn(e,["title","titleId"]);let a=nt();return a=r?n||"title-"+a:void 0,T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:t,"aria-labelledby":a},i),r?T.createElement("title",{id:a},r):null,T.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 7.75a4.25 4.25 0 1 0 0 8.5 4.25 4.25 0 0 0 0-8.5M6.25 12a5.75 5.75 0 1 1 11.5 0 5.75 5.75 0 0 1-11.5 0",clipRule:"evenodd"}))});var wn=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Hn=T.forwardRef((e,t)=>{var{title:r,titleId:n}=e,i=wn(e,["title","titleId"]);let a=nt();return a=r?n||"title-"+a:void 0,T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:t,"aria-labelledby":a},i),r?T.createElement("title",{id:a},r):null,T.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.25 12a5.75 5.75 0 1 1 11.5 0 5.75 5.75 0 0 1-11.5 0",clipRule:"evenodd"}))});var Un=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const $n=T.forwardRef((e,t)=>{const{inputProps:r,errorId:n,showErrorMsg:i,hasError:a,size:o,inputDescriptionId:l,readOnly:E}=dn(e,"select"),{children:m,label:u,className:c,description:p,htmlSize:v,hideLabel:A=!1,style:k}=e,I=Un(e,["children","label","className","description","htmlSize","hideLabel","style"]),O={onMouseDown:R=>{E&&(R.preventDefault(),R.target.focus())},onKeyDown:R=>{E&&["ArrowDown","ArrowUp","ArrowRight","ArrowLeft"," "].includes(R.key)&&R.preventDefault()}};return K.createElement("div",{className:oe(c,"navds-form-field",`navds-form-field--${o}`,{"navds-form-field--disabled":!!r.disabled,"navds-form-field--readonly":E,"navds-select--error":a,"navds-select--readonly":E})},K.createElement(Wt,{htmlFor:r.id,size:o,className:oe("navds-form-field__label",{"navds-sr-only":A})},K.createElement(tn,{readOnly:E,nativeReadOnly:!1}),u),!!p&&K.createElement(re,{className:oe("navds-form-field__description",{"navds-sr-only":A}),id:l,size:o,as:"div"},p),K.createElement("div",{className:"navds-select__container",style:k},K.createElement("select",Object.assign({},cn(I,["error","errorId","size","readOnly"]),r,O,{ref:t,className:oe("navds-select__input","navds-body-short",`navds-body-short--${o??"medium"}`),size:v}),m),K.createElement(un,{className:"navds-select__chevron","aria-hidden":!0})),K.createElement("div",{className:"navds-form-field__error",id:n,"aria-relevant":"additions removals","aria-live":"polite"},i&&K.createElement(Xt,{size:o},e.error)))}),st=()=>s.jsx(Ue,{});st.__docgenInfo={description:"",methods:[],displayName:"Sak"};var Yn=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Cn=T.forwardRef((e,t)=>{var{title:r,titleId:n}=e,i=Yn(e,["title","titleId"]);let a=Oe();return a=r?n||"title-"+a:void 0,T.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:t,"aria-labelledby":a},i),r?T.createElement("title",{id:a},r):null,T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 13v8h2v-8h8v-2h-8V3h-2v8H3v2h8Z",fill:"currentColor"}))});var Jn=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const zn=T.forwardRef((e,t)=>{var{title:r,titleId:n}=e,i=Jn(e,["title","titleId"]);let a=Oe();return a=r?n||"title-"+a:void 0,T.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:t,"aria-labelledby":a},i),r?T.createElement("title",{id:a},r):null,T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.835 1.165a3.976 3.976 0 0 1 0 5.623L8.073 21.549.682 24 0 23.318l2.45-7.392L17.21 1.165a3.977 3.977 0 0 1 5.624 0Zm-4.218 7.029-2.811-2.812L4.188 17l-1.393 4.205 4.207-1.395L18.618 8.194ZM21.43 2.57a1.989 1.989 0 0 0-2.703-.1l-.108.1-1.406 1.406 2.811 2.812 1.406-1.406a1.988 1.988 0 0 0 .101-2.703l-.1-.109Z",fill:"currentColor"}))});var qn=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Qn=T.forwardRef((e,t)=>{var{title:r,titleId:n}=e,i=qn(e,["title","titleId"]);let a=Oe();return a=r?n||"title-"+a:void 0,T.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:t,"aria-labelledby":a},i),r?T.createElement("title",{id:a},r):null,T.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m17.414 12-7.707 7.707-1.414-1.414L14.586 12 8.293 5.707l1.414-1.414L17.414 12Z",fill:"currentColor"}))});function it(e){var o,l,E;const t=(e==null?void 0:e.Ã¥penBehandling)===void 0,r=(e==null?void 0:e.ytelse)===_.FORELDREPENGER?Qe(e.familiehendelse):void 0,n=(e==null?void 0:e.ytelse)===_.FORELDREPENGER?(o=e.annenPart)==null?void 0:o.fnr:void 0,i=(e==null?void 0:e.ytelse)===_.FORELDREPENGER?(E=(l=e.barn)==null?void 0:l.find(m=>m.fnr!==void 0))==null?void 0:E.fnr:void 0,a=(e==null?void 0:e.ytelse)===_.FORELDREPENGER&&[t,n].every(Boolean);return M({...Ut({annenPartFÃ¸dselsnummer:n,barnFÃ¸dselsnummer:i,familiehendelse:r}),enabled:a})}var at=(e=>(e.BARE_SÃKER_RETT="BARE_SÃKER_RETT",e.ALENEOMSORG="ALENEOMSORG",e.BEGGE_RETT="BEGGE_RETT",e))(at||{});const ot=({tidligerePerioder:e=[],nÃ¥vÃ¦rendePerioder:t=[],fremtidigePerioder:r=[],navnPÃ¥SÃ¸ker:n,navnAnnenForelder:i,sak:a,visHelePlanen:o,overlappendePerioderAnnenPart:l})=>{const E=U(),m=!a.sakTilhÃ¸rerMor,u=a.rettighetType===at.ALENEOMSORG,c=Yt(a,n,i),p=H("periodeOversikt");return s.jsxs("div",{className:p.block,children:[[...t,...r].length===0&&!o&&s.jsx(w,{className:p.element("alert"),variant:"info",children:E.formatMessage({id:"periodeOversikt.ingenPerioder.visKunNÃ¥vÃ¦rendeOgNeste"})}),[...e,...t,...r].length===0&&o&&s.jsx(w,{className:p.element("alert"),variant:"info",children:E.formatMessage({id:"periodeOversikt.ingenPerioder.visHelePlanen"})}),e.length>0&&o&&s.jsx(Re,{tittel:"Tidligere perioder",periodeListe:e,navnPÃ¥Foreldre:c,erFarEllerMedmor:m,erAleneOmOmsorg:u,overlappendePerioderAnnenPart:l}),t.length>0&&s.jsx(Re,{tittel:"NÃ¥vÃ¦rende periode",periodeListe:t,navnPÃ¥Foreldre:c,erFarEllerMedmor:m,erAleneOmOmsorg:u,overlappendePerioderAnnenPart:l}),r.length>0&&s.jsx(Re,{tittel:o?"Fremtidige perioder":"Neste periode",periodeListe:o?r:[r[0]],navnPÃ¥Foreldre:c,erFarEllerMedmor:m,erAleneOmOmsorg:u,overlappendePerioderAnnenPart:l}),!o&&s.jsxs(ge,{className:p.element("seHelePlanen"),as:ie,to:D.DIN_PLAN,children:["Se hele planen ",s.jsx(Qn,{"aria-hidden":!0})]})]})};ot.__docgenInfo={description:"",methods:[],displayName:"PeriodeOversikt",props:{tidligerePerioder:{defaultValue:{value:"[]",computed:!1},required:!1},nÃ¥vÃ¦rendePerioder:{defaultValue:{value:"[]",computed:!1},required:!1},fremtidigePerioder:{defaultValue:{value:"[]",computed:!1},required:!1}}};const he=e=>{if(e.length<=0)return e;let t=e[0];const r=[];return e.forEach((n,i)=>{if(i!==0){if(Wn(t,n)&&Zn(t,n)){t={...t,tom:n.tom};return}else r.push(t);t=n}}),r.push(t),r},Zn=(e,t)=>{const r=se(N(e.tom).toDate()).neste(),n=t.fom;return N(r).isSame(n,"day")},Wn=(e,t)=>{const r=Fe(e),n=Fe(t);return r===n},Fe=e=>{const{fom:t,tom:r,...n}=e,i={};return Object.keys(n).sort((a,o)=>a.localeCompare(o)).filter(a=>n[a]!==void 0).forEach(a=>{i[a]=n[a]}),JSON.stringify({...i})},Le=({annenPartsPerioder:e,sak:t,visHelePlanen:r,navnPÃ¥SÃ¸ker:n,navnAnnenForelder:i,termindato:a})=>{var G;const o=H("din-plan");let l,E;t.gjeldendeVedtak&&(l=he(t.gjeldendeVedtak.perioder)),(G=t.Ã¥penBehandling)!=null&&G.sÃ¸knadsperioder&&(E=he(t.Ã¥penBehandling.sÃ¸knadsperioder));const m=!!l,u=e!==void 0?vn(he(e).filter(P=>jn(P,a)),!0):void 0;let c=[],p=m?l:E;if(p&&u){const{normaliserteEgnePerioder:P,normaliserteAnnenPartsPerioder:pe}=kn(p,u);p=P;const Se=An(pe,p);c=On(Se,p)}const v=c?c.filter(P=>P.visIPlan):[],A=c?c.filter(P=>!P.visIPlan):[],k=p?Ln(p.concat(v)).sort():c,I=Mn(k,m),O=I?Gn(I):void 0,R=I?Pn(I):void 0,g=I?Kn(I):void 0,te=(R===void 0||R.length===0)&&(g===void 0||g.length===0);let ae="";return(r||!te)&&(ae="Du har fÃ¥tt vedtatt planen nedenfor."),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:o.element("header"),children:[s.jsxs("div",{className:o.element("header-tekst"),children:[m&&s.jsxs(ne,{children:[" ",ae," "]}),!m&&s.jsx(ne,{children:" Du har sÃ¸kt om planen nedenfor. "}),!m&&s.jsx(ne,{children:" Planen er ikke vedtatt av NAV ennÃ¥. "})]}),(r||!te)&&s.jsx(je,{as:ge,href:B.FORELDREPENGESOKNAD,variant:"secondary",icon:s.jsx(zn,{"aria-hidden":!0}),iconPosition:"right",children:"Endre plan"})]}),s.jsx(ot,{tidligerePerioder:O,nÃ¥vÃ¦rendePerioder:R,fremtidigePerioder:g,sak:t,visHelePlanen:r,navnPÃ¥SÃ¸ker:n,navnAnnenForelder:i,overlappendePerioderAnnenPart:A})]})};Le.__docgenInfo={description:"",methods:[],displayName:"DinPlan"};const lt=({sÃ¸kerinfo:e})=>{var a;const t=U();ee(`${t.formatMessage({id:"dinPlan"})} - ${t.formatMessage({id:"dineForeldrepenger"})}`),z(D.DIN_PLAN);const r=fe(),n=Ze(e,r),i=((a=it(r).data)==null?void 0:a.perioder)??[];return r&&r.ytelse===_.FORELDREPENGER?s.jsx($,{header:s.jsx(ue,{sak:r}),children:s.jsx(Y,{heading:"Din plan",children:s.jsx(Le,{sak:r,visHelePlanen:!0,navnPÃ¥SÃ¸ker:e.sÃ¸ker.fornavn,navnAnnenForelder:n,annenPartsPerioder:i,termindato:r.familiehendelse.termindato})})}):null};lt.__docgenInfo={description:"",methods:[],displayName:"DinPlanPage"};const dt=()=>{const e=H("dokumenter-page");Ne("blue"),z(D.DOKUMENTER);const t=X(),r=U(),n=r.formatMessage({id:"dokumenter"}),i=r.formatMessage({id:"lastOppDokumenter"});ee(`${n} - ${r.formatMessage({id:"dineForeldrepenger"})}`);const a=M(Ye(t.saksnummer));if(a.isPending)return s.jsx(et,{size:"large","aria-label":"Henter dokumenter"});const o=Zt(a.data??[]);return s.jsxs($,{header:s.jsx(Pt,{}),children:[s.jsx(xe,{as:ie,to:`../${D.ETTERSEND}`,border:!1,className:e.element("ettersend"),children:s.jsx(xe.Title,{as:"h2",children:i})}),!a.isError&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:e.element("dokumenter-liste"),children:Object.entries(o).map(l=>{const E=l[1];return E.length===1?s.jsx(qt,{dokument:E[0]},Ee()):s.jsx(Qt,{dokumenter:E},Ee())})}),s.jsxs(w,{variant:"info",className:e.element("ikke-alle-dokumenter"),children:[s.jsx(ke,{level:"3",size:"small",children:"Er det noen dokumenter du savner?"}),s.jsx(ne,{children:"Vi har forelÃ¸pig ikke mulighet til Ã¥ vise papirer du har sendt til NAV i posten, eller dokumenter som gjelder saken din, men som er sendt av andre pÃ¥ vegne av deg. Det kan for eksempel vÃ¦re en lege, advokat, verge eller fullmektig."})]})]}),a.isError&&s.jsx("div",{style:{marginBottom:"2rem"},children:s.jsx(Xe,{children:"Vi har problemer med Ã¥ vise informasjon om dine dokumenter akkurat nÃ¥. Feilen er hos oss, ikke hos deg. PrÃ¸v igjen senere."})})]})};dt.__docgenInfo={description:"",methods:[],displayName:"DokumenterPage"};const Et=e=>{const t=Object.values(f);return e.ytelse===_.FORELDREPENGER?e.kanSÃ¸keOmEndring?t.filter(er):t.filter(Xn):e.ytelse===_.ENGANGSSTÃNAD?t.filter(nr):t.filter(tr)},Xn=e=>{switch(e){case f.SKJEMA_FOR_TILRETTELEGGING_OG_OMPLASSERING:case f.DEPRECATED_TERMINBEKREFTELSE:case f.DEPRECATED_BEKREFTELSE_DELTAR_KVALIFISERINGSPROGRAM:case f.DEPRECATED_DOK_BEGRUNNELSE_SÃKE_TILBAKE_I_TID:return!1;default:return!0}},er=e=>{switch(e){case f.ANNET:case f.BEKREFTELSE_DELTAR_KVALIFISERINGSPROGRAM:case f.BEKREFTELSE_FRA_ARBEIDSGIVER:case f.BEKREFTELSE_PÃ_AVTALT_FERIE:case f.DOK_AV_ALENEOMSORG:case f.DOK_BEGRUNNELSE_SÃKE_TILBAKE_I_TID:case f.DOK_DELTAKELSE_I_INTRODUKSJONSPROGRAMMET:case f.DOK_INNLEGGELSE_BARN:case f.DOK_INNLEGGELSE_MOR:case f.DOK_INNLEGGELSE_FAR:case f.DOK_SYKDOM_MOR:case f.DOK_SYKDOM_FAR:case f.DOK_UTDANNING_MOR:case f.DOK_UTDANNING_OG_ARBEID_MOR:case f.DOK_ARBEID_MOR:case f.OMSORGSOVERTAKELSE:case f.TILBAKEBETALING:case f.HV_ÃVELSE:case f.NAV_TILTAK:case f.TERMINBEKREFTELSE:case f.DEPRECATED_TILBAKEBETALING:case f.DEPRECATED_KOPI_SKATTEMELDING:return!0;default:return!1}},tr=e=>{switch(e){case f.ANNET:case f.DOK_MILITÃR_SILVIL_TJENESTE:case f.INNTEKTSOPPLYSNINGER_FRILANS_ELLER_SELVSTENDIG:case f.SKJEMA_FOR_TILRETTELEGGING_OG_OMPLASSERING:case f.TILBAKEBETALING:case f.TERMINBEKREFTELSE:case f.SKATTEMELDING:case f.RESULTATREGNSKAP:return!0;default:return!1}},nr=e=>{switch(e){case f.ANNET:case f.TERMINBEKREFTELSE:case f.FÃDSELSATTEST:case f.TILBAKEBETALING:return!0;default:return!1}},rr=e=>e===_.ENGANGSSTÃNAD?"engangsstonad":e===_.FORELDREPENGER?"foreldrepenger":"svangerskapspenger",me="default",mt=(e,t)=>t?s.jsxs(s.Fragment,{children:[s.jsx("option",{value:me,disabled:!1,hidden:!1,children:s.jsx(Ae,{id:"ettersendelse.select.defaultValue"})}),Et(t).map(r=>({skjemanummer:r,text:e.formatMessage({id:`ettersendelse.${r}`})})).sort((r,n)=>r.text.localeCompare(n.text)).map(({skjemanummer:r,text:n})=>s.jsx("option",{value:r,children:n},r))]}):null,sr=e=>{if(e===me)return e;const t=Object.values(f).find(r=>r===e);if(t)return t;throw Error("Valgt skjemanr finnes ikke")},ir=({saker:e})=>{const t=U();ee(`${t.formatMessage({id:"lastOppDokumenter"})} - ${t.formatMessage({id:"dineForeldrepenger"})}`),z(D.ETTERSEND);const r=X(),n=H("ettersending-page"),[i,a]=T.useState(me),[o,l]=T.useState([]),[E,m]=T.useState(!1),c=ve(e).find(R=>R.saksnummer===r.saksnummer),p=(R,g)=>{l(R),m(g)},{mutate:v,isPending:A,isError:k,isSuccess:I}=rt({mutationFn:R=>Ce(R)}),O=R=>{R.preventDefault(),v({saksnummer:c.saksnummer,type:c.ytelse,vedlegg:o})};return I||k?s.jsxs(s.Fragment,{children:[s.jsx(nn,{}),s.jsxs(C,{gap:"2",children:[I&&s.jsx(w,{variant:"success",children:"Dokumentene er sendt"}),k&&s.jsx(w,{variant:"error",children:"Vi klarte ikke Ã¥ sende inn dokumentasjonen din. PrÃ¸v igjen senere og hvis problemet vedvarer kontakt brukerstÃ¸tte."}),s.jsx(ie,{to:`/sak/${c.saksnummer}`,children:s.jsx(Ae,{id:"miniDialog.kvittering.gÃ¥TilbakeTilSaken"})})]})]}):s.jsx("form",{onSubmit:O,children:s.jsxs(C,{gap:"4",children:[s.jsx(ne,{children:"Dokumentene du laster opp vil bli lagt ved sÃ¸knaden din. Du mÃ¥ velge hva dokumentene inneholder for at saksbehandlerene i NAV skal kunne behandle saken din."}),s.jsx(re,{children:"Du kan laste opp dokumenter i formatene pdf, png og jpg."}),s.jsx(ge,{target:"_blank",href:"https://www.nav.no/brukerstotte#sende-soknad-pa-nett",children:"Les om hvordan du kan ta bilde av dokumenter med mobilen"}),s.jsx($n,{className:n.element("select"),label:"Hva inneholder dokumentene dine?",onChange:R=>a(sr(R.target.value)),children:mt(t,c)}),i!==me&&s.jsx(En,{label:t.formatMessage({id:"EttersendingPageInner.dokumenter"}),updateAttachments:p,attachmentType:rn.MORS_AKTIVITET_DOKUMENTASJON,skjemanummer:i,existingAttachments:o,saveAttachment:sn(rr(c.ytelse)),skjemanummerTextMap:c?Et(c).reduce((R,g)=>({...R,[g]:t.formatMessage({id:`ettersendelse.${g}`})}),{}):void 0}),o&&o.length>0&&o.length<=40&&s.jsx(mn,{children:s.jsx(je,{type:"submit",icon:s.jsx(Cn,{"aria-hidden":!0}),loading:A||E,disabled:A||E,children:"Legg ved sak"})}),o&&o.length>40&&s.jsx(an,{children:"Du kan bare laste opp 40 dokumenter pÃ¥ en gang. Hvis du skal laste opp flere enn 40 dokumenter kan du gjÃ¸re det i flere omganger."})]})})};function ct({saker:e}){return s.jsx($,{header:s.jsx(Kt,{}),children:s.jsx(ir,{saker:e})})}mt.__docgenInfo={description:"",methods:[],displayName:"getAttachmentTypeSelectOptions"};ct.__docgenInfo={description:"",methods:[],displayName:"EttersendingPage",props:{saker:{required:!0,tsType:{name:"SakOppslag"},description:""}}};const ut=Sn(void 0);var Te=(e=>(e.REDIRECT_FROM_SÃKNAD="redirectFromSoknad",e))(Te||{});const ft="unknown",Nt=()=>Dn(ut),gt=(e,t,r)=>{const n=t??ft,i=Rn(ut),a=e===Te.REDIRECT_FROM_SÃKNAD?n:void 0;T.useEffect(()=>{r.current&&(r.current=!1,i(a))},[i,a,r])},Tt=({saker:e,isFirstRender:t,sÃ¸kerinfo:r})=>{z(D.HOVEDSIDE);const n=X();gt(n.redirect,void 0,t);const i=M(Je()),a=i.isSuccess&&!i.data,o=ce();n.redirect===Te.REDIRECT_FROM_SÃKNAD&&o(D.HOVEDSIDE);const l=Nt(),E=Ct(r.sÃ¸ker.barn??[],e),m=ve(e),u=E.length===0&&m.length===1&&e.svangerskapspenger.length===1?e.svangerskapspenger[0]:void 0;return s.jsx($,{header:s.jsx(xt,{}),children:s.jsxs(C,{gap:"10",children:[l===ft&&s.jsx(_e,{relevantNyTidslinjehendelse:void 0,bankkonto:r.sÃ¸ker.bankkonto,ytelse:void 0}),a&&s.jsx(w,{variant:"warning",children:"Det ser ut som det tar litt tid Ã¥ opprette saken din akkurat i dag. SÃ¸knaden din er sendt, sÃ¥ du kan vente litt og komme tilbake senere for Ã¥ se alle detaljene i saken din."}),m.length>0?s.jsx(Tn,{grupperteSaker:E}):s.jsx(Nn,{harOppdatertSak:!a}),u&&s.jsx(pn,{sak:u})]})})};Tt.__docgenInfo={description:"",methods:[],displayName:"Forside"};const pt=({fnr:e})=>{const t=X(),r=M({...$t(),select:c=>c.find(({saksnr:p,dialogId:v})=>p===t.saksnummer&&v===t.oppgaveId)}).data,n=fe(),i=ce(),a=U();ee(`${a.formatMessage({id:"oppgaver.tittel.tilbakebetaling"})} - ${a.formatMessage({id:"dineForeldrepenger"})}`),z(D.OPPGAVER),Ne("blue");const{mutate:o,isPending:l,isError:E,isSuccess:m}=rt({mutationFn:({ettersendelse:c,fnr:p})=>Ce(c,p)}),u=c=>{o({ettersendelse:c,fnr:e})};return!r||!n?(i(`${D.SAKSOVERSIKT}/${t.saksnummer}`),null):s.jsx($,{header:s.jsx(ue,{sak:n}),children:s.jsx(Y,{children:s.jsxs(C,{gap:"2",children:[s.jsx(ke,{size:"medium",level:"2",children:s.jsx(Ae,{id:"miniDialog.tilbakekreving.undertittel"})}),s.jsx(on,{sakstype:n.ytelse,minidialog:r,onSubmit:u,isSendingEttersendelse:l,ettersendelseErSendt:m,ettersendelseError:E?"Vi klarte ikke Ã¥ sende inn informasjonen din. PrÃ¸v igjen senere og hvis problemet vedvarer kontakt brukerstÃ¸tte.":void 0})]})})})};pt.__docgenInfo={description:"",methods:[],displayName:"MinidialogPage"};var d=(e=>(e.FÃRSTEGANGSSÃKNAD="FÃRSTEGANGSSÃKNAD",e.FÃRSTEGANGSSÃKNAD_NY="FÃRSTEGANGSSÃKNAD_NY",e.ETTERSENDING="ETTERSENDING",e.ENDRINGSSÃKNAD="ENDRINGSSÃKNAD",e.INNTEKTSMELDING="INNTEKTSMELDING",e.VEDTAK="VEDTAK",e.VENTER_INNTEKTSMELDING="VENTER_INNTEKTSMELDING",e.VENTER_PGA_TIDLIG_SÃKNAD="VENTER_PGA_TIDLIG_SÃKNAD",e.VENTER_MELDEKORT="VENTER_MELDEKORT",e.VENT_DOKUMENTASJON="VENT_DOKUMENTASJON",e.UTGÃENDE_INNHENT_OPPLYSNINGER="UTGÃENDE_INNHENT_OPPLYSNINGER",e.UTGÃENDE_ETTERLYS_INNTEKTSMELDING="UTGÃENDE_ETTERLYS_INNTEKTSMELDING",e.UTGÃENDE_VARSEL_TILBAKEBETALING="UTGÃENDE_VARSEL_TILBAKEBETALING",e.FAMILIEHENDELSE="FAMILIEHENDELSE",e.BARNET_TRE_ÃR="BARNET_TRE_ÃR",e.FREMTIDIG_VEDTAK="FREMTIDIG_VEDTAK",e.FORELDREPENGER_FEIL_PRAKSIS_UTSETTELSE_INFOBREV="FORELDREPENGER_FEIL_PRAKSIS_UTSETTELSE_INFOBREV",e))(d||{}),St={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(jt,function(){return function(r,n,i){var a=function(o,l){if(!l||!l.length||l.length===1&&!l[0]||l.length===1&&Array.isArray(l[0])&&!l[0].length)return null;var E;l.length===1&&l[0].length>0&&(l=l[0]),E=(l=l.filter(function(u){return u}))[0];for(var m=1;m<l.length;m+=1)l[m].isValid()&&!l[m][o](E)||(E=l[m]);return E};i.max=function(){var o=[].slice.call(arguments,0);return a("isAfter",o)},i.min=function(){var o=[].slice.call(arguments,0);return a("isBefore",o)}}})})(St);var ar=St.exports;const or=kt(ar);var J=(e=>(e.BRUKER="BRUKER",e.NAV="NAV",e.ARBEIDSGIVER="ARBEIDSGIVER",e))(J||{}),Dt=(e=>(e.INGEN="INGEN",e.DELVIS="DELVIS",e.HEL="HEL",e))(Dt||{});N.extend(or);const lr=[S.VENTER_PÃ_INNTEKTSMELDING,S.VENTER_PÃ_DOKUMENTASJON,S.TIDLIG_SÃKNAD,S.VENTER_PÃ_MELDEKORT];d.VENTER_INNTEKTSMELDING,d.VENTER_MELDEKORT,d.VENTER_PGA_TIDLIG_SÃKNAD,d.VENT_DOKUMENTASJON;const dr=(e,t)=>{if(t){const r=e.findLastIndex(n=>n.tidslinjeHendelseType===d.VEDTAK);if(r>=0)return r}return e.findIndex(r=>N(r.opprettet).isAfter(N(),"d"))},Er=e=>e?N(e).subtract(4*7,"day").toDate():void 0,Rt=(e,t,r)=>e===1||e===0?t.formatMessage({id:"barnet"}):e>1&&r?t.formatMessage({id:"barna"}):e===2?t.formatMessage({id:"tvillingene"}):e===3?t.formatMessage({id:"trillingene"}):t.formatMessage({id:"flerlingene"}),mr=(e,t,r,n)=>{let i="";return r?n.formatMessage({id:"tidslinje.tittel.BARNET_TRE_ÃR.adopsjon"},{navn:i}):(e.fornavn===void 0||e.fornavn.length===0||!e.alleBarnaLever?i=Rt(t,n,!1):i=We(e.fornavn),n.formatMessage({id:"tidslinje.tittel.BARNET_TRE_ÃR.fÃ¸dsel"},{navn:i}))},cr=(e,t,r)=>N(t).isSameOrBefore(N(),"d")?r.formatMessage({id:"tidslinje.tittel.FAMILIEHENDELSE.omsorgsovertakelse.tilbakeITid"},{navn:e}):r.formatMessage({id:"tidslinje.tittel.FAMILIEHENDELSE.omsorgsovertakelse.fremITid"},{navn:e}),ur=(e,t,r,n,i)=>{let a="";return e.fornavn===void 0||e.fornavn.length===0||!e.alleBarnaLever?a=Rt(t,i,r):a=We(e.fornavn),r&&n.omsorgsovertakelse?cr(a,n.omsorgsovertakelse,i):n.fÃ¸dselsdato?i.formatMessage({id:"tidslinje.tittel.FAMILIEHENDELSE.fÃ¸dsel"},{navn:a}):i.formatMessage({id:"tidslinje.tittel.FAMILIEHENDELSE.termindato"})},fr=(e,t,r,n,i,a)=>i===_.FORELDREPENGER?ur(r,n,t,e,a):e.omsorgsovertakelse?"Adopsjonsdato":e.fÃ¸dselsdato?"Barnet ble fÃ¸dt":a.formatMessage({id:"tidslinje.tittel.FAMILIEHENDELSE.termindato"}),Nr=(e,t)=>{const r=e.dokumenter;if(r&&r.length>0){if(r.find(n=>n.tittel.includes("Avslagsbrev")))return t.formatMessage({id:"tidslinje.tittel.VEDTAK.avslÃ¥tt"});if(r.find(n=>n.tittel.includes("Innvilgelsesbrev")))return t.formatMessage({id:"tidslinje.tittel.VEDTAK.innvilget"})}return t.formatMessage({id:"tidslinje.tittel.VEDTAK"})},gr=(e,t,r)=>{switch(t.tidslinjeHendelseType){case d.BARNET_TRE_ÃR:return r?e.formatMessage({id:"tidslinje.tittel.BARNET_TRE_ÃR.adopsjon"}):e.formatMessage({id:"tidslinje.tittel.BARNET_TRE_ÃR.fÃ¸dsel"});case d.ENDRINGSSÃKNAD:return e.formatMessage({id:"tidslinje.tittel.ENDRINGSSÃKNAD"});case d.ETTERSENDING:return e.formatMessage({id:"tidslinje.tittel.ETTERSENDING"});case d.FAMILIEHENDELSE:return e.formatMessage({id:"tidslinje.tittel.FAMILIEHENDELSE"});case d.FREMTIDIG_VEDTAK:return e.formatMessage({id:"tidslinje.tittel.FREMTIDIG_VEDTAK"});case d.FÃRSTEGANGSSÃKNAD:return e.formatMessage({id:"tidslinje.tittel.FÃRSTEGANGSSÃKNAD"});case d.FÃRSTEGANGSSÃKNAD_NY:return e.formatMessage({id:"tidslinje.tittel.FÃRSTEGANGSSÃKNAD_NY"});case d.INNTEKTSMELDING:return e.formatMessage({id:"tidslinje.tittel.INNTEKTSMELDING"});case d.UTGÃENDE_ETTERLYS_INNTEKTSMELDING:return e.formatMessage({id:"tidslinje.tittel.UTGÃENDE_ETTERLYS_INNTEKTSMELDING"});case d.UTGÃENDE_INNHENT_OPPLYSNINGER:return e.formatMessage({id:"tidslinje.tittel.UTGÃENDE_INNHENT_OPPLYSNINGER"});case d.UTGÃENDE_VARSEL_TILBAKEBETALING:return e.formatMessage({id:"tidslinje.tittel.UTGÃENDE_VARSEL_TILBAKEBETALING"});case d.VEDTAK:return Nr(t,e);case d.VENTER_INNTEKTSMELDING:return e.formatMessage({id:"tidslinje.tittel.VENTER_INNTEKTSMELDING"});case d.VENTER_MELDEKORT:return e.formatMessage({id:"tidslinje.tittel.VENTER_MELDEKORT"});case d.VENTER_PGA_TIDLIG_SÃKNAD:return e.formatMessage({id:"tidslinje.tittel.VENTER_PGA_TIDLIG_SÃKNAD"});case d.VENT_DOKUMENTASJON:return e.formatMessage({id:"tidslinje.tittel.VENT_DOKUMENTASJON"});case d.FORELDREPENGER_FEIL_PRAKSIS_UTSETTELSE_INFOBREV:return e.formatMessage({id:"tidslinje.tittel.FORELDREPENGER_FEIL_PRAKSIS_UTSETTELSE_INFOBREV"})}},Tr=(e,t,r,n,i,a)=>{const o=e.tidslinjeHendelseType,{familiehendelse:l,ytelse:E,gjelderAdopsjon:m}=a,u=l==null?void 0:l.antallBarn;if(o===d.VENTER_PGA_TIDLIG_SÃKNAD&&r!==void 0)return t.formatMessage({id:"tidslinje.tittel.VENTER_PGA_TIDLIG_SÃKNAD"},{tidlistBehandlingsdato:At(r)});if(o===d.VENT_DOKUMENTASJON&&n&&n.length===1){const c=t.formatMessage({id:`ettersendelse.${n[0]}`}),p=c.charAt(0).toLowerCase()+c.slice(1);return t.formatMessage({id:"tidslinje.navVenterPÃ¥"},{dokumentasjon:p})}return o===d.FÃRSTEGANGSSÃKNAD?t.formatMessage({id:"tidslinje.tittel.FÃRSTEGANGSSÃKNAD"},{ytelse:E}):o===d.FAMILIEHENDELSE&&l&&u!==void 0?fr(l,m,i,u,E,t):E===_.FORELDREPENGER&&(l!=null&&l.fÃ¸dselsdato||l!=null&&l.omsorgsovertakelse)&&u&&o===d.BARNET_TRE_ÃR?mr(i,u,l==null?void 0:l.omsorgsovertakelse,t):gr(t,e,!!(l!=null&&l.omsorgsovertakelse))},Ve=e=>{if(e===S.VENTER_PÃ_INNTEKTSMELDING)return d.VENTER_INNTEKTSMELDING;if(e===S.TIDLIG_SÃKNAD)return d.VENTER_PGA_TIDLIG_SÃKNAD;if(e===S.VENTER_PÃ_DOKUMENTASJON)return d.VENT_DOKUMENTASJON;if(e===S.VENTER_PÃ_MELDEKORT)return d.VENTER_MELDEKORT;throw new Error("Ukjent venteÃ¥rsak")},be=e=>e===S.VENTER_PÃ_INNTEKTSMELDING?J.ARBEIDSGIVER:e===S.TIDLIG_SÃKNAD?J.NAV:J.BRUKER,ye=e=>{if(e===S.VENTER_PÃ_INNTEKTSMELDING)return B.VENT_INNTEKTSMELDING;if(e===S.TIDLIG_SÃKNAD)return B.SÃKNADSFRISTER;if(e===S.VENTER_PÃ_MELDEKORT)return B.VENT_MELDEKORT},pr=e=>{const t=e.sÃ¸knadsperioder,r=N(t[0].fom).toDate();return se(se(r).denneEllerNeste()).trekkFra(4*tt)},Sr=e=>{const t=e.sÃ¸knad.arbeidsforhold.map(n=>n.tilrettelegginger.filter(a=>a.type!==Dt.HEL).map(a=>N(a.fom))).flat(1)||[],r=N.min(t).toDate();return se(se(r).denneEllerNeste()).trekkFra(4*tt)},Dr=(e,t)=>e===_.SVANGERSKAPSPENGER?Sr(t):pr(t),Rr=e=>{const t=e.find(r=>r.tidslinjeHendelseType===d.FÃRSTEGANGSSÃKNAD);return t?t.opprettet:void 0},hr=(e,t)=>e.map(r=>{switch(r.tidslinjeHendelseType){case d.UTGÃENDE_INNHENT_OPPLYSNINGER:return{...r,internalUrl:D.ETTERSEND,linkTittel:t.formatMessage({id:"tidslinje.VENT_DOKUMENTASJON.linkTittel"})};case d.FÃRSTEGANGSSÃKNAD_NY:{const n=Rr(e);return{...r,merInformasjon:n?t.formatMessage({id:"tidslinje.merInformasjon.FÃRSTEGANGSSÃKNAD_NY"},{datoFÃ¸rsteSÃ¸knad:le(n,"DD. MMM YYYY")}):t.formatMessage({id:"tidslinje.merInformasjon.FÃRSTEGANGSSÃKNAD_NY.ukjentDatoFÃ¸rstSÃ¸knad"})}}default:return r}}),_r=e=>{const t=Qe(e);return{type:"sÃ¸knad",opprettet:new Date(t),tidslinjeHendelseType:d.FAMILIEHENDELSE,aktÃ¸rType:J.BRUKER,dokumenter:[],manglendeVedlegg:[]}},Ir=(e,t,r,n,i)=>{let a,o="";return n?(a=N(t).add(3,"y").toDate(),o=i.formatMessage({id:"tidslinje.BARN_TRE_ÃR.adopsjon.informasjon"},{antallBarn:r})):(a=N(e).add(3,"y").toDate(),o=i.formatMessage({id:"tidslinje.BARN_TRE_ÃR.fÃ¸dsel.informasjon"},{antallBarn:r})),{type:"sÃ¸knad",opprettet:a,tidslinjeHendelseType:d.BARNET_TRE_ÃR,aktÃ¸rType:J.BRUKER,dokumenter:[],manglendeVedlegg:[],merInformasjon:o,linkTittel:i.formatMessage({id:"tidslinje.BARN_TRE_ÃR.linkTittel"}),eksternalUrl:B.HVOR_LENGE}},vr=(e,t)=>{let r=B.SAKSBEHANDLINGSTIDER_FP;return t===_.SVANGERSKAPSPENGER&&(r=B.SAKSBEHANDLINGSTIDER_SVP),t===_.ENGANGSSTÃNAD&&(r=B.SAKSBEHANDLINGSTIDER_ES),{type:"sÃ¸knad",opprettet:N(new Date).add(1,"d").toDate(),tidslinjeHendelseType:d.FREMTIDIG_VEDTAK,aktÃ¸rType:J.NAV,dokumenter:[],manglendeVedlegg:[],merInformasjon:e.formatMessage({id:"tidslinje.FREMTIDIG_VEDTAK.informasjon"}),linkTittel:e.formatMessage({id:"tidslinje.FREMTIDIG_VEDTAK.linkTittel"}),eksternalUrl:r}},jr=(e,t,r)=>{switch(t){case S.TIDLIG_SÃKNAD:return r===_.FORELDREPENGER?e.formatMessage({id:"tidslinje.VENT_TIDLIG_SÃKNAD.informasjon.foreldrepenger"}):e.formatMessage({id:"tidslinje.VENT_TIDLIG_SÃKNAD.informasjon.svangerskapspenger"});case S.UNDER_BEHANDLING:return e.formatMessage({id:"tidslinje.UNDER_BEHANDLING.informasjon"});case S.VENTER_PÃ_DOKUMENTASJON:return e.formatMessage({id:"tidslinje.VENT_DOKUMENTASJON.informasjon"});case S.VENTER_PÃ_INNTEKTSMELDING:return e.formatMessage({id:"tidslinje.VENT_INNTEKTSMELDING.informasjon"});case S.VENTER_PÃ_MELDEKORT:return e.formatMessage({id:"tidslinje.VENT_MELDEKORT.informasjon"})}},kr=(e,t)=>{switch(t){case S.TIDLIG_SÃKNAD:return e.formatMessage({id:"tidslinje.VENT_TIDLIG_SÃKNAD.linkTittel"});case S.UNDER_BEHANDLING:return e.formatMessage({id:"tidslinje.UNDER_BEHANDLING.linkTittel"});case S.VENTER_PÃ_DOKUMENTASJON:return e.formatMessage({id:"tidslinje.VENT_DOKUMENTASJON.linkTittel"});case S.VENTER_PÃ_INNTEKTSMELDING:return e.formatMessage({id:"tidslinje.VENT_INNTEKTSMELDING.linkTittel"});case S.VENTER_PÃ_MELDEKORT:return e.formatMessage({id:"tidslinje.VENT_MELDEKORT.linkTittel"})}},Ar=(e,t)=>t===_.FORELDREPENGER?e.formatMessage({id:"tidslinje.VENT_TIDLIG_SÃKNAD.informasjon.foreldrepenger"}):e.formatMessage({id:"tidslinje.VENT_TIDLIG_SÃKNAD.informasjon.svangerskapspenger"}),Or=(e,t,r,n)=>{let i;[S.VENTER_PÃ_INNTEKTSMELDING,S.VENTER_PÃ_MELDEKORT,S.TIDLIG_SÃKNAD].includes(e.tilstand)&&t&&t.length>0&&(i={type:"sÃ¸knad",opprettet:N(new Date).add(1,"d").toDate(),aktÃ¸rType:be(S.VENTER_PÃ_DOKUMENTASJON),tidslinjeHendelseType:Ve(S.VENTER_PÃ_DOKUMENTASJON),dokumenter:[],manglendeVedlegg:[],merInformasjon:r.formatMessage({id:"tidslinje.VENT_DOKUMENTASJON.informasjon"}),linkTittel:r.formatMessage({id:"tidslinje.VENT_DOKUMENTASJON.linkTittel"}),eksternalUrl:ye(S.VENTER_PÃ_DOKUMENTASJON),internalUrl:D.ETTERSEND,tidligstBehandlingsDato:void 0});const a=e.tilstand===S.TIDLIG_SÃKNAD?Ar(r,n):jr(r,e.tilstand,n),o={type:"sÃ¸knad",opprettet:N(new Date).add(1,"d").toDate(),aktÃ¸rType:be(e.tilstand),tidslinjeHendelseType:Ve(e.tilstand),dokumenter:[],manglendeVedlegg:[],merInformasjon:a,linkTittel:kr(r,e.tilstand),eksternalUrl:ye(e.tilstand),internalUrl:e.tilstand===S.VENTER_PÃ_DOKUMENTASJON?D.ETTERSEND:void 0,tidligstBehandlingsDato:e.tilstand===S.TIDLIG_SÃKNAD?Dr(n,e):void 0};return i?[i,o]:[o]},ht=(e,t)=>N(e.opprettet).isBefore(t.opprettet)?-1:N(e.opprettet).isAfter(t.opprettet)?1:0,Be=e=>e.filter(t=>N(t.opprettet).isAfter(N(),"d")),we=e=>{const t=new Date,r=e.filter(n=>N(n.opprettet).isSameOrBefore(t,"d"));return r.length<=3?r:r.slice(Math.max(r.length-3))},Lr=e=>{const t=e.findLastIndex(i=>i.dokumenter.find(a=>a.tittel.includes("Innvilgelsesbrev"))),r=t>=0?e.slice(t):void 0;return(r==null?void 0:r.find(i=>[d.ENDRINGSSÃKNAD,d.FÃRSTEGANGSSÃKNAD,d.FÃRSTEGANGSSÃKNAD_NY].includes(i.tidslinjeHendelseType)))?void 0:e[t]},Mr=(e,t,r,n)=>{const i=[];if(e)i.push(...t);else if(r){const a=we(t);i.push(...a)}else if(n){const a=n?Lr(t):void 0;a&&i.push(a);const o=Be(t);o.length>0&&i.push(...o)}else{const a=Be(t);if(a.length>0&&i.push(...a),i.length===0){const o=we(t);i.push(...o)}}return i},Gr=(e,t,r,n,i,a,o)=>{var m;const l=hr(e,o),E=t?Or(t,r,o,n.ytelse):void 0;if(E&&l.push(...E),(m=n.familiehendelse)!=null&&m.termindato||n.familiehendelse&&i.alleBarnaLever){const u=_r(n.familiehendelse);l.push(u)}if(i.alleBarnaLever&&!a&&n.ytelse===_.FORELDREPENGER&&!n.sakAvsluttet&&(n.familiehendelse.omsorgsovertakelse||n.familiehendelse.fÃ¸dselsdato)){const u=Ir(n.familiehendelse.fÃ¸dselsdato,n.familiehendelse.omsorgsovertakelse,n.familiehendelse.antallBarn,n.gjelderAdopsjon,o);l.push(u)}if(n.Ã¥penBehandling){const u=vr(o,n.ytelse);l.push(u)}return[...l].sort(ht)},Pr=e=>{const t=[d.FÃRSTEGANGSSÃKNAD,d.FÃRSTEGANGSSÃKNAD_NY,d.ENDRINGSSÃKNAD],r=e?[...e].sort(ht).reverse():void 0;return r?r.find(i=>t.includes(i.tidslinjeHendelseType)&&i.dokumenter.find(a=>a.tittel.includes("SÃ¸knad"))&&N(i.opprettet).isSameOrAfter(N().subtract(1,"d"))):void 0},x=H("tidslinje-hendelse"),Kr=(e,t)=>e?"ikon_active":N(t).isBefore(N())?"ikon_completed":"ikon_incomplete",xr=(e,t)=>t?"active":N(e).isBefore(N())?"complete":"incomplete",Fr=(e,t,r,n)=>{if(e===d.VENTER_INNTEKTSMELDING){const i=Er(r);return N(i).isAfter(N())?i?`TIDLIGST ${le(i,"D. MMM YYYY").toUpperCase()}`:"":"SNAREST"}else return e===d.VENTER_PGA_TIDLIG_SÃKNAD?`TIDLIGST ${le(n,"D. MMM YYYY").toUpperCase()}`:[d.VENTER_MELDEKORT,d.VENT_DOKUMENTASJON].includes(e)?"SNAREST":e===d.FREMTIDIG_VEDTAK?"SENERE":N(t).isSame(new Date,"d")?"I DAG":N(t).isSame(N(new Date).subtract(1,"d"),"d")?"I GÃR":le(t,"D. MMM YYYY").toUpperCase()},_t=({date:e,title:t,children:r,isActiveStep:n,visKlokkeslett:i,type:a,fÃ¸rsteUttaksdagISaken:o,tidligstBehandlingsDato:l,finnesHendelserFÃ¸rAktivtSteg:E,visHeleTidslinjen:m,erSistePÃ¥ForsidenMenIkkeSisteIHeleTidslinjen:u})=>{const c=i?Fn(e):"",p=Fr(a,e,o,l);return s.jsxs("div",{className:Pe(x.block,x.modifier(`${xr(e,n)}`),x.modifier(`${n&&E&&!m?"aktiv_er_ikke_fÃ¸rste_hendelse":""}`),x.modifier(`${u?"siste_hendelse_pÃ¥_forsiden":""}`)),children:[s.jsxs("div",{className:Pe(x.element("ikon"),x.element(Kr(n,e))),children:[N(e).isSameOrBefore(N(),"d")&&s.jsx(Hn,{width:"20",height:"20","aria-hidden":!0}),N(e).isAfter(N(),"d")&&s.jsx(Bn,{width:"20",height:"20","aria-hidden":!0})]}),s.jsxs("div",{className:x.element("tekst"),children:[s.jsx(re,{size:"small",className:x.element("tittle"),children:t}),s.jsx(en,{className:x.element("date"),children:`${p} ${c}`}),r]})]})};_t.__docgenInfo={description:"",methods:[],displayName:"TidslinjeHendelse"};const Me=({sak:e,visHeleTidslinjen:t,sÃ¸kersBarn:r,tidslinjeHendelserQuery:n,manglendeVedleggQuery:i})=>{const a=U(),o=location.pathname.replace(`/${D.TIDSLINJEN}`,""),l=H("tidslinje-hendelse"),E=e.ytelse===_.FORELDREPENGER?Jt(e):void 0,m=zt(e,r),u=e.ytelse===_.FORELDREPENGER&&!!e.gjeldendeVedtak&&(e.gjeldendeVedtak.perioder.length===0||e.gjeldendeVedtak.perioder.every(g=>g.resultat!==void 0&&g.resultat.innvilget===!1)),c=e.ytelse===_.FORELDREPENGER&&e.Ã¥penBehandling===void 0&&!!e.gjeldendeVedtak;if(n.isError||i.isError||e===void 0)return s.jsx(Xe,{children:"Vi klarer ikke Ã¥ vise informasjon om hva som skjer i saken din akkurat nÃ¥. Feilen er hos oss, ikke hos deg. PrÃ¸v igjen senere."});const p=n.data??[],v=i.data??[];if(p.length===0)return null;const A=e.Ã¥penBehandling&&lr.includes(e.Ã¥penBehandling.tilstand)?e.Ã¥penBehandling:void 0,k=Gr(p,A,v,e,m,u,a),I=Mr(t,k,u,c),O=dr(I,c),R=k.find(g=>N(g.opprettet).isSameOrBefore(N(),"d"));return s.jsx("div",{children:I.map((g,te)=>{const ae=te===O,G=g.dokumenter.map(q=>s.jsx(fn,{dokument:q,visesITidslinjen:!0},q.url)),P=g.tidslinjeHendelseType!==d.FAMILIEHENDELSE&&N(g.opprettet).isSameOrBefore(N()),pe=k.findIndex(q=>q===g)===k.length-1,Se=!t&&te===I.length-1&&!pe;return s.jsx(_t,{date:g.opprettet,title:Tr(g,a,g.tidligstBehandlingsDato,v,m,e),isActiveStep:ae,visKlokkeslett:P,type:g.tidslinjeHendelseType,fÃ¸rsteUttaksdagISaken:E,tidligstBehandlingsDato:g.tidligstBehandlingsDato,finnesHendelserFÃ¸rAktivtSteg:!!R,visHeleTidslinjen:t,erSistePÃ¥ForsidenMenIkkeSisteIHeleTidslinjen:Se,children:s.jsxs("ul",{style:{listStyle:"none",padding:"0"},children:[g.tidslinjeHendelseType===d.VENT_DOKUMENTASJON&&v&&v.length>1&&s.jsxs("div",{className:l.element("manglende_vedlegg"),children:[s.jsx("div",{children:a.formatMessage({id:"tidslinje.VENT_DOKUMENTASJON.flereVedlegg.tittel"})}),s.jsx("ul",{children:v.map(q=>s.jsx("li",{children:a.formatMessage({id:`ettersendelse.${q}`})},Ee()))})]}),g.merInformasjon&&s.jsx(re,{size:"small",className:l.element("mer_informasjon"),children:g.merInformasjon}),G.length>0&&G.length<=3&&G,G.length>0&&G.length>3&&s.jsx(ln,{className:l.element("medium_font"),header:`Du sendte ${g.dokumenter.length} dokumenter`,children:G}),g.linkTittel&&g.eksternalUrl&&s.jsxs(ge,{href:g.eksternalUrl,className:l.element("link"),children:[s.jsx(re,{size:"small",children:g.linkTittel}),s.jsx(gn,{fontSize:"16px","aria-hidden":!0})]}),g.linkTittel&&g.internalUrl&&s.jsx(ie,{className:l.element("medium_font"),to:`${o}/${g.internalUrl}`,children:s.jsx(je,{children:g.linkTittel})})]})},Ee())})})};Me.__docgenInfo={description:"",methods:[],displayName:"Tidslinje"};const It=({sÃ¸kerinfo:e,isFirstRender:t})=>{var O;const r=U(),n=X(),i=ce();M(Ye(n.saksnummer)),gt(n.redirect,n.saksnummer,t),Ne("blue"),z(D.SAKSOVERSIKT);const a=fe();ee(`${Ft(a==null?void 0:a.ytelse)} - ${r.formatMessage({id:"dineForeldrepenger"})}`);const o=Nt(),l=M(ze(n.saksnummer)),E=M(qe(n.saksnummer)),m=M(Je()),u=m.isSuccess&&!m.data,c=it(a);n.redirect===Te.REDIRECT_FROM_SÃKNAD&&i(`${D.SAKSOVERSIKT}/${n.saksnummer}`);const p=Pr(l.data),v=o===n.saksnummer||p!==void 0,A=v&&(a==null?void 0:a.Ã¥penBehandling)!==void 0;if(u)return s.jsxs(C,{gap:"2",children:[v&&s.jsx(_e,{relevantNyTidslinjehendelse:p,bankkonto:e.sÃ¸ker.bankkonto,ytelse:void 0}),s.jsx(w,{variant:"warning",children:"Det ser ut som det tar litt tid Ã¥ opprette saken din akkurat i dag. SÃ¸knaden din er sendt, sÃ¥ du kan vente litt og komme tilbake senere for Ã¥ se alle detaljene i saken din."}),s.jsx(ie,{to:`${D.HOVEDSIDE}`,children:r.formatMessage({id:"saksoversikt"})})]});if(!a)return s.jsx(w,{variant:"warning",children:`Vi finner ingen sak med saksnummer: ${n.saksnummer}.`});const k=e.sÃ¸ker.fornavn,I=Ze(e,a);return s.jsx($,{header:s.jsx(ue,{sak:a}),children:s.jsxs(C,{gap:"4",children:[A&&s.jsx(_e,{relevantNyTidslinjehendelse:p,bankkonto:e.sÃ¸ker.bankkonto,ytelse:a.ytelse}),s.jsx(xn,{saksnummer:a.saksnummer}),s.jsxs(C,{gap:"1",children:[s.jsx(Y,{heading:r.formatMessage({id:"saksoversikt.tidslinje"}),showSkeleton:l.isPending||E.isPending,skeletonProps:{height:"250px",variant:"rounded"},marginBottom:"small",children:s.jsx(Me,{sak:a,tidslinjeHendelserQuery:l,manglendeVedleggQuery:E,visHeleTidslinjen:!1,sÃ¸kersBarn:e.sÃ¸ker.barn??[]})}),s.jsx(Y,{padding:"none",marginBottom:"large",children:s.jsx(In,{})})]}),s.jsx(Y,{padding:"none",marginBottom:"medium",children:s.jsx(_n,{})}),s.jsx(Y,{padding:"none",marginBottom:"large",children:s.jsx(hn,{})}),a.ytelse===_.FORELDREPENGER&&s.jsx(Y,{heading:r.formatMessage({id:"saksoversikt.dinPlan"}),showSkeleton:c.isLoading,skeletonProps:{height:"210px",variant:"rounded"},children:s.jsx(Le,{sak:a,visHelePlanen:!1,navnPÃ¥SÃ¸ker:k,navnAnnenForelder:I,annenPartsPerioder:(O=c.data)==null?void 0:O.perioder,termindato:a.familiehendelse.termindato})})]})})};It.__docgenInfo={description:"",methods:[],displayName:"Saksoversikt",props:{sÃ¸kerinfo:{required:!0,tsType:{name:"SÃ¸kerinfoDTO"},description:""},isFirstRender:{required:!0,tsType:{name:"ReactMutableRefObject",raw:"React.MutableRefObject<boolean>",elements:[{name:"boolean"}]},description:""}}};const Vr=({sÃ¸kersBarn:e,sak:t})=>{const r=H("tidslinje-page"),n=U();ee(`${n.formatMessage({id:"heleProsessen"})} -${n.formatMessage({id:"dineForeldrepenger"})}`),Ne("white"),z(D.TIDSLINJEN);const i=X(),a=M(ze(i.saksnummer)),o=M(qe(i.saksnummer));return a.isPending||o.isPending||!t?s.jsx(et,{size:"large","aria-label":"Henter status for din sÃ¸knad"}):s.jsxs("div",{className:r.element("div"),children:[s.jsx(ke,{spacing:!0,level:"2",size:"medium",children:"Dette skjer i saken"}),s.jsx(Me,{sak:t,visHeleTidslinjen:!0,sÃ¸kersBarn:e,tidslinjeHendelserQuery:a,manglendeVedleggQuery:o})]})};function vt({sÃ¸kersBarn:e}){const t=fe();return s.jsx($,{header:s.jsx(ue,{sak:t}),children:s.jsx(Vr,{sak:t,sÃ¸kersBarn:e})})}vt.__docgenInfo={description:"",methods:[],displayName:"TidslinjePage",props:{sÃ¸kersBarn:{required:!0,tsType:{name:"Array",elements:[{name:"SÃ¸kerinfoDTOBarn"}],raw:"SÃ¸kerinfoDTOBarn[]"},description:""}}};const br=({sÃ¸kerinfo:e,saker:t})=>{const r=T.useRef(!0);return s.jsxs(s.Fragment,{children:[s.jsx(Lt,{children:s.jsxs(L,{element:s.jsx(yr,{saker:t}),children:[s.jsx(L,{path:`${D.HOVEDSIDE}/:redirect?`,element:s.jsx(Tt,{saker:t,isFirstRender:r,sÃ¸kerinfo:e})}),s.jsxs(L,{path:`${D.SAKSOVERSIKT}/:saksnummer/:redirect?`,element:s.jsx(st,{}),children:[s.jsx(L,{index:!0,element:s.jsx(It,{sÃ¸kerinfo:e,isFirstRender:r})}),s.jsx(L,{path:D.DIN_PLAN,element:s.jsx(lt,{sÃ¸kerinfo:e})}),s.jsx(L,{path:D.DOKUMENTER,element:s.jsx(dt,{})}),s.jsx(L,{path:D.TIDSLINJEN,element:s.jsx(vt,{sÃ¸kersBarn:e.sÃ¸ker.barn??[]})}),s.jsx(L,{path:`${D.OPPGAVER}/:oppgaveId`,element:s.jsx(pt,{fnr:e.sÃ¸ker.fnr})}),s.jsx(L,{path:D.ETTERSEND,element:s.jsx(ct,{saker:t})})]}),s.jsx(L,{path:"*",element:s.jsx(Mt,{to:D.HOVEDSIDE})})]})}),s.jsx(Vn,{})]})};function yr({saker:e}){const t=ce(),r=ve(e),n=r.length===1?r[0].saksnummer:void 0,i=Gt(D.HOVEDSIDE),[a,o]=T.useState(!0),l=i&&a;return T.useEffect(()=>{o(!1)},[]),T.useEffect(()=>{l&&n&&t(`${D.SAKSOVERSIKT}/${n}`)},[l,t,n]),s.jsx(Ue,{})}function $({header:e,children:t}){const r=H("routesWrapper");return s.jsxs(s.Fragment,{children:[e,s.jsx("div",{className:r.block,children:t}),s.jsx(Ot,{})]})}$.__docgenInfo={description:"",methods:[],displayName:"PageRouteLayout",props:{header:{required:!0,tsType:{name:"ReactNode"},description:""},children:{required:!0,tsType:{name:"ReactNode"},description:""}}};br.__docgenInfo={description:"",methods:[],displayName:"ForeldrepengeoversiktRoutes"};export{lt as D,ct as E,Tt as F,pt as M,It as S,vt as T,dt as a,br as b};
