import{c as z,k as Re,f as me,o as Ie,E as Oe,d as D,m as Ne,n as Le,p as be,q as ye,i as q,j as k,V as de,B as Ge,L as Fe,g as Me,e as Pe}from"./index-HQqLdxub.js";import{r as _,R as F}from"./index-BBkUAzwr.js";import{i as je,u as Ke,A as le,F as pe,a as Ve,B as Be}from"./calendarLabel.module-_48A4Kjj.js";import{u as xe,d as Ue,e as He,S,f as Ce,g as $e,L as Ye,A as qe,h as ze,G as Je}from"./attachmentApi-CJK3HhLM.js";import{C as We,E as oe,Y as M}from"./Ytelse-BClKeJ98.js";import{u as Ze}from"./useId-4vqqPgaI.js";const Xe=e=>{_.useEffect(()=>{const t=document.title;return document.title=e,()=>{document.title=t}},[e])};var Qe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const et=_.forwardRef((e,t)=>{const{inputProps:n,errorId:r,showErrorMsg:o,hasError:m,size:u,inputDescriptionId:p,readOnly:v}=xe(e,"select"),{children:w,label:E,className:P,description:N,htmlSize:y,hideLabel:K=!1,style:B}=e,U=Qe(e,["children","label","className","description","htmlSize","hideLabel","style"]),I={onMouseDown:b=>{v&&(b.preventDefault(),b.target.focus())},onKeyDown:b=>{v&&["ArrowDown","ArrowUp","ArrowRight","ArrowLeft"," "].includes(b.key)&&b.preventDefault()}};return F.createElement("div",{className:z(P,"navds-form-field",`navds-form-field--${u}`,{"navds-form-field--disabled":!!n.disabled,"navds-form-field--readonly":v,"navds-select--error":m,"navds-select--readonly":v})},F.createElement(Re,{htmlFor:n.id,size:u,className:z("navds-form-field__label",{"navds-sr-only":K})},F.createElement(Ue,{readOnly:v,nativeReadOnly:!1}),E),!!N&&F.createElement(me,{className:z("navds-form-field__description",{"navds-sr-only":K}),id:p,size:u,as:"div"},N),F.createElement("div",{className:"navds-select__container",style:B},F.createElement("select",Object.assign({},Ie(U,["error","errorId","size","readOnly"]),n,I,{ref:t,className:z("navds-select__input","navds-body-short",`navds-body-short--${u??"medium"}`),size:y}),w),F.createElement(We,{className:"navds-select__chevron","aria-hidden":!0})),F.createElement("div",{className:"navds-form-field__error",id:r,"aria-relevant":"additions removals","aria-live":"polite"},o&&F.createElement(Oe,{size:u},e.error)))}),tt=et;var L=(e=>(e.UNFETCHED="Unfetched",e.IN_PROGRESS="InProgress",e.FINISHED="Finished",e))(L||{});const nt=oe.REST_API_URL,ee=He.create({baseURL:nt}),W=e=>(ee.interceptors.request.use(t=>(t.timeout=60*1e3,e&&(t.headers.fnr=e),t)),ee.interceptors.response.use(t=>t,t=>Promise.reject(t)),ee),Se=()=>{window.location.href=oe.LOGIN_URL+"?redirect="+window.location.origin},he={config:{},isSuspended:!1},V=(e,t=he,n)=>{const[r,o]=_.useState(),[m,u]=_.useState(null),[p,v]=_.useState(L.UNFETCHED),w=W(n);return _.useEffect(()=>{!t.isSuspended&&p===L.UNFETCHED&&(v(L.IN_PROGRESS),w.get(e,t.config).then(E=>{E.data===""?o(void 0):o(E.data),v(L.FINISHED)}).catch(E=>{E.response&&(E.response.status===401||E.response.status===403)?Se():u(E),v(L.FINISHED)}))},[t,e,w,p]),{data:r,error:m,requestStatus:p}},rt=(e,t,n=he)=>{const[r,o]=_.useState(),[m,u]=_.useState(null),[p,v]=_.useState(L.UNFETCHED),w=n.fnr?W(n.fnr):W();return _.useEffect(()=>{!n.isSuspended&&p===L.UNFETCHED&&(v(L.IN_PROGRESS),w.post(e,t,n.config).then(E=>{E.data===""?o(void 0):o(E.data),v(L.FINISHED)}).catch(E=>{E.response&&(E.response.status===401||E.response.status===403)?Se():u(E),v(L.FINISHED)}))},[n,e,w,p,t]),{data:r,error:m,requestStatus:p}},st=()=>{const{data:e,error:t}=V("/sokerinfo",{config:{withCredentials:!0}});return{søkerinfoData:e,søkerinfoError:t}},ot=e=>{const{data:t,error:n}=V("/innsyn/v2/saker",{config:{withCredentials:!0},isSuspended:e});return{sakerData:t,sakerError:n}},at=()=>{const{data:e,error:t}=V("/storage/aktive",{config:{withCredentials:!0},isSuspended:!0});return{storageData:e,storageError:t}},it=(e,t,n,r)=>{const o={annenPartFødselsnummer:e,barnFødselsnummer:t,familiehendelse:n},{data:m,error:u,requestStatus:p}=rt("/innsyn/v2/annenPartVedtak",o,{config:{withCredentials:!0},isSuspended:r});return u&&u.message.includes("Ugyldig ident")?{annenPartsVedtakData:void 0,annenPartsVedtakError:void 0,annenPartsVedtakRequestStatus:L.FINISHED}:{annenPartsVedtakData:m,annenPartsVedtakError:u,annenPartsVedtakRequestStatus:p}},dt=e=>{const{data:t,error:n,requestStatus:r}=V("/dokument/alle",{config:{withCredentials:!0,params:{saksnummer:e}}});return{dokumenterData:t,dokumenterError:n,dokumenterStatus:r}},lt=e=>{const{data:t,error:n}=V("/innsyn/tidslinje",{config:{withCredentials:!0,params:{saksnummer:e}}});return{tidslinjeHendelserData:t,tidslinjeHendelserError:n}},ct=()=>{const{data:e,error:t}=V("/minidialog",{config:{withCredentials:!0}});return{minidialogData:e,minidialogError:t}},ut=e=>{const{data:t,error:n}=V("/historikk/vedlegg",{config:{withCredentials:!0,params:{saksnummer:e}}});return{manglendeVedleggData:t,manglendeVedleggError:n}},ft=(e,t)=>W(t).post("/soknad/ettersend",e,{timeout:30*1e3,withCredentials:!0}),Et=()=>{const{data:e,error:t}=V("/innsyn/v2/saker/oppdatert",{config:{withCredentials:!0}});return{oppdatertData:e,oppdatertError:t}},gt={useSøkerinfo:st,useGetSaker:ot,useGetDokumenter:dt,useGetAnnenPartsVedtak:it,useGetTidslinjeHendelser:lt,useGetMinidialog:ct,useGetManglendeVedlegg:ut,useErSakOppdatert:Et,useGetMellomlagretSøknad:at,sendEttersending:ft};var R={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1,STORYBOOK:"true"};let mt=0;function pt(e,t){const n=`atom${++mt}`,r={toString:()=>n};return typeof e=="function"?r.read=e:(r.init=e,r.read=St,r.write=ht),t&&(r.write=t),r}function St(e){return e(this)}function ht(e,t,n){return t(this,typeof n=="function"?n(e(this)):n)}const te=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,ne=e=>"init"in e,re=e=>!!e.write,Z=new WeakMap,vt=(e,t)=>{Z.set(e,t),e.catch(()=>{}).finally(()=>Z.delete(e))},ce=(e,t)=>{const n=Z.get(e);n&&(Z.delete(e),n(t))},ue=(e,t)=>{e.status="fulfilled",e.value=t},fe=(e,t)=>{e.status="rejected",e.reason=t},_t=e=>typeof(e==null?void 0:e.then)=="function",C=(e,t)=>!!e&&"v"in e&&"v"in t&&Object.is(e.v,t.v),Ee=(e,t)=>!!e&&"e"in e&&"e"in t&&Object.is(e.e,t.e),x=e=>!!e&&"v"in e&&e.v instanceof Promise,At=(e,t)=>"v"in e&&"v"in t&&e.v.orig&&e.v.orig===t.v.orig,J=e=>{if("e"in e)throw e.e;return e.v},Tt=()=>{const e=new WeakMap,t=new WeakMap,n=[],r=new WeakMap;let o,m;(R?"production":void 0)!=="production"&&(o=new Set,m=new Set);const u=s=>e.get(s),p=(s,l)=>{l.d.forEach((f,c)=>{var d;if(!r.has(c)){const a=u(c);(d=n[n.length-1])==null||d.add(c),r.set(c,[a,new Set]),a&&p(c,a)}r.get(c)[1].add(s)})},v=(s,l)=>{var f;(R?"production":void 0)!=="production"&&Object.freeze(l);const c=u(s);if(e.set(s,l),r.has(s)||((f=n[n.length-1])==null||f.add(s),r.set(s,[c,new Set]),p(s,l)),x(c)){const d="v"in l?l.v instanceof Promise?l.v:Promise.resolve(l.v):Promise.reject(l.e);c.v!==d&&ce(c.v,d)}},w=(s,l,f,c)=>{const d=new Map(c?l.d:null);let a=!1;f.forEach((i,g)=>{!i&&te(s,g)&&(i=l),i?(d.set(g,i),l.d.get(g)!==i&&(a=!0)):(R?"production":void 0)!=="production"&&console.warn("[Bug] atom state not found")}),(a||l.d.size!==d.size)&&(l.d=d)},E=(s,l,f,c)=>{const d=u(s),a={d:(d==null?void 0:d.d)||new Map,v:l};if(f&&w(s,a,f,c),C(d,a)&&d.d===a.d)return d;if(x(d)&&x(a)&&At(d,a)){if(d.d===a.d)return d;a.v=d.v}return v(s,a),a},P=(s,l,f,c)=>{if(_t(l)){let d;const a=()=>{const g=u(s);if(!x(g)||g.v!==i)return;const A=E(s,i,f);t.has(s)&&g.d!==A.d&&j(s,A,g.d)},i=new Promise((g,A)=>{let h=!1;l.then(T=>{h||(h=!0,ue(i,T),g(T),a())},T=>{h||(h=!0,fe(i,T),A(T),a())}),d=T=>{h||(h=!0,T.then(G=>ue(i,G),G=>fe(i,G)),g(T))}});return i.orig=l,i.status="pending",vt(i,g=>{g&&d(g),c==null||c()}),E(s,i,f,!0)}return E(s,l,f)},N=(s,l,f)=>{const c=u(s),d={d:(c==null?void 0:c.d)||new Map,e:l};return f&&w(s,d,f),Ee(c,d)&&c.d===d.d?c:(v(s,d),d)},y=(s,l)=>{const f=u(s);if(!l&&f&&(t.has(s)||Array.from(f.d).every(([h,T])=>{if(h===s)return!0;const G=y(h);return G===T||C(G,T)})))return f;const c=new Map;let d=!0;const a=h=>{if(te(s,h)){const G=u(h);if(G)return c.set(h,G),J(G);if(ne(h))return c.set(h,void 0),h.init;throw new Error("no atom init")}const T=y(h);return c.set(h,T),J(T)};let i,g;const A={get signal(){return i||(i=new AbortController),i.signal},get setSelf(){return(R?"production":void 0)!=="production"&&!re(s)&&console.warn("setSelf function cannot be used with read-only atom"),!g&&re(s)&&(g=(...h)=>{if((R?"production":void 0)!=="production"&&d&&console.warn("setSelf function cannot be called in sync"),!d)return I(s,...h)}),g}};try{const h=s.read(a,A);return P(s,h,c,()=>i==null?void 0:i.abort())}catch(h){return N(s,h,c)}finally{d=!1}},K=s=>J(y(s)),B=s=>{const l=i=>{var g,A;const h=new Set((g=t.get(i))==null?void 0:g.t);return(A=r.get(i))==null||A[1].forEach(T=>{h.add(T)}),h},f=new Array,c=new Set,d=i=>{if(!c.has(i)){c.add(i);for(const g of l(i))i!==g&&d(g);f.push(i)}};d(s);const a=new Set([s]);for(let i=f.length-1;i>=0;--i){const g=f[i],A=u(g);if(!A)continue;let h=!1;for(const T of A.d.keys())if(T!==g&&a.has(T)){h=!0;break}if(h){const T=y(g,!0);C(A,T)||a.add(g)}}},U=(s,...l)=>{const f=a=>J(y(a)),c=(a,...i)=>{const g=n.length>0;g||n.push(new Set([a]));let A;if(te(s,a)){if(!ne(a))throw new Error("atom not writable");const h=u(a),T=P(a,i[0]);C(h,T)||B(a)}else A=U(a,...i);if(!g){const h=H(n.pop());(R?"production":void 0)!=="production"&&o.forEach(T=>T({type:"async-write",flushed:h}))}return A};return s.write(f,c,...l)},I=(s,...l)=>{n.push(new Set([s]));const f=U(s,...l),c=H(n.pop());return(R?"production":void 0)!=="production"&&o.forEach(d=>d({type:"write",flushed:c})),f},b=(s,l,f)=>{var c;const d=t.get(s);if(d)return l&&d.t.add(l),d;const a=f||[];(c=u(s))==null||c.d.forEach((g,A)=>{A!==s&&b(A,s,a)}),y(s);const i={t:new Set(l&&[l]),l:new Set};if(t.set(s,i),(R?"production":void 0)!=="production"&&m.add(s),re(s)&&s.onMount){const{onMount:g}=s;a.push(()=>{const A=g((...h)=>I(s,...h));A&&(i.u=A)})}return f||a.forEach(g=>g()),i},Q=(s,l)=>!l.l.size&&(!l.t.size||l.t.size===1&&l.t.has(s)),O=(s,l)=>{if(!Q(s,l))return;const f=l.u;f&&f(),t.delete(s),(R?"production":void 0)!=="production"&&m.delete(s);const c=u(s);c?(x(c)&&ce(c.v),c.d.forEach((d,a)=>{if(a!==s){const i=t.get(a);i&&(i.t.delete(s),O(a,i))}})):(R?"production":void 0)!=="production"&&console.warn("[Bug] could not find atom state to unmount",s)},j=(s,l,f)=>{const c=new Set(l.d.keys()),d=new Set;f==null||f.forEach((a,i)=>{if(c.has(i)){c.delete(i);return}d.add(i);const g=t.get(i);g&&g.t.delete(s)}),c.forEach(a=>{b(a,s)}),d.forEach(a=>{const i=t.get(a);i&&O(a,i)})},H=s=>{let l;(R?"production":void 0)!=="production"&&(l=new Set);const f=[],c=d=>{var a;if(!r.has(d))return;const[i,g]=r.get(d);r.delete(d),f.push([d,i]),g.forEach(c),(a=u(d))==null||a.d.forEach((A,h)=>c(h))};if(s.forEach(c),f.forEach(([d,a])=>{const i=u(d);if(!i){(R?"production":void 0)!=="production"&&console.warn("[Bug] no atom state to flush");return}if(i!==a){const g=t.get(d);g&&i.d!==(a==null?void 0:a.d)&&j(d,i,a==null?void 0:a.d),g&&!(!x(a)&&(C(a,i)||Ee(a,i)))&&(g.l.forEach(A=>A()),(R?"production":void 0)!=="production"&&l.add(d))}}),(R?"production":void 0)!=="production")return l},ie=(s,l)=>{const f=b(s),c=H([s]),d=f.l;return d.add(l),(R?"production":void 0)!=="production"&&o.forEach(a=>a({type:"sub",flushed:c})),()=>{d.delete(l),O(s,f),(R?"production":void 0)!=="production"&&o.forEach(a=>a({type:"unsub"}))}};return(R?"production":void 0)!=="production"?{get:K,set:I,sub:ie,dev_subscribe_store:s=>(o.add(s),()=>{o.delete(s)}),dev_get_mounted_atoms:()=>m.values(),dev_get_atom_state:s=>e.get(s),dev_get_mounted:s=>t.get(s),dev_restore_atoms:s=>{n.push(new Set);for(const[f,c]of s)ne(f)&&(P(f,c),B(f));const l=H(n.pop());o.forEach(f=>f({type:"restore",flushed:l}))}}:{get:K,set:I,sub:ie}};let $;const kt=()=>($||($=Tt(),(R?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=$),globalThis.__JOTAI_DEFAULT_STORE__!==$&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),$),wt=kt;var Dt={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1,STORYBOOK:"true"};const Rt=_.createContext(void 0),ve=e=>{const t=_.useContext(Rt);return(e==null?void 0:e.store)||t||wt()},It=e=>typeof(e==null?void 0:e.then)=="function",Ot=F.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)});function Nt(e,t){const n=ve(t),[[r,o,m],u]=_.useReducer(w=>{const E=n.get(e);return Object.is(w[0],E)&&w[1]===n&&w[2]===e?w:[E,n,e]},void 0,()=>[n.get(e),n,e]);let p=r;(o!==n||m!==e)&&(u(),p=n.get(e));const v=t==null?void 0:t.delay;return _.useEffect(()=>{const w=n.sub(e,()=>{if(typeof v=="number"){setTimeout(u,v);return}u()});return u(),w},[n,e,v]),_.useDebugValue(p),It(p)?Ot(p):p}function Lt(e,t){const n=ve(t);return _.useCallback((...o)=>{if((Dt?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return n.set(e,...o)},[n,e])}var ae=(e=>(e.HOVEDSIDE="/",e.SAKSOVERSIKT="/sak",e.DIN_PLAN="din-plan",e.DOKUMENTER="dokumenter",e.ETTERSEND="ettersend",e.TIDSLINJEN="tidslinjen",e.OPPGAVER="oppgaver",e))(ae||{}),bt=(e=>(e.SAKSBEHANDLINGSTIDER="https://www.nav.no/saksbehandlingstider",e.SAKSBEHANDLINGSTIDER_FP="https://www.nav.no/saksbehandlingstider#foreldrepenger",e.SAKSBEHANDLINGSTIDER_SVP="https://www.nav.no/saksbehandlingstider#svangerskapspenger",e.SAKSBEHANDLINGSTIDER_ES="https://www.nav.no/saksbehandlingstider#engangsstonad",e.KLAGERETTIGHETER="https://www.nav.no/klage",e.KLAGERETTIGHETER_FP="https://www.nav.no/klage#foreldrepenger",e.KLAGERETTIGHETER_SVP="https://www.nav.no/klage#svangerskapspenger",e.KLAGERETTIGHETER_ES="https://www.nav.no/klage#engangsstonad",e.CHAT_MED_OSS="https://www.nav.no/person/kontakt-oss/chat/familie",e.SKRIV_TIL_OSS="https://innboks.nav.no/s/skriv-til-oss?category=Familie",e.RING_OSS="tel:55553333",e.SE_FLERE_TLF_NR_OG_TASTEVALG="https://www.nav.no/kontaktoss#ring-oss",e.LES_MER_OM_VÅRE_PENGESTØTTER="https://www.nav.no/barn",e.LES_MER_OM_FORELDREPENGER="https://www.nav.no/foreldrepenger",e.LES_MER_OM_SVANGERSKAPSPENGER="https://familie.nav.no/om-svangerskapspenger",e.LES_MER_OM_ENGANGSTØNAD="https://familie.nav.no/om-engangsstonad",e.MELD_FRA_OM_ENDRINGER="https://www.nav.no/no/nav-og-samfunn/om-nav/relatert-informasjon/du-har-plikt-til-a-gi-nav-riktige-opplysninger",e.VENT_INNTEKTSMELDING="https://www.nav.no/arbeidsgiver/inntektsmelding",e.VENT_MELDEKORT="https://www.nav.no/no/person/arbeid/dagpenger-ved-arbeidsloshet-og-permittering/meldekort-hvordan-gjor-du-det",e.SØKNADSFRISTER="https://www.nav.no/foreldrepenger#for-soknad",e.FORELDREPENGESOKNAD="https://foreldrepengesoknad.nav.no",e.HVOR_LENGE="https://www.nav.no/foreldrepenger#hvor-lenge",e))(bt||{});const _e=pt(ae.HOVEDSIDE),cn=()=>Nt(_e),yt=e=>{const t=Lt(_e);_.useEffect(()=>{t(e)},[t,e])};D.extend(Ne);D.extend(je);D.extend(Le);D.extend(be);const Gt=(e,t)=>D(e).format(t||"dddd D. MMMM YYYY"),un=e=>Gt(e,"KL.HH:mm"),fn=e=>e.format("MMM").substr(0,3),Ft=e=>{const t=Math.floor(e/5);return{dager:e-t*5,uker:t}},En=(e,t,n="full")=>{const{uker:r,dager:o}=Ft(Math.abs(e)),m=t.formatMessage({id:"varighet.dager"},{dager:o});if(r===0)return m;const u=t.formatMessage({id:"varighet.uker"},{uker:r});if(o>0){const p=n==="full"?t.formatMessage({id:"varighet.separator--full"}):t.formatMessage({id:"varighet.separator--normal"});return`${u}${p}${m}`}return u},Mt=e=>e.fom!==void 0&&e.tom!==void 0&&D(e.fom).isSameOrBefore(e.tom,"day"),ge=e=>D(e).isoWeekday(),Pt=e=>ge(e)!==6&&ge(e)!==7,gn=e=>{if(!Mt(e))return 0;let t=D(e.fom);const n=D(e.tom);let r=0;for(;t.isSameOrBefore(n,"day");)Pt(t.toDate())&&r++,t=t.add(24,"hours");return r},Y=e=>{if(e!==void 0&&ye(e)&&D(e,"YYYY-MM-DD",!0).isValid())return D.utc(e).toDate()},jt=(e,t)=>e===void 0||t===void 0?!1:D(e).isSameOrAfter(D(t).subtract(1,"day"),"day")&&D(e).isSameOrBefore(D(t).add(1,"day"),"day"),Kt=e=>{const t=e.charAt(e.length-1).toLowerCase();return t==="s"||t==="x"||t==="z"},mn=(e,t)=>t!=="nb"?e:Kt(e)?`${e}'`:`${e}s`,pn=(e,t,n)=>{const r=!e.sakTilhørerMor;return{farMedmor:r?t:n,mor:r?n:t}},Vt=e=>!e.dødsdato,Ae=e=>[...e.engangsstønad,...e.foreldrepenger,...e.svangerskapspenger];function Bt(e,t){return D(e.fødselsdato).isAfter(t.fødselsdato,"d")?1:D(e.fødselsdato).isBefore(t.fødselsdato,"d")||e.fornavn<t.fornavn?-1:1}const Sn=e=>{var t;if(e.gjeldendeVedtak&&e.gjeldendeVedtak.perioder.length>0)return Y(e.gjeldendeVedtak.perioder[0].fom);if(e.åpenBehandling&&e.åpenBehandling.søknadsperioder)return Y((t=e.åpenBehandling)==null?void 0:t.søknadsperioder[0].fom)},xt=(e,t)=>{const n=e.ytelse===M.FORELDREPENGER,r=n&&e.barn!==void 0?e.barn.map(E=>E.fnr).flat():[],o=n&&t?t.filter(E=>r.includes(E.fnr)):[],m=Y(e.familiehendelse.fødselsdato),u=m!==void 0&&t?t.filter(E=>jt(Y(E.fødselsdato),m)&&!(o!=null&&o.find(P=>P.fnr===E.fnr))):[],p=o.concat(u);p.sort(Bt);const v=p.filter(E=>E.fødselsdato!==void 0).map(E=>Y(E.fødselsdato));let w=[];return v&&v.length>0?w=v:m&&(w=[m]),{fornavn:p==null?void 0:p.filter(E=>E.fornavn!==void 0&&E.fornavn.trim()!=="").map(E=>[E.fornavn,E.mellomnavn!==void 0?E.mellomnavn:""].join(" ")),fødselsdatoer:w,alleBarnaLever:!!(p!=null&&p.every(E=>Vt(E)))}},hn=(e,t)=>Ae(t).reduce((r,o)=>{if(o.familiehendelse){const m=Ct(o.familiehendelse),u=r.find(p=>Ut(p,m));if(u&&u.saker.push(o),u&&r.includes(u))return r;{const p=Ht(o.familiehendelse,o.gjelderAdopsjon),v={antallBarn:o.familiehendelse.antallBarn,familiehendelsedato:m,saker:[o],type:p,ytelse:o.ytelse,barn:p!=="termin"?xt(o,e):void 0};return r.push(v),r}}else return r},[]),se=(e,t)=>t===M.ENGANGSSTØNAD?e.map(n=>({...n,ytelse:t})):t===M.SVANGERSKAPSPENGER?e.map(n=>({...n,ytelse:t})):e.map(n=>({...n,ytelse:t})),vn=e=>({foreldrepenger:se(e.foreldrepenger,M.FORELDREPENGER),engangsstønad:se(e.engangsstønad,M.ENGANGSSTØNAD),svangerskapspenger:se(e.svangerskapspenger,M.SVANGERSKAPSPENGER)}),_n=e=>{const{foreldrepenger:t,svangerskapspenger:n,engangsstønad:r}=e;return t.length+n.length+r.length},Ut=(e,t)=>{const n=D(t).subtract(2,"months"),r=D(t).add(3,"weeks");if(e)return D(e.familiehendelsedato).isAfter(n)&&D(e.familiehendelsedato).isSameOrBefore(r)},Ht=(e,t)=>{if(t)return"adopsjon";const{fødselsdato:n}=e;return n?"fødsel":"termin"},Ct=e=>{const{fødselsdato:t,termindato:n,omsorgsovertakelse:r}=e;return r||t||n},An=(e,t)=>{const n=t&&t.familiehendelse?t.familiehendelse.fødselsdato:void 0,r=e.søker.barn&&n?e.søker.barn.find(m=>D(m.fødselsdato).isSame(n,"d")):void 0,o=r&&r.annenForelder?r.annenForelder.fornavn:void 0;return o!==void 0&&o.trim()!==""?o:"Annen forelder"},$t=(e,t)=>e===1||e===0?t.formatMessage({id:"barn"}):e===2?t.formatMessage({id:"tvillinger"}):e===3?t.formatMessage({id:"trillinger"}):t.formatMessage({id:"flerlinger"}),Te=e=>{if(e===void 0)return;const t=[];if(e.forEach(n=>{t.find(o=>D(o).isSame(n,"day"))===void 0&&t.push(n)}),t.length>1){const n=t.map(m=>q(m)),r=n.slice(0,-1).join(", "),o=n[n.length-1];return`${r} og ${o}`}return q(t[0])},Yt=(e,t,n,r,o)=>{const m=$t(n,r);if(n===0&&t===void 0||o==="termin")return r.formatMessage({id:"barnHeader.terminBarn"},{barnTekst:m,termindato:q(e)});if(o==="adopsjon")return r.formatMessage({id:"barnHeader.adoptertBarn"},{adopsjonsdato:q(e)});{const u=Te(t);return t!==void 0&&t.length>0?r.formatMessage({id:"barnHeader.fødtBarn"},{barnTekst:m,fødselsdatoTekst:u}):""}},qt=e=>{if(e.length>1){const t=e.map(r=>r.trim()).slice(0,-1).join(", "),n=e[e.length-1];return`${t} og ${n}`}else return`${e[0]}`},Tn=(e,t,n,r,o,m,u)=>{if(e===void 0||e.length===0||!r)return Yt(n,t,o,m,u);const p=qt(e);if(u==="fødsel"){const v=Te(t);return`${p} født ${v}`}return u==="adopsjon"?`${p} adoptert ${q(n)}`:""};var zt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n};const Jt=_.forwardRef((e,t)=>{var{title:n,titleId:r}=e,o=zt(e,["title","titleId"]);let m=Ze();return m=n?r||"title-"+m:void 0,_.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:t,"aria-labelledby":m},o),n?_.createElement("title",{id:m},n):null,_.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 13v8h2v-8h8v-2h-8V3h-2v8H3v2h8Z",fill:"currentColor"}))}),Wt=Jt,ke=e=>{const t=Object.values(S);return e.ytelse===M.FORELDREPENGER?e.kanSøkeOmEndring?t.filter(Xt):t.filter(Zt):e.ytelse===M.ENGANGSSTØNAD?t.filter(en):t.filter(Qt)},Zt=e=>{switch(e){case S.SKJEMA_FOR_TILRETTELEGGING_OG_OMPLASSERING:case S.DEPRECATED_TERMINBEKREFTELSE:case S.DEPRECATED_BEKREFTELSE_DELTAR_KVALIFISERINGSPROGRAM:case S.DEPRECATED_DOK_BEGRUNNELSE_SØKE_TILBAKE_I_TID:return!1;default:return!0}},Xt=e=>{switch(e){case S.ANNET:case S.BEKREFTELSE_DELTAR_KVALIFISERINGSPROGRAM:case S.BEKREFTELSE_FRA_ARBEIDSGIVER:case S.BEKREFTELSE_PÅ_AVTALT_FERIE:case S.DOK_AV_ALENEOMSORG:case S.DOK_BEGRUNNELSE_SØKE_TILBAKE_I_TID:case S.DOK_DELTAKELSE_I_INTRODUKSJONSPROGRAMMET:case S.DOK_INNLEGGELSE_BARN:case S.DOK_INNLEGGELSE_MOR:case S.DOK_INNLEGGELSE_FAR:case S.DOK_SYKDOM_MOR:case S.DOK_SYKDOM_FAR:case S.DOK_UTDANNING_MOR:case S.DOK_UTDANNING_OG_ARBEID_MOR:case S.DOK_ARBEID_MOR:case S.OMSORGSOVERTAKELSE:case S.TILBAKEBETALING:case S.HV_ØVELSE:case S.NAV_TILTAK:case S.TERMINBEKREFTELSE:case S.DEPRECATED_TILBAKEBETALING:case S.DEPRECATED_KOPI_SKATTEMELDING:return!0;default:return!1}},Qt=e=>{switch(e){case S.ANNET:case S.DOK_MILITÆR_SILVIL_TJENESTE:case S.INNTEKTSOPPLYSNINGER_FRILANS_ELLER_SELVSTENDIG:case S.SKJEMA_FOR_TILRETTELEGGING_OG_OMPLASSERING:case S.TILBAKEBETALING:case S.TERMINBEKREFTELSE:case S.SKATTEMELDING:case S.RESULTATREGNSKAP:return!0;default:return!1}},en=e=>{switch(e){case S.ANNET:case S.TERMINBEKREFTELSE:case S.FØDSELSATTEST:case S.TILBAKEBETALING:return!0;default:return!1}},tn=e=>e===M.ENGANGSSTØNAD?"engangsstonad":e===M.FORELDREPENGER?"foreldrepenger":"svangerskapspenger",X="default",we=(e,t)=>t?k.jsxs(k.Fragment,{children:[k.jsx("option",{value:X,disabled:!1,hidden:!1,children:k.jsx(pe,{id:"ettersendelse.select.defaultValue"})}),ke(t).map(n=>({skjemanummer:n,text:e.formatMessage({id:`ettersendelse.${n}`})})).sort((n,r)=>n.text.localeCompare(r.text)).map(({skjemanummer:n,text:r})=>k.jsx("option",{value:n,children:r},n))]}):null,nn=e=>{if(e===X)return e;const t=Object.values(S).find(n=>n===e);if(t)return t;throw Error("Valgt skjemanr finnes ikke")},De=({saker:e})=>{const t=Ke();Xe(`${t.formatMessage({id:"lastOppDokumenter"})} - ${t.formatMessage({id:"dineForeldrepenger"})}`),yt(ae.ETTERSEND);const n=Ce(),r=Pe("ettersending-page"),[o,m]=_.useState(!1),[u,p]=_.useState(!1),[v,w]=_.useState(void 0),[E,P]=_.useState(X),[N,y]=_.useState([]),[K,B]=_.useState(!1),I=Ae(e).find(O=>O.saksnummer===n.saksnummer),b=(O,j)=>{y(O),B(j)},Q=O=>{O.preventDefault(),m(!0);const j={saksnummer:I.saksnummer,type:I.ytelse,vedlegg:N};gt.sendEttersending(j).then(()=>{m(!1),p(!0)}).catch(H=>{m(!1),w("Vi klarte ikke å sende inn dokumentasjonen din. Prøv igjen senere og hvis problemet vedvarer kontakt brukerstøtte.")})};return u||v?k.jsxs(k.Fragment,{children:[k.jsx($e,{}),k.jsxs(de,{gap:"2",children:[u&&k.jsx(le,{variant:"success",children:"Dokumentene er sendt"}),v&&k.jsx(le,{variant:"error",children:v}),k.jsx(Ye,{to:`/sak/${I.saksnummer}`,children:k.jsx(pe,{id:"miniDialog.kvittering.gåTilbakeTilSaken"})})]})]}):k.jsx("form",{onSubmit:Q,children:k.jsxs(de,{gap:"4",children:[k.jsx(Ge,{children:"Dokumentene du laster opp vil bli lagt ved søknaden din. Du må velge hva dokumentene inneholder for at saksbehandlerene i NAV skal kunne behandle saken din."}),k.jsx(me,{children:"Du kan laste opp dokumenter i formatene pdf, png og jpg."}),k.jsx(Fe,{target:"_blank",href:"https://www.nav.no/brukerstotte#sende-soknad-pa-nett",children:"Les om hvordan du kan ta bilde av dokumenter med mobilen"}),k.jsx(tt,{className:r.element("select"),label:"Hva inneholder dokumentene dine?",onChange:O=>P(nn(O.target.value)),children:we(t,I)}),E!==X&&k.jsx(Ve,{updateAttachments:b,attachmentType:qe.MORS_AKTIVITET_DOKUMENTASJON,skjemanummer:E,existingAttachments:N,saveAttachment:ze(oe.REST_API_URL,tn(I.ytelse)),skjemanummerTextMap:I?ke(I).reduce((O,j)=>({...O,[j]:t.formatMessage({id:`ettersendelse.${j}`})}),{}):void 0}),N&&N.length>0&&N.length<=40&&k.jsx(Me,{children:k.jsx(Be,{type:"submit",icon:k.jsx(Wt,{"aria-hidden":!0}),loading:o||K,disabled:o||K,children:"Legg ved sak"})}),N&&N.length>40&&k.jsx(Je,{children:"Du kan bare laste opp 40 dokumenter på en gang. Hvis du skal laste opp flere enn 40 dokumenter kan du gjøre det i flere omganger."})]})})},kn=De;we.__docgenInfo={description:"",methods:[],displayName:"getAttachmentTypeSelectOptions"};De.__docgenInfo={description:"",methods:[],displayName:"EttersendingPage"};export{gt as A,kn as E,Y as I,bt as N,ae as O,L as R,pt as a,Lt as b,cn as c,Ht as d,Tn as e,mn as f,Ct as g,gn as h,En as i,pn as j,yt as k,Xe as l,fn as m,An as n,Ae as o,qt as p,Gt as q,un as r,Sn as s,xt as t,Nt as u,_n as v,hn as w,vn as x,ee as y};
