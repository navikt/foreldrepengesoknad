import{d as l}from"./dates-TdbGqddN.js";import{g as mr}from"./index-BX3iQpgp.js";import{i as rr,a as er,b as nr,c as $r,d as tr,_ as ar,e as _r,f as Ar,g as hr,h as sr,j as br,k as Pr,l as Sr,m as Or,n as Er,B as M}from"./_getTag-CkXgi8rB.js";import{e as Tr,i as Fr,g as Mr,h as Br,j as wr,a as h}from"./UttaksdagenString-Dd6xBUPd.js";import{Y as y}from"./Ytelse-7td-ciMh.js";function Lr(r,e){for(var n=-1,t=e.length,s=r.length;++n<t;)r[s+n]=e[n];return r}var Dr=Lr,Gr=Array.isArray,p=Gr,Ir=Dr,Kr=p;function xr(r,e,n){var t=e(r);return Kr(r)?t:Ir(t,n(r))}var Cr=xr;function Rr(r,e){for(var n=-1,t=r==null?0:r.length,s=0,a=[];++n<t;){var i=r[n];e(i,n,r)&&(a[s++]=i)}return a}var Nr=Rr;function Yr(){return[]}var qr=Yr,Ur=Nr,Hr=qr,Xr=Object.prototype,kr=Xr.propertyIsEnumerable,R=Object.getOwnPropertySymbols,Zr=R?function(r){return r==null?[]:(r=Object(r),Ur(R(r),function(e){return kr.call(r,e)}))}:Hr,zr=Zr;function Jr(r,e){for(var n=-1,t=Array(r);++n<r;)t[n]=e(n);return t}var Qr=Jr,Wr=9007199254740991,jr=/^(?:0|[1-9]\d*)$/;function Vr(r,e){var n=typeof r;return e=e??Wr,!!e&&(n=="number"||n!="symbol"&&jr.test(r))&&r>-1&&r%1==0&&r<e}var ir=Vr,re=Qr,ee=rr,ne=p,te=er,ae=ir,se=nr,ie=Object.prototype,fe=ie.hasOwnProperty;function oe(r,e){var n=ne(r),t=!n&&ee(r),s=!n&&!t&&te(r),a=!n&&!t&&!s&&se(r),i=n||t||s||a,f=i?re(r.length,String):[],o=f.length;for(var u in r)(e||fe.call(r,u))&&!(i&&(u=="length"||s&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||ae(u,o)))&&f.push(u);return f}var ue=oe,de=Object.prototype;function le(r){var e=r&&r.constructor,n=typeof e=="function"&&e.prototype||de;return r===n}var ce=le;function ge(r,e){return function(n){return r(e(n))}}var pe=ge,ve=pe,ye=ve(Object.keys,Object),me=ye,$e=ce,_e=me,Ae=Object.prototype,he=Ae.hasOwnProperty;function be(r){if(!$e(r))return _e(r);var e=[];for(var n in Object(r))he.call(r,n)&&n!="constructor"&&e.push(n);return e}var Pe=be,Se=$r,Oe=tr;function Ee(r){return r!=null&&Oe(r.length)&&!Se(r)}var D=Ee,Te=ue,Fe=Pe,Me=D;function Be(r){return Me(r)?Te(r):Fe(r)}var G=Be,we=Cr,Le=zr,De=G;function Ge(r){return we(r,De,Le)}var Ie=Ge,N=Ie,Ke=1,xe=Object.prototype,Ce=xe.hasOwnProperty;function Re(r,e,n,t,s,a){var i=n&Ke,f=N(r),o=f.length,u=N(e),d=u.length;if(o!=d&&!i)return!1;for(var g=o;g--;){var c=f[g];if(!(i?c in e:Ce.call(e,c)))return!1}var $=a.get(r),_=a.get(e);if($&&_)return $==e&&_==r;var v=!0;a.set(r,e),a.set(e,r);for(var A=i;++g<o;){c=f[g];var b=r[c],P=e[c];if(t)var C=i?t(P,b,c,e,r,a):t(b,P,c,r,e,a);if(!(C===void 0?b===P||s(b,P,n,t,a):C)){v=!1;break}A||(A=c=="constructor")}if(v&&!A){var S=r.constructor,O=e.constructor;S!=O&&"constructor"in r&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof O=="function"&&O instanceof O)&&(v=!1)}return a.delete(r),a.delete(e),v}var Ne=Re,B=ar,Ye=_r,qe=Ar,Ue=Ne,Y=hr,q=p,U=er,He=nr,Xe=1,H="[object Arguments]",X="[object Array]",E="[object Object]",ke=Object.prototype,k=ke.hasOwnProperty;function Ze(r,e,n,t,s,a){var i=q(r),f=q(e),o=i?X:Y(r),u=f?X:Y(e);o=o==H?E:o,u=u==H?E:u;var d=o==E,g=u==E,c=o==u;if(c&&U(r)){if(!U(e))return!1;i=!0,d=!1}if(c&&!d)return a||(a=new B),i||He(r)?Ye(r,e,n,t,s,a):qe(r,e,o,n,t,s,a);if(!(n&Xe)){var $=d&&k.call(r,"__wrapped__"),_=g&&k.call(e,"__wrapped__");if($||_){var v=$?r.value():r,A=_?e.value():e;return a||(a=new B),s(v,A,n,t,a)}}return c?(a||(a=new B),Ue(r,e,n,t,s,a)):!1}var ze=Ze,Je=ze,Z=sr;function fr(r,e,n,t,s){return r===e?!0:r==null||e==null||!Z(r)&&!Z(e)?r!==r&&e!==e:Je(r,e,n,t,fr,s)}var or=fr;function Qe(r,e){for(var n=-1,t=r==null?0:r.length,s=Array(t);++n<t;)s[n]=e(r[n],n,r);return s}var ur=Qe,We=br,je=sr,Ve="[object Symbol]";function rn(r){return typeof r=="symbol"||je(r)&&We(r)==Ve}var T=rn,en=p,nn=T,tn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,an=/^\w*$/;function sn(r,e){if(en(r))return!1;var n=typeof r;return n=="number"||n=="symbol"||n=="boolean"||r==null||nn(r)?!0:an.test(r)||!tn.test(r)||e!=null&&r in Object(e)}var I=sn,dr=Pr,fn="Expected a function";function K(r,e){if(typeof r!="function"||e!=null&&typeof e!="function")throw new TypeError(fn);var n=function(){var t=arguments,s=e?e.apply(this,t):t[0],a=n.cache;if(a.has(s))return a.get(s);var i=r.apply(this,t);return n.cache=a.set(s,i)||a,i};return n.cache=new(K.Cache||dr),n}K.Cache=dr;var on=K,un=on,dn=500;function ln(r){var e=un(r,function(t){return n.size===dn&&n.clear(),t}),n=e.cache;return e}var cn=ln,gn=cn,pn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vn=/\\(\\)?/g,yn=gn(function(r){var e=[];return r.charCodeAt(0)===46&&e.push(""),r.replace(pn,function(n,t,s,a){e.push(s?a.replace(vn,"$1"):t||n)}),e}),mn=yn,z=Sr,$n=ur,_n=p,An=T,J=z?z.prototype:void 0,Q=J?J.toString:void 0;function lr(r){if(typeof r=="string")return r;if(_n(r))return $n(r,lr)+"";if(An(r))return Q?Q.call(r):"";var e=r+"";return e=="0"&&1/r==-1/0?"-0":e}var hn=lr,bn=hn;function Pn(r){return r==null?"":bn(r)}var Sn=Pn,On=p,En=I,Tn=mn,Fn=Sn;function Mn(r,e){return On(r)?r:En(r,e)?[r]:Tn(Fn(r))}var cr=Mn,Bn=T;function wn(r){if(typeof r=="string"||Bn(r))return r;var e=r+"";return e=="0"&&1/r==-1/0?"-0":e}var F=wn,Ln=cr,Dn=F;function Gn(r,e){e=Ln(e,r);for(var n=0,t=e.length;r!=null&&n<t;)r=r[Dn(e[n++])];return n&&n==t?r:void 0}var x=Gn,In=ar,Kn=or,xn=1,Cn=2;function Rn(r,e,n,t){var s=n.length,a=s,i=!t;if(r==null)return!a;for(r=Object(r);s--;){var f=n[s];if(i&&f[2]?f[1]!==r[f[0]]:!(f[0]in r))return!1}for(;++s<a;){f=n[s];var o=f[0],u=r[o],d=f[1];if(i&&f[2]){if(u===void 0&&!(o in r))return!1}else{var g=new In;if(t)var c=t(u,d,o,r,e,g);if(!(c===void 0?Kn(d,u,xn|Cn,t,g):c))return!1}}return!0}var Nn=Rn,Yn=Or;function qn(r){return r===r&&!Yn(r)}var gr=qn,Un=gr,Hn=G;function Xn(r){for(var e=Hn(r),n=e.length;n--;){var t=e[n],s=r[t];e[n]=[t,s,Un(s)]}return e}var kn=Xn;function Zn(r,e){return function(n){return n==null?!1:n[r]===e&&(e!==void 0||r in Object(n))}}var pr=Zn,zn=Nn,Jn=kn,Qn=pr;function Wn(r){var e=Jn(r);return e.length==1&&e[0][2]?Qn(e[0][0],e[0][1]):function(n){return n===r||zn(n,r,e)}}var jn=Wn,Vn=x;function rt(r,e,n){var t=r==null?void 0:Vn(r,e);return t===void 0?n:t}var et=rt;function nt(r,e){return r!=null&&e in Object(r)}var tt=nt,at=cr,st=rr,it=p,ft=ir,ot=tr,ut=F;function dt(r,e,n){e=at(e,r);for(var t=-1,s=e.length,a=!1;++t<s;){var i=ut(e[t]);if(!(a=r!=null&&n(r,i)))break;r=r[i]}return a||++t!=s?a:(s=r==null?0:r.length,!!s&&ot(s)&&ft(i,s)&&(it(r)||st(r)))}var lt=dt,ct=tt,gt=lt;function pt(r,e){return r!=null&&gt(r,e,ct)}var vt=pt,yt=or,mt=et,$t=vt,_t=I,At=gr,ht=pr,bt=F,Pt=1,St=2;function Ot(r,e){return _t(r)&&At(e)?ht(bt(r),e):function(n){var t=mt(n,r);return t===void 0&&t===e?$t(n,r):yt(e,t,Pt|St)}}var Et=Ot;function Tt(r){return r}var vr=Tt;function Ft(r){return function(e){return e==null?void 0:e[r]}}var Mt=Ft,Bt=x;function wt(r){return function(e){return Bt(e,r)}}var Lt=wt,Dt=Mt,Gt=Lt,It=I,Kt=F;function xt(r){return It(r)?Dt(Kt(r)):Gt(r)}var Ct=xt,Rt=jn,Nt=Et,Yt=vr,qt=p,Ut=Ct;function Ht(r){return typeof r=="function"?r:r==null?Yt:typeof r=="object"?qt(r)?Nt(r[0],r[1]):Rt(r):Ut(r)}var Xt=Ht;function kt(r){return function(e,n,t){for(var s=-1,a=Object(e),i=t(e),f=i.length;f--;){var o=i[r?f:++s];if(n(a[o],o,a)===!1)break}return e}}var Zt=kt,zt=Zt,Jt=zt(),Qt=Jt,Wt=Qt,jt=G;function Vt(r,e){return r&&Wt(r,e,jt)}var ra=Vt,ea=D;function na(r,e){return function(n,t){if(n==null)return n;if(!ea(n))return r(n,t);for(var s=n.length,a=e?s:-1,i=Object(n);(e?a--:++a<s)&&t(i[a],a,i)!==!1;);return n}}var ta=na,aa=ra,sa=ta,ia=sa(aa),fa=ia,oa=fa,ua=D;function da(r,e){var n=-1,t=ua(r)?Array(r.length):[];return oa(r,function(s,a,i){t[++n]=e(s,a,i)}),t}var la=da;function ca(r,e){var n=r.length;for(r.sort(e);n--;)r[n]=r[n].value;return r}var ga=ca,W=T;function pa(r,e){if(r!==e){var n=r!==void 0,t=r===null,s=r===r,a=W(r),i=e!==void 0,f=e===null,o=e===e,u=W(e);if(!f&&!u&&!a&&r>e||a&&i&&o&&!f&&!u||t&&i&&o||!n&&o||!s)return 1;if(!t&&!a&&!u&&r<e||u&&n&&s&&!t&&!a||f&&n&&s||!i&&s||!o)return-1}return 0}var va=pa,ya=va;function ma(r,e,n){for(var t=-1,s=r.criteria,a=e.criteria,i=s.length,f=n.length;++t<i;){var o=ya(s[t],a[t]);if(o){if(t>=f)return o;var u=n[t];return o*(u=="desc"?-1:1)}}return r.index-e.index}var $a=ma,w=ur,_a=x,Aa=Xt,ha=la,ba=ga,Pa=Er,Sa=$a,Oa=vr,Ea=p;function Ta(r,e,n){e.length?e=w(e,function(a){return Ea(a)?function(i){return _a(i,a.length===1?a[0]:a)}:a}):e=[Oa];var t=-1;e=w(e,Pa(Aa));var s=ha(r,function(a,i,f){var o=w(e,function(u){return u(a)});return{criteria:o,index:++t,value:a}});return ba(s,function(a,i){return Sa(a,i,n)})}var Fa=Ta,Ma=Fa,j=p;function Ba(r,e,n,t){return r==null?[]:(j(e)||(e=e==null?[]:[e]),n=t?void 0:n,j(n)||(n=n==null?[]:[n]),Ma(r,e,n))}var wa=Ba;const La=mr(wa);l.extend(Tr);l.extend(Fr);l.extend(Mr);l.extend(Br);const Da=(r,e)=>l(r).format(e||"dddd D. MMMM YYYY"),Ja=r=>Da(r,"KL.HH:mm"),m=r=>{if(r!==void 0&&wr(r)&&l(r,"YYYY-MM-DD",!0).isValid())return l.utc(r).toDate()},Ga=(r,e)=>r===void 0||e===void 0?!1:l(r).isSameOrAfter(l(e).subtract(1,"day"),"day")&&l(r).isSameOrBefore(l(e).add(1,"day"),"day"),Qa=(r,e,n)=>{const t=!r.sakTilhørerMor;return{farMedmor:t?e:n,mor:t?n:e}},Ia=r=>!r.dødsdato,Ka=r=>[...r.engangsstønad,...r.foreldrepenger,...r.svangerskapspenger];function xa(r,e){return l(r.fødselsdato).isAfter(e.fødselsdato,"d")?1:l(r.fødselsdato).isBefore(e.fødselsdato,"d")||r.fornavn<e.fornavn?-1:1}const Wa=r=>{var e,n;if(r.gjeldendeVedtak&&r.gjeldendeVedtak.perioder.length>0)return m(r.gjeldendeVedtak.perioder[0].fom);if((e=r.åpenBehandling)!=null&&e.søknadsperioder)return m((n=r.åpenBehandling)==null?void 0:n.søknadsperioder[0].fom)},ja=(r,e)=>e?{type:M.ADOPTERT_STEBARN,adopsjonsdato:r.omsorgsovertakelse,antallBarn:r.antallBarn,fødselsdatoer:[r.fødselsdato]}:r.fødselsdato?{type:M.FØDT,fødselsdatoer:[r.fødselsdato],termindato:r.termindato,antallBarn:r.antallBarn}:{type:M.UFØDT,termindato:r.termindato,antallBarn:r.antallBarn},Ca=(r,e)=>{const n=r.ytelse===y.FORELDREPENGER,t=n&&r.barn!==void 0?r.barn.map(d=>d.fnr).flat():[],s=n&&e.filter(d=>t.includes(d.fnr))||[],a=m(r.familiehendelse.fødselsdato),i=a!==void 0?e.filter(d=>Ga(m(d.fødselsdato),a)&&!(s!=null&&s.find(g=>g.fnr===d.fnr))):[],f=s.concat(i);f.sort(xa);const o=f.filter(d=>d.fødselsdato!==void 0).map(d=>m(d.fødselsdato));let u=[];return o&&o.length>0?u=o:a&&(u=[a]),{fornavn:f==null?void 0:f.filter(d=>d.fornavn!==void 0&&d.fornavn.trim()!=="").map(d=>[d.fornavn,d.mellomnavn??""].join(" ")),fødselsdatoer:u,alleBarnaLever:!!(f!=null&&f.every(d=>Ia(d)))}},Va=(r,e)=>{const n=Ka(e);return La(n,s=>s.familiehendelse?V(s.familiehendelse):"","desc").reduce((s,a)=>{if(a.familiehendelse){const i=V(a.familiehendelse),f=s.find(o=>Ra(o,i));if(f&&f.saker.push(a),f&&s.includes(f))return s;{const o=Na(a.familiehendelse,a.gjelderAdopsjon),u={antallBarn:a.familiehendelse.antallBarn,familiehendelsedato:i,saker:[a],type:o,ytelse:a.ytelse,barn:o!=="termin"?Ca(a,r):void 0};return s.push(u),s}}else return s},[])},L=(r,e)=>e===y.ENGANGSSTØNAD?r.map(n=>({...n,ytelse:e})):e===y.SVANGERSKAPSPENGER?r.map(n=>({...n,ytelse:e})):r.map(n=>({...n,ytelse:e})),rs=r=>({foreldrepenger:L(r.foreldrepenger,y.FORELDREPENGER),engangsstønad:L(r.engangsstønad,y.ENGANGSSTØNAD),svangerskapspenger:L(r.svangerskapspenger,y.SVANGERSKAPSPENGER)}),Ra=(r,e)=>{const n=l(e).subtract(2,"months"),t=l(e).add(3,"weeks");if(r)return l(r.familiehendelsedato).isAfter(n)&&l(r.familiehendelsedato).isSameOrBefore(t)},Na=(r,e)=>{if(e)return"adopsjon";const{fødselsdato:n}=r;return n?"fødsel":"termin"},V=r=>{const{fødselsdato:e,termindato:n,omsorgsovertakelse:t}=r;return t||e||n},es=(r,e)=>{const n=e!=null&&e.familiehendelse?e.familiehendelse.fødselsdato:void 0,t=r.søker.barn&&n?r.søker.barn.find(a=>l(a.fødselsdato).isSame(n,"d")):void 0,s=t!=null&&t.annenForelder?t.annenForelder.fornavn:void 0;return s!==void 0&&s.trim()!==""?s:"Annen forelder"},Ya=(r,e)=>r===1||r===0?e.formatMessage({id:"barn"}):r===2?e.formatMessage({id:"tvillinger"}):r===3?e.formatMessage({id:"trillinger"}):e.formatMessage({id:"flerlinger"}),yr=r=>{if(r===void 0)return;const e=[];if(r.forEach(n=>{e.find(s=>l(s).isSame(n,"day"))===void 0&&e.push(n)}),e.length>1){const n=e.map(a=>h(a)),t=n.slice(0,-1).join(", "),s=n[n.length-1];return`${t} og ${s}`}return h(e[0])},qa=(r,e,n,t,s)=>{const a=Ya(n,t);if(n===0&&e===void 0||s==="termin")return{tittel:t.formatMessage({id:"barnHeader.terminBarn"},{barnTekst:a,termindato:h(r)}),undertittel:""};if(s==="adopsjon")return{tittel:t.formatMessage({id:"barnHeader.adoptertBarn"},{adopsjonsdato:h(r)}),undertittel:""};{const i=yr(e);return e!==void 0&&e.length>0?{tittel:t.formatMessage({id:"barnHeader.fødtBarn"},{barnTekst:a,fødselsdatoTekst:i}),undertittel:""}:{tittel:"",undertittel:""}}},Ua=r=>{if(r.length>1){const e=r.map(t=>t.trim()).slice(0,-1).join(", "),n=r[r.length-1];return`${e} og ${n}`}else return`${r[0]}`},ns=r=>{const{barngruppering:e,familiehendelsedato:n,antallBarn:t,intl:s,situasjon:a}=r,i=e==null?void 0:e.fornavn,f=e==null?void 0:e.fødselsdatoer,o=m(n);if(!o)return{tittel:"",undertittel:""};if(i===void 0||i.length===0||!(e!=null&&e.alleBarnaLever))return qa(o,f,t,s,a);const u=Ua(i);if(a==="fødsel"){const d=yr(f);return{tittel:u,undertittel:`født ${d}`}}return a==="adopsjon"?{tittel:u,undertittel:`adoptert ${h(o)}`}:{tittel:"",undertittel:""}};export{ns as a,Va as b,V as c,ja as d,Ua as e,Da as f,Ka as g,Ja as h,Wa as i,Ca as j,Qa as k,es as l,rs as m,Na as u};
