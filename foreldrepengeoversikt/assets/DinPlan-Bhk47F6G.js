import{j as i}from"./jsx-runtime-D_zvdyIk.js";import{r as h,R as O}from"./index-DQLiH3RP.js";import"./index-ClyUrrHr.js";import"./dates-efjv5HSM.js";import{R as w}from"./RettighetType-BD_oerVS.js";import"./UttaksdagenString-DRcuPL2E.js";import{c as V,K as B,a as L,b as H}from"./UttaksplanKalender-DVWSd0WR.js";import{u as G}from"./useSelectedSak-CTG7R_6C.js";import{c as M,d as U,u as z}from"./sakerUtils-DmFzd43B.js";import{u as I}from"./useQuery-Km81jHJP.js";import{b as $,c as q}from"./api-By2d6bGs.js";import{V as N,H as Q}from"./VStack-C9FgvL9l.js";import{c as Y,m as J,u as C,b as W,L as X,d as Z}from"./Label-DalfrUzn.js";import{B as ee}from"./Button-D10r1vdM.js";import{M as _}from"./message-DohILNTk.js";import{u as te}from"./useId-B11Gq5wf.js";import{c as F}from"./composeEventHandlers-DeH74NdU.js";import{u as ne}from"./ChevronDown-w7HrHItv.js";import{u as re}from"./useId-B7OrP95z.js";import{S as oe}from"./dateFormValidation-uVpLpohg.js";var ae=function(e,o){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const se=h.forwardRef((e,o)=>{var{title:r,titleId:t}=e,n=ae(e,["title","titleId"]);let a=re();return a=r?t||"title-"+a:void 0,h.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:o,"aria-labelledby":a},n),r?h.createElement("title",{id:a},r):null,h.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 5.75a.25.25 0 1 0 0 .5.25.25 0 0 0 0-.5M2.25 6a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0m1.5 6a.25.25 0 1 1 .5 0 .25.25 0 0 1-.5 0M4 10.25a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5M3.75 18a.25.25 0 1 1 .5 0 .25.25 0 0 1-.5 0M4 16.25a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5m5 1a.75.75 0 0 0 0 1.5h12a.75.75 0 0 0 0-1.5zM8.25 12a.75.75 0 0 1 .75-.75h12a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75M9 5.25a.75.75 0 0 0 0 1.5h12a.75.75 0 0 0 0-1.5z",clipRule:"evenodd"}))});h.createContext(null);const[le,Be,ie,de]=V(),[ce,K]=Y({name:"ToggleGroupContext",hookName:"useToggleGroupContext",providerName:"ToggleGroupProvider",errorMessage:"<ToggleGroup.Item> needs to be wrapped within <ToggleGroup>"});function ue({value:e,disabled:o=!1,onFocus:r,onClick:t,onKeyDown:n},a){const{setSelectedValue:d,setFocusedValue:f,selectedValue:l,focusedValue:g}=K(),{register:b,descendants:c}=de({disabled:o,value:e}),m=e===l,p=()=>f(e),y=h.useCallback(v=>{const E=c.values().findIndex(s=>s.value===g),R={ArrowLeft:()=>{var s;const u=c.prevEnabled(E,!1);(s=u==null?void 0:u.node)===null||s===void 0||s.focus()},ArrowRight:()=>{var s;const u=c.nextEnabled(E,!1);(s=u==null?void 0:u.node)===null||s===void 0||s.focus()},Home:()=>{var s;const u=c.firstEnabled();(s=u==null?void 0:u.node)===null||s===void 0||s.focus()},End:()=>{var s;const u=c.lastEnabled();(s=u==null?void 0:u.node)===null||s===void 0||s.focus()}},k=v.shiftKey||v.ctrlKey||v.altKey||v.metaKey,j=R[v.key];j&&!k?(v.preventDefault(),j(v)):v.key==="Tab"&&l&&setTimeout(()=>f(l))},[c,g,l,f]);return{ref:J([b,a]),isSelected:m,isFocused:g===e,onClick:F(t,()=>l!==e&&d(e)),onFocus:o?void 0:F(r,p),onKeyDown:F(n,y)}}var me=function(e,o){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const fe=h.forwardRef((e,o)=>{var{className:r,children:t,icon:n,label:a,value:d,onClick:f,onFocus:l,onKeyDown:g}=e,b=me(e,["className","children","icon","label","value","onClick","onFocus","onKeyDown"]);const{cn:c}=C(),m=ue({value:d,onClick:f,onFocus:l,disabled:!1,onKeyDown:g},o),p=K();return O.createElement("button",Object.assign({},b,{ref:m.ref,className:c("navds-toggle-group__button",r),type:"button",role:"radio","aria-checked":m.isSelected,"data-selected":m.isSelected,tabIndex:m.isFocused?0:-1,onClick:m.onClick,onFocus:m.onFocus,onKeyDown:m.onKeyDown}),O.createElement(W,{as:"span",className:c("navds-toggle-group__button-inner"),size:p==null?void 0:p.size},t??O.createElement(O.Fragment,null,n,a)))});function pe({onChange:e,value:o,defaultValue:r=""}){const[t,n]=h.useState(r),[a,d]=ne({defaultValue:r,value:o,onChange:e});return h.useEffect(()=>{o!=null&&n(o)},[o]),{selectedValue:a,setSelectedValue:d,focusedValue:t,setFocusedValue:n}}var ge=function(e,o){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)o.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(r[t[n]]=e[t[n]]);return r};const T=h.forwardRef((e,o)=>{var{className:r,children:t,onChange:n,size:a="medium",label:d,value:f,defaultValue:l,"aria-describedby":g,variant:b="action",fill:c=!1}=e,m=ge(e,["className","children","onChange","size","label","value","defaultValue","aria-describedby","variant","fill"]);const{cn:p}=C(),y=ie(),v=pe({defaultValue:l,value:f,onChange:n}),E=Object.assign(Object.assign({},v),{size:a}),x=te();return!f&&!l&&console.error("ToggleGroup without value or defaultvalue is not allowed"),!f&&!l&&console.error("ToggleGroup needs either a value or defaultValue"),O.createElement(le,{value:y},O.createElement(ce,Object.assign({},E),O.createElement("div",{className:p("navds-toggle-group__wrapper",r,{"navds-toggle-group__wrapper--fill":c})},d&&O.createElement(X,{size:a,className:p("navds-toggle-group__label"),id:x},d),O.createElement("div",Object.assign({},m,{ref:o,className:p("navds-toggle-group",`navds-toggle-group--${a}`,`navds-toggle-group--${b}`),"aria-describedby":Z(g,!!d&&x)||void 0,role:"radiogroup"}),t))))});T.Item=fe;const ve=typeof window<"u"&&window.matchMedia===void 0,he=(e,o)=>{const[r,t]=h.useState(o);return h.useEffect(()=>{if(ve)return;const n=window.matchMedia(e);t(n.matches);const a=d=>{t(d.matches)};return n.addEventListener("change",a),()=>{n.removeEventListener("change",a)}},[e]),r};function be(e){var a,d,f;const o=(e==null?void 0:e.ytelse)==="FORELDREPENGER"?M(e.familiehendelse):void 0,r=(e==null?void 0:e.ytelse)==="FORELDREPENGER"?(a=e.annenPart)==null?void 0:a.fnr:void 0,t=(e==null?void 0:e.ytelse)==="FORELDREPENGER"?(f=(d=e.barn)==null?void 0:d.find(l=>l.fnr!==void 0))==null?void 0:f.fnr:void 0,n=(e==null?void 0:e.ytelse)==="FORELDREPENGER";return I({...$({annenPartFødselsnummer:r,barnFødselsnummer:t,familiehendelse:o}),enabled:n})}const A=({navnPåForeldre:e})=>{const o=G();return o&&o.ytelse==="FORELDREPENGER"?i.jsx(ye,{sak:o,navnPåForeldre:e}):null},ye=({sak:e,navnPåForeldre:o})=>{var g,b,c,m,p;const r=((g=be(e).data)==null?void 0:g.perioder)??[],t=I(q({brukerrolle:e.forelder==="MOR"?"MOR":"FAR",morHarUføretrygd:e.morUføretrygd,rettighetstype:e.rettighetType,omsorgsovertakelseDato:e.familiehendelse.omsorgsovertakelse,antallBarn:e.familiehendelse.antallBarn,termindato:e.familiehendelse.termindato,fødselsdato:e.familiehendelse.omsorgsovertakelse?void 0:e.familiehendelse.fødselsdato})),n=e.dekningsgrad==="HUNDRE"?(b=t.data)==null?void 0:b["100"]:(c=t.data)==null?void 0:c["80"];if(!n)return null;const a=(m=e.gjeldendeVedtak)==null?void 0:m.perioder,d=(p=e.åpenBehandling)==null?void 0:p.søknadsperioder,l=[...a??d??[],...r].filter(y=>{var E;return!y.resultat?!0:(E=y.resultat)==null?void 0:E.innvilget});return i.jsx(B,{brukesIHvilkenApp:"INNSYN",navnPåForeldre:o,familiehendelse:e.familiehendelse,konto:n,perioder:l,rettighetType:e.rettighetType,forelder:e.forelder,visStatusIkoner:!1})};A.__docgenInfo={description:"",methods:[],displayName:"KvoteOversikt",props:{navnPåForeldre:{required:!0,tsType:{name:"NavnPåForeldre"},description:""}}};const Ee=({annenPartsPerioder:e,navnPåForeldre:o})=>{var j,s;const r=G(),t=he("screen and (min-width: 768px)"),[n,a]=h.useState(!1);if(!r||r.ytelse!=="FORELDREPENGER")return null;const d=(j=r.gjeldendeVedtak)==null?void 0:j.perioder,f=(s=r.åpenBehandling)==null?void 0:s.søknadsperioder,l=r.familiehendelse,g=r.sakTilhørerMor,b=r.gjelderAdopsjon,c=r.rettighetType,m=r.sakAvsluttet,p=d??f??[],y=!g,v=c===w.BARE_SØKER_RETT&&!g,E=c===w.BEGGE_RETT,x=g&&(w.BEGGE_RETT||w.BARE_SØKER_RETT),S=c===w.ALENEOMSORG,P=!E&&!x&&!S,D=M(l),R=U(l,b),k=z(l,b);return i.jsxs(N,{gap:"10",children:[!m&&i.jsx(Q,{children:i.jsx(ee,{className:"mt-4",size:t?"small":"medium",variant:"secondary",onClick:()=>window.location.href="https://www.nav.no/foreldrepenger/soknad",children:i.jsx(_,{id:"DinPlan.EndrePlan"})})}),i.jsxs(N,{gap:"10",children:[i.jsxs(T,{defaultValue:n?"kalender":"plan",onChange:u=>a(u==="kalender"),fill:!0,children:[i.jsx(T.Item,{value:"plan",icon:i.jsx(se,{"aria-hidden":!0}),label:i.jsx(_,{id:"DinPlan.Liste"})}),i.jsx(T.Item,{value:"kalender",icon:i.jsx(oe,{"aria-hidden":!0}),label:i.jsx(_,{id:"DinPlan.Kalender"})})]}),!n&&i.jsxs(i.Fragment,{children:[i.jsx(L,{barn:R,erFarEllerMedmor:y,familiehendelsedato:D,navnPåForeldre:o,annenPartsPerioder:e,søkersPerioder:p,gjelderAdopsjon:b,bareFarHarRett:v,familiesituasjon:k,førsteUttaksdagNesteBarnsSak:void 0,harAktivitetskravIPeriodeUtenUttak:P,modus:"innsyn",handleOnPlanChange:()=>null,valgtStønadskonto:{},erAleneOmOmsorg:S}),i.jsx(A,{navnPåForeldre:o})]}),n&&i.jsx(H,{bareFarHarRett:v,barn:R,erFarEllerMedmor:y,harAktivitetskravIPeriodeUtenUttak:P,søkersPerioder:p,annenPartsPerioder:e,navnAnnenPart:y?o.mor:o.farMedmor})]})]})};Ee.__docgenInfo={description:"",methods:[],displayName:"DinPlan",props:{navnPåForeldre:{required:!0,tsType:{name:"NavnPåForeldre"},description:""},annenPartsPerioder:{required:!0,tsType:{name:"Array",elements:[{name:"SaksperiodeNy"}],raw:"SaksperiodeNy[]"},description:""}}};export{Ee as D,be as u};
