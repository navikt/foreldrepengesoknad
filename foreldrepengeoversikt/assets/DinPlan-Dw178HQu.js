import{j as f}from"./jsx-runtime-Cw0GR0a5.js";import{r as m,R as b}from"./index-CTjT7uj6.js";import"./index-BXq8hJNt.js";import"./dates-JCHAmx_r.js";import"./UttaksdagenString-DBxOpWvb.js";import{K as q,a as W,U as J,b as X}from"./UttaksplanKalender-BUec_nTO.js";import"./_getTag-BJIhF6Yf.js";import{u as B}from"./useSelectedSak-Bf-7JxtK.js";import{Y as N}from"./Ytelse-7td-ciMh.js";import{c as L,d as Z,u as ee}from"./sakerUtils-D4fsp9GY.js";import{u as U}from"./useQuery-D15qCwmj.js";import{b as te,c as ne}from"./api-DRabxQIz.js";import{V as F,H as re}from"./VStack-Cmqt2b2v.js";import{a as k,B as se}from"./Button-Cz42euBq.js";import{M as D}from"./message-DyNkxP6Y.js";import{c as R,B as oe,L as ae}from"./Label-BeJqMiuK.js";import{u as ie,m as z,a as de}from"./useMergeRefs-DE1yqPfQ.js";import{a as H}from"./dateFormValidation-BBxfzUfL.js";import{c as w}from"./composeEventHandlers-DeH74NdU.js";import{u as le}from"./ChevronDown-CyMHwesb.js";var ce=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,t=Object.getOwnPropertySymbols(e);s<t.length;s++)n.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(r[t[s]]=e[t[s]]);return r};const ue=m.forwardRef((e,n)=>{var{title:r,titleId:t}=e,s=ce(e,["title","titleId"]);let o=ie();return o=r?t||"title-"+o:void 0,m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:n,"aria-labelledby":o},s),r?m.createElement("title",{id:o},r):null,m.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 5.75a.25.25 0 1 0 0 .5.25.25 0 0 0 0-.5M2.25 6a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0m1.5 6a.25.25 0 1 1 .5 0 .25.25 0 0 1-.5 0M4 10.25a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5M3.75 18a.25.25 0 1 1 .5 0 .25.25 0 0 1-.5 0M4 16.25a1.75 1.75 0 1 0 0 3.5 1.75 1.75 0 0 0 0-3.5m5 1a.75.75 0 0 0 0 1.5h12a.75.75 0 0 0 0-1.5zM8.25 12a.75.75 0 0 1 .75-.75h12a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75M9 5.25a.75.75 0 0 0 0 1.5h12a.75.75 0 0 0 0-1.5z",clipRule:"evenodd"}))});function K(e){return e.sort((n,r)=>{const t=n.compareDocumentPosition(r);if(t&Node.DOCUMENT_POSITION_FOLLOWING||t&Node.DOCUMENT_POSITION_CONTAINED_BY)return-1;if(t&Node.DOCUMENT_POSITION_PRECEDING||t&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(t&Node.DOCUMENT_POSITION_DISCONNECTED||t&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC)throw Error("Cannot sort the given nodes.");return 0})}const fe=e=>typeof e=="object"&&"nodeType"in e&&e.nodeType===Node.ELEMENT_NODE;function A(e,n,r){let t=e+1;return r&&t>=n&&(t=0),t}function V(e,n,r){let t=e-1;return r&&t<0&&(t=n),t}const C=e=>e;class me{constructor(){this.descendants=new Map,this.register=n=>{if(n!=null)return fe(n)?this.registerNode(n):r=>{this.registerNode(r,n)}},this.unregister=n=>{this.descendants.delete(n);const r=K(Array.from(this.descendants.keys()));this.assignIndex(r)},this.destroy=()=>{this.descendants.clear()},this.assignIndex=n=>{this.descendants.forEach(r=>{const t=n.indexOf(r.node);r.index=t,r.node.dataset.index=r.index.toString()})},this.count=()=>this.descendants.size,this.enabledCount=()=>this.enabledValues().length,this.values=()=>Array.from(this.descendants.values()).sort((r,t)=>r.index-t.index),this.enabledValues=()=>this.values().filter(n=>!n.disabled),this.item=n=>{if(this.count()!==0)return this.values()[n]},this.enabledItem=n=>{if(this.enabledCount()!==0)return this.enabledValues()[n]},this.first=()=>this.item(0),this.firstEnabled=()=>this.enabledItem(0),this.last=()=>this.item(this.descendants.size-1),this.lastEnabled=()=>{const n=this.enabledValues().length-1;return this.enabledItem(n)},this.indexOf=n=>{var r,t;return n&&(t=(r=this.descendants.get(n))===null||r===void 0?void 0:r.index)!==null&&t!==void 0?t:-1},this.enabledIndexOf=n=>n==null?-1:this.enabledValues().findIndex(r=>r.node.isSameNode(n)),this.next=(n,r=!0)=>{const t=A(n,this.count(),r);return this.item(t)},this.nextEnabled=(n,r=!0)=>{const t=this.item(n);if(!t)return;const s=this.enabledIndexOf(t.node),o=A(s,this.enabledCount(),r);return this.enabledItem(o)},this.prev=(n,r=!0)=>{const t=V(n,this.count()-1,r);return this.item(t)},this.prevEnabled=(n,r=!0)=>{const t=this.item(n);if(!t)return;const s=this.enabledIndexOf(t.node),o=V(s,this.enabledCount()-1,r);return this.enabledItem(o)},this.registerNode=(n,r)=>{if(!n)return;const t=this.descendants.get(n);if(t){this.descendants.set(n,Object.assign({index:t.index,node:n},r));return}const s=Array.from(this.descendants.keys()).concat(n),o=K(s);r!=null&&r.disabled&&(r.disabled=!!r.disabled);const a=Object.assign({node:n,index:-1},r);this.descendants.set(n,a),this.assignIndex(o)}}}function ge(){const[e,n]=H({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"}),r=C(o=>b.createElement(e,Object.assign({},o.value),o.children));function t(o){const a=n(),[c,d]=m.useState(-1),l=m.useRef(null);k(()=>()=>{l.current&&a.unregister(l.current)},[]),k(()=>{if(!l.current)return;const i=Number(l.current.dataset.index);c!==i&&!Number.isNaN(i)&&d(i)});const h=C(o?a.register(o):a.register);return{descendants:a,index:c,enabledIndex:a.enabledIndexOf(l.current),register:z([h,l])}}function s(){return m.useRef(new me).current}return[r,n,s,t]}m.createContext(null);const[he,qe,pe,Ee]=ge(),[ve,$]=H({name:"ToggleGroupContext",hookName:"useToggleGroupContext",providerName:"ToggleGroupProvider",errorMessage:"<ToggleGroup.Item> needs to be wrapped within <ToggleGroup>"});function be({value:e,disabled:n=!1,onFocus:r,onClick:t,onKeyDown:s},o){const{setSelectedValue:a,setFocusedValue:c,selectedValue:d,focusedValue:l}=$(),{register:h,descendants:i}=Ee({disabled:n,value:e}),p=e===d,v=()=>c(e),O=m.useCallback(E=>{const x=i.values().findIndex(u=>u.value===l),j={ArrowLeft:()=>{var u;const g=i.prevEnabled(x,!1);(u=g==null?void 0:g.node)===null||u===void 0||u.focus()},ArrowRight:()=>{var u;const g=i.nextEnabled(x,!1);(u=g==null?void 0:g.node)===null||u===void 0||u.focus()},Home:()=>{var u;const g=i.firstEnabled();(u=g==null?void 0:g.node)===null||u===void 0||u.focus()},End:()=>{var u;const g=i.lastEnabled();(u=g==null?void 0:g.node)===null||u===void 0||u.focus()}},I=E.shiftKey||E.ctrlKey||E.altKey||E.metaKey,T=j[E.key];T&&!I?(E.preventDefault(),T(E)):E.key==="Tab"&&d&&setTimeout(()=>c(d))},[i,l,d,c]);return{ref:z([h,o]),isSelected:p,isFocused:l===e,onClick:w(t,()=>d!==e&&a(e)),onFocus:n?void 0:w(r,v),onKeyDown:w(s,O)}}var xe=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,t=Object.getOwnPropertySymbols(e);s<t.length;s++)n.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(r[t[s]]=e[t[s]]);return r};const Oe=m.forwardRef((e,n)=>{var{className:r,children:t,icon:s,label:o,value:a,onClick:c,onFocus:d,onKeyDown:l}=e,h=xe(e,["className","children","icon","label","value","onClick","onFocus","onKeyDown"]);const i=be({value:a,onClick:c,onFocus:d,disabled:!1,onKeyDown:l},n),p=$();return b.createElement("button",Object.assign({},h,{ref:i.ref,className:R("navds-toggle-group__button",r),type:"button",role:"radio","aria-checked":i.isSelected,tabIndex:i.isFocused?0:-1,onClick:i.onClick,onFocus:i.onFocus,onKeyDown:i.onKeyDown}),b.createElement(oe,{as:"span",className:"navds-toggle-group__button-inner",size:p==null?void 0:p.size},t??b.createElement(b.Fragment,null,s,o)))});function ye({onChange:e,value:n,defaultValue:r=""}){const[t,s]=m.useState(r),[o,a]=le({defaultValue:r,value:n,onChange:e});return m.useEffect(()=>{n!=null&&s(n)},[n]),{selectedValue:o,setSelectedValue:a,focusedValue:t,setFocusedValue:s}}var Ne=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,t=Object.getOwnPropertySymbols(e);s<t.length;s++)n.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(r[t[s]]=e[t[s]]);return r};const _=m.forwardRef((e,n)=>{var{className:r,children:t,onChange:s,size:o="medium",label:a,value:c,defaultValue:d,"aria-describedby":l,variant:h="action",fill:i=!1}=e,p=Ne(e,["className","children","onChange","size","label","value","defaultValue","aria-describedby","variant","fill"]);const v=pe(),O=ye({defaultValue:d,value:c,onChange:s}),E=Object.assign(Object.assign({},O),{size:o}),x=de();return!c&&!d&&console.error("ToggleGroup without value or defaultvalue is not allowed"),!c&&!d&&console.error("ToggleGroup needs either a value or defaultValue"),b.createElement(he,{value:v},b.createElement(ve,Object.assign({},E),b.createElement("div",{className:R("navds-toggle-group__wrapper",r,{"navds-toggle-group__wrapper--fill":i})},a&&b.createElement(ae,{size:o,className:"navds-toggle-group__label",id:x},a),b.createElement("div",Object.assign({},p,{ref:n,className:R("navds-toggle-group",`navds-toggle-group--${o}`,`navds-toggle-group--${h}`),"aria-describedby":R(l,!!a&&x)||void 0,role:"radiogroup"}),t))))});_.Item=Oe;const Te=typeof window<"u"&&window.matchMedia===void 0,Ie=(e,n)=>{const[r,t]=m.useState(n);return m.useEffect(()=>{if(Te)return;const s=window.matchMedia(e);t(s.matches);const o=a=>{t(a.matches)};return s.addEventListener("change",o),()=>{s.removeEventListener("change",o)}},[e]),r};var y=(e=>(e.BARE_SØKER_RETT="BARE_SØKER_RETT",e.ALENEOMSORG="ALENEOMSORG",e.BEGGE_RETT="BEGGE_RETT",e))(y||{});function Re(e){var a,c,d;const n=(e==null?void 0:e.åpenBehandling)===void 0,r=(e==null?void 0:e.ytelse)===N.FORELDREPENGER?L(e.familiehendelse):void 0,t=(e==null?void 0:e.ytelse)===N.FORELDREPENGER?(a=e.annenPart)==null?void 0:a.fnr:void 0,s=(e==null?void 0:e.ytelse)===N.FORELDREPENGER?(d=(c=e.barn)==null?void 0:c.find(l=>l.fnr!==void 0))==null?void 0:d.fnr:void 0,o=(e==null?void 0:e.ytelse)===N.FORELDREPENGER&&[n,t].every(Boolean);return U({...te({annenPartFødselsnummer:t,barnFødselsnummer:s,familiehendelse:r}),enabled:o})}var Q=(e=>(e.ÅTTI_PROSENT="ÅTTI",e.HUNDRE_PROSENT="HUNDRE",e))(Q||{});const Y=()=>{const e=B();return e&&e.ytelse===N.FORELDREPENGER?f.jsx(_e,{sak:e}):null},_e=({sak:e})=>{var c,d,l,h,i;const n=((c=Re(e).data)==null?void 0:c.perioder)??[],r=U(ne({brukerrolle:e.forelder==="MOR"?"MOR":"FAR",morHarUføretrygd:e.morUføretrygd,rettighetstype:e.rettighetType,omsorgsovertakelseDato:e.familiehendelse.omsorgsovertakelse,antallBarn:e.familiehendelse.antallBarn,termindato:e.familiehendelse.termindato,fødselsdato:e.familiehendelse.omsorgsovertakelse?void 0:e.familiehendelse.fødselsdato})),t=e.dekningsgrad===Q.HUNDRE_PROSENT?(d=r.data)==null?void 0:d["100"]:(l=r.data)==null?void 0:l["80"];if(!t)return null;const s=(h=e.gjeldendeVedtak)==null?void 0:h.perioder,o=(i=e.åpenBehandling)==null?void 0:i.søknadsperioder,a=s??o??[];return f.jsx(q,{konto:t,perioder:[...a,...n.filter(p=>{var v;return(v=p.resultat)==null?void 0:v.innvilget})],rettighetType:e.rettighetType,forelder:e.forelder})};Y.__docgenInfo={description:"",methods:[],displayName:"KvoteOversikt"};const Pe=({annenPartsPerioder:e,navnPåForeldre:n})=>{var I,T;const r=B(),t=Ie("screen and (min-width: 768px)"),[s,o]=m.useState(!1);if(!r||r.ytelse!==N.FORELDREPENGER)return null;const a=(I=r.gjeldendeVedtak)==null?void 0:I.perioder,c=(T=r.åpenBehandling)==null?void 0:T.søknadsperioder,d=r.familiehendelse,l=r.sakTilhørerMor,h=r.gjelderAdopsjon,i=r.rettighetType,p=()=>a??c,v=!l,O=i===y.BARE_SØKER_RETT&&!l,E=i===y.BEGGE_RETT,x=l&&(y.BEGGE_RETT||y.BARE_SØKER_RETT),M=i===y.ALENEOMSORG,P=!E&&!x&&!M,G=L(d),S=Z(d,h),j=ee(d,h);return f.jsxs(F,{gap:"10",children:[f.jsx(re,{children:f.jsx(se,{className:"mt-4",size:t?"small":"medium",variant:"secondary",onClick:()=>window.location.href="https://www.nav.no/foreldrepenger/soknad",children:f.jsx(D,{id:"DinPlan.EndrePlan"})})}),f.jsxs(F,{gap:"10",children:[f.jsxs(_,{defaultValue:s?"kalender":"plan",onChange:u=>o(u==="kalender"),fill:!0,children:[f.jsx(_.Item,{value:"plan",icon:f.jsx(ue,{"aria-hidden":!0}),label:f.jsx(D,{id:"DinPlan.Liste"})}),f.jsx(_.Item,{value:"kalender",icon:f.jsx(W,{"aria-hidden":!0}),label:f.jsx(D,{id:"DinPlan.Kalender"})})]}),!s&&f.jsxs(f.Fragment,{children:[f.jsx(J,{barn:S,erFarEllerMedmor:v,familiehendelsedato:G,navnPåForeldre:n,annenPartsPerioder:e,søkersPerioder:p()||[],gjelderAdopsjon:h,bareFarHarRett:O,familiesituasjon:j,førsteUttaksdagNesteBarnsSak:void 0,harAktivitetskravIPeriodeUtenUttak:P}),f.jsx(Y,{})]}),s&&f.jsx(X,{bareFarHarRett:O,barn:S,erFarEllerMedmor:v,harAktivitetskravIPeriodeUtenUttak:P,søkersPerioder:p()||[],annenPartsPerioder:e,navnAnnenPart:v?n.mor:n.farMedmor})]})]})};Pe.__docgenInfo={description:"",methods:[],displayName:"DinPlan",props:{annenPartsPerioder:{required:!1,tsType:{name:"Array",elements:[{name:"SaksperiodeNy"}],raw:"SaksperiodeNy[]"},description:""},navnPåForeldre:{required:!0,tsType:{name:"NavnPåForeldre"},description:""}}};export{Pe as D,Re as u};
