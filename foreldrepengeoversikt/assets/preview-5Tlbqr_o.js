var ne="storybook/addon-mock",xe="mockData",He="mockAddonConfigs",G={SEND:"".concat(ne,"/send"),UPDATE:"".concat(ne,"/update")};/**
 * mock-xmlhttprequest v8.3.0
 * (c) 2023 Bertrand Guay-Paquet
 * @license MIT
 */class H{constructor(e){this._headers=new Map,e&&(e instanceof H?this._headers=new Map(e._headers):Object.entries(e).forEach(([r,n])=>this.addHeader(r,n)))}reset(){return this._headers.clear(),this}getHeader(e){return this._headers.get(e.toUpperCase())??null}getAll(){return[...this._headers.keys()].sort().reduce((n,s)=>{const i=this._headers.get(s);return`${n}${s.toLowerCase()}: ${i}\r
`},"")}getHash(){const e={};return this._headers.forEach((r,n)=>{e[n.toLowerCase()]=r}),e}addHeader(e,r){e=e.toUpperCase(),r=r??"";const n=this._headers.get(e);return n!==void 0&&(r=`${n}, ${r}`),this._headers.set(e,r),this}}/**
 * mock-xmlhttprequest v8.3.0
 * (c) 2023 Bertrand Guay-Paquet
 * @license MIT
 */class qe{constructor(e,r){this._requestData=e,this._responseReceiver=r}get requestData(){return this._requestData}get requestHeaders(){return this._requestData.requestHeaders}get method(){return this._requestData.method}get url(){return this._requestData.url}get body(){return this._requestData.body}get withCredentials(){return this._requestData.withCredentials}getRequestBodySize(){return this._requestData.getRequestBodySize()}uploadProgress(e){this._responseReceiver.uploadProgress(this._requestData,e)}respond(e,r,n,s){this.setResponseHeaders(e,r,s),this.setResponseBody(n)}setResponseHeaders(e,r,n){this._responseReceiver.setResponseHeaders(this._requestData,e,r,n)}downloadProgress(e,r){this._responseReceiver.downloadProgress(this._requestData,e,r)}setResponseBody(e=null){this._responseReceiver.setResponseBody(this._requestData,e)}setNetworkError(){this._responseReceiver.setNetworkError(this._requestData)}setRequestTimeout(){this._responseReceiver.setRequestTimeout(this._requestData)}}/**
 * mock-xmlhttprequest v8.3.0
 * (c) 2023 Bertrand Guay-Paquet
 * @license MIT
 */function ve(t){return t?typeof t=="string"?se(t):typeof FormData<"u"&&t instanceof FormData||t.constructor&&t.constructor.name==="FormData"?[...t.values()].reduce((e,r)=>{const n=r.size??se(String(r.toString()));return e+n},0):t.size||t.byteLength||0:0}function se(t){return typeof Blob<"u"?new Blob([t]).size:Buffer.byteLength(t)}const Ie=/^[A-Za-z0-9!#$%&'*+\-.^_`|~]+$/;function _e(t){return typeof t=="string"&&Ie.test(t)}function Ue(t){return _e(t)}function Fe(t){return typeof t=="string"&&t.trim().length===t.length&&t.indexOf("\0")===-1}const Le=["Accept-Charset","Accept-Encoding","Access-Control-Request-Headers","Access-Control-Request-Method","Connection","Content-Length","Cookie","Cookie2","Date","DNT","Expect","Host","Keep-Alive","Origin","Referer","TE","Trailer","Transfer-Encoding","Upgrade","Via"],Be=new RegExp(`^(${Le.join("|")}|Proxy-.*|Sec-.*)$`,"i");function je(t){return Be.test(t)}function $e(t){return _e(t)}const Me=/^(CONNECT|TRACE|TRACK)$/i;function Ge(t){return Me.test(t)}const Ke=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],ze=new RegExp(`^(${Ke.join("|")})$`,"i");function Ve(t){return ze.test(t)&&(t=t.toUpperCase()),t}const Qe={100:"Continue",101:"Switching Protocols",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",507:"Insufficient Storage",511:"Network Authentication Required"};function Je(t){return Qe[t]??"Unknown Status"}/**
 * mock-xmlhttprequest v8.3.0
 * (c) 2023 Bertrand Guay-Paquet
 * @license MIT
 */class We{constructor(e,r,n,s=null,i=!1){this._requestHeaders=e,this._method=r,this._url=n,this._body=s,this._credentialsMode=i}get requestHeaders(){return new H(this._requestHeaders)}get method(){return this._method}get url(){return this._url}get body(){return this._body}get withCredentials(){return this._credentialsMode}getRequestBodySize(){return ve(this.body)}}/**
 * mock-xmlhttprequest v8.3.0
 * (c) 2023 Bertrand Guay-Paquet
 * @license MIT
 */class be{constructor(e){this.type=e}}/**
 * mock-xmlhttprequest v8.3.0
 * (c) 2023 Bertrand Guay-Paquet
 * @license MIT
 */class ie extends be{constructor(e,r=0,n=0){super(e),this.loaded=r,this.total=n,this.lengthComputable=n>0}}/**
 * mock-xmlhttprequest v8.3.0
 * (c) 2023 Bertrand Guay-Paquet
 * @license MIT
 */class ae{constructor(e){this._eventContext=e??this,this._listeners=new Map}get onabort(){return this._getEventHandlerProperty("abort")}set onabort(e){this._setEventHandlerProperty("abort",e)}get onerror(){return this._getEventHandlerProperty("error")}set onerror(e){this._setEventHandlerProperty("error",e)}get onload(){return this._getEventHandlerProperty("load")}set onload(e){this._setEventHandlerProperty("load",e)}get onloadend(){return this._getEventHandlerProperty("loadend")}set onloadend(e){this._setEventHandlerProperty("loadend",e)}get onloadstart(){return this._getEventHandlerProperty("loadstart")}set onloadstart(e){this._setEventHandlerProperty("loadstart",e)}get onprogress(){return this._getEventHandlerProperty("progress")}set onprogress(e){this._setEventHandlerProperty("progress",e)}get ontimeout(){return this._getEventHandlerProperty("timeout")}set ontimeout(e){this._setEventHandlerProperty("timeout",e)}hasListeners(){return[...this._listeners.values()].some(e=>e.length>0)}addEventListener(e,r,n){if(r){const s=Q(r,!1,n),i=this._listeners.get(e)??[];i.every(({isEventHandlerProperty:a,listener:u,useCapture:f})=>a||s.listener!==u||s.useCapture!==f)&&(i.push(s),this._listeners.set(e,i))}}removeEventListener(e,r,n){if(r){const s=this._listeners.get(e);if(s){const i=Q(r,!1,n),a=s.findIndex(({isEventHandlerProperty:u,listener:f,useCapture:o})=>!u&&i.listener===f&&i.useCapture===o);a>=0&&(s[a].removed=!0,s.splice(a,1))}}}dispatchEvent(e){const r=this._listeners.get(e.type);return r&&[...r].forEach(n=>{if(!n.removed){if(n.once){const s=r.indexOf(n);s>=0&&r.splice(s,1)}typeof n.listener=="function"?n.listener.call(this._eventContext,e):n.listener.handleEvent(e)}}),!0}_getEventHandlerProperty(e){const r=this._listeners.get(e);if(r){const n=r.find(s=>s.isEventHandlerProperty);if(n)return n.listener}return null}_setEventHandlerProperty(e,r){const n=this._listeners.get(e);if(n){const s=n.findIndex(i=>i.isEventHandlerProperty);if(s>=0){if(n[s].listener===r)return;n[s].removed=!0,n.splice(s,1)}}if(r){const s=Q(r,!0);n?n.push(s):this._listeners.set(e,[s])}}}function Q(t,e,r){const n=typeof r=="boolean";return{listener:t,isEventHandlerProperty:e,useCapture:n?r:!!(r!=null&&r.capture),once:n?!1:!!(r!=null&&r.once),removed:!1}}/**
 * mock-xmlhttprequest v8.3.0
 * (c) 2023 Bertrand Guay-Paquet
 * @license MIT
 */const Ye=["","arraybuffer","blob","document","json","text"];class l extends ae{constructor(){var e;super(),this.UNSENT=l.UNSENT,this.OPENED=l.OPENED,this.HEADERS_RECEIVED=l.HEADERS_RECEIVED,this.LOADING=l.LOADING,this.DONE=l.DONE,this._authorRequestHeaders=new H,this._readyState=l.UNSENT,this._timeout=0,this._crossOriginCredentials=!1,this._uploadObject=new ae(this),this.responseURL="",this._responseType="",this._response=I(),this._timeoutReference=0,this.onreadystatechange=null,this.timeoutEnabled=!0,(e=l.onCreate)==null||e.call(l,this)}get onreadystatechange(){return this._getEventHandlerProperty("readystatechange")}set onreadystatechange(e){this._setEventHandlerProperty("readystatechange",e)}get currentRequest(){return this._currentRequest}getResponseHeadersHash(){return this._response.headers.getHash()}uploadProgress(e,r){var n;if(((n=this._currentRequest)==null?void 0:n.requestData)===e){if(!this._sendFlag)throw new Error('Mock usage error detected: call send() first (the "send() flag" is not set)');if(this._uploadCompleteFlag)throw new Error('Mock usage error detected: upload already completed (the "upload complete flag" is set)');const s=e.getRequestBodySize();if(r>s)throw new Error(`Mock usage error detected: upload progress "requestBodyTransmitted" (${r}) is greater than "requestBodyLength" (${s})`);this._uploadListenerFlag&&this._fireUploadProgressEvent("progress",r,s)}}setResponseHeaders(e,r,n,s){var i;if(((i=this._currentRequest)==null?void 0:i.requestData)===e){if(!this._sendFlag)throw new Error('Mock usage error detected: call send() first (the "send() flag" is not set)');if(this._readyState!==l.OPENED)throw new Error(`Mock usage error detected: readyState is ${this._readyState}, but it must be OPENED (${l.OPENED})`);e.body&&this._processRequestEndOfBody(e.getRequestBodySize(),e.getRequestBodySize()),r=typeof r=="number"?r:200;const a=s??Je(r);this._processResponse({status:r,statusMessage:a,headers:new H(n)})}}downloadProgress(e,r,n){var s;if(((s=this._currentRequest)==null?void 0:s.requestData)===e){if(this._readyState!==l.HEADERS_RECEIVED&&this._readyState!==l.LOADING)throw new Error(`Mock usage error detected: readyState is ${this._readyState}, but it must be HEADERS_RECEIVED (${l.HEADERS_RECEIVED}) or LOADING (${l.LOADING})`);this._readyState===l.HEADERS_RECEIVED&&(this._readyState=l.LOADING),this._fireReadyStateChangeEvent(),this._fireProgressEvent("progress",r,n)}}setResponseBody(e,r){var n;if(((n=this._currentRequest)==null?void 0:n.requestData)===e){if(!this._sendFlag)throw new Error('Mock usage error detected: call send() first (the "send() flag" is not set)');if(this._readyState!==l.OPENED&&this._readyState!==l.HEADERS_RECEIVED&&this._readyState!==l.LOADING)throw new Error(`Mock usage error detected: readyState is ${this._readyState}, but it must be OPENED (${l.OPENED}), HEADERS_RECEIVED (${l.HEADERS_RECEIVED}) or LOADING (${l.LOADING})`);if(this._readyState===l.OPENED){const s={"content-length":String(ve(r))};this.setResponseHeaders(e,200,s)}this._readyState=l.LOADING,this._fireReadyStateChangeEvent(),this._response.body=r??null,this._handleResponseEndOfBody()}}setNetworkError(e){var r;if(((r=this._currentRequest)==null?void 0:r.requestData)===e){if(!this._sendFlag)throw new Error('Mock usage error detected: call send() first (the "send() flag" is not set)');this._processResponse(I())}}setRequestTimeout(e){var r;if(((r=this._currentRequest)==null?void 0:r.requestData)===e){if(!this._sendFlag)throw new Error('Mock usage error detected: call send() first (the "send() flag" is not set)');if(this.timeout===0)throw new Error("Mock usage error detected: the timeout attribute must be greater than 0 for a timeout to occur");this._timedOutFlag=!0,this._terminateFetchController(),this._processResponse(I())}}get readyState(){return this._readyState}open(e,r,n){if(!n&&arguments.length>2)throw new Error("async = false is not supported.");$e(e)||O("SyntaxError",`Method "${e}" is not a method.`),Ge(e)&&O("SecurityError",`Method "${e}" forbidden.`),e=Ve(e),this._terminateFetchController(),this._sendFlag=!1,this._uploadListenerFlag=!1,this._requestMethod=e,this._requestUrl=r.toString(),this._authorRequestHeaders.reset(),this._response=I(),this._readyState!==l.OPENED&&(this._readyState=l.OPENED,this._fireReadyStateChangeEvent())}setRequestHeader(e,r){if((this._readyState!==l.OPENED||this._sendFlag)&&O("InvalidStateError"),typeof e!="string"||typeof r!="string")throw new SyntaxError;r=r.trim(),Ue(e)?Fe(r)||O("SyntaxError",`Value "${r}" is not a header value.`):O("SyntaxError",`Name "${e}" is not a header name.`),!je(e)&&this._authorRequestHeaders.addHeader(e,r)}get timeout(){return this._timeout}set timeout(e){this._timeout=e,this._sendFlag&&this.timeoutEnabled&&this._getPrototype().timeoutEnabled&&this._scheduleRequestTimeout()}get withCredentials(){return this._crossOriginCredentials}set withCredentials(e){(this._readyState!==l.UNSENT&&this._readyState!==l.OPENED||this._sendFlag)&&O("InvalidStateError"),this._crossOriginCredentials=!!e}get upload(){return this._uploadObject}send(e=null){if((this._readyState!==l.OPENED||this._sendFlag)&&O("InvalidStateError"),(this._requestMethod==="GET"||this._requestMethod==="HEAD")&&(e=null),e!==null){let i=null;{let u=null;typeof e=="string"?u="text/plain;charset=UTF-8":typeof FormData<"u"&&e instanceof FormData?u="multipart/form-data; boundary=-----MochXhr1234":e.type&&(u=e.type),i=u}this._authorRequestHeaders.getHeader("Content-Type")!==null||i!==null&&this._authorRequestHeaders.addHeader("Content-Type",i)}this._uploadListenerFlag=this._uploadObject.hasListeners();const r=new We(new H(this._authorRequestHeaders),this._requestMethod,this._requestUrl,e,this._crossOriginCredentials),n=new qe(r,this);if(this._uploadCompleteFlag=!1,this._timedOutFlag=!1,this._uploadCompleteFlag=n.body===null,this._sendFlag=!0,this._fireProgressEvent("loadstart",0,0),!this._uploadCompleteFlag&&this._uploadListenerFlag&&this._fireUploadProgressEvent("loadstart",0,n.getRequestBodySize()),this._readyState!==l.OPENED||!this._sendFlag)return;this._currentRequest=n,this._timeoutReference=Date.now(),this._scheduleRequestTimeout(),this._callOnSend(l.onSend);const s=this._getPrototype();s!==l&&this._callOnSend(s.onSend),this._callOnSend(this.onSend)}abort(){this._terminateFetchController(),(this._readyState===l.OPENED&&this._sendFlag||this._readyState===l.HEADERS_RECEIVED||this._readyState===l.LOADING)&&this._requestErrorSteps("abort"),this._readyState===l.DONE&&(this._readyState=l.UNSENT,this._response=I())}get status(){return this._response.status}get statusText(){return this._response.statusMessage}getResponseHeader(e){return this._response.headers.getHeader(e)}getAllResponseHeaders(){return this._response.headers.getAll()}overrideMimeType(e){(this._readyState===l.LOADING||this._readyState===l.DONE)&&O("InvalidStateError")}get responseType(){return this._responseType}set responseType(e){(this._readyState===l.LOADING||this._readyState===l.DONE)&&O("InvalidStateError"),Ye.includes(e)&&(this._responseType=e)}get response(){if(this._responseType===""||this._responseType==="text")return this._readyState!==l.LOADING&&this._readyState!==l.DONE?"":this._getTextResponse();if(this._readyState!==l.DONE)return null;if(this._responseType==="json"){if(this._response.body===null)return null;try{return JSON.parse(this._response.body)}catch{return null}}return this._response.body}get responseText(){return this._responseType!==""&&this._responseType!=="text"&&O("InvalidStateError"),this._readyState!==l.LOADING&&this._readyState!==l.DONE?"":this._getTextResponse()}get responseXML(){return this._responseType!==""&&this._responseType!=="document"&&O("InvalidStateError"),this._readyState!==l.DONE?null:this._response.body??""}_processRequestEndOfBody(e,r){this._uploadCompleteFlag=!0,this._uploadListenerFlag&&(this._fireUploadProgressEvent("progress",e,r),this._fireUploadProgressEvent("load",e,r),this._fireUploadProgressEvent("loadend",e,r))}_processResponse(e){this._response=e,this._handleErrors(),!this._response.isNetworkError&&(this._readyState=l.HEADERS_RECEIVED,this._fireReadyStateChangeEvent(),this._readyState===l.HEADERS_RECEIVED&&this._response.body===null&&this._handleResponseEndOfBody())}_handleResponseEndOfBody(){var r;if(this._handleErrors(),this._response.isNetworkError)return;const e=((r=this._response.body)==null?void 0:r.length)??0;this._fireProgressEvent("progress",e,e),this._readyState=l.DONE,this._sendFlag=!1,this._terminateFetchController(),this._fireReadyStateChangeEvent(),this._fireProgressEvent("load",e,e),this._fireProgressEvent("loadend",e,e)}_handleErrors(){this._sendFlag&&(this._timedOutFlag?this._requestErrorSteps("timeout"):this._response.isNetworkError&&this._requestErrorSteps("error"))}_requestErrorSteps(e){this._readyState=l.DONE,this._sendFlag=!1,this._response=I(),this._fireReadyStateChangeEvent(),this._uploadCompleteFlag||(this._uploadCompleteFlag=!0,this._uploadListenerFlag&&(this._fireUploadProgressEvent(e,0,0),this._fireUploadProgressEvent("loadend",0,0))),this._fireProgressEvent(e,0,0),this._fireProgressEvent("loadend",0,0)}_getTextResponse(){var e;return((e=this._response.body)==null?void 0:e.toString())??""}_callOnSend(e){if(e){const r=this._currentRequest;Promise.resolve().then(()=>e.call(r,r,this))}}_terminateFetchController(){delete this._currentRequest}_fireProgressEvent(e,r,n){this.dispatchEvent(new ie(e,r,n))}_fireUploadProgressEvent(e,r,n){this._uploadObject.dispatchEvent(new ie(e,r,n))}_fireReadyStateChangeEvent(){const e=new be("readystatechange");this.dispatchEvent(e)}_scheduleRequestTimeout(){if(this._timeoutTask&&clearTimeout(this._timeoutTask),this._timeout>0){const e=Math.max(0,this._timeout-(Date.now()-this._timeoutReference));this._timeoutTask=setTimeout(()=>{this._sendFlag&&this._currentRequest.setRequestTimeout(),delete this._timeoutTask},e)}}_getPrototype(){return this.constructor}}l.UNSENT=0;l.OPENED=1;l.HEADERS_RECEIVED=2;l.LOADING=3;l.DONE=4;l.timeoutEnabled=!0;function O(t,e=""){const r=new Error(e);throw r.name=t,r}function I(){return{isNetworkError:!0,status:0,statusMessage:"",headers:new H,body:null}}/**
 * mock-xmlhttprequest v8.3.0
 * (c) 2023 Bertrand Guay-Paquet
 * @license MIT
 */function Ze(){var t;return t=class extends l{constructor(){var r;super(),(r=t.onCreate)==null||r.call(t,this)}},t.timeoutEnabled=!0,t}function ke(t){for(var e=[],r=0;r<t.length;){var n=t[r];if(n==="*"||n==="+"||n==="?"){e.push({type:"MODIFIER",index:r,value:t[r++]});continue}if(n==="\\"){e.push({type:"ESCAPED_CHAR",index:r++,value:t[r++]});continue}if(n==="{"){e.push({type:"OPEN",index:r,value:t[r++]});continue}if(n==="}"){e.push({type:"CLOSE",index:r,value:t[r++]});continue}if(n===":"){for(var s="",i=r+1;i<t.length;){var a=t.charCodeAt(i);if(a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122||a===95){s+=t[i++];continue}break}if(!s)throw new TypeError("Missing parameter name at ".concat(r));e.push({type:"NAME",index:r,value:s}),r=i;continue}if(n==="("){var u=1,f="",i=r+1;if(t[i]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(i));for(;i<t.length;){if(t[i]==="\\"){f+=t[i++]+t[i++];continue}if(t[i]===")"){if(u--,u===0){i++;break}}else if(t[i]==="("&&(u++,t[i+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(i));f+=t[i++]}if(u)throw new TypeError("Unbalanced pattern at ".concat(r));if(!f)throw new TypeError("Missing pattern at ".concat(r));e.push({type:"PATTERN",index:r,value:f}),r=i;continue}e.push({type:"CHAR",index:r,value:t[r++]})}return e.push({type:"END",index:r,value:""}),e}function Xe(t,e){e===void 0&&(e={});for(var r=ke(t),n=e.prefixes,s=n===void 0?"./":n,i="[^".concat(F(e.delimiter||"/#?"),"]+?"),a=[],u=0,f=0,o="",d=function(b){if(f<r.length&&r[f].type===b)return r[f++].value},y=function(b){var C=d(b);if(C!==void 0)return C;var N=r[f],z=N.type,V=N.index;throw new TypeError("Unexpected ".concat(z," at ").concat(V,", expected ").concat(b))},c=function(){for(var b="",C;C=d("CHAR")||d("ESCAPED_CHAR");)b+=C;return b};f<r.length;){var h=d("CHAR"),R=d("NAME"),w=d("PATTERN");if(R||w){var _=h||"";s.indexOf(_)===-1&&(o+=_,_=""),o&&(a.push(o),o=""),a.push({name:R||u++,prefix:_,suffix:"",pattern:w||i,modifier:d("MODIFIER")||""});continue}var m=h||d("ESCAPED_CHAR");if(m){o+=m;continue}o&&(a.push(o),o="");var B=d("OPEN");if(B){var _=c(),j=d("NAME")||"",p=d("PATTERN")||"",D=c();y("CLOSE"),a.push({name:j||(p?u++:""),pattern:j&&!p?i:p,prefix:_,suffix:D,modifier:d("MODIFIER")||""});continue}y("END")}return a}function et(t,e){var r=[],n=we(t,r,e);return tt(n,r,e)}function tt(t,e,r){r===void 0&&(r={});var n=r.decode,s=n===void 0?function(i){return i}:n;return function(i){var a=t.exec(i);if(!a)return!1;for(var u=a[0],f=a.index,o=Object.create(null),d=function(c){if(a[c]===void 0)return"continue";var h=e[c-1];h.modifier==="*"||h.modifier==="+"?o[h.name]=a[c].split(h.prefix+h.suffix).map(function(R){return s(R,h)}):o[h.name]=s(a[c],h)},y=1;y<a.length;y++)d(y);return{path:u,index:f,params:o}}}function F(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function Re(t){return t&&t.sensitive?"":"i"}function rt(t,e){if(!e)return t;for(var r=/\((?:\?<(.*?)>)?(?!\?)/g,n=0,s=r.exec(t.source);s;)e.push({name:s[1]||n++,prefix:"",suffix:"",modifier:"",pattern:""}),s=r.exec(t.source);return t}function nt(t,e,r){var n=t.map(function(s){return we(s,e,r).source});return new RegExp("(?:".concat(n.join("|"),")"),Re(r))}function st(t,e,r){return it(Xe(t,r),e,r)}function it(t,e,r){r===void 0&&(r={});for(var n=r.strict,s=n===void 0?!1:n,i=r.start,a=i===void 0?!0:i,u=r.end,f=u===void 0?!0:u,o=r.encode,d=o===void 0?function(V){return V}:o,y=r.delimiter,c=y===void 0?"/#?":y,h=r.endsWith,R=h===void 0?"":h,w="[".concat(F(R),"]|$"),_="[".concat(F(c),"]"),m=a?"^":"",B=0,j=t;B<j.length;B++){var p=j[B];if(typeof p=="string")m+=F(d(p));else{var D=F(d(p.prefix)),b=F(d(p.suffix));if(p.pattern)if(e&&e.push(p),D||b)if(p.modifier==="+"||p.modifier==="*"){var C=p.modifier==="*"?"?":"";m+="(?:".concat(D,"((?:").concat(p.pattern,")(?:").concat(b).concat(D,"(?:").concat(p.pattern,"))*)").concat(b,")").concat(C)}else m+="(?:".concat(D,"(").concat(p.pattern,")").concat(b,")").concat(p.modifier);else p.modifier==="+"||p.modifier==="*"?m+="((?:".concat(p.pattern,")").concat(p.modifier,")"):m+="(".concat(p.pattern,")").concat(p.modifier);else m+="(?:".concat(D).concat(b,")").concat(p.modifier)}}if(f)s||(m+="".concat(_,"?")),m+=r.endsWith?"(?=".concat(w,")"):"$";else{var N=t[t.length-1],z=typeof N=="string"?_.indexOf(N[N.length-1])>-1:N===void 0;s||(m+="(?:".concat(_,"(?=").concat(w,"))?")),z||(m+="(?=".concat(_,"|").concat(w,")"))}return new RegExp(m,Re(r))}function we(t,e,r){return t instanceof RegExp?rt(t,e):Array.isArray(t)?nt(t,e,r):st(t,e,r)}function at(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=ot(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,s=function(){};return{s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(o){throw o},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,a=!1,u;return{s:function(){r=r.call(t)},n:function(){var o=r.next();return i=o.done,o},e:function(o){a=!0,u=o},f:function(){try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}}}function ot(t,e){if(t){if(typeof t=="string")return oe(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oe(t,e)}}function oe(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Se=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=e.indexOf("http")==0?void 0:"http://localhost",n=new URL(e,r);return n},K=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=Se(e),n=[];if(r.search){var s=at(r.searchParams.keys()),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;n.push(a)}}catch(u){s.e(u)}finally{s.f()}}return{path:r.host+r.pathname,searchParamKeys:n}};function Y(t){"@babel/helpers - typeof";return Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(t)}function ue(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Y(t)==="object"?(this.method=e.method||t.method||"GET",this.url=t.url,this.body=e.body||t.body||null,this.signal=e.signal||t.signal||null):(this.method=e.method||"GET",this.url=t,this.body=e.body||null,this.signal=e.signal||null);var r=Se(this.url);r.search&&(this.searchParams=Object.fromEntries(new URLSearchParams(r.search)))}var E=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global||{},v={searchParams:"URLSearchParams"in E,iterable:"Symbol"in E&&"iterator"in Symbol,blob:"FileReader"in E&&"Blob"in E&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in E,arrayBuffer:"ArrayBuffer"in E};function ut(t){return t&&DataView.prototype.isPrototypeOf(t)}if(v.arrayBuffer)var lt=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],ft=ArrayBuffer.isView||function(t){return t&&lt.indexOf(Object.prototype.toString.call(t))>-1};function L(t){if(typeof t!="string"&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||t==="")throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function te(t){return typeof t!="string"&&(t=String(t)),t}function re(t){var e={next:function(){var r=t.shift();return{done:r===void 0,value:r}}};return v.iterable&&(e[Symbol.iterator]=function(){return e}),e}function g(t){this.map={},t instanceof g?t.forEach(function(e,r){this.append(r,e)},this):Array.isArray(t)?t.forEach(function(e){if(e.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}g.prototype.append=function(t,e){t=L(t),e=te(e);var r=this.map[t];this.map[t]=r?r+", "+e:e};g.prototype.delete=function(t){delete this.map[L(t)]};g.prototype.get=function(t){return t=L(t),this.has(t)?this.map[t]:null};g.prototype.has=function(t){return this.map.hasOwnProperty(L(t))};g.prototype.set=function(t,e){this.map[L(t)]=te(e)};g.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)};g.prototype.keys=function(){var t=[];return this.forEach(function(e,r){t.push(r)}),re(t)};g.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),re(t)};g.prototype.entries=function(){var t=[];return this.forEach(function(e,r){t.push([r,e])}),re(t)};v.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function J(t){if(!t._noBody){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}}function Oe(t){return new Promise(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}function dt(t){var e=new FileReader,r=Oe(e);return e.readAsArrayBuffer(t),r}function ct(t){var e=new FileReader,r=Oe(e),n=/charset=([A-Za-z0-9_-]+)/.exec(t.type),s=n?n[1]:"utf-8";return e.readAsText(t,s),r}function ht(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}function le(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function Ae(){return this.bodyUsed=!1,this._initBody=function(t){this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?typeof t=="string"?this._bodyText=t:v.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:v.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():v.arrayBuffer&&v.blob&&ut(t)?(this._bodyArrayBuffer=le(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):v.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||ft(t))?this._bodyArrayBuffer=le(t):this._bodyText=t=Object.prototype.toString.call(t):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof t=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var t=J(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=J(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(v.blob)return this.blob().then(dt);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var t=J(this);if(t)return t;if(this._bodyBlob)return ct(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(ht(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(gt)}),this.json=function(){return this.text().then(JSON.parse)},this}var pt=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function yt(t){var e=t.toUpperCase();return pt.indexOf(e)>-1?e:t}function q(t,e){if(!(this instanceof q))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e=e||{};var r=e.body;if(t instanceof q){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new g(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,!r&&t._bodyInit!=null&&(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",(e.headers||!this.headers)&&(this.headers=new g(e.headers)),this.method=yt(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal||function(){if("AbortController"in E){var i=new AbortController;return i.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),(this.method==="GET"||this.method==="HEAD")&&(e.cache==="no-store"||e.cache==="no-cache")){var n=/([?&])_=[^&]*/;if(n.test(this.url))this.url=this.url.replace(n,"$1_="+new Date().getTime());else{var s=/\?/;this.url+=(s.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}q.prototype.clone=function(){return new q(this,{body:this._bodyInit})};function gt(t){var e=new FormData;return t.trim().split("&").forEach(function(r){if(r){var n=r.split("="),s=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(s),decodeURIComponent(i))}}),e}function mt(t){var e=new g,r=t.replace(/\r?\n[\t ]+/g," ");return r.split("\r").map(function(n){return n.indexOf(`
`)===0?n.substr(1,n.length):n}).forEach(function(n){var s=n.split(":"),i=s.shift().trim();if(i){var a=s.join(":").trim();try{e.append(i,a)}catch(u){console.warn("Response "+u.message)}}}),e}Ae.call(q.prototype);function T(t,e){if(!(this instanceof T))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(e||(e={}),this.type="default",this.status=e.status===void 0?200:e.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText===void 0?"":""+e.statusText,this.headers=new g(e.headers),this.url=e.url||"",this._initBody(t)}Ae.call(T.prototype);T.prototype.clone=function(){return new T(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})};T.error=function(){var t=new T(null,{status:200,statusText:""});return t.ok=!1,t.status=0,t.type="error",t};var Et=[301,302,303,307,308];T.redirect=function(t,e){if(Et.indexOf(e)===-1)throw new RangeError("Invalid status code");return new T(null,{status:e,headers:{location:t}})};var x=E.DOMException;try{new x}catch{x=function(e,r){this.message=e,this.name=r;var n=Error(e);this.stack=n.stack},x.prototype=Object.create(Error.prototype),x.prototype.constructor=x}function Te(t,e){return new Promise(function(r,n){var s=new q(t,e);if(s.signal&&s.signal.aborted)return n(new x("Aborted","AbortError"));var i=new XMLHttpRequest;function a(){i.abort()}i.onload=function(){var o={statusText:i.statusText,headers:mt(i.getAllResponseHeaders()||"")};s.url.indexOf("file://")===0&&(i.status<200||i.status>599)?o.status=200:o.status=i.status,o.url="responseURL"in i?i.responseURL:o.headers.get("X-Request-URL");var d="response"in i?i.response:i.responseText;setTimeout(function(){r(new T(d,o))},0)},i.onerror=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},i.ontimeout=function(){setTimeout(function(){n(new TypeError("Network request timed out"))},0)},i.onabort=function(){setTimeout(function(){n(new x("Aborted","AbortError"))},0)};function u(o){try{return o===""&&E.location.href?E.location.href:o}catch{return o}}if(i.open(s.method,u(s.url),!0),s.credentials==="include"?i.withCredentials=!0:s.credentials==="omit"&&(i.withCredentials=!1),"responseType"in i&&(v.blob?i.responseType="blob":v.arrayBuffer&&(i.responseType="arraybuffer")),e&&typeof e.headers=="object"&&!(e.headers instanceof g||E.Headers&&e.headers instanceof E.Headers)){var f=[];Object.getOwnPropertyNames(e.headers).forEach(function(o){f.push(L(o)),i.setRequestHeader(o,te(e.headers[o]))}),s.headers.forEach(function(o,d){f.indexOf(d)===-1&&i.setRequestHeader(d,o)})}else s.headers.forEach(function(o,d){i.setRequestHeader(d,o)});s.signal&&(s.signal.addEventListener("abort",a),i.onreadystatechange=function(){i.readyState===4&&s.signal.removeEventListener("abort",a)}),i.send(typeof s._bodyInit>"u"?null:s._bodyInit)})}Te.polyfill=!0;E.fetch||(E.fetch=Te,E.Headers=g,E.Request=q,E.Response=T);var Pe={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"};function vt(t,e){return Rt(t)||bt(t,e)||De(t,e)||_t()}function _t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,a,u=[],f=!0,o=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;f=!1}else for(;!(f=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);f=!0);}catch(d){o=!0,s=d}finally{try{if(!f&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(o)throw s}}return u}}function Rt(t){if(Array.isArray(t))return t}function wt(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=De(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,s=function(){};return{s,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(o){throw o},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,a=!1,u;return{s:function(){r=r.call(t)},n:function(){var o=r.next();return i=o.done,o},e:function(o){a=!0,u=o},f:function(){try{!i&&r.return!=null&&r.return()}finally{if(a)throw u}}}}function De(t,e){if(t){if(typeof t=="string")return fe(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fe(t,e)}}function fe(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function St(t,e){var r=wt(e),n;try{for(r.s();!(n=r.n()).done;){var s=vt(n.value,2),i=s[0],a=s[1];t.setRequestHeader(i,a)}}catch(u){r.e(u)}finally{r.f()}}function Ot(t){var e={};return t.getAllResponseHeaders().trim().split(/[\r\n]+/).map(function(r){return r.split(/: /)}).forEach(function(r){r[0]&&(e[r[0].trim()]=r[1]&&r[1].trim())}),e}var Z={"content-type":"application/json"};function $(t){"@babel/helpers - typeof";return $=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(t)}function de(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function At(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?de(Object(r),!0).forEach(function(n){Tt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Tt(t,e,r){return e=Pt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pt(t){var e=Dt(t,"string");return $(e)==="symbol"?e:String(e)}function Dt(t,e){if($(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if($(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ce(t,e,r){var n=typeof r=="string"?r:JSON.stringify(r);return new Response(n,{ok:(e/100|0)===2,status:e,statusText:Pe[e.toString()],headers:new Headers(At({},Z)),url:t})}function Ct(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;var r=t.slice().sort(),n=e.slice().sort();return!r.some(function(s,i){return s!==n[i]})}function k(t){"@babel/helpers - typeof";return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(t)}var Nt=["GET","PUT","POST","DELETE","PATCH","OPTIONS"],xt=Object.keys(Pe),Ce=function(e){return e&&!Array.isArray(e)&&k(e)==="object"},Ht={url:function(e){return typeof e=="string"},method:function(e){return typeof e=="string"&&Nt.find(function(r){return r.toLowerCase()===e.toLowerCase()})},status:function(e){return e&&xt.indexOf(e.toString())>=0},response:function(e){return(Ce(e)||Array.isArray(e)||typeof e=="function")&&e!==null},delay:function(e){return e?typeof e=="number":!0}};function qt(t,e){if(!Ce(t))return["item: ".concat(JSON.stringify(t)," is not a valid object.")];var r=Object.keys(e).filter(function(n){return!e[n](t[n])}).map(function(n){return n+": ".concat(JSON.stringify(t[n])," is not valid.")});return r}function M(t){"@babel/helpers - typeof";return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(t)}function he(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function pe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?he(Object(r),!0).forEach(function(n){S(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):he(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function It(t){return Bt(t)||Lt(t)||Ft(t)||Ut()}function Ut(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ft(t,e){if(t){if(typeof t=="string")return X(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X(t,e)}}function Lt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bt(t){if(Array.isArray(t))return X(t)}function X(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ne(n.key),n)}}function $t(t,e,r){return e&&ye(t.prototype,e),r&&ye(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function S(t,e,r){return e=Ne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ne(t){var e=Mt(t,"string");return M(e)==="symbol"?e:String(e)}function Mt(t,e){if(M(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(M(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var A=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof A<"u"&&A||{},Gt=function(){function t(){var e=this;jt(this,t),S(this,"getRequests",function(){return Object.values(e.requestMap)}),S(this,"getKey",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"GET";return r&&s?[r].concat(It(n),[s.toLowerCase()]).join("_"):""}),S(this,"makeInitialRequestMap",function(r){!r||!Array.isArray(r)||(e.restore(),r.forEach(function(n){e.add(n)}))}),S(this,"setIgnoreQueryParams",function(r){e.ignoreQueryParams=r}),S(this,"add",function(r){var n=K(r.url),s=n.path,i=n.searchParamKeys,a=e.getKey(s,i,r.method),u=qt(r,Ht);if(u&&u.length){e.requestMap[a]={errors:u,originalRequest:r};return}e.requestMap[a]=pe(pe({},r),{},{path:s,searchParamKeys:i,method:r.method||"GET",status:r.status||200,delay:r.delay||0,skip:!1,errors:[]})}),S(this,"update",function(r,n,s){var i=r.url,a=r.method,u=K(i),f=u.path,o=u.searchParamKeys,d=e.getKey(f,o,a);e.requestMap.hasOwnProperty(d)&&e.requestMap[d].hasOwnProperty(n)&&(e.requestMap[d][n]=s)}),S(this,"matchMock",function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GET",s=K(r),i=s.path,a=s.searchParamKeys;for(var u in e.requestMap){var f=e.requestMap[u],o=f.url,d=f.method,y=K(o),c=y.path,h=y.searchParamKeys;if(et(c)(i)&&n==d&&e.matchQueryParams(a,h)&&!e.requestMap[u].skip)return e.requestMap[u]}return null}),S(this,"matchQueryParams",function(r,n){return e.ignoreQueryParams||Ct(r,n)}),S(this,"mockFetch",function(r,n){var s=new ue(r,n),i=s.url,a=s.method,u=e.matchMock(i,a);if(!u)return A.realFetch(r,n);var f=u.response,o=u.status,d=u.delay,y=d===void 0?0:d,c=!1;return new Promise(function(h,R){var w,_=setTimeout(function(){h(typeof f=="function"?ce(i,o,f(s)):ce(i,o,f)),c=!0},+y);(w=s.signal)===null||w===void 0||w.addEventListener("abort",function(){if(!c){_&&clearTimeout(_);var m=new Error(s.signal.reason);m.name="AbortError",R(m)}})})}),S(this,"mockXhrRequest",function(r){var n=r.method,s=r.url,i=r.body,a=e.matchMock(s,n);if(a){var u=a.response,f=a.status,o=a.delay,d=o===void 0?0:o;setTimeout(function(){if(typeof u=="function"){var R=u(new ue(s,{method:n,body:i}));r.respond(+f,Z,JSON.stringify(R))}else r.respond(+f,Z,JSON.stringify(u))},+d)}else{var y=A.realXMLHttpRequest,c=new y,h=r._responseReceiver;c.open(n,s),c.timeout=h.timeout,c.withCredentials=h.withCredentials,e.transferEventListeners(h,c),St(c,new Map(Object.entries(r.requestHeaders.getHash()))),c.addEventListener("readystatechange",function(){c.readyState===XMLHttpRequest.DONE&&r.respond(c.status,Ot(c),c.responseText,c.statusText)}),c.addEventListener("abort",function(){return r.abort()}),c.addEventListener("error",function(){return r.setNetworkError()}),c.addEventListener("timeout",function(){return r.setRequestTimeout()}),c.send(i)}}),S(this,"restore",function(){e.requestMap={},e.ignoreQueryParams=!1}),this.MockXhr=Ze(),this.MockXhr.onSend=this.mockXhrRequest,A.realFetch=A.fetch,A.realXMLHttpRequest=A.XMLHttpRequest,A.fetch=this.mockFetch,A.XMLHttpRequest=this.MockXhr,this.requestMap={},this.ignoreQueryParams=!1}return $t(t,[{key:"transferEventListeners",value:function(r,n){r._listeners.forEach(function(s,i){i!=="loadstart"&&s.forEach(function(a){var u=a.isEventHandlerProperty,f=a.listener,o=a.useCapture,d=a.once;u?n["on".concat(i)]=f:n.addEventListener(i,f,{once:d,capture:o})})}),r._listeners.clear()}}]),t}();const P=new Gt;function ge(t){return Qt(t)||Vt(t)||zt(t)||Kt()}function Kt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zt(t,e){if(t){if(typeof t=="string")return ee(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ee(t,e)}}function Vt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qt(t){if(Array.isArray(t))return ee(t)}function ee(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const{FORCE_RE_RENDER:Jt,STORY_CHANGED:Wt}=__STORYBOOK_MODULE_CORE_EVENTS__,{addons:Yt}=__STORYBOOK_MODULE_ADDONS__;var me=function(e,r,n){return e[r]||n},Ee=!0,W=!1,U=Yt.getChannel(),Zt=function(e,r){var n=r.parameters,s=me(n,xe,[]),i=me(n,He,{refreshStoryOnUpdate:!1,globalMockData:[],disableUsingOriginal:!1,ignoreQueryParams:!1}),a=i.globalMockData,u=i.refreshStoryOnUpdate,f=i.disableUsingOriginal,o=i.ignoreQueryParams,d=[].concat(ge(a),ge(s));return Ee&&(P.makeInitialRequestMap(d),P.setIgnoreQueryParams(o),U.emit(G.SEND,{mockData:P.getRequests(),disableUsingOriginal:f}),U.on(Wt,function(){W=!0}),U.on(G.UPDATE,function(y){var c=y.item,h=y.key,R=y.value;P.update(c,h,R);var w=P.getRequests();U.emit(G.SEND,{mockData:w,disableUsingOriginal:f}),u&&U.emit(Jt)}),Ee=!1),W&&(P.makeInitialRequestMap(d),P.setIgnoreQueryParams(o),U.emit(G.SEND,{mockData:P.getRequests(),disableUsingOriginal:f}),W=!1),e(r)},Xt=[Zt];export{Xt as decorators};
