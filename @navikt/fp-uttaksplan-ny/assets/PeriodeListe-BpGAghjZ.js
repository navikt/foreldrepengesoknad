import{T as v,q as o,e as g,j as f,r as c,s as y}from"./iframe-BvaowQhO.js";import{n as F,u as h,c as x}from"./TidsperiodeSpørsmål-D6-9Ol9s.js";import{n as E,o as T,p as k,j as U,q as S,r as q,h as I,t as w,k as p}from"./PeriodeListeItem-BCLb-AGp.js";const L=(i,s,r)=>!s||!i?!1:!!(g(i.tidsperiode.tom).isBefore(r)&&g(s.tom).isBefore(r)),O=(i,s,r)=>!s||!i?!1:!!(g(i.tidsperiode.fom).isSameOrAfter(r)&&g(s.fom).isSameOrAfter(r)),b=(i,s,r)=>O(i,s,r)||L(i,s,r),j=(i,s)=>{const r=[];if(i.length===0)return r;let t,n,a=!1;return i.forEach((e,l)=>{const P=l+1;let m;if(a){a=!1;return}P<i.length?m=i[P]:m=void 0;const d=b(t,e,s);if(m!==void 0&&(a=v({fom:e.fom,tom:e.tom}).erLik({fom:m.fom,tom:m.tom})),a&&m!==void 0){t={perioder:[{...e},{...m}],tidsperiode:{fom:o(e.fom),tom:o(e.tom)},samtidigUttak:!0},r.push(t),t=void 0,n=void 0,a=!0;return}if(E(e)||T(e)||k(e)){const u=e.forelder;t?n===e.forelder&&d?(t.perioder=[...t.perioder,{...e}],t.tidsperiode.tom=o(e.tom)):t={forelder:u,perioder:[{...e}],tidsperiode:{fom:o(e.fom),tom:o(e.tom)}}:t={forelder:u,perioder:[{...e}],tidsperiode:{fom:o(e.fom),tom:o(e.tom)},samtidigUttak:!!e.samtidigUttak},r.includes(t)||r.push(t),n=e.forelder;return}U(e)&&(t={perioder:[{...e}],tidsperiode:{fom:o(e.fom),tom:o(e.tom)},erPeriodeUtenUttak:!0},r.push(t),n=void 0,t=void 0),S(e)&&(t={perioder:[{...e}],tidsperiode:{fom:o(e.fom),tom:o(e.tom)},erUtsettelse:!0},r.push(t),n=void 0,t=void 0),q(e)&&(t={forelder:e.forelder,perioder:[{...e}],tidsperiode:{fom:o(e.fom),tom:o(e.tom)},erUtsettelse:!1},r.push(t),n=void 0,t=void 0),I(e)&&(t={perioder:[{...e}],tidsperiode:{fom:o(e.fom),tom:o(e.tom)},erHull:!0},r.push(t),n=void 0,t=void 0)}),r},$=({perioder:i,handleUpdatePeriode:s,handleDeletePeriode:r,handleDeletePerioder:t,handleAddPeriode:n,isAllAccordionsOpen:a})=>{const e=F(h(x.FAMILIEHENDELSEDATO)),l=j(i,e),P=H(l,e),m=w(i).getPerioderEtterFamiliehendelsesdato(e);return f.jsx("div",{children:l.map((d,u)=>m.length===0?f.jsxs(c.Fragment,{children:[f.jsx(p,{handleAddPeriode:n,handleUpdatePeriode:s,handleDeletePeriode:r,handleDeletePerioder:t,permisjonsperiode:d,isAllAccordionsOpen:a}),l.length-1===u&&f.jsx(p,{handleAddPeriode:n,handleUpdatePeriode:s,handleDeletePeriode:r,handleDeletePerioder:t,permisjonsperiode:d,erFamiliehendelse:!0,isAllAccordionsOpen:a})]},`${d.tidsperiode.fom}-${d.tidsperiode.tom}`):f.jsxs(c.Fragment,{children:[P===u&&f.jsx(p,{handleAddPeriode:n,handleUpdatePeriode:s,handleDeletePeriode:r,handleDeletePerioder:t,permisjonsperiode:d,erFamiliehendelse:!0,isAllAccordionsOpen:a}),f.jsx(p,{handleAddPeriode:n,handleUpdatePeriode:s,handleDeletePeriode:r,handleDeletePerioder:t,permisjonsperiode:d,isAllAccordionsOpen:a})]},`${d.tidsperiode.fom}-${d.tidsperiode.tom}`))})},H=(i,s)=>i.findIndex(r=>y(r.tidsperiode)&&g(r.tidsperiode.fom).isSameOrAfter(s,"d"));$.__docgenInfo={description:"",methods:[],displayName:"PeriodeListe",props:{perioder:{required:!0,tsType:{name:"Array",elements:[{name:"Planperiode"}],raw:"Planperiode[]"},description:""},handleAddPeriode:{required:!0,tsType:{name:"signature",type:"function",raw:"(nyPeriode: Planperiode) => void",signature:{arguments:[{type:{name:"Planperiode"},name:"nyPeriode"}],return:{name:"void"}}},description:""},handleUpdatePeriode:{required:!0,tsType:{name:"signature",type:"function",raw:"(oppdatertPeriode: Planperiode) => void",signature:{arguments:[{type:{name:"Planperiode"},name:"oppdatertPeriode"}],return:{name:"void"}}},description:""},handleDeletePeriode:{required:!0,tsType:{name:"signature",type:"function",raw:"(slettetPeriode: Planperiode) => void",signature:{arguments:[{type:{name:"Planperiode"},name:"slettetPeriode"}],return:{name:"void"}}},description:""},handleDeletePerioder:{required:!0,tsType:{name:"signature",type:"function",raw:"(slettedePerioder: Planperiode[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"Planperiode"}],raw:"Planperiode[]"},name:"slettedePerioder"}],return:{name:"void"}}},description:""},isAllAccordionsOpen:{required:!1,tsType:{name:"boolean"},description:""}}};export{$ as P};
