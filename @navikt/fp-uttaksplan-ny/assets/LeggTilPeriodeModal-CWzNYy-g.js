import{m as _,p as $,l as e,V as M,q as P,s as h,M as u,t as S,v as D,w as F,r as H,x as T,H as C}from"./iframe-B2KMqewF.js";import{i as G,c as O,P as E,n as B,u as K,b as z,K as J,T as k,d as W,G as Q,M as V,F as x,g as X,e as Y,S as f,h as Z}from"./TidsperiodeSpørsmål-KkSNJiUt.js";const q=()=>{const a=_(),{control:t}=$();return e.jsx(M,{gap:"space-16",children:e.jsxs(P,{name:"årsak",control:t,validate:[G(a.formatMessage({id:"leggTilPeriodeModal.hvaVilDuGjøre.påkrevd"}))],children:[e.jsx(h,{value:O.Ferie,children:e.jsx(u,{id:"uttaksplan.oppholdsårsakModal.ferie"})}),e.jsx(h,{value:E.PERIODE_UTEN_UTTAK,children:e.jsx(u,{id:"uttaksplan.oppholdsårsakModal.periodeUtenForeldrepenger"})})]})})};q.__docgenInfo={description:"",methods:[],displayName:"OppholdsÅrsakSpørsmål"};const L=({modalData:a,closeModal:t,setModalData:m,handleAddPeriode:d,erBarnetFødt:s,gjelderAdopsjon:o,isOpphold:n})=>{const{forelder:y,kontoType:c,fom:g,tom:w,årsak:j}=a,R=B(K(z.ALENE_OM_OMSORG)),U=S({defaultValues:{forelder:y,kontoType:c,fom:g,tom:w,årsak:j}}),A=(r,i)=>{switch(r){case f.Fedrekvote:return x.farMedmor;case f.Mødrekvote:case f.ForeldrepengerFørFødsel:return x.mor;default:return i}},N=r=>{const i=r.fom,l=r.tom,p=r.årsak;p===O.Ferie?d({fom:i,tom:l,id:`${i} - ${l} - ${p}`,readOnly:!1,forelder:x.farMedmor,utsettelseÅrsak:p}):p===E.PERIODE_UTEN_UTTAK?d({fom:i,tom:l,id:`${i} - ${l} - ${p}`,readOnly:!1,periodeHullÅrsak:p}):d({fom:i,tom:l,id:`${i} - ${l} - ${c}`,readOnly:!1,kontoType:r.kontoType,forelder:A(r.kontoType,r.forelder),gradering:Y(r.skalDuJobbe,r.stillingsprosent,r.kontoType),samtidigUttak:r.samtidigUttak?X(r.samtidigUttaksprosent):void 0}),t()};return e.jsx(D,{formMethods:U,onSubmit:N,id:"skjema",children:e.jsxs(M,{gap:"space-16",children:[n===!1?e.jsxs(e.Fragment,{children:[e.jsx(J,{}),e.jsx(k,{erBarnetFødt:s,gjelderAdopsjon:o,oppholdsårsak:j}),!R&&e.jsx(W,{}),e.jsx(Q,{})]}):null,n?e.jsxs(e.Fragment,{children:[e.jsx(q,{}),e.jsx(k,{erBarnetFødt:s,gjelderAdopsjon:o,oppholdsårsak:j})]}):null,e.jsx(V,{onCancel:t,onGoPreviousStep:()=>{m({...a,currentStep:"step1"})},isFinalStep:!0})]})})};L.__docgenInfo={description:"",methods:[],displayName:"LeggTilPeriodeModalStep",props:{modalData:{required:!0,tsType:{name:"ModalData"},description:""},closeModal:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},setModalData:{required:!0,tsType:{name:"signature",type:"function",raw:"(data: ModalData) => void",signature:{arguments:[{type:{name:"ModalData"},name:"data"}],return:{name:"void"}}},description:""},erBarnetFødt:{required:!0,tsType:{name:"boolean"},description:""},gjelderAdopsjon:{required:!0,tsType:{name:"boolean"},description:""},handleAddPeriode:{required:!0,tsType:{name:"signature",type:"function",raw:"(nyPeriode: Planperiode) => void",signature:{arguments:[{type:{name:"Planperiode"},name:"nyPeriode"}],return:{name:"void"}}},description:""},isOpphold:{required:!0,tsType:{name:"boolean"},description:""}}};var b=(a=>(a.LEGG_TIL_PERIODE="leggTilPeriode",a.LEGG_TIL_OPPHOLD="leggTilOpphold",a))(b||{});const I=({modalData:a,setModalData:t,closeModal:m})=>{const d=_(),s=S({defaultValues:{hvaVilDuGjøre:a.hvaVilDuGjøre}}),o=n=>{t({...a,hvaVilDuGjøre:n.hvaVilDuGjøre,currentStep:"step2"})};return e.jsxs(e.Fragment,{children:[e.jsx(F,{size:"medium",children:e.jsx(u,{id:"uttaksplan.valgModal.tittel"})}),e.jsx(D,{formMethods:s,onSubmit:o,id:"skjema",children:e.jsxs(M,{gap:"space-16",children:[e.jsxs(P,{name:"hvaVilDuGjøre",control:s.control,validate:[G(d.formatMessage({id:"leggTilPeriodeModal.hvaVilDuGjøre.påkrevd"}))],children:[e.jsx(h,{value:"leggTilPeriode",children:e.jsx(u,{id:"uttaksplan.valgModal.leggTilPeriode"})}),e.jsx(h,{value:"leggTilOpphold",children:e.jsx(u,{id:"uttaksplan.valgModal.leggTilFerieEllerOpphold"})})]}),e.jsx(V,{onCancel:m,isFinalStep:!1})]})})]})};I.__docgenInfo={description:"",methods:[],displayName:"ValgModalStep",props:{modalData:{required:!0,tsType:{name:"ModalData"},description:""},setModalData:{required:!0,tsType:{name:"signature",type:"function",raw:"(data: ModalData) => void",signature:{arguments:[{type:{name:"ModalData"},name:"data"}],return:{name:"void"}}},description:""},closeModal:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const v="legg-til-periode-modal-heading",ee=({closeModal:a,handleAddPeriode:t,erBarnetFødt:m,gjelderAdopsjon:d})=>{const s={hvaVilDuGjøre:void 0,fom:void 0,tom:void 0,currentStep:"step1",kontoType:void 0,forelder:void 0,årsak:void 0},[o,n]=H.useState(s),{hvaVilDuGjøre:y,currentStep:c}=o,g=()=>{n(s),a()};return e.jsxs(T,{className:"w-[100%]",open:!0,"aria-labelledby":v,onClose:g,children:[e.jsx(T.Header,{className:"bg-ax-neutral-200A mb-4",closeButton:!1,children:e.jsxs(C,{gap:"space-8",align:"center",children:[e.jsx(Z,{"aria-hidden":!0,width:24,height:24}),e.jsx(F,{size:"medium",id:v,children:e.jsx(u,{id:"uttaksplan.leggTilPeriode"})})]})}),e.jsxs(T.Body,{children:[c==="step1"&&e.jsx(I,{modalData:o,setModalData:n,closeModal:g}),c==="step2"&&e.jsx(L,{modalData:o,setModalData:n,closeModal:g,erBarnetFødt:m,gjelderAdopsjon:d,handleAddPeriode:t,isOpphold:y===b.LEGG_TIL_OPPHOLD})]})]})};ee.__docgenInfo={description:"",methods:[],displayName:"LeggTilPeriodeModal",props:{closeModal:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},handleAddPeriode:{required:!0,tsType:{name:"signature",type:"function",raw:"(nyPeriode: Planperiode) => void",signature:{arguments:[{type:{name:"Planperiode"},name:"nyPeriode"}],return:{name:"void"}}},description:""},erBarnetFødt:{required:!0,tsType:{name:"boolean"},description:""},gjelderAdopsjon:{required:!0,tsType:{name:"boolean"},description:""}}};export{ee as L};
