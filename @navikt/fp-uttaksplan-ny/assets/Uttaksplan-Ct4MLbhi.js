import{r as J,u as Z,R as V,j as a,H as $,V as H,i as C,M as z,k as B}from"./iframe-5vEJMqoj.js";import{a as I,s as v,l as N,f as Q,b as w,c as R,d as W,u as h,m as M,e as F,h as k,j as U}from"./PeriodeListeItem-BH3QmxZ3.js";import{F as K,a as ee}from"./TidsperiodeSpørsmål-C_zeGepZ.js";import{L as ne}from"./LeggTilPeriodePanel-BwX2tdM0.js";import{P as re}from"./PeriodeListe-D06Zvl6M.js";var te=function(t,r){var n={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.indexOf(e)<0&&(n[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,e=Object.getOwnPropertySymbols(t);i<e.length;i++)r.indexOf(e[i])<0&&Object.prototype.propertyIsEnumerable.call(t,e[i])&&(n[e[i]]=t[e[i]]);return n};const ie=J.forwardRef((t,r)=>{var{title:n,titleId:e}=t,i=te(t,["title","titleId"]);let o=Z();return o=n?e||"title-"+o:void 0,V.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:r,"aria-labelledby":o},i),n?V.createElement("title",{id:o},n):null,V.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M16.97 2.97a2.871 2.871 0 1 1 4.06 4.06l-1.5 1.5-4.5 4.5a.75.75 0 0 1-.293.181l-4.5 1.5a.75.75 0 0 1-.949-.948l1.5-4.5a.75.75 0 0 1 .182-.293l4.497-4.497.003-.003.003-.003zM16 6.06l-3.844 3.845-.97 2.91 2.909-.97L17.939 8zm3 .88L17.06 5l.97-.97a1.371 1.371 0 0 1 1.94 1.94zM3.25 5c0-.966.784-1.75 1.75-1.75h1.75a.75.75 0 0 1 0 1.5H5a.25.25 0 0 0-.25.25v1.75a.75.75 0 0 1-1.5 0zM9.5 4a.75.75 0 0 1 .75-.75H12a.75.75 0 0 1 0 1.5h-1.75A.75.75 0 0 1 9.5 4M4 9.5a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 4 9.5m16 1.75a.75.75 0 0 1 .75.75v1.75a.75.75 0 0 1-1.5 0V12a.75.75 0 0 1 .75-.75M4 16.5a.75.75 0 0 1 .75.75V19c0 .138.112.25.25.25h1.75a.75.75 0 0 1 0 1.5H5A1.75 1.75 0 0 1 3.25 19v-1.75A.75.75 0 0 1 4 16.5m16 0a.75.75 0 0 1 .75.75V19A1.75 1.75 0 0 1 19 20.75h-1.75a.75.75 0 0 1 0-1.5H19a.25.25 0 0 0 .25-.25v-1.75a.75.75 0 0 1 .75-.75M9.5 20a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5A.75.75 0 0 1 9.5 20",clipRule:"evenodd"}))}),oe=(t,r)=>{const n={...t};return delete n[r],n},ue=(t,r)=>{let n=t;for(const e of r)n=oe(n,e);return n},X=({perioder:t,slettetPeriode:r,familiehendelsesdato:n,harAktivitetskravIPeriodeUtenUttak:e,erAdopsjon:i,bareFarHarRett:o,erFarEllerMedmor:l,førsteUttaksdagNesteBarnsSak:s})=>t.reduce((u,c,d)=>{if(d===0&&c.id===r.id)return u;if(c.id===r.id){const y={fom:r.fom,tom:r.tom};return u.push(...I(y,e,n,i,o,l,s)),u}return u.push(c),u},[]),le=({perioder:t,endretPeriode:r,originalPeriode:n,familiehendelsesdato:e,harAktivitetskravIPeriodeUtenUttak:i,erAdopsjon:o,bareFarHarRett:l,erFarEllerMedmor:s,annenPartsUttak:p,førsteUttaksdagNesteBarnsSak:u})=>{const c=v(X({perioder:t,slettetPeriode:n,familiehendelsesdato:e,harAktivitetskravIPeriodeUtenUttak:i,erAdopsjon:o,bareFarHarRett:l,erFarEllerMedmor:s,førsteUttaksdagNesteBarnsSak:u}),e,u,p);return v(N({perioder:c,nyPeriode:r,familiehendelsesdato:e,harAktivitetskravIPeriodeUtenUttak:i,erAdopsjon:o,bareFarHarRett:l,erFarEllerMedmor:s,førsteUttaksdagNesteBarnsSak:u}),e,u,p)},L=(t,r,n,e,i,o,l,s,p)=>{let u=v(N({perioder:t,nyPeriode:r,familiehendelsesdato:n,harAktivitetskravIPeriodeUtenUttak:e,erAdopsjon:i,bareFarHarRett:o,erFarEllerMedmor:l,førsteUttaksdagNesteBarnsSak:p}),n,p);return s&&(u=R(u,s,n,p)),w(u,e,n,i,o,l,p)},G=(t,r,n,e,i,o,l,s,p)=>{const u=r.find(d=>d.id===t.id);let c=Q(le({perioder:r,endretPeriode:t,originalPeriode:u,familiehendelsesdato:n,harAktivitetskravIPeriodeUtenUttak:e,erAdopsjon:i,bareFarHarRett:o,erFarEllerMedmor:l,annenPartsUttak:s,førsteUttaksdagNesteBarnsSak:p}));return s&&(c=w(c,e,n,i,o,l,p),c=R(c,s,n,p)),w(c,e,n,i,o,l,p)},j=(t,r,n,e,i,o,l,s,p)=>{let u=Q(v(X({perioder:t,slettetPeriode:r,familiehendelsesdato:n,harAktivitetskravIPeriodeUtenUttak:e,erAdopsjon:i,bareFarHarRett:o,erFarEllerMedmor:l,førsteUttaksdagNesteBarnsSak:p}),n,p));return s&&(u=w(u,e,n,i,o,l,p),u=R(u,s,n,p)),w(u,e,n,i,o,l,p)},S=t=>{if(t)return t===K.mor?K.farMedmor:K.mor},A=({perioder:t,forelder:r,harAktivitetskravIPeriodeUtenUttak:n,familiehendelsedato:e,gjelderAdopsjon:i,bareFarMedmorHarRett:o,erFarEllerMedmor:l,førsteUttaksdagNesteBarnsSak:s,erAnnenPart:p})=>r?p?t.filter(u=>u.forelder===r):w(t.filter(u=>u.forelder===r),n,e,i,o,l,s):p?void 0:t,D=t=>{if(!(!t||t.length===0))return t.filter(r=>W(r))},pe=({perioder:t,harAktivitetskravIPeriodeUtenUttak:r,familiehendelsedato:n,gjelderAdopsjon:e,bareFarMedmorHarRett:i,erFarEllerMedmor:o,førsteUttaksdagNesteBarnsSak:l})=>w(t.filter(s=>!W(s)),r,n,e,i,o,l),q=({periode:t,erIPlanleggerModus:r,opprinneligPlan:n,...e})=>{const i=t.forelder,o=S(i),l=r?A({...e,forelder:i,erAnnenPart:!1}):pe({...e}),s=r?A({...e,forelder:o,erAnnenPart:!0}):D(n);return{søkersPerioder:l??[],annenpartsPerioder:s}},ce=({perioder:t,familiehendelsedato:r,harAktivitetskravIPeriodeUtenUttak:n,gjelderAdopsjon:e,bareFarMedmorHarRett:i,erFarEllerMedmor:o,førsteUttaksdagNesteBarnsSak:l,opprinneligPlan:s,erIPlanleggerModus:p=!1})=>{const u={perioder:t,harAktivitetskravIPeriodeUtenUttak:n,familiehendelsedato:r,gjelderAdopsjon:e,bareFarMedmorHarRett:i,erFarEllerMedmor:o,førsteUttaksdagNesteBarnsSak:l};return{leggTilPeriode:c=>{const{søkersPerioder:d,annenpartsPerioder:y}=q({...u,erIPlanleggerModus:p,opprinneligPlan:s,periode:c});return L(d,c,r,n,e,i,o,y,l)},leggTilPerioder:c=>{const d=S(c[0].forelder),{søkersPerioder:y,annenpartsPerioder:g}=q({...u,erIPlanleggerModus:p,opprinneligPlan:s,periode:c[0]});let m=[];return c.forEach((T,O)=>{if(O===0)m=L(y,T,r,n,e,i,o,g,l);else{const P=p?A({...u,forelder:d,erAnnenPart:!0}):D(s);m=L(t,T,r,n,e,i,o,P,l)}}),m},oppdaterPeriode:c=>{const{søkersPerioder:d,annenpartsPerioder:y}=q({...u,erIPlanleggerModus:p,opprinneligPlan:s,periode:c});return G(c,d,r,n,e,i,o,y,l)},oppdaterPerioder:c=>{const d=S(c[0].forelder),{søkersPerioder:y,annenpartsPerioder:g}=q({...u,erIPlanleggerModus:p,opprinneligPlan:s,periode:c[0]});let m=[];return c.forEach((T,O)=>{if(O===0)m=G(T,y,r,n,e,i,o,g,l);else{const P=p?A({...u,forelder:d,erAnnenPart:!0}):D(s);m=L(m,T,r,n,e,i,o,P,l)}}),m},slettPeriode:c=>{const{søkersPerioder:d,annenpartsPerioder:y}=q({...u,erIPlanleggerModus:p,opprinneligPlan:s,periode:c});return j(d,c,r,n,e,i,o,y,l)},slettPerioder:c=>{const d=S(c[0].forelder),{søkersPerioder:y,annenpartsPerioder:g}=q({...u,erIPlanleggerModus:p,opprinneligPlan:s,periode:c[0]});let m=[];return c.forEach((T,O)=>{if(O===0)m=j(y,T,r,n,e,i,o,g,l);else{const P=p?A({...u,forelder:d,erAnnenPart:!0}):D(s);m=j(m,T,r,n,e,i,o,P,l)}}),m}}},se=({familiehendelsedato:t,erFarEllerMedmor:r,navnPåForeldre:n,barn:e,søkersPerioder:i,annenPartsPerioder:o,gjelderAdopsjon:l,bareFarMedmorHarRett:s,harAktivitetskravIPeriodeUtenUttak:p,førsteUttaksdagNesteBarnsSak:u,familiesituasjon:c,handleOnPlanChange:d,modus:y,valgtStønadskonto:g,erAleneOmOmsorg:m,isAllAccordionsOpen:T,erMedmorDelAvSøknaden:O=!1})=>{const[P,E]=J.useState(!1),b=h({familiehendelsedato:t,erFarEllerMedmor:r,søkersPerioder:i,annenPartsPerioder:o,gjelderAdopsjon:l,bareFarMedmorHarRett:s,harAktivitetskravIPeriodeUtenUttak:p,førsteUttaksdagNesteBarnsSak:u,modus:y}),Y=o?M(o,r,!0,t,y):void 0,x=ce({perioder:b,familiehendelsedato:t,harAktivitetskravIPeriodeUtenUttak:p,gjelderAdopsjon:l,bareFarMedmorHarRett:s,erFarEllerMedmor:r,førsteUttaksdagNesteBarnsSak:u,opprinneligPlan:Y,erIPlanleggerModus:!0});return a.jsxs(ee,{initialState:{BARN:e,ER_FAR_ELLER_MEDMOR:r,FAMILIEHENDELSEDATO:t,NAVN_PÅ_FORELDRE:n,UTTAKSPLAN:b,FAMILIESITUASJON:c,MODUS:y,VALGT_STØNADSKONTO:g,ALENE_OM_OMSORG:m,ER_MEDMOR_DEL_AV_SØKNADEN:O},children:[b.length>0&&a.jsx(re,{perioder:b,handleAddPeriode:f=>{_(x.leggTilPeriode(f),d)},handleUpdatePeriode:f=>{_(x.oppdaterPeriode(f),d)},handleDeletePeriode:f=>{_(x.slettPeriode(f),d)},handleDeletePerioder:f=>{_(x.slettPerioder(f),d)},isAllAccordionsOpen:T}),b.length===0&&a.jsxs($,{gap:"space-12",children:[a.jsx(ie,{fontSize:24}),a.jsxs(H,{gap:"space-8",children:[a.jsx(C,{weight:"semibold",size:"large",children:a.jsx(z,{id:"uttaksplan.ingenPerioder.tittel"})}),a.jsx(C,{children:a.jsx(z,{id:"uttaksplan.ingenPerioder.body"})})]})]}),y!=="innsyn"&&!P&&a.jsx(B,{variant:"secondary",onClick:()=>E(!0),children:a.jsx(z,{id:"uttaksplan.leggTilPeriode"})}),P&&a.jsx(ne,{onCancel:()=>E(!1),handleAddPeriode:f=>{_(x.leggTilPeriode(f),d),E(!1)},erBarnetFødt:F(e),gjelderAdopsjon:l})]})},_=(t,r)=>{const n=t.filter(e=>!k(e)&&!U(e));r(n.map(e=>ue(e,["id","periodeHullÅrsak","readOnly","skalIkkeHaUttakFørTermin"])))};se.__docgenInfo={description:"",methods:[],displayName:"UttaksplanNy",props:{familiehendelsedato:{required:!0,tsType:{name:"string"},description:""},erFarEllerMedmor:{required:!0,tsType:{name:"boolean"},description:""},navnPåForeldre:{required:!0,tsType:{name:"NavnPåForeldre"},description:""},barn:{required:!0,tsType:{name:"union",raw:"FødtBarn | UfødtBarn | AdoptertBarn | AdoptertStebarn | AdoptertAnnetBarn | IkkeUtfyltTypeBarn",elements:[{name:"FødtBarn"},{name:"UfødtBarn"},{name:"AdoptertBarn"},{name:"AdoptertStebarn"},{name:"AdoptertAnnetBarn"},{name:"IkkeUtfyltTypeBarn"}]},description:""},søkersPerioder:{required:!0,tsType:{name:"Array",elements:[{name:"SaksperiodeNy"}],raw:"SaksperiodeNy[]"},description:""},annenPartsPerioder:{required:!1,tsType:{name:"Array",elements:[{name:"SaksperiodeNy"}],raw:"SaksperiodeNy[]"},description:""},gjelderAdopsjon:{required:!0,tsType:{name:"boolean"},description:""},bareFarMedmorHarRett:{required:!0,tsType:{name:"boolean"},description:""},harAktivitetskravIPeriodeUtenUttak:{required:!0,tsType:{name:"boolean"},description:""},førsteUttaksdagNesteBarnsSak:{required:!0,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""},familiesituasjon:{required:!0,tsType:{name:"union",raw:"'fødsel' | 'termin' | 'adopsjon'",elements:[{name:"literal",value:"'fødsel'"},{name:"literal",value:"'termin'"},{name:"literal",value:"'adopsjon'"}]},description:""},handleOnPlanChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(perioder: SaksperiodeNy[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"SaksperiodeNy"}],raw:"SaksperiodeNy[]"},name:"perioder"}],return:{name:"void"}}},description:""},modus:{required:!0,tsType:{name:"union",raw:"'søknad' | 'innsyn' | 'planlegger'",elements:[{name:"literal",value:"'søknad'"},{name:"literal",value:"'innsyn'"},{name:"literal",value:"'planlegger'"}]},description:""},valgtStønadskonto:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    kontoer: Stønadskonto[];
    minsteretter: TilgjengeligeMinsterettskontoer;
    tillegg?: TilgjengeligeKontoTillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: StønadskontoType;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"StønadskontoType",required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"Stønadskonto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    [MinsterettType.farRundtFødsel]: number;
    [MinsterettType.toTette]: number;
}`,signature:{properties:[]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    [KontoTilleggType.prematur]: number;
    [KontoTilleggType.flerbarn]: number;
}`,signature:{properties:[]},required:!1}}]}},description:""},erAleneOmOmsorg:{required:!0,tsType:{name:"boolean"},description:""},isAllAccordionsOpen:{required:!1,tsType:{name:"boolean"},description:""},erMedmorDelAvSøknaden:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};export{se as U};
