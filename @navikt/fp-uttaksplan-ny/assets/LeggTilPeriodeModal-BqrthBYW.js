import{j as e}from"./jsx-runtime-CLpGMVip.js";import{r as I}from"./index-CR__hKHy.js";import{u as P}from"./index-DVv2q3CG.js";import{V as v,R as k,j as S,k as f,b as R,M as s,P as C,l as D,m as F,K as N,o as A,p as q,S as y,F as _,H as G,q as T,r as B}from"./TidsperiodeSpørsmål-BAieeh5W.js";const H="_headerContent_ivs7f_1",K="_header_ivs7f_1",U="_modal_ivs7f_12",M={headerContent:H,header:K,modal:U},V=()=>{const r=P();return e.jsx(v,{gap:"4",children:e.jsxs(k,{name:"årsak",validate:[S(r.formatMessage({id:"leggTilPeriodeModal.hvaVilDuGjøre.påkrevd"}))],children:[e.jsx(f,{value:R.Ferie,children:e.jsx(s,{id:"uttaksplan.oppholdsårsakModal.ferie"})}),e.jsx(f,{value:C.PERIODE_UTEN_UTTAK,children:e.jsx(s,{id:"uttaksplan.oppholdsårsakModal.periodeUtenForeldrepenger"})})]})})};V.__docgenInfo={description:"",methods:[],displayName:"OppholdsÅrsakSpørsmål"};const L=({modalData:r,closeModal:n,setModalData:i,handleAddPeriode:l,erBarnetFødt:p,gjelderAdopsjon:o,isOpphold:a})=>{const{forelder:u,kontoType:c,fom:j,tom:g,årsak:d}=r,m=D({defaultValues:{forelder:u,kontoType:c,fom:j,tom:g,årsak:d}}),w=(t,h)=>{switch(t){case y.Fedrekvote:return _.farMedmor;case y.Mødrekvote:case y.ForeldrepengerFørFødsel:return _.mor;default:return h}},E=t=>{const h=t.fom,x=t.tom;l({fom:h,tom:x,id:`${h} - ${x} - ${c}`,readOnly:!1,kontoType:t.kontoType,forelder:w(t.kontoType,t.forelder)}),n()};return e.jsx(F,{formMethods:m,onSubmit:E,id:"skjema",children:e.jsxs(v,{gap:"4",children:[a===!1?e.jsx(N,{formMethods:m}):null,a?e.jsx(V,{}):null,e.jsx(A,{formMethods:m,erBarnetFødt:p,gjelderAdopsjon:o,oppholdsårsak:d}),e.jsx(q,{onCancel:n,onGoPreviousStep:()=>{i({...r,currentStep:"step1"})},isFinalStep:!0})]})})};L.__docgenInfo={description:"",methods:[],displayName:"LeggTilPeriodeModalStep",props:{modalData:{required:!0,tsType:{name:"ModalData"},description:""},closeModal:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},setModalData:{required:!0,tsType:{name:"signature",type:"function",raw:"(data: ModalData) => void",signature:{arguments:[{type:{name:"ModalData"},name:"data"}],return:{name:"void"}}},description:""},erBarnetFødt:{required:!0,tsType:{name:"boolean"},description:""},gjelderAdopsjon:{required:!0,tsType:{name:"boolean"},description:""},handleAddPeriode:{required:!0,tsType:{name:"signature",type:"function",raw:"(nyPeriode: Planperiode) => void",signature:{arguments:[{type:{name:"Planperiode"},name:"nyPeriode"}],return:{name:"void"}}},description:""},isOpphold:{required:!0,tsType:{name:"boolean"},description:""}}};var O=(r=>(r.LEGG_TIL_PERIODE="leggTilPeriode",r.LEGG_TIL_OPPHOLD="leggTilOpphold",r))(O||{});const b=({modalData:r,setModalData:n,closeModal:i})=>{const l=P(),p=D({defaultValues:{hvaVilDuGjøre:r.hvaVilDuGjøre}}),o=a=>{n({...r,hvaVilDuGjøre:a.hvaVilDuGjøre,currentStep:"step2"})};return e.jsxs(e.Fragment,{children:[e.jsx(G,{size:"medium",children:e.jsx(s,{id:"uttaksplan.valgModal.tittel"})}),e.jsx(F,{formMethods:p,onSubmit:o,id:"skjema",children:e.jsxs(v,{gap:"4",children:[e.jsxs(k,{name:"hvaVilDuGjøre",validate:[S(l.formatMessage({id:"leggTilPeriodeModal.hvaVilDuGjøre.påkrevd"}))],children:[e.jsx(f,{value:"leggTilPeriode",children:e.jsx(s,{id:"uttaksplan.valgModal.leggTilPeriode"})}),e.jsx(f,{value:"leggTilOpphold",children:e.jsx(s,{id:"uttaksplan.valgModal.leggTilFerieEllerOpphold"})})]}),e.jsx(q,{onCancel:i,isFinalStep:!1})]})})]})};b.__docgenInfo={description:"",methods:[],displayName:"ValgModalStep",props:{modalData:{required:!0,tsType:{name:"ModalData"},description:""},setModalData:{required:!0,tsType:{name:"signature",type:"function",raw:"(data: ModalData) => void",signature:{arguments:[{type:{name:"ModalData"},name:"data"}],return:{name:"void"}}},description:""},closeModal:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const z=({closeModal:r,handleAddPeriode:n,isModalOpen:i,erBarnetFødt:l,gjelderAdopsjon:p})=>{const o={hvaVilDuGjøre:void 0,fom:void 0,tom:void 0,currentStep:"step1",kontoType:void 0,forelder:void 0,årsak:void 0},[a,u]=I.useState(o),{currentStep:c}=a,{hvaVilDuGjøre:j}=a,g="legg-til-periode-modal-heading",d=()=>{u(o),r()},m=()=>{switch(c){case"step1":return e.jsx(b,{modalData:a,setModalData:u,closeModal:d});case"step2":return e.jsx(L,{modalData:a,setModalData:u,closeModal:d,erBarnetFødt:l,gjelderAdopsjon:p,handleAddPeriode:n,isOpphold:j===O.LEGG_TIL_OPPHOLD});default:return null}};return e.jsxs(T,{className:M.modal,open:i,"aria-labelledby":g,onClose:d,children:[e.jsx(T.Header,{className:M.header,closeButton:!1,children:e.jsxs("div",{className:M.headerContent,children:[e.jsx(B,{"aria-hidden":!0,width:24,height:24}),e.jsx(G,{size:"medium",id:g,children:e.jsx(s,{id:"uttaksplan.leggTilPeriode"})})]})}),e.jsx(T.Body,{children:m()})]})};z.__docgenInfo={description:"",methods:[],displayName:"LeggTilPeriodeModal",props:{closeModal:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void | undefined",signature:{arguments:[],return:{name:"union",raw:"void | undefined",elements:[{name:"void"},{name:"undefined"}]}}},description:""},handleAddPeriode:{required:!0,tsType:{name:"signature",type:"function",raw:"(nyPeriode: Planperiode) => void",signature:{arguments:[{type:{name:"Planperiode"},name:"nyPeriode"}],return:{name:"void"}}},description:""},isModalOpen:{required:!0,tsType:{name:"boolean"},description:""},erBarnetFødt:{required:!0,tsType:{name:"boolean"},description:""},gjelderAdopsjon:{required:!0,tsType:{name:"boolean"},description:""}}};export{z as L};
