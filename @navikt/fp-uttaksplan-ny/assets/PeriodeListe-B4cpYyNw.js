import{T as v,q as o,e as g,j as f,r as c,s as y}from"./iframe-CwmkEdZZ.js";import{n as F,u as x,b as E}from"./TidsperiodeSpørsmål-BwEhlfCm.js";import{k as h,n as T,o as k,j as U,p as S,h as q,q as I,P as p}from"./PeriodeListeItem-Cl9MQXA5.js";const b=(i,s,r)=>!s||!i?!1:!!(g(i.tidsperiode.tom).isBefore(r)&&g(s.tom).isBefore(r)),w=(i,s,r)=>!s||!i?!1:!!(g(i.tidsperiode.fom).isSameOrAfter(r)&&g(s.fom).isSameOrAfter(r)),L=(i,s,r)=>w(i,s,r)||b(i,s,r),O=(i,s)=>{const r=[];if(i.length===0)return r;let t,n,a=!1;return i.forEach((e,u)=>{const P=u+1;let m;if(a){a=!1;return}P<i.length?m=i[P]:m=void 0;const d=L(t,e,s);if(m!==void 0&&(a=v({fom:e.fom,tom:e.tom}).erLik({fom:m.fom,tom:m.tom})),a&&m!==void 0){t={perioder:[{...e},{...m}],tidsperiode:{fom:o(e.fom),tom:o(e.tom)},samtidigUttak:!0},r.push(t),t=void 0,n=void 0,a=!0;return}if(h(e)||T(e)||k(e)){const l=e.forelder;t?n===e.forelder&&d?(t.perioder=[...t.perioder,{...e}],t.tidsperiode.tom=o(e.tom)):t={forelder:l,perioder:[{...e}],tidsperiode:{fom:o(e.fom),tom:o(e.tom)}}:t={forelder:l,perioder:[{...e}],tidsperiode:{fom:o(e.fom),tom:o(e.tom)},samtidigUttak:!!e.samtidigUttak},r.includes(t)||r.push(t),n=e.forelder;return}U(e)&&(t={perioder:[{...e}],tidsperiode:{fom:o(e.fom),tom:o(e.tom)},erPeriodeUtenUttak:!0},r.push(t),n=void 0,t=void 0),S(e)&&(t={perioder:[{...e}],tidsperiode:{fom:o(e.fom),tom:o(e.tom)},erUtsettelse:!0},r.push(t),n=void 0,t=void 0),q(e)&&(t={perioder:[{...e}],tidsperiode:{fom:o(e.fom),tom:o(e.tom)},erHull:!0},r.push(t),n=void 0,t=void 0)}),r},j=({perioder:i,handleUpdatePeriode:s,handleDeletePeriode:r,handleDeletePerioder:t,handleAddPeriode:n,isAllAccordionsOpen:a})=>{const e=F(x(E.FAMILIEHENDELSEDATO)),u=O(i,e),P=$(u,e),m=I(i).getPerioderEtterFamiliehendelsesdato(e);return f.jsx("div",{children:u.map((d,l)=>m.length===0?f.jsxs(c.Fragment,{children:[f.jsx(p,{handleAddPeriode:n,handleUpdatePeriode:s,handleDeletePeriode:r,handleDeletePerioder:t,permisjonsperiode:d,isAllAccordionsOpen:a}),u.length-1===l&&f.jsx(p,{handleAddPeriode:n,handleUpdatePeriode:s,handleDeletePeriode:r,handleDeletePerioder:t,permisjonsperiode:d,erFamiliehendelse:!0,isAllAccordionsOpen:a})]},`${d.tidsperiode.fom}-${d.tidsperiode.tom}`):f.jsxs(c.Fragment,{children:[P===l&&f.jsx(p,{handleAddPeriode:n,handleUpdatePeriode:s,handleDeletePeriode:r,handleDeletePerioder:t,permisjonsperiode:d,erFamiliehendelse:!0,isAllAccordionsOpen:a}),f.jsx(p,{handleAddPeriode:n,handleUpdatePeriode:s,handleDeletePeriode:r,handleDeletePerioder:t,permisjonsperiode:d,isAllAccordionsOpen:a})]},`${d.tidsperiode.fom}-${d.tidsperiode.tom}`))})},$=(i,s)=>i.findIndex(r=>y(r.tidsperiode)&&g(r.tidsperiode.fom).isSameOrAfter(s,"d"));j.__docgenInfo={description:"",methods:[],displayName:"PeriodeListe",props:{perioder:{required:!0,tsType:{name:"Array",elements:[{name:"Planperiode"}],raw:"Planperiode[]"},description:""},handleAddPeriode:{required:!0,tsType:{name:"signature",type:"function",raw:"(nyPeriode: Planperiode) => void",signature:{arguments:[{type:{name:"Planperiode"},name:"nyPeriode"}],return:{name:"void"}}},description:""},handleUpdatePeriode:{required:!0,tsType:{name:"signature",type:"function",raw:"(oppdatertPeriode: Planperiode) => void",signature:{arguments:[{type:{name:"Planperiode"},name:"oppdatertPeriode"}],return:{name:"void"}}},description:""},handleDeletePeriode:{required:!0,tsType:{name:"signature",type:"function",raw:"(slettetPeriode: Planperiode) => void",signature:{arguments:[{type:{name:"Planperiode"},name:"slettetPeriode"}],return:{name:"void"}}},description:""},handleDeletePerioder:{required:!0,tsType:{name:"signature",type:"function",raw:"(slettedePerioder: Planperiode[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"Planperiode"}],raw:"Planperiode[]"},name:"slettedePerioder"}],return:{name:"void"}}},description:""},isAllAccordionsOpen:{required:!1,tsType:{name:"boolean"},description:""}}};export{j as P};
