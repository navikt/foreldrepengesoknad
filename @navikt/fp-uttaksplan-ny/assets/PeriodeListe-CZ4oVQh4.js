import{j as f}from"./jsx-runtime-CLpGMVip.js";import{T as g,f as s,i as h,e as y,g as x,h as E,j as F,k as j,l as u,n as U,u as T,c as k,A,P,m as v}from"./PeriodeListeItem-C1Lw1afa.js";import{r as S}from"./index-CR__hKHy.js";const I=(i,n,r)=>!n||!i?!1:!!(u(i.tidsperiode.tom).isBefore(r)&&u(n.tom).isBefore(r)),O=(i,n,r)=>!n||!i?!1:!!(u(i.tidsperiode.fom).isSameOrAfter(r)&&u(n.fom).isSameOrAfter(r)),L=(i,n,r)=>O(i,n,r)||I(i,n,r),w=(i,n)=>{const r=[];if(i.length===0)return r;let t,o,d=!1;return i.forEach((e,m)=>{const l=m+1;let a;if(d){d=!1;return}l<i.length?a=i[l]:a=void 0;const c=L(t,e,n);if(a!==void 0&&(d=g({fom:e.fom,tom:e.tom}).erLik({fom:a.fom,tom:a.tom})),d&&a!==void 0){t={perioder:[{...e},{...a}],tidsperiode:{fom:s(e.fom),tom:s(e.tom)},samtidigUttak:!0},r.push(t),t=void 0,o=void 0,d=!0;return}if(h(e)||y(e)||x(e)){const p=e.forelder;t?o===e.forelder&&c?(t.perioder=[...t.perioder,{...e}],t.tidsperiode.tom=s(e.tom)):t={forelder:p,perioder:[{...e}],tidsperiode:{fom:s(e.fom),tom:s(e.tom)}}:t={forelder:p,perioder:[{...e}],tidsperiode:{fom:s(e.fom),tom:s(e.tom)},samtidigUttak:!!e.samtidigUttak},r.includes(t)||r.push(t),o=e.forelder;return}E(e)&&(t={perioder:[{...e}],tidsperiode:{fom:s(e.fom),tom:s(e.tom)},erPeriodeUtenUttak:!0},r.push(t),o=void 0,t=void 0),F(e)&&(t={perioder:[{...e}],tidsperiode:{fom:s(e.fom),tom:s(e.tom)},erUtsettelse:!0},r.push(t),o=void 0,t=void 0),j(e)&&(t={perioder:[{...e}],tidsperiode:{fom:s(e.fom),tom:s(e.tom)},erHull:!0},r.push(t),o=void 0,t=void 0)}),r},D=(i,n)=>i.findIndex(r=>v(r.tidsperiode)&&u(r.tidsperiode.fom).isSameOrAfter(n,"d")),b=({perioder:i,handleUpdatePeriode:n,handleDeletePeriode:r,handleDeletePerioder:t})=>{const o=U(T(k.FAMILIEHENDELSEDATO)),d=w(i,o),e=D(d,o);return f.jsx("div",{children:f.jsx(A,{children:d.map((m,l)=>f.jsxs(S.Fragment,{children:[e===l?f.jsx(P,{handleUpdatePeriode:n,handleDeletePeriode:r,handleDeletePerioder:t,permisjonsperiode:m,erFamiliehendelse:!0}):null,f.jsx(P,{handleUpdatePeriode:n,handleDeletePeriode:r,handleDeletePerioder:t,permisjonsperiode:m})]},`${m.tidsperiode.fom}-${m.tidsperiode.tom}`))})})};b.__docgenInfo={description:"",methods:[],displayName:"PeriodeListe",props:{perioder:{required:!0,tsType:{name:"Array",elements:[{name:"Planperiode"}],raw:"Planperiode[]"},description:""},handleUpdatePeriode:{required:!0,tsType:{name:"signature",type:"function",raw:"(oppdatertPeriode: Planperiode) => void",signature:{arguments:[{type:{name:"Planperiode"},name:"oppdatertPeriode"}],return:{name:"void"}}},description:""},handleDeletePeriode:{required:!0,tsType:{name:"signature",type:"function",raw:"(slettetPeriode: Planperiode) => void",signature:{arguments:[{type:{name:"Planperiode"},name:"slettetPeriode"}],return:{name:"void"}}},description:""},handleDeletePerioder:{required:!0,tsType:{name:"signature",type:"function",raw:"(slettedePerioder: Planperiode[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"Planperiode"}],raw:"Planperiode[]"},name:"slettedePerioder"}],return:{name:"void"}}},description:""}}};export{b as P};
