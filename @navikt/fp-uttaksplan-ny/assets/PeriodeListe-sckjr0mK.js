import{j as m}from"./jsx-runtime-CLpGMVip.js";import{T as g,f as n,i as h,e as x,g as y,h as E,j as F,k as j,l as f,n as U,u as k,c as T,A,P,m as S}from"./PeriodeListeItem-Hryamxmz.js";import{r as I}from"./index-CR__hKHy.js";const O=(i,s,r)=>!s||!i?!1:!!(f(i.tidsperiode.tom).isBefore(r)&&f(s.tom).isBefore(r)),v=(i,s,r)=>!s||!i?!1:!!(f(i.tidsperiode.fom).isSameOrAfter(r)&&f(s.fom).isSameOrAfter(r)),L=(i,s,r)=>v(i,s,r)||O(i,s,r),D=(i,s)=>{const r=[];if(i.length===0)return r;let t,o,d=!1;return i.forEach((e,u)=>{const l=u+1;let a;if(d){d=!1;return}l<i.length?a=i[l]:a=void 0;const c=L(t,e,s);if(a!==void 0&&(d=g({fom:e.fom,tom:e.tom}).erLik({fom:a.fom,tom:a.tom})),d&&a!==void 0){t={perioder:[{...e},{...a}],tidsperiode:{fom:n(e.fom),tom:n(e.tom)},samtidigUttak:!0},r.push(t),t=void 0,o=void 0,d=!0;return}if(h(e)||x(e)||y(e)){const p=e.forelder;t?o===e.forelder&&c?(t.perioder=[...t.perioder,{...e}],t.tidsperiode.tom=n(e.tom)):t={forelder:p,perioder:[{...e}],tidsperiode:{fom:n(e.fom),tom:n(e.tom)}}:t={forelder:p,perioder:[{...e}],tidsperiode:{fom:n(e.fom),tom:n(e.tom)},samtidigUttak:!!e.samtidigUttak},r.includes(t)||r.push(t),o=e.forelder;return}E(e)&&(t={perioder:[{...e}],tidsperiode:{fom:n(e.fom),tom:n(e.tom)},erPeriodeUtenUttak:!0},r.push(t),o=void 0,t=void 0),F(e)&&(t={perioder:[{...e}],tidsperiode:{fom:n(e.fom),tom:n(e.tom)},erUtsettelse:!0},r.push(t),o=void 0,t=void 0),j(e)&&(t={perioder:[{...e}],tidsperiode:{fom:n(e.fom),tom:n(e.tom)},erHull:!0},r.push(t),o=void 0,t=void 0)}),r},b=(i,s)=>i.findIndex(r=>S(r.tidsperiode)&&f(r.tidsperiode.fom).isSameOrAfter(s,"d")),q=({perioder:i,handleUpdatePeriode:s,handleDeletePeriode:r})=>{const t=U(k(T.FAMILIEHENDELSEDATO)),o=D(i,t),d=b(o,t);return m.jsx("div",{children:m.jsx(A,{children:o.map((e,u)=>m.jsxs(I.Fragment,{children:[d===u?m.jsx(P,{handleUpdatePeriode:s,handleDeletePeriode:r,permisjonsperiode:e,erFamiliehendelse:!0}):null,m.jsx(P,{handleUpdatePeriode:s,handleDeletePeriode:r,permisjonsperiode:e})]},`${e.tidsperiode.fom}-${e.tidsperiode.tom}`))})})};q.__docgenInfo={description:"",methods:[],displayName:"PeriodeListe",props:{perioder:{required:!0,tsType:{name:"Array",elements:[{name:"Planperiode"}],raw:"Planperiode[]"},description:""},handleUpdatePeriode:{required:!0,tsType:{name:"signature",type:"function",raw:"(oppdatertPeriode: Planperiode) => void",signature:{arguments:[{type:{name:"Planperiode"},name:"oppdatertPeriode"}],return:{name:"void"}}},description:""},handleDeletePeriode:{required:!0,tsType:{name:"signature",type:"function",raw:"(slettetPeriode: Planperiode) => void",signature:{arguments:[{type:{name:"Planperiode"},name:"slettetPeriode"}],return:{name:"void"}}},description:""}}};export{q as P};
