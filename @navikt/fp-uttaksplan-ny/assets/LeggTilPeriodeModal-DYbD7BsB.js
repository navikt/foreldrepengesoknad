import{l as D,n as $,k as e,V as _,p as S,q as T,M as c,s as F,t as G,v as q,r as U,w as M}from"./iframe-dQxMIzP1.js";import{i as O,c as V,P as E,K as H,T as P,G as K,M as L,F as j,g as B,S as x,e as z}from"./TidsperiodeSpørsmål-DYf9IheB.js";const A="_headerContent_ivs7f_1",J="_header_ivs7f_1",W="_modal_ivs7f_12",k={headerContent:A,header:J,modal:W},b=()=>{const r=D(),{control:o}=$();return e.jsx(_,{gap:"4",children:e.jsxs(S,{name:"årsak",control:o,validate:[O(r.formatMessage({id:"leggTilPeriodeModal.hvaVilDuGjøre.påkrevd"}))],children:[e.jsx(T,{value:V.Ferie,children:e.jsx(c,{id:"uttaksplan.oppholdsårsakModal.ferie"})}),e.jsx(T,{value:E.PERIODE_UTEN_UTTAK,children:e.jsx(c,{id:"uttaksplan.oppholdsårsakModal.periodeUtenForeldrepenger"})})]})})};b.__docgenInfo={description:"",methods:[],displayName:"OppholdsÅrsakSpørsmål"};const w=({modalData:r,closeModal:o,setModalData:g,handleAddPeriode:n,erBarnetFødt:d,gjelderAdopsjon:i,isOpphold:t})=>{const{forelder:h,kontoType:f,fom:v,tom:y,årsak:l}=r,p=F({defaultValues:{forelder:h,kontoType:f,fom:v,tom:y,årsak:l}}),N=(a,s)=>{switch(a){case x.Fedrekvote:return j.farMedmor;case x.Mødrekvote:case x.ForeldrepengerFørFødsel:return j.mor;default:return s}},R=a=>{const s=a.fom,u=a.tom,m=a.årsak;m===V.Ferie?n({fom:s,tom:u,id:`${s} - ${u} - ${m}`,readOnly:!1,forelder:j.farMedmor,utsettelseÅrsak:m}):m===E.PERIODE_UTEN_UTTAK?n({fom:s,tom:u,id:`${s} - ${u} - ${m}`,readOnly:!1,forelder:j.farMedmor,periodeHullÅrsak:m}):n({fom:s,tom:u,id:`${s} - ${u} - ${f}`,readOnly:!1,kontoType:a.kontoType,forelder:N(a.kontoType,a.forelder),gradering:B(a.skalDuJobbe,a.stillingsprosent)}),o()};return e.jsx(G,{formMethods:p,onSubmit:R,id:"skjema",children:e.jsxs(_,{gap:"4",children:[t===!1?e.jsxs(e.Fragment,{children:[e.jsx(H,{formMethods:p}),e.jsx(P,{formMethods:p,erBarnetFødt:d,gjelderAdopsjon:i,oppholdsårsak:l}),e.jsx(K,{formMethods:p})]}):null,t?e.jsxs(e.Fragment,{children:[e.jsx(b,{}),e.jsx(P,{formMethods:p,erBarnetFødt:d,gjelderAdopsjon:i,oppholdsårsak:l})]}):null,e.jsx(L,{onCancel:o,onGoPreviousStep:()=>{g({...r,currentStep:"step1"})},isFinalStep:!0})]})})};w.__docgenInfo={description:"",methods:[],displayName:"LeggTilPeriodeModalStep",props:{modalData:{required:!0,tsType:{name:"ModalData"},description:""},closeModal:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},setModalData:{required:!0,tsType:{name:"signature",type:"function",raw:"(data: ModalData) => void",signature:{arguments:[{type:{name:"ModalData"},name:"data"}],return:{name:"void"}}},description:""},erBarnetFødt:{required:!0,tsType:{name:"boolean"},description:""},gjelderAdopsjon:{required:!0,tsType:{name:"boolean"},description:""},handleAddPeriode:{required:!0,tsType:{name:"signature",type:"function",raw:"(nyPeriode: Planperiode) => void",signature:{arguments:[{type:{name:"Planperiode"},name:"nyPeriode"}],return:{name:"void"}}},description:""},isOpphold:{required:!0,tsType:{name:"boolean"},description:""}}};var I=(r=>(r.LEGG_TIL_PERIODE="leggTilPeriode",r.LEGG_TIL_OPPHOLD="leggTilOpphold",r))(I||{});const C=({modalData:r,setModalData:o,closeModal:g})=>{const n=D(),d=F({defaultValues:{hvaVilDuGjøre:r.hvaVilDuGjøre}}),i=t=>{o({...r,hvaVilDuGjøre:t.hvaVilDuGjøre,currentStep:"step2"})};return e.jsxs(e.Fragment,{children:[e.jsx(q,{size:"medium",children:e.jsx(c,{id:"uttaksplan.valgModal.tittel"})}),e.jsx(G,{formMethods:d,onSubmit:i,id:"skjema",children:e.jsxs(_,{gap:"4",children:[e.jsxs(S,{name:"hvaVilDuGjøre",control:d.control,validate:[O(n.formatMessage({id:"leggTilPeriodeModal.hvaVilDuGjøre.påkrevd"}))],children:[e.jsx(T,{value:"leggTilPeriode",children:e.jsx(c,{id:"uttaksplan.valgModal.leggTilPeriode"})}),e.jsx(T,{value:"leggTilOpphold",children:e.jsx(c,{id:"uttaksplan.valgModal.leggTilFerieEllerOpphold"})})]}),e.jsx(L,{onCancel:g,isFinalStep:!1})]})})]})};C.__docgenInfo={description:"",methods:[],displayName:"ValgModalStep",props:{modalData:{required:!0,tsType:{name:"ModalData"},description:""},setModalData:{required:!0,tsType:{name:"signature",type:"function",raw:"(data: ModalData) => void",signature:{arguments:[{type:{name:"ModalData"},name:"data"}],return:{name:"void"}}},description:""},closeModal:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const Q=({closeModal:r,handleAddPeriode:o,isModalOpen:g,erBarnetFødt:n,gjelderAdopsjon:d})=>{const i={hvaVilDuGjøre:void 0,fom:void 0,tom:void 0,currentStep:"step1",kontoType:void 0,forelder:void 0,årsak:void 0},[t,h]=U.useState(i),{currentStep:f}=t,{hvaVilDuGjøre:v}=t,y="legg-til-periode-modal-heading",l=()=>{h(i),r()},p=()=>{switch(f){case"step1":return e.jsx(C,{modalData:t,setModalData:h,closeModal:l});case"step2":return e.jsx(w,{modalData:t,setModalData:h,closeModal:l,erBarnetFødt:n,gjelderAdopsjon:d,handleAddPeriode:o,isOpphold:v===I.LEGG_TIL_OPPHOLD});default:return null}};return e.jsxs(M,{className:k.modal,open:g,"aria-labelledby":y,onClose:l,children:[e.jsx(M.Header,{className:k.header,closeButton:!1,children:e.jsxs("div",{className:k.headerContent,children:[e.jsx(z,{"aria-hidden":!0,width:24,height:24}),e.jsx(q,{size:"medium",id:y,children:e.jsx(c,{id:"uttaksplan.leggTilPeriode"})})]})}),e.jsx(M.Body,{children:p()})]})};Q.__docgenInfo={description:"",methods:[],displayName:"LeggTilPeriodeModal",props:{closeModal:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void | undefined",signature:{arguments:[],return:{name:"union",raw:"void | undefined",elements:[{name:"void"},{name:"undefined"}]}}},description:""},handleAddPeriode:{required:!0,tsType:{name:"signature",type:"function",raw:"(nyPeriode: Planperiode) => void",signature:{arguments:[{type:{name:"Planperiode"},name:"nyPeriode"}],return:{name:"void"}}},description:""},isModalOpen:{required:!0,tsType:{name:"boolean"},description:""},erBarnetFødt:{required:!0,tsType:{name:"boolean"},description:""},gjelderAdopsjon:{required:!0,tsType:{name:"boolean"},description:""}}};export{Q as L};
