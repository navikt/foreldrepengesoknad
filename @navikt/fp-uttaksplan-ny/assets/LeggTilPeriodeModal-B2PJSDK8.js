import{j as e}from"./jsx-runtime-CLpGMVip.js";import{r as H}from"./index-CR__hKHy.js";import{u as D}from"./index-DVv2q3CG.js";import{V as _,R as S,k as F,l as T,c as b,M as c,P as G,m as O,o as q,K as A,p as P,G as B,q as V,F as j,U as K,r as z,S as x,H as E,s as k,t as J}from"./TidsperiodeSpørsmål-DcaHjb5x.js";const W="_headerContent_ivs7f_1",Q="_header_ivs7f_1",X="_modal_ivs7f_12",v={headerContent:W,header:Q,modal:X},I=()=>{const r=D();return e.jsx(_,{gap:"4",children:e.jsxs(S,{name:"årsak",validate:[F(r.formatMessage({id:"leggTilPeriodeModal.hvaVilDuGjøre.påkrevd"}))],children:[e.jsx(T,{value:b.Ferie,children:e.jsx(c,{id:"uttaksplan.oppholdsårsakModal.ferie"})}),e.jsx(T,{value:G.PERIODE_UTEN_UTTAK,children:e.jsx(c,{id:"uttaksplan.oppholdsårsakModal.periodeUtenForeldrepenger"})})]})})};I.__docgenInfo={description:"",methods:[],displayName:"OppholdsÅrsakSpørsmål"};const L=({modalData:r,closeModal:l,setModalData:g,handleAddPeriode:s,erBarnetFødt:p,gjelderAdopsjon:n,isOpphold:t})=>{const{forelder:f,kontoType:h,fom:M,tom:y,årsak:d}=r,i=O({defaultValues:{forelder:f,kontoType:h,fom:M,tom:y,årsak:d}}),w=(a,o)=>{switch(a){case x.Fedrekvote:return j.farMedmor;case x.Mødrekvote:case x.ForeldrepengerFørFødsel:return j.mor;default:return o}},$=a=>{const o=a.fom,u=a.tom,m=a.årsak,C=a.skalDuJobbe,U=a.stillingsprosent;m===b.Ferie?s({fom:o,tom:u,id:`${o} - ${u} - ${m}`,readOnly:!1,forelder:j.farMedmor,utsettelseÅrsak:m}):m===G.PERIODE_UTEN_UTTAK?s({fom:o,tom:u,id:`${o} - ${u} - ${m}`,readOnly:!1,forelder:j.farMedmor,periodeHullÅrsak:m}):s({fom:o,tom:u,id:`${o} - ${u} - ${h}`,readOnly:!1,kontoType:a.kontoType,forelder:w(a.kontoType,a.forelder),gradering:C?{aktivitet:{type:K.ORDINÆRT_ARBEID},arbeidstidprosent:z(U)}:void 0}),l()};return e.jsx(q,{formMethods:i,onSubmit:$,id:"skjema",children:e.jsxs(_,{gap:"4",children:[t===!1?e.jsxs(e.Fragment,{children:[e.jsx(A,{formMethods:i}),e.jsx(P,{formMethods:i,erBarnetFødt:p,gjelderAdopsjon:n,oppholdsårsak:d}),e.jsx(B,{formMethods:i})]}):null,t?e.jsxs(e.Fragment,{children:[e.jsx(I,{}),e.jsx(P,{formMethods:i,erBarnetFødt:p,gjelderAdopsjon:n,oppholdsårsak:d})]}):null,e.jsx(V,{onCancel:l,onGoPreviousStep:()=>{g({...r,currentStep:"step1"})},isFinalStep:!0})]})})};L.__docgenInfo={description:"",methods:[],displayName:"LeggTilPeriodeModalStep",props:{modalData:{required:!0,tsType:{name:"ModalData"},description:""},closeModal:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},setModalData:{required:!0,tsType:{name:"signature",type:"function",raw:"(data: ModalData) => void",signature:{arguments:[{type:{name:"ModalData"},name:"data"}],return:{name:"void"}}},description:""},erBarnetFødt:{required:!0,tsType:{name:"boolean"},description:""},gjelderAdopsjon:{required:!0,tsType:{name:"boolean"},description:""},handleAddPeriode:{required:!0,tsType:{name:"signature",type:"function",raw:"(nyPeriode: Planperiode) => void",signature:{arguments:[{type:{name:"Planperiode"},name:"nyPeriode"}],return:{name:"void"}}},description:""},isOpphold:{required:!0,tsType:{name:"boolean"},description:""}}};var R=(r=>(r.LEGG_TIL_PERIODE="leggTilPeriode",r.LEGG_TIL_OPPHOLD="leggTilOpphold",r))(R||{});const N=({modalData:r,setModalData:l,closeModal:g})=>{const s=D(),p=O({defaultValues:{hvaVilDuGjøre:r.hvaVilDuGjøre}}),n=t=>{l({...r,hvaVilDuGjøre:t.hvaVilDuGjøre,currentStep:"step2"})};return e.jsxs(e.Fragment,{children:[e.jsx(E,{size:"medium",children:e.jsx(c,{id:"uttaksplan.valgModal.tittel"})}),e.jsx(q,{formMethods:p,onSubmit:n,id:"skjema",children:e.jsxs(_,{gap:"4",children:[e.jsxs(S,{name:"hvaVilDuGjøre",validate:[F(s.formatMessage({id:"leggTilPeriodeModal.hvaVilDuGjøre.påkrevd"}))],children:[e.jsx(T,{value:"leggTilPeriode",children:e.jsx(c,{id:"uttaksplan.valgModal.leggTilPeriode"})}),e.jsx(T,{value:"leggTilOpphold",children:e.jsx(c,{id:"uttaksplan.valgModal.leggTilFerieEllerOpphold"})})]}),e.jsx(V,{onCancel:g,isFinalStep:!1})]})})]})};N.__docgenInfo={description:"",methods:[],displayName:"ValgModalStep",props:{modalData:{required:!0,tsType:{name:"ModalData"},description:""},setModalData:{required:!0,tsType:{name:"signature",type:"function",raw:"(data: ModalData) => void",signature:{arguments:[{type:{name:"ModalData"},name:"data"}],return:{name:"void"}}},description:""},closeModal:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const Y=({closeModal:r,handleAddPeriode:l,isModalOpen:g,erBarnetFødt:s,gjelderAdopsjon:p})=>{const n={hvaVilDuGjøre:void 0,fom:void 0,tom:void 0,currentStep:"step1",kontoType:void 0,forelder:void 0,årsak:void 0},[t,f]=H.useState(n),{currentStep:h}=t,{hvaVilDuGjøre:M}=t,y="legg-til-periode-modal-heading",d=()=>{f(n),r()},i=()=>{switch(h){case"step1":return e.jsx(N,{modalData:t,setModalData:f,closeModal:d});case"step2":return e.jsx(L,{modalData:t,setModalData:f,closeModal:d,erBarnetFødt:s,gjelderAdopsjon:p,handleAddPeriode:l,isOpphold:M===R.LEGG_TIL_OPPHOLD});default:return null}};return e.jsxs(k,{className:v.modal,open:g,"aria-labelledby":y,onClose:d,children:[e.jsx(k.Header,{className:v.header,closeButton:!1,children:e.jsxs("div",{className:v.headerContent,children:[e.jsx(J,{"aria-hidden":!0,width:24,height:24}),e.jsx(E,{size:"medium",id:y,children:e.jsx(c,{id:"uttaksplan.leggTilPeriode"})})]})}),e.jsx(k.Body,{children:i()})]})};Y.__docgenInfo={description:"",methods:[],displayName:"LeggTilPeriodeModal",props:{closeModal:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void | undefined",signature:{arguments:[],return:{name:"union",raw:"void | undefined",elements:[{name:"void"},{name:"undefined"}]}}},description:""},handleAddPeriode:{required:!0,tsType:{name:"signature",type:"function",raw:"(nyPeriode: Planperiode) => void",signature:{arguments:[{type:{name:"Planperiode"},name:"nyPeriode"}],return:{name:"void"}}},description:""},isModalOpen:{required:!0,tsType:{name:"boolean"},description:""},erBarnetFødt:{required:!0,tsType:{name:"boolean"},description:""},gjelderAdopsjon:{required:!0,tsType:{name:"boolean"},description:""}}};export{Y as L};
