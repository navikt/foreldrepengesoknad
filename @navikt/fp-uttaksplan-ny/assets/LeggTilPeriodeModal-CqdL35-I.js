import{j as e}from"./jsx-runtime-CLpGMVip.js";import{r as $}from"./index-CR__hKHy.js";import{u as P}from"./index-DVv2q3CG.js";import{V as _,R as D,j as S,k as T,b as F,M as u,P as q,l as O,m as G,K as C,o as H,p as V,F as j,S as v,H as E,q as x,r as U}from"./TidsperiodeSpørsmål-rk3ehuCX.js";const B="_headerContent_ivs7f_1",K="_header_ivs7f_1",A="_modal_ivs7f_12",k={headerContent:B,header:K,modal:A},L=()=>{const r=P();return e.jsx(_,{gap:"4",children:e.jsxs(D,{name:"årsak",validate:[S(r.formatMessage({id:"leggTilPeriodeModal.hvaVilDuGjøre.påkrevd"}))],children:[e.jsx(T,{value:F.Ferie,children:e.jsx(u,{id:"uttaksplan.oppholdsårsakModal.ferie"})}),e.jsx(T,{value:q.PERIODE_UTEN_UTTAK,children:e.jsx(u,{id:"uttaksplan.oppholdsårsakModal.periodeUtenForeldrepenger"})})]})})};L.__docgenInfo={description:"",methods:[],displayName:"OppholdsÅrsakSpørsmål"};const b=({modalData:r,closeModal:s,setModalData:m,handleAddPeriode:n,erBarnetFødt:c,gjelderAdopsjon:d,isOpphold:a})=>{const{forelder:g,kontoType:h,fom:M,tom:y,årsak:i}=r,f=O({defaultValues:{forelder:g,kontoType:h,fom:M,tom:y,årsak:i}}),R=(t,o)=>{switch(t){case v.Fedrekvote:return j.farMedmor;case v.Mødrekvote:case v.ForeldrepengerFørFødsel:return j.mor;default:return o}},N=t=>{const o=t.fom,l=t.tom,p=t.årsak;p===F.Ferie?n({fom:o,tom:l,id:`${o} - ${l} - ${p}`,readOnly:!1,forelder:j.farMedmor,utsettelseÅrsak:p}):p===q.PERIODE_UTEN_UTTAK?n({fom:o,tom:l,id:`${o} - ${l} - ${p}`,readOnly:!1,forelder:j.farMedmor,periodeHullÅrsak:p}):n({fom:o,tom:l,id:`${o} - ${l} - ${h}`,readOnly:!1,kontoType:t.kontoType,forelder:R(t.kontoType,t.forelder)}),s()};return e.jsx(G,{formMethods:f,onSubmit:N,id:"skjema",children:e.jsxs(_,{gap:"4",children:[a===!1?e.jsx(C,{formMethods:f}):null,a?e.jsx(L,{}):null,e.jsx(H,{formMethods:f,erBarnetFødt:c,gjelderAdopsjon:d,oppholdsårsak:i}),e.jsx(V,{onCancel:s,onGoPreviousStep:()=>{m({...r,currentStep:"step1"})},isFinalStep:!0})]})})};b.__docgenInfo={description:"",methods:[],displayName:"LeggTilPeriodeModalStep",props:{modalData:{required:!0,tsType:{name:"ModalData"},description:""},closeModal:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},setModalData:{required:!0,tsType:{name:"signature",type:"function",raw:"(data: ModalData) => void",signature:{arguments:[{type:{name:"ModalData"},name:"data"}],return:{name:"void"}}},description:""},erBarnetFødt:{required:!0,tsType:{name:"boolean"},description:""},gjelderAdopsjon:{required:!0,tsType:{name:"boolean"},description:""},handleAddPeriode:{required:!0,tsType:{name:"signature",type:"function",raw:"(nyPeriode: Planperiode) => void",signature:{arguments:[{type:{name:"Planperiode"},name:"nyPeriode"}],return:{name:"void"}}},description:""},isOpphold:{required:!0,tsType:{name:"boolean"},description:""}}};var I=(r=>(r.LEGG_TIL_PERIODE="leggTilPeriode",r.LEGG_TIL_OPPHOLD="leggTilOpphold",r))(I||{});const w=({modalData:r,setModalData:s,closeModal:m})=>{const n=P(),c=O({defaultValues:{hvaVilDuGjøre:r.hvaVilDuGjøre}}),d=a=>{s({...r,hvaVilDuGjøre:a.hvaVilDuGjøre,currentStep:"step2"})};return e.jsxs(e.Fragment,{children:[e.jsx(E,{size:"medium",children:e.jsx(u,{id:"uttaksplan.valgModal.tittel"})}),e.jsx(G,{formMethods:c,onSubmit:d,id:"skjema",children:e.jsxs(_,{gap:"4",children:[e.jsxs(D,{name:"hvaVilDuGjøre",validate:[S(n.formatMessage({id:"leggTilPeriodeModal.hvaVilDuGjøre.påkrevd"}))],children:[e.jsx(T,{value:"leggTilPeriode",children:e.jsx(u,{id:"uttaksplan.valgModal.leggTilPeriode"})}),e.jsx(T,{value:"leggTilOpphold",children:e.jsx(u,{id:"uttaksplan.valgModal.leggTilFerieEllerOpphold"})})]}),e.jsx(V,{onCancel:m,isFinalStep:!1})]})})]})};w.__docgenInfo={description:"",methods:[],displayName:"ValgModalStep",props:{modalData:{required:!0,tsType:{name:"ModalData"},description:""},setModalData:{required:!0,tsType:{name:"signature",type:"function",raw:"(data: ModalData) => void",signature:{arguments:[{type:{name:"ModalData"},name:"data"}],return:{name:"void"}}},description:""},closeModal:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const z=({closeModal:r,handleAddPeriode:s,isModalOpen:m,erBarnetFødt:n,gjelderAdopsjon:c})=>{const d={hvaVilDuGjøre:void 0,fom:void 0,tom:void 0,currentStep:"step1",kontoType:void 0,forelder:void 0,årsak:void 0},[a,g]=$.useState(d),{currentStep:h}=a,{hvaVilDuGjøre:M}=a,y="legg-til-periode-modal-heading",i=()=>{g(d),r()},f=()=>{switch(h){case"step1":return e.jsx(w,{modalData:a,setModalData:g,closeModal:i});case"step2":return e.jsx(b,{modalData:a,setModalData:g,closeModal:i,erBarnetFødt:n,gjelderAdopsjon:c,handleAddPeriode:s,isOpphold:M===I.LEGG_TIL_OPPHOLD});default:return null}};return e.jsxs(x,{className:k.modal,open:m,"aria-labelledby":y,onClose:i,children:[e.jsx(x.Header,{className:k.header,closeButton:!1,children:e.jsxs("div",{className:k.headerContent,children:[e.jsx(U,{"aria-hidden":!0,width:24,height:24}),e.jsx(E,{size:"medium",id:y,children:e.jsx(u,{id:"uttaksplan.leggTilPeriode"})})]})}),e.jsx(x.Body,{children:f()})]})};z.__docgenInfo={description:"",methods:[],displayName:"LeggTilPeriodeModal",props:{closeModal:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void | undefined",signature:{arguments:[],return:{name:"union",raw:"void | undefined",elements:[{name:"void"},{name:"undefined"}]}}},description:""},handleAddPeriode:{required:!0,tsType:{name:"signature",type:"function",raw:"(nyPeriode: Planperiode) => void",signature:{arguments:[{type:{name:"Planperiode"},name:"nyPeriode"}],return:{name:"void"}}},description:""},isModalOpen:{required:!0,tsType:{name:"boolean"},description:""},erBarnetFødt:{required:!0,tsType:{name:"boolean"},description:""},gjelderAdopsjon:{required:!0,tsType:{name:"boolean"},description:""}}};export{z as L};
