import{r as v,u as X,l as s,H as b,N as I,M,a2 as Q,j as u,a3 as Z,F as ee,m as L,V as j,q as P,s as h,a4 as re,w as V,U as d,a5 as te,a6 as A,a7 as w}from"./iframe-C9j4Qehy.js";var se=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)r.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(t[n[a]]=e[n[a]]);return t};const Re=v.forwardRef((e,r)=>{var{title:t,titleId:n}=e,a=se(e,["title","titleId"]);let l=X();return l=t?n||"title-"+l:void 0,v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:r,"aria-labelledby":l},a),t?v.createElement("title",{id:l},t):null,v.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M19.638 4.417a3.25 3.25 0 0 0-4.608-.008l-9.378 9.379a.75.75 0 0 0-.191.324l-1.414 4.95a.75.75 0 0 0 .925.927l4.94-1.398a.75.75 0 0 0 .327-.191l9.39-9.391a3.25 3.25 0 0 0 .01-4.592M16.091 5.47a1.752 1.752 0 1 1 2.478 2.478l-.23.23-2.477-2.479zM14.8 6.76 6.85 14.71l-.991 3.47 3.457-.979 7.963-7.963z",clipRule:"evenodd"}))});var T=(e=>(e.mor="MOR",e.farMedmor="FAR_MEDMOR",e))(T||{}),i=(e=>(e.Mødrekvote="MØDREKVOTE",e.Fedrekvote="FEDREKVOTE",e.Fellesperiode="FELLESPERIODE",e.Foreldrepenger="FORELDREPENGER",e.ForeldrepengerFørFødsel="FORELDREPENGER_FØR_FØDSEL",e.AktivitetsfriKvote="AKTIVITETSFRI_KVOTE",e))(i||{});const ae=e=>e.replace(/,/g,".").replace(/\s/g,"").replace(/%/g,""),ne=RegExp(/^[-]?[0-9,.\s]*$/),U=e=>{if(e!=null&&e.length>0&&ne.test(e)){const r=ae(e);return(r.match(/\./g)||[]).length>1?void 0:parseFloat(r)}},oe=e=>e.charAt(0).toUpperCase()+e.slice(1),ie=e=>{const r=e.charAt(e.length-1).toLowerCase();return r==="s"||r==="x"||r==="z"},de=(e,r)=>r!=="nb"?e:ie(e)?`${e}'`:`${e}s`,ye=(e,r)=>new Intl.ListFormat(r.locale,{style:"long",type:"conjunction"}).format(e);var O=(e=>(e.Ferie="LOVBESTEMT_FERIE",e.Arbeid="ARBEID",e.Sykdom="SØKER_SYKDOM",e.InstitusjonSøker="SØKER_INNLAGT",e.InstitusjonBarnet="BARN_INNLAGT",e.HvØvelse="HV_ØVELSE",e.NavTiltak="NAV_TILTAK",e.Fri="FRI",e))(O||{}),G=(e=>(e.ORDINÆRT_ARBEID="ORDINÆRT_ARBEID",e.SELVSTENDIG_NÆRINGSDRIVENDE="SELVSTENDIG_NÆRINGSDRIVENDE",e.FRILANS="FRILANS",e.ANNET="ANNET",e))(G||{}),N=(e=>(e.Mødrekvote="MØDREKVOTE",e.Fedrekvote="FEDREKVOTE",e.Fellesperiode="FELLESPERIODE",e.Foreldrepenger="FORELDREPENGER",e.ForeldrepengerFørFødsel="FORELDREPENGER_FØR_FØDSEL",e.Flerbarnsdager="FLERBARNSDAGER",e.AktivitetsfriKvote="AKTIVITETSFRI_KVOTE",e))(N||{}),_=(e=>(e.PERIODE_UTEN_UTTAK="Periode uten uttak",e.TAPTE_DAGER="Tapte dager",e))(_||{});const Ne=e=>{if(e&&e.gradering)return{skalDuJobbe:!0,stillingsprosent:e.gradering.arbeidstidprosent.toString()}},he=(e,r)=>{if(e)return{aktivitet:{type:G.ORDINÆRT_ARBEID},arbeidstidprosent:U(r)??100}},le=({onCancel:e,onGoPreviousStep:r,isFinalStep:t})=>s.jsxs(b,{gap:"2",justify:"space-between",children:[s.jsx(I,{type:"button",variant:"secondary",onClick:e,children:s.jsx(M,{id:"uttaksplan.avbryt"})}),s.jsxs(b,{gap:"2",children:[r&&s.jsx(I,{type:"button",variant:"secondary",onClick:r,children:s.jsx(M,{id:"uttaksplan.gåTilbake"})}),s.jsx(I,{children:t?s.jsx(M,{id:"uttaksplan.ferdig"}):s.jsx(M,{id:"uttaksplan.gåVidere"})})]})]});le.__docgenInfo={description:"",methods:[],displayName:"ModalButtons",props:{onCancel:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onGoPreviousStep:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},isFinalStep:{required:!0,tsType:{name:"boolean"},description:""}}};const B=(e,r)=>{if(e==null)throw Error("Data er ikke oppgitt");return e},Se=e=>{throw new Error(e)},q=e=>e==null||e.toString().trim().length===0,S=e=>r=>q(r)?e:null;u.extend(ee);u().add(18,"week").add(3,"day").startOf("day").toDate();u().startOf("day").subtract(21,"days");u().add(1,"year").startOf("day").toDate();const C=e=>r=>q(r)||Q.test(r)?null:e,H=e=>r=>u(r).day()!==0&&u(r).day()!==6?null:e,x=(e,r)=>t=>r&&u(t).isAfter(r,"day")?e:null,F=(e,r)=>t=>r&&u(t).isBefore(r,"day")?e:null,J=(e,r,t)=>n=>Z(u(n).toDate(),r,t)?null:e,ue=e=>e!==""&&e!==void 0&&e!==null,pe=e=>r=>{const t=U(r);if(!ue(r)||r.trim()==="")return e.formatMessage({id:"leggTilPeriodeModal.stillingsprosent.påkrevd"});if(t===void 0)return e.formatMessage({id:"leggTilPeriodeModal.stillingsprosent.måVæreEtTall"});if(t<=0)return e.formatMessage({id:"leggTilPeriodeModal.stillingsprosent.måVæreStørreEnn0"});if(t>=100)return e.formatMessage({id:"leggTilPeriodeModal.stillingsprosent.måVæreMindreEnn100"})},ge=({formMethods:e})=>{const r=L(),t=e.watch("skalDuJobbe");return s.jsxs(j,{gap:"4",children:[s.jsxs(P,{name:"skalDuJobbe",control:e.control,label:r.formatMessage({id:"uttaksplan.graderingSpørsmål.heading"}),validate:[S(r.formatMessage({id:"leggTilPeriodeModal.skalDuJobbe.påkrevd"}))],children:[s.jsx(h,{value:!0,children:s.jsx(M,{id:"uttaksplan.ja"})}),s.jsx(h,{value:!1,children:s.jsx(M,{id:"uttaksplan.nei"})})]}),t&&s.jsx(re,{name:"stillingsprosent",control:e.control,className:"w-xs",label:r.formatMessage({id:"GraderingSpørsmål.HvorMangeProsent"}),validate:[pe(r)],maxLength:5})]})};ge.__docgenInfo={description:"",methods:[],displayName:"GraderingSpørsmål",props:{formMethods:{required:!0,tsType:{name:"any"},description:""}}};var K=(e=>(e.UTTAKSPLAN="UTTAKSPLAN",e.FAMILIEHENDELSEDATO="FAMILIEHENDELSEDATO",e.ER_FAR_ELLER_MEDMOR="ER_FAR_ELLER_MEDMOR",e.NAVN_PÅ_FORELDRE="NAVN_PÅ_FORELDRE",e.BARN="BARN",e.FAMILIESITUASJON="FAMILIESITUASJON",e.MODUS="MODUS",e.VALGT_STØNADSKONTO="VALGT_STØNADSKONTO",e.ALENE_OM_OMSORG="ALENE_OM_OMSORG",e))(K||{});const z={},$=v.createContext(z),ce=v.createContext(void 0),me=({children:e,initialState:r,onDispatch:t})=>{const[n,a]=v.useReducer((p,m)=>{switch(m.type){case"update":return{...p,[m.key]:m.data};case"reset":return{};default:throw new Error}},r||z),l=p=>{t&&t(p),a(p)};return s.jsx($.Provider,{value:n,children:s.jsx(ce.Provider,{value:l,children:e})})},W=e=>v.useContext($)[e];me.__docgenInfo={description:"",methods:[],displayName:"UttaksplanDataContext",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},initialState:{required:!1,tsType:{name:"signature",type:"object",raw:`{
    [UttaksplanContextDataType.UTTAKSPLAN]?: SaksperiodeNy[];
    [UttaksplanContextDataType.FAMILIEHENDELSEDATO]?: string;
    [UttaksplanContextDataType.ER_FAR_ELLER_MEDMOR]?: boolean;
    [UttaksplanContextDataType.NAVN_PÅ_FORELDRE]?: NavnPåForeldre;
    [UttaksplanContextDataType.BARN]?: Barn;
    [UttaksplanContextDataType.FAMILIESITUASJON]?: Familiesituasjon;
    [UttaksplanContextDataType.MODUS]?: UttaksplanModus;
    [UttaksplanContextDataType.VALGT_STØNADSKONTO]?: TilgjengeligeStønadskontoerForDekningsgrad;
    [UttaksplanContextDataType.ALENE_OM_OMSORG]?: boolean;
}`,signature:{properties:[]}},description:""},onDispatch:{required:!1,tsType:{name:"signature",type:"function",raw:"(action: Action) => void",signature:{arguments:[{type:{name:"union",raw:"{ type: 'update'; key: UttaksplanContextDataType; data: any } | { type: 'reset' }",elements:[{name:"signature",type:"object",raw:"{ type: 'update'; key: UttaksplanContextDataType; data: any }",signature:{properties:[{key:"type",value:{name:"literal",value:"'update'",required:!0}},{key:"key",value:{name:"UttaksplanContextDataType",required:!0}},{key:"data",value:{name:"any",required:!0}}]}},{name:"signature",type:"object",raw:"{ type: 'reset' }",signature:{properties:[{key:"type",value:{name:"literal",value:"'reset'",required:!0}}]}}]},name:"action"}],return:{name:"void"}}},description:""}}};const fe=(e,r)=>e.formatMessage({id:`uttaksplan.stønadskontotype.${r}`}),Oe=(e,r,t,n,a)=>{let l;switch(r){case N.Mødrekvote:l=t.mor;break;case N.Fedrekvote:l=t.farMedmor;break;default:l=void 0}if(l)return e.formatMessage({id:"uttaksplan.stønadskontotype.foreldernavn.kvote"},{navn:de(oe(l),e.locale)});if(n===!0&&a===!1){if(r===N.AktivitetsfriKvote)return e.formatMessage({id:"uttaksplan.stønadskontotype.AKTIVITETSFRI_KVOTE_BFHR"});if(r===N.Foreldrepenger)return e.formatMessage({id:"uttaksplan.stønadskontotype.AKTIVITETSKRAV_KVOTE_BFHR"})}return e.formatMessage({id:`uttaksplan.stønadskontotype.${r}`})},Ee=({formMethods:e})=>{const r=L(),t=B(W(K.VALGT_STØNADSKONTO)),n=e.watch("kontoType");return s.jsxs(j,{gap:"4",children:[s.jsx(V,{size:"medium",children:s.jsx(M,{id:"uttaksplan.velgKontotypeModal.tittel"})}),s.jsx(P,{name:"kontoType",control:e.control,validate:[S(r.formatMessage({id:"leggTilPeriodeModal.kontoType.påkrevd"}))],label:r.formatMessage({id:"KontotypeSpørsmål.velgKontotype"}),children:t.kontoer.map(a=>s.jsx(h,{value:a.konto,children:fe(r,a.konto)},a.konto))}),n===i.Fellesperiode&&s.jsxs(P,{name:"forelder",control:e.control,validate:[S(r.formatMessage({id:"leggTilPeriodeModal.forelder.påkrevd"}))],label:r.formatMessage({id:"KontotypeSpørsmål.hvemGjelder"}),children:[s.jsx(h,{value:T.mor,children:s.jsx(M,{id:"uttaksplan.mor"})}),s.jsx(h,{value:T.farMedmor,children:s.jsx(M,{id:"uttaksplan.far"})})]})]})};Ee.__docgenInfo={description:"",methods:[],displayName:"KontotypeSpørsmål",props:{formMethods:{required:!0,tsType:{name:"any"},description:""}}};const ke=({årsak:e,kontoType:r,familiehendelsedato:t,gjelderAdopsjon:n})=>{const a=d(t).denneEllerNeste();return e===O.Ferie?n?d(a).denneEllerNeste():d(a).leggTil(30):r===i.ForeldrepengerFørFødsel?d(a).trekkFra(15):r===i.Fellesperiode?d(a).trekkFra(60):d(a).denneEllerNeste()},Fe=({kontoType:e,familiehendelsedato:r})=>e===i.ForeldrepengerFørFødsel?d(d(r).denneEllerNeste()).forrige():u(r).add(3,"years").format(te),Me=({intl:e,familiehendelsedato:r,kontoType:t,tomValue:n,erBarnetFødt:a,minDate:l,maxDate:p,årsak:m,gjelderAdopsjon:D,skalDuJobbe:y,forelder:f})=>{const o=[S(e.formatMessage({id:"endreTidsPeriodeModal.fom.påkrevd"})),C(e.formatMessage({id:"endreTidsPeriodeModal.fom.gyldigDato"})),x(e.formatMessage({id:"endreTidsPeriodeModal.fom.førTilDato"}),n),H(e.formatMessage({id:"endreTidsPeriodeModal.fom.måVæreUkedag"}))],E=d(r).denneEllerNeste(),R=d(E).leggTil(30),g=d(E).trekkFra(15),k=d(E).forrige();switch(t){case i.AktivitetsfriKvote:case i.Mødrekvote:case i.Fedrekvote:case i.Foreldrepenger:o.push(F(a?e.formatMessage({id:"endreTidsPeriodeModal.riktigKvoteFørFødsel.fødsel"}):e.formatMessage({id:"endreTidsPeriodeModal.riktigKvoteFørFødsel.termin"}),d(r).denneEllerForrige()));break;case i.ForeldrepengerFørFødsel:o.push(J(e.formatMessage({id:"endreTidsPeriodeModal.foreldrepengerFørFødsel"}),u(g).toDate(),u(k).toDate()));break;case i.Fellesperiode:o.push(c=>u(c).isBetween(g,k,"day","[]")?e.formatMessage({id:"endreTidsPeriodeModal.foreldrepengerFørFødsel.fellesperiode"}):null),o.push(c=>u(g).isBetween(c,n,"day","[]")?e.formatMessage({id:"endreTidsPeriodeModal.fellesperiodeOverFPFF"}):null);break}switch(m){case O.Ferie:o.push(F(a?e.formatMessage({id:"endreTidsPeriodeModal.riktigKvoteFørFødsel.fødsel"}):e.formatMessage({id:"endreTidsPeriodeModal.riktigKvoteFørFødsel.termin"}),d(r).denneEllerForrige())),D||o.push(F(a?e.formatMessage({id:"endreTidsPeriodeModal.ferieFørsteSeksUker.fødsel"}):e.formatMessage({id:"endreTidsPeriodeModal.ferieFørsteSeksUker.termin"}),d(E).leggTil(30)));break;case _.PERIODE_UTEN_UTTAK:o.push(F(a?e.formatMessage({id:"endreTidsPeriodeModal.riktigKvoteFørFødsel.fødsel"}):e.formatMessage({id:"endreTidsPeriodeModal.riktigKvoteFørFødsel.termin"}),d(r).denneEllerForrige()));break}return o.push(F(e.formatMessage({id:"endreTidsPeriodeModal.minDato"},{minDate:A(l)}),l)),o.push(x(e.formatMessage({id:"endreTidsPeriodeModal.maksDato"},{maxDate:A(p)}),p)),y&&!D&&(t===i.Mødrekvote||t===i.Fellesperiode&&f===T.mor||t===i.Foreldrepenger&&f===T.mor)&&o.push(c=>u(c).isBetween(r,R,"day","[]")?t===i.Foreldrepenger&&f===T.mor?"Du kan ikke kombinere foreldrepenger med arbeid de første seks ukene":"Mor kan ikke kombinere foreldrepenger med arbeid de første seks ukene":null),o},Te=({intl:e,familiehendelsedato:r,kontoType:t,fomValue:n,erBarnetFødt:a,minDate:l,maxDate:p,årsak:m,gjelderAdopsjon:D,skalDuJobbe:y,forelder:f})=>{const o=[S(e.formatMessage({id:"endreTidsPeriodeModal.tom.påkrevd"})),C(e.formatMessage({id:"endreTidsPeriodeModal.tom.gyldigDato"})),H(e.formatMessage({id:"endreTidsPeriodeModal.tom.måVæreUkedag"}))],E=d(r).denneEllerNeste(),R=d(E).leggTil(30),g=d(E).trekkFra(15),k=d(E).forrige();switch(t){case i.AktivitetsfriKvote:case i.Mødrekvote:case i.Fedrekvote:case i.Foreldrepenger:o.push(F(a?e.formatMessage({id:"endreTidsPeriodeModal.riktigKvoteFørFødsel.fødsel"}):e.formatMessage({id:"endreTidsPeriodeModal.riktigKvoteFørFødsel.termin"}),d(r).denneEllerForrige()));break;case i.ForeldrepengerFørFødsel:o.push(J(e.formatMessage({id:"endreTidsPeriodeModal.foreldrepengerFørFødsel"}),u(g).toDate(),u(k).toDate()));break;case i.Fellesperiode:o.push(c=>u(c).isBetween(g,k,"day","[]")?e.formatMessage({id:"endreTidsPeriodeModal.foreldrepengerFørFødsel.fellesperiode"}):null),o.push(c=>u(g).isBetween(n,c,"day","[]")?e.formatMessage({id:"endreTidsPeriodeModal.fellesperiodeOverFPFF"}):null);break}switch(m){case O.Ferie:o.push(F(a?e.formatMessage({id:"endreTidsPeriodeModal.riktigKvoteFørFødsel.fødsel"}):e.formatMessage({id:"endreTidsPeriodeModal.riktigKvoteFørFødsel.termin"}),d(r).denneEllerForrige())),D||o.push(F(a?e.formatMessage({id:"endreTidsPeriodeModal.ferieFørsteSeksUker.fødsel"}):e.formatMessage({id:"endreTidsPeriodeModal.ferieFørsteSeksUker.termin"}),d(E).leggTil(30)));break;case _.PERIODE_UTEN_UTTAK:o.push(F(a?e.formatMessage({id:"endreTidsPeriodeModal.riktigKvoteFørFødsel.fødsel"}):e.formatMessage({id:"endreTidsPeriodeModal.riktigKvoteFørFødsel.termin"}),d(r).denneEllerForrige()));break}return o.push(F(e.formatMessage({id:"endreTidsPeriodeModal.minDato"},{minDate:A(l)}),l)),o.push(x(e.formatMessage({id:"endreTidsPeriodeModal.maksDato"},{maxDate:A(p)}),p)),y&&!D&&(t===i.Mødrekvote||t===i.Fellesperiode&&f===T.mor||t===i.Foreldrepenger&&f===T.mor)&&o.push(c=>u(c).isBetween(r,R,"day","[]")?t===i.Foreldrepenger&&f===T.mor?"Du kan ikke kombinere foreldrepenger med arbeid de første seks ukene":"Mor kan ikke kombinere foreldrepenger med arbeid de første seks ukene":null),o},ve=({formMethods:e,valgtPeriode:r,gjelderAdopsjon:t,erBarnetFødt:n,oppholdsårsak:a})=>{const l=L(),p=B(W(K.FAMILIEHENDELSEDATO)),m=e.watch("fom"),D=e.watch("tom"),y=e.watch("skalDuJobbe"),f=e.watch("forelder"),o=e.watch("kontoType"),R=a??(()=>{if(r?.utsettelseÅrsak&&r.utsettelseÅrsak===O.Ferie)return r.utsettelseÅrsak;if(r?.periodeHullÅrsak&&r.periodeHullÅrsak===_.PERIODE_UTEN_UTTAK)return r.periodeHullÅrsak})(),g=ke({årsak:R,kontoType:o??r?.kontoType,familiehendelsedato:p,gjelderAdopsjon:t}),k=Fe({familiehendelsedato:p,kontoType:o??r?.kontoType});return s.jsxs(s.Fragment,{children:[s.jsx(V,{size:"medium",children:s.jsx(M,{id:"uttaksplan.tidsperiodeSpørsmål.heading"})}),s.jsxs(b,{gap:"4",children:[s.jsx(w,{name:"fom",control:e.control,showMonthAndYearDropdowns:!0,minDate:g,maxDate:k,label:l.formatMessage({id:"TidsperiodeSpørsmål.fom"}),disableWeekends:!0,validate:Me({intl:l,familiehendelsedato:p,kontoType:o??r?.kontoType,tomValue:D,erBarnetFødt:n,minDate:g,maxDate:k,årsak:R,gjelderAdopsjon:t,skalDuJobbe:y,forelder:f})}),s.jsx(w,{name:"tom",control:e.control,validate:Te({intl:l,familiehendelsedato:p,kontoType:o??r?.kontoType,fomValue:m,erBarnetFødt:n,minDate:g,maxDate:k,årsak:R,gjelderAdopsjon:t,skalDuJobbe:y,forelder:f}),label:l.formatMessage({id:"TidsperiodeSpørsmål.tom"}),disableWeekends:!0,minDate:m,maxDate:k})]})]})};ve.__docgenInfo={description:"",methods:[],displayName:"TidsperiodeSpørsmål",props:{formMethods:{required:!0,tsType:{name:"any"},description:""},valgtPeriode:{required:!1,tsType:{name:"Planperiode"},description:""},gjelderAdopsjon:{required:!0,tsType:{name:"boolean"},description:""},erBarnetFødt:{required:!0,tsType:{name:"boolean"},description:""},oppholdsårsak:{required:!1,tsType:{name:"union",raw:"UtsettelseÅrsakType.Ferie | PeriodeHullType.PERIODE_UTEN_UTTAK",elements:[{name:"UtsettelseÅrsakType.Ferie"},{name:"PeriodeHullType.PERIODE_UTEN_UTTAK"}]},description:""}}};export{T as F,ge as G,Ee as K,le as M,_ as P,i as S,ve as T,G as U,me as a,K as b,O as c,Re as d,oe as e,ye as f,he as g,N as h,S as i,Ne as j,Oe as k,Se as l,B as n,W as u};
