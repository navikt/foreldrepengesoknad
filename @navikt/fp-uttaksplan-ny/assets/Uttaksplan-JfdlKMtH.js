import{r as j,u as Y,R as S,j as y,H as Z,V as $,i as N,M as V,k as F}from"./iframe-Blxw3oVM.js";import{a as H,s as x,l as C,f as J,b as D,c as G,d as Q,u as B,m as h,e as M,h as k,j as U}from"./PeriodeListeItem-CGrGtnE1.js";import{F as K,b as ee}from"./TidsperiodeSpørsmål-HHEIOd0r.js";import{L as ne}from"./LeggTilPeriodePanel-CkdePKgL.js";import{P as re}from"./PeriodeListe-DKHHWnV5.js";var te=function(t,r){var n={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.indexOf(e)<0&&(n[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,e=Object.getOwnPropertySymbols(t);i<e.length;i++)r.indexOf(e[i])<0&&Object.prototype.propertyIsEnumerable.call(t,e[i])&&(n[e[i]]=t[e[i]]);return n};const ie=j.forwardRef((t,r)=>{var{title:n,titleId:e}=t,i=te(t,["title","titleId"]);let u=Y();return u=n?e||"title-"+u:void 0,S.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:r,"aria-labelledby":u},i),n?S.createElement("title",{id:u},n):null,S.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M16.97 2.97a2.871 2.871 0 1 1 4.06 4.06l-1.5 1.5-4.5 4.5a.75.75 0 0 1-.293.181l-4.5 1.5a.75.75 0 0 1-.949-.948l1.5-4.5a.75.75 0 0 1 .182-.293l4.497-4.497.003-.003.003-.003zM16 6.06l-3.844 3.845-.97 2.91 2.909-.97L17.939 8zm3 .88L17.06 5l.97-.97a1.371 1.371 0 0 1 1.94 1.94zM3.25 5c0-.966.784-1.75 1.75-1.75h1.75a.75.75 0 0 1 0 1.5H5a.25.25 0 0 0-.25.25v1.75a.75.75 0 0 1-1.5 0zM9.5 4a.75.75 0 0 1 .75-.75H12a.75.75 0 0 1 0 1.5h-1.75A.75.75 0 0 1 9.5 4M4 9.5a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 4 9.5m16 1.75a.75.75 0 0 1 .75.75v1.75a.75.75 0 0 1-1.5 0V12a.75.75 0 0 1 .75-.75M4 16.5a.75.75 0 0 1 .75.75V19c0 .138.112.25.25.25h1.75a.75.75 0 0 1 0 1.5H5A1.75 1.75 0 0 1 3.25 19v-1.75A.75.75 0 0 1 4 16.5m16 0a.75.75 0 0 1 .75.75V19A1.75 1.75 0 0 1 19 20.75h-1.75a.75.75 0 0 1 0-1.5H19a.25.25 0 0 0 .25-.25v-1.75a.75.75 0 0 1 .75-.75M9.5 20a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5A.75.75 0 0 1 9.5 20",clipRule:"evenodd"}))}),ue=(t,r)=>{const n={...t};return delete n[r],n},oe=(t,r)=>{let n=t;for(const e of r)n=ue(n,e);return n},W=({perioder:t,slettetPeriode:r,familiehendelsesdato:n,harAktivitetskravIPeriodeUtenUttak:e,erAdopsjon:i,bareFarHarRett:u,erFarEllerMedmor:l,førsteUttaksdagNesteBarnsSak:s})=>t.reduce((o,c,a)=>{if(a===0&&c.id===r.id)return o;if(c.id===r.id){const d={fom:r.fom,tom:r.tom};return o.push(...H(d,e,n,i,u,l,s)),o}return o.push(c),o},[]),le=({perioder:t,endretPeriode:r,originalPeriode:n,familiehendelsesdato:e,harAktivitetskravIPeriodeUtenUttak:i,erAdopsjon:u,bareFarHarRett:l,erFarEllerMedmor:s,annenPartsUttak:p,førsteUttaksdagNesteBarnsSak:o})=>{const c=x(W({perioder:t,slettetPeriode:n,familiehendelsesdato:e,harAktivitetskravIPeriodeUtenUttak:i,erAdopsjon:u,bareFarHarRett:l,erFarEllerMedmor:s,førsteUttaksdagNesteBarnsSak:o}),e,o,p);return x(C({perioder:c,nyPeriode:r,familiehendelsesdato:e,harAktivitetskravIPeriodeUtenUttak:i,erAdopsjon:u,bareFarHarRett:l,erFarEllerMedmor:s,førsteUttaksdagNesteBarnsSak:o}),e,o,p)},w=(t,r,n,e,i,u,l,s,p)=>{let o=x(C({perioder:t,nyPeriode:r,familiehendelsesdato:n,harAktivitetskravIPeriodeUtenUttak:e,erAdopsjon:i,bareFarHarRett:u,erFarEllerMedmor:l,førsteUttaksdagNesteBarnsSak:p}),n,p);return s&&(o=G(o,s,n,p)),D(o,e,n,i,u,l,p)},I=(t,r,n,e,i,u,l,s,p)=>{const o=r.find(a=>a.id===t.id);let c=J(le({perioder:r,endretPeriode:t,originalPeriode:o,familiehendelsesdato:n,harAktivitetskravIPeriodeUtenUttak:e,erAdopsjon:i,bareFarHarRett:u,erFarEllerMedmor:l,annenPartsUttak:s,førsteUttaksdagNesteBarnsSak:p}));return s&&(c=D(c,e,n,i,u,l,p),c=G(c,s,n,p)),D(c,e,n,i,u,l,p)},z=(t,r,n,e,i,u,l,s,p)=>{let o=J(x(W({perioder:t,slettetPeriode:r,familiehendelsesdato:n,harAktivitetskravIPeriodeUtenUttak:e,erAdopsjon:i,bareFarHarRett:u,erFarEllerMedmor:l,førsteUttaksdagNesteBarnsSak:p}),n,p));return s&&(o=D(o,e,n,i,u,l,p),o=G(o,s,n,p)),D(o,e,n,i,u,l,p)},R=t=>{if(t)return t===K.mor?K.farMedmor:K.mor},g=({perioder:t,forelder:r,harAktivitetskravIPeriodeUtenUttak:n,familiehendelsedato:e,gjelderAdopsjon:i,bareFarMedmorHarRett:u,erFarEllerMedmor:l,førsteUttaksdagNesteBarnsSak:s,erAnnenPart:p})=>r?p?t.filter(o=>o.forelder===r):D(t.filter(o=>o.forelder===r),n,e,i,u,l,s):p?void 0:t,v=t=>{if(!(!t||t.length===0))return t.filter(r=>Q(r))},pe=({perioder:t,harAktivitetskravIPeriodeUtenUttak:r,familiehendelsedato:n,gjelderAdopsjon:e,bareFarMedmorHarRett:i,erFarEllerMedmor:u,førsteUttaksdagNesteBarnsSak:l})=>D(t.filter(s=>!Q(s)),r,n,e,i,u,l),L=({periode:t,erIPlanleggerModus:r,opprinneligPlan:n,...e})=>{const i=t.forelder,u=R(i),l=r?g({...e,forelder:i,erAnnenPart:!1}):pe({...e}),s=r?g({...e,forelder:u,erAnnenPart:!0}):v(n);return{søkersPerioder:l??[],annenpartsPerioder:s}},ce=({perioder:t,familiehendelsedato:r,harAktivitetskravIPeriodeUtenUttak:n,gjelderAdopsjon:e,bareFarMedmorHarRett:i,erFarEllerMedmor:u,førsteUttaksdagNesteBarnsSak:l,opprinneligPlan:s,erIPlanleggerModus:p=!1})=>{const o={perioder:t,harAktivitetskravIPeriodeUtenUttak:n,familiehendelsedato:r,gjelderAdopsjon:e,bareFarMedmorHarRett:i,erFarEllerMedmor:u,førsteUttaksdagNesteBarnsSak:l};return{leggTilPeriode:c=>{const{søkersPerioder:a,annenpartsPerioder:d}=L({...o,erIPlanleggerModus:p,opprinneligPlan:s,periode:c});return w(a,c,r,n,e,i,u,d,l)},leggTilPerioder:c=>{const a=R(c[0].forelder),{søkersPerioder:d,annenpartsPerioder:P}=L({...o,erIPlanleggerModus:p,opprinneligPlan:s,periode:c[0]});let m=[];return c.forEach((T,O)=>{if(O===0)m=w(d,T,r,n,e,i,u,P,l);else{const f=p?g({...o,forelder:a,erAnnenPart:!0}):v(s);m=w(t,T,r,n,e,i,u,f,l)}}),m},oppdaterPeriode:c=>{const{søkersPerioder:a,annenpartsPerioder:d}=L({...o,erIPlanleggerModus:p,opprinneligPlan:s,periode:c});return I(c,a,r,n,e,i,u,d,l)},oppdaterPerioder:c=>{const a=R(c[0].forelder),{søkersPerioder:d,annenpartsPerioder:P}=L({...o,erIPlanleggerModus:p,opprinneligPlan:s,periode:c[0]});let m=[];return c.forEach((T,O)=>{if(O===0)m=I(T,d,r,n,e,i,u,P,l);else{const f=p?g({...o,forelder:a,erAnnenPart:!0}):v(s);m=w(m,T,r,n,e,i,u,f,l)}}),m},slettPeriode:c=>{const{søkersPerioder:a,annenpartsPerioder:d}=L({...o,erIPlanleggerModus:p,opprinneligPlan:s,periode:c});return z(a,c,r,n,e,i,u,d,l)},slettPerioder:c=>{const a=R(c[0].forelder),{søkersPerioder:d,annenpartsPerioder:P}=L({...o,erIPlanleggerModus:p,opprinneligPlan:s,periode:c[0]});let m=[];return c.forEach((T,O)=>{if(O===0)m=z(d,T,r,n,e,i,u,P,l);else{const f=p?g({...o,forelder:a,erAnnenPart:!0}):v(s);m=z(m,T,r,n,e,i,u,f,l)}}),m}}},se=({familiehendelsedato:t,erFarEllerMedmor:r,navnPåForeldre:n,barn:e,søkersPerioder:i,annenPartsPerioder:u,gjelderAdopsjon:l,bareFarMedmorHarRett:s,harAktivitetskravIPeriodeUtenUttak:p,førsteUttaksdagNesteBarnsSak:o,familiesituasjon:c,handleOnPlanChange:a,modus:d,valgtStønadskonto:P,erAleneOmOmsorg:m,isAllAccordionsOpen:T,erMedmorDelAvSøknaden:O=!1})=>{const[f,A]=j.useState(!1),b=B({familiehendelsedato:t,erFarEllerMedmor:r,søkersPerioder:i,annenPartsPerioder:u,gjelderAdopsjon:l,bareFarMedmorHarRett:s,harAktivitetskravIPeriodeUtenUttak:p,førsteUttaksdagNesteBarnsSak:o,modus:d}),X=u?h(u,r,!0,t,d):void 0,_=ce({perioder:b,familiehendelsedato:t,harAktivitetskravIPeriodeUtenUttak:p,gjelderAdopsjon:l,bareFarMedmorHarRett:s,erFarEllerMedmor:r,førsteUttaksdagNesteBarnsSak:o,opprinneligPlan:X,erIPlanleggerModus:!0});return y.jsxs(ee,{initialState:{BARN:e,ER_FAR_ELLER_MEDMOR:r,FAMILIEHENDELSEDATO:t,NAVN_PÅ_FORELDRE:n,UTTAKSPLAN:b,FAMILIESITUASJON:c,MODUS:d,VALGT_STØNADSKONTO:P,ALENE_OM_OMSORG:m,ER_MEDMOR_DEL_AV_SØKNADEN:O},children:[b.length>0&&y.jsx(re,{perioder:b,handleAddPeriode:E=>{q(_.leggTilPeriode(E),a)},handleUpdatePeriode:E=>{q(_.oppdaterPeriode(E),a)},handleDeletePeriode:E=>{q(_.slettPeriode(E),a)},handleDeletePerioder:E=>{q(_.slettPerioder(E),a)},isAllAccordionsOpen:T}),b.length===0&&y.jsxs(Z,{gap:"space-12",children:[y.jsx(ie,{fontSize:24}),y.jsxs($,{gap:"space-8",children:[y.jsx(N,{weight:"semibold",size:"large",children:y.jsx(V,{id:"uttaksplan.ingenPerioder.tittel"})}),y.jsx(N,{children:y.jsx(V,{id:"uttaksplan.ingenPerioder.body"})})]})]}),d!=="innsyn"&&!f&&y.jsx(F,{variant:"secondary",onClick:()=>A(!0),children:y.jsx(V,{id:"uttaksplan.leggTilPeriode"})}),f&&y.jsx(ne,{onCancel:()=>A(!1),handleAddPeriode:E=>{q(_.leggTilPeriode(E),a),A(!1)},erBarnetFødt:M(e),gjelderAdopsjon:l})]})},q=(t,r)=>{const n=t.filter(e=>!k(e)&&!U(e));r(n.map(e=>oe(e,["id","periodeHullÅrsak","readOnly","skalIkkeHaUttakFørTermin"])))};se.__docgenInfo={description:"",methods:[],displayName:"UttaksplanNy",props:{familiehendelsedato:{required:!0,tsType:{name:"string"},description:""},erFarEllerMedmor:{required:!0,tsType:{name:"boolean"},description:""},navnPåForeldre:{required:!0,tsType:{name:"NavnPåForeldre"},description:""},barn:{required:!0,tsType:{name:"union",raw:"FødtBarn | UfødtBarn | AdoptertBarn | AdoptertStebarn | AdoptertAnnetBarn | IkkeUtfyltTypeBarn",elements:[{name:"FødtBarn"},{name:"UfødtBarn"},{name:"AdoptertBarn"},{name:"AdoptertStebarn"},{name:"AdoptertAnnetBarn"},{name:"IkkeUtfyltTypeBarn"}]},description:""},søkersPerioder:{required:!0,tsType:{name:"Array",elements:[{name:"SaksperiodeNy"}],raw:"SaksperiodeNy[]"},description:""},annenPartsPerioder:{required:!1,tsType:{name:"Array",elements:[{name:"SaksperiodeNy"}],raw:"SaksperiodeNy[]"},description:""},gjelderAdopsjon:{required:!0,tsType:{name:"boolean"},description:""},bareFarMedmorHarRett:{required:!0,tsType:{name:"boolean"},description:""},harAktivitetskravIPeriodeUtenUttak:{required:!0,tsType:{name:"boolean"},description:""},førsteUttaksdagNesteBarnsSak:{required:!0,tsType:{name:"union",raw:"string | undefined",elements:[{name:"string"},{name:"undefined"}]},description:""},familiesituasjon:{required:!0,tsType:{name:"union",raw:"'fødsel' | 'termin' | 'adopsjon'",elements:[{name:"literal",value:"'fødsel'"},{name:"literal",value:"'termin'"},{name:"literal",value:"'adopsjon'"}]},description:""},handleOnPlanChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(perioder: SaksperiodeNy[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"SaksperiodeNy"}],raw:"SaksperiodeNy[]"},name:"perioder"}],return:{name:"void"}}},description:""},modus:{required:!0,tsType:{name:"union",raw:"'søknad' | 'innsyn' | 'planlegger'",elements:[{name:"literal",value:"'søknad'"},{name:"literal",value:"'innsyn'"},{name:"literal",value:"'planlegger'"}]},description:""},valgtStønadskonto:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    kontoer: KontoDto[];
    minsteretter: Minsteretter;
    tillegg?: Tillegg;
}`,signature:{properties:[{key:"kontoer",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    konto: KontoTypeUttak;
    dager: number;
}`,signature:{properties:[{key:"konto",value:{name:"union",raw:`| 'MØDREKVOTE'
| 'FEDREKVOTE'
| 'FELLESPERIODE'
| 'FORELDREPENGER'
| 'FORELDREPENGER_FØR_FØDSEL'
| 'AKTIVITETSFRI_KVOTE'`,elements:[{name:"literal",value:"'MØDREKVOTE'"},{name:"literal",value:"'FEDREKVOTE'"},{name:"literal",value:"'FELLESPERIODE'"},{name:"literal",value:"'FORELDREPENGER'"},{name:"literal",value:"'FORELDREPENGER_FØR_FØDSEL'"},{name:"literal",value:"'AKTIVITETSFRI_KVOTE'"}],required:!0}},{key:"dager",value:{name:"number",required:!0}}]}}],raw:"KontoDto[]",required:!0}},{key:"minsteretter",value:{name:"signature",type:"object",raw:`{
    farRundtFødsel: number;
    toTette: number;
}`,signature:{properties:[{key:"farRundtFødsel",value:{name:"number",required:!0}},{key:"toTette",value:{name:"number",required:!0}}]},required:!0}},{key:"tillegg",value:{name:"signature",type:"object",raw:`{
    flerbarn: number;
    prematur: number;
}`,signature:{properties:[{key:"flerbarn",value:{name:"number",required:!0}},{key:"prematur",value:{name:"number",required:!0}}]},required:!1}}]}},description:""},erAleneOmOmsorg:{required:!0,tsType:{name:"boolean"},description:""},isAllAccordionsOpen:{required:!1,tsType:{name:"boolean"},description:""},erMedmorDelAvSøknaden:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};export{se as U};
