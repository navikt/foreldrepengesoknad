import{r as D,u as X,l as s,H as b,J as I,M,$ as Q,j as u,a0 as Z,G as ee,m as K,V as P,p as x,q as S,a1 as re,v as V,U as d,a2 as te,a3 as A,a4 as j}from"./iframe-vW1I2eor.js";var se=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)r.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(t[n[a]]=e[n[a]]);return t};const ye=D.forwardRef((e,r)=>{var{title:t,titleId:n}=e,a=se(e,["title","titleId"]);let l=X();return l=t?n||"title-"+l:void 0,D.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:r,"aria-labelledby":l},a),t?D.createElement("title",{id:l},t):null,D.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M19.638 4.417a3.25 3.25 0 0 0-4.608-.008l-9.378 9.379a.75.75 0 0 0-.191.324l-1.414 4.95a.75.75 0 0 0 .925.927l4.94-1.398a.75.75 0 0 0 .327-.191l9.39-9.391a3.25 3.25 0 0 0 .01-4.592M16.091 5.47a1.752 1.752 0 1 1 2.478 2.478l-.23.23-2.477-2.479zM14.8 6.76 6.85 14.71l-.991 3.47 3.457-.979 7.963-7.963z",clipRule:"evenodd"}))});var T=(e=>(e.mor="MOR",e.farMedmor="FAR_MEDMOR",e))(T||{}),o=(e=>(e.Mødrekvote="MØDREKVOTE",e.Fedrekvote="FEDREKVOTE",e.Fellesperiode="FELLESPERIODE",e.Foreldrepenger="FORELDREPENGER",e.ForeldrepengerFørFødsel="FORELDREPENGER_FØR_FØDSEL",e.AktivitetsfriKvote="AKTIVITETSFRI_KVOTE",e))(o||{});const ae=e=>e.replace(/,/g,".").replace(/\s/g,"").replace(/%/g,""),ne=RegExp(/^[-]?[0-9,.\s]*$/),U=e=>{if(e!=null&&e.length>0&&ne.test(e)){const r=ae(e);return(r.match(/\./g)||[]).length>1?void 0:parseFloat(r)}},ie=e=>e.charAt(0).toUpperCase()+e.slice(1),oe=e=>{const r=e.charAt(e.length-1).toLowerCase();return r==="s"||r==="x"||r==="z"},de=(e,r)=>r!=="nb"?e:oe(e)?`${e}'`:`${e}s`,he=(e,r)=>new Intl.ListFormat(r.locale,{style:"long",type:"conjunction"}).format(e);var v=(e=>(e.Ferie="LOVBESTEMT_FERIE",e.Arbeid="ARBEID",e.Sykdom="SØKER_SYKDOM",e.InstitusjonSøker="SØKER_INNLAGT",e.InstitusjonBarnet="BARN_INNLAGT",e.HvØvelse="HV_ØVELSE",e.NavTiltak="NAV_TILTAK",e.Fri="FRI",e))(v||{}),G=(e=>(e.ORDINÆRT_ARBEID="ORDINÆRT_ARBEID",e.SELVSTENDIG_NÆRINGSDRIVENDE="SELVSTENDIG_NÆRINGSDRIVENDE",e.FRILANS="FRILANS",e.ANNET="ANNET",e))(G||{}),N=(e=>(e.Mødrekvote="MØDREKVOTE",e.Fedrekvote="FEDREKVOTE",e.Fellesperiode="FELLESPERIODE",e.Foreldrepenger="FORELDREPENGER",e.ForeldrepengerFørFødsel="FORELDREPENGER_FØR_FØDSEL",e.Flerbarnsdager="FLERBARNSDAGER",e.AktivitetsfriKvote="AKTIVITETSFRI_KVOTE",e))(N||{}),_=(e=>(e.PERIODE_UTEN_UTTAK="Periode uten uttak",e.TAPTE_DAGER="Tapte dager",e))(_||{});const Ne=e=>{if(e&&e.gradering)return{skalDuJobbe:!0,stillingsprosent:e.gradering.arbeidstidprosent.toString()}},Se=(e,r)=>{if(e)return{aktivitet:{type:G.ORDINÆRT_ARBEID},arbeidstidprosent:U(r)??100}},le=({onCancel:e,onGoPreviousStep:r,isFinalStep:t})=>s.jsxs(b,{gap:"2",justify:"space-between",children:[s.jsx(I,{type:"button",variant:"secondary",onClick:e,children:s.jsx(M,{id:"uttaksplan.avbryt"})}),s.jsxs(b,{gap:"2",children:[r&&s.jsx(I,{type:"button",variant:"secondary",onClick:r,children:s.jsx(M,{id:"uttaksplan.gåTilbake"})}),s.jsx(I,{children:t?s.jsx(M,{id:"uttaksplan.ferdig"}):s.jsx(M,{id:"uttaksplan.gåVidere"})})]})]});le.__docgenInfo={description:"",methods:[],displayName:"ModalButtons",props:{onCancel:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onGoPreviousStep:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},isFinalStep:{required:!0,tsType:{name:"boolean"},description:""}}};const B=(e,r)=>{if(e==null)throw Error("Data er ikke oppgitt");return e},Oe=e=>{throw new Error(e)},q=e=>e==null||e.toString().trim().length===0,O=e=>r=>q(r)?e:null;u.extend(ee);u().add(18,"week").add(3,"day").startOf("day").toDate();u().startOf("day").subtract(21,"days");u().add(1,"year").startOf("day").toDate();const C=e=>r=>q(r)||Q.test(r)?null:e,H=e=>r=>u(r).day()!==0&&u(r).day()!==6?null:e,L=(e,r)=>t=>r&&u(t).isAfter(r,"day")?e:null,F=(e,r)=>t=>r&&u(t).isBefore(r,"day")?e:null,J=(e,r,t)=>n=>Z(u(n).toDate(),r,t)?null:e,ue=e=>e!==""&&e!==void 0&&e!==null,pe=e=>r=>{const t=U(r);if(!ue(r)||r.trim()==="")return e.formatMessage({id:"leggTilPeriodeModal.stillingsprosent.påkrevd"});if(t===void 0)return e.formatMessage({id:"leggTilPeriodeModal.stillingsprosent.måVæreEtTall"});if(t<=0)return e.formatMessage({id:"leggTilPeriodeModal.stillingsprosent.måVæreStørreEnn0"});if(t>=100)return e.formatMessage({id:"leggTilPeriodeModal.stillingsprosent.måVæreMindreEnn100"})},me=({formMethods:e})=>{const r=K(),t=e.watch("skalDuJobbe");return s.jsxs(P,{gap:"4",children:[s.jsxs(x,{name:"skalDuJobbe",label:r.formatMessage({id:"uttaksplan.graderingSpørsmål.heading"}),validate:[O(r.formatMessage({id:"leggTilPeriodeModal.skalDuJobbe.påkrevd"}))],children:[s.jsx(S,{value:!0,children:s.jsx(M,{id:"uttaksplan.ja"})}),s.jsx(S,{value:!1,children:s.jsx(M,{id:"uttaksplan.nei"})})]}),t&&s.jsx(re,{className:"w-xs",label:r.formatMessage({id:"GraderingSpørsmål.HvorMangeProsent"}),name:"stillingsprosent",validate:[pe(r)],maxLength:5})]})};me.__docgenInfo={description:"",methods:[],displayName:"GraderingSpørsmål",props:{formMethods:{required:!0,tsType:{name:"any"},description:""}}};var w=(e=>(e.UTTAKSPLAN="UTTAKSPLAN",e.FAMILIEHENDELSEDATO="FAMILIEHENDELSEDATO",e.ER_FAR_ELLER_MEDMOR="ER_FAR_ELLER_MEDMOR",e.NAVN_PÅ_FORELDRE="NAVN_PÅ_FORELDRE",e.BARN="BARN",e.FAMILIESITUASJON="FAMILIESITUASJON",e.MODUS="MODUS",e.VALGT_STØNADSKONTO="VALGT_STØNADSKONTO",e.ALENE_OM_OMSORG="ALENE_OM_OMSORG",e))(w||{});const $={},z=D.createContext($),ge=D.createContext(void 0),ce=({children:e,initialState:r,onDispatch:t})=>{const[n,a]=D.useReducer((p,c)=>{switch(c.type){case"update":return{...p,[c.key]:c.data};case"reset":return{};default:throw new Error}},r||$),l=p=>{t&&t(p),a(p)};return s.jsx(z.Provider,{value:n,children:s.jsx(ge.Provider,{value:l,children:e})})},W=e=>D.useContext(z)[e];ce.__docgenInfo={description:"",methods:[],displayName:"UttaksplanDataContext",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},initialState:{required:!1,tsType:{name:"signature",type:"object",raw:`{
    [UttaksplanContextDataType.UTTAKSPLAN]?: SaksperiodeNy[];
    [UttaksplanContextDataType.FAMILIEHENDELSEDATO]?: string;
    [UttaksplanContextDataType.ER_FAR_ELLER_MEDMOR]?: boolean;
    [UttaksplanContextDataType.NAVN_PÅ_FORELDRE]?: NavnPåForeldre;
    [UttaksplanContextDataType.BARN]?: Barn;
    [UttaksplanContextDataType.FAMILIESITUASJON]?: Familiesituasjon;
    [UttaksplanContextDataType.MODUS]?: UttaksplanModus;
    [UttaksplanContextDataType.VALGT_STØNADSKONTO]?: TilgjengeligeStønadskontoerForDekningsgrad;
    [UttaksplanContextDataType.ALENE_OM_OMSORG]?: boolean;
}`,signature:{properties:[]}},description:""},onDispatch:{required:!1,tsType:{name:"signature",type:"function",raw:"(action: Action) => void",signature:{arguments:[{type:{name:"union",raw:"{ type: 'update'; key: UttaksplanContextDataType; data: any } | { type: 'reset' }",elements:[{name:"signature",type:"object",raw:"{ type: 'update'; key: UttaksplanContextDataType; data: any }",signature:{properties:[{key:"type",value:{name:"literal",value:"'update'",required:!0}},{key:"key",value:{name:"UttaksplanContextDataType",required:!0}},{key:"data",value:{name:"any",required:!0}}]}},{name:"signature",type:"object",raw:"{ type: 'reset' }",signature:{properties:[{key:"type",value:{name:"literal",value:"'reset'",required:!0}}]}}]},name:"action"}],return:{name:"void"}}},description:""}}};const fe=(e,r)=>e.formatMessage({id:`uttaksplan.stønadskontotype.${r}`}),ve=(e,r,t,n,a)=>{let l;switch(r){case N.Mødrekvote:l=t.mor;break;case N.Fedrekvote:l=t.farMedmor;break;default:l=void 0}if(l)return e.formatMessage({id:"uttaksplan.stønadskontotype.foreldernavn.kvote"},{navn:de(ie(l),e.locale)});if(n===!0&&a===!1){if(r===N.AktivitetsfriKvote)return e.formatMessage({id:"uttaksplan.stønadskontotype.AKTIVITETSFRI_KVOTE_BFHR"});if(r===N.Foreldrepenger)return e.formatMessage({id:"uttaksplan.stønadskontotype.AKTIVITETSKRAV_KVOTE_BFHR"})}return e.formatMessage({id:`uttaksplan.stønadskontotype.${r}`})},Ee=({formMethods:e})=>{const r=K(),t=B(W(w.VALGT_STØNADSKONTO)),n=e.watch("kontoType");return s.jsxs(P,{gap:"4",children:[s.jsx(V,{size:"medium",children:s.jsx(M,{id:"uttaksplan.velgKontotypeModal.tittel"})}),s.jsx(x,{validate:[O(r.formatMessage({id:"leggTilPeriodeModal.kontoType.påkrevd"}))],label:r.formatMessage({id:"KontotypeSpørsmål.velgKontotype"}),name:"kontoType",children:t.kontoer.map(a=>s.jsx(S,{value:a.konto,children:fe(r,a.konto)},a.konto))}),n===o.Fellesperiode&&s.jsxs(x,{validate:[O(r.formatMessage({id:"leggTilPeriodeModal.forelder.påkrevd"}))],label:r.formatMessage({id:"KontotypeSpørsmål.hvemGjelder"}),name:"forelder",children:[s.jsx(S,{value:T.mor,children:s.jsx(M,{id:"uttaksplan.mor"})}),s.jsx(S,{value:T.farMedmor,children:s.jsx(M,{id:"uttaksplan.far"})})]})]})};Ee.__docgenInfo={description:"",methods:[],displayName:"KontotypeSpørsmål",props:{formMethods:{required:!0,tsType:{name:"any"},description:""}}};const ke=({årsak:e,kontoType:r,familiehendelsedato:t,gjelderAdopsjon:n})=>{const a=d(t).denneEllerNeste();return e===v.Ferie?n?d(a).denneEllerNeste():d(a).leggTil(30):r===o.ForeldrepengerFørFødsel?d(a).trekkFra(15):r===o.Fellesperiode?d(a).trekkFra(60):d(a).denneEllerNeste()},Fe=({kontoType:e,familiehendelsedato:r})=>e===o.ForeldrepengerFørFødsel?d(d(r).denneEllerNeste()).forrige():u(r).add(3,"years").format(te),Me=({intl:e,familiehendelsedato:r,kontoType:t,tomValue:n,erBarnetFødt:a,minDate:l,maxDate:p,årsak:c,gjelderAdopsjon:R,skalDuJobbe:h,forelder:f})=>{const i=[O(e.formatMessage({id:"endreTidsPeriodeModal.fom.påkrevd"})),C(e.formatMessage({id:"endreTidsPeriodeModal.fom.gyldigDato"})),L(e.formatMessage({id:"endreTidsPeriodeModal.fom.førTilDato"}),n),H(e.formatMessage({id:"endreTidsPeriodeModal.fom.måVæreUkedag"}))],E=d(r).denneEllerNeste(),y=d(E).leggTil(30),m=d(E).trekkFra(15),k=d(E).forrige();switch(t){case o.AktivitetsfriKvote:case o.Mødrekvote:case o.Fedrekvote:case o.Foreldrepenger:i.push(F(a?e.formatMessage({id:"endreTidsPeriodeModal.riktigKvoteFørFødsel.fødsel"}):e.formatMessage({id:"endreTidsPeriodeModal.riktigKvoteFørFødsel.termin"}),d(r).denneEllerForrige()));break;case o.ForeldrepengerFørFødsel:i.push(J(e.formatMessage({id:"endreTidsPeriodeModal.foreldrepengerFørFødsel"}),u(m).toDate(),u(k).toDate()));break;case o.Fellesperiode:i.push(g=>u(g).isBetween(m,k,"day","[]")?e.formatMessage({id:"endreTidsPeriodeModal.foreldrepengerFørFødsel.fellesperiode"}):null),i.push(g=>u(m).isBetween(g,n,"day","[]")?e.formatMessage({id:"endreTidsPeriodeModal.fellesperiodeOverFPFF"}):null);break}switch(c){case v.Ferie:i.push(F(a?e.formatMessage({id:"endreTidsPeriodeModal.riktigKvoteFørFødsel.fødsel"}):e.formatMessage({id:"endreTidsPeriodeModal.riktigKvoteFørFødsel.termin"}),d(r).denneEllerForrige())),R||i.push(F(a?e.formatMessage({id:"endreTidsPeriodeModal.ferieFørsteSeksUker.fødsel"}):e.formatMessage({id:"endreTidsPeriodeModal.ferieFørsteSeksUker.termin"}),d(E).leggTil(30)));break;case _.PERIODE_UTEN_UTTAK:i.push(F(a?e.formatMessage({id:"endreTidsPeriodeModal.riktigKvoteFørFødsel.fødsel"}):e.formatMessage({id:"endreTidsPeriodeModal.riktigKvoteFørFødsel.termin"}),d(r).denneEllerForrige()));break}return i.push(F(e.formatMessage({id:"endreTidsPeriodeModal.minDato"},{minDate:A(l)}),l)),i.push(L(e.formatMessage({id:"endreTidsPeriodeModal.maksDato"},{maxDate:A(p)}),p)),h&&!R&&(t===o.Mødrekvote||t===o.Fellesperiode&&f===T.mor||t===o.Foreldrepenger&&f===T.mor)&&i.push(g=>u(g).isBetween(r,y,"day","[]")?t===o.Foreldrepenger&&f===T.mor?"Du kan ikke kombinere foreldrepenger med arbeid de første seks ukene":"Mor kan ikke kombinere foreldrepenger med arbeid de første seks ukene":null),i},Te=({intl:e,familiehendelsedato:r,kontoType:t,fomValue:n,erBarnetFødt:a,minDate:l,maxDate:p,årsak:c,gjelderAdopsjon:R,skalDuJobbe:h,forelder:f})=>{const i=[O(e.formatMessage({id:"endreTidsPeriodeModal.tom.påkrevd"})),C(e.formatMessage({id:"endreTidsPeriodeModal.tom.gyldigDato"})),H(e.formatMessage({id:"endreTidsPeriodeModal.tom.måVæreUkedag"}))],E=d(r).denneEllerNeste(),y=d(E).leggTil(30),m=d(E).trekkFra(15),k=d(E).forrige();switch(t){case o.AktivitetsfriKvote:case o.Mødrekvote:case o.Fedrekvote:case o.Foreldrepenger:i.push(F(a?e.formatMessage({id:"endreTidsPeriodeModal.riktigKvoteFørFødsel.fødsel"}):e.formatMessage({id:"endreTidsPeriodeModal.riktigKvoteFørFødsel.termin"}),d(r).denneEllerForrige()));break;case o.ForeldrepengerFørFødsel:i.push(J(e.formatMessage({id:"endreTidsPeriodeModal.foreldrepengerFørFødsel"}),u(m).toDate(),u(k).toDate()));break;case o.Fellesperiode:i.push(g=>u(g).isBetween(m,k,"day","[]")?e.formatMessage({id:"endreTidsPeriodeModal.foreldrepengerFørFødsel.fellesperiode"}):null),i.push(g=>u(m).isBetween(n,g,"day","[]")?e.formatMessage({id:"endreTidsPeriodeModal.fellesperiodeOverFPFF"}):null);break}switch(c){case v.Ferie:i.push(F(a?e.formatMessage({id:"endreTidsPeriodeModal.riktigKvoteFørFødsel.fødsel"}):e.formatMessage({id:"endreTidsPeriodeModal.riktigKvoteFørFødsel.termin"}),d(r).denneEllerForrige())),R||i.push(F(a?e.formatMessage({id:"endreTidsPeriodeModal.ferieFørsteSeksUker.fødsel"}):e.formatMessage({id:"endreTidsPeriodeModal.ferieFørsteSeksUker.termin"}),d(E).leggTil(30)));break;case _.PERIODE_UTEN_UTTAK:i.push(F(a?e.formatMessage({id:"endreTidsPeriodeModal.riktigKvoteFørFødsel.fødsel"}):e.formatMessage({id:"endreTidsPeriodeModal.riktigKvoteFørFødsel.termin"}),d(r).denneEllerForrige()));break}return i.push(F(e.formatMessage({id:"endreTidsPeriodeModal.minDato"},{minDate:A(l)}),l)),i.push(L(e.formatMessage({id:"endreTidsPeriodeModal.maksDato"},{maxDate:A(p)}),p)),h&&!R&&(t===o.Mødrekvote||t===o.Fellesperiode&&f===T.mor||t===o.Foreldrepenger&&f===T.mor)&&i.push(g=>u(g).isBetween(r,y,"day","[]")?t===o.Foreldrepenger&&f===T.mor?"Du kan ikke kombinere foreldrepenger med arbeid de første seks ukene":"Mor kan ikke kombinere foreldrepenger med arbeid de første seks ukene":null),i},De=({formMethods:e,valgtPeriode:r,gjelderAdopsjon:t,erBarnetFødt:n,oppholdsårsak:a})=>{const l=K(),p=B(W(w.FAMILIEHENDELSEDATO)),c=e.watch("fom"),R=e.watch("tom"),h=e.watch("skalDuJobbe"),f=e.watch("forelder"),i=e.watch("kontoType"),y=a??(()=>{if(r!=null&&r.utsettelseÅrsak&&r.utsettelseÅrsak===v.Ferie)return r.utsettelseÅrsak;if(r!=null&&r.periodeHullÅrsak&&r.periodeHullÅrsak===_.PERIODE_UTEN_UTTAK)return r.periodeHullÅrsak})(),m=ke({årsak:y,kontoType:i??(r==null?void 0:r.kontoType),familiehendelsedato:p,gjelderAdopsjon:t}),k=Fe({familiehendelsedato:p,kontoType:i??(r==null?void 0:r.kontoType)});return s.jsxs(s.Fragment,{children:[s.jsx(V,{size:"medium",children:s.jsx(M,{id:"uttaksplan.tidsperiodeSpørsmål.heading"})}),s.jsxs(b,{gap:"4",children:[s.jsx(j,{showMonthAndYearDropdowns:!0,minDate:m,maxDate:k,label:l.formatMessage({id:"TidsperiodeSpørsmål.fom"}),name:"fom",disableWeekends:!0,validate:Me({intl:l,familiehendelsedato:p,kontoType:i??(r==null?void 0:r.kontoType),tomValue:R,erBarnetFødt:n,minDate:m,maxDate:k,årsak:y,gjelderAdopsjon:t,skalDuJobbe:h,forelder:f})}),s.jsx(j,{validate:Te({intl:l,familiehendelsedato:p,kontoType:i??(r==null?void 0:r.kontoType),fomValue:c,erBarnetFødt:n,minDate:m,maxDate:k,årsak:y,gjelderAdopsjon:t,skalDuJobbe:h,forelder:f}),label:l.formatMessage({id:"TidsperiodeSpørsmål.tom"}),name:"tom",disableWeekends:!0,minDate:c,maxDate:k})]})]})};De.__docgenInfo={description:"",methods:[],displayName:"TidsperiodeSpørsmål",props:{formMethods:{required:!0,tsType:{name:"any"},description:""},valgtPeriode:{required:!1,tsType:{name:"Planperiode"},description:""},gjelderAdopsjon:{required:!0,tsType:{name:"boolean"},description:""},erBarnetFødt:{required:!0,tsType:{name:"boolean"},description:""},oppholdsårsak:{required:!1,tsType:{name:"union",raw:"UtsettelseÅrsakType.Ferie | PeriodeHullType.PERIODE_UTEN_UTTAK",elements:[{name:"UtsettelseÅrsakType.Ferie"},{name:"PeriodeHullType.PERIODE_UTEN_UTTAK"}]},description:""}}};export{T as F,me as G,Ee as K,le as M,_ as P,o as S,De as T,G as U,ce as a,w as b,v as c,ye as d,N as e,he as f,Se as g,ie as h,O as i,Ne as j,ve as k,Oe as l,B as n,W as u};
