import{j as l}from"./jsx-runtime-4ca860c5.js";import{r as c,R as o}from"./index-61bf1805.js";import{g as V}from"./guid-c1767a53.js";import{B as A}from"./Back-50038281.js";import{E as B}from"./Expand-48a8ed38.js";import{u as R}from"./useId-4401db27.js";import{c as j}from"./clsx.m-1229b3e0.js";import{L}from"./Label-548f7d15.js";import{B as S}from"./BodyShort-32f32afe.js";import{H as $}from"./Heading-d6752989.js";var q=globalThis&&globalThis.__rest||function(t,n){var a={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.indexOf(e)<0&&(a[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(t);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(a[e[r]]=t[e[r]]);return a};const F=()=>o.createElement("svg",{width:"14",height:"10",viewBox:"0 0 14 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img","aria-hidden":!0,"aria-label":"Fullført"},o.createElement("path",{d:"M4.93563 6.41478L11.3755 0.404669C11.9796 -0.160351 12.9294 -0.130672 13.4959 0.47478C14.0624 1.08027 14.0299 2.03007 13.4249 2.59621L5.92151 9.59934C5.64138 9.85904 5.27598 10 4.90064 10C4.5069 10 4.12756 9.84621 3.83953 9.56111L1.33953 7.06111C0.75401 6.47558 0.75401 5.52542 1.33953 4.93989C1.92506 4.35437 2.87522 4.35437 3.46075 4.93989L4.93563 6.41478Z",fill:"currentColor"})),T=c.forwardRef((t,n)=>{var{className:a,children:e,as:r="a",unsafe_index:i=0,completed:g=!1,interactive:d}=t,p=q(t,["className","children","as","unsafe_index","completed","interactive"]);const s=c.useContext(w);if(s===null)return console.error("<Stepper.Step> has to be used within <Stepper>"),null;const{activeStep:u}=s,m=d??(s==null?void 0:s.interactive),v=m?r:"div";return o.createElement(v,Object.assign({},p,{"aria-current":u===i,ref:n,className:j("navds-stepper__step",a,{"navds-stepper__step--active":u===i,"navds-stepper__step--behind":u>i,"navds-stepper__step--non-interactive":!m,"navds-stepper__step--completed":g}),onClick:f=>{var _;m&&s.onStepChange(i+1),(_=p==null?void 0:p.onClick)===null||_===void 0||_.call(p,f)}}),g?o.createElement("span",{className:"navds-stepper__circle navds-stepper__circle--success"},o.createElement(F,null)):o.createElement(L,{className:"navds-stepper__circle",as:"span","aria-hidden":"true"},i+1),o.createElement(L,{as:"span",className:"navds-stepper__content"},e))}),H=T;var z=globalThis&&globalThis.__rest||function(t,n){var a={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.indexOf(e)<0&&(a[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(t);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(a[e[r]]=t[e[r]]);return a};const w=c.createContext(null),E=c.forwardRef((t,n)=>{var{children:a,className:e,activeStep:r,orientation:i="vertical",onStepChange:g=()=>{},interactive:d=!0}=t,p=z(t,["children","className","activeStep","orientation","onStepChange","interactive"]);return r=r-1,o.createElement("ol",Object.assign({},p,{ref:n,className:j("navds-stepper",i==="horizontal"?"navds-stepper--horizontal":"",e)}),o.createElement(w.Provider,{value:{activeStep:r,onStepChange:g,lastIndex:o.Children.count(a),orientation:i,interactive:d}},o.Children.map(a,(s,u)=>{var m,v,f,_,h;return o.createElement("li",{className:j("navds-stepper__item",{"navds-stepper__item--behind":r>u,"navds-stepper__item--completed":o.isValidElement(s)&&((m=s==null?void 0:s.props)===null||m===void 0?void 0:m.completed),"navds-stepper__item--non-interactive":o.isValidElement(s)&&!((f=(v=s==null?void 0:s.props)===null||v===void 0?void 0:v.interactive)!==null&&f!==void 0?f:d)}),key:u+((h=(_=a==null?void 0:a.toString)===null||_===void 0?void 0:_.call(a))!==null&&h!==void 0?h:"")},o.createElement("span",{className:"navds-stepper__line navds-stepper__line--1"}),o.isValidElement(s)?o.cloneElement(s,Object.assign(Object.assign({},s.props),{unsafe_index:u})):s,o.createElement("span",{className:"navds-stepper__line navds-stepper__line--2"}))})))});E.Step=H;const C=E;var G=globalThis&&globalThis.__rest||function(t,n){var a={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.indexOf(e)<0&&(a[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(t);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(a[e[r]]=t[e[r]]);return a};const M=c.forwardRef((t,n)=>{var{title:a,titleId:e}=t,r=G(t,["title","titleId"]);let i=R();return i=a?e||"title-"+i:void 0,c.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:n,"aria-labelledby":i},r),a?c.createElement("title",{id:i},a):null,c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m12 6.586 7.707 7.707-1.414 1.414L12 9.414l-6.293 6.293-1.414-1.414L12 6.586Z",fill:"currentColor"}))}),Z=M;const D={showAllStepsLabel:"Vis alle steg",goToPreviousStepLabel:"Gå til forrige steg",allStepsSectionAriaLabel:"Alle steg",navigasjonAriaLabel:"Navigasjon i søknaden",stepProgressLabelFunc:(t,n)=>`Steg ${t} av ${n}`},x=({steps:t,currentStepIndex:n,allStepsHeader:a,allStepsFooter:e,labels:r=D,titleHeadingLevel:i="1",includeBackLink:g=!1,setFocusOnHeadingOnMount:d=!0,onStepSelect:p})=>{const[s,u]=c.useState(!1),m=t[n],v=n+1,f=t.length,_=100/f*v,h=V(),P=b=>{p&&p(t[b-1])},I=()=>{p&&p(t[n-1])},N=l.jsx(S,{as:"div",children:r.stepProgressLabelFunc(v,f)}),O=p!==void 0&&g===!0,k=O?l.jsx("div",{className:"progressStepper__heading__stepInfo",children:N}):void 0,y=c.useRef(null);return c.useEffect(()=>{d&&y.current&&y.current.focus()},[d]),l.jsxs("div",{className:"progressStepper",children:[l.jsx("div",{className:"progressStepper__heading",children:l.jsxs($,{tabIndex:-1,size:"medium",level:i,className:"progressStepper__heading__title",ref:y,children:[k,m.label]})}),l.jsx("div",{className:"progressStepper__progressBarWrapper",role:"presentation","aria-hidden":!0,children:l.jsx("div",{className:"progressStepper__progressBar",children:l.jsx("div",{className:"progressStepper__progressBar__progress",style:{width:`${_}%`}})})}),l.jsxs("nav",{"aria-label":r.navigasjonAriaLabel,children:[l.jsxs("div",{className:"progressStepper__stepsInfo",children:[O?l.jsx(S,{children:n>0&&l.jsxs("button",{type:"button",onClick:I,className:"navds-read-more__button navds-body-short progressStepper__backLink",children:[l.jsx(A,{className:"progressStepper__backLink__icon","aria-hidden":!0}),r.goToPreviousStepLabel]})}):l.jsx(l.Fragment,{children:N}),l.jsxs("button",{type:"button",className:"navds-read-more__button navds-body-short","aria-controls":h,"aria-expanded":s,onClick:()=>{u(!s)},children:[s===!1&&l.jsx(B,{className:"progressStepper__toggleAllStepsIcon","aria-hidden":!0}),s&&l.jsx(Z,{className:"progressStepper__toggleAllStepsIcon","aria-hidden":!0})]})]}),l.jsx("div",{id:h,"aria-hidden":s===!1,"aria-live":"polite",children:s&&l.jsxs("section",{className:"progressStepper__allSteps","aria-label":r.allStepsSectionAriaLabel,children:[a&&l.jsx(S,{as:"div",className:"progressStepper__allSteps__header",children:a}),l.jsx(C,{activeStep:v,onStepChange:p?P:void 0,children:t.map(b=>l.jsx(C.Step,{completed:b.completed,interactive:p!==void 0&&b.completed===!0,children:b.label},b.id))}),e&&l.jsx(S,{as:"div",className:"progressStepper__allSteps__footer",children:e})]})})]})]})},ae=x;try{x.displayName="ProgressStepper",x.__docgenInfo={description:"",displayName:"ProgressStepper",props:{steps:{defaultValue:null,description:"",name:"steps",required:!0,type:{name:"ProgressStep[]"}},currentStepIndex:{defaultValue:null,description:"",name:"currentStepIndex",required:!0,type:{name:"number"}},labels:{defaultValue:{value:`{
    showAllStepsLabel: 'Vis alle steg',
    goToPreviousStepLabel: 'Gå til forrige steg',
    allStepsSectionAriaLabel: 'Alle steg',
    navigasjonAriaLabel: 'Navigasjon i søknaden',
    stepProgressLabelFunc: (currentStep, totalSteps) => \`Steg \${currentStep} av \${totalSteps}\`,
}`},description:"",name:"labels",required:!1,type:{name:"Labels"}},titleHeadingLevel:{defaultValue:{value:"1"},description:"",name:"titleHeadingLevel",required:!1,type:{name:"enum",value:[{value:'"1"'},{value:'"2"'}]}},allStepsHeader:{defaultValue:null,description:"",name:"allStepsHeader",required:!1,type:{name:"ReactNode"}},allStepsFooter:{defaultValue:null,description:"",name:"allStepsFooter",required:!1,type:{name:"ReactNode"}},includeBackLink:{defaultValue:{value:"false"},description:"",name:"includeBackLink",required:!1,type:{name:"boolean"}},setFocusOnHeadingOnMount:{defaultValue:{value:"true"},description:"",name:"setFocusOnHeadingOnMount",required:!1,type:{name:"boolean"}},onStepSelect:{defaultValue:null,description:"",name:"onStepSelect",required:!1,type:{name:"((step: ProgressStep) => void)"}}}}}catch{}export{ae as P};
//# sourceMappingURL=ProgressStepper-2b020caa.js.map
