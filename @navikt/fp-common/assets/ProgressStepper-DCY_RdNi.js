import{j as s}from"./jsx-runtime-_e34SzbC.js";import{r as u,R as o}from"./index-DVXBtNgz.js";import{g as I}from"./guid-CsArkN6i.js";import{L as O,B as b,H as R}from"./Label-CZT6yrnL.js";import{S as A}from"./Back-IiENdH20.js";import{S as T}from"./Expand-Db2uFZzY.js";import{u as V}from"./useId-B9DgiJ2s.js";import{c as y}from"./clsx-B-dksMZM.js";import{c as B}from"./composeEventHandlers-DeH74NdU.js";const C=u.createContext(null);var q=function(t,l){var a={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&l.indexOf(e)<0&&(a[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(t);r<e.length;r++)l.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(a[e[r]]=t[e[r]]);return a};const $=()=>o.createElement("svg",{width:"14",height:"10",viewBox:"0 0 14 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img","aria-hidden":!0,"aria-label":"Fullført"},o.createElement("path",{d:"M4.93563 6.41478L11.3755 0.404669C11.9796 -0.160351 12.9294 -0.130672 13.4959 0.47478C14.0624 1.08027 14.0299 2.03007 13.4249 2.59621L5.92151 9.59934C5.64138 9.85904 5.27598 10 4.90064 10C4.5069 10 4.12756 9.84621 3.83953 9.56111L1.33953 7.06111C0.75401 6.47558 0.75401 5.52542 1.33953 4.93989C1.92506 4.35437 2.87522 4.35437 3.46075 4.93989L4.93563 6.41478Z",fill:"currentColor"})),F=u.forwardRef((t,l)=>{var{className:a,children:e,as:r="a",unsafe_index:i=0,completed:_=!1,interactive:m,onClick:c}=t,n=q(t,["className","children","as","unsafe_index","completed","interactive","onClick"]);const p=u.useContext(C);if(p===null)return console.error("<Stepper.Step> has to be used within <Stepper>"),null;const{activeStep:v}=p,d=m??(p==null?void 0:p.interactive),f=d?r:"div",g=()=>{d&&p.onStepChange(i+1)};return o.createElement(f,Object.assign({},n,{"aria-current":v===i,ref:l,className:y("navds-stepper__step",a,{"navds-stepper__step--active":v===i,"navds-stepper__step--behind":v>i,"navds-stepper__step--non-interactive":!d,"navds-stepper__step--completed":_}),onClick:B(c,g)}),_?o.createElement("span",{className:"navds-stepper__circle navds-stepper__circle--success"},o.createElement($,null)):o.createElement(O,{className:"navds-stepper__circle",as:"span","aria-hidden":"true"},i+1),o.createElement(O,{as:"span",className:"navds-stepper__content"},e))});var H=function(t,l){var a={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&l.indexOf(e)<0&&(a[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(t);r<e.length;r++)l.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(a[e[r]]=t[e[r]]);return a};const x=u.forwardRef((t,l)=>{var{children:a,className:e,activeStep:r,orientation:i="vertical",onStepChange:_=()=>{},interactive:m=!0}=t,c=H(t,["children","className","activeStep","orientation","onStepChange","interactive"]);return r=r-1,o.createElement("ol",Object.assign({},c,{ref:l,className:y("navds-stepper",i==="horizontal"?"navds-stepper--horizontal":"",e)}),o.createElement(C.Provider,{value:{activeStep:r,onStepChange:_,lastIndex:o.Children.count(a),orientation:i,interactive:m}},o.Children.map(a,(n,p)=>{var v,d,f,g,h;return o.createElement("li",{className:y("navds-stepper__item",{"navds-stepper__item--behind":r>p,"navds-stepper__item--completed":o.isValidElement(n)&&((v=n==null?void 0:n.props)===null||v===void 0?void 0:v.completed),"navds-stepper__item--non-interactive":o.isValidElement(n)&&!((f=(d=n==null?void 0:n.props)===null||d===void 0?void 0:d.interactive)!==null&&f!==void 0?f:m)}),key:p+((h=(g=a==null?void 0:a.toString)===null||g===void 0?void 0:g.call(a))!==null&&h!==void 0?h:"")},o.createElement("span",{className:"navds-stepper__line navds-stepper__line--1"}),o.isValidElement(n)?o.cloneElement(n,Object.assign(Object.assign({},n.props),{unsafe_index:p})):n,o.createElement("span",{className:"navds-stepper__line navds-stepper__line--2"}))})))});x.Step=F;var z=function(t,l){var a={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&l.indexOf(e)<0&&(a[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(t);r<e.length;r++)l.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(a[e[r]]=t[e[r]]);return a};const G=u.forwardRef((t,l)=>{var{title:a,titleId:e}=t,r=z(t,["title","titleId"]);let i=V();return i=a?e||"title-"+i:void 0,u.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:l,"aria-labelledby":i},r),a?u.createElement("title",{id:i},a):null,u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m12 6.586 7.707 7.707-1.414 1.414L12 9.414l-6.293 6.293-1.414-1.414L12 6.586Z",fill:"currentColor"}))}),Z={showAllStepsLabel:"Vis alle steg",goToPreviousStepLabel:"Gå til forrige steg",allStepsSectionAriaLabel:"Alle steg",navigasjonAriaLabel:"Navigasjon i søknaden",stepProgressLabelFunc:(t,l)=>`Steg ${t} av ${l}`},L=({steps:t,currentStepIndex:l,allStepsHeader:a,allStepsFooter:e,labels:r=Z,titleHeadingLevel:i="1",includeBackLink:_=!1,setFocusOnHeadingOnMount:m=!0,onStepSelect:c})=>{const[n,p]=u.useState(!1),v=t[l],d=l+1,f=t.length,g=100/f*d,h=I(),E=S=>{c&&c(t[S-1])},P=()=>{c&&c(t[l-1])},N=s.jsx(b,{as:"div",children:r.stepProgressLabelFunc(d,f)}),w=c!==void 0&&_===!0,k=w?s.jsx("div",{className:"progressStepper__heading__stepInfo",children:N}):void 0,j=u.useRef(null);return u.useEffect(()=>{m&&j.current&&j.current.focus()},[m]),s.jsxs("div",{className:"progressStepper",children:[s.jsx("div",{className:"progressStepper__heading",children:s.jsxs(R,{tabIndex:-1,size:"medium",level:i,className:"progressStepper__heading__title",ref:j,children:[k,v.label]})}),s.jsx("div",{className:"progressStepper__progressBarWrapper",role:"presentation","aria-hidden":!0,children:s.jsx("div",{className:"progressStepper__progressBar",children:s.jsx("div",{className:"progressStepper__progressBar__progress",style:{width:`${g}%`}})})}),s.jsxs("nav",{"aria-label":r.navigasjonAriaLabel,children:[s.jsxs("div",{className:"progressStepper__stepsInfo",children:[w?s.jsx(b,{children:l>0&&s.jsxs("button",{type:"button",onClick:P,className:"navds-read-more__button navds-body-short progressStepper__backLink",children:[s.jsx(A,{className:"progressStepper__backLink__icon","aria-hidden":!0}),r.goToPreviousStepLabel]})}):s.jsx(s.Fragment,{children:N}),s.jsxs("button",{type:"button",className:"navds-read-more__button navds-body-short","aria-controls":h,"aria-expanded":n,"aria-label":n?"Skjul stegene":"Se alle steg",onClick:()=>{p(!n)},children:[n===!1&&s.jsx(T,{className:"progressStepper__toggleAllStepsIcon","aria-hidden":!0}),n&&s.jsx(G,{className:"progressStepper__toggleAllStepsIcon","aria-hidden":!0})]})]}),s.jsx("div",{id:h,"aria-hidden":n===!1,"aria-live":"polite",children:n&&s.jsxs("section",{className:"progressStepper__allSteps","aria-label":r.allStepsSectionAriaLabel,children:[a&&s.jsx(b,{as:"div",className:"progressStepper__allSteps__header",children:a}),s.jsx(x,{activeStep:d,onStepChange:c?E:void 0,children:t.map(S=>s.jsx(x.Step,{completed:S.completed,interactive:c!==void 0&&S.completed===!0,children:S.label},S.id))}),e&&s.jsx(b,{as:"div",className:"progressStepper__allSteps__footer",children:e})]})})]})]})},ee=L;L.__docgenInfo={description:"",methods:[],displayName:"ProgressStepper",props:{steps:{required:!0,tsType:{name:"Array",elements:[{name:"ProgressStep"}],raw:"ProgressStep[]"},description:""},currentStepIndex:{required:!0,tsType:{name:"number"},description:""},labels:{required:!1,tsType:{name:"Labels"},description:"",defaultValue:{value:`{
    showAllStepsLabel: 'Vis alle steg',
    goToPreviousStepLabel: 'Gå til forrige steg',
    allStepsSectionAriaLabel: 'Alle steg',
    navigasjonAriaLabel: 'Navigasjon i søknaden',
    stepProgressLabelFunc: (currentStep, totalSteps) => \`Steg \${currentStep} av \${totalSteps}\`,
}`,computed:!1}},titleHeadingLevel:{required:!1,tsType:{name:"union",raw:"'1' | '2'",elements:[{name:"literal",value:"'1'"},{name:"literal",value:"'2'"}]},description:"",defaultValue:{value:"'1'",computed:!1}},allStepsHeader:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},allStepsFooter:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},includeBackLink:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},setFocusOnHeadingOnMount:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},onStepSelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(step: ProgressStep) => void",signature:{arguments:[{type:{name:"ProgressStep"},name:"step"}],return:{name:"void"}}},description:""}}};export{ee as P};
