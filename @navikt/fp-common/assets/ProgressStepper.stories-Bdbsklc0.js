import{j as a}from"./jsx-runtime-Cw0GR0a5.js";import{r as u,R as o}from"./index-CTjT7uj6.js";import{g as B}from"./guid-CsArkN6i.js";import{L as O,B as b,H as q}from"./Label-UU7-twIW.js";import{S as V}from"./Back-CBmEjlTt.js";import{S as $}from"./Expand-DBYf7wR3.js";import{u as H}from"./useId-BFxX0aRd.js";import{c as y}from"./clsx-B-dksMZM.js";import{c as F}from"./composeEventHandlers-DeH74NdU.js";import{c as z}from"./create-context-DOtOKOIE.js";const[D,G]=z({hookName:"useStepperContext",providerName:"StepperContextProvider",name:"StepperContext",errorMessage:"<Stepper.Step> has to be used within <Stepper>"});var M=function(e,l){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)l.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(s[t[r]]=e[t[r]]);return s};const Z=u.forwardRef((e,l)=>{var{className:s,children:t,as:r="a",completed:i=!1,interactive:g,onClick:f}=e,p=M(e,["className","children","as","completed","interactive","onClick"]);const n=G(),{activeStep:c}=n,d=g??(n==null?void 0:n.interactive),m=d?r:"div",v=()=>{d&&n.onStepChange(n.index+1)};return o.createElement(m,Object.assign({},p,{"aria-current":c===n.index?"step":void 0,ref:l,className:y("navds-stepper__step",s,{"navds-stepper__step--active":c===n.index,"navds-stepper__step--behind":c>n.index,"navds-stepper__step--non-interactive":!d,"navds-stepper__step--completed":i}),onClick:F(f,v)}),i?o.createElement("span",{className:"navds-stepper__circle navds-stepper__circle--success"},o.createElement("svg",{width:"14",height:"10",viewBox:"0 0 14 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"presentation","aria-hidden":!0},o.createElement("path",{d:"M4.93563 6.41478L11.3755 0.404669C11.9796 -0.160351 12.9294 -0.130672 13.4959 0.47478C14.0624 1.08027 14.0299 2.03007 13.4249 2.59621L5.92151 9.59934C5.64138 9.85904 5.27598 10 4.90064 10C4.5069 10 4.12756 9.84621 3.83953 9.56111L1.33953 7.06111C0.75401 6.47558 0.75401 5.52542 1.33953 4.93989C1.92506 4.35437 2.87522 4.35437 3.46075 4.93989L4.93563 6.41478Z",fill:"currentColor"}))):o.createElement(O,{className:"navds-stepper__circle",as:"span","aria-hidden":"true"},n.index+1),o.createElement(O,{as:"span",className:"navds-stepper__content"},t))});var W=function(e,l){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)l.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(s[t[r]]=e[t[r]]);return s};const j=u.forwardRef((e,l)=>{var{children:s,className:t,activeStep:r,orientation:i="vertical",onStepChange:g=()=>{},interactive:f=!0}=e,p=W(e,["children","className","activeStep","orientation","onStepChange","interactive"]);return r=r-1,o.createElement("ol",Object.assign({},p,{ref:l,className:y("navds-stepper",i==="horizontal"?"navds-stepper--horizontal":"",t)}),o.Children.map(s,(n,c)=>{var d,m,v;const h=o.isValidElement(n)?n.props:{};return o.createElement("li",{className:y("navds-stepper__item",{"navds-stepper__item--behind":r>c,"navds-stepper__item--completed":h.completed,"navds-stepper__item--non-interactive":(d=h.interactive)!==null&&d!==void 0?d:f}),key:c+((v=(m=s==null?void 0:s.toString)===null||m===void 0?void 0:m.call(s))!==null&&v!==void 0?v:"")},o.createElement("span",{className:"navds-stepper__line navds-stepper__line--1"}),o.createElement(D,{interactive:f,activeStep:r,lastIndex:o.Children.count(s),index:c,onStepChange:g,orientation:i},n),o.createElement("span",{className:"navds-stepper__line navds-stepper__line--2"}))}))});j.Step=Z;var J=function(e,l){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)l.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(s[t[r]]=e[t[r]]);return s};const K=u.forwardRef((e,l)=>{var{title:s,titleId:t}=e,r=J(e,["title","titleId"]);let i=H();return i=s?t||"title-"+i:void 0,u.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:l,"aria-labelledby":i},r),s?u.createElement("title",{id:i},s):null,u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m12 6.586 7.707 7.707-1.414 1.414L12 9.414l-6.293 6.293-1.414-1.414L12 6.586Z",fill:"currentColor"}))}),Q={showAllStepsLabel:"Vis alle steg",goToPreviousStepLabel:"Gå til forrige steg",allStepsSectionAriaLabel:"Alle steg",navigasjonAriaLabel:"Navigasjon i søknaden",stepProgressLabelFunc:(e,l)=>`Steg ${e} av ${l}`},k=({steps:e,currentStepIndex:l,allStepsHeader:s,allStepsFooter:t,labels:r=Q,titleHeadingLevel:i="1",includeBackLink:g=!1,setFocusOnHeadingOnMount:f=!0,onStepSelect:p})=>{const[n,c]=u.useState(!1),d=e[l],m=l+1,v=e.length,h=100/v*m,N=B(),R=_=>{p&&p(e[_-1])},A=()=>{p&&p(e[l-1])},w=a.jsx(b,{as:"div",children:r.stepProgressLabelFunc(m,v)}),C=p!==void 0&&g===!0,T=C?a.jsx("div",{className:"progressStepper__heading__stepInfo",children:w}):void 0,x=u.useRef(null);return u.useEffect(()=>{f&&x.current&&x.current.focus()},[f]),a.jsxs("div",{className:"progressStepper",children:[a.jsx("div",{className:"progressStepper__heading",children:a.jsxs(q,{tabIndex:-1,size:"medium",level:i,className:"progressStepper__heading__title",ref:x,children:[T,d.label]})}),a.jsx("div",{className:"progressStepper__progressBarWrapper",role:"presentation","aria-hidden":!0,children:a.jsx("div",{className:"progressStepper__progressBar",children:a.jsx("div",{className:"progressStepper__progressBar__progress",style:{width:`${h}%`}})})}),a.jsxs("nav",{"aria-label":r.navigasjonAriaLabel,children:[a.jsxs("div",{className:"progressStepper__stepsInfo",children:[C?a.jsx(b,{children:l>0&&a.jsxs("button",{type:"button",onClick:A,className:"navds-read-more__button navds-body-short progressStepper__backLink",children:[a.jsx(V,{className:"progressStepper__backLink__icon","aria-hidden":!0}),r.goToPreviousStepLabel]})}):a.jsx(a.Fragment,{children:w}),a.jsxs("button",{type:"button",className:"navds-read-more__button navds-body-short","aria-controls":N,"aria-expanded":n,"aria-label":n?"Skjul stegene":"Se alle steg",onClick:()=>{c(!n)},children:[n===!1&&a.jsx($,{className:"progressStepper__toggleAllStepsIcon","aria-hidden":!0}),n&&a.jsx(K,{className:"progressStepper__toggleAllStepsIcon","aria-hidden":!0})]})]}),a.jsx("div",{id:N,"aria-hidden":n===!1,"aria-live":"polite",children:n&&a.jsxs("section",{className:"progressStepper__allSteps","aria-label":r.allStepsSectionAriaLabel,children:[s&&a.jsx(b,{as:"div",className:"progressStepper__allSteps__header",children:s}),a.jsx(j,{activeStep:m,onStepChange:p?R:void 0,children:e.map(_=>a.jsx(j.Step,{completed:_.completed,interactive:p!==void 0&&_.completed===!0,children:_.label},_.id))}),t&&a.jsx(b,{as:"div",className:"progressStepper__allSteps__footer",children:t})]})})]})]})},I=k;k.__docgenInfo={description:"",methods:[],displayName:"ProgressStepper",props:{steps:{required:!0,tsType:{name:"Array",elements:[{name:"ProgressStep"}],raw:"ProgressStep[]"},description:""},currentStepIndex:{required:!0,tsType:{name:"number"},description:""},labels:{required:!1,tsType:{name:"Labels"},description:"",defaultValue:{value:`{
    showAllStepsLabel: 'Vis alle steg',
    goToPreviousStepLabel: 'Gå til forrige steg',
    allStepsSectionAriaLabel: 'Alle steg',
    navigasjonAriaLabel: 'Navigasjon i søknaden',
    stepProgressLabelFunc: (currentStep, totalSteps) => \`Steg \${currentStep} av \${totalSteps}\`,
}`,computed:!1}},titleHeadingLevel:{required:!1,tsType:{name:"union",raw:"'1' | '2'",elements:[{name:"literal",value:"'1'"},{name:"literal",value:"'2'"}]},description:"",defaultValue:{value:"'1'",computed:!1}},allStepsHeader:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},allStepsFooter:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},includeBackLink:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},setFocusOnHeadingOnMount:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},onStepSelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(step: ProgressStep) => void",signature:{arguments:[{type:{name:"ProgressStep"},name:"step"}],return:{name:"void"}}},description:""}}};const ie={title:"components/ProgressStepper",component:I},U=e=>a.jsx(I,{...e}),S=U.bind({});S.args={steps:[{id:"0",index:0,label:"Steg 1"},{id:"1",index:1,label:"Steg 2"},{id:"2",index:2,label:"Steg 3"},{id:"3",index:3,label:"Steg 4"},{id:"4",index:4,label:"Steg 5"}],currentStepIndex:0};var L,P,E;S.parameters={...S.parameters,docs:{...(L=S.parameters)==null?void 0:L.docs,source:{originalSource:"args => <ProgressStepper {...args} />",...(E=(P=S.parameters)==null?void 0:P.docs)==null?void 0:E.source}}};const pe=["Default"];export{S as Default,pe as __namedExportsOrder,ie as default};
