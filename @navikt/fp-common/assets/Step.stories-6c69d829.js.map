{"version":3,"file":"Step.stories-6c69d829.js","sources":["../../src/common/utils/useDocumentTitle.ts","../../src/common/components/step/Page.tsx","../../src/common/components/step-banner/StepBanner.tsx","../../src/common/components/avslutt-modal/AvsluttModal.tsx","../../src/common/components/step-footer/StepFooter.tsx","../../src/common/components/step/Step.tsx"],"sourcesContent":["import { useEffect } from 'react';\n\nfunction useDocumentTitle(title: string) {\n    useEffect(() => {\n        const originalTitle = document.title;\n        document.title = title;\n        return () => {\n            document.title = originalTitle;\n        };\n    }, [title]);\n}\n\nexport default useDocumentTitle;\n","import useDocumentTitle from '../../utils/useDocumentTitle';\nimport React, { useEffect } from 'react';\nimport { useIntl } from 'react-intl';\nimport intlHelper from '../../utils/intlUtils';\n\nimport './page.less';\n\nexport interface PageProps {\n    className?: string;\n    title: string;\n    id?: string;\n    ariaLabel?: string;\n    topContentRenderer?: () => React.ReactElement<any>;\n    children: React.ReactNode;\n}\n\nconst Page: React.FunctionComponent<PageProps> = ({\n    ariaLabel,\n    id = 'pageMainContent',\n    title,\n    className,\n    topContentRenderer,\n    children,\n}) => {\n    useEffect(() => {\n        window.scrollTo(0, 0);\n    }, []);\n    useDocumentTitle(title);\n\n    const intl = useIntl();\n\n    const ariaLabelToUse = ariaLabel ? intlHelper(intl, 'page.defaultMainRoleLabel') : undefined;\n\n    return (\n        <div role=\"main\" aria-label={ariaLabelToUse} id={id}>\n            {topContentRenderer && topContentRenderer()}\n            <div className={`page ${className}`}>{children}</div>\n        </div>\n    );\n};\n\nexport default Page;\n","import { Heading } from '@navikt/ds-react';\nimport React from 'react';\nimport Banner from '../banner/Banner';\n\ninterface StepBannerProps {\n    text: string;\n    level?: '1' | '2' | '3';\n}\n\nconst StepBanner: React.FunctionComponent<StepBannerProps> = ({ text, level = '2' }) => (\n    <Banner size=\"small\">\n        <Heading size=\"large\" level={level}>\n            {text}\n        </Heading>\n    </Banner>\n);\n\nexport default StepBanner;\n","import { BodyLong, Button, Heading, Modal } from '@navikt/ds-react';\nimport bemUtils from '../../utils/bemUtils';\nimport { FunctionComponent } from 'react';\n\nimport './avslutt-modal.css';\n\ninterface Props {\n    isOpen: boolean;\n    setIsOpen: (isOpen: boolean) => void;\n    onAvbrytOgFortsettSenere?: () => void;\n    onAvbrytOgSlett?: () => void;\n}\n\nconst AvsluttModal: FunctionComponent<Props> = ({ isOpen, setIsOpen, onAvbrytOgSlett, onAvbrytOgFortsettSenere }) => {\n    const bem = bemUtils('avslutt-modal');\n\n    return (\n        <Modal open={isOpen} onClose={() => setIsOpen(false)} closeButton={true}>\n            <Modal.Content className={bem.element('content')}>\n                <Heading size=\"medium\">Fortsett senere</Heading>\n                <BodyLong>\n                    Søknaden er lagret, og du kan fullføre den senere, eller velge å slette den. Søknaden blir lagret i\n                    24 timer.\n                </BodyLong>\n                <div className={bem.element('button-wrapper')}>\n                    <Button variant=\"tertiary\" onClick={onAvbrytOgSlett}>\n                        Slett søknaden\n                    </Button>\n                    <Button variant=\"primary\" onClick={onAvbrytOgFortsettSenere}>\n                        OK\n                    </Button>\n                </div>\n            </Modal.Content>\n        </Modal>\n    );\n};\n\nexport default AvsluttModal;\n","import { useState } from 'react';\nimport bemUtils from '../../utils/bemUtils';\nimport AvsluttModal from '../avslutt-modal/AvsluttModal';\n\nimport './stepFooter.less';\nimport { Button } from '@navikt/ds-react';\n\ninterface Props {\n    onAvbrytOgFortsettSenere?: () => void;\n    onAvbrytOgSlett?: () => void;\n}\n\nfunction StepFooter({ onAvbrytOgFortsettSenere, onAvbrytOgSlett }: Props) {\n    const [avsluttIsOpen, setAvsluttIsOpen] = useState(false);\n\n    const bem = bemUtils('stepFooter');\n    return (\n        <>\n            <div className={bem.block}>\n                <div className={bem.element('divider')} />\n                <div className={bem.element('links')}>\n                    <AvsluttModal\n                        isOpen={avsluttIsOpen}\n                        setIsOpen={setAvsluttIsOpen}\n                        onAvbrytOgFortsettSenere={onAvbrytOgFortsettSenere}\n                        onAvbrytOgSlett={onAvbrytOgSlett}\n                    />\n                    <Button variant=\"tertiary\" onClick={() => setAvsluttIsOpen(true)}>\n                        Avslutt\n                    </Button>\n                </div>\n            </div>\n        </>\n    );\n}\n\nexport default StepFooter;\n","import React from 'react';\nimport bemUtils from './../../utils/bemUtils';\nimport Page from './Page';\nimport { StepIndicatorStep } from '../step-indicator/StepIndicator';\nimport StepBanner from '../step-banner/StepBanner';\nimport Block from '../block/Block';\nimport StepFooter from '../step-footer/StepFooter';\nimport ProgressStepper from '../progress-stepper/ProgressStepper';\n\nimport './step.less';\n\nexport interface StepProps {\n    pageTitle: string;\n    bannerTitle?: string;\n    steps: StepIndicatorStep[];\n    activeStepId: string;\n    children: React.ReactNode;\n    showStepIndicator?: boolean;\n    topContentRenderer?: () => React.ReactElement<any>;\n    onCancel?: () => void;\n    onContinueLater?: () => void;\n    cancelOrContinueLaterAriaLabel?: string;\n    pageAriaLabel?: string;\n    infoMessage?: React.ReactNode;\n}\n\nconst Step: React.FunctionComponent<StepProps> = ({\n    bannerTitle,\n    pageTitle,\n    steps,\n    activeStepId,\n    onCancel,\n    onContinueLater,\n    cancelOrContinueLaterAriaLabel,\n    showStepIndicator = true,\n    children,\n    pageAriaLabel,\n    infoMessage,\n}) => {\n    const currentStepIndex = steps.findIndex((s) => s.id === activeStepId);\n    const bem = bemUtils('step');\n    return (\n        <Page\n            className={bem.block}\n            title={pageTitle}\n            ariaLabel={pageAriaLabel}\n            topContentRenderer={() => (\n                <>\n                    {bannerTitle && (\n                        <>\n                            <StepBanner text={bannerTitle} />\n                        </>\n                    )}\n                </>\n            )}\n        >\n            {infoMessage !== undefined && <div className={bem.element('infoMessage')}>{infoMessage}</div>}\n            {showStepIndicator && (\n                <Block padBottom=\"xl\">\n                    <div role=\"presentation\" aria-hidden={true}>\n                        <ProgressStepper\n                            steps={steps}\n                            currentStepIndex={currentStepIndex}\n                            titleHeadingLevel=\"2\"\n                        ></ProgressStepper>\n                    </div>\n                </Block>\n            )}\n            <section aria-label={`Steg ${currentStepIndex + 1} av ${steps.length}:  ${pageTitle}`}>\n                <Block>{children}</Block>\n\n                {(onCancel || onContinueLater) && (\n                    <div\n                        role={cancelOrContinueLaterAriaLabel ? 'complementary' : undefined}\n                        aria-label={cancelOrContinueLaterAriaLabel}\n                    >\n                        <StepFooter onAvbrytOgSlett={onCancel} onAvbrytOgFortsettSenere={onContinueLater} />\n                    </div>\n                )}\n            </section>\n        </Page>\n    );\n};\n\nexport default Step;\n"],"names":["useDocumentTitle","title","useEffect","originalTitle","Page","ariaLabel","id","className","topContentRenderer","children","intl","useIntl","ariaLabelToUse","intlHelper","jsxs","jsx","StepBanner","text","level","Banner","Heading","AvsluttModal","isOpen","setIsOpen","onAvbrytOgSlett","onAvbrytOgFortsettSenere","bem","bemUtils","Modal","BodyLong","Button","StepFooter","avsluttIsOpen","setAvsluttIsOpen","useState","Fragment","Step","bannerTitle","pageTitle","steps","activeStepId","onCancel","onContinueLater","cancelOrContinueLaterAriaLabel","showStepIndicator","pageAriaLabel","infoMessage","currentStepIndex","s","Block","ProgressStepper","Step$1"],"mappings":"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"}