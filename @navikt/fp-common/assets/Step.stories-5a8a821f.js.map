{"version":3,"file":"Step.stories-5a8a821f.js","sources":["../../src/common/utils/useDocumentTitle.ts","../../src/common/components/step/Page.tsx","../../src/common/components/step-banner/StepBanner.tsx","../../src/common/components/avslutt-modal/AvsluttModal.tsx","../../src/common/components/step-footer/StepFooter.tsx","../../src/common/components/step/Step.tsx"],"sourcesContent":["import { useEffect } from 'react';\n\nfunction useDocumentTitle(title: string) {\n    useEffect(() => {\n        const originalTitle = document.title;\n        document.title = title;\n        return () => {\n            document.title = originalTitle;\n        };\n    }, [title]);\n}\n\nexport default useDocumentTitle;\n","import useDocumentTitle from '../../utils/useDocumentTitle';\nimport React, { useEffect } from 'react';\nimport { useIntl } from 'react-intl';\nimport intlHelper from '../../utils/intlUtils';\n\nimport './page.less';\n\nexport interface PageProps {\n    className?: string;\n    title: string;\n    id?: string;\n    ariaLabel?: string;\n    topContentRenderer?: () => React.ReactElement<any>;\n    children: React.ReactNode;\n}\n\nconst Page: React.FunctionComponent<PageProps> = ({\n    ariaLabel,\n    id = 'pageMainContent',\n    title,\n    className,\n    topContentRenderer,\n    children,\n}) => {\n    useEffect(() => {\n        window.scrollTo(0, 0);\n    }, []);\n    useDocumentTitle(title);\n\n    const intl = useIntl();\n\n    const ariaLabelToUse = ariaLabel ? intlHelper(intl, 'page.defaultMainRoleLabel') : undefined;\n\n    return (\n        <div role=\"main\" aria-label={ariaLabelToUse} id={id}>\n            {topContentRenderer && topContentRenderer()}\n            <div className={`page ${className}`}>{children}</div>\n        </div>\n    );\n};\n\nexport default Page;\n","import { Heading } from '@navikt/ds-react';\nimport React from 'react';\nimport Banner from '../banner/Banner';\n\ninterface StepBannerProps {\n    text: string;\n    level?: '1' | '2' | '3';\n}\n\nconst StepBanner: React.FunctionComponent<StepBannerProps> = ({ text, level = '2' }) => (\n    <Banner size=\"small\">\n        <Heading size=\"large\" level={level}>\n            {text}\n        </Heading>\n    </Banner>\n);\n\nexport default StepBanner;\n","import { BodyLong, Button, Heading, Modal } from '@navikt/ds-react';\nimport { FunctionComponent } from 'react';\n\ninterface Props {\n    isOpen: boolean;\n    setIsOpen: (isOpen: boolean) => void;\n    onAvbrytOgFortsettSenere?: () => void;\n    onAvbrytOgSlett?: () => void;\n    supportsTempSaving?: boolean;\n}\n\nconst AvsluttModal: FunctionComponent<Props> = ({\n    isOpen,\n    setIsOpen,\n    onAvbrytOgSlett,\n    onAvbrytOgFortsettSenere,\n    supportsTempSaving,\n}) => {\n    return (\n        <Modal open={isOpen} onClose={() => setIsOpen(false)}>\n            <Modal.Header>\n                <Heading size=\"medium\">{supportsTempSaving ? 'Fortsett senere' : 'Avslutt og slett søknad'}</Heading>\n            </Modal.Header>\n            <Modal.Body>\n                <BodyLong>\n                    {supportsTempSaving\n                        ? 'Søknaden er lagret, og du kan fullføre den senere, eller velge å slette den. Søknaden blir lagret i 24 timer.'\n                        : 'Når du avslutter vil søknaden bli slettet og det du har oppgitt vil da forsvinne.'}\n                </BodyLong>\n            </Modal.Body>\n            <Modal.Footer>\n                {supportsTempSaving && (\n                    <>\n                        <Button variant=\"primary\" onClick={onAvbrytOgFortsettSenere}>\n                            OK\n                        </Button>\n                        <Button variant=\"tertiary\" onClick={onAvbrytOgSlett}>\n                            Slett søknaden\n                        </Button>\n                    </>\n                )}\n                {!supportsTempSaving && (\n                    <>\n                        <Button variant=\"primary\" onClick={onAvbrytOgSlett}>\n                            Avslutt og slett\n                        </Button>\n                        <Button variant=\"tertiary\" onClick={() => setIsOpen(false)}>\n                            Tilbake til søknaden\n                        </Button>\n                    </>\n                )}\n            </Modal.Footer>\n        </Modal>\n    );\n};\n\nexport default AvsluttModal;\n","import { useState } from 'react';\nimport { Button } from '@navikt/ds-react';\nimport bemUtils from '../../utils/bemUtils';\nimport AvsluttModal from '../avslutt-modal/AvsluttModal';\n\nimport './stepFooter.less';\n\ninterface Props {\n    onAvbrytOgFortsettSenere?: () => void;\n    onAvbrytOgSlett?: () => void;\n    supportsTempSaving?: boolean;\n}\n\nfunction StepFooter({ onAvbrytOgFortsettSenere, onAvbrytOgSlett, supportsTempSaving }: Props) {\n    const [avsluttIsOpen, setAvsluttIsOpen] = useState(false);\n\n    const bem = bemUtils('stepFooter');\n    return (\n        <>\n            <div className={bem.block}>\n                <div className={bem.element('divider')} />\n                <AvsluttModal\n                    isOpen={avsluttIsOpen}\n                    setIsOpen={setAvsluttIsOpen}\n                    onAvbrytOgFortsettSenere={onAvbrytOgFortsettSenere}\n                    onAvbrytOgSlett={onAvbrytOgSlett}\n                    supportsTempSaving={supportsTempSaving}\n                />\n                <Button variant=\"tertiary\" onClick={() => setAvsluttIsOpen(true)}>\n                    Avslutt\n                </Button>\n            </div>\n        </>\n    );\n}\n\nexport default StepFooter;\n","import React from 'react';\nimport bemUtils from './../../utils/bemUtils';\nimport Page from './Page';\nimport { StepIndicatorStep } from '../step-indicator/StepIndicator';\nimport StepBanner from '../step-banner/StepBanner';\nimport Block from '../block/Block';\nimport StepFooter from '../step-footer/StepFooter';\nimport ProgressStepper from '../progress-stepper/ProgressStepper';\n\nimport './step.less';\n\nexport interface StepProps {\n    pageTitle?: string;\n    bannerTitle?: string;\n    steps: StepIndicatorStep[];\n    activeStepId?: string;\n    children: React.ReactNode;\n    showStepIndicator?: boolean;\n    topContentRenderer?: () => React.ReactElement<any>;\n    onCancel?: () => void;\n    onContinueLater?: () => void;\n    cancelOrContinueLaterAriaLabel?: string;\n    pageAriaLabel?: string;\n    infoMessage?: React.ReactNode;\n    supportsTempSaving?: boolean;\n}\n\nconst Step: React.FunctionComponent<StepProps> = ({\n    bannerTitle,\n    pageTitle,\n    steps,\n    activeStepId,\n    onCancel,\n    onContinueLater,\n    cancelOrContinueLaterAriaLabel,\n    showStepIndicator = true,\n    children,\n    pageAriaLabel,\n    infoMessage,\n    supportsTempSaving,\n}) => {\n    const currentStepIndex = steps.findIndex((s) => s.id === activeStepId || s.isSelected);\n\n    const title = pageTitle || steps[currentStepIndex].label;\n\n    const bem = bemUtils('step');\n    return (\n        <Page\n            className={bem.block}\n            title={title}\n            ariaLabel={pageAriaLabel}\n            topContentRenderer={() => (\n                <>\n                    {bannerTitle && (\n                        <>\n                            <StepBanner text={bannerTitle} />\n                        </>\n                    )}\n                </>\n            )}\n        >\n            {infoMessage !== undefined && <div className={bem.element('infoMessage')}>{infoMessage}</div>}\n            {showStepIndicator && (\n                <Block padBottom=\"xxl\">\n                    <div role=\"presentation\" aria-hidden={true}>\n                        <ProgressStepper\n                            steps={steps}\n                            currentStepIndex={currentStepIndex}\n                            titleHeadingLevel=\"2\"\n                        ></ProgressStepper>\n                    </div>\n                </Block>\n            )}\n            <section aria-label={`Steg ${currentStepIndex + 1} av ${steps.length}:  ${title}`}>\n                <Block>{children}</Block>\n\n                {(onCancel || onContinueLater) && (\n                    <div\n                        role={cancelOrContinueLaterAriaLabel ? 'complementary' : undefined}\n                        aria-label={cancelOrContinueLaterAriaLabel}\n                    >\n                        <StepFooter\n                            onAvbrytOgSlett={onCancel}\n                            onAvbrytOgFortsettSenere={onContinueLater}\n                            supportsTempSaving={supportsTempSaving}\n                        />\n                    </div>\n                )}\n            </section>\n        </Page>\n    );\n};\n\nexport default Step;\n"],"names":["useDocumentTitle","title","useEffect","originalTitle","Page","ariaLabel","id","className","topContentRenderer","children","intl","useIntl","ariaLabelToUse","intlHelper","jsxs","jsx","StepBanner","text","level","Banner","Heading","AvsluttModal","isOpen","setIsOpen","onAvbrytOgSlett","onAvbrytOgFortsettSenere","supportsTempSaving","Modal","BodyLong","Fragment","Button","StepFooter","avsluttIsOpen","setAvsluttIsOpen","useState","bem","bemUtils","Step","bannerTitle","pageTitle","steps","activeStepId","onCancel","onContinueLater","cancelOrContinueLaterAriaLabel","showStepIndicator","pageAriaLabel","infoMessage","currentStepIndex","s","Block","ProgressStepper","Step$1"],"mappings":"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"}