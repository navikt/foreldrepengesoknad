import{u as w,a as R,d as s,D as U,b as O,i as B,j as e,V as D,R as H,c as I,M as c,e as b,f,B as q,S as V,g as Y,h as K,r as P,k as $,l as z,E as G,H as W,m as X}from"./iframe-B4u-7KiW.js";import{i as k,a as x,b as M,c as J,d as j,e as _,f as Q}from"./dateFormValidation-DluR4kkT.js";import{S as Z}from"./Plus-DnZh3j_L.js";const F=({index:t,fjernOpphold:y})=>{const n=w(),{watch:l,trigger:h,formState:{isSubmitted:S}}=R(),p=l("utenlandsoppholdNeste12Mnd").filter((o,T)=>T!==t),a=l(`utenlandsoppholdNeste12Mnd.${t}.fom`),r=l(`utenlandsoppholdNeste12Mnd.${t}.tom`),d=s(U).toDate(),i=r?s(r).subtract(1,"days").toDate():s(O).toDate(),u=a&&B(a)?s(a).add(1,"days").toDate():s(U).toDate(),m=s(O).toDate();return e.jsxs(D,{gap:"5",align:"start",children:[e.jsx(H,{name:`utenlandsoppholdNeste12Mnd.${t}.landkode`,label:e.jsx(c,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Spørsmål.HvilketLandSkalDuBoI"}),validate:[k(n.formatMessage({id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandDuSkalBoIPåkreved"}))],children:I().map(o=>e.jsx("option",{value:o[0],children:o[1]},o[0]))}),e.jsx(b,{name:`utenlandsoppholdNeste12Mnd.${t}.fom`,label:e.jsx(c,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Fraogmed"}),minDate:d,maxDate:i,validate:[k(n.formatMessage({id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandFomDuSkalBoIPåkreved"})),x(n.formatMessage({id:"SenereUtenlandsoppholdSteg.FraOgMedDato.GyldigDato"})),M(n.formatMessage({id:"SenereUtenlandsoppholdSteg.FomErLikTom"}),r),J(n.formatMessage({id:"SenereUtenlandsoppholdSteg.Utenlandsopphold.FørTilDato"}),r),j(n.formatMessage({id:"SenereUtenlandsoppholdSteg.DateOutsideRangeFom"},{min:f(d),max:f(i)}),d,i),_(n.formatMessage({id:"SenereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"}),{date:r,isStartDate:!1},p)],onChange:()=>S&&h()}),e.jsx(b,{name:`utenlandsoppholdNeste12Mnd.${t}.tom`,label:e.jsx(c,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Tilogmed"}),minDate:u,maxDate:m,validate:[k(n.formatMessage({id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandTomDuSkalBoIPåkreved"})),x(n.formatMessage({id:"SenereUtenlandsoppholdSteg.TilOgMedDato.GyldigDato"})),M(n.formatMessage({id:"SenereUtenlandsoppholdSteg.TomErLikFom"}),a),Q(n.formatMessage({id:"SenereUtenlandsoppholdSteg.Utenlandsopphold.EtterFraDato"}),a),j(n.formatMessage({id:"SenereUtenlandsoppholdSteg.DateOutsideRangeTom"},{min:f(u),max:f(m)}),u,m),_(n.formatMessage({id:"SenereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"}),{date:a,isStartDate:!0},p)],onChange:()=>S&&h(),defaultMonth:a?s(a).toDate():void 0}),t>0&&e.jsx(q,{type:"button",variant:"tertiary",size:"small",icon:e.jsx(V,{"aria-hidden":!0}),onClick:()=>y(t),children:e.jsx(c,{id:"SenereUtenlandsoppholdSteg.Knapp.SlettOpphold"})})]})};F.__docgenInfo={description:"",methods:[],displayName:"SenereUtenlandsoppholdPeriode",props:{index:{required:!0,tsType:{name:"number"},description:""},fjernOpphold:{required:!0,tsType:{name:"signature",type:"function",raw:"(index: number) => void",signature:{arguments:[{type:{name:"number"},name:"index"}],return:{name:"void"}}},description:""}}};const A={fom:"",tom:"",landkode:""},C=({saveOnNext:t,saveOnPrevious:y,onStepChange:n,cancelApplication:l,onContinueLater:h,goToPreviousStep:S,senereUtenlandsopphold:p,stepConfig:a})=>{const r=Y({defaultValues:{utenlandsoppholdNeste12Mnd:p.length===0?[A]:p}}),{fields:d,append:i,remove:u}=K({name:"utenlandsoppholdNeste12Mnd",control:r.control}),m=P.useCallback(()=>{i(A)},[i]);return e.jsx($,{onCancel:l,onContinueLater:h,steps:a,onStepChange:n,children:e.jsx(z,{formMethods:r,onSubmit:o=>t(o.utenlandsoppholdNeste12Mnd),children:e.jsxs(D,{gap:"10",children:[e.jsx(G,{}),e.jsxs(D,{gap:"10",align:"start",children:[d.map((o,T)=>e.jsxs(P.Fragment,{children:[e.jsx(F,{index:T,fjernOpphold:u}),d.length>1&&e.jsx(W,{})]},o.id)),e.jsx(q,{type:"button",variant:"secondary",size:"small",icon:e.jsx(Z,{"aria-hidden":!0}),onClick:m,children:e.jsx(c,{id:"SenereUtenlandsoppholdSteg.Knapp.LeggTilLand"})})]}),e.jsx(X,{goToPreviousStep:S,saveDataOnPreviousClick:o=>y(o.utenlandsoppholdNeste12Mnd)})]})})})};C.__docgenInfo={description:"",methods:[],displayName:"SenereUtenlandsoppholdPanel",props:{senereUtenlandsopphold:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fom: string;
    tom: string;
    landkode: string;
}`,signature:{properties:[{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!0}},{key:"landkode",value:{name:"string",required:!0}}]}}],raw:"UtenlandsoppholdPeriode[]"},description:""},saveOnNext:{required:!0,tsType:{name:"signature",type:"function",raw:"(formValues: UtenlandsoppholdPeriode[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fom: string;
    tom: string;
    landkode: string;
}`,signature:{properties:[{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!0}},{key:"landkode",value:{name:"string",required:!0}}]}}],raw:"UtenlandsoppholdPeriode[]"},name:"formValues"}],return:{name:"void"}}},description:""},saveOnPrevious:{required:!0,tsType:{name:"signature",type:"function",raw:"(formValues: UtenlandsoppholdPeriode[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fom: string;
    tom: string;
    landkode: string;
}`,signature:{properties:[{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!0}},{key:"landkode",value:{name:"string",required:!0}}]}}],raw:"UtenlandsoppholdPeriode[]"},name:"formValues"}],return:{name:"void"}}},description:""},onStepChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: TYPE) => void",signature:{arguments:[{type:{name:"TYPE"},name:"id"}],return:{name:"void"}}},description:""},cancelApplication:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onContinueLater:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},goToPreviousStep:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},stepConfig:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    id: TYPE;
    label: string;
    isSelected: boolean;
}`,signature:{properties:[{key:"id",value:{name:"TYPE",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"isSelected",value:{name:"boolean",required:!0}}]}}],raw:"Array<ProgressStep<TYPE>>"},description:""}}};const{action:g}=__STORYBOOK_MODULE_ACTIONS__,ae={component:C},v={args:{saveOnNext:g("button-click"),cancelApplication:g("button-click"),goToPreviousStep:g("button-click"),onStepChange:g("button-click"),saveOnPrevious:g("button-click"),senereUtenlandsopphold:[],stepConfig:[{id:"UTENLANDSOPPHOLD_PATH",label:"Utenlandsopphold",isSelected:!1},{id:"SKAL_BO_I_UTLANDET_PATH",label:"Skal bo i utlandet",isSelected:!0}]}};var L,N,E;v.parameters={...v.parameters,docs:{...(L=v.parameters)==null?void 0:L.docs,source:{originalSource:`{
  args: {
    saveOnNext: action('button-click'),
    cancelApplication: action('button-click'),
    goToPreviousStep: action('button-click'),
    onStepChange: action('button-click'),
    saveOnPrevious: action('button-click'),
    senereUtenlandsopphold: [],
    stepConfig: [{
      id: 'UTENLANDSOPPHOLD_PATH',
      label: 'Utenlandsopphold',
      isSelected: false
    }, {
      id: 'SKAL_BO_I_UTLANDET_PATH',
      label: 'Skal bo i utlandet',
      isSelected: true
    }]
  }
}`,...(E=(N=v.parameters)==null?void 0:N.docs)==null?void 0:E.source}}};const oe=["Default"];export{v as Default,oe as __namedExportsOrder,ae as default};
