import{d as r,D as P,a as M,i as V,j as e,V as k,M as h,c as B,f as y,B as E,S as I,b as R,H as Y}from"./CalendarLabel-BEI7redc.js";import{u as $,S as z,i as T,D as O,a as j,b,c as K,d as x,e as A,f as G,g as W,h as X,F as J,E as Q,j as Z,k as S}from"./dateFormValidation-B9mZPwn8.js";import{r as D}from"./index-uubelm5h.js";import{u as ee}from"./index-B254x7wL.js";import{S as ne}from"./Plus-DWxyGgxX.js";import"./index-D3eZ-H7s.js";import"./index-BdzLX9oW.js";import"./v4-CQkTLCs1.js";const q=({index:t,fjernOpphold:m})=>{const n=ee(),{watch:o,trigger:d,formState:{isSubmitted:v}}=$(),g=o("utenlandsoppholdNeste12Mnd").filter((u,U)=>U!==t),a=o(`utenlandsoppholdNeste12Mnd.${t}.fom`),s=o(`utenlandsoppholdNeste12Mnd.${t}.tom`),l=r(P).toDate(),i=s?r(s).subtract(1,"days").toDate():r(M).toDate(),p=a&&V(a)?r(a).add(1,"days").toDate():r(P).toDate(),c=r(M).toDate();return e.jsxs(k,{gap:"5",align:"start",children:[e.jsx(z,{name:`utenlandsoppholdNeste12Mnd.${t}.landkode`,label:e.jsx(h,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Spørsmål.HvilketLandSkalDuBoI"}),validate:[T(n.formatMessage({id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandDuSkalBoIPåkreved"}))],children:B().map(u=>e.jsx("option",{value:u[0],children:u[1]},u[0]))}),e.jsx(O,{name:`utenlandsoppholdNeste12Mnd.${t}.fom`,label:e.jsx(h,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Fraogmed"}),minDate:l,maxDate:i,validate:[T(n.formatMessage({id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandFomDuSkalBoIPåkreved"})),j(n.formatMessage({id:"SenereUtenlandsoppholdSteg.FraOgMedDato.GyldigDato"})),b(n.formatMessage({id:"SenereUtenlandsoppholdSteg.FomErLikTom"}),s),K(n.formatMessage({id:"SenereUtenlandsoppholdSteg.Utenlandsopphold.FørTilDato"}),s),x(n.formatMessage({id:"SenereUtenlandsoppholdSteg.DateOutsideRangeFom"},{min:y(l),max:y(i)}),l,i),A(n.formatMessage({id:"SenereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"}),{date:s,isStartDate:!1},g)],onChange:()=>v&&d()}),e.jsx(O,{name:`utenlandsoppholdNeste12Mnd.${t}.tom`,label:e.jsx(h,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Tilogmed"}),minDate:p,maxDate:c,validate:[T(n.formatMessage({id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandTomDuSkalBoIPåkreved"})),j(n.formatMessage({id:"SenereUtenlandsoppholdSteg.TilOgMedDato.GyldigDato"})),b(n.formatMessage({id:"SenereUtenlandsoppholdSteg.TomErLikFom"}),a),G(n.formatMessage({id:"SenereUtenlandsoppholdSteg.Utenlandsopphold.EtterFraDato"}),a),x(n.formatMessage({id:"SenereUtenlandsoppholdSteg.DateOutsideRangeTom"},{min:y(p),max:y(c)}),p,c),A(n.formatMessage({id:"SenereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"}),{date:a,isStartDate:!0},g)],onChange:()=>v&&d(),defaultMonth:a?r(a).toDate():void 0}),t>0&&e.jsx(E,{type:"button",variant:"tertiary",size:"small",icon:e.jsx(I,{"aria-hidden":!0}),onClick:()=>m(t),children:e.jsx(h,{id:"SenereUtenlandsoppholdSteg.Knapp.SlettOpphold"})})]})};q.__docgenInfo={description:"",methods:[],displayName:"SenereUtenlandsoppholdPanel"};const F={fom:"",tom:"",landkode:""},te={utenlandsoppholdNeste12Mnd:[F]},w=({saveOnNext:t,saveOnPrevious:m,onStepChange:n,cancelApplication:o,onContinueLater:d,goToPreviousStep:v,senereUtenlandsopphold:g,stepConfig:a})=>{const s=D.useMemo(()=>g||te,[g]),l=W({defaultValues:s}),{fields:i,append:p,remove:c}=X({name:"utenlandsoppholdNeste12Mnd",control:l.control}),u=D.useCallback(()=>{p(F)},[p]);return e.jsx(R,{onCancel:o,onContinueLater:d,steps:a,onStepChange:n,children:e.jsx(J,{formMethods:l,onSubmit:t,children:e.jsxs(k,{gap:"10",children:[e.jsx(Q,{}),e.jsxs(k,{gap:"10",align:"start",children:[i.map((U,H)=>e.jsxs(D.Fragment,{children:[e.jsx(q,{index:H,fjernOpphold:c}),i.length>1&&e.jsx(Y,{})]},U.id)),e.jsx(E,{type:"button",variant:"secondary",size:"small",icon:e.jsx(ne,{"aria-hidden":!0}),onClick:u,children:e.jsx(h,{id:"SenereUtenlandsoppholdSteg.Knapp.LeggTilLand"})})]}),e.jsx(Z,{goToPreviousStep:v,saveDataOnPreviousClick:m})]})})})},C=w;w.__docgenInfo={description:"",methods:[],displayName:"SenereUtenlandsoppholdPanel",props:{senereUtenlandsopphold:{required:!1,tsType:{name:"signature",type:"object",raw:`{
    utenlandsoppholdNeste12Mnd: UtenlandsoppholdPeriode[];
}`,signature:{properties:[{key:"utenlandsoppholdNeste12Mnd",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fom: string;
    tom: string;
    landkode: string;
}`,signature:{properties:[{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!0}},{key:"landkode",value:{name:"string",required:!0}}]}}],raw:"UtenlandsoppholdPeriode[]",required:!0}}]}},description:""},saveOnNext:{required:!0,tsType:{name:"signature",type:"function",raw:"(formValues: UtenlandsoppholdSenere) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
    utenlandsoppholdNeste12Mnd: UtenlandsoppholdPeriode[];
}`,signature:{properties:[{key:"utenlandsoppholdNeste12Mnd",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fom: string;
    tom: string;
    landkode: string;
}`,signature:{properties:[{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!0}},{key:"landkode",value:{name:"string",required:!0}}]}}],raw:"UtenlandsoppholdPeriode[]",required:!0}}]}},name:"formValues"}],return:{name:"void"}}},description:""},saveOnPrevious:{required:!0,tsType:{name:"signature",type:"function",raw:"(formValues: UtenlandsoppholdSenere | undefined) => void",signature:{arguments:[{type:{name:"union",raw:"UtenlandsoppholdSenere | undefined",elements:[{name:"signature",type:"object",raw:`{
    utenlandsoppholdNeste12Mnd: UtenlandsoppholdPeriode[];
}`,signature:{properties:[{key:"utenlandsoppholdNeste12Mnd",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fom: string;
    tom: string;
    landkode: string;
}`,signature:{properties:[{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!0}},{key:"landkode",value:{name:"string",required:!0}}]}}],raw:"UtenlandsoppholdPeriode[]",required:!0}}]}},{name:"undefined"}]},name:"formValues"}],return:{name:"void"}}},description:""},onStepChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: TYPE) => void",signature:{arguments:[{type:{name:"TYPE"},name:"id"}],return:{name:"void"}}},description:""},cancelApplication:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onContinueLater:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},goToPreviousStep:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},stepConfig:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    id: TYPE;
    label: string;
    isSelected: boolean;
}`,signature:{properties:[{key:"id",value:{name:"TYPE",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"isSelected",value:{name:"boolean",required:!0}}]}}],raw:"Array<ProgressStep<TYPE>>"},description:""}}};const me={title:"SenereUtenlandsoppholdPanel",component:C},ae=({saveOnNext:t,saveOnPrevious:m,cancelApplication:n,goToPreviousStep:o,onStepChange:d})=>e.jsx(C,{saveOnNext:t,saveOnPrevious:m,cancelApplication:n,onStepChange:d,goToPreviousStep:o,stepConfig:[{id:"UTENLANDSOPPHOLD_PATH",label:"Utenlandsopphold",isSelected:!1},{id:"SKAL_BO_I_UTLANDET_PATH",label:"Skal bo i utlandet",isSelected:!0}]}),f=ae.bind({});f.args={saveOnNext:S("button-click"),saveOnPrevious:S("button-click"),cancelApplication:S("button-click"),goToPreviousStep:S("button-click"),onStepChange:S("button-click")};var N,L,_;f.parameters={...f.parameters,docs:{...(N=f.parameters)==null?void 0:N.docs,source:{originalSource:`({
  saveOnNext,
  saveOnPrevious,
  cancelApplication,
  goToPreviousStep,
  onStepChange
}) => {
  return <SenereUtenlandsoppholdPanel saveOnNext={saveOnNext} saveOnPrevious={saveOnPrevious} cancelApplication={cancelApplication} onStepChange={onStepChange} goToPreviousStep={goToPreviousStep} stepConfig={[{
    id: 'UTENLANDSOPPHOLD_PATH',
    label: 'Utenlandsopphold',
    isSelected: false
  }, {
    id: 'SKAL_BO_I_UTLANDET_PATH',
    label: 'Skal bo i utlandet',
    isSelected: true
  }]} />;
}`,...(_=(L=f.parameters)==null?void 0:L.docs)==null?void 0:_.source}}};const ge=["Default"];export{f as Default,ge as __namedExportsOrder,me as default};
