import{u as N,R,i as D,a as P,b as x,c as j,d as B,e as O,f as M,g as I,h as V,j as Y,k as $,E as z,S as G,l as g}from"./dateFormValidation-fqQJhHNJ.js";import{j as e}from"./index-CSZAu0_d.js";import{r as k}from"./index-CZMpeKRu.js";import{u as K}from"./index-CgnekosV.js";import{d as i,e as U,D as A,g as W,V as b,M as c,c as X,f as S,B as F,S as J,b as Q,H as Z}from"./VeiviserPage-DIoyNRXZ.js";import{S as ee}from"./Plus-gjzQPoni.js";import"./v4-CtRu48qb.js";import"./index-D-TIQtLp.js";const H=({index:n,fjernOpphold:y})=>{const t=K(),{watch:u,trigger:h,formState:{isSubmitted:f}}=N(),T=u("utenlandsoppholdSiste12Mnd").filter((p,o)=>o!==n),r=u(`utenlandsoppholdSiste12Mnd.${n}.fom`),a=u(`utenlandsoppholdSiste12Mnd.${n}.tom`),s=i(U).toDate(),d=a?i(a).subtract(1,"days").toDate():i(A).toDate(),l=r&&W(r,U)?i(r).add(1,"days").toDate():i(U).toDate(),m=i(A).toDate();return e.jsxs(b,{gap:"5",align:"start",children:[e.jsx(R,{name:`utenlandsoppholdSiste12Mnd.${n}.landkode`,label:e.jsx(c,{id:"TidligereUtenlandsoppholdSteg.Spørsmål.HvilketLandHarDuBoddI"}),validate:[D(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandDuHarBoddIPåkrevd"}))],children:X().map(p=>e.jsx("option",{value:p[0],children:p[1]},p[0]))}),e.jsx(P,{name:`utenlandsoppholdSiste12Mnd.${n}.fom`,label:e.jsx(c,{id:"TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Fraogmed"}),minDate:s,maxDate:d,validate:[D(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandFomDuSkalBoIPåkreved"})),x(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.FraOgMedDato.GyldigDato"})),j(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.FomErLikTom"}),a),B(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.Utenlandsopphold.FørTilDato"}),a),O(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.DateOutsideRangeFom"},{min:S(s),max:S(d)}),s,d),M(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"}),{date:a,isStartDate:!1},T)],onChange:()=>f&&h(),defaultMonth:a?i(a).toDate():void 0}),e.jsx(P,{name:`utenlandsoppholdSiste12Mnd.${n}.tom`,label:e.jsx(c,{id:"TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Tilogmed"}),minDate:l,maxDate:m,validate:[D(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandTomDuHarBoddIPåkreved"})),x(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.TilOgMedDato.GyldigDato"})),j(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.TomErLikFom"}),r),I(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.Utenlandsopphold.EtterFraDato"}),r),O(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.DateOutsideRangeTom"},{min:S(l),max:S(m)}),l,m),M(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"}),{date:r,isStartDate:!0},T)],onChange:()=>f&&h()}),n>0&&e.jsx(F,{type:"button",variant:"tertiary",size:"small",icon:e.jsx(J,{"aria-hidden":!0}),onClick:()=>y(n),children:e.jsx(c,{id:"TidligereUtenlandsoppholdSteg.Knapp.SlettOpphold"})})]})};H.__docgenInfo={description:"",methods:[],displayName:"TidligereUtenlandsoppholdPeriode",props:{index:{required:!0,tsType:{name:"number"},description:""},fjernOpphold:{required:!0,tsType:{name:"signature",type:"function",raw:"(index: number) => void",signature:{arguments:[{type:{name:"number"},name:"index"}],return:{name:"void"}}},description:""}}};const q={fom:"",tom:"",landkode:""},C=({tidligereUtenlandsopphold:n,saveOnNext:y,saveOnPrevious:t,cancelApplication:u,onContinueLater:h,onStepChange:f,goToPreviousStep:T,stepConfig:r})=>{const a=V({defaultValues:{utenlandsoppholdSiste12Mnd:n.length===0?[q]:n}}),{fields:s,append:d,remove:l}=Y({name:"utenlandsoppholdSiste12Mnd",control:a.control}),m=k.useCallback(()=>{d(q)},[d]),p=k.useCallback(o=>{l(o)},[l]);return e.jsx(Q,{onCancel:u,onContinueLater:h,steps:r,onStepChange:f,children:e.jsx($,{formMethods:a,onSubmit:o=>y(o.utenlandsoppholdSiste12Mnd),children:e.jsxs(b,{gap:"10",children:[e.jsx(z,{}),e.jsxs(b,{gap:"10",align:"start",children:[s.map((o,w)=>e.jsxs(k.Fragment,{children:[e.jsx(H,{index:w,fjernOpphold:p}),s.length>1&&e.jsx(Z,{})]},o.id)),e.jsx(F,{type:"button",variant:"secondary",size:"small",icon:e.jsx(ee,{"aria-hidden":!0}),onClick:m,children:e.jsx(c,{id:"TidligereUtenlandsoppholdSteg.Knapp.LeggTilLand"})})]}),e.jsx(G,{goToPreviousStep:T,saveDataOnPreviousClick:o=>t(o.utenlandsoppholdSiste12Mnd)})]})})})};C.__docgenInfo={description:"",methods:[],displayName:"TidligereUtenlandsoppholdPanel",props:{tidligereUtenlandsopphold:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fom: string;
    tom: string;
    landkode: string;
}`,signature:{properties:[{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!0}},{key:"landkode",value:{name:"string",required:!0}}]}}],raw:"UtenlandsoppholdPeriode[]"},description:""},saveOnNext:{required:!0,tsType:{name:"signature",type:"function",raw:"(formValues: UtenlandsoppholdPeriode[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fom: string;
    tom: string;
    landkode: string;
}`,signature:{properties:[{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!0}},{key:"landkode",value:{name:"string",required:!0}}]}}],raw:"UtenlandsoppholdPeriode[]"},name:"formValues"}],return:{name:"void"}}},description:""},saveOnPrevious:{required:!0,tsType:{name:"signature",type:"function",raw:"(data: UtenlandsoppholdPeriode[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fom: string;
    tom: string;
    landkode: string;
}`,signature:{properties:[{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!0}},{key:"landkode",value:{name:"string",required:!0}}]}}],raw:"UtenlandsoppholdPeriode[]"},name:"data"}],return:{name:"void"}}},description:""},onStepChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: TYPE) => void",signature:{arguments:[{type:{name:"TYPE"},name:"id"}],return:{name:"void"}}},description:""},cancelApplication:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onContinueLater:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},goToPreviousStep:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},stepConfig:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    id: TYPE;
    label: string;
    isSelected: boolean;
}`,signature:{properties:[{key:"id",value:{name:"TYPE",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"isSelected",value:{name:"boolean",required:!0}}]}}],raw:"Array<ProgressStep<TYPE>>"},description:""}}};const le={component:C},v={args:{saveOnNext:g("button-click"),cancelApplication:g("button-click"),goToPreviousStep:g("button-click"),onStepChange:g("button-click"),saveOnPrevious:g("button-click"),tidligereUtenlandsopphold:[],stepConfig:[{id:"UTENLANDSOPPHOLD_PATH",label:"Utenlandsopphold",isSelected:!1},{id:"HAR_BODD_I_UTLANDET_PATH",label:"Har bodd i utlandet",isSelected:!0}]}};var E,L,_;v.parameters={...v.parameters,docs:{...(E=v.parameters)==null?void 0:E.docs,source:{originalSource:`{
  args: {
    saveOnNext: action('button-click'),
    cancelApplication: action('button-click'),
    goToPreviousStep: action('button-click'),
    onStepChange: action('button-click'),
    saveOnPrevious: action('button-click'),
    tidligereUtenlandsopphold: [],
    stepConfig: [{
      id: 'UTENLANDSOPPHOLD_PATH',
      label: 'Utenlandsopphold',
      isSelected: false
    }, {
      id: 'HAR_BODD_I_UTLANDET_PATH',
      label: 'Har bodd i utlandet',
      isSelected: true
    }]
  }
}`,...(_=(L=v.parameters)==null?void 0:L.docs)==null?void 0:_.source}}};const pe=["Default"];export{v as Default,pe as __namedExportsOrder,le as default};
