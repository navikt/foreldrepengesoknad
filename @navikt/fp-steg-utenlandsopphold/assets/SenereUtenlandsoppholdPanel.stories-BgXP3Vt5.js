import{u as w,R,i as D,a as U,b as P,c as b,d as H,e as O,f as j,g as B,h as I,j as V,k as Y,E as $,S as z,l as g}from"./dateFormValidation-CUF8Wyin.js";import{d as r,D as M,a as x,i as K,j as e,V as T,M as c,c as G,f,B as q,S as W,b as X,H as J}from"./VeiviserPage-CC5mANKk.js";import{r as A}from"./index-uubelm5h.js";import{u as Q}from"./index-B254x7wL.js";import{S as Z}from"./Plus-C8yKQS2G.js";import"./v4-CQkTLCs1.js";import"./index-BdzLX9oW.js";import"./index-D3eZ-H7s.js";const F=({index:n,fjernOpphold:y})=>{const t=Q(),{watch:l,trigger:h,formState:{isSubmitted:S}}=w(),p=l("utenlandsoppholdNeste12Mnd").filter((o,k)=>k!==n),a=l(`utenlandsoppholdNeste12Mnd.${n}.fom`),s=l(`utenlandsoppholdNeste12Mnd.${n}.tom`),d=r(M).toDate(),i=s?r(s).subtract(1,"days").toDate():r(x).toDate(),u=a&&K(a)?r(a).add(1,"days").toDate():r(M).toDate(),m=r(x).toDate();return e.jsxs(T,{gap:"5",align:"start",children:[e.jsx(R,{name:`utenlandsoppholdNeste12Mnd.${n}.landkode`,label:e.jsx(c,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Spørsmål.HvilketLandSkalDuBoI"}),validate:[D(t.formatMessage({id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandDuSkalBoIPåkreved"}))],children:G().map(o=>e.jsx("option",{value:o[0],children:o[1]},o[0]))}),e.jsx(U,{name:`utenlandsoppholdNeste12Mnd.${n}.fom`,label:e.jsx(c,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Fraogmed"}),minDate:d,maxDate:i,validate:[D(t.formatMessage({id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandFomDuSkalBoIPåkreved"})),P(t.formatMessage({id:"SenereUtenlandsoppholdSteg.FraOgMedDato.GyldigDato"})),b(t.formatMessage({id:"SenereUtenlandsoppholdSteg.FomErLikTom"}),s),H(t.formatMessage({id:"SenereUtenlandsoppholdSteg.Utenlandsopphold.FørTilDato"}),s),O(t.formatMessage({id:"SenereUtenlandsoppholdSteg.DateOutsideRangeFom"},{min:f(d),max:f(i)}),d,i),j(t.formatMessage({id:"SenereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"}),{date:s,isStartDate:!1},p)],onChange:()=>S&&h()}),e.jsx(U,{name:`utenlandsoppholdNeste12Mnd.${n}.tom`,label:e.jsx(c,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Tilogmed"}),minDate:u,maxDate:m,validate:[D(t.formatMessage({id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandTomDuSkalBoIPåkreved"})),P(t.formatMessage({id:"SenereUtenlandsoppholdSteg.TilOgMedDato.GyldigDato"})),b(t.formatMessage({id:"SenereUtenlandsoppholdSteg.TomErLikFom"}),a),B(t.formatMessage({id:"SenereUtenlandsoppholdSteg.Utenlandsopphold.EtterFraDato"}),a),O(t.formatMessage({id:"SenereUtenlandsoppholdSteg.DateOutsideRangeTom"},{min:f(u),max:f(m)}),u,m),j(t.formatMessage({id:"SenereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"}),{date:a,isStartDate:!0},p)],onChange:()=>S&&h(),defaultMonth:a?r(a).toDate():void 0}),n>0&&e.jsx(q,{type:"button",variant:"tertiary",size:"small",icon:e.jsx(W,{"aria-hidden":!0}),onClick:()=>y(n),children:e.jsx(c,{id:"SenereUtenlandsoppholdSteg.Knapp.SlettOpphold"})})]})};F.__docgenInfo={description:"",methods:[],displayName:"SenereUtenlandsoppholdPanel"};const L={fom:"",tom:"",landkode:""},C=({saveOnNext:n,saveOnPrevious:y,onStepChange:t,cancelApplication:l,onContinueLater:h,goToPreviousStep:S,senereUtenlandsopphold:p,stepConfig:a})=>{const s=I({defaultValues:{utenlandsoppholdNeste12Mnd:p.length===0?[L]:p}}),{fields:d,append:i,remove:u}=V({name:"utenlandsoppholdNeste12Mnd",control:s.control}),m=A.useCallback(()=>{i(L)},[i]);return e.jsx(X,{onCancel:l,onContinueLater:h,steps:a,onStepChange:t,children:e.jsx(Y,{formMethods:s,onSubmit:o=>n(o.utenlandsoppholdNeste12Mnd),children:e.jsxs(T,{gap:"10",children:[e.jsx($,{}),e.jsxs(T,{gap:"10",align:"start",children:[d.map((o,k)=>e.jsxs(A.Fragment,{children:[e.jsx(F,{index:k,fjernOpphold:u}),d.length>1&&e.jsx(J,{})]},o.id)),e.jsx(q,{type:"button",variant:"secondary",size:"small",icon:e.jsx(Z,{"aria-hidden":!0}),onClick:m,children:e.jsx(c,{id:"SenereUtenlandsoppholdSteg.Knapp.LeggTilLand"})})]}),e.jsx(z,{goToPreviousStep:S,saveDataOnPreviousClick:o=>y(o.utenlandsoppholdNeste12Mnd)})]})})})};C.__docgenInfo={description:"",methods:[],displayName:"SenereUtenlandsoppholdPanel",props:{senereUtenlandsopphold:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fom: string;
    tom: string;
    landkode: string;
}`,signature:{properties:[{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!0}},{key:"landkode",value:{name:"string",required:!0}}]}}],raw:"UtenlandsoppholdPeriode[]"},description:""},saveOnNext:{required:!0,tsType:{name:"signature",type:"function",raw:"(formValues: UtenlandsoppholdPeriode[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fom: string;
    tom: string;
    landkode: string;
}`,signature:{properties:[{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!0}},{key:"landkode",value:{name:"string",required:!0}}]}}],raw:"UtenlandsoppholdPeriode[]"},name:"formValues"}],return:{name:"void"}}},description:""},saveOnPrevious:{required:!0,tsType:{name:"signature",type:"function",raw:"(formValues: UtenlandsoppholdPeriode[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fom: string;
    tom: string;
    landkode: string;
}`,signature:{properties:[{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!0}},{key:"landkode",value:{name:"string",required:!0}}]}}],raw:"UtenlandsoppholdPeriode[]"},name:"formValues"}],return:{name:"void"}}},description:""},onStepChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: TYPE) => void",signature:{arguments:[{type:{name:"TYPE"},name:"id"}],return:{name:"void"}}},description:""},cancelApplication:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onContinueLater:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},goToPreviousStep:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},stepConfig:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    id: TYPE;
    label: string;
    isSelected: boolean;
}`,signature:{properties:[{key:"id",value:{name:"TYPE",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"isSelected",value:{name:"boolean",required:!0}}]}}],raw:"Array<ProgressStep<TYPE>>"},description:""}}};const ie={component:C},v={args:{saveOnNext:g("button-click"),cancelApplication:g("button-click"),goToPreviousStep:g("button-click"),onStepChange:g("button-click"),saveOnPrevious:g("button-click"),senereUtenlandsopphold:[],stepConfig:[{id:"UTENLANDSOPPHOLD_PATH",label:"Utenlandsopphold",isSelected:!1},{id:"SKAL_BO_I_UTLANDET_PATH",label:"Skal bo i utlandet",isSelected:!0}]}};var N,E,_;v.parameters={...v.parameters,docs:{...(N=v.parameters)==null?void 0:N.docs,source:{originalSource:`{
  args: {
    saveOnNext: action('button-click'),
    cancelApplication: action('button-click'),
    goToPreviousStep: action('button-click'),
    onStepChange: action('button-click'),
    saveOnPrevious: action('button-click'),
    senereUtenlandsopphold: [],
    stepConfig: [{
      id: 'UTENLANDSOPPHOLD_PATH',
      label: 'Utenlandsopphold',
      isSelected: false
    }, {
      id: 'SKAL_BO_I_UTLANDET_PATH',
      label: 'Skal bo i utlandet',
      isSelected: true
    }]
  }
}`,...(_=(E=v.parameters)==null?void 0:E.docs)==null?void 0:_.source}}};const le=["Default"];export{v as Default,le as __namedExportsOrder,ie as default};
