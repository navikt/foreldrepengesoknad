import{u as N,R as B,i as U,a as P,b as j,c as O,d as I,e as x,f as A,g as V,h as Y,j as $,k as z,E as G,S as K,l as m}from"./dateFormValidation-TMJUniNl.js";import{d as r,e as b,D as E,g as W,j as e,V as M,M as g,c as X,f,B as F,S as J,b as Q,H as Z}from"./CalendarLabel-CVC_I2EX.js";import{r as S}from"./index-uubelm5h.js";import{u as ee}from"./index-B254x7wL.js";import{S as te}from"./Plus-DidlBD6Y.js";import"./v4-CQkTLCs1.js";import"./index-BdzLX9oW.js";import"./index-D3eZ-H7s.js";const w=({index:n,fjernOpphold:y})=>{const t=ee(),{watch:u,trigger:c,formState:{isSubmitted:h}}=N(),T=u("utenlandsoppholdSiste12Mnd").filter((p,D)=>D!==n),o=u(`utenlandsoppholdSiste12Mnd.${n}.fom`),a=u(`utenlandsoppholdSiste12Mnd.${n}.tom`),s=r(b).toDate(),i=a?r(a).subtract(1,"days").toDate():r(E).toDate(),d=o&&W(o,b)?r(o).add(1,"days").toDate():r(b).toDate(),l=r(E).toDate();return e.jsxs(M,{gap:"5",align:"start",children:[e.jsx(B,{name:`utenlandsoppholdSiste12Mnd.${n}.landkode`,label:e.jsx(g,{id:"TidligereUtenlandsoppholdSteg.Spørsmål.HvilketLandHarDuBoddI"}),validate:[U(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandDuHarBoddIPåkrevd"}))],children:X().map(p=>e.jsx("option",{value:p[0],children:p[1]},p[0]))}),e.jsx(P,{name:`utenlandsoppholdSiste12Mnd.${n}.fom`,label:e.jsx(g,{id:"TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Fraogmed"}),minDate:s,maxDate:i,validate:[U(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandFomDuSkalBoIPåkreved"})),j(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.FraOgMedDato.GyldigDato"})),O(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.FomErLikTom"}),a),I(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.Utenlandsopphold.FørTilDato"}),a),x(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.DateOutsideRangeFom"},{min:f(s),max:f(i)}),s,i),A(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"}),{date:a,isStartDate:!1},T)],onChange:()=>h&&c(),defaultMonth:a?r(a).toDate():void 0}),e.jsx(P,{name:`utenlandsoppholdSiste12Mnd.${n}.tom`,label:e.jsx(g,{id:"TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Tilogmed"}),minDate:d,maxDate:l,validate:[U(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandTomDuHarBoddIPåkreved"})),j(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.TilOgMedDato.GyldigDato"})),O(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.TomErLikFom"}),o),V(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.Utenlandsopphold.EtterFraDato"}),o),x(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.DateOutsideRangeTom"},{min:f(d),max:f(l)}),d,l),A(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"}),{date:o,isStartDate:!0},T)],onChange:()=>h&&c()}),n>0&&e.jsx(F,{type:"button",variant:"tertiary",size:"small",icon:e.jsx(J,{"aria-hidden":!0}),onClick:()=>y(n),children:e.jsx(g,{id:"TidligereUtenlandsoppholdSteg.Knapp.SlettOpphold"})})]})};w.__docgenInfo={description:"",methods:[],displayName:"TidligereUtenlandsoppholdPanel"};const H={fom:"",tom:"",landkode:""},ne={utenlandsoppholdSiste12Mnd:[H]},C=({tidligereUtenlandsopphold:n,saveOnNext:y,saveOnPrevious:t,cancelApplication:u,onContinueLater:c,onStepChange:h,goToPreviousStep:T,stepConfig:o})=>{const a=S.useMemo(()=>n||ne,[n]),s=Y({defaultValues:a}),{fields:i,append:d,remove:l}=$({name:"utenlandsoppholdSiste12Mnd",control:s.control}),p=S.useCallback(()=>{d(H)},[d]),D=S.useCallback(k=>{l(k)},[l]);return e.jsx(Q,{onCancel:u,onContinueLater:c,steps:o,onStepChange:h,children:e.jsx(z,{formMethods:s,onSubmit:y,children:e.jsxs(M,{gap:"10",children:[e.jsx(G,{}),e.jsxs(M,{gap:"10",align:"start",children:[i.map((k,R)=>e.jsxs(S.Fragment,{children:[e.jsx(w,{index:R,fjernOpphold:D}),i.length>1&&e.jsx(Z,{})]},k.id)),e.jsx(F,{type:"button",variant:"secondary",size:"small",icon:e.jsx(te,{"aria-hidden":!0}),onClick:p,children:e.jsx(g,{id:"TidligereUtenlandsoppholdSteg.Knapp.LeggTilLand"})})]}),e.jsx(K,{goToPreviousStep:T,saveDataOnPreviousClick:t})]})})})};C.__docgenInfo={description:"",methods:[],displayName:"TidligereUtenlandsoppholdPanel",props:{tidligereUtenlandsopphold:{required:!1,tsType:{name:"signature",type:"object",raw:`{
    utenlandsoppholdSiste12Mnd: UtenlandsoppholdPeriode[];
}`,signature:{properties:[{key:"utenlandsoppholdSiste12Mnd",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fom: string;
    tom: string;
    landkode: string;
}`,signature:{properties:[{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!0}},{key:"landkode",value:{name:"string",required:!0}}]}}],raw:"UtenlandsoppholdPeriode[]",required:!0}}]}},description:""},saveOnNext:{required:!0,tsType:{name:"signature",type:"function",raw:"(formValues: UtenlandsoppholdTidligere) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
    utenlandsoppholdSiste12Mnd: UtenlandsoppholdPeriode[];
}`,signature:{properties:[{key:"utenlandsoppholdSiste12Mnd",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fom: string;
    tom: string;
    landkode: string;
}`,signature:{properties:[{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!0}},{key:"landkode",value:{name:"string",required:!0}}]}}],raw:"UtenlandsoppholdPeriode[]",required:!0}}]}},name:"formValues"}],return:{name:"void"}}},description:""},saveOnPrevious:{required:!0,tsType:{name:"signature",type:"function",raw:"(data: UtenlandsoppholdTidligere | undefined) => void",signature:{arguments:[{type:{name:"union",raw:"UtenlandsoppholdTidligere | undefined",elements:[{name:"signature",type:"object",raw:`{
    utenlandsoppholdSiste12Mnd: UtenlandsoppholdPeriode[];
}`,signature:{properties:[{key:"utenlandsoppholdSiste12Mnd",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fom: string;
    tom: string;
    landkode: string;
}`,signature:{properties:[{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!0}},{key:"landkode",value:{name:"string",required:!0}}]}}],raw:"UtenlandsoppholdPeriode[]",required:!0}}]}},{name:"undefined"}]},name:"data"}],return:{name:"void"}}},description:""},onStepChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: TYPE) => void",signature:{arguments:[{type:{name:"TYPE"},name:"id"}],return:{name:"void"}}},description:""},cancelApplication:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onContinueLater:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},goToPreviousStep:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},stepConfig:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    id: TYPE;
    label: string;
    isSelected: boolean;
}`,signature:{properties:[{key:"id",value:{name:"TYPE",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"isSelected",value:{name:"boolean",required:!0}}]}}],raw:"Array<ProgressStep<TYPE>>"},description:""}}};const ue={component:C},v={args:{saveOnNext:m("button-click"),cancelApplication:m("button-click"),goToPreviousStep:m("button-click"),onStepChange:m("button-click"),saveOnPrevious:m("button-click"),stepConfig:[{id:"UTENLANDSOPPHOLD_PATH",label:"Utenlandsopphold",isSelected:!1},{id:"HAR_BODD_I_UTLANDET_PATH",label:"Har bodd i utlandet",isSelected:!0}]}};var q,L,_;v.parameters={...v.parameters,docs:{...(q=v.parameters)==null?void 0:q.docs,source:{originalSource:`{
  args: {
    saveOnNext: action('button-click'),
    cancelApplication: action('button-click'),
    goToPreviousStep: action('button-click'),
    onStepChange: action('button-click'),
    saveOnPrevious: action('button-click'),
    stepConfig: [{
      id: 'UTENLANDSOPPHOLD_PATH',
      label: 'Utenlandsopphold',
      isSelected: false
    }, {
      id: 'HAR_BODD_I_UTLANDET_PATH',
      label: 'Har bodd i utlandet',
      isSelected: true
    }]
  }
}`,...(_=(L=v.parameters)==null?void 0:L.docs)==null?void 0:_.source}}};const me=["Default"];export{v as Default,me as __namedExportsOrder,ue as default};
