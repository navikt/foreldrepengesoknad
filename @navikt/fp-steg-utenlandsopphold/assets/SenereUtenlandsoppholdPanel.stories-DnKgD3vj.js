import{u as H,S as V,i as D,D as b,a as M,b as P,c as B,d as j,e as O,f as I,g as R,h as Y,F as $,E as z,j as K,k as g}from"./dateFormValidation-DgPVO6rJ.js";import{d as r,D as x,a as A,i as G,j as e,V as T,M as c,c as W,f,B as _,S as X,b as J,H as Q}from"./CalendarLabel-BAun8hPp.js";import{r as U}from"./index-uubelm5h.js";import{u as Z}from"./index-B254x7wL.js";import{S as ee}from"./Plus-I0E3olHf.js";import"./v4-CQkTLCs1.js";import"./index-BdzLX9oW.js";import"./index-D3eZ-H7s.js";const q=({index:t,fjernOpphold:v})=>{const n=Z(),{watch:p,trigger:S,formState:{isSubmitted:h}}=H(),u=p("utenlandsoppholdNeste12Mnd").filter((l,k)=>k!==t),a=p(`utenlandsoppholdNeste12Mnd.${t}.fom`),o=p(`utenlandsoppholdNeste12Mnd.${t}.tom`),s=r(x).toDate(),d=o?r(o).subtract(1,"days").toDate():r(A).toDate(),i=a&&G(a)?r(a).add(1,"days").toDate():r(x).toDate(),m=r(A).toDate();return e.jsxs(T,{gap:"5",align:"start",children:[e.jsx(V,{name:`utenlandsoppholdNeste12Mnd.${t}.landkode`,label:e.jsx(c,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Spørsmål.HvilketLandSkalDuBoI"}),validate:[D(n.formatMessage({id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandDuSkalBoIPåkreved"}))],children:W().map(l=>e.jsx("option",{value:l[0],children:l[1]},l[0]))}),e.jsx(b,{name:`utenlandsoppholdNeste12Mnd.${t}.fom`,label:e.jsx(c,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Fraogmed"}),minDate:s,maxDate:d,validate:[D(n.formatMessage({id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandFomDuSkalBoIPåkreved"})),M(n.formatMessage({id:"SenereUtenlandsoppholdSteg.FraOgMedDato.GyldigDato"})),P(n.formatMessage({id:"SenereUtenlandsoppholdSteg.FomErLikTom"}),o),B(n.formatMessage({id:"SenereUtenlandsoppholdSteg.Utenlandsopphold.FørTilDato"}),o),j(n.formatMessage({id:"SenereUtenlandsoppholdSteg.DateOutsideRangeFom"},{min:f(s),max:f(d)}),s,d),O(n.formatMessage({id:"SenereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"}),{date:o,isStartDate:!1},u)],onChange:()=>h&&S()}),e.jsx(b,{name:`utenlandsoppholdNeste12Mnd.${t}.tom`,label:e.jsx(c,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Tilogmed"}),minDate:i,maxDate:m,validate:[D(n.formatMessage({id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandTomDuSkalBoIPåkreved"})),M(n.formatMessage({id:"SenereUtenlandsoppholdSteg.TilOgMedDato.GyldigDato"})),P(n.formatMessage({id:"SenereUtenlandsoppholdSteg.TomErLikFom"}),a),I(n.formatMessage({id:"SenereUtenlandsoppholdSteg.Utenlandsopphold.EtterFraDato"}),a),j(n.formatMessage({id:"SenereUtenlandsoppholdSteg.DateOutsideRangeTom"},{min:f(i),max:f(m)}),i,m),O(n.formatMessage({id:"SenereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"}),{date:a,isStartDate:!0},u)],onChange:()=>h&&S(),defaultMonth:a?r(a).toDate():void 0}),t>0&&e.jsx(_,{type:"button",variant:"tertiary",size:"small",icon:e.jsx(X,{"aria-hidden":!0}),onClick:()=>v(t),children:e.jsx(c,{id:"SenereUtenlandsoppholdSteg.Knapp.SlettOpphold"})})]})};q.__docgenInfo={description:"",methods:[],displayName:"SenereUtenlandsoppholdPanel"};const F={fom:"",tom:"",landkode:""},ne={utenlandsoppholdNeste12Mnd:[F]},w=({saveOnNext:t,saveOnPrevious:v,onStepChange:n,cancelApplication:p,onContinueLater:S,goToPreviousStep:h,senereUtenlandsopphold:u,stepConfig:a})=>{const o=U.useMemo(()=>u||ne,[u]),s=R({defaultValues:o}),{fields:d,append:i,remove:m}=Y({name:"utenlandsoppholdNeste12Mnd",control:s.control}),l=U.useCallback(()=>{i(F)},[i]);return e.jsx(J,{onCancel:p,onContinueLater:S,steps:a,onStepChange:n,children:e.jsx($,{formMethods:s,onSubmit:t,children:e.jsxs(T,{gap:"10",children:[e.jsx(z,{}),e.jsxs(T,{gap:"10",align:"start",children:[d.map((k,C)=>e.jsxs(U.Fragment,{children:[e.jsx(q,{index:C,fjernOpphold:m}),d.length>1&&e.jsx(Q,{})]},k.id)),e.jsx(_,{type:"button",variant:"secondary",size:"small",icon:e.jsx(ee,{"aria-hidden":!0}),onClick:l,children:e.jsx(c,{id:"SenereUtenlandsoppholdSteg.Knapp.LeggTilLand"})})]}),e.jsx(K,{goToPreviousStep:h,saveDataOnPreviousClick:v})]})})})};w.__docgenInfo={description:"",methods:[],displayName:"SenereUtenlandsoppholdPanel",props:{senereUtenlandsopphold:{required:!1,tsType:{name:"signature",type:"object",raw:`{
    utenlandsoppholdNeste12Mnd: UtenlandsoppholdPeriode[];
}`,signature:{properties:[{key:"utenlandsoppholdNeste12Mnd",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fom: string;
    tom: string;
    landkode: string;
}`,signature:{properties:[{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!0}},{key:"landkode",value:{name:"string",required:!0}}]}}],raw:"UtenlandsoppholdPeriode[]",required:!0}}]}},description:""},saveOnNext:{required:!0,tsType:{name:"signature",type:"function",raw:"(formValues: UtenlandsoppholdSenere) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
    utenlandsoppholdNeste12Mnd: UtenlandsoppholdPeriode[];
}`,signature:{properties:[{key:"utenlandsoppholdNeste12Mnd",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fom: string;
    tom: string;
    landkode: string;
}`,signature:{properties:[{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!0}},{key:"landkode",value:{name:"string",required:!0}}]}}],raw:"UtenlandsoppholdPeriode[]",required:!0}}]}},name:"formValues"}],return:{name:"void"}}},description:""},saveOnPrevious:{required:!0,tsType:{name:"signature",type:"function",raw:"(formValues: UtenlandsoppholdSenere | undefined) => void",signature:{arguments:[{type:{name:"union",raw:"UtenlandsoppholdSenere | undefined",elements:[{name:"signature",type:"object",raw:`{
    utenlandsoppholdNeste12Mnd: UtenlandsoppholdPeriode[];
}`,signature:{properties:[{key:"utenlandsoppholdNeste12Mnd",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fom: string;
    tom: string;
    landkode: string;
}`,signature:{properties:[{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!0}},{key:"landkode",value:{name:"string",required:!0}}]}}],raw:"UtenlandsoppholdPeriode[]",required:!0}}]}},{name:"undefined"}]},name:"formValues"}],return:{name:"void"}}},description:""},onStepChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: TYPE) => void",signature:{arguments:[{type:{name:"TYPE"},name:"id"}],return:{name:"void"}}},description:""},cancelApplication:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onContinueLater:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},goToPreviousStep:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},stepConfig:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    id: TYPE;
    label: string;
    isSelected: boolean;
}`,signature:{properties:[{key:"id",value:{name:"TYPE",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"isSelected",value:{name:"boolean",required:!0}}]}}],raw:"Array<ProgressStep<TYPE>>"},description:""}}};const pe={component:w},y={args:{saveOnNext:g("button-click"),cancelApplication:g("button-click"),goToPreviousStep:g("button-click"),onStepChange:g("button-click"),saveOnPrevious:g("button-click"),stepConfig:[{id:"UTENLANDSOPPHOLD_PATH",label:"Utenlandsopphold",isSelected:!1},{id:"SKAL_BO_I_UTLANDET_PATH",label:"Skal bo i utlandet",isSelected:!0}]}};var N,L,E;y.parameters={...y.parameters,docs:{...(N=y.parameters)==null?void 0:N.docs,source:{originalSource:`{
  args: {
    saveOnNext: action('button-click'),
    cancelApplication: action('button-click'),
    goToPreviousStep: action('button-click'),
    onStepChange: action('button-click'),
    saveOnPrevious: action('button-click'),
    stepConfig: [{
      id: 'UTENLANDSOPPHOLD_PATH',
      label: 'Utenlandsopphold',
      isSelected: false
    }, {
      id: 'SKAL_BO_I_UTLANDET_PATH',
      label: 'Skal bo i utlandet',
      isSelected: true
    }]
  }
}`,...(E=(L=y.parameters)==null?void 0:L.docs)==null?void 0:E.source}}};const ue=["Default"];export{y as Default,ue as __namedExportsOrder,pe as default};
