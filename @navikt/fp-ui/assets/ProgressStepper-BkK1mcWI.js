import{j as y}from"./jsx-runtime-Cw0GR0a5.js";import{r as m,R as s}from"./index-CTjT7uj6.js";import{H as j,V as P}from"./VStack-zuVnKrSn.js";import{L as S,B as N,H as I}from"./Label-Ckh0qRPn.js";import{c as C,B as k}from"./Button-CbBKC4g_.js";import{u as T}from"./useControllableState-CZwrAZhD.js";import{c as g,u as $}from"./useId-BGzI-o9Y.js";import{c as x}from"./create-context-DOtOKOIE.js";import{S as E}from"./BasePrimitive-BIOAorSf.js";import{u as R}from"./i18n.context-Dt06VSrd.js";import{S as z}from"./ChevronDown-Cwt6cPhU.js";var M=function(t,o){var n={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&o.indexOf(e)<0&&(n[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(t);r<e.length;r++)o.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(n[e[r]]=t[e[r]]);return n};const L=m.forwardRef((t,o)=>{var{size:n="medium",value:e=0,valueMax:r=100,"aria-labelledby":i,"aria-label":l,className:p,simulated:a}=t,c=M(t,["size","value","valueMax","aria-labelledby","aria-label","className","simulated"]);const u=100-Math.round(e)/r*100,d=m.useRef();return d.current=a==null?void 0:a.onTimeout,s.useEffect(()=>{if(a!=null&&a.seconds&&d.current){const f=setTimeout(d.current,a.seconds*1e3);return()=>clearTimeout(f)}},[a==null?void 0:a.seconds]),s.createElement("div",Object.assign({ref:o,className:g("navds-progress-bar",`navds-progress-bar--${n}`,p),"aria-valuemax":a!=null&&a.seconds?0:Math.round(r),"aria-valuenow":a!=null&&a.seconds?0:Math.round(e),"aria-valuetext":a!=null&&a.seconds?`Fremdrift kan ikke beregnes, antatt tid er: ${a==null?void 0:a.seconds} sekunder`:`${Math.round(e)} av ${Math.round(r)}`,role:"progressbar","aria-labelledby":i,"aria-label":l},c),s.createElement("div",{className:g("navds-progress-bar__foreground",{"navds-progress-bar__foreground--indeterminate":Number.isInteger(a==null?void 0:a.seconds)}),style:{"--__ac-progress-bar-simulated":Number.isInteger(a==null?void 0:a.seconds)?`${a==null?void 0:a.seconds}s`:void 0,"--__ac-progress-bar-translate":`-${u}%`}}))}),[B,q]=x({hookName:"useStepperContext",providerName:"StepperContextProvider",name:"StepperContext",errorMessage:"<Stepper.Step> has to be used within <Stepper>"});var H=function(t,o){var n={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&o.indexOf(e)<0&&(n[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(t);r<e.length;r++)o.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(n[e[r]]=t[e[r]]);return n};const A=m.forwardRef((t,o)=>{var{className:n,children:e,as:r="a",completed:i=!1,interactive:l,onClick:p}=t,a=H(t,["className","children","as","completed","interactive","onClick"]);const c=q(),{activeStep:u}=c,d=l??(c==null?void 0:c.interactive),f=d?r:"div",v=()=>{d&&c.onStepChange(c.index+1)};return s.createElement(f,Object.assign({},a,{"aria-current":u===c.index?"step":void 0,ref:o,className:g("navds-stepper__step",n,{"navds-stepper__step--active":u===c.index,"navds-stepper__step--behind":u>c.index,"navds-stepper__step--non-interactive":!d,"navds-stepper__step--completed":i}),onClick:C(p,v)}),i?s.createElement("span",{className:"navds-stepper__circle navds-stepper__circle--success"},s.createElement("svg",{width:"14",height:"10",viewBox:"0 0 14 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"presentation","aria-hidden":!0},s.createElement("path",{d:"M4.93563 6.41478L11.3755 0.404669C11.9796 -0.160351 12.9294 -0.130672 13.4959 0.47478C14.0624 1.08027 14.0299 2.03007 13.4249 2.59621L5.92151 9.59934C5.64138 9.85904 5.27598 10 4.90064 10C4.5069 10 4.12756 9.84621 3.83953 9.56111L1.33953 7.06111C0.75401 6.47558 0.75401 5.52542 1.33953 4.93989C1.92506 4.35437 2.87522 4.35437 3.46075 4.93989L4.93563 6.41478Z",fill:"currentColor"}))):s.createElement(S,{className:"navds-stepper__circle",as:"span","aria-hidden":"true"},c.index+1),s.createElement(S,{as:"span",className:"navds-stepper__content"},e))});var V=function(t,o){var n={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&o.indexOf(e)<0&&(n[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(t);r<e.length;r++)o.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(n[e[r]]=t[e[r]]);return n};const h=m.forwardRef((t,o)=>{var{children:n,className:e,activeStep:r,orientation:i="vertical",onStepChange:l=()=>{},interactive:p=!0}=t,a=V(t,["children","className","activeStep","orientation","onStepChange","interactive"]);return r=r-1,s.createElement("ol",Object.assign({},a,{ref:o,className:g("navds-stepper",i==="horizontal"?"navds-stepper--horizontal":"",e)}),s.Children.map(n,(c,u)=>{var d,f,v;const O=s.isValidElement(c)?c.props:{};return s.createElement("li",{className:g("navds-stepper__item",{"navds-stepper__item--behind":r>u,"navds-stepper__item--completed":O.completed,"navds-stepper__item--non-interactive":(d=O.interactive)!==null&&d!==void 0?d:p}),key:u+((v=(f=n==null?void 0:n.toString)===null||f===void 0?void 0:f.call(n))!==null&&v!==void 0?v:"")},s.createElement("span",{className:"navds-stepper__line navds-stepper__line--1"}),s.createElement(B,{interactive:p,activeStep:r,lastIndex:s.Children.count(n),index:u,onStepChange:l,orientation:i},c),s.createElement("span",{className:"navds-stepper__line navds-stepper__line--2"}))}))});h.Step=A;const[Y,w]=x({name:"CollapsibleContext",errorMessage:"<Collapsible.Trigger> and <Collapsible.Content> must be used within a <Collapsible>"});var F=function(t,o){var n={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&o.indexOf(e)<0&&(n[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(t);r<e.length;r++)o.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(n[e[r]]=t[e[r]]);return n};const D=m.forwardRef((t,o)=>{var{children:n,asChild:e}=t,r=F(t,["children","asChild"]);const i=w(),l=e?E:"div";return s.createElement(l,Object.assign({ref:o},r,{"data-state":i.state,hidden:!i.open,"aria-controls":i.open?i.triggerId:void 0,id:i.contentId}),i.lazy||i.open?n:null)});var Z=function(t,o){var n={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&o.indexOf(e)<0&&(n[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(t);r<e.length;r++)o.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(n[e[r]]=t[e[r]]);return n};const G=m.forwardRef((t,o)=>{var{children:n,asChild:e,onClick:r}=t,i=Z(t,["children","asChild","onClick"]);const l=w(),p=e?E:"button";return s.createElement(p,Object.assign({ref:o,type:"button","data-state":l.state,onClick:C(r,l.onOpenToggle),"aria-expanded":l.open},i,{id:l.triggerId,"aria-controls":l.open?l.contentId:void 0}),n)});var J=function(t,o){var n={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&o.indexOf(e)<0&&(n[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(t);r<e.length;r++)o.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(n[e[r]]=t[e[r]]);return n};const b=m.forwardRef((t,o)=>{var{children:n,open:e,defaultOpen:r=!1,onOpenChange:i,lazy:l=!1}=t,p=J(t,["children","open","defaultOpen","onOpenChange","lazy"]);const[a,c]=T({value:e,defaultValue:r,onChange:i}),u=$(),d=a?"open":"closed";return s.createElement(Y,{open:a,onOpenToggle:m.useCallback(()=>c(f=>!f),[c]),contentId:`collapsible-content-${u}`,triggerId:`collapsible-trigger-${u}`,lazy:l,state:d},s.createElement("div",Object.assign({ref:o,"data-state":d},p),n))});b.Trigger=G;b.Content=D;var K=function(t,o){var n={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&o.indexOf(e)<0&&(n[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(t);r<e.length;r++)o.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(t,e[r])&&(n[e[r]]=t[e[r]]);return n};const _=m.forwardRef((t,o)=>{var{totalSteps:n,activeStep:e,open:r,onOpenChange:i,children:l,onStepChange:p,interactiveSteps:a,translations:c}=t,u=K(t,["totalSteps","activeStep","open","onOpenChange","children","onStepChange","interactiveSteps","translations"]);const d=R("FormProgress",c);return s.createElement("div",Object.assign({ref:o},u),s.createElement(L,{"aria-hidden":!0,value:e,valueMax:n,className:"navds-form-progress__bar"}),s.createElement(b,{lazy:!0,open:r,onOpenChange:i},s.createElement(j,{justify:"space-between",align:"center"},s.createElement(N,{as:"span"},d("step",{replacements:{activeStep:e,totalSteps:n}})),s.createElement(b.Trigger,{asChild:!0,"aria-expanded":void 0},s.createElement(k,{variant:"tertiary",size:"small",className:"navds-form-progress__button",icon:s.createElement(z,{"aria-hidden":!0})},s.createElement("span",{className:"navds-form-progress__btn-txt-hide"},d("hideAllSteps")),s.createElement("span",{className:"navds-form-progress__btn-txt-show"},d("showAllSteps"))))),s.createElement(b.Content,{className:"navds-form-progress__collapsible"},s.createElement("div",{className:"navds-form-progress__collapsible-content"},s.createElement("div",{className:"navds-form-progress__stepper"},s.createElement(h,{activeStep:e,onStepChange:p,interactive:a},l))))))});_.Step=h.Step;h.Step;const Q=({steps:t,onStepChange:o,hideHeader:n=!1})=>{const e=t.findIndex(l=>l.isSelected),[r,i]=m.useState(e+1);if(e===-1)throw new Error("No selected step in step-config");return y.jsxs(P,{gap:"4",children:[!n&&y.jsx(I,{tabIndex:-1,size:"medium",level:"2",children:t[e].label}),y.jsx(_,{totalSteps:t.length,activeStep:r,onStepChange:l=>{i(l),o&&o(t[l-1].id)},interactiveSteps:!!o,children:t.map((l,p)=>y.jsx(_.Step,{href:"#",interactive:o&&p<e,children:l.label},l.id))})]})};Q.__docgenInfo={description:"",methods:[],displayName:"ProgressStepper",props:{steps:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    id: TYPE;
    label: string;
    isSelected: boolean;
}`,signature:{properties:[{key:"id",value:{name:"TYPE",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"isSelected",value:{name:"boolean",required:!0}}]}}],raw:"Array<ProgressStep<TYPE>>"},description:""},onStepChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: TYPE) => void",signature:{arguments:[{type:{name:"TYPE"},name:"id"}],return:{name:"void"}}},description:""},hideHeader:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};export{Q as P};
