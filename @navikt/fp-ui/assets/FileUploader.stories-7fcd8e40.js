import{j as l}from"./jsx-runtime-ffb262ed.js";import{r as s,R as W}from"./index-76fb7be0.js";import{F as g,U as ee}from"./UiIntlProvider-cfc5b246.js";import{g as te}from"./_commonjsHelpers-de833af9.js";import{u as ae}from"./index-ff53cee2.js";import{b as ne}from"./dateUtils-2a257382.js";import"./dates-3338231f.js";import{u as Z}from"./nn_NO-719bf87a.js";import{B as le,L as re}from"./Button-db47fe0f.js";import{X as se}from"./XMark-5e42b672.js";import{H as ie}from"./HStack-1aab31df.js";import{V as F}from"./VStack-1f325cf9.js";import{L as oe}from"./Link-5f90fd81.js";import{A as de}from"./Alert-d2d04bae.js";import"./provider-595edeb0.js";import"./util-dafe5a09.js";import"./composeEventHandlers-dd2474b2.js";import"./Stack-730f96a9.js";import"./BodyLong-a5f7689e.js";var ce=globalThis&&globalThis.__rest||function(e,a){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)a.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(n[t[r]]=e[t[r]]);return n};const ue=s.forwardRef((e,a)=>{var{title:n,titleId:t}=e,r=ce(e,["title","titleId"]);let o=Z();return o=n?t||"title-"+o:void 0,s.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:a,"aria-labelledby":o},r),n?s.createElement("title",{id:o},n):null,s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.25 4.5c0-.69.56-1.25 1.25-1.25H14a.75.75 0 0 1 .53.22l4 4c.141.14.22.331.22.53v11.5c0 .69-.56 1.25-1.25 1.25h-11c-.69 0-1.25-.56-1.25-1.25v-15Zm9.25 4.25c-.69 0-1.25-.56-1.25-1.25V4.75h-6.5v14.5h10.5V8.75H14.5Zm.25-2.94 1.44 1.44h-1.44V5.81Zm-.22 7.22a.75.75 0 1 0-1.06-1.06l-1.97 1.97-.97-.97a.75.75 0 1 0-1.06 1.06l1.5 1.5a.75.75 0 0 0 1.06 0l2.5-2.5Z",fill:"currentColor"}))}),pe=ue;var Ee=globalThis&&globalThis.__rest||function(e,a){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)a.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(n[t[r]]=e[t[r]]);return n};const me=s.forwardRef((e,a)=>{var{title:n,titleId:t}=e,r=Ee(e,["title","titleId"]);let o=Z();return o=n?t||"title-"+o:void 0,s.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:a,"aria-labelledby":o},r),n?s.createElement("title",{id:o},n):null,s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.97 9.03a.75.75 0 0 0 1.06 0l3.22-3.22v8.69a.75.75 0 0 0 1.5 0V5.81l3.22 3.22a.75.75 0 1 0 1.06-1.06l-4.5-4.5a.75.75 0 0 0-1.06 0l-4.5 4.5a.75.75 0 0 0 0 1.06ZM4.75 15.5a.75.75 0 0 0-1.5 0V19c0 .966.784 1.75 1.75 1.75h14A1.75 1.75 0 0 0 20.75 19v-3.5a.75.75 0 0 0-1.5 0V19a.25.25 0 0 1-.25.25H5a.25.25 0 0 1-.25-.25v-3.5Z",fill:"currentColor"}))}),fe=me,Ie=()=>W.createElement("div",{className:"navds-stack__spacer"});var L=(e=>(e.DEPRECATED_TERMINBEKREFTELSE="I000062",e.TERMINBEKREFTELSE="I000141",e.OMSORGSOVERTAKELSE="I000042",e.DEPRECATED_BEKREFTELSE_DELTAR_KVALIFISERINGSPROGRAM="I000051",e.BEKREFTELSE_DELTAR_KVALIFISERINGSPROGRAM="I000133",e.BEKREFTELSE_FRA_ARBEIDSGIVER="I000065",e.BEKREFTELSE_FRA_STUDIESTED="I000061",e.BEKREFTELSE_PÅ_AVTALT_FERIE="I000036",e.DOK_AV_ALENEOMSORG="I000110",e.DEPRECATED_DOK_BEGRUNNELSE_SØKE_TILBAKE_I_TID="I000111",e.DOK_BEGRUNNELSE_SØKE_TILBAKE_I_TID="I000118",e.DOK_DELTAKELSE_I_INTRODUKSJONSPROGRAMMET="I000112",e.DOK_INNLEGGELSE="I000037",e.DOK_INNLEGGELSE_BARN="I000124",e.DOK_INNLEGGELSE_MOR="I000120",e.DOK_INNLEGGELSE_FAR="I000122",e.DOK_SYKDOM_MOR="I000121",e.DOK_SYKDOM_FAR="I000123",e.DOK_UTDANNING_OG_ARBEID_MOR="I000130",e.DOK_UTDANNING_MOR="I000131",e.DOK_ARBEID_MOR="I000132",e.DOK_MILITÆR_SILVIL_TJENESTE="I000039",e.DOK_MORS_UTDANNING_ARBEID_SYKDOM="I000038",e.DOK_OVERFØRING_FOR_SYK="I000023",e.ETTERLØNN_ELLER_SLUTTVEDERLAG="I000044",e.FØDSELSATTEST="I000063",e.INNTEKTSOPPLYSNINGER_FRILANS_ELLER_SELVSTENDIG="I000007",e.SKJEMA_FOR_TILRETTELEGGING_OG_OMPLASSERING="I000109",e.DEPRECATED_TILBAKEBETALING="I000114",e.TILBAKEBETALING="I000119",e.HV_ØVELSE="I000116",e.NAV_TILTAK="I000117",e.RESULTATREGNSKAP="I000032",e.DEPRECATED_KOPI_SKATTEMELDING="I000066",e.SKATTEMELDING="I000140",e.ANNET="I000060",e))(L||{}),N=(e=>(e.OMSORGSOVERTAKELSE="omsorgsovertakelse",e.ADOPSJONSVEDTAK="adopsjonsvedtak",e.TERMINBEKREFTELSE="terminbekreftelse",e.FØDSELSATTEST="fødselsattest",e.ANNEN_INNTEKT="anneninntektDokumentasjon",e.UTSETTELSE_SYKDOM="utsettelseSykdomUttaksplan",e.MORS_AKTIVITET_DOKUMENTASJON="morsaktivitetdokumentasjon",e.OVERFØRING_KVOTE="dokumentasjonOverføringAvKvote",e.ALENEOMSORG="dokumentasjonAvAleneomsorg",e.HV_ØVELSE="hvØvelse",e.NAV_TILTAK="navTiltak",e.TILBAKEBETALING="tilbakebetaling",e.TILRETTELEGGING="tilrettelegging",e))(N||{}),y={exports:{}};/*!
 * bytes
 * Copyright(c) 2012-2014 TJ Holowaychuk
 * Copyright(c) 2015 Jed Watson
 * MIT Licensed
 */y.exports=ve;y.exports.format=Y;y.exports.parse=H;var ge=/\B(?=(\d{3})+(?!\d))/g,_e=/(?:\.0*|(\.[^0]+)0+)$/,I={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:Math.pow(1024,4),pb:Math.pow(1024,5)},Ae=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i;function ve(e,a){return typeof e=="string"?H(e):typeof e=="number"?Y(e,a):null}function Y(e,a){if(!Number.isFinite(e))return null;var n=Math.abs(e),t=a&&a.thousandsSeparator||"",r=a&&a.unitSeparator||"",o=a&&a.decimalPlaces!==void 0?a.decimalPlaces:2,d=!!(a&&a.fixedDecimals),i=a&&a.unit||"";(!i||!I[i.toLowerCase()])&&(n>=I.pb?i="PB":n>=I.tb?i="TB":n>=I.gb?i="GB":n>=I.mb?i="MB":n>=I.kb?i="KB":i="B");var p=e/I[i.toLowerCase()],u=p.toFixed(o);return d||(u=u.replace(_e,"$1")),t&&(u=u.split(".").map(function(_,b){return b===0?_.replace(ge,t):_}).join(".")),u+r+i}function H(e){if(typeof e=="number"&&!isNaN(e))return e;if(typeof e!="string")return null;var a=Ae.exec(e),n,t="b";return a?(n=parseFloat(a[1]),t=a[4].toLowerCase()):(n=parseInt(e,10),t="b"),isNaN(n)?null:Math.floor(I[t]*n)}var he=y.exports;const Te=te(he),f=()=>Math.floor((1+Math.random())*65536).toString().substring(1),Oe=()=>`${f()}${f()}-${f()}-${f()}-${f()}-${f()}${f()}${f()}`,Se=e=>Te(e,{unitSeparator:" ",thousandsSeparator:" ",decimalPlaces:1,fixedDecimals:!1}),Re=()=>"V".concat(Oe().replace(/-/g,"")),Le=(e,a,n)=>({id:Re(),file:e,filename:e.name,filesize:e.size,uploaded:!1,pending:!1,type:a,skjemanummer:n});const x=({multiple:e,accept:a,onFilesSelect:n,hasUplodedAttachements:t})=>{const r=ne("fileInput"),o=s.useCallback(p=>{if(p.target.files){const u=Array.from(p.target.files);n(u),p.target.value=""}},[n]),d=s.useRef(null),i=s.useCallback(()=>{d.current&&d.current.click()},[]);return l.jsxs(l.Fragment,{children:[l.jsx("input",{ref:d,className:r.element("input"),type:"file",accept:a,onChange:p=>o(p),multiple:e===!0,"data-testid":"file-upload"}),l.jsxs(le,{className:r.element("upload_button"),variant:t?"secondary":"primary",type:"button",onClick:i,icon:l.jsx(fe,{"aria-hidden":!0}),iconPosition:"right",children:[t&&l.jsx(g,{id:"FileInput.Vedlegg.Lastoppknapp.Flere"}),!t&&l.jsx(g,{id:"FileInput.Vedlegg.Lastoppknapp"})]})]})};try{x.displayName="FileInput",x.__docgenInfo={description:"",displayName:"FileInput",props:{onFilesSelect:{defaultValue:null,description:"",name:"onFilesSelect",required:!0,type:{name:"(files: File[]) => void"}},multiple:{defaultValue:null,description:"",name:"multiple",required:!0,type:{name:"boolean"}},accept:{defaultValue:null,description:"",name:"accept",required:!0,type:{name:"string"}},hasUplodedAttachements:{defaultValue:null,description:"",name:"hasUplodedAttachements",required:!0,type:{name:"boolean"}}}}}catch{}const V=({attachment:e,showFileSize:a,onDelete:n})=>{const t=ae();return l.jsx("div",{className:"attachmentPanel",children:l.jsxs(ie,{gap:"4",children:[e.pending&&l.jsx(re,{type:"S"}),!e.pending&&l.jsx(pe,{width:24,height:24,"aria-hidden":!0}),l.jsxs(F,{gap:"1",children:[e.url?l.jsx(oe,{href:e.url,target:"_blank",children:e.filename}):l.jsx("span",{children:e.filename}),a&&l.jsx("div",{children:Se(e.filesize)})]}),n&&l.jsxs(l.Fragment,{children:[l.jsx(Ie,{}),l.jsx(se,{tabIndex:0,onClick:()=>n(e),onKeyDown:r=>{(r.code==="Space"||r.code==="Enter")&&n(e)},height:24,width:24,cursor:"pointer","aria-label":t.formatMessage({id:"Attachment.Vedlegg.Slett"},{navn:e.filename})})]})]})})};try{V.displayName="AttachmentInfo",V.__docgenInfo={description:"",displayName:"AttachmentInfo",props:{attachment:{defaultValue:null,description:"",name:"attachment",required:!0,type:{name:"Attachment"}},showFileSize:{defaultValue:null,description:"",name:"showFileSize",required:!1,type:{name:"boolean"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!1,type:{name:"((file: Attachment) => void)"}}}}}catch{}const K=e=>{const{attachments:a,showFileSize:n,onDelete:t}=e;return l.jsx(l.Fragment,{children:a.length>0&&l.jsx(F,{gap:"2",children:a.map(r=>l.jsx(s.Fragment,{children:l.jsx(V,{attachment:r,onDelete:t,showFileSize:n})},r.id))})})};try{K.displayName="AttachmentList",K.__docgenInfo={description:"",displayName:"AttachmentList",props:{attachments:{defaultValue:null,description:"",name:"attachments",required:!0,type:{name:"Attachment[]"}},showFileSize:{defaultValue:null,description:"",name:"showFileSize",required:!1,type:{name:"boolean"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!1,type:{name:"((file: Attachment) => void)"}}}}}catch{}var m=(e=>(e.GENERAL="GENERAL",e.TIMEOUT="TIMEOUT",e.VALID_EXTENSION="VALID_EXTENSION",e.MAX_SIZE="MAX_SIZE",e))(m||{});const Ne=16777,M=({failedAttachment:e,onDelete:a})=>l.jsxs(de,{variant:"warning",closeButton:!0,onClose:()=>a(e),children:[e.error===m.GENERAL&&l.jsx(g,{id:"FailedAttachment.Vedlegg.Feilmelding.Opplasting.Feilet",values:{filename:e.filename}}),e.error===m.TIMEOUT&&l.jsx(g,{id:"FailedAttachment.Vedlegg.Feilmelding.Timeout",values:{filename:e.filename}}),e.error===m.MAX_SIZE&&l.jsx(g,{id:"FailedAttachment.Vedlegg.Feilmelding.Ugyldig.Størrelse",values:{filename:e.filename,maxStørrelse:Ne}}),e.error===m.VALID_EXTENSION&&l.jsx(g,{id:"FailedAttachment.Vedlegg.Feilmelding.Ugyldig.Type",values:{filename:e.filename}})]});try{M.displayName="FailedAttachment",M.__docgenInfo={description:"",displayName:"FailedAttachment",props:{failedAttachment:{defaultValue:null,description:"",name:"failedAttachment",required:!0,type:{name:"Attachment"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!0,type:{name:"(file: Attachment) => void"}}}}}catch{}const G=e=>{const{failedAttachments:a,onDelete:n}=e;return l.jsx(l.Fragment,{children:a.length>0&&l.jsx(F,{gap:"2",children:a.map(t=>l.jsx(s.Fragment,{children:l.jsx(M,{failedAttachment:t,onDelete:n})},t.id))})})};try{G.displayName="FailedAttachmentList",G.__docgenInfo={description:"",displayName:"FailedAttachmentList",props:{failedAttachments:{defaultValue:null,description:"",name:"failedAttachments",required:!0,type:{name:"Attachment[]"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!0,type:{name:"(file: Attachment) => void"}}}}}catch{}const J=[".pdf",".jpeg",".jpg",".png"],Fe=16777,ye=.0009765625,be=(e,a,n)=>{const t=Le(e,a,n);return t.pending=!0,t},De=e=>{const a=e.split(".").pop();return a?J.includes(`.${a.toLowerCase()}`):!1},xe=e=>e*ye<=Fe,Ve=async(e,a)=>{var n;if(!De(e.file.name)){e.pending=!1,e.error=m.VALID_EXTENSION;return}if(!xe(e.filesize)){e.pending=!1,e.error=m.MAX_SIZE;return}try{const t=await a(e);e.pending=!1,e.url=t.headers.location,e.uploaded=!0,e.uuid=t.data}catch(t){e.pending=!1,((n=t==null?void 0:t.response)==null?void 0:n.status)===408?e.error=m.TIMEOUT:e.error=m.GENERAL}},Ke=[],B=({existingAttachments:e=Ke,updateAttachments:a,attachmentType:n,skjemanummer:t,saveAttachment:r,multiple:o=!0})=>{const[d,i]=s.useState(e);s.useEffect(()=>{const E=d.filter(c=>!c.error&&c.pending===!1),A=d.some(c=>!c.error&&c.pending===!0);a(E,A)},[d]);const p=s.useCallback(E=>{const A=async v=>{for(const O of v)await Ve(O,r),i(D=>D.map(S=>S.filename===O.filename?O:S))},c=E.map(v=>be(v,n,t));i(v=>v.filter(D=>!c.some(S=>S.filename===D.filename)).concat(c)),A(c)},[n,t,r]),u=s.useCallback(E=>{i(A=>A.filter(c=>c.filename!==E.filename))},[]),_=s.useMemo(()=>d.filter(E=>!E.error),[d]),b=s.useMemo(()=>d.filter(E=>!!E.error),[d]);return l.jsx(ee,{children:l.jsxs(F,{gap:"6",children:[l.jsx(K,{attachments:_,showFileSize:!0,onDelete:u}),l.jsx(x,{accept:J.join(", "),onFilesSelect:p,hasUplodedAttachements:_.length>0,multiple:o}),l.jsx(G,{failedAttachments:b,onDelete:u})]})})},Q=B;try{B.displayName="FileUploader",B.__docgenInfo={description:"",displayName:"FileUploader",props:{updateAttachments:{defaultValue:null,description:"",name:"updateAttachments",required:!0,type:{name:"(attachments: Attachment[], hasPendingUploads: boolean) => void"}},attachmentType:{defaultValue:null,description:"",name:"attachmentType",required:!0,type:{name:"enum",value:[{value:'"omsorgsovertakelse"'},{value:'"adopsjonsvedtak"'},{value:'"terminbekreftelse"'},{value:'"fødselsattest"'},{value:'"anneninntektDokumentasjon"'},{value:'"utsettelseSykdomUttaksplan"'},{value:'"morsaktivitetdokumentasjon"'},{value:'"dokumentasjonOverføringAvKvote"'},{value:'"dokumentasjonAvAleneomsorg"'},{value:'"hvØvelse"'},{value:'"navTiltak"'},{value:'"tilbakebetaling"'},{value:'"tilrettelegging"'}]}},skjemanummer:{defaultValue:null,description:"",name:"skjemanummer",required:!0,type:{name:"enum",value:[{value:'"I000062"'},{value:'"I000141"'},{value:'"I000042"'},{value:'"I000051"'},{value:'"I000133"'},{value:'"I000065"'},{value:'"I000061"'},{value:'"I000036"'},{value:'"I000110"'},{value:'"I000111"'},{value:'"I000118"'},{value:'"I000112"'},{value:'"I000037"'},{value:'"I000124"'},{value:'"I000120"'},{value:'"I000122"'},{value:'"I000121"'},{value:'"I000123"'},{value:'"I000130"'},{value:'"I000131"'},{value:'"I000132"'},{value:'"I000039"'},{value:'"I000038"'},{value:'"I000023"'},{value:'"I000044"'},{value:'"I000063"'},{value:'"I000007"'},{value:'"I000109"'},{value:'"I000114"'},{value:'"I000119"'},{value:'"I000116"'},{value:'"I000117"'},{value:'"I000032"'},{value:'"I000066"'},{value:'"I000140"'},{value:'"I000060"'}]}},existingAttachments:{defaultValue:{value:"[] as Attachment[]"},description:"",name:"existingAttachments",required:!1,type:{name:"Attachment[]"}},saveAttachment:{defaultValue:null,description:"",name:"saveAttachment",required:!0,type:{name:"SaveAttachment"}},multiple:{defaultValue:{value:"true"},description:"",name:"multiple",required:!1,type:{name:"boolean"}}}}}catch{}const et={title:"FileUploader",component:Q},j=({saveAttachment:e,existingAttachments:a})=>l.jsx(Q,{attachmentType:N.OMSORGSOVERTAKELSE,skjemanummer:L.OMSORGSOVERTAKELSE,saveAttachment:e,existingAttachments:a,updateAttachments:()=>{}}),h=j.bind({});h.args={existingAttachments:[{id:"1",filename:"Dette er en fil som er lastet opp.jpg",filesize:234,file:{},pending:!1,uploaded:!0,type:N.TERMINBEKREFTELSE,skjemanummer:L.TERMINBEKREFTELSE},{id:"2",filename:"Dette er en fil som holder på å bli lastet opp.jpg",filesize:2344,file:{},pending:!0,uploaded:!1,type:N.TERMINBEKREFTELSE,skjemanummer:L.TERMINBEKREFTELSE}]};const T=j.bind({});T.args={saveAttachment:()=>Promise.resolve({headers:{location:""},data:"test"})};const R=j.bind({});var w,P,U;h.parameters={...h.parameters,docs:{...(w=h.parameters)==null?void 0:w.docs,source:{originalSource:`({
  saveAttachment,
  existingAttachments
}) => {
  return <FileUploader attachmentType={AttachmentType.OMSORGSOVERTAKELSE} skjemanummer={Skjemanummer.OMSORGSOVERTAKELSE} saveAttachment={saveAttachment} existingAttachments={existingAttachments} updateAttachments={() => undefined} />;
}`,...(U=(P=h.parameters)==null?void 0:P.docs)==null?void 0:U.source}}};var k,C,q;T.parameters={...T.parameters,docs:{...(k=T.parameters)==null?void 0:k.docs,source:{originalSource:`({
  saveAttachment,
  existingAttachments
}) => {
  return <FileUploader attachmentType={AttachmentType.OMSORGSOVERTAKELSE} skjemanummer={Skjemanummer.OMSORGSOVERTAKELSE} saveAttachment={saveAttachment} existingAttachments={existingAttachments} updateAttachments={() => undefined} />;
}`,...(q=(C=T.parameters)==null?void 0:C.docs)==null?void 0:q.source}}};var $,z,X;R.parameters={...R.parameters,docs:{...($=R.parameters)==null?void 0:$.docs,source:{originalSource:`({
  saveAttachment,
  existingAttachments
}) => {
  return <FileUploader attachmentType={AttachmentType.OMSORGSOVERTAKELSE} skjemanummer={Skjemanummer.OMSORGSOVERTAKELSE} saveAttachment={saveAttachment} existingAttachments={existingAttachments} updateAttachments={() => undefined} />;
}`,...(X=(z=R.parameters)==null?void 0:z.docs)==null?void 0:X.source}}};const tt=["VisEksisterendeVedlegg","OpplastingOk","OpplastingFeiler"];export{R as OpplastingFeiler,T as OpplastingOk,h as VisEksisterendeVedlegg,tt as __namedExportsOrder,et as default};
