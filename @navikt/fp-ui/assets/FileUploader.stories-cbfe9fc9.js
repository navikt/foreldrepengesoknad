import{j as l}from"./jsx-runtime-ffb262ed.js";import{r as i,R as ee}from"./index-76fb7be0.js";import{F as A,U as te}from"./UiIntlProvider-cfc5b246.js";import{g as ae}from"./_commonjsHelpers-de833af9.js";import{u as ne}from"./index-ff53cee2.js";import{b as le}from"./dateUtils-2a257382.js";import"./dates-3338231f.js";import{B as re,L as se}from"./Button-38de7c75.js";import{u as H}from"./nn_NO-719bf87a.js";import{H as ie,V as x}from"./VStack-e6d19ed6.js";import{L as oe}from"./Link-d88ab007.js";import{X as de}from"./XMark-5e42b672.js";import{A as ce}from"./Alert-2f866ccd.js";import{H as ue}from"./Label-46ef80e6.js";import"./provider-595edeb0.js";import"./composeEventHandlers-4d33bf7d.js";var pe=globalThis&&globalThis.__rest||function(e,a){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)a.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(n[t[r]]=e[t[r]]);return n};const Ee=i.forwardRef((e,a)=>{var{title:n,titleId:t}=e,r=pe(e,["title","titleId"]);let o=H();return o=n?t||"title-"+o:void 0,i.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:a,"aria-labelledby":o},r),n?i.createElement("title",{id:o},n):null,i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.25 4.5c0-.69.56-1.25 1.25-1.25H14a.75.75 0 0 1 .53.22l4 4c.141.14.22.331.22.53v11.5c0 .69-.56 1.25-1.25 1.25h-11c-.69 0-1.25-.56-1.25-1.25v-15Zm9.25 4.25c-.69 0-1.25-.56-1.25-1.25V4.75h-6.5v14.5h10.5V8.75H14.5Zm.25-2.94 1.44 1.44h-1.44V5.81Zm-.22 7.22a.75.75 0 1 0-1.06-1.06l-1.97 1.97-.97-.97a.75.75 0 1 0-1.06 1.06l1.5 1.5a.75.75 0 0 0 1.06 0l2.5-2.5Z",fill:"currentColor"}))}),me=Ee;var fe=globalThis&&globalThis.__rest||function(e,a){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)a.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(n[t[r]]=e[t[r]]);return n};const Ie=i.forwardRef((e,a)=>{var{title:n,titleId:t}=e,r=fe(e,["title","titleId"]);let o=H();return o=n?t||"title-"+o:void 0,i.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:a,"aria-labelledby":o},r),n?i.createElement("title",{id:o},n):null,i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.97 9.03a.75.75 0 0 0 1.06 0l3.22-3.22v8.69a.75.75 0 0 0 1.5 0V5.81l3.22 3.22a.75.75 0 1 0 1.06-1.06l-4.5-4.5a.75.75 0 0 0-1.06 0l-4.5 4.5a.75.75 0 0 0 0 1.06ZM4.75 15.5a.75.75 0 0 0-1.5 0V19c0 .966.784 1.75 1.75 1.75h14A1.75 1.75 0 0 0 20.75 19v-3.5a.75.75 0 0 0-1.5 0V19a.25.25 0 0 1-.25.25H5a.25.25 0 0 1-.25-.25v-3.5Z",fill:"currentColor"}))}),ge=Ie,_e=()=>ee.createElement("div",{className:"navds-stack__spacer"});var N=(e=>(e.DEPRECATED_TERMINBEKREFTELSE="I000062",e.TERMINBEKREFTELSE="I000141",e.OMSORGSOVERTAKELSE="I000042",e.DEPRECATED_BEKREFTELSE_DELTAR_KVALIFISERINGSPROGRAM="I000051",e.BEKREFTELSE_DELTAR_KVALIFISERINGSPROGRAM="I000133",e.BEKREFTELSE_FRA_ARBEIDSGIVER="I000065",e.BEKREFTELSE_FRA_STUDIESTED="I000061",e.BEKREFTELSE_PÅ_AVTALT_FERIE="I000036",e.DOK_AV_ALENEOMSORG="I000110",e.DEPRECATED_DOK_BEGRUNNELSE_SØKE_TILBAKE_I_TID="I000111",e.DOK_BEGRUNNELSE_SØKE_TILBAKE_I_TID="I000118",e.DOK_DELTAKELSE_I_INTRODUKSJONSPROGRAMMET="I000112",e.DOK_INNLEGGELSE="I000037",e.DOK_INNLEGGELSE_BARN="I000124",e.DOK_INNLEGGELSE_MOR="I000120",e.DOK_INNLEGGELSE_FAR="I000122",e.DOK_SYKDOM_MOR="I000121",e.DOK_SYKDOM_FAR="I000123",e.DOK_UTDANNING_OG_ARBEID_MOR="I000130",e.DOK_UTDANNING_MOR="I000131",e.DOK_ARBEID_MOR="I000132",e.DOK_MILITÆR_SILVIL_TJENESTE="I000039",e.DOK_MORS_UTDANNING_ARBEID_SYKDOM="I000038",e.DOK_OVERFØRING_FOR_SYK="I000023",e.ETTERLØNN_ELLER_SLUTTVEDERLAG="I000044",e.FØDSELSATTEST="I000063",e.INNTEKTSOPPLYSNINGER_FRILANS_ELLER_SELVSTENDIG="I000007",e.SKJEMA_FOR_TILRETTELEGGING_OG_OMPLASSERING="I000109",e.DEPRECATED_TILBAKEBETALING="I000114",e.TILBAKEBETALING="I000119",e.HV_ØVELSE="I000116",e.NAV_TILTAK="I000117",e.RESULTATREGNSKAP="I000032",e.DEPRECATED_KOPI_SKATTEMELDING="I000066",e.SKATTEMELDING="I000140",e.ANNET="I000060",e))(N||{}),F=(e=>(e.OMSORGSOVERTAKELSE="omsorgsovertakelse",e.ADOPSJONSVEDTAK="adopsjonsvedtak",e.TERMINBEKREFTELSE="terminbekreftelse",e.FØDSELSATTEST="fødselsattest",e.ANNEN_INNTEKT="anneninntektDokumentasjon",e.UTSETTELSE_SYKDOM="utsettelseSykdomUttaksplan",e.MORS_AKTIVITET_DOKUMENTASJON="morsaktivitetdokumentasjon",e.OVERFØRING_KVOTE="dokumentasjonOverføringAvKvote",e.ALENEOMSORG="dokumentasjonAvAleneomsorg",e.HV_ØVELSE="hvØvelse",e.NAV_TILTAK="navTiltak",e.TILBAKEBETALING="tilbakebetaling",e.TILRETTELEGGING="tilrettelegging",e))(F||{}),b={exports:{}};/*!
 * bytes
 * Copyright(c) 2012-2014 TJ Holowaychuk
 * Copyright(c) 2015 Jed Watson
 * MIT Licensed
 */b.exports=Te;b.exports.format=Z;b.exports.parse=Y;var Ae=/\B(?=(\d{3})+(?!\d))/g,he=/(?:\.0*|(\.[^0]+)0+)$/,I={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:Math.pow(1024,4),pb:Math.pow(1024,5)},ve=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i;function Te(e,a){return typeof e=="string"?Y(e):typeof e=="number"?Z(e,a):null}function Z(e,a){if(!Number.isFinite(e))return null;var n=Math.abs(e),t=a&&a.thousandsSeparator||"",r=a&&a.unitSeparator||"",o=a&&a.decimalPlaces!==void 0?a.decimalPlaces:2,p=!!(a&&a.fixedDecimals),s=a&&a.unit||"";(!s||!I[s.toLowerCase()])&&(n>=I.pb?s="PB":n>=I.tb?s="TB":n>=I.gb?s="GB":n>=I.mb?s="MB":n>=I.kb?s="KB":s="B");var c=e/I[s.toLowerCase()],E=c.toFixed(o);return p||(E=E.replace(he,"$1")),t&&(E=E.split(".").map(function(_,h){return h===0?_.replace(Ae,t):_}).join(".")),E+r+s}function Y(e){if(typeof e=="number"&&!isNaN(e))return e;if(typeof e!="string")return null;var a=ve.exec(e),n,t="b";return a?(n=parseFloat(a[1]),t=a[4].toLowerCase()):(n=parseInt(e,10),t="b"),isNaN(n)?null:Math.floor(I[t]*n)}var Se=b.exports;const Oe=ae(Se),f=()=>Math.floor((1+Math.random())*65536).toString().substring(1),Re=()=>`${f()}${f()}-${f()}-${f()}-${f()}-${f()}${f()}${f()}`,Le=e=>Oe(e,{unitSeparator:" ",thousandsSeparator:" ",decimalPlaces:1,fixedDecimals:!1}),Ne=()=>"V".concat(Re().replace(/-/g,"")),Fe=(e,a,n)=>({id:Ne(),file:e,filename:e.name,filesize:e.size,uploaded:!1,pending:!1,type:a,skjemanummer:n});const V=({multiple:e,accept:a,onFilesSelect:n,hasUplodedAttachements:t})=>{const r=le("fileInput"),o=i.useCallback(c=>{if(c.target.files){const E=Array.from(c.target.files);n(E),c.target.value=""}},[n]),p=i.useRef(null),s=i.useCallback(()=>{p.current&&p.current.click()},[]);return l.jsxs(l.Fragment,{children:[l.jsx("input",{ref:p,className:r.element("input"),type:"file",accept:a,onChange:c=>o(c),multiple:e===!0,"data-testid":"file-upload"}),l.jsxs(re,{className:r.element("upload_button"),variant:t?"secondary":"primary",type:"button",onClick:s,icon:l.jsx(ge,{"aria-hidden":!0}),iconPosition:"right",children:[t&&l.jsx(A,{id:"FileInput.Vedlegg.Lastoppknapp.Flere"}),!t&&l.jsx(A,{id:"FileInput.Vedlegg.Lastoppknapp"})]})]})};try{V.displayName="FileInput",V.__docgenInfo={description:"",displayName:"FileInput",props:{onFilesSelect:{defaultValue:null,description:"",name:"onFilesSelect",required:!0,type:{name:"(files: File[]) => void"}},multiple:{defaultValue:null,description:"",name:"multiple",required:!0,type:{name:"boolean"}},accept:{defaultValue:null,description:"",name:"accept",required:!0,type:{name:"string"}},hasUplodedAttachements:{defaultValue:null,description:"",name:"hasUplodedAttachements",required:!0,type:{name:"boolean"}}}}}catch{}const K=({attachment:e,showFileSize:a,onDelete:n})=>{const t=ne();return l.jsx("div",{className:"attachmentPanel",children:l.jsxs(ie,{gap:"4",children:[e.pending&&l.jsx(se,{type:"S"}),!e.pending&&l.jsx(me,{width:24,height:24,"aria-hidden":!0}),l.jsxs(x,{gap:"1",children:[e.url?l.jsx(oe,{href:e.url,target:"_blank",children:e.filename}):l.jsx("span",{children:e.filename}),a&&l.jsx("div",{children:Le(e.filesize)})]}),n&&l.jsxs(l.Fragment,{children:[l.jsx(_e,{}),l.jsx(de,{tabIndex:0,onClick:()=>n(e),onKeyDown:r=>{(r.code==="Space"||r.code==="Enter")&&n(e)},height:24,width:24,cursor:"pointer","aria-label":t.formatMessage({id:"Attachment.Vedlegg.Slett"},{navn:e.filename})})]})]})})};try{K.displayName="AttachmentInfo",K.__docgenInfo={description:"",displayName:"AttachmentInfo",props:{attachment:{defaultValue:null,description:"",name:"attachment",required:!0,type:{name:"Attachment"}},showFileSize:{defaultValue:null,description:"",name:"showFileSize",required:!1,type:{name:"boolean"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!1,type:{name:"((file: Attachment) => void)"}}}}}catch{}const y=e=>{const{attachments:a,showFileSize:n,onDelete:t}=e;return l.jsx(l.Fragment,{children:a.length>0&&l.jsx(x,{gap:"2",children:a.map(r=>l.jsx(i.Fragment,{children:l.jsx(K,{attachment:r,onDelete:t,showFileSize:n})},r.id))})})};try{y.displayName="AttachmentList",y.__docgenInfo={description:"",displayName:"AttachmentList",props:{attachments:{defaultValue:null,description:"",name:"attachments",required:!0,type:{name:"Attachment[]"}},showFileSize:{defaultValue:null,description:"",name:"showFileSize",required:!1,type:{name:"boolean"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!1,type:{name:"((file: Attachment) => void)"}}}}}catch{}var m=(e=>(e.GENERAL="GENERAL",e.TIMEOUT="TIMEOUT",e.VALID_EXTENSION="VALID_EXTENSION",e.MAX_SIZE="MAX_SIZE",e))(m||{});const ye=16777,M=({failedAttachment:e,onDelete:a})=>l.jsxs(ce,{variant:"warning",closeButton:!0,onClose:()=>a(e),children:[e.error===m.GENERAL&&l.jsx(A,{id:"FailedAttachment.Vedlegg.Feilmelding.Opplasting.Feilet",values:{filename:e.filename}}),e.error===m.TIMEOUT&&l.jsx(A,{id:"FailedAttachment.Vedlegg.Feilmelding.Timeout",values:{filename:e.filename}}),e.error===m.MAX_SIZE&&l.jsx(A,{id:"FailedAttachment.Vedlegg.Feilmelding.Ugyldig.Størrelse",values:{filename:e.filename,maxStørrelse:ye}}),e.error===m.VALID_EXTENSION&&l.jsx(A,{id:"FailedAttachment.Vedlegg.Feilmelding.Ugyldig.Type",values:{filename:e.filename}})]});try{M.displayName="FailedAttachment",M.__docgenInfo={description:"",displayName:"FailedAttachment",props:{failedAttachment:{defaultValue:null,description:"",name:"failedAttachment",required:!0,type:{name:"Attachment"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!0,type:{name:"(file: Attachment) => void"}}}}}catch{}const G=e=>{const{failedAttachments:a,onDelete:n}=e;return l.jsx(l.Fragment,{children:a.length>0&&l.jsx(x,{gap:"2",children:a.map(t=>l.jsx(i.Fragment,{children:l.jsx(M,{failedAttachment:t,onDelete:n})},t.id))})})};try{G.displayName="FailedAttachmentList",G.__docgenInfo={description:"",displayName:"FailedAttachmentList",props:{failedAttachments:{defaultValue:null,description:"",name:"failedAttachments",required:!0,type:{name:"Attachment[]"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!0,type:{name:"(file: Attachment) => void"}}}}}catch{}const J=[".pdf",".jpeg",".jpg",".png"],xe=16777,be=.0009765625,De=e=>[...new Set(e.map(a=>a.skjemanummer))].sort((a,n)=>a.localeCompare(n)),Ve=(e,a,n)=>{const t=Fe(e,a,n);return t.pending=!0,t},Ke=e=>{const a=e.split(".").pop();return a?J.includes(`.${a.toLowerCase()}`):!1},Me=e=>e*be<=xe,Ge=async(e,a)=>{var n;if(!Ke(e.file.name)){e.pending=!1,e.error=m.VALID_EXTENSION;return}if(!Me(e.filesize)){e.pending=!1,e.error=m.MAX_SIZE;return}try{const t=await a(e);e.pending=!1,e.url=t.headers.location,e.uploaded=!0,e.uuid=t.data}catch(t){e.pending=!1,((n=t==null?void 0:t.response)==null?void 0:n.status)===408?e.error=m.TIMEOUT:e.error=m.GENERAL}},je=[],j=({existingAttachments:e=je,updateAttachments:a,attachmentType:n,skjemanummer:t,saveAttachment:r,multiple:o=!0,skjemanummerTextMap:p})=>{const[s,c]=i.useState(e);i.useEffect(()=>{const d=s.filter(u=>!u.error&&u.pending===!1),g=s.some(u=>!u.error&&u.pending===!0);a(d,g)},[s]);const E=i.useCallback(d=>{const g=async v=>{for(const O of v)await Ge(O,r),c(D=>D.map(R=>R.filename===O.filename?O:R))},u=d.map(v=>Ve(v,n,t));c(v=>v.filter(D=>!u.some(R=>R.filename===D.filename)).concat(u)),g(u)},[n,t,r]),_=i.useCallback(d=>{c(g=>g.filter(u=>u.filename!==d.filename))},[]),h=i.useMemo(()=>s.filter(d=>!d.error),[s]),W=i.useMemo(()=>s.filter(d=>!!d.error),[s]);return l.jsx(te,{children:l.jsxs(x,{gap:"6",children:[p&&s.length>0&&l.jsx(l.Fragment,{children:De(s).map(d=>l.jsxs(l.Fragment,{children:[l.jsx(ue,{size:"small",level:"2",children:p[d]},d),l.jsx(y,{attachments:h.filter(g=>g.skjemanummer===d),showFileSize:!0,onDelete:_})]}))}),!p&&l.jsx(y,{attachments:h,showFileSize:!0,onDelete:_}),l.jsx(V,{accept:J.join(", "),onFilesSelect:E,hasUplodedAttachements:h.length>0,multiple:o}),l.jsx(G,{failedAttachments:W,onDelete:_})]})})},Q=j;try{j.displayName="FileUploader",j.__docgenInfo={description:"",displayName:"FileUploader",props:{updateAttachments:{defaultValue:null,description:"",name:"updateAttachments",required:!0,type:{name:"(attachments: Attachment[], hasPendingUploads: boolean) => void"}},attachmentType:{defaultValue:null,description:"",name:"attachmentType",required:!0,type:{name:"enum",value:[{value:'"omsorgsovertakelse"'},{value:'"adopsjonsvedtak"'},{value:'"terminbekreftelse"'},{value:'"fødselsattest"'},{value:'"anneninntektDokumentasjon"'},{value:'"utsettelseSykdomUttaksplan"'},{value:'"morsaktivitetdokumentasjon"'},{value:'"dokumentasjonOverføringAvKvote"'},{value:'"dokumentasjonAvAleneomsorg"'},{value:'"hvØvelse"'},{value:'"navTiltak"'},{value:'"tilbakebetaling"'},{value:'"tilrettelegging"'}]}},skjemanummer:{defaultValue:null,description:"",name:"skjemanummer",required:!0,type:{name:"enum",value:[{value:'"I000062"'},{value:'"I000141"'},{value:'"I000042"'},{value:'"I000051"'},{value:'"I000133"'},{value:'"I000065"'},{value:'"I000061"'},{value:'"I000036"'},{value:'"I000110"'},{value:'"I000111"'},{value:'"I000118"'},{value:'"I000112"'},{value:'"I000037"'},{value:'"I000124"'},{value:'"I000120"'},{value:'"I000122"'},{value:'"I000121"'},{value:'"I000123"'},{value:'"I000130"'},{value:'"I000131"'},{value:'"I000132"'},{value:'"I000039"'},{value:'"I000038"'},{value:'"I000023"'},{value:'"I000044"'},{value:'"I000063"'},{value:'"I000007"'},{value:'"I000109"'},{value:'"I000114"'},{value:'"I000119"'},{value:'"I000116"'},{value:'"I000117"'},{value:'"I000032"'},{value:'"I000066"'},{value:'"I000140"'},{value:'"I000060"'}]}},existingAttachments:{defaultValue:{value:"[] as Attachment[]"},description:"",name:"existingAttachments",required:!1,type:{name:"Attachment[]"}},saveAttachment:{defaultValue:null,description:"",name:"saveAttachment",required:!0,type:{name:"SaveAttachment"}},multiple:{defaultValue:{value:"true"},description:"",name:"multiple",required:!1,type:{name:"boolean"}},skjemanummerTextMap:{defaultValue:null,description:"",name:"skjemanummerTextMap",required:!1,type:{name:"Record<Skjemanummer, string>"}}}}}catch{}const et={title:"FileUploader",component:Q},B=({saveAttachment:e,existingAttachments:a})=>l.jsx(Q,{attachmentType:F.OMSORGSOVERTAKELSE,skjemanummer:N.OMSORGSOVERTAKELSE,saveAttachment:e,existingAttachments:a,updateAttachments:()=>{}}),T=B.bind({});T.args={existingAttachments:[{id:"1",filename:"Dette er en fil som er lastet opp.jpg",filesize:234,file:{},pending:!1,uploaded:!0,type:F.TERMINBEKREFTELSE,skjemanummer:N.TERMINBEKREFTELSE},{id:"2",filename:"Dette er en fil som holder på å bli lastet opp.jpg",filesize:2344,file:{},pending:!0,uploaded:!1,type:F.TERMINBEKREFTELSE,skjemanummer:N.TERMINBEKREFTELSE}]};const S=B.bind({});S.args={saveAttachment:()=>Promise.resolve({headers:{location:""},data:"test"})};const L=B.bind({});var w,P,U;T.parameters={...T.parameters,docs:{...(w=T.parameters)==null?void 0:w.docs,source:{originalSource:`({
  saveAttachment,
  existingAttachments
}) => {
  return <FileUploader attachmentType={AttachmentType.OMSORGSOVERTAKELSE} skjemanummer={Skjemanummer.OMSORGSOVERTAKELSE} saveAttachment={saveAttachment} existingAttachments={existingAttachments} updateAttachments={() => undefined} />;
}`,...(U=(P=T.parameters)==null?void 0:P.docs)==null?void 0:U.source}}};var k,C,q;S.parameters={...S.parameters,docs:{...(k=S.parameters)==null?void 0:k.docs,source:{originalSource:`({
  saveAttachment,
  existingAttachments
}) => {
  return <FileUploader attachmentType={AttachmentType.OMSORGSOVERTAKELSE} skjemanummer={Skjemanummer.OMSORGSOVERTAKELSE} saveAttachment={saveAttachment} existingAttachments={existingAttachments} updateAttachments={() => undefined} />;
}`,...(q=(C=S.parameters)==null?void 0:C.docs)==null?void 0:q.source}}};var z,$,X;L.parameters={...L.parameters,docs:{...(z=L.parameters)==null?void 0:z.docs,source:{originalSource:`({
  saveAttachment,
  existingAttachments
}) => {
  return <FileUploader attachmentType={AttachmentType.OMSORGSOVERTAKELSE} skjemanummer={Skjemanummer.OMSORGSOVERTAKELSE} saveAttachment={saveAttachment} existingAttachments={existingAttachments} updateAttachments={() => undefined} />;
}`,...(X=($=L.parameters)==null?void 0:$.docs)==null?void 0:X.source}}};const tt=["VisEksisterendeVedlegg","OpplastingOk","OpplastingFeiler"];export{L as OpplastingFeiler,S as OpplastingOk,T as VisEksisterendeVedlegg,tt as __namedExportsOrder,et as default};
