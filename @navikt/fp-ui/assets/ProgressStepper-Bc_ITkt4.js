import{j as o}from"./jsx-runtime-_e34SzbC.js";import{r as d,R as i}from"./index-DVXBtNgz.js";import{u as E}from"./index-DSUmsmzI.js";import{L as x,B as O,H as C}from"./Label-Cf_oUe96.js";import{S as N}from"./ChevronDown-CcwFV5Ek.js";import{u as P}from"./useId-DbilmxAP.js";import{c as S}from"./clsx-B-dksMZM.js";import{c as I}from"./composeEventHandlers-DeH74NdU.js";var k=function(r,s){var n={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&s.indexOf(e)<0&&(n[e]=r[e]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(r);t<e.length;t++)s.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(r,e[t])&&(n[e[t]]=r[e[t]]);return n};const q=d.forwardRef((r,s)=>{var{title:n,titleId:e}=r,t=k(r,["title","titleId"]);let a=P();return a=n?e||"title-"+a:void 0,d.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:s,"aria-labelledby":a},t),n?d.createElement("title",{id:a},n):null,d.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.47 7.97a.75.75 0 0 1 1.06 0l5.5 5.5a.75.75 0 1 1-1.06 1.06L12 9.56l-4.97 4.97a.75.75 0 0 1-1.06-1.06l5.5-5.5Z",fill:"currentColor"}))}),j=d.createContext(null);var L=function(r,s){var n={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&s.indexOf(e)<0&&(n[e]=r[e]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(r);t<e.length;t++)s.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(r,e[t])&&(n[e[t]]=r[e[t]]);return n};const R=()=>i.createElement("svg",{width:"14",height:"10",viewBox:"0 0 14 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img","aria-hidden":!0,"aria-label":"FullfÃ¸rt"},i.createElement("path",{d:"M4.93563 6.41478L11.3755 0.404669C11.9796 -0.160351 12.9294 -0.130672 13.4959 0.47478C14.0624 1.08027 14.0299 2.03007 13.4249 2.59621L5.92151 9.59934C5.64138 9.85904 5.27598 10 4.90064 10C4.5069 10 4.12756 9.84621 3.83953 9.56111L1.33953 7.06111C0.75401 6.47558 0.75401 5.52542 1.33953 4.93989C1.92506 4.35437 2.87522 4.35437 3.46075 4.93989L4.93563 6.41478Z",fill:"currentColor"})),T=d.forwardRef((r,s)=>{var{className:n,children:e,as:t="a",unsafe_index:a=0,completed:b=!1,interactive:c,onClick:h}=r,l=L(r,["className","children","as","unsafe_index","completed","interactive","onClick"]);const p=d.useContext(j);if(p===null)return console.error("<Stepper.Step> has to be used within <Stepper>"),null;const{activeStep:u}=p,m=c??(p==null?void 0:p.interactive),f=m?t:"div",g=()=>{m&&p.onStepChange(a+1)};return i.createElement(f,Object.assign({},l,{"aria-current":u===a,ref:s,className:S("navds-stepper__step",n,{"navds-stepper__step--active":u===a,"navds-stepper__step--behind":u>a,"navds-stepper__step--non-interactive":!m,"navds-stepper__step--completed":b}),onClick:I(h,g)}),b?i.createElement("span",{className:"navds-stepper__circle navds-stepper__circle--success"},i.createElement(R,null)):i.createElement(x,{className:"navds-stepper__circle",as:"span","aria-hidden":"true"},a+1),i.createElement(x,{as:"span",className:"navds-stepper__content"},e))});var B=function(r,s){var n={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&s.indexOf(e)<0&&(n[e]=r[e]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,e=Object.getOwnPropertySymbols(r);t<e.length;t++)s.indexOf(e[t])<0&&Object.prototype.propertyIsEnumerable.call(r,e[t])&&(n[e[t]]=r[e[t]]);return n};const y=d.forwardRef((r,s)=>{var{children:n,className:e,activeStep:t,orientation:a="vertical",onStepChange:b=()=>{},interactive:c=!0}=r,h=B(r,["children","className","activeStep","orientation","onStepChange","interactive"]);return t=t-1,i.createElement("ol",Object.assign({},h,{ref:s,className:S("navds-stepper",a==="horizontal"?"navds-stepper--horizontal":"",e)}),i.createElement(j.Provider,{value:{activeStep:t,onStepChange:b,lastIndex:i.Children.count(n),orientation:a,interactive:c}},i.Children.map(n,(l,p)=>{var u,m,f,g,_;return i.createElement("li",{className:S("navds-stepper__item",{"navds-stepper__item--behind":t>p,"navds-stepper__item--completed":i.isValidElement(l)&&((u=l==null?void 0:l.props)===null||u===void 0?void 0:u.completed),"navds-stepper__item--non-interactive":i.isValidElement(l)&&!((f=(m=l==null?void 0:l.props)===null||m===void 0?void 0:m.interactive)!==null&&f!==void 0?f:c)}),key:p+((_=(g=n==null?void 0:n.toString)===null||g===void 0?void 0:g.call(n))!==null&&_!==void 0?_:"")},i.createElement("span",{className:"navds-stepper__line navds-stepper__line--1"}),i.isValidElement(l)?i.cloneElement(l,Object.assign(Object.assign({},l.props),{unsafe_index:p})):l,i.createElement("span",{className:"navds-stepper__line navds-stepper__line--2"}))})))});y.Step=T;const w=({steps:r,onStepSelect:s,hideExpandableStepInfo:n=!1,showGreenStatusBar:e=!1})=>{const t=E(),[a,b]=d.useState(!1),c=r.findIndex(v=>v.isSelected);if(c===-1)throw new Error("No selected step in step-config");const h=r[c],l=c+1,p=r.length,u=100/p*l,m="progress-stepper-container-id",f=v=>{s&&s(r[v-1])},g=o.jsx(O,{as:"div",children:t.formatMessage({id:"ProgressStepper.StepProgressLabel"},{currentStep:l,totalSteps:p})}),_=d.useRef(null);return d.useEffect(()=>{_.current&&_.current.focus()},[]),o.jsxs("div",{className:"progressStepper",children:[h.label&&o.jsx("div",{className:"progressStepper__heading",children:o.jsx(C,{tabIndex:-1,size:"medium",level:"2",className:"progressStepper__heading__title",ref:_,children:h.label})}),o.jsxs("div",{className:"progressStepper__progressBarWrapper",role:"presentation","aria-hidden":!0,children:[e&&o.jsx("div",{className:"progressStepper__progressBar_green",children:o.jsx("div",{className:"progressStepper__progressBar__progress_green",style:{width:`${u}%`}})}),!e&&o.jsx("div",{className:"progressStepper__progressBar",children:o.jsx("div",{className:"progressStepper__progressBar__progress",style:{width:`${u}%`}})})]}),o.jsxs("nav",{"aria-label":t.formatMessage({id:"ProgressStepper.NavigasjonAriaLabel"}),children:[o.jsxs("div",{className:"progressStepper__stepsInfo",children:[g,!n&&o.jsxs("button",{type:"button",className:"navds-read-more__button navds-body-short","aria-controls":m,"aria-expanded":a,"aria-label":a?"Skjul stegene":"Se alle steg",onClick:()=>{b(!a)},children:[a===!1&&o.jsx(N,{className:"progressStepper__toggleAllStepsIcon","aria-hidden":!0}),a&&o.jsx(q,{className:"progressStepper__toggleAllStepsIcon","aria-hidden":!0})]})]}),o.jsx("div",{id:m,"aria-hidden":a===!1,"aria-live":"polite",children:a&&o.jsx("section",{className:"progressStepper__allSteps","aria-label":t.formatMessage({id:"ProgressStepper.AllStepsSectionAriaLabel"}),children:o.jsx(y,{activeStep:l,onStepChange:s?f:void 0,children:r.map(v=>o.jsx(y.Step,{completed:v.completed,interactive:s!==void 0&&v.completed===!0,children:v.label||""},v.id))})})})]})]})},F=w;w.__docgenInfo={description:"",methods:[],displayName:"ProgressStepper",props:{steps:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    id: TYPE;
    label?: string;
    isSelected: boolean;
    completed?: boolean;
}`,signature:{properties:[{key:"id",value:{name:"TYPE",required:!0}},{key:"label",value:{name:"string",required:!1}},{key:"isSelected",value:{name:"boolean",required:!0}},{key:"completed",value:{name:"boolean",required:!1}}]}}],raw:"Array<ProgressStep<TYPE>>"},description:""},onStepSelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(step: ProgressStep<TYPE>) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
    id: TYPE;
    label?: string;
    isSelected: boolean;
    completed?: boolean;
}`,signature:{properties:[{key:"id",value:{name:"TYPE",required:!0}},{key:"label",value:{name:"string",required:!1}},{key:"isSelected",value:{name:"boolean",required:!0}},{key:"completed",value:{name:"boolean",required:!1}}]}},name:"step"}],return:{name:"void"}}},description:""},hideExpandableStepInfo:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},showGreenStatusBar:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};export{F as P};
