import{j as s}from"./jsx-runtime-_e34SzbC.js";import{r as l,R as Q,g as W}from"./index-DVXBtNgz.js";import{u as ee}from"./index-DSUmsmzI.js";import{b as te}from"./Uttaksdagen-4XRuHfYI.js";import"./dayjs.min-Dkhc0ShP.js";import"./dates-BztWV_n-.js";import{B as re,L as ne}from"./Button-Bo6XR0GR.js";import{u as U}from"./useId-DbilmxAP.js";import{M as _}from"./message-DizMllxX.js";import{H as se,V as N}from"./VStack-CXjZFfcj.js";import{L as ie}from"./Link-CceVKQrV.js";import{S as ae}from"./XMark-cB-Nzsrx.js";import{A as le}from"./Alert-96jvpdqP.js";import{H as oe}from"./Label-Cf_oUe96.js";import"./tslib.es6-BvlsdGqA.js";import"./isoWeek-D9jlLv__.js";import"./clsx-B-dksMZM.js";import"./useId-BBol7gfI.js";import"./composeEventHandlers-DeH74NdU.js";import"./BasePrimitive-2Q3imcnG.js";import"./ExclamationmarkTriangleFill-CSq8VQJ0.js";var de=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Ee=l.forwardRef((e,t)=>{var{title:n,titleId:r}=e,i=de(e,["title","titleId"]);let o=U();return o=n?r||"title-"+o:void 0,l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:t,"aria-labelledby":o},i),n?l.createElement("title",{id:o},n):null,l.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.25 4.5c0-.69.56-1.25 1.25-1.25H14a.75.75 0 0 1 .53.22l4 4c.141.14.22.331.22.53v11.5c0 .69-.56 1.25-1.25 1.25h-11c-.69 0-1.25-.56-1.25-1.25zm9.25 4.25c-.69 0-1.25-.56-1.25-1.25V4.75h-6.5v14.5h10.5V8.75zm.25-2.94 1.44 1.44h-1.44zm-.22 7.22a.75.75 0 1 0-1.06-1.06l-1.97 1.97-.97-.97a.75.75 0 1 0-1.06 1.06l1.5 1.5a.75.75 0 0 0 1.06 0z",clipRule:"evenodd"}))});var ce=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const pe=l.forwardRef((e,t)=>{var{title:n,titleId:r}=e,i=ce(e,["title","titleId"]);let o=U();return o=n?r||"title-"+o:void 0,l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"none",viewBox:"0 0 24 24",focusable:!1,role:"img",ref:t,"aria-labelledby":o},i),n?l.createElement("title",{id:o},n):null,l.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.97 9.03a.75.75 0 0 0 1.06 0l3.22-3.22v8.69a.75.75 0 0 0 1.5 0V5.81l3.22 3.22a.75.75 0 1 0 1.06-1.06l-4.5-4.5a.75.75 0 0 0-1.06 0l-4.5 4.5a.75.75 0 0 0 0 1.06M4.75 15.5a.75.75 0 0 0-1.5 0V19c0 .966.784 1.75 1.75 1.75h14A1.75 1.75 0 0 0 20.75 19v-3.5a.75.75 0 0 0-1.5 0V19a.25.25 0 0 1-.25.25H5a.25.25 0 0 1-.25-.25z",clipRule:"evenodd"}))}),fe=()=>Q.createElement("span",{className:"navds-stack__spacer"});var L=(e=>(e.DEPRECATED_TERMINBEKREFTELSE="I000062",e.TERMINBEKREFTELSE="I000141",e.OMSORGSOVERTAKELSE="I000042",e.DEPRECATED_BEKREFTELSE_DELTAR_KVALIFISERINGSPROGRAM="I000051",e.BEKREFTELSE_DELTAR_KVALIFISERINGSPROGRAM="I000133",e.BEKREFTELSE_FRA_ARBEIDSGIVER="I000065",e.BEKREFTELSE_FRA_STUDIESTED="I000061",e.BEKREFTELSE_PÅ_AVTALT_FERIE="I000036",e.DOK_AV_ALENEOMSORG="I000110",e.DEPRECATED_DOK_BEGRUNNELSE_SØKE_TILBAKE_I_TID="I000111",e.DOK_BEGRUNNELSE_SØKE_TILBAKE_I_TID="I000118",e.DOK_DELTAKELSE_I_INTRODUKSJONSPROGRAMMET="I000112",e.DOK_INNLEGGELSE="I000037",e.DOK_INNLEGGELSE_BARN="I000124",e.DOK_INNLEGGELSE_MOR="I000120",e.DOK_INNLEGGELSE_FAR="I000122",e.DOK_SYKDOM_MOR="I000121",e.DOK_SYKDOM_FAR="I000123",e.DOK_UTDANNING_OG_ARBEID_MOR="I000130",e.DOK_UTDANNING_MOR="I000131",e.DOK_ARBEID_MOR="I000132",e.DOK_MILITÆR_SILVIL_TJENESTE="I000039",e.DOK_MORS_UTDANNING_ARBEID_SYKDOM="I000038",e.DOK_OVERFØRING_FOR_SYK="I000023",e.ETTERLØNN_ELLER_SLUTTVEDERLAG="I000044",e.FØDSELSATTEST="I000063",e.INNTEKTSOPPLYSNINGER_FRILANS_ELLER_SELVSTENDIG="I000007",e.SKJEMA_FOR_TILRETTELEGGING_OG_OMPLASSERING="I000109",e.DEPRECATED_TILBAKEBETALING="I000114",e.TILBAKEBETALING="I000119",e.HV_ØVELSE="I000116",e.NAV_TILTAK="I000117",e.RESULTATREGNSKAP="I000032",e.DEPRECATED_KOPI_SKATTEMELDING="I000066",e.SKATTEMELDING="I000140",e.ANNET="I000060",e))(L||{}),h=(e=>(e.OMSORGSOVERTAKELSE="omsorgsovertakelse",e.ADOPSJONSVEDTAK="adopsjonsvedtak",e.TERMINBEKREFTELSE="terminbekreftelse",e.FØDSELSATTEST="fødselsattest",e.ANNEN_INNTEKT="anneninntektDokumentasjon",e.UTSETTELSE_SYKDOM="utsettelseSykdomUttaksplan",e.MORS_AKTIVITET_DOKUMENTASJON="morsaktivitetdokumentasjon",e.OVERFØRING_KVOTE="dokumentasjonOverføringAvKvote",e.ALENEOMSORG="dokumentasjonAvAleneomsorg",e.HV_ØVELSE="hvØvelse",e.NAV_TILTAK="navTiltak",e.TILBAKEBETALING="tilbakebetaling",e.TILRETTELEGGING="tilrettelegging",e))(h||{}),F={exports:{}};/*!
 * bytes
 * Copyright(c) 2012-2014 TJ Holowaychuk
 * Copyright(c) 2015 Jed Watson
 * MIT Licensed
 */F.exports=me;F.exports.format=C;F.exports.parse=z;var ue=/\B(?=(\d{3})+(?!\d))/g,ge=/(?:\.0*|(\.[^0]+)0+)$/,I={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:Math.pow(1024,4),pb:Math.pow(1024,5)},Ie=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i;function me(e,t){return typeof e=="string"?z(e):typeof e=="number"?C(e,t):null}function C(e,t){if(!Number.isFinite(e))return null;var n=Math.abs(e),r=t&&t.thousandsSeparator||"",i=t&&t.unitSeparator||"",o=t&&t.decimalPlaces!==void 0?t.decimalPlaces:2,p=!!(t&&t.fixedDecimals),a=t&&t.unit||"";(!a||!I[a.toLowerCase()])&&(n>=I.pb?a="PB":n>=I.tb?a="TB":n>=I.gb?a="GB":n>=I.mb?a="MB":n>=I.kb?a="KB":a="B");var E=e/I[a.toLowerCase()],f=E.toFixed(o);return p||(f=f.replace(ge,"$1")),r&&(f=f.split(".").map(function(A,T){return T===0?A.replace(ue,r):A}).join(".")),f+i+a}function z(e){if(typeof e=="number"&&!isNaN(e))return e;if(typeof e!="string")return null;var t=Ie.exec(e),n,r="b";return t?(n=parseFloat(t[1]),r=t[4].toLowerCase()):(n=parseInt(e,10),r="b"),isNaN(n)?null:Math.floor(I[r]*n)}var Ae=F.exports;const _e=W(Ae),g=()=>Math.floor((1+Math.random())*65536).toString().substring(1),Te=()=>`${g()}${g()}-${g()}-${g()}-${g()}-${g()}${g()}${g()}`,Se=e=>_e(e,{unitSeparator:" ",thousandsSeparator:" ",decimalPlaces:1,fixedDecimals:!1}),Oe=()=>"V".concat(Te().replace(/-/g,"")),Re=(e,t,n)=>({id:Oe(),file:e,filename:e.name,filesize:e.size,uploaded:!1,pending:!1,type:t,skjemanummer:n}),$=({multiple:e,accept:t,onFilesSelect:n,hasUplodedAttachements:r})=>{const i=te("fileInput"),o=l.useCallback(E=>{if(E.target.files){const f=Array.from(E.target.files);n(f),E.target.value=""}},[n]),p=l.useRef(null),a=l.useCallback(()=>{p.current&&p.current.click()},[]);return s.jsxs(s.Fragment,{children:[s.jsx("input",{ref:p,className:i.element("input"),type:"file",accept:t,onChange:E=>o(E),multiple:e===!0,"data-testid":"file-upload"}),s.jsxs(re,{className:i.element("upload_button"),variant:r?"secondary":"primary",type:"button",onClick:a,icon:s.jsx(pe,{"aria-hidden":!0}),iconPosition:"right",children:[r&&s.jsx(_,{id:"FileInput.Vedlegg.Lastoppknapp.Flere"}),!r&&s.jsx(_,{id:"FileInput.Vedlegg.Lastoppknapp"})]})]})};$.__docgenInfo={description:"",methods:[],displayName:"FileInput",props:{onFilesSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(files: File[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"File"}],raw:"File[]"},name:"files"}],return:{name:"void"}}},description:""},multiple:{required:!0,tsType:{name:"boolean"},description:""},accept:{required:!0,tsType:{name:"string"},description:""},hasUplodedAttachements:{required:!0,tsType:{name:"boolean"},description:""}}};const X=({attachment:e,showFileSize:t,onDelete:n})=>{const r=ee();return s.jsx("div",{className:"attachmentPanel",children:s.jsxs(se,{gap:"4",children:[e.pending&&s.jsx(ne,{type:"S"}),!e.pending&&s.jsx(Ee,{width:24,height:24,"aria-hidden":!0}),s.jsxs(N,{gap:"1",children:[e.url?s.jsx(ie,{href:e.url,target:"_blank",children:e.filename}):s.jsx("span",{children:e.filename}),t&&s.jsx("div",{children:Se(e.filesize)})]}),n&&s.jsxs(s.Fragment,{children:[s.jsx(fe,{}),s.jsx(ae,{tabIndex:0,onClick:()=>n(e),onKeyDown:i=>{(i.code==="Space"||i.code==="Enter")&&n(e)},height:24,width:24,cursor:"pointer","aria-label":r.formatMessage({id:"Attachment.Vedlegg.Slett"},{navn:e.filename})})]})]})})};X.__docgenInfo={description:"",methods:[],displayName:"AttachmentInfo"};const v=e=>{const{attachments:t,showFileSize:n,onDelete:r}=e;return s.jsx(s.Fragment,{children:t.length>0&&s.jsx(N,{gap:"2",children:t.map(i=>s.jsx(l.Fragment,{children:s.jsx(X,{attachment:i,onDelete:r,showFileSize:n})},i.id))})})};v.__docgenInfo={description:"",methods:[],displayName:"AttachmentList"};var u=(e=>(e.GENERAL="GENERAL",e.TIMEOUT="TIMEOUT",e.VALID_EXTENSION="VALID_EXTENSION",e.MAX_SIZE="MAX_SIZE",e))(u||{});const Le=16,k=({failedAttachment:e,onDelete:t})=>s.jsxs(le,{variant:"warning",closeButton:!0,onClose:()=>t(e),children:[e.error===u.GENERAL&&s.jsx(_,{id:"FailedAttachment.Vedlegg.Feilmelding.Opplasting.Feilet",values:{filename:e.filename}}),e.error===u.TIMEOUT&&s.jsx(_,{id:"FailedAttachment.Vedlegg.Feilmelding.Timeout",values:{filename:e.filename}}),e.error===u.MAX_SIZE&&s.jsx(_,{id:"FailedAttachment.Vedlegg.Feilmelding.Ugyldig.Størrelse",values:{filename:e.filename,maxStørrelse:Le}}),e.error===u.VALID_EXTENSION&&s.jsx(_,{id:"FailedAttachment.Vedlegg.Feilmelding.Ugyldig.Type",values:{filename:e.filename}})]});k.__docgenInfo={description:"",methods:[],displayName:"FailedAttachment"};const H=e=>{const{failedAttachments:t,onDelete:n}=e;return s.jsx(s.Fragment,{children:t.length>0&&s.jsx(N,{gap:"2",children:t.map(r=>s.jsx(l.Fragment,{children:s.jsx(k,{failedAttachment:r,onDelete:n})},r.id))})})};H.__docgenInfo={description:"",methods:[],displayName:"FailedAttachmentList"};const Y=[".pdf",".jpeg",".jpg",".png"],he=16,Ne=he*1024*1024,Fe=e=>[...new Set(e.map(t=>t.skjemanummer))].sort((t,n)=>t.localeCompare(n)),xe=(e,t,n)=>{const r=Re(e,t,n);return r.pending=!0,r},ve=e=>{const t=e.split(".").pop();return t?Y.includes(`.${t.toLowerCase()}`):!1},De=e=>e<=Ne,be=async(e,t)=>{var n;if(!ve(e.file.name)){e.pending=!1,e.error=u.VALID_EXTENSION;return}if(!De(e.filesize)){e.pending=!1,e.error=u.MAX_SIZE;return}try{const r=await t(e);e.pending=!1,e.url=r.headers.location,e.uploaded=!0,e.uuid=r.data}catch(r){e.pending=!1,((n=r==null?void 0:r.response)==null?void 0:n.status)===408?e.error=u.TIMEOUT:e.error=u.GENERAL}},Ke=[],Me=(e,t)=>{e(n=>n.map(r=>r.filename===t.filename?t:r))},Ve=(e,t)=>{e(n=>n.filter(i=>!t.some(o=>o.filename===i.filename)).concat(t))},q=({existingAttachments:e=Ke,updateAttachments:t,attachmentType:n,skjemanummer:r,saveAttachment:i,multiple:o=!0,skjemanummerTextMap:p})=>{const[a,E]=l.useState(e);l.useEffect(()=>{const d=a.filter(c=>!c.error&&c.pending===!1),m=a.some(c=>!c.error&&c.pending===!0);t(d,m)},[a]);const f=l.useCallback(d=>{const m=async x=>{for(const b of x)await be(b,i),Me(E,b)},c=d.map(x=>xe(x,n,r));Ve(E,c),m(c)},[n,r,i]),A=l.useCallback(d=>{E(m=>m.filter(c=>c.filename!==d.filename))},[]),T=l.useMemo(()=>a.filter(d=>!d.error),[a]),Z=l.useMemo(()=>a.filter(d=>!!d.error),[a]);return s.jsxs(N,{gap:"6",children:[p&&a.length>0&&s.jsx(s.Fragment,{children:Fe(a).map(d=>s.jsxs(s.Fragment,{children:[s.jsx(oe,{size:"small",level:"2",children:p[d]},d),s.jsx(v,{attachments:T.filter(m=>m.skjemanummer===d),showFileSize:!0,onDelete:A})]}))}),!p&&s.jsx(v,{attachments:T,showFileSize:!0,onDelete:A}),s.jsx($,{accept:Y.join(", "),onFilesSelect:f,hasUplodedAttachements:T.length>0,multiple:o}),s.jsx(H,{failedAttachments:Z,onDelete:A})]})},J=q;q.__docgenInfo={description:"",methods:[],displayName:"FileUploader",props:{existingAttachments:{defaultValue:{value:"[]",computed:!1},required:!1},multiple:{defaultValue:{value:"true",computed:!1},required:!1}}};const rt={title:"FileUploader",component:J},D=({saveAttachment:e,existingAttachments:t})=>s.jsx(J,{attachmentType:h.OMSORGSOVERTAKELSE,skjemanummer:L.OMSORGSOVERTAKELSE,saveAttachment:e,existingAttachments:t,updateAttachments:()=>{}}),S=D.bind({});S.args={existingAttachments:[{id:"1",filename:"Dette er en fil som er lastet opp.jpg",filesize:234,file:{},pending:!1,uploaded:!0,type:h.TERMINBEKREFTELSE,skjemanummer:L.TERMINBEKREFTELSE},{id:"2",filename:"Dette er en fil som holder på å bli lastet opp.jpg",filesize:2344,file:{},pending:!0,uploaded:!1,type:h.TERMINBEKREFTELSE,skjemanummer:L.TERMINBEKREFTELSE}]};const O=D.bind({});O.args={saveAttachment:()=>Promise.resolve({headers:{location:""},data:"test"})};const R=D.bind({});var K,M,V;S.parameters={...S.parameters,docs:{...(K=S.parameters)==null?void 0:K.docs,source:{originalSource:`({
  saveAttachment,
  existingAttachments
}) => {
  return <FileUploader attachmentType={AttachmentType.OMSORGSOVERTAKELSE} skjemanummer={Skjemanummer.OMSORGSOVERTAKELSE} saveAttachment={saveAttachment} existingAttachments={existingAttachments} updateAttachments={() => undefined} />;
}`,...(V=(M=S.parameters)==null?void 0:M.docs)==null?void 0:V.source}}};var G,y,B;O.parameters={...O.parameters,docs:{...(G=O.parameters)==null?void 0:G.docs,source:{originalSource:`({
  saveAttachment,
  existingAttachments
}) => {
  return <FileUploader attachmentType={AttachmentType.OMSORGSOVERTAKELSE} skjemanummer={Skjemanummer.OMSORGSOVERTAKELSE} saveAttachment={saveAttachment} existingAttachments={existingAttachments} updateAttachments={() => undefined} />;
}`,...(B=(y=O.parameters)==null?void 0:y.docs)==null?void 0:B.source}}};var w,j,P;R.parameters={...R.parameters,docs:{...(w=R.parameters)==null?void 0:w.docs,source:{originalSource:`({
  saveAttachment,
  existingAttachments
}) => {
  return <FileUploader attachmentType={AttachmentType.OMSORGSOVERTAKELSE} skjemanummer={Skjemanummer.OMSORGSOVERTAKELSE} saveAttachment={saveAttachment} existingAttachments={existingAttachments} updateAttachments={() => undefined} />;
}`,...(P=(j=R.parameters)==null?void 0:j.docs)==null?void 0:P.source}}};const nt=["VisEksisterendeVedlegg","OpplastingOk","OpplastingFeiler"];export{R as OpplastingFeiler,O as OpplastingOk,S as VisEksisterendeVedlegg,nt as __namedExportsOrder,rt as default};
