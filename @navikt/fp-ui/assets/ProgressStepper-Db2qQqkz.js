import{j as y}from"./jsx-runtime-CLpGMVip.js";import{r as m,R as s}from"./index-CZMpeKRu.js";import{H as N,V as I}from"./VStack-DRnT_Rrz.js";import{u as h,b as x,S as E}from"./Theme-JKiW9dZF.js";import{L as C,B as T,H as k}from"./Label-Ci105u78.js";import{c as w,B as R}from"./Button-DgzhmZKE.js";import{u as M}from"./useControllableState-buOAZ2EQ.js";import{u as z}from"./useId-C4o4GVcR.js";import{u as j}from"./i18n.hooks-Dta7jMm_.js";import{S as $}from"./ChevronDown-CXsSWUiT.js";var B=function(t,o){var r={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&o.indexOf(e)<0&&(r[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(t);n<e.length;n++)o.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(t,e[n])&&(r[e[n]]=t[e[n]]);return r};const L=m.forwardRef((t,o)=>{var{size:r="medium",value:e=0,valueMax:n=100,"aria-labelledby":i,"aria-label":l,className:f,simulated:a}=t,u=B(t,["size","value","valueMax","aria-labelledby","aria-label","className","simulated"]);const{cn:d}=h(),c=100-Math.round(e)/n*100,p=m.useRef();p.current=a==null?void 0:a.onTimeout;const v=j("ProgressBar");return m.useEffect(()=>{if(a!=null&&a.seconds&&p.current){const b=setTimeout(p.current,a.seconds*1e3);return()=>clearTimeout(b)}},[a==null?void 0:a.seconds]),s.createElement("div",Object.assign({ref:o,className:d("navds-progress-bar",`navds-progress-bar--${r}`,f),"aria-valuemax":a!=null&&a.seconds?0:Math.round(n),"aria-valuenow":a!=null&&a.seconds?0:Math.round(e),"aria-valuetext":a!=null&&a.seconds?v("progressUnknown",{seconds:Math.round(a==null?void 0:a.seconds)}):v("progress",{current:Math.round(e),max:Math.round(n)}),role:"progressbar","aria-labelledby":i,"aria-label":l},u),s.createElement("div",{className:d("navds-progress-bar__foreground",{"navds-progress-bar__foreground--indeterminate":(a==null?void 0:a.seconds)!==void 0}),style:{"--__ac-progress-bar-simulated":(a==null?void 0:a.seconds)!==void 0?`${a==null?void 0:a.seconds}s`:void 0,"--__ac-progress-bar-translate":`-${c}%`}}))}),[q,H]=x({hookName:"useStepperContext",providerName:"StepperContextProvider",name:"StepperContext",errorMessage:"<Stepper.Step> has to be used within <Stepper>"});var A=function(t,o){var r={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&o.indexOf(e)<0&&(r[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(t);n<e.length;n++)o.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(t,e[n])&&(r[e[n]]=t[e[n]]);return r};const V=m.forwardRef((t,o)=>{var{className:r,children:e,as:n="a",completed:i=!1,interactive:l,onClick:f}=t,a=A(t,["className","children","as","completed","interactive","onClick"]);const{cn:u}=h(),d=H(),{activeStep:c}=d,p=l??(d==null?void 0:d.interactive),v=p?n:"div",b=()=>{p&&d.onStepChange(d.index+1)};return s.createElement(v,Object.assign({},a,{"aria-current":c===d.index?"step":void 0,ref:o,className:u("navds-stepper__step",r,{"navds-stepper__step--active":c===d.index,"navds-stepper__step--behind":c>d.index,"navds-stepper__step--non-interactive":!p,"navds-stepper__step--completed":i}),"data-active":c===d.index,"data-completed":i,"data-interactive":p,onClick:w(f,b)}),i?s.createElement("span",{className:u("navds-stepper__circle navds-stepper__circle--success")},s.createElement("svg",{width:"14",height:"10",viewBox:"0 0 14 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"presentation","aria-hidden":!0},s.createElement("path",{d:"M4.93563 6.41478L11.3755 0.404669C11.9796 -0.160351 12.9294 -0.130672 13.4959 0.47478C14.0624 1.08027 14.0299 2.03007 13.4249 2.59621L5.92151 9.59934C5.64138 9.85904 5.27598 10 4.90064 10C4.5069 10 4.12756 9.84621 3.83953 9.56111L1.33953 7.06111C0.75401 6.47558 0.75401 5.52542 1.33953 4.93989C1.92506 4.35437 2.87522 4.35437 3.46075 4.93989L4.93563 6.41478Z",fill:"currentColor"}))):s.createElement(C,{className:u("navds-stepper__circle"),as:"span","aria-hidden":"true"},d.index+1),s.createElement(C,{as:"span",className:u("navds-stepper__content")},e))});var Y=function(t,o){var r={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&o.indexOf(e)<0&&(r[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(t);n<e.length;n++)o.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(t,e[n])&&(r[e[n]]=t[e[n]]);return r};const _=m.forwardRef((t,o)=>{var{children:r,className:e,activeStep:n,orientation:i="vertical",onStepChange:l=()=>{},interactive:f=!0}=t,a=Y(t,["children","className","activeStep","orientation","onStepChange","interactive"]);const{cn:u}=h();return n=n-1,s.createElement("ol",Object.assign({},a,{ref:o,className:u("navds-stepper",i==="horizontal"?"navds-stepper--horizontal":"",e),"data-orientation":i}),s.Children.map(r,(d,c)=>{var p,v,b;const S=s.isValidElement(d)?d.props:{};return s.createElement("li",{className:u("navds-stepper__item",{"navds-stepper__item--behind":n>c,"navds-stepper__item--completed":S.completed,"navds-stepper__item--non-interactive":!((p=S.interactive)!==null&&p!==void 0?p:f)}),key:c+((b=(v=r==null?void 0:r.toString)===null||v===void 0?void 0:v.call(r))!==null&&b!==void 0?b:"")},s.createElement("span",{className:u("navds-stepper__line navds-stepper__line--1")}),s.createElement(q,{interactive:f,activeStep:n,lastIndex:s.Children.count(r),index:c,onStepChange:l,orientation:i},d),s.createElement("span",{className:u("navds-stepper__line navds-stepper__line--2")}))}))});_.Step=V;const[F,P]=x({name:"CollapsibleContext",errorMessage:"<Collapsible.Trigger> and <Collapsible.Content> must be used within a <Collapsible>"});var D=function(t,o){var r={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&o.indexOf(e)<0&&(r[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(t);n<e.length;n++)o.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(t,e[n])&&(r[e[n]]=t[e[n]]);return r};const U=m.forwardRef((t,o)=>{var{children:r,asChild:e}=t,n=D(t,["children","asChild"]);const i=P(),l=e?E:"div";return s.createElement(l,Object.assign({ref:o},n,{"data-state":i.state,hidden:!i.open,"aria-controls":i.open?i.triggerId:void 0,id:i.contentId}),i.lazy||i.open?r:null)});var X=function(t,o){var r={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&o.indexOf(e)<0&&(r[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(t);n<e.length;n++)o.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(t,e[n])&&(r[e[n]]=t[e[n]]);return r};const Z=m.forwardRef((t,o)=>{var{children:r,asChild:e,onClick:n}=t,i=X(t,["children","asChild","onClick"]);const l=P(),f=e?E:"button";return s.createElement(f,Object.assign({ref:o,type:"button","data-state":l.state,onClick:w(n,l.onOpenToggle),"aria-expanded":l.open},i,{id:l.triggerId,"aria-controls":l.open?l.contentId:void 0}),r)});var G=function(t,o){var r={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&o.indexOf(e)<0&&(r[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(t);n<e.length;n++)o.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(t,e[n])&&(r[e[n]]=t[e[n]]);return r};const g=m.forwardRef((t,o)=>{var{children:r,open:e,defaultOpen:n=!1,onOpenChange:i,lazy:l=!1}=t,f=G(t,["children","open","defaultOpen","onOpenChange","lazy"]);const[a,u]=M({value:e,defaultValue:n,onChange:i}),d=z(),c=a?"open":"closed";return s.createElement(F,{open:a,onOpenToggle:m.useCallback(()=>u(p=>!p),[u]),contentId:`collapsible-content-${d}`,triggerId:`collapsible-trigger-${d}`,lazy:l,state:c},s.createElement("div",Object.assign({ref:o,"data-state":c},f),r))});g.Trigger=Z;g.Content=U;var J=function(t,o){var r={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&o.indexOf(e)<0&&(r[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(t);n<e.length;n++)o.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(t,e[n])&&(r[e[n]]=t[e[n]]);return r};const O=m.forwardRef((t,o)=>{var{totalSteps:r,activeStep:e,open:n,onOpenChange:i,children:l,onStepChange:f,interactiveSteps:a,translations:u}=t,d=J(t,["totalSteps","activeStep","open","onOpenChange","children","onStepChange","interactiveSteps","translations"]);const{cn:c}=h(),p=j("FormProgress",u);return s.createElement("div",Object.assign({ref:o},d),s.createElement(L,{"aria-hidden":!0,value:e,valueMax:r,className:c("navds-form-progress__bar")}),s.createElement(g,{lazy:!0,open:n,onOpenChange:i},s.createElement(N,{justify:"space-between",align:"center"},s.createElement(T,{as:"span"},p("step",{activeStep:e,totalSteps:r})),s.createElement(g.Trigger,{asChild:!0,"aria-expanded":void 0},s.createElement(R,{variant:"tertiary",size:"small",className:c("navds-form-progress__button"),icon:s.createElement($,{"aria-hidden":!0})},s.createElement("span",{className:c("navds-form-progress__btn-txt-hide")},p("hideAllSteps")),s.createElement("span",{className:c("navds-form-progress__btn-txt-show")},p("showAllSteps"))))),s.createElement(g.Content,{className:c("navds-form-progress__collapsible")},s.createElement("div",{className:c("navds-form-progress__collapsible-content")},s.createElement("div",{className:c("navds-form-progress__stepper")},s.createElement(_,{activeStep:e,onStepChange:f,interactive:a},l))))))});O.Step=_.Step;_.Step;const K=({steps:t,onStepChange:o,hideHeader:r=!1})=>{const e=t.findIndex(l=>l.isSelected),[n,i]=m.useState(e+1);if(e===-1)throw new Error("No selected step in step-config");return y.jsxs(I,{gap:"4",children:[!r&&y.jsx(k,{tabIndex:-1,size:"medium",level:"2",children:t[e].label}),y.jsx(O,{totalSteps:t.length,activeStep:n,onStepChange:l=>{i(l),o&&o(t[l-1].id)},interactiveSteps:!!o,children:t.map((l,f)=>y.jsx(O.Step,{href:"#",interactive:o&&f<e,children:l.label},l.id))})]})};K.__docgenInfo={description:"",methods:[],displayName:"ProgressStepper",props:{steps:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    id: TYPE;
    label: string;
    isSelected: boolean;
}`,signature:{properties:[{key:"id",value:{name:"TYPE",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"isSelected",value:{name:"boolean",required:!0}}]}}],raw:"Array<ProgressStep<TYPE>>"},description:""},onStepChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: TYPE) => void",signature:{arguments:[{type:{name:"TYPE"},name:"id"}],return:{name:"void"}}},description:""},hideHeader:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};export{K as P};
