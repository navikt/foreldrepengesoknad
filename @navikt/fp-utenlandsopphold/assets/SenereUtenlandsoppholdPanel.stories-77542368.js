import{j as e}from"./jsx-runtime-4ca860c5.js";import{a as U}from"./chunk-AY7I2SME-434f1f0a.js";import{r as f}from"./index-61bf1805.js";import"./index-6c64ffe2.js";import{u as R,h as B,j as a,m as O,C as P,V as y,o as $,b as h,i as j,p as w,q as k,r as F,s as b,t as z,v as N,w as D,x as C,y as H,z as E,T as G,a as K,A as W,U as Y,S as J,F as Q,E as X,P as Z,g as ee}from"./UtenlandsoppholdIntlProvider-d9aa9519.js";import"./_baseToString-42dba5cf.js";import"./_createSet-13baae69.js";import"./_commonjsHelpers-de833af9.js";import"./tslib.es6-c380bd65.js";import"./index-9d475cdf.js";import"./index-2801d3c9.js";const ne=({index:t,fjernOpphold:i})=>{const{i18n:n}=R(),{watch:l,trigger:g,formState:{isSubmitted:u}}=B(),v=l("utenlandsoppholdNeste12Mnd").filter((p,x)=>x!==t),s=l(`utenlandsoppholdNeste12Mnd.${t}.fom`),o=l(`utenlandsoppholdNeste12Mnd.${t}.tom`),m=a(O).toDate(),c=o?a(o).toDate():a(P).toDate(),d=a(s||O).toDate(),r=a(P).toDate();return e.jsxs(y,{gap:"5",align:"start",children:[e.jsx($,{name:`utenlandsoppholdNeste12Mnd.${t}.landkode`,label:e.jsx(h,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Spørsmål.HvilketLandSkalDuBoI"}),validate:[j(n("SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandDuSkalBoIPåkreved"))],children:w().map(p=>e.jsx("option",{value:p[0],children:p[1]},p[0]))}),e.jsx(k,{name:`utenlandsoppholdNeste12Mnd.${t}.fom`,label:e.jsx(h,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Fraogmed"}),minDate:a(O).toDate(),maxDate:o?a(o).toDate():a(P).toDate(),validate:[j(n("SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandFomDuSkalBoIPåkreved")),F(n("SenereUtenlandsoppholdSteg.FraOgMedDato.GyldigDato")),b(n("SenereUtenlandsoppholdSteg.FomErLikTom"),o),z(n("SenereUtenlandsoppholdSteg.Utenlandsopphold.FørTilDato"),o),N(n("SenereUtenlandsoppholdSteg.DateOutsideRangeFom",{min:D(m),max:D(c)}),m,c),C(n("SenereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"),{date:o,isStartDate:!1},v)],onChange:()=>u&&g()}),e.jsx(k,{name:`utenlandsoppholdNeste12Mnd.${t}.tom`,label:e.jsx(h,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Tilogmed"}),minDate:d,maxDate:r,validate:[j(n("SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandTomDuSkalBoIPåkreved")),F(n("SenereUtenlandsoppholdSteg.TilOgMedDato.GyldigDato")),b(n("SenereUtenlandsoppholdSteg.TomErLikFom"),s),H(n("SenereUtenlandsoppholdSteg.Utenlandsopphold.EtterFraDato"),s),N(n("SenereUtenlandsoppholdSteg.DateOutsideRangeTom",{min:D(d),max:D(r)}),d,r),C(n("SenereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"),{date:s,isStartDate:!0},v)],onChange:()=>u&&g()}),t>0&&e.jsx(E,{type:"button",variant:"tertiary",size:"small",icon:e.jsx(G,{"aria-hidden":!0}),onClick:()=>i(t),children:e.jsx(h,{id:"SenereUtenlandsoppholdSteg.Knapp.SlettOpphold"})})]})};try{SenereUtenlandsoppholdPeriode.displayName="SenereUtenlandsoppholdPeriode",SenereUtenlandsoppholdPeriode.__docgenInfo={description:"",displayName:"SenereUtenlandsoppholdPeriode",props:{index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},fjernOpphold:{defaultValue:null,description:"",name:"fjernOpphold",required:!0,type:{name:"(index: number) => void"}}}}}catch{}const M={fom:"",tom:"",landkode:""},te={utenlandsoppholdNeste12Mnd:[M]},_=({saveOnNext:t,saveOnPrevious:i,cancelApplication:n,onContinueLater:l,goToPreviousStep:g,senereUtenlandsopphold:u,stepConfig:v,supportsTempSaving:s=!1})=>{const o=f.useMemo(()=>u||te,[u]),m=K({defaultValues:o}),{fields:c,append:d,remove:r}=W({name:"utenlandsoppholdNeste12Mnd",control:m.control}),p=f.useCallback(()=>{d(M)},[d]),x=f.useCallback(T=>{r(T)},[r]);return e.jsx(Y,{children:e.jsx(J,{onCancel:n,onContinueLater:l,steps:v,useNoTempSavingText:!s,children:e.jsx(Q,{formMethods:m,onSubmit:t,children:e.jsxs(y,{gap:"10",children:[e.jsx(X,{}),e.jsxs(y,{gap:"10",align:"start",children:[c.map((T,I)=>e.jsxs(f.Fragment,{children:[e.jsx(ne,{index:I,fjernOpphold:x}),c.length>1&&e.jsx("hr",{style:{width:"100%"},color:"#99C4DD"})]},T.id)),e.jsx(E,{type:"button",variant:"secondary",size:"small",icon:e.jsx(Z,{"aria-hidden":!0}),onClick:p,children:e.jsx(h,{id:"SenereUtenlandsoppholdSteg.Knapp.LeggTilLand"})})]}),e.jsx(ee,{goToPreviousStep:g,saveDataOnPreviousClick:i})]})})})})},q=_;try{_.displayName="SenereUtenlandsoppholdPanel",_.__docgenInfo={description:"",displayName:"SenereUtenlandsoppholdPanel",props:{senereUtenlandsopphold:{defaultValue:null,description:"",name:"senereUtenlandsopphold",required:!1,type:{name:"UtenlandsoppholdSenere"}},saveOnNext:{defaultValue:null,description:"",name:"saveOnNext",required:!0,type:{name:"(formValues: UtenlandsoppholdSenere) => void"}},saveOnPrevious:{defaultValue:null,description:"",name:"saveOnPrevious",required:!0,type:{name:"(formValues: UtenlandsoppholdSenere | undefined) => void"}},cancelApplication:{defaultValue:null,description:"",name:"cancelApplication",required:!0,type:{name:"() => void"}},onContinueLater:{defaultValue:null,description:"",name:"onContinueLater",required:!1,type:{name:"(() => void)"}},goToPreviousStep:{defaultValue:null,description:"",name:"goToPreviousStep",required:!0,type:{name:"() => void"}},stepConfig:{defaultValue:null,description:"",name:"stepConfig",required:!0,type:{name:"StepConfig[]"}},supportsTempSaving:{defaultValue:{value:"false"},description:"",name:"supportsTempSaving",required:!1,type:{name:"boolean"}}}}}catch{}const Se={title:"SenereUtenlandsoppholdPanel",component:q},oe=({saveOnNext:t,saveOnPrevious:i,cancelApplication:n,goToPreviousStep:l})=>e.jsx(q,{saveOnNext:t,saveOnPrevious:i,cancelApplication:n,goToPreviousStep:l,stepConfig:[{id:"1",index:1,label:"Skal bo i utlandet",isSelected:!0}]}),S=oe.bind({});S.args={saveOnNext:U("button-click"),saveOnPrevious:U("button-click"),cancelApplication:U("button-click"),goToPreviousStep:U("button-click")};var L,V,A;S.parameters={...S.parameters,docs:{...(L=S.parameters)==null?void 0:L.docs,source:{originalSource:`({
  saveOnNext,
  saveOnPrevious,
  cancelApplication,
  goToPreviousStep
}) => {
  return <SenereUtenlandsoppholdPanel saveOnNext={saveOnNext} saveOnPrevious={saveOnPrevious} cancelApplication={cancelApplication} goToPreviousStep={goToPreviousStep} stepConfig={[{
    id: '1',
    index: 1,
    label: 'Skal bo i utlandet',
    isSelected: true
  }]} />;
}`,...(A=(V=S.parameters)==null?void 0:V.docs)==null?void 0:A.source}}};const ge=["Default"];export{S as Default,ge as __namedExportsOrder,Se as default};
//# sourceMappingURL=SenereUtenlandsoppholdPanel.stories-77542368.js.map
