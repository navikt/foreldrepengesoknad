import{j as e}from"./jsx-runtime-DRTy3Uxn.js";import{a as B,b as N,d as s,w as k,D as P,x as V,V as j,S as R,F as c,e as D,f as $,g as x,h as b,j as O,k as Y,l as q,m as y,n as A,o as z,B as E,X as G,p as K,q as X,U as W,r as J,s as Q,E as Z,H as ee,t as ne,v as U}from"./useUtenlandsoppholdIntl-DdbAAiyZ.js";import{r as f}from"./index-BBkUAzwr.js";import"./index-BVm_iQRE.js";import{P as te}from"./Plus-DHLCreI9.js";import"./v4-D8aEg3BZ.js";import"./provider-BV3yQvvz.js";import"./index-_4_hgnnR.js";import"./index-PqR-_bA4.js";const L=({index:t,fjernOpphold:u})=>{const{i18n:n}=B(),{watch:r,trigger:T,formState:{isSubmitted:v}}=N(),S=r("utenlandsoppholdSiste12Mnd").filter((p,g)=>g!==t),o=r(`utenlandsoppholdSiste12Mnd.${t}.fom`),a=r(`utenlandsoppholdSiste12Mnd.${t}.tom`),i=s(k).toDate(),d=a?s(a).subtract(1,"days").toDate():s(P).toDate(),l=o&&V(o,k)?s(o).add(1,"days").toDate():s(k).toDate(),m=s(P).toDate();return e.jsxs(j,{gap:"5",align:"start",children:[e.jsx(R,{name:`utenlandsoppholdSiste12Mnd.${t}.landkode`,label:e.jsx(c,{id:"TidligereUtenlandsoppholdSteg.Spørsmål.HvilketLandHarDuBoddI"}),validate:[D(n("TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandDuHarBoddIPåkrevd"))],children:$().map(p=>e.jsx("option",{value:p[0],children:p[1]},p[0]))}),e.jsx(x,{name:`utenlandsoppholdSiste12Mnd.${t}.fom`,label:e.jsx(c,{id:"TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Fraogmed"}),minDate:i,maxDate:d,validate:[D(n("TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandFomDuSkalBoIPåkreved")),b(n("TidligereUtenlandsoppholdSteg.FraOgMedDato.GyldigDato")),O(n("TidligereUtenlandsoppholdSteg.FomErLikTom"),a),Y(n("TidligereUtenlandsoppholdSteg.Utenlandsopphold.FørTilDato"),a),q(n("TidligereUtenlandsoppholdSteg.DateOutsideRangeFom",{min:y(i),max:y(d)}),i,d),A(n("TidligereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"),{date:a,isStartDate:!1},S)],onChange:()=>v&&T(),defaultMonth:a?s(a).toDate():void 0}),e.jsx(x,{name:`utenlandsoppholdSiste12Mnd.${t}.tom`,label:e.jsx(c,{id:"TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Tilogmed"}),minDate:l,maxDate:m,validate:[D(n("TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandTomDuHarBoddIPåkreved")),b(n("TidligereUtenlandsoppholdSteg.TilOgMedDato.GyldigDato")),O(n("TidligereUtenlandsoppholdSteg.TomErLikFom"),o),z(n("TidligereUtenlandsoppholdSteg.Utenlandsopphold.EtterFraDato"),o),q(n("TidligereUtenlandsoppholdSteg.DateOutsideRangeTom",{min:y(l),max:y(m)}),l,m),A(n("TidligereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"),{date:o,isStartDate:!0},S)],onChange:()=>v&&T()}),t>0&&e.jsx(E,{type:"button",variant:"tertiary",size:"small",icon:e.jsx(G,{"aria-hidden":!0}),onClick:()=>u(t),children:e.jsx(c,{id:"TidligereUtenlandsoppholdSteg.Knapp.SlettOpphold"})})]})};L.__docgenInfo={description:"",methods:[],displayName:"TidligereUtenlandsoppholdPanel"};const _={fom:"",tom:"",landkode:""},ae={utenlandsoppholdSiste12Mnd:[_]},C=({tidligereUtenlandsopphold:t,saveOnNext:u,saveOnPrevious:n,cancelApplication:r,onContinueLater:T,goToPreviousStep:v,stepConfig:S})=>{const o=f.useMemo(()=>t||ae,[t]),a=K({defaultValues:o}),{fields:i,append:d,remove:l}=X({name:"utenlandsoppholdSiste12Mnd",control:a.control}),m=f.useCallback(()=>{d(_)},[d]),p=f.useCallback(g=>{l(g)},[l]);return e.jsx(W,{children:e.jsx(J,{onCancel:r,onContinueLater:T,steps:S,children:e.jsx(Q,{formMethods:a,onSubmit:u,children:e.jsxs(j,{gap:"10",children:[e.jsx(Z,{}),e.jsxs(j,{gap:"10",align:"start",children:[i.map((g,H)=>e.jsxs(f.Fragment,{children:[e.jsx(L,{index:H,fjernOpphold:p}),i.length>1&&e.jsx(ee,{})]},g.id)),e.jsx(E,{type:"button",variant:"secondary",size:"small",icon:e.jsx(te,{"aria-hidden":!0}),onClick:m,children:e.jsx(c,{id:"TidligereUtenlandsoppholdSteg.Knapp.LeggTilLand"})})]}),e.jsx(ne,{goToPreviousStep:v,saveDataOnPreviousClick:n})]})})})})},I=C;C.__docgenInfo={description:"",methods:[],displayName:"TidligereUtenlandsoppholdPanel",props:{tidligereUtenlandsopphold:{required:!1,tsType:{name:"signature",type:"object",raw:`{
    utenlandsoppholdSiste12Mnd: UtenlandsoppholdPeriode[];
}`,signature:{properties:[{key:"utenlandsoppholdSiste12Mnd",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fom: string;
    tom: string;
    landkode: string;
}`,signature:{properties:[{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!0}},{key:"landkode",value:{name:"string",required:!0}}]}}],raw:"UtenlandsoppholdPeriode[]",required:!0}}]}},description:""},saveOnNext:{required:!0,tsType:{name:"signature",type:"function",raw:"(formValues: UtenlandsoppholdTidligere) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
    utenlandsoppholdSiste12Mnd: UtenlandsoppholdPeriode[];
}`,signature:{properties:[{key:"utenlandsoppholdSiste12Mnd",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fom: string;
    tom: string;
    landkode: string;
}`,signature:{properties:[{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!0}},{key:"landkode",value:{name:"string",required:!0}}]}}],raw:"UtenlandsoppholdPeriode[]",required:!0}}]}},name:"formValues"}],return:{name:"void"}}},description:""},saveOnPrevious:{required:!0,tsType:{name:"signature",type:"function",raw:"(data: UtenlandsoppholdTidligere | undefined) => void",signature:{arguments:[{type:{name:"union",raw:"UtenlandsoppholdTidligere | undefined",elements:[{name:"signature",type:"object",raw:`{
    utenlandsoppholdSiste12Mnd: UtenlandsoppholdPeriode[];
}`,signature:{properties:[{key:"utenlandsoppholdSiste12Mnd",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fom: string;
    tom: string;
    landkode: string;
}`,signature:{properties:[{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!0}},{key:"landkode",value:{name:"string",required:!0}}]}}],raw:"UtenlandsoppholdPeriode[]",required:!0}}]}},{name:"undefined"}]},name:"data"}],return:{name:"void"}}},description:""},cancelApplication:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onContinueLater:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},goToPreviousStep:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},stepConfig:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    id: TYPE;
    label: string;
    isSelected: boolean;
    completed?: boolean;
}`,signature:{properties:[{key:"id",value:{name:"TYPE",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"isSelected",value:{name:"boolean",required:!0}},{key:"completed",value:{name:"boolean",required:!1}}]}}],raw:"Array<ProgressStep<TYPE>>"},description:""}}};const ce={title:"TidligereUtenlandsoppholdPanel",component:I},oe=({saveOnNext:t,saveOnPrevious:u,cancelApplication:n,goToPreviousStep:r})=>e.jsx(I,{saveOnNext:t,saveOnPrevious:u,cancelApplication:n,goToPreviousStep:r,stepConfig:[{id:"1",label:"Har bodd i utlandet",isSelected:!0}]}),h=oe.bind({});h.args={saveOnNext:U("button-click"),saveOnPrevious:U("button-click"),cancelApplication:U("button-click"),goToPreviousStep:U("button-click")};var F,M,w;h.parameters={...h.parameters,docs:{...(F=h.parameters)==null?void 0:F.docs,source:{originalSource:`({
  saveOnNext,
  saveOnPrevious,
  cancelApplication,
  goToPreviousStep
}) => {
  return <TidligereUtenlandsoppholdPanel saveOnNext={saveOnNext} saveOnPrevious={saveOnPrevious} cancelApplication={cancelApplication} goToPreviousStep={goToPreviousStep} stepConfig={[{
    id: '1',
    label: 'Har bodd i utlandet',
    isSelected: true
  }]} />;
}`,...(w=(M=h.parameters)==null?void 0:M.docs)==null?void 0:w.source}}};const he=["Default"];export{h as Default,he as __namedExportsOrder,ce as default};
