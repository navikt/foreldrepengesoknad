import{j as e}from"./jsx-runtime-QvZ8i92b.js";import{u as V,S as B,i as T,D as P,a as M,b as O,c as I,d as j,e as x,f as R,g as Y,h as $,F as z,E as K,j as G,k as S}from"./dateFormValidation-DNVKlHJ3.js";import{r as D}from"./index-uubelm5h.js";import{u as W}from"./index-BQarJUyT.js";import{d as s,D as b,a as A,i as X,V as k,M as h,c as J,f as y,B as E,S as Q,H as Z}from"./CalendarLabel-D-kOZC0d.js";import{S as ee,a as ne}from"./XMark-B4jlxmAt.js";import"./v4-CQkTLCs1.js";import"./index-Dei0BBcc.js";import"./tslib.es6-CwyXKlH1.js";import"./index-D3eZ-H7s.js";const q=({index:t,fjernOpphold:m})=>{const n=W(),{watch:o,trigger:d,formState:{isSubmitted:v}}=V(),g=o("utenlandsoppholdNeste12Mnd").filter((u,U)=>U!==t),a=o(`utenlandsoppholdNeste12Mnd.${t}.fom`),r=o(`utenlandsoppholdNeste12Mnd.${t}.tom`),l=s(b).toDate(),i=r?s(r).subtract(1,"days").toDate():s(A).toDate(),p=a&&X(a)?s(a).add(1,"days").toDate():s(b).toDate(),c=s(A).toDate();return e.jsxs(k,{gap:"5",align:"start",children:[e.jsx(B,{name:`utenlandsoppholdNeste12Mnd.${t}.landkode`,label:e.jsx(h,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Spørsmål.HvilketLandSkalDuBoI"}),validate:[T(n.formatMessage({id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandDuSkalBoIPåkreved"}))],children:J().map(u=>e.jsx("option",{value:u[0],children:u[1]},u[0]))}),e.jsx(P,{name:`utenlandsoppholdNeste12Mnd.${t}.fom`,label:e.jsx(h,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Fraogmed"}),minDate:l,maxDate:i,validate:[T(n.formatMessage({id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandFomDuSkalBoIPåkreved"})),M(n.formatMessage({id:"SenereUtenlandsoppholdSteg.FraOgMedDato.GyldigDato"})),O(n.formatMessage({id:"SenereUtenlandsoppholdSteg.FomErLikTom"}),r),I(n.formatMessage({id:"SenereUtenlandsoppholdSteg.Utenlandsopphold.FørTilDato"}),r),j(n.formatMessage({id:"SenereUtenlandsoppholdSteg.DateOutsideRangeFom"},{min:y(l),max:y(i)}),l,i),x(n.formatMessage({id:"SenereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"}),{date:r,isStartDate:!1},g)],onChange:()=>v&&d()}),e.jsx(P,{name:`utenlandsoppholdNeste12Mnd.${t}.tom`,label:e.jsx(h,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Tilogmed"}),minDate:p,maxDate:c,validate:[T(n.formatMessage({id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandTomDuSkalBoIPåkreved"})),M(n.formatMessage({id:"SenereUtenlandsoppholdSteg.TilOgMedDato.GyldigDato"})),O(n.formatMessage({id:"SenereUtenlandsoppholdSteg.TomErLikFom"}),a),R(n.formatMessage({id:"SenereUtenlandsoppholdSteg.Utenlandsopphold.EtterFraDato"}),a),j(n.formatMessage({id:"SenereUtenlandsoppholdSteg.DateOutsideRangeTom"},{min:y(p),max:y(c)}),p,c),x(n.formatMessage({id:"SenereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"}),{date:a,isStartDate:!0},g)],onChange:()=>v&&d(),defaultMonth:a?s(a).toDate():void 0}),t>0&&e.jsx(E,{type:"button",variant:"tertiary",size:"small",icon:e.jsx(ee,{"aria-hidden":!0}),onClick:()=>m(t),children:e.jsx(h,{id:"SenereUtenlandsoppholdSteg.Knapp.SlettOpphold"})})]})};q.__docgenInfo={description:"",methods:[],displayName:"SenereUtenlandsoppholdPanel"};const F={fom:"",tom:"",landkode:""},te={utenlandsoppholdNeste12Mnd:[F]},w=({saveOnNext:t,saveOnPrevious:m,onStepChange:n,cancelApplication:o,onContinueLater:d,goToPreviousStep:v,senereUtenlandsopphold:g,stepConfig:a})=>{const r=D.useMemo(()=>g||te,[g]),l=Y({defaultValues:r}),{fields:i,append:p,remove:c}=$({name:"utenlandsoppholdNeste12Mnd",control:l.control}),u=D.useCallback(()=>{p(F)},[p]);return e.jsx(Q,{onCancel:o,onContinueLater:d,steps:a,onStepChange:n,children:e.jsx(z,{formMethods:l,onSubmit:t,children:e.jsxs(k,{gap:"10",children:[e.jsx(K,{}),e.jsxs(k,{gap:"10",align:"start",children:[i.map((U,H)=>e.jsxs(D.Fragment,{children:[e.jsx(q,{index:H,fjernOpphold:c}),i.length>1&&e.jsx(Z,{})]},U.id)),e.jsx(E,{type:"button",variant:"secondary",size:"small",icon:e.jsx(ne,{"aria-hidden":!0}),onClick:u,children:e.jsx(h,{id:"SenereUtenlandsoppholdSteg.Knapp.LeggTilLand"})})]}),e.jsx(G,{goToPreviousStep:v,saveDataOnPreviousClick:m})]})})})},C=w;w.__docgenInfo={description:"",methods:[],displayName:"SenereUtenlandsoppholdPanel",props:{senereUtenlandsopphold:{required:!1,tsType:{name:"signature",type:"object",raw:`{
    utenlandsoppholdNeste12Mnd: UtenlandsoppholdPeriode[];
}`,signature:{properties:[{key:"utenlandsoppholdNeste12Mnd",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fom: string;
    tom: string;
    landkode: string;
}`,signature:{properties:[{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!0}},{key:"landkode",value:{name:"string",required:!0}}]}}],raw:"UtenlandsoppholdPeriode[]",required:!0}}]}},description:""},saveOnNext:{required:!0,tsType:{name:"signature",type:"function",raw:"(formValues: UtenlandsoppholdSenere) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
    utenlandsoppholdNeste12Mnd: UtenlandsoppholdPeriode[];
}`,signature:{properties:[{key:"utenlandsoppholdNeste12Mnd",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fom: string;
    tom: string;
    landkode: string;
}`,signature:{properties:[{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!0}},{key:"landkode",value:{name:"string",required:!0}}]}}],raw:"UtenlandsoppholdPeriode[]",required:!0}}]}},name:"formValues"}],return:{name:"void"}}},description:""},saveOnPrevious:{required:!0,tsType:{name:"signature",type:"function",raw:"(formValues: UtenlandsoppholdSenere | undefined) => void",signature:{arguments:[{type:{name:"union",raw:"UtenlandsoppholdSenere | undefined",elements:[{name:"signature",type:"object",raw:`{
    utenlandsoppholdNeste12Mnd: UtenlandsoppholdPeriode[];
}`,signature:{properties:[{key:"utenlandsoppholdNeste12Mnd",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fom: string;
    tom: string;
    landkode: string;
}`,signature:{properties:[{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!0}},{key:"landkode",value:{name:"string",required:!0}}]}}],raw:"UtenlandsoppholdPeriode[]",required:!0}}]}},{name:"undefined"}]},name:"formValues"}],return:{name:"void"}}},description:""},onStepChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: TYPE) => void",signature:{arguments:[{type:{name:"TYPE"},name:"id"}],return:{name:"void"}}},description:""},cancelApplication:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onContinueLater:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},goToPreviousStep:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},stepConfig:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    id: TYPE;
    label: string;
    isSelected: boolean;
}`,signature:{properties:[{key:"id",value:{name:"TYPE",required:!0}},{key:"label",value:{name:"string",required:!0}},{key:"isSelected",value:{name:"boolean",required:!0}}]}}],raw:"Array<ProgressStep<TYPE>>"},description:""}}};const ce={title:"SenereUtenlandsoppholdPanel",component:C},ae=({saveOnNext:t,saveOnPrevious:m,cancelApplication:n,goToPreviousStep:o,onStepChange:d})=>e.jsx(C,{saveOnNext:t,saveOnPrevious:m,cancelApplication:n,onStepChange:d,goToPreviousStep:o,stepConfig:[{id:"UTENLANDSOPPHOLD_PATH",label:"Utenlandsopphold",isSelected:!1},{id:"SKAL_BO_I_UTLANDET_PATH",label:"Skal bo i utlandet",isSelected:!0}]}),f=ae.bind({});f.args={saveOnNext:S("button-click"),saveOnPrevious:S("button-click"),cancelApplication:S("button-click"),goToPreviousStep:S("button-click"),onStepChange:S("button-click")};var N,L,_;f.parameters={...f.parameters,docs:{...(N=f.parameters)==null?void 0:N.docs,source:{originalSource:`({
  saveOnNext,
  saveOnPrevious,
  cancelApplication,
  goToPreviousStep,
  onStepChange
}) => {
  return <SenereUtenlandsoppholdPanel saveOnNext={saveOnNext} saveOnPrevious={saveOnPrevious} cancelApplication={cancelApplication} onStepChange={onStepChange} goToPreviousStep={goToPreviousStep} stepConfig={[{
    id: 'UTENLANDSOPPHOLD_PATH',
    label: 'Utenlandsopphold',
    isSelected: false
  }, {
    id: 'SKAL_BO_I_UTLANDET_PATH',
    label: 'Skal bo i utlandet',
    isSelected: true
  }]} />;
}`,...(_=(L=f.parameters)==null?void 0:L.docs)==null?void 0:_.source}}};const Se=["Default"];export{f as Default,Se as __namedExportsOrder,ce as default};
