import{j as e}from"./jsx-runtime-ffb262ed.js";import{a as I,b as R,d as s,D as y,c as T,i as B,V as P,S as $,F as S,e as O,f as H,g as k,h as _,j as F,k as w,l as b,m as v,n as N,o as z,B as A,X as G,p as K,q as W,U as X,r as Y,s as J,E as Q,t as Z,v as D}from"./UtenlandsoppholdIntlProvider-10bee794.js";import{r as x}from"./index-76fb7be0.js";import"./index-886ea976.js";import"./_baseToString-736b9b82.js";import"./_createSet-b0f363de.js";import{P as ee}from"./Plus-16f81a25.js";import"./preview-errors-dde4324f.js";import"./index-356e4a49.js";import"./index-d3ea75b5.js";import"./_commonjsHelpers-de833af9.js";import"./index-9d475cdf.js";import"./provider-7c0ce87c.js";const ne=({index:t,fjernOpphold:u})=>{const{i18n:n}=I(),{watch:l,trigger:U,formState:{isSubmitted:c}}=R(),f=l("utenlandsoppholdNeste12Mnd").filter((i,h)=>h!==t),o=l(`utenlandsoppholdNeste12Mnd.${t}.fom`),a=l(`utenlandsoppholdNeste12Mnd.${t}.tom`),d=s(y).toDate(),r=a?s(a).subtract(1,"days").toDate():s(T).toDate(),p=o&&B(o)?s(o).add(1,"days").toDate():s(y).toDate(),m=s(T).toDate();return e.jsxs(P,{gap:"5",align:"start",children:[e.jsx($,{name:`utenlandsoppholdNeste12Mnd.${t}.landkode`,label:e.jsx(S,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Spørsmål.HvilketLandSkalDuBoI"}),validate:[O(n("SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandDuSkalBoIPåkreved"))],children:H().map(i=>e.jsx("option",{value:i[0],children:i[1]},i[0]))}),e.jsx(k,{name:`utenlandsoppholdNeste12Mnd.${t}.fom`,label:e.jsx(S,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Fraogmed"}),minDate:d,maxDate:r,validate:[O(n("SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandFomDuSkalBoIPåkreved")),_(n("SenereUtenlandsoppholdSteg.FraOgMedDato.GyldigDato")),F(n("SenereUtenlandsoppholdSteg.FomErLikTom"),a),w(n("SenereUtenlandsoppholdSteg.Utenlandsopphold.FørTilDato"),a),b(n("SenereUtenlandsoppholdSteg.DateOutsideRangeFom",{min:v(d),max:v(r)}),d,r),N(n("SenereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"),{date:a,isStartDate:!1},f)],onChange:()=>c&&U()}),e.jsx(k,{name:`utenlandsoppholdNeste12Mnd.${t}.tom`,label:e.jsx(S,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Tilogmed"}),minDate:p,maxDate:m,validate:[O(n("SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandTomDuSkalBoIPåkreved")),_(n("SenereUtenlandsoppholdSteg.TilOgMedDato.GyldigDato")),F(n("SenereUtenlandsoppholdSteg.TomErLikFom"),o),z(n("SenereUtenlandsoppholdSteg.Utenlandsopphold.EtterFraDato"),o),b(n("SenereUtenlandsoppholdSteg.DateOutsideRangeTom",{min:v(p),max:v(m)}),p,m),N(n("SenereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"),{date:o,isStartDate:!0},f)],onChange:()=>c&&U(),defaultMonth:o?s(o).toDate():void 0}),t>0&&e.jsx(A,{type:"button",variant:"tertiary",size:"small",icon:e.jsx(G,{"aria-hidden":!0}),onClick:()=>u(t),children:e.jsx(S,{id:"SenereUtenlandsoppholdSteg.Knapp.SlettOpphold"})})]})};try{SenereUtenlandsoppholdPeriode.displayName="SenereUtenlandsoppholdPeriode",SenereUtenlandsoppholdPeriode.__docgenInfo={description:"",displayName:"SenereUtenlandsoppholdPeriode",props:{index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},fjernOpphold:{defaultValue:null,description:"",name:"fjernOpphold",required:!0,type:{name:"(index: number) => void"}}}}}catch{}const M={fom:"",tom:"",landkode:""},te={utenlandsoppholdNeste12Mnd:[M]},j=({saveOnNext:t,saveOnPrevious:u,cancelApplication:n,onContinueLater:l,goToPreviousStep:U,senereUtenlandsopphold:c,stepConfig:f})=>{const o=x.useMemo(()=>c||te,[c]),a=K({defaultValues:o}),{fields:d,append:r,remove:p}=W({name:"utenlandsoppholdNeste12Mnd",control:a.control}),m=x.useCallback(()=>{r(M)},[r]),i=x.useCallback(h=>{p(h)},[p]);return e.jsx(X,{children:e.jsx(Y,{onCancel:n,onContinueLater:l,steps:f,children:e.jsx(J,{formMethods:a,onSubmit:t,children:e.jsxs(P,{gap:"10",children:[e.jsx(Q,{}),e.jsxs(P,{gap:"10",align:"start",children:[d.map((h,q)=>e.jsxs(x.Fragment,{children:[e.jsx(ne,{index:q,fjernOpphold:i}),d.length>1&&e.jsx("hr",{style:{width:"100%"},color:"#99C4DD"})]},h.id)),e.jsx(A,{type:"button",variant:"secondary",size:"small",icon:e.jsx(ee,{"aria-hidden":!0}),onClick:m,children:e.jsx(S,{id:"SenereUtenlandsoppholdSteg.Knapp.LeggTilLand"})})]}),e.jsx(Z,{goToPreviousStep:U,saveDataOnPreviousClick:u})]})})})})},E=j;try{j.displayName="SenereUtenlandsoppholdPanel",j.__docgenInfo={description:"",displayName:"SenereUtenlandsoppholdPanel",props:{senereUtenlandsopphold:{defaultValue:null,description:"",name:"senereUtenlandsopphold",required:!1,type:{name:"UtenlandsoppholdSenere"}},saveOnNext:{defaultValue:null,description:"",name:"saveOnNext",required:!0,type:{name:"(formValues: UtenlandsoppholdSenere) => void"}},saveOnPrevious:{defaultValue:null,description:"",name:"saveOnPrevious",required:!0,type:{name:"(formValues: UtenlandsoppholdSenere | undefined) => void"}},cancelApplication:{defaultValue:null,description:"",name:"cancelApplication",required:!0,type:{name:"() => void"}},onContinueLater:{defaultValue:null,description:"",name:"onContinueLater",required:!1,type:{name:"(() => void)"}},goToPreviousStep:{defaultValue:null,description:"",name:"goToPreviousStep",required:!0,type:{name:"() => void"}},stepConfig:{defaultValue:null,description:"",name:"stepConfig",required:!0,type:{name:"StepConfig[]"}}}}}catch{}const Ue={title:"SenereUtenlandsoppholdPanel",component:E},oe=({saveOnNext:t,saveOnPrevious:u,cancelApplication:n,goToPreviousStep:l})=>e.jsx(E,{saveOnNext:t,saveOnPrevious:u,cancelApplication:n,goToPreviousStep:l,stepConfig:[{id:"1",index:1,label:"Skal bo i utlandet",isSelected:!0}]}),g=oe.bind({});g.args={saveOnNext:D("button-click"),saveOnPrevious:D("button-click"),cancelApplication:D("button-click"),goToPreviousStep:D("button-click")};var L,C,V;g.parameters={...g.parameters,docs:{...(L=g.parameters)==null?void 0:L.docs,source:{originalSource:`({
  saveOnNext,
  saveOnPrevious,
  cancelApplication,
  goToPreviousStep
}) => {
  return <SenereUtenlandsoppholdPanel saveOnNext={saveOnNext} saveOnPrevious={saveOnPrevious} cancelApplication={cancelApplication} goToPreviousStep={goToPreviousStep} stepConfig={[{
    id: '1',
    index: 1,
    label: 'Skal bo i utlandet',
    isSelected: true
  }]} />;
}`,...(V=(C=g.parameters)==null?void 0:C.docs)==null?void 0:V.source}}};const fe=["Default"];export{g as Default,fe as __namedExportsOrder,Ue as default};
