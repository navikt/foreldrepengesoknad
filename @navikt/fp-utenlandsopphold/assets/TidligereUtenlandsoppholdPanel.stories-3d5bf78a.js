import{j as e}from"./jsx-runtime-4ca860c5.js";import{a as U}from"./chunk-AY7I2SME-434f1f0a.js";import{r as f}from"./index-61bf1805.js";import"./index-6c64ffe2.js";import{u as I,a as B,d as p,D as j,b as y,V as O,S as H,F as g,i as x,c as R,e as _,f as k,g as b,h as $,j as F,k as D,l as A,m as G,B as L,T as w,n as z,o as K,U as Y,p as W,q as J,E as Q,P as X,r as Z}from"./UtenlandsoppholdIntlProvider-24a7d08d.js";import"./_baseToString-42dba5cf.js";import"./_createSet-13baae69.js";import"./_commonjsHelpers-de833af9.js";import"./tslib.es6-c380bd65.js";import"./index-9d475cdf.js";import"./index-2801d3c9.js";const ee=({index:a,fjernOpphold:u})=>{const{i18n:t}=I(),{watch:o,trigger:T,formState:{isSubmitted:S}}=B(),v=o("utenlandsoppholdSiste12Mnd").filter((r,m)=>m!==a),l=o(`utenlandsoppholdSiste12Mnd.${a}.fom`),n=o(`utenlandsoppholdSiste12Mnd.${a}.tom`),d=p(j).toDate(),i=n?p(n).toDate():p(y).toDate(),s=l?p(l).toDate():p(j).toDate(),c=p(y).toDate();return e.jsxs(O,{gap:"5",align:"start",children:[e.jsx(H,{name:`utenlandsoppholdSiste12Mnd.${a}.landkode`,label:e.jsx(g,{id:"TidligereUtenlandsoppholdSteg.Spørsmål.HvilketLandHarDuBoddI"}),validate:[x(t("TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandDuHarBoddIPåkrevd"))],children:R().map(r=>e.jsx("option",{value:r[0],children:r[1]},r[0]))}),e.jsx(_,{name:`utenlandsoppholdSiste12Mnd.${a}.fom`,label:e.jsx(g,{id:"TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Fraogmed"}),minDate:d,maxDate:i,validate:[x(t("TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandFomDuSkalBoIPåkreved")),k(t("TidligereUtenlandsoppholdSteg.FraOgMedDato.GyldigDato")),b(t("TidligereUtenlandsoppholdSteg.FomErLikTom"),n),$(t("TidligereUtenlandsoppholdSteg.Utenlandsopphold.FørTilDato"),n),F(t("TidligereUtenlandsoppholdSteg.DateOutsideRangeFom",{min:D(d),max:D(i)}),d,i),A(t("TidligereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"),{date:n,isStartDate:!1},v)],onChange:()=>S&&T()}),e.jsx(_,{name:`utenlandsoppholdSiste12Mnd.${a}.tom`,label:e.jsx(g,{id:"TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Tilogmed"}),minDate:s,maxDate:c,validate:[x(t("TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandTomDuHarBoddIPåkreved")),k(t("TidligereUtenlandsoppholdSteg.TilOgMedDato.GyldigDato")),b(t("TidligereUtenlandsoppholdSteg.TomErLikFom"),l),G(t("TidligereUtenlandsoppholdSteg.Utenlandsopphold.EtterFraDato"),l),F(t("TidligereUtenlandsoppholdSteg.DateOutsideRangeTom",{min:D(s),max:D(c)}),s,c),A(t("TidligereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"),{date:l,isStartDate:!0},v)],onChange:()=>S&&T()}),a>0&&e.jsx(L,{type:"button",variant:"tertiary",size:"small",icon:e.jsx(w,{"aria-hidden":!0}),onClick:()=>u(a),children:e.jsx(g,{id:"TidligereUtenlandsoppholdSteg.Knapp.SlettOpphold"})})]})};try{TidligereUtenlandsoppholdPeriode.displayName="TidligereUtenlandsoppholdPeriode",TidligereUtenlandsoppholdPeriode.__docgenInfo={description:"",displayName:"TidligereUtenlandsoppholdPeriode",props:{index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},fjernOpphold:{defaultValue:null,description:"",name:"fjernOpphold",required:!0,type:{name:"(index: number) => void"}}}}}catch{}const M={fom:"",tom:"",landkode:""},te={utenlandsoppholdSiste12Mnd:[M]},P=({sisteUtenlandsopphold:a,saveOnNext:u,saveOnPrevious:t,cancelApplication:o,goToPreviousStep:T,stepConfig:S,supportsTempSaving:v=!1})=>{const l=f.useMemo(()=>a||te,[a]),n=z({defaultValues:l}),{fields:d,append:i,remove:s}=K({name:"utenlandsoppholdSiste12Mnd",control:n.control}),c=f.useCallback(()=>{i(M)},[i]),r=f.useCallback(m=>{s(m)},[s]);return e.jsx(Y,{children:e.jsx(W,{onCancel:o,steps:S,useNoTempSavingText:!v,children:e.jsx(J,{formMethods:n,onSubmit:u,children:e.jsxs(O,{gap:"10",children:[e.jsx(Q,{}),e.jsxs(O,{gap:"10",align:"start",children:[d.map((m,q)=>e.jsxs(f.Fragment,{children:[e.jsx(ee,{index:q,fjernOpphold:r}),d.length>1&&e.jsx("hr",{style:{width:"100%"},color:"#99C4DD"})]},m.id)),e.jsx(L,{type:"button",variant:"secondary",size:"small",icon:e.jsx(X,{"aria-hidden":!0}),onClick:c,children:e.jsx(g,{id:"TidligereUtenlandsoppholdSteg.Knapp.LeggTilLand"})})]}),e.jsx(Z,{goToPreviousStep:T,saveDataOnPreviousClick:t})]})})})})},N=P;try{P.displayName="TidligereUtenlandsoppholdPanel",P.__docgenInfo={description:"",displayName:"TidligereUtenlandsoppholdPanel",props:{sisteUtenlandsopphold:{defaultValue:null,description:"",name:"sisteUtenlandsopphold",required:!1,type:{name:"UtenlandsoppholdTidligere"}},saveOnNext:{defaultValue:null,description:"",name:"saveOnNext",required:!0,type:{name:"(formValues: UtenlandsoppholdTidligere) => void"}},saveOnPrevious:{defaultValue:null,description:"",name:"saveOnPrevious",required:!0,type:{name:"(data: UtenlandsoppholdTidligere | undefined) => void"}},cancelApplication:{defaultValue:null,description:"",name:"cancelApplication",required:!0,type:{name:"() => void"}},goToPreviousStep:{defaultValue:null,description:"",name:"goToPreviousStep",required:!0,type:{name:"() => void"}},stepConfig:{defaultValue:null,description:"",name:"stepConfig",required:!0,type:{name:"StepConfig[]"}},supportsTempSaving:{defaultValue:{value:"false"},description:"",name:"supportsTempSaving",required:!1,type:{name:"boolean"}}}}}catch{}const ge={title:"TidligereUtenlandsoppholdPanel",component:N},ae=({saveOnNext:a,saveOnPrevious:u,cancelApplication:t,goToPreviousStep:o})=>e.jsx(N,{saveOnNext:a,saveOnPrevious:u,cancelApplication:t,goToPreviousStep:o,stepConfig:[{id:"1",index:1,label:"Har bodd i utlandet",isSelected:!0}]}),h=ae.bind({});h.args={saveOnNext:U("button-click"),saveOnPrevious:U("button-click"),cancelApplication:U("button-click"),goToPreviousStep:U("button-click")};var V,C,E;h.parameters={...h.parameters,docs:{...(V=h.parameters)==null?void 0:V.docs,source:{originalSource:`({
  saveOnNext,
  saveOnPrevious,
  cancelApplication,
  goToPreviousStep
}) => {
  return <TidligereUtenlandsoppholdPanel saveOnNext={saveOnNext} saveOnPrevious={saveOnPrevious} cancelApplication={cancelApplication} goToPreviousStep={goToPreviousStep} stepConfig={[{
    id: '1',
    index: 1,
    label: 'Har bodd i utlandet',
    isSelected: true
  }]} />;
}`,...(E=(C=h.parameters)==null?void 0:C.docs)==null?void 0:E.source}}};const he=["Default"];export{h as Default,he as __namedExportsOrder,ge as default};
//# sourceMappingURL=TidligereUtenlandsoppholdPanel.stories-3d5bf78a.js.map
