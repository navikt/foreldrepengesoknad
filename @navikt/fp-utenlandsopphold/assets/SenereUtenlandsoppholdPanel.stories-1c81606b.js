import{j as e}from"./jsx-runtime-4ca860c5.js";import{a as f}from"./chunk-AY7I2SME-434f1f0a.js";import{r as D}from"./index-61bf1805.js";import"./index-6c64ffe2.js";import{u as I,a as R,d as a,b as T,s as O,V as j,S as B,F as S,i as P,c as $,e as y,f as _,g as F,h as H,j as b,k as x,l as N,m as w,B as C,T as z,n as G,o as K,U as W,p as Y,q as J,E as Q,P as X,r as Z}from"./UtenlandsoppholdIntlProvider-24a7d08d.js";import"./_baseToString-42dba5cf.js";import"./_createSet-13baae69.js";import"./_commonjsHelpers-de833af9.js";import"./tslib.es6-c380bd65.js";import"./index-9d475cdf.js";import"./index-2801d3c9.js";const ee=({index:t,fjernOpphold:p})=>{const{i18n:n}=I(),{watch:l,trigger:i,formState:{isSubmitted:U}}=R(),v=l("utenlandsoppholdNeste12Mnd").filter((r,h)=>h!==t),s=l(`utenlandsoppholdNeste12Mnd.${t}.fom`),o=l(`utenlandsoppholdNeste12Mnd.${t}.tom`),u=a(T).toDate(),m=o?a(o).toDate():a(O).toDate(),d=a(s||T).toDate(),c=a(O).toDate();return e.jsxs(j,{gap:"5",align:"start",children:[e.jsx(B,{name:`utenlandsoppholdNeste12Mnd.${t}.landkode`,label:e.jsx(S,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Spørsmål.HvilketLandSkalDuBoI"}),validate:[P(n("SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandDuSkalBoIPåkreved"))],children:$().map(r=>e.jsx("option",{value:r[0],children:r[1]},r[0]))}),e.jsx(y,{name:`utenlandsoppholdNeste12Mnd.${t}.fom`,label:e.jsx(S,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Fraogmed"}),minDate:a(T).toDate(),maxDate:o?a(o).toDate():a(O).toDate(),validate:[P(n("SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandFomDuSkalBoIPåkreved")),_(n("SenereUtenlandsoppholdSteg.FraOgMedDato.GyldigDato")),F(n("SenereUtenlandsoppholdSteg.FomErLikTom"),o),H(n("SenereUtenlandsoppholdSteg.Utenlandsopphold.FørTilDato"),o),b(n("SenereUtenlandsoppholdSteg.DateOutsideRangeFom",{min:x(u),max:x(m)}),u,m),N(n("SenereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"),{date:o,isStartDate:!1},v)],onChange:()=>U&&i()}),e.jsx(y,{name:`utenlandsoppholdNeste12Mnd.${t}.tom`,label:e.jsx(S,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Tilogmed"}),minDate:d,maxDate:c,validate:[P(n("SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandTomDuSkalBoIPåkreved")),_(n("SenereUtenlandsoppholdSteg.TilOgMedDato.GyldigDato")),F(n("SenereUtenlandsoppholdSteg.TomErLikFom"),s),w(n("SenereUtenlandsoppholdSteg.Utenlandsopphold.EtterFraDato"),s),b(n("SenereUtenlandsoppholdSteg.DateOutsideRangeTom",{min:x(d),max:x(c)}),d,c),N(n("SenereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"),{date:s,isStartDate:!0},v)],onChange:()=>U&&i()}),t>0&&e.jsx(C,{type:"button",variant:"tertiary",size:"small",icon:e.jsx(z,{"aria-hidden":!0}),onClick:()=>p(t),children:e.jsx(S,{id:"SenereUtenlandsoppholdSteg.Knapp.SlettOpphold"})})]})};try{SenereUtenlandsoppholdPeriode.displayName="SenereUtenlandsoppholdPeriode",SenereUtenlandsoppholdPeriode.__docgenInfo={description:"",displayName:"SenereUtenlandsoppholdPeriode",props:{index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},fjernOpphold:{defaultValue:null,description:"",name:"fjernOpphold",required:!0,type:{name:"(index: number) => void"}}}}}catch{}const E={fom:"",tom:"",landkode:""},ne={utenlandsoppholdNeste12Mnd:[E]},k=({saveOnNext:t,saveOnPrevious:p,cancelApplication:n,goToPreviousStep:l,senereUtenlandsopphold:i,stepConfig:U,supportsTempSaving:v=!1})=>{const s=D.useMemo(()=>i||ne,[i]),o=G({defaultValues:s}),{fields:u,append:m,remove:d}=K({name:"utenlandsoppholdNeste12Mnd",control:o.control}),c=D.useCallback(()=>{m(E)},[m]),r=D.useCallback(h=>{d(h)},[d]);return e.jsx(W,{children:e.jsx(Y,{onCancel:n,steps:U,useNoTempSavingText:!v,children:e.jsx(J,{formMethods:o,onSubmit:t,children:e.jsxs(j,{gap:"10",children:[e.jsx(Q,{}),e.jsxs(j,{gap:"10",align:"start",children:[u.map((h,q)=>e.jsxs(D.Fragment,{children:[e.jsx(ee,{index:q,fjernOpphold:r}),u.length>1&&e.jsx("hr",{style:{width:"100%"},color:"#99C4DD"})]},h.id)),e.jsx(C,{type:"button",variant:"secondary",size:"small",icon:e.jsx(X,{"aria-hidden":!0}),onClick:c,children:e.jsx(S,{id:"SenereUtenlandsoppholdSteg.Knapp.LeggTilLand"})})]}),e.jsx(Z,{goToPreviousStep:l,saveDataOnPreviousClick:p})]})})})})},M=k;try{k.displayName="SenereUtenlandsoppholdPanel",k.__docgenInfo={description:"",displayName:"SenereUtenlandsoppholdPanel",props:{senereUtenlandsopphold:{defaultValue:null,description:"",name:"senereUtenlandsopphold",required:!1,type:{name:"UtenlandsoppholdSenere"}},saveOnNext:{defaultValue:null,description:"",name:"saveOnNext",required:!0,type:{name:"(formValues: UtenlandsoppholdSenere) => void"}},saveOnPrevious:{defaultValue:null,description:"",name:"saveOnPrevious",required:!0,type:{name:"(formValues: UtenlandsoppholdSenere | undefined) => void"}},cancelApplication:{defaultValue:null,description:"",name:"cancelApplication",required:!0,type:{name:"() => void"}},goToPreviousStep:{defaultValue:null,description:"",name:"goToPreviousStep",required:!0,type:{name:"() => void"}},stepConfig:{defaultValue:null,description:"",name:"stepConfig",required:!0,type:{name:"StepConfig[]"}},supportsTempSaving:{defaultValue:{value:"false"},description:"",name:"supportsTempSaving",required:!1,type:{name:"boolean"}}}}}catch{}const he={title:"SenereUtenlandsoppholdPanel",component:M},te=({saveOnNext:t,saveOnPrevious:p,cancelApplication:n,goToPreviousStep:l})=>e.jsx(M,{saveOnNext:t,saveOnPrevious:p,cancelApplication:n,goToPreviousStep:l,stepConfig:[{id:"1",index:1,label:"Skal bo i utlandet",isSelected:!0}]}),g=te.bind({});g.args={saveOnNext:f("button-click"),saveOnPrevious:f("button-click"),cancelApplication:f("button-click"),goToPreviousStep:f("button-click")};var V,L,A;g.parameters={...g.parameters,docs:{...(V=g.parameters)==null?void 0:V.docs,source:{originalSource:`({
  saveOnNext,
  saveOnPrevious,
  cancelApplication,
  goToPreviousStep
}) => {
  return <SenereUtenlandsoppholdPanel saveOnNext={saveOnNext} saveOnPrevious={saveOnPrevious} cancelApplication={cancelApplication} goToPreviousStep={goToPreviousStep} stepConfig={[{
    id: '1',
    index: 1,
    label: 'Skal bo i utlandet',
    isSelected: true
  }]} />;
}`,...(A=(L=g.parameters)==null?void 0:L.docs)==null?void 0:A.source}}};const Se=["Default"];export{g as Default,Se as __namedExportsOrder,he as default};
//# sourceMappingURL=SenereUtenlandsoppholdPanel.stories-1c81606b.js.map
