import{j as e}from"./jsx-runtime-QvZ8i92b.js";import{u as V,S as R,i as U,D as M,a as j,b as P,c as B,d as x,e as b,f as I,g as $,h as H,F as Y,E as z,j as G,k as v}from"./dateFormValidation-DXeC0zOz.js";import{r as D}from"./index-uubelm5h.js";import{u as K}from"./index-BQarJUyT.js";import{d as s,D as O,a as q,i as W,V as T,M as c,c as X,f as y,B as E,S as J,b as Q,H as Z}from"./CalendarLabel-powxi3BW.js";import{S as ee}from"./Plus-DXbYTNhw.js";import"./v4-CQkTLCs1.js";import"./index-Dei0BBcc.js";import"./tslib.es6-CwyXKlH1.js";import"./index-D3eZ-H7s.js";const L=({index:t,fjernOpphold:p})=>{const n=K(),{watch:r,trigger:S,formState:{isSubmitted:u}}=V(),f=r("utenlandsoppholdNeste12Mnd").filter((i,k)=>k!==t),a=r(`utenlandsoppholdNeste12Mnd.${t}.fom`),o=r(`utenlandsoppholdNeste12Mnd.${t}.tom`),d=s(O).toDate(),l=o?s(o).subtract(1,"days").toDate():s(q).toDate(),m=a&&W(a)?s(a).add(1,"days").toDate():s(O).toDate(),g=s(q).toDate();return e.jsxs(T,{gap:"5",align:"start",children:[e.jsx(R,{name:`utenlandsoppholdNeste12Mnd.${t}.landkode`,label:e.jsx(c,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Spørsmål.HvilketLandSkalDuBoI"}),validate:[U(n.formatMessage({id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandDuSkalBoIPåkreved"}))],children:X().map(i=>e.jsx("option",{value:i[0],children:i[1]},i[0]))}),e.jsx(M,{name:`utenlandsoppholdNeste12Mnd.${t}.fom`,label:e.jsx(c,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Fraogmed"}),minDate:d,maxDate:l,validate:[U(n.formatMessage({id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandFomDuSkalBoIPåkreved"})),j(n.formatMessage({id:"SenereUtenlandsoppholdSteg.FraOgMedDato.GyldigDato"})),P(n.formatMessage({id:"SenereUtenlandsoppholdSteg.FomErLikTom"}),o),B(n.formatMessage({id:"SenereUtenlandsoppholdSteg.Utenlandsopphold.FørTilDato"}),o),x(n.formatMessage({id:"SenereUtenlandsoppholdSteg.DateOutsideRangeFom"},{min:y(d),max:y(l)}),d,l),b(n.formatMessage({id:"SenereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"}),{date:o,isStartDate:!1},f)],onChange:()=>u&&S()}),e.jsx(M,{name:`utenlandsoppholdNeste12Mnd.${t}.tom`,label:e.jsx(c,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Tilogmed"}),minDate:m,maxDate:g,validate:[U(n.formatMessage({id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandTomDuSkalBoIPåkreved"})),j(n.formatMessage({id:"SenereUtenlandsoppholdSteg.TilOgMedDato.GyldigDato"})),P(n.formatMessage({id:"SenereUtenlandsoppholdSteg.TomErLikFom"}),a),I(n.formatMessage({id:"SenereUtenlandsoppholdSteg.Utenlandsopphold.EtterFraDato"}),a),x(n.formatMessage({id:"SenereUtenlandsoppholdSteg.DateOutsideRangeTom"},{min:y(m),max:y(g)}),m,g),b(n.formatMessage({id:"SenereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"}),{date:a,isStartDate:!0},f)],onChange:()=>u&&S(),defaultMonth:a?s(a).toDate():void 0}),t>0&&e.jsx(E,{type:"button",variant:"tertiary",size:"small",icon:e.jsx(J,{"aria-hidden":!0}),onClick:()=>p(t),children:e.jsx(c,{id:"SenereUtenlandsoppholdSteg.Knapp.SlettOpphold"})})]})};L.__docgenInfo={description:"",methods:[],displayName:"SenereUtenlandsoppholdPanel"};const w={fom:"",tom:"",landkode:""},ne={utenlandsoppholdNeste12Mnd:[w]},_=({saveOnNext:t,saveOnPrevious:p,cancelApplication:n,onContinueLater:r,goToPreviousStep:S,senereUtenlandsopphold:u,stepConfig:f})=>{const a=D.useMemo(()=>u||ne,[u]),o=$({defaultValues:a}),{fields:d,append:l,remove:m}=H({name:"utenlandsoppholdNeste12Mnd",control:o.control}),g=D.useCallback(()=>{l(w)},[l]);return e.jsx(Q,{onCancel:n,onContinueLater:r,steps:f,children:e.jsx(Y,{formMethods:o,onSubmit:t,children:e.jsxs(T,{gap:"10",children:[e.jsx(z,{}),e.jsxs(T,{gap:"10",align:"start",children:[d.map((i,k)=>e.jsxs(D.Fragment,{children:[e.jsx(L,{index:k,fjernOpphold:m}),d.length>1&&e.jsx(Z,{})]},i.id)),e.jsx(E,{type:"button",variant:"secondary",size:"small",icon:e.jsx(ee,{"aria-hidden":!0}),onClick:g,children:e.jsx(c,{id:"SenereUtenlandsoppholdSteg.Knapp.LeggTilLand"})})]}),e.jsx(G,{goToPreviousStep:S,saveDataOnPreviousClick:p})]})})})},C=_;_.__docgenInfo={description:"",methods:[],displayName:"SenereUtenlandsoppholdPanel",props:{senereUtenlandsopphold:{required:!1,tsType:{name:"signature",type:"object",raw:`{
    utenlandsoppholdNeste12Mnd: UtenlandsoppholdPeriode[];
}`,signature:{properties:[{key:"utenlandsoppholdNeste12Mnd",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fom: string;
    tom: string;
    landkode: string;
}`,signature:{properties:[{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!0}},{key:"landkode",value:{name:"string",required:!0}}]}}],raw:"UtenlandsoppholdPeriode[]",required:!0}}]}},description:""},saveOnNext:{required:!0,tsType:{name:"signature",type:"function",raw:"(formValues: UtenlandsoppholdSenere) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
    utenlandsoppholdNeste12Mnd: UtenlandsoppholdPeriode[];
}`,signature:{properties:[{key:"utenlandsoppholdNeste12Mnd",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fom: string;
    tom: string;
    landkode: string;
}`,signature:{properties:[{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!0}},{key:"landkode",value:{name:"string",required:!0}}]}}],raw:"UtenlandsoppholdPeriode[]",required:!0}}]}},name:"formValues"}],return:{name:"void"}}},description:""},saveOnPrevious:{required:!0,tsType:{name:"signature",type:"function",raw:"(formValues: UtenlandsoppholdSenere | undefined) => void",signature:{arguments:[{type:{name:"union",raw:"UtenlandsoppholdSenere | undefined",elements:[{name:"signature",type:"object",raw:`{
    utenlandsoppholdNeste12Mnd: UtenlandsoppholdPeriode[];
}`,signature:{properties:[{key:"utenlandsoppholdNeste12Mnd",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fom: string;
    tom: string;
    landkode: string;
}`,signature:{properties:[{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!0}},{key:"landkode",value:{name:"string",required:!0}}]}}],raw:"UtenlandsoppholdPeriode[]",required:!0}}]}},{name:"undefined"}]},name:"formValues"}],return:{name:"void"}}},description:""},cancelApplication:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onContinueLater:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},goToPreviousStep:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},stepConfig:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    id: TYPE;
    label?: string;
    isSelected: boolean;
    completed?: boolean;
}`,signature:{properties:[{key:"id",value:{name:"TYPE",required:!0}},{key:"label",value:{name:"string",required:!1}},{key:"isSelected",value:{name:"boolean",required:!0}},{key:"completed",value:{name:"boolean",required:!1}}]}}],raw:"Array<ProgressStep<TYPE>>"},description:""}}};const ge={title:"SenereUtenlandsoppholdPanel",component:C},te=({saveOnNext:t,saveOnPrevious:p,cancelApplication:n,goToPreviousStep:r})=>e.jsx(C,{saveOnNext:t,saveOnPrevious:p,cancelApplication:n,goToPreviousStep:r,stepConfig:[{id:"1",label:"Skal bo i utlandet",isSelected:!0}]}),h=te.bind({});h.args={saveOnNext:v("button-click"),saveOnPrevious:v("button-click"),cancelApplication:v("button-click"),goToPreviousStep:v("button-click")};var N,F,A;h.parameters={...h.parameters,docs:{...(N=h.parameters)==null?void 0:N.docs,source:{originalSource:`({
  saveOnNext,
  saveOnPrevious,
  cancelApplication,
  goToPreviousStep
}) => {
  return <SenereUtenlandsoppholdPanel saveOnNext={saveOnNext} saveOnPrevious={saveOnPrevious} cancelApplication={cancelApplication} goToPreviousStep={goToPreviousStep} stepConfig={[{
    id: '1',
    label: 'Skal bo i utlandet',
    isSelected: true
  }]} />;
}`,...(A=(F=h.parameters)==null?void 0:F.docs)==null?void 0:A.source}}};const ce=["Default"];export{h as Default,ce as __namedExportsOrder,ge as default};
