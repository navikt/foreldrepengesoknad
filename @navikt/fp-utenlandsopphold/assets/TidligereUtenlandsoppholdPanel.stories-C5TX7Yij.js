import{d as s,e as D,D as j,g as N,j as e,V as M,M as c,c as V,f as S,B as w,S as I,b as R,H as $}from"./infobox.module-DVaAIC0T.js";import{u as Y,S as z,i as k,D as P,a as b,b as x,c as G,d as O,e as q,f as K,g as W,h as X,F as J,E as Q,j as Z,k as y}from"./dateFormValidation-CdxIbiTd.js";import{r as U}from"./index-DVXBtNgz.js";import{u as ee}from"./index-CGcmP6XP.js";import{S as te}from"./Plus-Dd_KP2LG.js";import"./tslib.es6-CwyXKlH1.js";import"./index-Dcs0RV0A.js";import"./index-Cbx7Fas8.js";import"./v4-CQkTLCs1.js";const L=({index:n,fjernOpphold:u})=>{const t=ee(),{watch:r,trigger:T,formState:{isSubmitted:f}}=Y(),v=r("utenlandsoppholdSiste12Mnd").filter((p,g)=>g!==n),o=r(`utenlandsoppholdSiste12Mnd.${n}.fom`),a=r(`utenlandsoppholdSiste12Mnd.${n}.tom`),i=s(D).toDate(),d=a?s(a).subtract(1,"days").toDate():s(j).toDate(),l=o&&N(o,D)?s(o).add(1,"days").toDate():s(D).toDate(),m=s(j).toDate();return e.jsxs(M,{gap:"5",align:"start",children:[e.jsx(z,{name:`utenlandsoppholdSiste12Mnd.${n}.landkode`,label:e.jsx(c,{id:"TidligereUtenlandsoppholdSteg.Spørsmål.HvilketLandHarDuBoddI"}),validate:[k(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandDuHarBoddIPåkrevd"}))],children:V().map(p=>e.jsx("option",{value:p[0],children:p[1]},p[0]))}),e.jsx(P,{name:`utenlandsoppholdSiste12Mnd.${n}.fom`,label:e.jsx(c,{id:"TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Fraogmed"}),minDate:i,maxDate:d,validate:[k(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandFomDuSkalBoIPåkreved"})),b(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.FraOgMedDato.GyldigDato"})),x(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.FomErLikTom"}),a),G(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.Utenlandsopphold.FørTilDato"}),a),O(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.DateOutsideRangeFom"},{min:S(i),max:S(d)}),i,d),q(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"}),{date:a,isStartDate:!1},v)],onChange:()=>f&&T(),defaultMonth:a?s(a).toDate():void 0}),e.jsx(P,{name:`utenlandsoppholdSiste12Mnd.${n}.tom`,label:e.jsx(c,{id:"TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Tilogmed"}),minDate:l,maxDate:m,validate:[k(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandTomDuHarBoddIPåkreved"})),b(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.TilOgMedDato.GyldigDato"})),x(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.TomErLikFom"}),o),K(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.Utenlandsopphold.EtterFraDato"}),o),O(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.DateOutsideRangeTom"},{min:S(l),max:S(m)}),l,m),q(t.formatMessage({id:"TidligereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"}),{date:o,isStartDate:!0},v)],onChange:()=>f&&T()}),n>0&&e.jsx(w,{type:"button",variant:"tertiary",size:"small",icon:e.jsx(I,{"aria-hidden":!0}),onClick:()=>u(n),children:e.jsx(c,{id:"TidligereUtenlandsoppholdSteg.Knapp.SlettOpphold"})})]})};L.__docgenInfo={description:"",methods:[],displayName:"TidligereUtenlandsoppholdPanel"};const _={fom:"",tom:"",landkode:""},ne={utenlandsoppholdSiste12Mnd:[_]},C=({tidligereUtenlandsopphold:n,saveOnNext:u,saveOnPrevious:t,cancelApplication:r,onContinueLater:T,goToPreviousStep:f,stepConfig:v})=>{const o=U.useMemo(()=>n||ne,[n]),a=W({defaultValues:o}),{fields:i,append:d,remove:l}=X({name:"utenlandsoppholdSiste12Mnd",control:a.control}),m=U.useCallback(()=>{d(_)},[d]),p=U.useCallback(g=>{l(g)},[l]);return e.jsx(R,{onCancel:r,onContinueLater:T,steps:v,children:e.jsx(J,{formMethods:a,onSubmit:u,children:e.jsxs(M,{gap:"10",children:[e.jsx(Q,{}),e.jsxs(M,{gap:"10",align:"start",children:[i.map((g,B)=>e.jsxs(U.Fragment,{children:[e.jsx(L,{index:B,fjernOpphold:p}),i.length>1&&e.jsx($,{})]},g.id)),e.jsx(w,{type:"button",variant:"secondary",size:"small",icon:e.jsx(te,{"aria-hidden":!0}),onClick:m,children:e.jsx(c,{id:"TidligereUtenlandsoppholdSteg.Knapp.LeggTilLand"})})]}),e.jsx(Z,{goToPreviousStep:f,saveDataOnPreviousClick:t})]})})})},H=C;C.__docgenInfo={description:"",methods:[],displayName:"TidligereUtenlandsoppholdPanel",props:{tidligereUtenlandsopphold:{required:!1,tsType:{name:"signature",type:"object",raw:`{
    utenlandsoppholdSiste12Mnd: UtenlandsoppholdPeriode[];
}`,signature:{properties:[{key:"utenlandsoppholdSiste12Mnd",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fom: string;
    tom: string;
    landkode: string;
}`,signature:{properties:[{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!0}},{key:"landkode",value:{name:"string",required:!0}}]}}],raw:"UtenlandsoppholdPeriode[]",required:!0}}]}},description:""},saveOnNext:{required:!0,tsType:{name:"signature",type:"function",raw:"(formValues: UtenlandsoppholdTidligere) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
    utenlandsoppholdSiste12Mnd: UtenlandsoppholdPeriode[];
}`,signature:{properties:[{key:"utenlandsoppholdSiste12Mnd",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fom: string;
    tom: string;
    landkode: string;
}`,signature:{properties:[{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!0}},{key:"landkode",value:{name:"string",required:!0}}]}}],raw:"UtenlandsoppholdPeriode[]",required:!0}}]}},name:"formValues"}],return:{name:"void"}}},description:""},saveOnPrevious:{required:!0,tsType:{name:"signature",type:"function",raw:"(data: UtenlandsoppholdTidligere | undefined) => void",signature:{arguments:[{type:{name:"union",raw:"UtenlandsoppholdTidligere | undefined",elements:[{name:"signature",type:"object",raw:`{
    utenlandsoppholdSiste12Mnd: UtenlandsoppholdPeriode[];
}`,signature:{properties:[{key:"utenlandsoppholdSiste12Mnd",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fom: string;
    tom: string;
    landkode: string;
}`,signature:{properties:[{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!0}},{key:"landkode",value:{name:"string",required:!0}}]}}],raw:"UtenlandsoppholdPeriode[]",required:!0}}]}},{name:"undefined"}]},name:"data"}],return:{name:"void"}}},description:""},cancelApplication:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onContinueLater:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},goToPreviousStep:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},stepConfig:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    id: TYPE;
    label?: string;
    isSelected: boolean;
    completed?: boolean;
}`,signature:{properties:[{key:"id",value:{name:"TYPE",required:!0}},{key:"label",value:{name:"string",required:!1}},{key:"isSelected",value:{name:"boolean",required:!0}},{key:"completed",value:{name:"boolean",required:!1}}]}}],raw:"Array<ProgressStep<TYPE>>"},description:""}}};const ge={title:"TidligereUtenlandsoppholdPanel",component:H},ae=({saveOnNext:n,saveOnPrevious:u,cancelApplication:t,goToPreviousStep:r})=>e.jsx(H,{saveOnNext:n,saveOnPrevious:u,cancelApplication:t,goToPreviousStep:r,stepConfig:[{id:"1",label:"Har bodd i utlandet",isSelected:!0}]}),h=ae.bind({});h.args={saveOnNext:y("button-click"),saveOnPrevious:y("button-click"),cancelApplication:y("button-click"),goToPreviousStep:y("button-click")};var A,F,E;h.parameters={...h.parameters,docs:{...(A=h.parameters)==null?void 0:A.docs,source:{originalSource:`({
  saveOnNext,
  saveOnPrevious,
  cancelApplication,
  goToPreviousStep
}) => {
  return <TidligereUtenlandsoppholdPanel saveOnNext={saveOnNext} saveOnPrevious={saveOnPrevious} cancelApplication={cancelApplication} goToPreviousStep={goToPreviousStep} stepConfig={[{
    id: '1',
    label: 'Har bodd i utlandet',
    isSelected: true
  }]} />;
}`,...(E=(F=h.parameters)==null?void 0:F.docs)==null?void 0:E.source}}};const ce=["Default"];export{h as Default,ce as __namedExportsOrder,ge as default};
