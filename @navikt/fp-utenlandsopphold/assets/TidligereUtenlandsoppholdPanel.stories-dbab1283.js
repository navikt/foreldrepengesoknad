import{j as e}from"./jsx-runtime-4ca860c5.js";import{a as v}from"./chunk-AY7I2SME-434f1f0a.js";import{r as U}from"./index-61bf1805.js";import"./index-6c64ffe2.js";import{u as H,h as R,j as u,D as y,k as _,V as P,m as B,b as c,i as O,n as $,o as k,p as b,q as F,r as w,s as C,t as f,v as L,w as G,x as M,T as z,a as K,y as Y,U as W,S as J,F as Q,E as X,P as Z,g as ee}from"./UtenlandsoppholdIntlProvider-5ba0a8ee.js";import"./_baseToString-42dba5cf.js";import"./_createSet-13baae69.js";import"./_commonjsHelpers-de833af9.js";import"./tslib.es6-c380bd65.js";import"./index-9d475cdf.js";import"./index-2801d3c9.js";const te=({index:n,fjernOpphold:m})=>{const{i18n:t}=H(),{watch:a,trigger:h,formState:{isSubmitted:T}}=R(),S=a("utenlandsoppholdSiste12Mnd").filter((p,D)=>D!==n),o=a(`utenlandsoppholdSiste12Mnd.${n}.fom`),l=a(`utenlandsoppholdSiste12Mnd.${n}.tom`),d=u(y).toDate(),i=l?u(l).toDate():u(_).toDate(),s=o?u(o).toDate():u(y).toDate(),r=u(_).toDate();return e.jsxs(P,{gap:"5",align:"start",children:[e.jsx(B,{name:`utenlandsoppholdSiste12Mnd.${n}.landkode`,label:e.jsx(c,{id:"TidligereUtenlandsoppholdSteg.Spørsmål.HvilketLandHarDuBoddI"}),validate:[O(t("TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandDuHarBoddIPåkrevd"))],children:$().map(p=>e.jsx("option",{value:p[0],children:p[1]},p[0]))}),e.jsx(k,{name:`utenlandsoppholdSiste12Mnd.${n}.fom`,label:e.jsx(c,{id:"TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Fraogmed"}),minDate:d,maxDate:i,validate:[O(t("TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandFomDuSkalBoIPåkreved")),b(t("TidligereUtenlandsoppholdSteg.FraOgMedDato.GyldigDato")),F(t("TidligereUtenlandsoppholdSteg.FomErLikTom"),l),w(t("TidligereUtenlandsoppholdSteg.Utenlandsopphold.FørTilDato"),l),C(t("TidligereUtenlandsoppholdSteg.DateOutsideRangeFom",{min:f(d),max:f(i)}),d,i),L(t("TidligereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"),{date:l,isStartDate:!1},S)],onChange:()=>T&&h()}),e.jsx(k,{name:`utenlandsoppholdSiste12Mnd.${n}.tom`,label:e.jsx(c,{id:"TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Tilogmed"}),minDate:s,maxDate:r,validate:[O(t("TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandTomDuHarBoddIPåkreved")),b(t("TidligereUtenlandsoppholdSteg.TilOgMedDato.GyldigDato")),F(t("TidligereUtenlandsoppholdSteg.TomErLikFom"),o),G(t("TidligereUtenlandsoppholdSteg.Utenlandsopphold.EtterFraDato"),o),C(t("TidligereUtenlandsoppholdSteg.DateOutsideRangeTom",{min:f(s),max:f(r)}),s,r),L(t("TidligereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"),{date:o,isStartDate:!0},S)],onChange:()=>T&&h()}),n>0&&e.jsx(M,{type:"button",variant:"tertiary",size:"small",icon:e.jsx(z,{"aria-hidden":!0}),onClick:()=>m(n),children:e.jsx(c,{id:"TidligereUtenlandsoppholdSteg.Knapp.SlettOpphold"})})]})};try{TidligereUtenlandsoppholdPeriode.displayName="TidligereUtenlandsoppholdPeriode",TidligereUtenlandsoppholdPeriode.__docgenInfo={description:"",displayName:"TidligereUtenlandsoppholdPeriode",props:{index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},fjernOpphold:{defaultValue:null,description:"",name:"fjernOpphold",required:!0,type:{name:"(index: number) => void"}}}}}catch{}const N={fom:"",tom:"",landkode:""},ne={utenlandsoppholdSiste12Mnd:[N]},j=({tidligereUtenlandsopphold:n,saveOnNext:m,saveOnPrevious:t,cancelApplication:a,onContinueLater:h,goToPreviousStep:T,stepConfig:S,supportsTempSaving:o=!1})=>{const l=U.useMemo(()=>n||ne,[n]),d=K({defaultValues:l}),{fields:i,append:s,remove:r}=Y({name:"utenlandsoppholdSiste12Mnd",control:d.control}),p=U.useCallback(()=>{s(N)},[s]),D=U.useCallback(x=>{r(x)},[r]);return e.jsx(W,{children:e.jsx(J,{onCancel:a,onContinueLater:h,steps:S,useNoTempSavingText:!o,children:e.jsx(Q,{formMethods:d,onSubmit:m,children:e.jsxs(P,{gap:"10",children:[e.jsx(X,{}),e.jsxs(P,{gap:"10",align:"start",children:[i.map((x,I)=>e.jsxs(U.Fragment,{children:[e.jsx(te,{index:I,fjernOpphold:D}),i.length>1&&e.jsx("hr",{style:{width:"100%"},color:"#99C4DD"})]},x.id)),e.jsx(M,{type:"button",variant:"secondary",size:"small",icon:e.jsx(Z,{"aria-hidden":!0}),onClick:p,children:e.jsx(c,{id:"TidligereUtenlandsoppholdSteg.Knapp.LeggTilLand"})})]}),e.jsx(ee,{goToPreviousStep:T,saveDataOnPreviousClick:t})]})})})})},q=j;try{j.displayName="TidligereUtenlandsoppholdPanel",j.__docgenInfo={description:"",displayName:"TidligereUtenlandsoppholdPanel",props:{tidligereUtenlandsopphold:{defaultValue:null,description:"",name:"tidligereUtenlandsopphold",required:!1,type:{name:"UtenlandsoppholdTidligere"}},saveOnNext:{defaultValue:null,description:"",name:"saveOnNext",required:!0,type:{name:"(formValues: UtenlandsoppholdTidligere) => void"}},saveOnPrevious:{defaultValue:null,description:"",name:"saveOnPrevious",required:!0,type:{name:"(data: UtenlandsoppholdTidligere | undefined) => void"}},cancelApplication:{defaultValue:null,description:"",name:"cancelApplication",required:!0,type:{name:"() => void"}},onContinueLater:{defaultValue:null,description:"",name:"onContinueLater",required:!1,type:{name:"(() => void)"}},goToPreviousStep:{defaultValue:null,description:"",name:"goToPreviousStep",required:!0,type:{name:"() => void"}},stepConfig:{defaultValue:null,description:"",name:"stepConfig",required:!0,type:{name:"StepConfig[]"}},supportsTempSaving:{defaultValue:{value:"false"},description:"",name:"supportsTempSaving",required:!1,type:{name:"boolean"}}}}}catch{}const he={title:"TidligereUtenlandsoppholdPanel",component:q},ae=({saveOnNext:n,saveOnPrevious:m,cancelApplication:t,goToPreviousStep:a})=>e.jsx(q,{saveOnNext:n,saveOnPrevious:m,cancelApplication:t,goToPreviousStep:a,stepConfig:[{id:"1",index:1,label:"Har bodd i utlandet",isSelected:!0}]}),g=ae.bind({});g.args={saveOnNext:v("button-click"),saveOnPrevious:v("button-click"),cancelApplication:v("button-click"),goToPreviousStep:v("button-click")};var V,A,E;g.parameters={...g.parameters,docs:{...(V=g.parameters)==null?void 0:V.docs,source:{originalSource:`({
  saveOnNext,
  saveOnPrevious,
  cancelApplication,
  goToPreviousStep
}) => {
  return <TidligereUtenlandsoppholdPanel saveOnNext={saveOnNext} saveOnPrevious={saveOnPrevious} cancelApplication={cancelApplication} goToPreviousStep={goToPreviousStep} stepConfig={[{
    id: '1',
    index: 1,
    label: 'Har bodd i utlandet',
    isSelected: true
  }]} />;
}`,...(E=(A=g.parameters)==null?void 0:A.docs)==null?void 0:E.source}}};const Te=["Default"];export{g as Default,Te as __namedExportsOrder,he as default};
//# sourceMappingURL=TidligereUtenlandsoppholdPanel.stories-dbab1283.js.map
