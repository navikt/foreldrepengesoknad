import{e as s,j as e,V as E,F as g,c as L,T as M,S as C,P as A}from"./index-2c329dda.js";import{r as h}from"./_baseToString-4ec4abc0.js";import{a as I,b as R,D as v,u as V,c as B,F as $,E as H,S as q}from"./ErrorSummaryHookForm-8cc88f96.js";import"./_createSet-fd84fb43.js";import{u as P,h as x,t as j,e as f,j as w,k as F,m as O,n as z,o as k,p as U,q as N,r as G,b as K,a as W,c as Y,E as y,d as J}from"./useEsNavigator-0643a384.js";const Q=({index:a,fjernOpphold:c})=>{const{i18n:t}=P(),{watch:d,trigger:p,formState:{isSubmitted:u}}=I(),r=d("utenlandsoppholdNeste12Mnd").filter((o,T)=>T!==a),l=d(`utenlandsoppholdNeste12Mnd.${a}.fom`),n=d(`utenlandsoppholdNeste12Mnd.${a}.tom`),i=s(x).toDate(),D=n?s(n).toDate():s(j).toDate(),S=s(l||x).toDate(),m=s(j).toDate();return e.jsxs(E,{gap:"5",align:"start",children:[e.jsx(R,{name:`utenlandsoppholdNeste12Mnd.${a}.landkode`,label:e.jsx(g,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Spørsmål.HvilketLandSkalDuBoI"}),validate:[f(t("SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandDuSkalBoIPåkreved"))],children:w().map(o=>e.jsx("option",{value:o[0],children:o[1]},o[0]))}),e.jsx(v,{name:`utenlandsoppholdNeste12Mnd.${a}.fom`,label:e.jsx(g,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Fraogmed"}),minDate:s(x).toDate(),maxDate:n?s(n).toDate():s(j).toDate(),validate:[f(t("SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandFomDuSkalBoIPåkreved")),F(t("SenereUtenlandsoppholdSteg.FraOgMedDato.GyldigDato")),O(t("SenereUtenlandsoppholdSteg.FomErLikTom"),n),z(t("SenereUtenlandsoppholdSteg.Utenlandsopphold.FørTilDato"),n),k(t("SenereUtenlandsoppholdSteg.DateOutsideRangeFom",{min:U(i),max:U(D)}),i,D),N(t("SenereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"),{date:n,isStartDate:!1},r)],onChange:()=>u&&p()}),e.jsx(v,{name:`utenlandsoppholdNeste12Mnd.${a}.tom`,label:e.jsx(g,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Tilogmed"}),minDate:S,maxDate:m,validate:[f(t("SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandTomDuSkalBoIPåkreved")),F(t("SenereUtenlandsoppholdSteg.TilOgMedDato.GyldigDato")),O(t("SenereUtenlandsoppholdSteg.TomErLikFom"),l),G(t("SenereUtenlandsoppholdSteg.Utenlandsopphold.EtterFraDato"),l),k(t("SenereUtenlandsoppholdSteg.DateOutsideRangeTom",{min:U(S),max:U(m)}),S,m),N(t("SenereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"),{date:l,isStartDate:!0},r)],onChange:()=>u&&p()}),a>0&&e.jsx(L,{type:"button",variant:"tertiary",size:"small",icon:e.jsx(M,{"aria-hidden":!0}),onClick:()=>c(a),children:e.jsx(g,{id:"SenereUtenlandsoppholdSteg.Knapp.SlettOpphold"})})]})};try{SenereUtenlandsoppholdPeriode.displayName="SenereUtenlandsoppholdPeriode",SenereUtenlandsoppholdPeriode.__docgenInfo={description:"",displayName:"SenereUtenlandsoppholdPeriode",props:{index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},fjernOpphold:{defaultValue:null,description:"",name:"fjernOpphold",required:!0,type:{name:"(index: number) => void"}}}}}catch{}const b={fom:"",tom:"",landkode:""},X={utenlandsoppholdNeste12Mnd:[b]},_=()=>{const{i18n:a}=P(),c=K(),t=W(),d=Y(y.UTENLANDSOPPHOLD_SENERE),p=J(y.UTENLANDSOPPHOLD_SENERE),u=h.useMemo(()=>d||X,[d]),r=V({defaultValues:u}),{fields:l,append:n,remove:i}=B({name:"utenlandsoppholdNeste12Mnd",control:r.control}),D=h.useCallback(()=>{n(b)},[n]),S=h.useCallback(o=>{i(o)},[i]),m=h.useCallback(o=>{p(o),t.goToNextDefaultStep()},[p,t]);return e.jsx(C,{bannerTitle:a("Søknad.Pageheading"),pageTitle:a("SenereUtenlandsoppholdSteg.Fremtidig"),onCancel:t.avbrytSøknad,steps:c.stepConfig,activeStepId:c.activeStepId,useNoTempSavingText:!0,children:e.jsx($,{formMethods:r,onSubmit:m,children:e.jsxs(E,{gap:"10",children:[e.jsx(H,{}),e.jsxs(E,{gap:"10",align:"start",children:[l.map((o,T)=>e.jsxs(h.Fragment,{children:[e.jsx(Q,{index:T,fjernOpphold:S}),l.length>1&&e.jsx("hr",{style:{width:"100%"},color:"#99C4DD"})]},o.id)),e.jsx(L,{type:"button",variant:"secondary",size:"small",icon:e.jsx(A,{"aria-hidden":!0}),onClick:D,children:e.jsx(g,{id:"SenereUtenlandsoppholdSteg.Knapp.LeggTilLand"})})]}),e.jsx(q,{goToPreviousStep:t.goToPreviousDefaultStep,saveDataOnPreviousClick:p})]})})})},oe=_;try{_.displayName="SenereUtenlandsoppholdSteg",_.__docgenInfo={description:"",displayName:"SenereUtenlandsoppholdSteg",props:{}}}catch{}export{oe as S};
//# sourceMappingURL=SenereUtenlandsoppholdSteg-0abc1f7e.js.map
