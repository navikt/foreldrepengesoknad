import{j as e}from"./jsx-runtime-69eee039.js";import{r as g}from"./index-7c191284.js";import{A as _,H as $,u as F,V as y,b as i,B as r,F as d,f as T,x as S,i as H,g as N,e as R,C as w}from"./IntlProvider-4e33f46c.js";import{a as m}from"./dateUtils-eef781fc.js";import{A as D,S as G}from"./StepButtons-a9eb5602.js";import{n as j,a as K,u as W,b as u,E as c}from"./useEsNavigator-418925c5.js";import{e as z,a as I,b as P}from"./Attachment-77c59016.js";const J=s=>!!s.terminbekreftelsedato;const x=({tittel:s,children:n})=>{const[t,a]=g.useState(!1),o=g.useCallback(()=>a(l=>!l),[]);return e.jsxs(_.Item,{children:[e.jsx(_.Header,{className:t?"accordian_header":void 0,onClick:o,children:e.jsx($,{level:"2",size:"small",children:s})}),e.jsx(_.Content,{className:"content_margin",children:n})]})};try{x.displayName="Oppsummeringspunkt",x.__docgenInfo={description:"",displayName:"Oppsummeringspunkt",props:{tittel:{defaultValue:null,description:"",name:"tittel",required:!0,type:{name:"string"}}}}}catch{}const b=({omBarnet:s,dokumentasjon:n})=>{const t=F(),a=z(s),o=I(s),l=P(s);let p;return s.antallBarn===1?p=t.formatMessage({id:"oppsummering.omBarnet.ettBarn"}):s.antallBarn===2&&!a?p=t.formatMessage({id:"oppsummering.omBarnet.tvillinger"}):s.antallBarn===2&&a?p=t.formatMessage({id:"oppsummering.omBarnet.toBarn"}):p=t.formatMessage({id:"oppsummering.omBarnet.flereBarn"},{antall:s.antallBarn}),e.jsxs(y,{gap:"4",children:[e.jsxs(i,{gap:"2",children:[e.jsx(r,{children:e.jsx(d,{id:"oppsummering.text.soknadenGjelder"})}),e.jsx(r,{children:p})]}),a&&e.jsxs(e.Fragment,{children:[e.jsxs(i,{gap:"2",children:[e.jsx(r,{children:e.jsx(d,{id:"oppsummering.text.medAdopsjonsdato"})}),e.jsx(r,{children:m(s.adopsjonsdato)})]}),e.jsxs(i,{gap:"2",children:[e.jsx(r,{children:e.jsx(d,{id:s.fødselsdatoer.length>1?"oppsummering.text.medFødselsdatoer":"oppsummering.text.medFødselsdato"})}),e.jsx(T,{children:s.fødselsdatoer.map((O,h)=>m(s.fødselsdatoer[h].dato)).join(", ")})]}),e.jsx(S,{children:e.jsx(d,{id:"oppsummering.text.vedlagtOmsorgsovertakelseBekreftelse"})}),e.jsx(D,{attachments:j(n).vedlegg})]}),l&&e.jsxs(i,{gap:"2",children:[e.jsx(r,{children:e.jsx(d,{id:"oppsummering.text.medFødselsdato"})}),e.jsx(r,{children:m(s.fødselsdatoer[0].dato)})]}),o&&n&&J(n)&&e.jsxs(e.Fragment,{children:[e.jsxs(i,{gap:"2",children:[e.jsx(r,{children:e.jsx(d,{id:"oppsummering.text.medTermindato"})}),e.jsx(r,{children:m(s.termindato)})]}),e.jsxs(i,{gap:"2",children:[e.jsx(r,{children:e.jsx(d,{id:"oppsummering.text.somErDatert"})}),e.jsx(r,{children:m(n.terminbekreftelsedato)})]}),e.jsx(S,{children:e.jsx(d,{id:"oppsummering.text.vedlagtTerminbekreftelse"})}),e.jsx(D,{attachments:n.vedlegg})]})]})};try{b.displayName="OmBarnetOppsummering",b.__docgenInfo={description:"",displayName:"OmBarnetOppsummering",props:{omBarnet:{defaultValue:null,description:"",name:"omBarnet",required:!0,type:{name:"OmBarnet"}},dokumentasjon:{defaultValue:null,description:"",name:"dokumentasjon",required:!1,type:{name:"Dokumentasjon"}}}}}catch{}const k=({utenlandsoppholdListe:s})=>e.jsx("ul",{className:"landOppsummering",children:s.map(n=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx(T,{children:H.getName(n.landkode,"nb")}),e.jsxs(T,{children:[m(n.fom)," - ",m(n.tom)]})]},`${n.landkode}${n.fom}`))});try{k.displayName="LandOppsummering",k.__docgenInfo={description:"",displayName:"LandOppsummering",props:{utenlandsoppholdListe:{defaultValue:null,description:"",name:"utenlandsoppholdListe",required:!0,type:{name:"UtenlandsoppholdPeriode[]"}}}}}catch{}const E=(s,n,t)=>N(s).isBetween(N(n),N(t),"day","[]"),L=(s,n=[],t=[])=>n.some(a=>E(s,a.fom,a.tom))||t.some(a=>E(s,a.fom,a.tom)),v=({omBarnet:s,utenlandsopphold:n,tidligereUtenlandsopphold:t,senereUtenlandsopphold:a})=>{const o=I(s),l=P(s);return e.jsxs(y,{gap:"4",children:[n.harBoddUtenforNorgeSiste12Mnd===!1?e.jsxs(i,{gap:"2",children:[e.jsx(r,{children:e.jsx(d,{id:"oppsummering.text.boddSisteTolv"})}),e.jsx(r,{children:e.jsx(d,{id:"norge"})})]}):e.jsxs("div",{children:[e.jsx(S,{className:"textWithLabel__label",children:e.jsx(d,{id:"oppsummering.text.boddSisteTolv"})}),e.jsx(k,{utenlandsoppholdListe:j(t).utenlandsoppholdSiste12Mnd})]}),n.skalBoUtenforNorgeNeste12Mnd===!1?e.jsxs(i,{gap:"2",children:[e.jsx(r,{children:e.jsx(d,{id:"oppsummering.text.neste12mnd"})}),e.jsx(r,{children:e.jsx(d,{id:"medlemmskap.radiobutton.boNorge"})})]}):e.jsxs("div",{children:[e.jsx(S,{className:"textWithLabel__label",children:e.jsx(d,{id:"oppsummering.text.neste12mnd"})}),e.jsx(k,{utenlandsoppholdListe:j(a).utenlandsoppholdNeste12Mnd})]}),o&&e.jsxs(i,{gap:"2",children:[e.jsx(r,{children:e.jsx(d,{id:"oppsummering.text.ogKommerPåFødselstidspunktet"})}),e.jsx(r,{children:e.jsx(d,{id:L(s.termindato,t==null?void 0:t.utenlandsoppholdSiste12Mnd,a==null?void 0:a.utenlandsoppholdNeste12Mnd)?"medlemmskap.radiobutton.vareUtlandet":"medlemmskap.radiobutton.vareNorge"})})]}),l&&e.jsxs(i,{gap:"2",children:[e.jsx(r,{children:e.jsx(d,{id:"oppsummering.text.varPåFødselstidspunktet"})}),e.jsx(r,{children:e.jsx(d,{id:L(s.fødselsdatoer[0].dato,t==null?void 0:t.utenlandsoppholdSiste12Mnd,a==null?void 0:a.utenlandsoppholdNeste12Mnd)?"oppsummering.utenlandsopphold.iUtlandet":"oppsummering.utenlandsopphold.iNorge"})})]})]})};try{v.displayName="UtenlandsoppholdOppsummering",v.__docgenInfo={description:"",displayName:"UtenlandsoppholdOppsummering",props:{omBarnet:{defaultValue:null,description:"",name:"omBarnet",required:!0,type:{name:"OmBarnet"}},utenlandsopphold:{defaultValue:null,description:"",name:"utenlandsopphold",required:!0,type:{name:"Utenlandsopphold"}},tidligereUtenlandsopphold:{defaultValue:null,description:"",name:"tidligereUtenlandsopphold",required:!1,type:{name:"UtenlandsoppholdTidligere"}},senereUtenlandsopphold:{defaultValue:null,description:"",name:"senereUtenlandsopphold",required:!1,type:{name:"UtenlandsoppholdSenere"}}}}}catch{}const Q=(s,n,t)=>t?`${s} ${t} ${n}`:`${s} ${n}`,B=({person:s,sendSøknad:n})=>{const t=F(),a=K(),o=W(),l=j(u(c.OM_BARNET)),p=j(u(c.UTENLANDSOPPHOLD)),O=u(c.DOKUMENTASJON),h=u(c.UTENLANDSOPPHOLD_TIDLIGERE),M=u(c.UTENLANDSOPPHOLD_SENERE),[f,C]=g.useState(!1),[V,A]=g.useState(!1),q=g.useCallback(()=>{f?(n(l,p,O,h,M),o.goToNextDefaultStep()):A(!0)},[f]);return e.jsx(R,{bannerTitle:t.formatMessage({id:"Søknad.Pageheading"}),pageTitle:t.formatMessage({id:"søknad.oppsummering"}),onCancel:o.avbrytSøknad,steps:a.stepConfig,activeStepId:a.activeStepId,useNoTempSavingText:!0,children:e.jsxs(y,{gap:"10",children:[e.jsxs(_,{children:[e.jsx(x,{tittel:t.formatMessage({id:"søknad.omDeg"}),children:e.jsxs(y,{gap:"4",children:[e.jsx(r,{children:Q(s.fornavn,s.etternavn,s.mellomnavn)}),e.jsx(r,{children:s.fnr})]})}),e.jsx(x,{tittel:t.formatMessage({id:"OmBarnetSteg.OmBarnet"}),children:e.jsx(b,{omBarnet:l,dokumentasjon:O})}),e.jsx(x,{tittel:t.formatMessage({id:"OppsummeringSteg.Utenlandsopphold"}),children:e.jsx(v,{omBarnet:l,utenlandsopphold:p,tidligereUtenlandsopphold:h,senereUtenlandsopphold:M})})]}),e.jsx(w,{label:t.formatMessage({id:"oppsummering.text.samtykke"}),onChange:()=>C(U=>!U),checked:f,error:V&&!f&&t.formatMessage({id:"OppsummeringSteg.Validering.BekrefteOpplysninger"})}),e.jsx(G,{goToPreviousStep:o.goToPreviousDefaultStep,nextButtonText:t.formatMessage({id:"oppsummering.button.sendSøknad"}),nextButtonOnClick:q})]})})},ae=B;try{B.displayName="OppsummeringSteg",B.__docgenInfo={description:"",displayName:"OppsummeringSteg",props:{person:{defaultValue:null,description:"",name:"person",required:!0,type:{name:"Person"}},sendSøknad:{defaultValue:null,description:"",name:"sendSøknad",required:!0,type:{name:"(omBarnet: OmBarnet, utenlandsopphold: Utenlandsopphold, dokumentasjon?: Dokumentasjon | undefined, tidligereUtenlandsopphold?: UtenlandsoppholdTidligere | undefined, senereUtenlandsopphold?: UtenlandsoppholdSenere | undefined) => void"}}}}}catch{}export{ae as O,J as e};
//# sourceMappingURL=OppsummeringSteg-652d1509.js.map
