import{j as e,A as y,i as M,H as G,V as c,b as p,B as a,d as P,k as v,l as U,e as _,S as z,C as J}from"./fridagerUtils-ed0a582b.js";import{r as m}from"./_baseToString-4ec4abc0.js";import"./_createSet-7d8d34b4.js";import{e as Q,d as q,c as H}from"./OmBarnet-c243fb4b.js";import{u as k,F as o,p as u,L as F,s as j,O as I,Q as W,b as X,a as Y,c as O,E as h,S as Z}from"./useEsNavigator-7572a468.js";const ee=()=>{const n=m.useRef(new AbortController);return m.useEffect(()=>()=>{n.current.abort()},[]),n.current.signal},ne=n=>!!n.terminbekreftelsedato;var se=(n=>(n.MANN="M",n.KVINNE="K",n))(se||{});const x=({tittel:n,children:t})=>{const[s,r]=m.useState(!1),d=m.useCallback(()=>r(i=>!i),[]);return e.jsxs(y.Item,{children:[e.jsx(y.Header,{className:s?M("accordian_header").block:void 0,onClick:d,children:e.jsx(G,{level:"2",size:"small",children:n})}),e.jsx(y.Content,{children:e.jsx("div",{className:M("content_margin").block,children:t})})]})};try{x.displayName="Oppsummeringspunkt",x.__docgenInfo={description:"",displayName:"Oppsummeringspunkt",props:{tittel:{defaultValue:null,description:"",name:"tittel",required:!0,type:{name:"string"}}}}}catch{}const b=({omBarnet:n,dokumentasjon:t})=>{const{i18n:s}=k(),r=Q(n),d=q(n),i=H(n);let l;return n.antallBarn===1?l=s("OmBarnetOppsummering.EttBarn"):n.antallBarn===2&&!r?l=s("OmBarnetOppsummering.Tvillinger"):n.antallBarn===2&&r?l=s("OmBarnetOppsummering.ToBarn"):l=s("OmBarnetOppsummering.FlereBarn",{antall:n.antallBarn}),e.jsxs(c,{gap:"4",children:[e.jsxs(p,{gap:"2",children:[e.jsx(a,{children:e.jsx(o,{id:"OmBarnetOppsummering.SoknadenGjelder"})}),e.jsx(a,{children:l})]}),r&&e.jsxs(e.Fragment,{children:[e.jsxs(p,{gap:"2",children:[e.jsx(a,{children:e.jsx(o,{id:"OmBarnetOppsummering.MedAdopsjonsdato"})}),e.jsx(a,{children:u(n.adopsjonsdato)})]}),e.jsxs(p,{gap:"2",children:[e.jsx(a,{children:n.fødselsdatoer.length>1?s("OmBarnetOppsummering.MedFødselsdatoer"):s("OmBarnetOppsummering.MedFødselsdato")}),e.jsx(P,{children:n.fødselsdatoer.map((f,g)=>u(n.fødselsdatoer[g].dato)).join(", ")})]}),e.jsx(v,{children:e.jsx(o,{id:"OmBarnetOppsummering.VedlagtOmsorgsovertakelseBekreftelse"})}),e.jsx(F,{attachments:j(t).vedlegg})]}),i&&e.jsxs(p,{gap:"2",children:[e.jsx(a,{children:e.jsx(o,{id:"OmBarnetOppsummering.MedFødselsdato"})}),e.jsx(a,{children:u(n.fødselsdato)})]}),d&&t&&ne(t)&&e.jsxs(e.Fragment,{children:[e.jsxs(p,{gap:"2",children:[e.jsx(a,{children:e.jsx(o,{id:"OmBarnetOppsummering.MedTermindato"})}),e.jsx(a,{children:u(n.termindato)})]}),e.jsxs(p,{gap:"2",children:[e.jsx(a,{children:e.jsx(o,{id:"OmBarnetOppsummering.SomErDatert"})}),e.jsx(a,{children:u(t.terminbekreftelsedato)})]}),e.jsx(v,{children:e.jsx(o,{id:"OmBarnetOppsummering.VedlagtTerminbekreftelse"})}),e.jsx(F,{attachments:t.vedlegg})]})]})};try{b.displayName="OmBarnetOppsummering",b.__docgenInfo={description:"",displayName:"OmBarnetOppsummering",props:{omBarnet:{defaultValue:null,description:"",name:"omBarnet",required:!0,type:{name:"OmBarnet"}},dokumentasjon:{defaultValue:null,description:"",name:"dokumentasjon",required:!1,type:{name:"Dokumentasjon"}}}}}catch{}const V=(n,t)=>W(n)?t("LandOppsummering.IDag"):u(n),te=(n,t)=>_(n.fom).isAfter(t.fom,"day")?1:0,N=({utenlandsoppholdListe:n})=>{const{i18n:t}=k();return e.jsx(e.Fragment,{children:n.sort(te).map(s=>e.jsx("div",{style:{backgroundColor:"var(--a-blue-100)",padding:"16px",borderRadius:"2px"},children:e.jsxs(c,{gap:"1",children:[e.jsxs(v,{children:[I(s.fom)&&e.jsx(o,{id:"LandOppsummering.HarBodd",values:{country:U.getName(s.landkode,"nb")}}),!I(s.fom)&&e.jsx(o,{id:"LandOppsummering.SkalBo",values:{country:U.getName(s.landkode,"nb")}})]}),e.jsxs(P,{children:[V(s.fom,t)," - ",V(s.tom,t)]})]})},`${s.landkode}${s.fom}`))})};try{N.displayName="LandOppsummering",N.__docgenInfo={description:"",displayName:"LandOppsummering",props:{utenlandsoppholdListe:{defaultValue:null,description:"",name:"utenlandsoppholdListe",required:!0,type:{name:"UtenlandsoppholdPeriode[]"}}}}}catch{}const A=(n,t,s)=>_(n).isBetween(_(t),_(s),"day","[]"),C=(n,t=[],s=[])=>t.some(r=>A(n,r.fom,r.tom))||s.some(r=>A(n,r.fom,r.tom)),E=({omBarnet:n,utenlandsopphold:t,tidligereUtenlandsopphold:s,senereUtenlandsopphold:r})=>{const{i18n:d}=k(),i=q(n),l=H(n);return e.jsxs(c,{gap:"5",children:[e.jsxs(c,{gap:"2",children:[t.harBoddUtenforNorgeSiste12Mnd&&e.jsx(N,{utenlandsoppholdListe:j(s).utenlandsoppholdSiste12Mnd}),t.skalBoUtenforNorgeNeste12Mnd&&e.jsx(N,{utenlandsoppholdListe:j(r).utenlandsoppholdNeste12Mnd})]}),t.harBoddUtenforNorgeSiste12Mnd===!1&&e.jsx(a,{children:e.jsx(o,{id:"UtenlandsoppholdOppsummering.BoddSisteTolv",values:{country:d("UtenlandsoppholdOppsummering.Norge")}})}),t.skalBoUtenforNorgeNeste12Mnd===!1&&e.jsx(a,{children:e.jsx(o,{id:"UtenlandsoppholdOppsummering.BoNesteTolv",values:{country:d("UtenlandsoppholdOppsummering.Norge")}})}),i&&e.jsx(p,{gap:"2",children:e.jsx(a,{children:e.jsx(o,{id:"UtenlandsoppholdOppsummering.Text.OgKommerPåFødselstidspunktet",values:{country:C(n.termindato,s==null?void 0:s.utenlandsoppholdSiste12Mnd,r==null?void 0:r.utenlandsoppholdNeste12Mnd)?d("UtenlandsoppholdOppsummering.Utlandet"):d("UtenlandsoppholdOppsummering.Norge")}})})}),l&&e.jsx(a,{children:e.jsx(o,{id:"UtenlandsoppholdOppsummering.VarPåFødselstidspunktet",values:{country:C(n.fødselsdato,s==null?void 0:s.utenlandsoppholdSiste12Mnd,r==null?void 0:r.utenlandsoppholdNeste12Mnd)?d("UtenlandsoppholdOppsummering.Utlandet"):d("UtenlandsoppholdOppsummering.Norge")}})})]})};try{E.displayName="UtenlandsoppholdOppsummering",E.__docgenInfo={description:"",displayName:"UtenlandsoppholdOppsummering",props:{omBarnet:{defaultValue:null,description:"",name:"omBarnet",required:!0,type:{name:"OmBarnet"}},utenlandsopphold:{defaultValue:null,description:"",name:"utenlandsopphold",required:!0,type:{name:"Utenlandsopphold"}},tidligereUtenlandsopphold:{defaultValue:null,description:"",name:"tidligereUtenlandsopphold",required:!1,type:{name:"UtenlandsoppholdTidligere"}},senereUtenlandsopphold:{defaultValue:null,description:"",name:"senereUtenlandsopphold",required:!1,type:{name:"UtenlandsoppholdSenere"}}}}}catch{}const re=(n,t,s)=>s?`${n} ${s} ${t}`:`${n} ${t}`,D=({person:n,sendSøknad:t})=>{const{i18n:s}=k(),r=X(),d=Y(),i=j(O(h.OM_BARNET)),l=j(O(h.UTENLANDSOPPHOLD)),f=O(h.DOKUMENTASJON),g=O(h.UTENLANDSOPPHOLD_TIDLIGERE),B=O(h.UTENLANDSOPPHOLD_SENERE),L=ee(),[S,$]=m.useState(!1),[R,K]=m.useState(!1),w=m.useCallback(T=>{S?(T(!0),t(L,i,f,g,B)):K(!0)},[S,L,f,i,t,B,g]);return e.jsx(z,{bannerTitle:s("Søknad.Pageheading"),pageTitle:s("OppsummeringSteg.Oppsummering"),onCancel:d.avbrytSøknad,steps:r.stepConfig,activeStepId:r.activeStepId,useNoTempSavingText:!0,children:e.jsxs(c,{gap:"10",children:[e.jsxs(y,{indent:!1,children:[e.jsx(x,{tittel:s("OppsummeringSteg.OmDeg"),children:e.jsxs(c,{gap:"4",children:[e.jsx(a,{children:re(n.fornavn,n.etternavn,n.mellomnavn)}),e.jsx(a,{children:n.fnr})]})}),e.jsx(x,{tittel:s("OmBarnetSteg.OmBarnet"),children:e.jsx(b,{omBarnet:i,dokumentasjon:f})}),e.jsx(x,{tittel:s("OppsummeringSteg.Utenlandsopphold"),children:e.jsx(E,{omBarnet:i,utenlandsopphold:l,tidligereUtenlandsopphold:g,senereUtenlandsopphold:B})})]}),e.jsx(J,{label:s("OppsummeringSteg.Samtykke"),onChange:()=>$(T=>!T),checked:S,error:R&&!S&&s("OppsummeringSteg.Validering.BekrefteOpplysninger")}),e.jsx(Z,{goToPreviousStep:d.goToPreviousDefaultStep,nextButtonText:s("OppsummeringSteg.Button.SendSøknad"),nextButtonOnClick:w})]})})},pe=D;try{D.displayName="OppsummeringSteg",D.__docgenInfo={description:"",displayName:"OppsummeringSteg",props:{person:{defaultValue:null,description:"",name:"person",required:!0,type:{name:"Person"}},sendSøknad:{defaultValue:null,description:"",name:"sendSøknad",required:!0,type:{name:"(abortSignal: AbortSignal, omBarnet: OmBarnet, dokumentasjon?: Dokumentasjon | undefined, tidligereUtenlandsopphold?: UtenlandsoppholdTidligere | undefined, senereUtenlandsopphold?: UtenlandsoppholdSenere | undefined) => Promise<...>"}}}}}catch{}export{se as K,pe as O,ne as e};
//# sourceMappingURL=OppsummeringSteg-ec376244.js.map
