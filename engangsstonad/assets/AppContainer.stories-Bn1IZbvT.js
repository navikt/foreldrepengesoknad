var Ct=t=>{throw TypeError(t)};var Ze=(t,e,s)=>e.has(t)||Ct("Cannot "+s);var r=(t,e,s)=>(Ze(t,e,"read from private field"),s?s.call(t):e.get(t)),c=(t,e,s)=>e.has(t)?Ct("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),h=(t,e,s,n)=>(Ze(t,e,"write to private field"),n?n.call(t,s):e.set(t,s),s),y=(t,e,s)=>(Ze(t,e,"access private method"),s);var Ge=(t,e,s,n)=>({set _(i){h(t,e,i,s)},get _(){return r(t,e,n)}});import{j as p}from"./jsx-runtime-Cw0GR0a5.js";import{d as ss,e as Cs,f as Ps,C as ne,g as As,n as ns,R as Ds,h as $,N as Fs,P as K,E as Ms,M as Ts}from"./useEsNavigator-BmdoUglf.js";import{r as O}from"./index-CTjT7uj6.js";import{k as Ee,E as Z,a as rs,D as Pt,h as Y,H as X}from"./DokumentasjonSteg-BBOJd0JC.js";import{a1 as js,a2 as Ns,a3 as Is,u as xs,a4 as Us,a5 as Ls,a6 as qs,d as Qs,a7 as _s,a8 as Ks,i as Hs}from"./dateFormValidation-CNuHCVUP.js";import{n as Bs,u as et,a as tt,o as st,b as Gs,e as $s}from"./nn_NO-jgsF7biz.js";import{e as Vs,O as Js}from"./OppsummeringSteg-BhgNLfzk.js";import{e as zs,b as Ws,a as Ys}from"./OmBarnet-BV6De4cI.js";import{O as Xs}from"./OmBarnetSteg-DdSAVrsB.js";import{S as Zs}from"./SÃ¸kersituasjonSteg-BBxCCPfO.js";import{S as en}from"./SenereUtenlandsoppholdSteg-BUHgibeN.js";import{T as tn}from"./TidligereUtenlandsoppholdSteg-P_lnu1df.js";import{U as sn}from"./UtenlandsoppholdSteg-BoezgEc1.js";import{V as nn}from"./Velkommen-D3CMlyH3.js";import"./decorators-86JrGkCj.js";import"./ErrorSummaryHookForm-CwoKT8eo.js";import"./index-vZN_Bsf0.js";import"./index-BRV0Se7Z.js";import"./BoIUtlandetOppsummering-DdCpcTVr.js";import"./ConfirmationPanel-BXjX3dde.js";import"./TidligereUtenlandsoppholdPanel-DHCgRCG1.js";var Le=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ue=typeof window>"u"||"Deno"in globalThis;function Q(){}function rn(t,e){return typeof t=="function"?t(e):t}function it(t){return typeof t=="number"&&t>=0&&t!==1/0}function is(t,e){return Math.max(t+(e||0)-Date.now(),0)}function we(t,e){return typeof t=="function"?t(e):t}function B(t,e){return typeof t=="function"?t(e):t}function At(t,e){const{type:s="all",exact:n,fetchStatus:i,predicate:l,queryKey:o,stale:a}=t;if(o){if(n){if(e.queryHash!==bt(o,e.options))return!1}else if(!Qe(e.queryKey,o))return!1}if(s!=="all"){const d=e.isActive();if(s==="active"&&!d||s==="inactive"&&d)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||l&&!l(e))}function Dt(t,e){const{exact:s,status:n,predicate:i,mutationKey:l}=t;if(l){if(!e.options.mutationKey)return!1;if(s){if(Oe(e.options.mutationKey)!==Oe(l))return!1}else if(!Qe(e.options.mutationKey,l))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function bt(t,e){return((e==null?void 0:e.queryKeyHashFn)||Oe)(t)}function Oe(t){return JSON.stringify(t,(e,s)=>at(s)?Object.keys(s).sort().reduce((n,i)=>(n[i]=s[i],n),{}):s)}function Qe(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(s=>!Qe(t[s],e[s])):!1}function as(t,e){if(t===e)return t;const s=Ft(t)&&Ft(e);if(s||at(t)&&at(e)){const n=s?t:Object.keys(t),i=n.length,l=s?e:Object.keys(e),o=l.length,a=s?[]:{};let d=0;for(let v=0;v<o;v++){const f=s?v:l[v];(!s&&n.includes(f)||s)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,d++):(a[f]=as(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&d++)}return i===o&&d===i?t:a}return e}function Ye(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}function Ft(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function at(t){if(!Mt(t))return!1;const e=t.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!Mt(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Mt(t){return Object.prototype.toString.call(t)==="[object Object]"}function an(t){return new Promise(e=>{setTimeout(e,t)})}function ot(t,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,e):s.structuralSharing!==!1?as(t,e):e}function on(t,e,s=0){const n=[...t,e];return s&&n.length>s?n.slice(1):n}function un(t,e,s=0){const n=[e,...t];return s&&n.length>s?n.slice(0,-1):n}var os=Symbol();function us(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===os?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var pe,ae,Re,Ut,ln=(Ut=class extends Le{constructor(){super();c(this,pe);c(this,ae);c(this,Re);h(this,Re,e=>{if(!Ue&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){r(this,ae)||this.setEventListener(r(this,Re))}onUnsubscribe(){var e;this.hasListeners()||((e=r(this,ae))==null||e.call(this),h(this,ae,void 0))}setEventListener(e){var s;h(this,Re,e),(s=r(this,ae))==null||s.call(this),h(this,ae,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){r(this,pe)!==e&&(h(this,pe,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(s=>{s(e)})}isFocused(){var e;return typeof r(this,pe)=="boolean"?r(this,pe):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},pe=new WeakMap,ae=new WeakMap,Re=new WeakMap,Ut),St=new ln,ke,oe,Ce,Lt,hn=(Lt=class extends Le{constructor(){super();c(this,ke,!0);c(this,oe);c(this,Ce);h(this,Ce,e=>{if(!Ue&&window.addEventListener){const s=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",n)}}})}onSubscribe(){r(this,oe)||this.setEventListener(r(this,Ce))}onUnsubscribe(){var e;this.hasListeners()||((e=r(this,oe))==null||e.call(this),h(this,oe,void 0))}setEventListener(e){var s;h(this,Ce,e),(s=r(this,oe))==null||s.call(this),h(this,oe,e(this.setOnline.bind(this)))}setOnline(e){r(this,ke)!==e&&(h(this,ke,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return r(this,ke)}},ke=new WeakMap,oe=new WeakMap,Ce=new WeakMap,Lt),Xe=new hn;function cn(t){return Math.min(1e3*2**t,3e4)}function ls(t){return(t??"online")==="online"?Xe.isOnline():!0}var hs=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function nt(t){return t instanceof hs}function cs(t){let e=!1,s=0,n=!1,i,l,o;const a=new Promise((C,P)=>{l=C,o=P}),d=C=>{var P;n||(b(new hs(C)),(P=t.abort)==null||P.call(t))},v=()=>{e=!0},f=()=>{e=!1},u=()=>St.isFocused()&&(t.networkMode==="always"||Xe.isOnline())&&t.canRun(),m=()=>ls(t.networkMode)&&t.canRun(),g=C=>{var P;n||(n=!0,(P=t.onSuccess)==null||P.call(t,C),i==null||i(),l(C))},b=C=>{var P;n||(n=!0,(P=t.onError)==null||P.call(t,C),i==null||i(),o(C))},R=()=>new Promise(C=>{var P;i=k=>{(n||u())&&C(k)},(P=t.onPause)==null||P.call(t)}).then(()=>{var C;i=void 0,n||(C=t.onContinue)==null||C.call(t)}),A=()=>{if(n)return;let C;const P=s===0?t.initialPromise:void 0;try{C=P??t.fn()}catch(k){C=Promise.reject(k)}Promise.resolve(C).then(g).catch(k=>{var E;if(n)return;const F=t.retry??(Ue?0:3),j=t.retryDelay??cn,G=typeof j=="function"?j(s,k):j,ee=F===!0||typeof F=="number"&&s<F||typeof F=="function"&&F(s,k);if(e||!ee){b(k);return}s++,(E=t.onFail)==null||E.call(t,s,k),an(G).then(()=>u()?void 0:R()).then(()=>{e?b(k):A()})})};return{promise:a,cancel:d,continue:()=>(i==null||i(),a),cancelRetry:v,continueRetry:f,canStart:m,start:()=>(m()?A():R().then(A),a)}}function dn(){let t=[],e=0,s=a=>{a()},n=a=>{a()},i=a=>setTimeout(a,0);const l=a=>{e?t.push(a):i(()=>{s(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{n(()=>{a.forEach(d=>{s(d)})})})};return{batch:a=>{let d;e++;try{d=a()}finally{e--,e||o()}return d},batchCalls:a=>(...d)=>{l(()=>{a(...d)})},schedule:l,setNotifyFunction:a=>{s=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{i=a}}}var M=dn(),me,qt,ds=(qt=class{constructor(){c(this,me)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),it(this.gcTime)&&h(this,me,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ue?1/0:5*60*1e3))}clearGcTimeout(){r(this,me)&&(clearTimeout(r(this,me)),h(this,me,void 0))}},me=new WeakMap,qt),Pe,Ae,q,T,_e,ye,H,te,Qt,fn=(Qt=class extends ds{constructor(e){super();c(this,H);c(this,Pe);c(this,Ae);c(this,q);c(this,T);c(this,_e);c(this,ye);h(this,ye,!1),h(this,_e,e.defaultOptions),this.setOptions(e.options),this.observers=[],h(this,q,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,h(this,Pe,pn(this.options)),this.state=e.state??r(this,Pe),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=r(this,T))==null?void 0:e.promise}setOptions(e){this.options={...r(this,_e),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&r(this,q).remove(this)}setData(e,s){const n=ot(this.state.data,e,this.options);return y(this,H,te).call(this,{data:n,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),n}setState(e,s){y(this,H,te).call(this,{type:"setState",state:e,setStateOptions:s})}cancel(e){var n,i;const s=(n=r(this,T))==null?void 0:n.promise;return(i=r(this,T))==null||i.cancel(e),s?s.then(Q).catch(Q):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(r(this,Pe))}isActive(){return this.observers.some(e=>B(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!is(this.state.dataUpdatedAt,e)}onFocus(){var s;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(s=r(this,T))==null||s.continue()}onOnline(){var s;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(s=r(this,T))==null||s.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),r(this,q).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(s=>s!==e),this.observers.length||(r(this,T)&&(r(this,ye)?r(this,T).cancel({revert:!0}):r(this,T).cancelRetry()),this.scheduleGc()),r(this,q).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||y(this,H,te).call(this,{type:"invalidate"})}fetch(e,s){var d,v,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(r(this,T))return r(this,T).continueRetry(),r(this,T).promise}if(e&&this.setOptions(e),!this.options.queryFn){const u=this.observers.find(m=>m.options.queryFn);u&&this.setOptions(u.options)}const n=new AbortController,i=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(h(this,ye,!0),n.signal)})},l=()=>{const u=us(this.options,s),m={queryKey:this.queryKey,meta:this.meta};return i(m),h(this,ye,!1),this.options.persister?this.options.persister(u,m,this):u(m)},o={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:l};i(o),(d=this.options.behavior)==null||d.onFetch(o,this),h(this,Ae,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((v=o.fetchOptions)==null?void 0:v.meta))&&y(this,H,te).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta});const a=u=>{var m,g,b,R;nt(u)&&u.silent||y(this,H,te).call(this,{type:"error",error:u}),nt(u)||((g=(m=r(this,q).config).onError)==null||g.call(m,u,this),(R=(b=r(this,q).config).onSettled)==null||R.call(b,this.state.data,u,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return h(this,T,cs({initialPromise:s==null?void 0:s.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:u=>{var m,g,b,R;if(u===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(A){a(A);return}(g=(m=r(this,q).config).onSuccess)==null||g.call(m,u,this),(R=(b=r(this,q).config).onSettled)==null||R.call(b,u,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:a,onFail:(u,m)=>{y(this,H,te).call(this,{type:"failed",failureCount:u,error:m})},onPause:()=>{y(this,H,te).call(this,{type:"pause"})},onContinue:()=>{y(this,H,te).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),r(this,T).start()}},Pe=new WeakMap,Ae=new WeakMap,q=new WeakMap,T=new WeakMap,_e=new WeakMap,ye=new WeakMap,H=new WeakSet,te=function(e){const s=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...fs(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return nt(i)&&i.revert&&r(this,Ae)?{...r(this,Ae),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=s(this.state),M.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),r(this,q).notify({query:this,type:"updated",action:e})})},Qt);function fs(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ls(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function pn(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,s=e!==void 0,n=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var V,_t,mn=(_t=class extends Le{constructor(e={}){super();c(this,V);this.config=e,h(this,V,new Map)}build(e,s,n){const i=s.queryKey,l=s.queryHash??bt(i,s);let o=this.get(l);return o||(o=new fn({cache:this,queryKey:i,queryHash:l,options:e.defaultQueryOptions(s),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){r(this,V).has(e.queryHash)||(r(this,V).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=r(this,V).get(e.queryHash);s&&(e.destroy(),s===e&&r(this,V).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){M.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return r(this,V).get(e)}getAll(){return[...r(this,V).values()]}find(e){const s={exact:!0,...e};return this.getAll().find(n=>At(s,n))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(n=>At(e,n)):s}notify(e){M.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){M.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){M.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},V=new WeakMap,_t),J,N,ge,z,ie,Kt,yn=(Kt=class extends ds{constructor(e){super();c(this,z);c(this,J);c(this,N);c(this,ge);this.mutationId=e.mutationId,h(this,N,e.mutationCache),h(this,J,[]),this.state=e.state||ps(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){r(this,J).includes(e)||(r(this,J).push(e),this.clearGcTimeout(),r(this,N).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){h(this,J,r(this,J).filter(s=>s!==e)),this.scheduleGc(),r(this,N).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){r(this,J).length||(this.state.status==="pending"?this.scheduleGc():r(this,N).remove(this))}continue(){var e;return((e=r(this,ge))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,l,o,a,d,v,f,u,m,g,b,R,A,C,P,k,F,j,G,ee;h(this,ge,cs({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(E,_)=>{y(this,z,ie).call(this,{type:"failed",failureCount:E,error:_})},onPause:()=>{y(this,z,ie).call(this,{type:"pause"})},onContinue:()=>{y(this,z,ie).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>r(this,N).canRun(this)}));const s=this.state.status==="pending",n=!r(this,ge).canStart();try{if(!s){y(this,z,ie).call(this,{type:"pending",variables:e,isPaused:n}),await((l=(i=r(this,N).config).onMutate)==null?void 0:l.call(i,e,this));const _=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));_!==this.state.context&&y(this,z,ie).call(this,{type:"pending",context:_,variables:e,isPaused:n})}const E=await r(this,ge).start();return await((v=(d=r(this,N).config).onSuccess)==null?void 0:v.call(d,E,e,this.state.context,this)),await((u=(f=this.options).onSuccess)==null?void 0:u.call(f,E,e,this.state.context)),await((g=(m=r(this,N).config).onSettled)==null?void 0:g.call(m,E,null,this.state.variables,this.state.context,this)),await((R=(b=this.options).onSettled)==null?void 0:R.call(b,E,null,e,this.state.context)),y(this,z,ie).call(this,{type:"success",data:E}),E}catch(E){try{throw await((C=(A=r(this,N).config).onError)==null?void 0:C.call(A,E,e,this.state.context,this)),await((k=(P=this.options).onError)==null?void 0:k.call(P,E,e,this.state.context)),await((j=(F=r(this,N).config).onSettled)==null?void 0:j.call(F,void 0,E,this.state.variables,this.state.context,this)),await((ee=(G=this.options).onSettled)==null?void 0:ee.call(G,void 0,E,e,this.state.context)),E}finally{y(this,z,ie).call(this,{type:"error",error:E})}}finally{r(this,N).runNext(this)}}},J=new WeakMap,N=new WeakMap,ge=new WeakMap,z=new WeakSet,ie=function(e){const s=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=s(this.state),M.batch(()=>{r(this,J).forEach(n=>{n.onMutationUpdate(e)}),r(this,N).notify({mutation:this,type:"updated",action:e})})},Kt);function ps(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var L,Ke,Ht,gn=(Ht=class extends Le{constructor(e={}){super();c(this,L);c(this,Ke);this.config=e,h(this,L,new Map),h(this,Ke,Date.now())}build(e,s,n){const i=new yn({mutationCache:this,mutationId:++Ge(this,Ke)._,options:e.defaultMutationOptions(s),state:n});return this.add(i),i}add(e){const s=$e(e),n=r(this,L).get(s)??[];n.push(e),r(this,L).set(s,n),this.notify({type:"added",mutation:e})}remove(e){var n;const s=$e(e);if(r(this,L).has(s)){const i=(n=r(this,L).get(s))==null?void 0:n.filter(l=>l!==e);i&&(i.length===0?r(this,L).delete(s):r(this,L).set(s,i))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const s=(n=r(this,L).get($e(e)))==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===e}runNext(e){var n;const s=(n=r(this,L).get($e(e)))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}clear(){M.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...r(this,L).values()].flat()}find(e){const s={exact:!0,...e};return this.getAll().find(n=>Dt(s,n))}findAll(e={}){return this.getAll().filter(s=>Dt(e,s))}notify(e){M.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){const e=this.getAll().filter(s=>s.state.isPaused);return M.batch(()=>Promise.all(e.map(s=>s.continue().catch(Q))))}},L=new WeakMap,Ke=new WeakMap,Ht);function $e(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function Tt(t){return{onFetch:(e,s)=>{var f,u,m,g,b;const n=e.options,i=(m=(u=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:u.fetchMore)==null?void 0:m.direction,l=((g=e.state.data)==null?void 0:g.pages)||[],o=((b=e.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},d=0;const v=async()=>{let R=!1;const A=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(e.signal.aborted?R=!0:e.signal.addEventListener("abort",()=>{R=!0}),e.signal)})},C=us(e.options,e.fetchOptions),P=async(k,F,j)=>{if(R)return Promise.reject();if(F==null&&k.pages.length)return Promise.resolve(k);const G={queryKey:e.queryKey,pageParam:F,direction:j?"backward":"forward",meta:e.options.meta};A(G);const ee=await C(G),{maxPages:E}=e.options,_=j?un:on;return{pages:_(k.pages,ee,E),pageParams:_(k.pageParams,F,E)}};if(i&&l.length){const k=i==="backward",F=k?vn:jt,j={pages:l,pageParams:o},G=F(n,j);a=await P(j,G,k)}else{const k=t??l.length;do{const F=d===0?o[0]??n.initialPageParam:jt(n,a);if(d>0&&F==null)break;a=await P(a,F),d++}while(d<k)}return a};e.options.persister?e.fetchFn=()=>{var R,A;return(A=(R=e.options).persister)==null?void 0:A.call(R,v,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s)}:e.fetchFn=v}}}function jt(t,{pages:e,pageParams:s}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,s[n],s):void 0}function vn(t,{pages:e,pageParams:s}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,s[0],s):void 0}var D,ue,le,De,Fe,he,Me,Te,Bt,bn=(Bt=class{constructor(t={}){c(this,D);c(this,ue);c(this,le);c(this,De);c(this,Fe);c(this,he);c(this,Me);c(this,Te);h(this,D,t.queryCache||new mn),h(this,ue,t.mutationCache||new gn),h(this,le,t.defaultOptions||{}),h(this,De,new Map),h(this,Fe,new Map),h(this,he,0)}mount(){Ge(this,he)._++,r(this,he)===1&&(h(this,Me,St.subscribe(async t=>{t&&(await this.resumePausedMutations(),r(this,D).onFocus())})),h(this,Te,Xe.subscribe(async t=>{t&&(await this.resumePausedMutations(),r(this,D).onOnline())})))}unmount(){var t,e;Ge(this,he)._--,r(this,he)===0&&((t=r(this,Me))==null||t.call(this),h(this,Me,void 0),(e=r(this,Te))==null||e.call(this),h(this,Te,void 0))}isFetching(t){return r(this,D).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return r(this,ue).findAll({...t,status:"pending"}).length}getQueryData(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=r(this,D).get(e.queryHash))==null?void 0:s.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const s=this.defaultQueryOptions(t),n=r(this,D).build(this,s);return t.revalidateIfStale&&n.isStaleByTime(we(s.staleTime,n))&&this.prefetchQuery(s),Promise.resolve(e)}}getQueriesData(t){return r(this,D).findAll(t).map(({queryKey:e,state:s})=>{const n=s.data;return[e,n]})}setQueryData(t,e,s){const n=this.defaultQueryOptions({queryKey:t}),i=r(this,D).get(n.queryHash),l=i==null?void 0:i.state.data,o=rn(e,l);if(o!==void 0)return r(this,D).build(this,n).setData(o,{...s,manual:!0})}setQueriesData(t,e,s){return M.batch(()=>r(this,D).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,s)]))}getQueryState(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=r(this,D).get(e.queryHash))==null?void 0:s.state}removeQueries(t){const e=r(this,D);M.batch(()=>{e.findAll(t).forEach(s=>{e.remove(s)})})}resetQueries(t,e){const s=r(this,D),n={type:"active",...t};return M.batch(()=>(s.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const s={revert:!0,...e},n=M.batch(()=>r(this,D).findAll(t).map(i=>i.cancel(s)));return Promise.all(n).then(Q).catch(Q)}invalidateQueries(t={},e={}){return M.batch(()=>{if(r(this,D).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const s={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(s,e)})}refetchQueries(t={},e){const s={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=M.batch(()=>r(this,D).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let l=i.fetch(void 0,s);return s.throwOnError||(l=l.catch(Q)),i.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(n).then(Q)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const s=r(this,D).build(this,e);return s.isStaleByTime(we(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Q).catch(Q)}fetchInfiniteQuery(t){return t.behavior=Tt(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Q).catch(Q)}ensureInfiniteQueryData(t){return t.behavior=Tt(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Xe.isOnline()?r(this,ue).resumePausedMutations():Promise.resolve()}getQueryCache(){return r(this,D)}getMutationCache(){return r(this,ue)}getDefaultOptions(){return r(this,le)}setDefaultOptions(t){h(this,le,t)}setQueryDefaults(t,e){r(this,De).set(Oe(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...r(this,De).values()];let s={};return e.forEach(n=>{Qe(t,n.queryKey)&&(s={...s,...n.defaultOptions})}),s}setMutationDefaults(t,e){r(this,Fe).set(Oe(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...r(this,Fe).values()];let s={};return e.forEach(n=>{Qe(t,n.mutationKey)&&(s={...s,...n.defaultOptions})}),s}defaultQueryOptions(t){if(t._defaulted)return t;const e={...r(this,le).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=bt(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===os&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...r(this,le).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){r(this,D).clear(),r(this,ue).clear()}},D=new WeakMap,ue=new WeakMap,le=new WeakMap,De=new WeakMap,Fe=new WeakMap,he=new WeakMap,Me=new WeakMap,Te=new WeakMap,Bt),x,S,He,I,ve,je,W,Be,Ne,Ie,be,Se,ce,xe,w,qe,ut,lt,ht,ct,dt,ft,pt,ms,Gt,Sn=(Gt=class extends Le{constructor(e,s){super();c(this,w);c(this,x);c(this,S);c(this,He);c(this,I);c(this,ve);c(this,je);c(this,W);c(this,Be);c(this,Ne);c(this,Ie);c(this,be);c(this,Se);c(this,ce);c(this,xe,new Set);this.options=s,h(this,x,e),h(this,W,null),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(r(this,S).addObserver(this),Nt(r(this,S),this.options)?y(this,w,qe).call(this):this.updateResult(),y(this,w,ct).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return mt(r(this,S),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return mt(r(this,S),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,y(this,w,dt).call(this),y(this,w,ft).call(this),r(this,S).removeObserver(this)}setOptions(e,s){const n=this.options,i=r(this,S);if(this.options=r(this,x).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof B(this.options.enabled,r(this,S))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");y(this,w,pt).call(this),r(this,S).setOptions(this.options),n._defaulted&&!Ye(this.options,n)&&r(this,x).getQueryCache().notify({type:"observerOptionsUpdated",query:r(this,S),observer:this});const l=this.hasListeners();l&&It(r(this,S),i,this.options,n)&&y(this,w,qe).call(this),this.updateResult(s),l&&(r(this,S)!==i||B(this.options.enabled,r(this,S))!==B(n.enabled,r(this,S))||we(this.options.staleTime,r(this,S))!==we(n.staleTime,r(this,S)))&&y(this,w,ut).call(this);const o=y(this,w,lt).call(this);l&&(r(this,S)!==i||B(this.options.enabled,r(this,S))!==B(n.enabled,r(this,S))||o!==r(this,ce))&&y(this,w,ht).call(this,o)}getOptimisticResult(e){const s=r(this,x).getQueryCache().build(r(this,x),e),n=this.createResult(s,e);return On(this,n)&&(h(this,I,n),h(this,je,this.options),h(this,ve,r(this,S).state)),n}getCurrentResult(){return r(this,I)}trackResult(e,s){const n={};return Object.keys(e).forEach(i=>{Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),s==null||s(i),e[i])})}),n}trackProp(e){r(this,xe).add(e)}getCurrentQuery(){return r(this,S)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=r(this,x).defaultQueryOptions(e),n=r(this,x).getQueryCache().build(r(this,x),s);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,s))}fetch(e){return y(this,w,qe).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),r(this,I)))}createResult(e,s){var ee;const n=r(this,S),i=this.options,l=r(this,I),o=r(this,ve),a=r(this,je),v=e!==n?e.state:r(this,He),{state:f}=e;let u={...f},m=!1,g;if(s._optimisticResults){const E=this.hasListeners(),_=!E&&Nt(e,s),ks=E&&It(e,n,s,i);(_||ks)&&(u={...u,...fs(f.data,e.options)}),s._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:b,errorUpdatedAt:R,status:A}=u;if(s.select&&u.data!==void 0)if(l&&u.data===(o==null?void 0:o.data)&&s.select===r(this,Be))g=r(this,Ne);else try{h(this,Be,s.select),g=s.select(u.data),g=ot(l==null?void 0:l.data,g,s),h(this,Ne,g),h(this,W,null)}catch(E){h(this,W,E)}else g=u.data;if(s.placeholderData!==void 0&&g===void 0&&A==="pending"){let E;if(l!=null&&l.isPlaceholderData&&s.placeholderData===(a==null?void 0:a.placeholderData))E=l.data;else if(E=typeof s.placeholderData=="function"?s.placeholderData((ee=r(this,Ie))==null?void 0:ee.state.data,r(this,Ie)):s.placeholderData,s.select&&E!==void 0)try{E=s.select(E),h(this,W,null)}catch(_){h(this,W,_)}E!==void 0&&(A="success",g=ot(l==null?void 0:l.data,E,s),m=!0)}r(this,W)&&(b=r(this,W),g=r(this,Ne),R=Date.now(),A="error");const C=u.fetchStatus==="fetching",P=A==="pending",k=A==="error",F=P&&C,j=g!==void 0;return{status:A,fetchStatus:u.fetchStatus,isPending:P,isSuccess:A==="success",isError:k,isInitialLoading:F,isLoading:F,data:g,dataUpdatedAt:u.dataUpdatedAt,error:b,errorUpdatedAt:R,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>v.dataUpdateCount||u.errorUpdateCount>v.errorUpdateCount,isFetching:C,isRefetching:C&&!P,isLoadingError:k&&!j,isPaused:u.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:k&&j,isStale:Et(e,s),refetch:this.refetch}}updateResult(e){const s=r(this,I),n=this.createResult(r(this,S),this.options);if(h(this,ve,r(this,S).state),h(this,je,this.options),r(this,ve).data!==void 0&&h(this,Ie,r(this,S)),Ye(n,s))return;h(this,I,n);const i={},l=()=>{if(!s)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!r(this,xe).size)return!0;const d=new Set(a??r(this,xe));return this.options.throwOnError&&d.add("error"),Object.keys(r(this,I)).some(v=>{const f=v;return r(this,I)[f]!==s[f]&&d.has(f)})};(e==null?void 0:e.listeners)!==!1&&l()&&(i.listeners=!0),y(this,w,ms).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&y(this,w,ct).call(this)}},x=new WeakMap,S=new WeakMap,He=new WeakMap,I=new WeakMap,ve=new WeakMap,je=new WeakMap,W=new WeakMap,Be=new WeakMap,Ne=new WeakMap,Ie=new WeakMap,be=new WeakMap,Se=new WeakMap,ce=new WeakMap,xe=new WeakMap,w=new WeakSet,qe=function(e){y(this,w,pt).call(this);let s=r(this,S).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(Q)),s},ut=function(){y(this,w,dt).call(this);const e=we(this.options.staleTime,r(this,S));if(Ue||r(this,I).isStale||!it(e))return;const n=is(r(this,I).dataUpdatedAt,e)+1;h(this,be,setTimeout(()=>{r(this,I).isStale||this.updateResult()},n))},lt=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(r(this,S)):this.options.refetchInterval)??!1},ht=function(e){y(this,w,ft).call(this),h(this,ce,e),!(Ue||B(this.options.enabled,r(this,S))===!1||!it(r(this,ce))||r(this,ce)===0)&&h(this,Se,setInterval(()=>{(this.options.refetchIntervalInBackground||St.isFocused())&&y(this,w,qe).call(this)},r(this,ce)))},ct=function(){y(this,w,ut).call(this),y(this,w,ht).call(this,y(this,w,lt).call(this))},dt=function(){r(this,be)&&(clearTimeout(r(this,be)),h(this,be,void 0))},ft=function(){r(this,Se)&&(clearInterval(r(this,Se)),h(this,Se,void 0))},pt=function(){const e=r(this,x).getQueryCache().build(r(this,x),this.options);if(e===r(this,S))return;const s=r(this,S);h(this,S,e),h(this,He,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},ms=function(e){M.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(r(this,I))}),r(this,x).getQueryCache().notify({query:r(this,S),type:"observerResultsUpdated"})})},Gt);function En(t,e){return B(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Nt(t,e){return En(t,e)||t.state.data!==void 0&&mt(t,e,e.refetchOnMount)}function mt(t,e,s){if(B(e.enabled,t)!==!1){const n=typeof s=="function"?s(t):s;return n==="always"||n!==!1&&Et(t,e)}return!1}function It(t,e,s,n){return(t!==e||B(n.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&Et(t,s)}function Et(t,e){return B(e.enabled,t)!==!1&&t.isStaleByTime(we(e.staleTime,t))}function On(t,e){return!Ye(t.getCurrentResult(),e)}var de,fe,U,se,re,We,yt,$t,wn=($t=class extends Le{constructor(e,s){super();c(this,re);c(this,de);c(this,fe);c(this,U);c(this,se);h(this,de,e),this.setOptions(s),this.bindMethods(),y(this,re,We).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const s=this.options;this.options=r(this,de).defaultMutationOptions(e),Ye(this.options,s)||r(this,de).getMutationCache().notify({type:"observerOptionsUpdated",mutation:r(this,U),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Oe(s.mutationKey)!==Oe(this.options.mutationKey)?this.reset():((n=r(this,U))==null?void 0:n.state.status)==="pending"&&r(this,U).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=r(this,U))==null||e.removeObserver(this)}onMutationUpdate(e){y(this,re,We).call(this),y(this,re,yt).call(this,e)}getCurrentResult(){return r(this,fe)}reset(){var e;(e=r(this,U))==null||e.removeObserver(this),h(this,U,void 0),y(this,re,We).call(this),y(this,re,yt).call(this)}mutate(e,s){var n;return h(this,se,s),(n=r(this,U))==null||n.removeObserver(this),h(this,U,r(this,de).getMutationCache().build(r(this,de),this.options)),r(this,U).addObserver(this),r(this,U).execute(e)}},de=new WeakMap,fe=new WeakMap,U=new WeakMap,se=new WeakMap,re=new WeakSet,We=function(){var s;const e=((s=r(this,U))==null?void 0:s.state)??ps();h(this,fe,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},yt=function(e){M.batch(()=>{var s,n,i,l,o,a,d,v;if(r(this,se)&&this.hasListeners()){const f=r(this,fe).variables,u=r(this,fe).context;(e==null?void 0:e.type)==="success"?((n=(s=r(this,se)).onSuccess)==null||n.call(s,e.data,f,u),(l=(i=r(this,se)).onSettled)==null||l.call(i,e.data,null,f,u)):(e==null?void 0:e.type)==="error"&&((a=(o=r(this,se)).onError)==null||a.call(o,e.error,f,u),(v=(d=r(this,se)).onSettled)==null||v.call(d,void 0,e.error,f,u))}this.listeners.forEach(f=>{f(r(this,fe))})})},$t),ys=O.createContext(void 0),gs=t=>{const e=O.useContext(ys);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Rn=({client:t,children:e})=>(O.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),p.jsx(ys.Provider,{value:t,children:e})),vs=O.createContext(!1),kn=()=>O.useContext(vs);vs.Provider;function Cn(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Pn=O.createContext(Cn()),An=()=>O.useContext(Pn);function bs(t,e){return typeof t=="function"?t(...e):!!t}function Dn(){}var Fn=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},Mn=t=>{O.useEffect(()=>{t.clearReset()},[t])},Tn=({result:t,errorResetBoundary:e,throwOnError:s,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&bs(s,[t.error,n]),jn=t=>{t.suspense&&(typeof t.staleTime!="number"&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},Nn=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,In=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function xn(t,e,s){var v,f,u,m;const n=gs(),i=kn(),l=An(),o=n.defaultQueryOptions(t);(f=(v=n.getDefaultOptions().queries)==null?void 0:v._experimental_beforeQuery)==null||f.call(v,o),o._optimisticResults=i?"isRestoring":"optimistic",jn(o),Fn(o,l),Mn(l);const[a]=O.useState(()=>new e(n,o)),d=a.getOptimisticResult(o);if(O.useSyncExternalStore(O.useCallback(g=>{const b=i?()=>{}:a.subscribe(M.batchCalls(g));return a.updateResult(),b},[a,i]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),O.useEffect(()=>{a.setOptions(o,{listeners:!1})},[o,a]),Nn(o,d))throw In(o,a,l);if(Tn({result:d,errorResetBoundary:l,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw d.error;return(m=(u=n.getDefaultOptions().queries)==null?void 0:u._experimental_afterQuery)==null||m.call(u,o,d),o.notifyOnChangeProps?d:a.trackResult(d)}function xt(t,e){return xn(t,Sn)}function gt(t,e){const s=gs(),[n]=O.useState(()=>new wn(s,t));O.useEffect(()=>{n.setOptions(t)},[n,t]);const i=O.useSyncExternalStore(O.useCallback(o=>n.subscribe(M.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),l=O.useCallback((o,a)=>{n.mutate(o,a).catch(Dn)},[n]);if(i.error&&bs(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:l,mutateAsync:i.mutate}}const Ot=2,Un="ukjent uuid",Ln="Det har oppstÃ¥tt et problem med mellomlagring av sÃ¸knaden. Vennligst prÃ¸v igjen senere. Hvis problemet vedvarer, kontakt oss og oppgi feil-id: ",qn=(t,e)=>{const s=ss(),n=Cs(),i=Ps(),[l,o]=O.useState(!1),a=O.useRef(),{mutate:d}=gt({mutationFn:()=>Ee.delete(`${Z.PUBLIC_PATH}/rest/storage/engangsstonad`)});return O.useEffect(()=>{l&&(async()=>{o(!1);const u=n[ne.CURRENT_PATH];if(u){s(u);try{const m={version:Ot,locale:t,...n};await Ee.post(`${Z.PUBLIC_PATH}/rest/storage/engangsstonad`,{json:m})}catch(m){if(m instanceof rs){if(m.response.status===401||m.response.status===403)throw m;const g=await m.response.json(),b=g!=null&&g.uuid?g==null?void 0:g.uuid.slice(0,8):Un;throw Error(Ln+b)}throw m instanceof Error?m:new Error(String(m))}}else d(),e(!1),i(),s("/");a.current&&a.current()})().catch(u=>{js(u.message),a.current&&a.current()})},[l]),O.useCallback(()=>(o(!0),new Promise(u=>{a.current=u})),[])};var Qn=function(){return null};const _n="From {fom} until {tom}",Kn={tidsperiode:_n,"tidsperiode.kort":"{fom} - {tom}"},Hn="Fra {fom} til {tom}",Bn={tidsperiode:Hn,"tidsperiode.kort":"{fom} - {tom}"},Gn="FrÃ¥ {fom} til {tom}",$n={tidsperiode:Gn,"tidsperiode.kort":"{fom} - {tom}"},Vn=t=>{window.location.href=t},Ss="selectedLocale",Jn=()=>sessionStorage.getItem(Ss)||"nb",zn=t=>{sessionStorage.setItem(Ss,t)},rt={nb:Bn,nn:$n,en:Kn},Wn=()=>{const t=O.useRef(null);return O.useEffect(()=>()=>{t.current&&t.current.abort()},[]),{initAbortSignal:O.useCallback(()=>{t.current&&t.current.abort();const s=new AbortController;return t.current=s,t.current.signal},[t])}},Yn=(t,e)=>{const s=(e==null?void 0:e.vedlegg.map(n=>n.id))||[];if(zs(t))return{type:"adopsjon",antallBarn:t.antallBarn,fÃ¸dselsdatoer:t.fÃ¸dselsdatoer.map(n=>n.dato),adopsjonsdato:t.adopsjonsdato,adopsjonAvEktefellesBarn:t.adopsjonAvEktefellesBarn,vedleggreferanser:s};if(Ws(t))return{type:"fÃ¸dsel",antallBarn:t.antallBarn,fÃ¸dselsdato:t.fÃ¸dselsdato,vedleggreferanser:[]};if(Ys(t)&&e&&Vs(e))return{type:"termin",antallBarn:t.antallBarn,termindato:t.termindato,terminbekreftelseDato:e.terminbekreftelsedato,vedleggreferanser:s};throw Error("Det er feil i data om barnet")},Xn="ukjent uuid",Zn="Det har oppstÃ¥tt et problem med innsending av sÃ¸knaden. Vennligst prÃ¸v igjen senere. Hvis problemet vedvarer, kontakt oss og oppgi feil-id: ",er=(t,e)=>{const s=As(),{initAbortSignal:n}=Wn(),{mutate:i}=gt({mutationFn:()=>Ee.delete(`${Z.PUBLIC_PATH}/rest/storage/engangsstonad`)}),l=async()=>{const d=ns(s(ne.OM_BARNET)),v=s(ne.DOKUMENTASJON),f=s(ne.UTENLANDSOPPHOLD_TIDLIGERE),u=s(ne.UTENLANDSOPPHOLD_SENERE),m={type:"engangsstÃ¸nad",sprÃ¥kkode:t,barn:Yn(d,v),utenlandsopphold:(f??[]).concat(u??[]),vedlegg:(v==null?void 0:v.vedlegg.map(b=>({...b,dokumenterer:{type:"barn"}})))||[]},g=n();try{const b=await Ee.post(`${Z.PUBLIC_PATH}/rest/soknad/engangsstonad`,{json:m,signal:g});i(),e(await b.json())}catch(b){if(b instanceof rs){if(g.aborted||b.response.status===401||b.response.status===403)throw b;const R=await b.response.json(),A=R!=null&&R.uuid?R==null?void 0:R.uuid.slice(0,8):Xn;throw Error(Zn+A)}throw b instanceof Error?b:new Error(String(b))}},{mutateAsync:o,error:a}=gt({mutationFn:()=>l()});return O.useMemo(()=>({sendSÃ¸knad:()=>o(),errorSendSÃ¸knad:a}),[o,a])},wt=()=>p.jsx("div",{style:{textAlign:"center",padding:"12rem 0"},children:p.jsx(Ns,{size:"2xlarge"})}),Rt=({error:t})=>p.jsx(Is,{appName:"EngangsstÃ¸nad",errorMessage:t.message,retryCallback:()=>location.reload()}),Es=({locale:t,onChangeLocale:e,sÃ¸ker:s,mellomlagretData:n})=>{const i=ss(),[l,o]=O.useState(!1),[a,d]=O.useState(),{sendSÃ¸knad:v,errorSendSÃ¸knad:f}=er(t,d),u=qn(t,o);return O.useEffect(()=>{n!=null&&n[ne.CURRENT_PATH]&&(o(!0),n.locale&&e(n.locale),i(n[ne.CURRENT_PATH]))},[n]),a?Z.INNSYN?(Vn(a.saksNr?`${Z.INNSYN}/sak/${a.saksNr}/redirectFromSoknad`:`${Z.INNSYN}/redirectFromSoknad`),p.jsx(wt,{})):p.jsx("div",{children:"Redirected to Innsyn"}):f?p.jsx(Rt,{error:f}):p.jsxs(Ds,{children:[!l&&p.jsx($,{path:"*",element:p.jsx(Fs,{to:K.VELKOMMEN})}),p.jsx($,{path:K.VELKOMMEN,element:p.jsx(nn,{locale:t,onChangeLocale:e,startSÃ¸knad:o,erVelkommen:l,mellomlagreOgNaviger:u})}),l&&p.jsxs(p.Fragment,{children:[p.jsx($,{path:K.SÃKERSITUASJON,element:p.jsx(Zs,{mellomlagreOgNaviger:u})}),p.jsx($,{path:K.OM_BARNET,element:p.jsx(Xs,{kjÃ¸nn:s.kjÃ¸nn,mellomlagreOgNaviger:u})}),p.jsx($,{path:K.TERMINBEKREFTELSE,element:p.jsx(Pt,{mellomlagreOgNaviger:u})}),p.jsx($,{path:K.ADOPSJONSBEKREFTELSE,element:p.jsx(Pt,{mellomlagreOgNaviger:u})}),p.jsx($,{path:K.UTENLANDSOPPHOLD,element:p.jsx(sn,{mellomlagreOgNaviger:u})}),p.jsx($,{path:K.TIDLIGERE_UTENLANDSOPPHOLD,element:p.jsx(tn,{mellomlagreOgNaviger:u})}),p.jsx($,{path:K.SENERE_UTENLANDSOPPHOLD,element:p.jsx(en,{mellomlagreOgNaviger:u})}),p.jsx($,{path:K.OPPSUMMERING,element:p.jsx(Js,{sendSÃ¸knad:v,mellomlagreOgNaviger:u})})]})]})};wt.__docgenInfo={description:"",methods:[],displayName:"Spinner"};Rt.__docgenInfo={description:"",methods:[],displayName:"ApiErrorHandler",props:{error:{required:!0,tsType:{name:"Error"},description:""}}};Es.__docgenInfo={description:"",methods:[],displayName:"EngangsstÃ¸nadRoutes",props:{locale:{required:!0,tsType:{name:"union",raw:"LocaleNo | 'en'",elements:[{name:"union",raw:"'nb' | 'nn'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"}]},{name:"literal",value:"'en'"}]},description:""},onChangeLocale:{required:!0,tsType:{name:"signature",type:"function",raw:"(locale: LocaleAll) => void",signature:{arguments:[{type:{name:"union",raw:"LocaleNo | 'en'",elements:[{name:"union",raw:"'nb' | 'nn'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"}]},{name:"literal",value:"'en'"}]},name:"locale"}],return:{name:"void"}}},description:""},sÃ¸ker:{required:!0,tsType:{name:"intersection",raw:`{
    fÃ¸dselsdato: string;
    kjÃ¸nn: KjÃ¸nn;
    bankkonto?: Bankkonto;
    sivilstand?: Sivilstand;
    barn: SÃ¸kerBarn[];
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    fÃ¸dselsdato: string;
    kjÃ¸nn: KjÃ¸nn;
    bankkonto?: Bankkonto;
    sivilstand?: Sivilstand;
    barn: SÃ¸kerBarn[];
}`,signature:{properties:[{key:"fÃ¸dselsdato",value:{name:"string",required:!0}},{key:"kjÃ¸nn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"bankkonto",value:{name:"Bankkonto",required:!1}},{key:"sivilstand",value:{name:"Sivilstand",required:!1}},{key:"barn",value:{name:"Array",elements:[{name:"intersection",raw:`{
    kjÃ¸nn: KjÃ¸nn;
    fÃ¸dselsdato: string;
    dÃ¸dsdato?: string;
    annenForelder?: SÃ¸kerAnnenForelder;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    kjÃ¸nn: KjÃ¸nn;
    fÃ¸dselsdato: string;
    dÃ¸dsdato?: string;
    annenForelder?: SÃ¸kerAnnenForelder;
}`,signature:{properties:[{key:"kjÃ¸nn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"fÃ¸dselsdato",value:{name:"string",required:!0}},{key:"dÃ¸dsdato",value:{name:"string",required:!1}},{key:"annenForelder",value:{name:"intersection",raw:`{
    fÃ¸dselsdato?: string;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    fÃ¸dselsdato?: string;
}`,signature:{properties:[{key:"fÃ¸dselsdato",value:{name:"string",required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}],required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}]}],raw:"SÃ¸kerBarn[]",required:!0}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}]},description:""},mellomlagretData:{required:!1,tsType:{name:"intersection",raw:"{ version: number; locale: LocaleAll } & ContextDataMap",elements:[{name:"signature",type:"object",raw:"{ version: number; locale: LocaleAll }",signature:{properties:[{key:"version",value:{name:"number",required:!0}},{key:"locale",value:{name:"union",raw:"LocaleNo | 'en'",elements:[{name:"union",raw:"'nb' | 'nn'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"}]},{name:"literal",value:"'en'"}],required:!0}}]}},{name:"signature",type:"object",raw:`{
    [ContextDataType.CURRENT_PATH]?: Path;
    [ContextDataType.SÃKERSITUASJON]?: SÃ¸kersituasjon;
    [ContextDataType.OM_BARNET]?: OmBarnet;
    [ContextDataType.DOKUMENTASJON]?: Dokumentasjon;
    [ContextDataType.UTENLANDSOPPHOLD]?: Utenlandsopphold;
    [ContextDataType.UTENLANDSOPPHOLD_SENERE]?: UtenlandsoppholdPeriode[];
    [ContextDataType.UTENLANDSOPPHOLD_TIDLIGERE]?: UtenlandsoppholdPeriode[];
}`,signature:{properties:[]}}]},description:""}}};const Os=({locale:t,onChangeLocale:e})=>{var o;const s=xs();Us(s.formatMessage({id:"SÃ¸knad.Pagetitle"}));const n=xt({queryKey:["PERSONINFO"],queryFn:()=>Ee.get(`${Z.PUBLIC_PATH}/rest/personinfo`).json()}),i=xt({queryKey:["MELLOMLAGRET_INFO"],queryFn:()=>Ee.get(`${Z.PUBLIC_PATH}/rest/storage/engangsstonad`).json()});if(n.error||i.error)return p.jsx(Rt,{error:ns(n.error||i.error)});if(!n.data||i.isPending)return p.jsx(wt,{});if(!Ls(n.data.fÃ¸dselsdato))return p.jsx(qs,{appnavn:"EngangsstÃ¸nad"});const l=((o=i.data)==null?void 0:o.version)===Ot?i.data:void 0;return p.jsx(Ms,{initialState:l,children:p.jsx(Es,{locale:t,onChangeLocale:e,sÃ¸ker:n.data,mellomlagretData:l})})};Os.__docgenInfo={description:"",methods:[],displayName:"EngangsstÃ¸nad"};const ws=Jn(),tr={nb:{...Bs,...et.nb,...tt.nb,...st.nb,...rt.nb},nn:{...Gs,...et.nn,...tt.nn,...st.nn,...rt.nn},en:{...$s,...et.en,...tt.en,...st.en,...rt.en}},sr=new bn({defaultOptions:{queries:{retry:3}}});Qs.locale(ws);const nr=async()=>{try{await Ee.delete(`${Z.PUBLIC_PATH}/rest/storage/engangsstonad`)}catch{}location.reload()},vt=()=>{const[t,e]=O.useState(ws),s=O.useCallback(n=>{zn(n),e(n),document.documentElement.setAttribute("lang",n)},[]);return p.jsx(_s,{locale:t,messagesGroupedByLocale:tr,children:p.jsx(Ks,{appName:"EngangsstÃ¸nad",retryCallback:nr,children:p.jsxs(Rn,{client:sr,children:[p.jsx(Qn,{}),p.jsx(Os,{locale:t,onChangeLocale:s})]})})})};vt.__docgenInfo={description:"",methods:[],displayName:"AppContainer"};const rr={mottattDato:"2019-02-19T13:40:45.115",referanseId:"3959c880-83d2-4f01-b107-035fa7693758",leveranseStatus:"PÃ_VENT",journalId:"439772941"},Rs={fnr:"11111111111",fornavn:"Henrikke",etternavn:"Ibsen",kjÃ¸nn:"K",fÃ¸dselsdato:"1979-01-28",bankkonto:{kontonummer:"49875234987",banknavn:"Storebank"},barn:[]},kt=[Y.post("https://es/rest/soknad/engangsstonad",()=>X.json(rr)),Y.post("https://es/rest/storage/engangsstonad",()=>new X(null,{status:200})),Y.delete("https://es/rest/storage/engangsstonad",()=>new X(null,{status:200})),Y.post("https://es/rest/storage/engangsstonad/vedlegg",()=>new X(null,{status:200}))],Pr={title:"Applikasjon - EngangsstÃ¸nad (AppContainer)",component:vt,render:()=>(Hs(),p.jsx(Ts,{children:p.jsx(vt,{})}))},Ve={parameters:{msw:{handlers:kt.concat([Y.get("https://es/rest/personinfo",()=>X.json(Rs)),Y.get("https://es/rest/storage/engangsstonad",()=>new X(null,{status:200}))])}}},Je={parameters:{msw:{handlers:kt.concat([Y.get("https://es/rest/personinfo",()=>X.json(Rs)),Y.get("https://es/rest/storage/engangsstonad",()=>X.json({version:Ot,locale:"nb",[ne.SÃKERSITUASJON]:{situasjon:"fÃ¸dsel"},[ne.CURRENT_PATH]:K.SÃKERSITUASJON}))])}}},ze={parameters:{msw:{handlers:kt.concat([Y.get("https://es/rest/personinfo",()=>X.json({fnr:"1231111111",fornavn:"Espen",etternavn:"Utvikler",kjÃ¸nn:"M",fÃ¸dselsdato:"1979-01-28",bankkonto:{kontonummer:"49875234987",banknavn:"Storebank"},barn:[]})),Y.get("https://es/rest/storage/engangsstonad",()=>new X(null,{status:200}))])}}};var Vt,Jt,zt;Ve.parameters={...Ve.parameters,docs:{...(Vt=Ve.parameters)==null?void 0:Vt.docs,source:{originalSource:`{
  parameters: {
    msw: {
      handlers: HANDLERS.concat([http.get('https://es/rest/personinfo', () => HttpResponse.json(DEFAULT_PERSONINFO)), http.get('https://es/rest/storage/engangsstonad', () => new HttpResponse(null, {
        status: 200
      }))])
    }
  }
}`,...(zt=(Jt=Ve.parameters)==null?void 0:Jt.docs)==null?void 0:zt.source}}};var Wt,Yt,Xt;Je.parameters={...Je.parameters,docs:{...(Wt=Je.parameters)==null?void 0:Wt.docs,source:{originalSource:`{
  parameters: {
    msw: {
      handlers: HANDLERS.concat([http.get('https://es/rest/personinfo', () => HttpResponse.json(DEFAULT_PERSONINFO)), http.get('https://es/rest/storage/engangsstonad', () => HttpResponse.json({
        version: VERSJON_MELLOMLAGRING,
        locale: 'nb',
        [ContextDataType.SÃKERSITUASJON]: {
          situasjon: 'fÃ¸dsel'
        },
        [ContextDataType.CURRENT_PATH]: Path.SÃKERSITUASJON
      }))])
    }
  }
}`,...(Xt=(Yt=Je.parameters)==null?void 0:Yt.docs)==null?void 0:Xt.source}}};var Zt,es,ts;ze.parameters={...ze.parameters,docs:{...(Zt=ze.parameters)==null?void 0:Zt.docs,source:{originalSource:`{
  parameters: {
    msw: {
      handlers: HANDLERS.concat([http.get('https://es/rest/personinfo', () => HttpResponse.json({
        fnr: '1231111111',
        fornavn: 'Espen',
        etternavn: 'Utvikler',
        kjÃ¸nn: 'M',
        fÃ¸dselsdato: '1979-01-28',
        bankkonto: {
          kontonummer: '49875234987',
          banknavn: 'Storebank'
        },
        barn: []
      })), http.get('https://es/rest/storage/engangsstonad', () => new HttpResponse(null, {
        status: 200
      }))])
    }
  }
}`,...(ts=(es=ze.parameters)==null?void 0:es.docs)==null?void 0:ts.source}}};const Ar=["SÃ¸kerErKvinne","SÃ¸kerErKvinneMedMellomlagretData","SÃ¸kerErMann"];export{Ve as SÃ¸kerErKvinne,Je as SÃ¸kerErKvinneMedMellomlagretData,ze as SÃ¸kerErMann,Ar as __namedExportsOrder,Pr as default};
