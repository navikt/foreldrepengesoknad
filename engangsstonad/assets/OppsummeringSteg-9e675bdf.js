import{l as ee,e as C,o as ne,g as L,m as te,C as re,H as z,j as t,n as V,B as o,F as c,d as S,S as se}from"./fridagerUtils-e9d275e0.js";import{r as l,R as u}from"./index-f1f2c4b1.js";import"./_baseToString-b5f87fbe.js";import"./_createSet-915b0824.js";import{e as ae,b as K,c as G}from"./OmBarnet-8fde1c9e.js";import{u as B,V as h,H as f,y as O,K as F,n as _,L as U,N as $,O as oe,a as ie,b as le,c as j,C as y,g as de,S as ce}from"./useEsNavigator-9015f214.js";const me=()=>{const e=l.useRef(new AbortController);return l.useEffect(()=>()=>{e.current.abort()},[]),e.current.signal};var pe=(e=>(e.MANN="M",e.KVINNE="K",e))(pe||{});const D=l.createContext({headingSize:"small",size:"medium",openItems:[],mounted:!1});var ue=globalThis&&globalThis.__rest||function(e,a){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)a.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const M=l.createContext(null),ge=l.forwardRef((e,a)=>{var{children:r,className:n,open:s,defaultOpen:i=!1,onOpenChange:d}=e,m=ue(e,["children","className","open","defaultOpen","onOpenChange"]);const[p,T]=ee({defaultValue:i,value:s,onChange:d}),g=l.useContext(D),b=l.useRef(!(s||i)),x=()=>{T(A=>!A),b.current=!0};return g!=null&&g.mounted||console.error("<Accordion.Item> has to be used within an <Accordion>"),u.createElement("div",Object.assign({className:C("navds-accordion__item",n,{"navds-accordion__item--open":p,"navds-accordion__item--neutral":(g==null?void 0:g.variant)==="neutral","navds-accordion__item--no-animation":!b.current}),ref:a},ne(m,["onClick"])),u.createElement(M.Provider,{value:{open:p,toggleOpen:x}},r))}),fe=ge;var Oe=globalThis&&globalThis.__rest||function(e,a){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)a.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const he=l.forwardRef((e,a)=>{var{children:r,className:n}=e,s=Oe(e,["children","className"]);const i=l.useContext(M);return i===null?(console.error("<Accordion.Content> has to be used within an <Accordion.Item>"),null):u.createElement(L,Object.assign({},s,{as:"div",ref:a,className:C("navds-accordion__content",{"navds-accordion__content--closed":!i.open},n),"aria-hidden":!i.open||void 0}),r)}),xe=he;var je=globalThis&&globalThis.__rest||function(e,a){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)a.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const ye=l.forwardRef((e,a)=>{var r,{children:n,className:s,onClick:i}=e,d=je(e,["children","className","onClick"]);const m=l.useContext(M),p=l.useContext(D);return m===null?(console.error("<Accordion.Header> has to be used within an <Accordion.Item>, which in turn must be within an <Accordion>"),null):u.createElement("button",Object.assign({ref:a},d,{className:C("navds-accordion__header",s),onClick:te(i,m.toggleOpen),"aria-expanded":m.open,type:"button"}),u.createElement("span",{className:"navds-accordion__icon-wrapper"},u.createElement(re,{className:"navds-accordion__header-chevron",title:"Vis mer","aria-hidden":!0})),u.createElement(z,{size:(r=p==null?void 0:p.headingSize)!==null&&r!==void 0?r:"small",as:"span",className:"navds-accordion__header-content"},n))}),ve=ye;var _e=globalThis&&globalThis.__rest||function(e,a){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)a.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const E=l.forwardRef((e,a)=>{var{className:r,variant:n="default",headingSize:s="small",size:i="medium",indent:d=!0}=e,m=_e(e,["className","variant","headingSize","size","indent"]);return u.createElement(D.Provider,{value:{variant:n,headingSize:s,size:i,mounted:!0}},u.createElement("div",Object.assign({},m,{className:C("navds-accordion",r,`navds-accordion--${i}`,{"navds-accordion--indent":d}),ref:a})))});E.Header=ve;E.Content=xe;E.Item=fe;const N=E;const v=({tittel:e,children:a})=>{const[r,n]=l.useState(!1);return t.jsxs(N.Item,{children:[t.jsx(N.Header,{className:r?V("accordian_header").block:void 0,onClick:()=>n(s=>!s),children:t.jsx(z,{level:"3",size:"small",children:e})}),t.jsx(N.Content,{children:t.jsx("div",{className:V("content_margin").block,children:a})})]})};try{v.displayName="Oppsummeringspunkt",v.__docgenInfo={description:"",displayName:"Oppsummeringspunkt",props:{tittel:{defaultValue:null,description:"",name:"tittel",required:!0,type:{name:"string"}}}}}catch{}const be=e=>!!e.terminbekreftelsedato,P=({omBarnet:e,dokumentasjon:a})=>{const{i18n:r}=B(),n=ae(e),s=K(e),i=G(e);let d;return e.antallBarn===1?d=r("OmBarnetOppsummering.EttBarn"):e.antallBarn===2&&!n?d=r("OmBarnetOppsummering.Tvillinger"):e.antallBarn===2&&n?d=r("OmBarnetOppsummering.ToBarn"):d=r("OmBarnetOppsummering.FlereBarn",{antall:e.antallBarn}),t.jsxs(h,{gap:"4",children:[t.jsxs(f,{gap:"2",children:[t.jsx(o,{children:t.jsx(c,{id:"OmBarnetOppsummering.SoknadenGjelder"})}),t.jsx(o,{children:d})]}),n&&t.jsxs(t.Fragment,{children:[t.jsxs(f,{gap:"2",children:[t.jsx(o,{children:t.jsx(c,{id:"OmBarnetOppsummering.MedAdopsjonsdato"})}),t.jsx(o,{children:O(e.adopsjonsdato)})]}),t.jsxs(f,{gap:"2",children:[t.jsx(o,{children:e.fødselsdatoer.length>1?r("OmBarnetOppsummering.MedFødselsdatoer"):r("OmBarnetOppsummering.MedFødselsdato")}),t.jsx(L,{children:e.fødselsdatoer.map((m,p)=>O(e.fødselsdatoer[p].dato)).join(", ")})]}),t.jsx(o,{style:{fontWeight:"bold"},children:t.jsx(c,{id:"OmBarnetOppsummering.VedlagtOmsorgsovertakelseBekreftelse"})}),t.jsx(F,{attachments:_(a).vedlegg})]}),i&&t.jsxs(f,{gap:"2",children:[t.jsx(o,{children:t.jsx(c,{id:"OmBarnetOppsummering.MedFødselsdato"})}),t.jsx(o,{children:O(e.fødselsdato)})]}),s&&a&&be(a)&&t.jsxs(t.Fragment,{children:[t.jsxs(f,{gap:"2",children:[t.jsx(o,{children:t.jsx(c,{id:"OmBarnetOppsummering.MedTermindato"})}),t.jsx(o,{children:O(e.termindato)})]}),t.jsxs(f,{gap:"2",children:[t.jsx(o,{children:t.jsx(c,{id:"OmBarnetOppsummering.SomErDatert"})}),t.jsx(o,{children:O(a.terminbekreftelsedato)})]}),t.jsx(o,{style:{fontWeight:"bold"},children:t.jsx(c,{id:"OmBarnetOppsummering.VedlagtTerminbekreftelse"})}),t.jsx(F,{attachments:a.vedlegg})]})]})};try{P.displayName="OmBarnetOppsummering",P.__docgenInfo={description:"",displayName:"OmBarnetOppsummering",props:{omBarnet:{defaultValue:null,description:"",name:"omBarnet",required:!0,type:{name:"OmBarnet"}},dokumentasjon:{defaultValue:null,description:"",name:"dokumentasjon",required:!1,type:{name:"Dokumentasjon"}}}}}catch{}const H=(e,a)=>oe(e)?a("LandOppsummering.IDag"):O(e),Se=(e,a)=>S(e.fom).isAfter(a.fom,"day")?1:0,k=({utenlandsoppholdListe:e})=>{const{i18n:a}=B();return t.jsx(t.Fragment,{children:e.sort(Se).map(r=>t.jsx("div",{style:{backgroundColor:"var(--a-blue-100)",padding:"16px",borderRadius:"2px"},children:t.jsxs(h,{gap:"1",children:[t.jsxs(o,{style:{fontWeight:"bold"},children:[U(r.fom)&&t.jsx(c,{id:"LandOppsummering.HarBodd",values:{country:$.getName(r.landkode,"nb")}}),!U(r.fom)&&t.jsx(c,{id:"LandOppsummering.SkalBo",values:{country:$.getName(r.landkode,"nb")}})]}),t.jsxs(L,{children:[H(r.fom,a)," - ",H(r.tom,a)]})]})},`${r.landkode}${r.fom}`))})};try{k.displayName="LandOppsummering",k.__docgenInfo={description:"",displayName:"LandOppsummering",props:{utenlandsoppholdListe:{defaultValue:null,description:"",name:"utenlandsoppholdListe",required:!0,type:{name:"UtenlandsoppholdPeriode[]"}}}}}catch{}const R=(e,a,r)=>S(e).isBetween(S(a),S(r),"day","[]"),q=(e,a=[],r=[])=>a.some(n=>R(e,n.fom,n.tom))||r.some(n=>R(e,n.fom,n.tom)),I=({omBarnet:e,utenlandsopphold:a,tidligereUtenlandsopphold:r,senereUtenlandsopphold:n})=>{const{i18n:s}=B(),i=K(e),d=G(e);return t.jsxs(h,{gap:"5",children:[t.jsxs(h,{gap:"2",children:[a.harBoddUtenforNorgeSiste12Mnd&&t.jsx(k,{utenlandsoppholdListe:_(r).utenlandsoppholdSiste12Mnd}),a.skalBoUtenforNorgeNeste12Mnd&&t.jsx(k,{utenlandsoppholdListe:_(n).utenlandsoppholdNeste12Mnd})]}),a.harBoddUtenforNorgeSiste12Mnd===!1&&t.jsx(o,{children:t.jsx(c,{id:"UtenlandsoppholdOppsummering.BoddSisteTolv",values:{country:s("UtenlandsoppholdOppsummering.Norge")}})}),a.skalBoUtenforNorgeNeste12Mnd===!1&&t.jsx(o,{children:t.jsx(c,{id:"UtenlandsoppholdOppsummering.BoNesteTolv",values:{country:s("UtenlandsoppholdOppsummering.Norge")}})}),i&&t.jsx(f,{gap:"2",children:t.jsx(o,{children:t.jsx(c,{id:"UtenlandsoppholdOppsummering.Text.OgKommerPåFødselstidspunktet",values:{country:q(e.termindato,r==null?void 0:r.utenlandsoppholdSiste12Mnd,n==null?void 0:n.utenlandsoppholdNeste12Mnd)?s("UtenlandsoppholdOppsummering.Utlandet"):s("UtenlandsoppholdOppsummering.Norge")}})})}),d&&t.jsx(o,{children:t.jsx(c,{id:"UtenlandsoppholdOppsummering.VarPåFødselstidspunktet",values:{country:q(e.fødselsdato,r==null?void 0:r.utenlandsoppholdSiste12Mnd,n==null?void 0:n.utenlandsoppholdNeste12Mnd)?s("UtenlandsoppholdOppsummering.Utlandet"):s("UtenlandsoppholdOppsummering.Norge")}})})]})};try{I.displayName="UtenlandsoppholdOppsummering",I.__docgenInfo={description:"",displayName:"UtenlandsoppholdOppsummering",props:{omBarnet:{defaultValue:null,description:"",name:"omBarnet",required:!0,type:{name:"OmBarnet"}},utenlandsopphold:{defaultValue:null,description:"",name:"utenlandsopphold",required:!0,type:{name:"Utenlandsopphold"}},tidligereUtenlandsopphold:{defaultValue:null,description:"",name:"tidligereUtenlandsopphold",required:!1,type:{name:"UtenlandsoppholdTidligere"}},senereUtenlandsopphold:{defaultValue:null,description:"",name:"senereUtenlandsopphold",required:!1,type:{name:"UtenlandsoppholdSenere"}}}}}catch{}const Ne=(e,a,r)=>r?`${e} ${r} ${a}`:`${e} ${a}`,w=({person:e,sendSøknad:a,mellomlagreOgNaviger:r})=>{const{i18n:n}=B(),s=ie(),i=le(r),d=_(j(y.OM_BARNET)),m=_(j(y.UTENLANDSOPPHOLD)),p=j(y.DOKUMENTASJON),T=j(y.UTENLANDSOPPHOLD_TIDLIGERE),g=j(y.UTENLANDSOPPHOLD_SENERE),b=me(),[x,A]=l.useState(!1),[W,J]=l.useState(!1),[Q,X]=l.useState(!1),Y=()=>{x?(J(!0),a(b)):X(!0)};return t.jsx(se,{bannerTitle:n("Søknad.Pageheading"),onCancel:i.avbrytSøknad,onContinueLater:i.fortsettSøknadSenere,steps:s,children:t.jsxs(h,{gap:"10",children:[t.jsxs(N,{indent:!1,children:[t.jsx(v,{tittel:n("OppsummeringSteg.OmDeg"),children:t.jsxs(h,{gap:"4",children:[t.jsx(o,{children:Ne(e.fornavn,e.etternavn,e.mellomnavn)}),t.jsx(o,{children:e.fnr})]})}),t.jsx(v,{tittel:n("OppsummeringSteg.OmBarnet"),children:t.jsx(P,{omBarnet:d,dokumentasjon:p})}),t.jsx(v,{tittel:n("OppsummeringSteg.Utenlandsopphold"),children:t.jsx(I,{omBarnet:d,utenlandsopphold:m,tidligereUtenlandsopphold:T,senereUtenlandsopphold:g})})]}),t.jsx(de,{label:n("OppsummeringSteg.Samtykke"),onChange:()=>A(Z=>!Z),checked:x,error:Q&&!x&&n("OppsummeringSteg.Validering.BekrefteOpplysninger")}),t.jsx(ce,{goToPreviousStep:i.goToPreviousDefaultStep,nextButtonText:n("OppsummeringSteg.Button.SendSøknad"),nextButtonOnClick:Y,isDisabledAndLoading:W})]})})},Pe=w;try{w.displayName="OppsummeringSteg",w.__docgenInfo={description:"",displayName:"OppsummeringSteg",props:{person:{defaultValue:null,description:"",name:"person",required:!0,type:{name:"Person"}},sendSøknad:{defaultValue:null,description:"",name:"sendSøknad",required:!0,type:{name:"(abortSignal: AbortSignal) => Promise<void>"}},mellomlagreOgNaviger:{defaultValue:null,description:"",name:"mellomlagreOgNaviger",required:!0,type:{name:"() => Promise<void>"}}}}}catch{}export{pe as K,Pe as O,be as e};
