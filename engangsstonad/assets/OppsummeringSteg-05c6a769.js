import{j as e}from"./jsx-runtime-69eee039.js";import{r as f}from"./index-7c191284.js";import{g as O,A as y,H,u as B,V as m,b as l,B as a,F as d,f as I,w as N,i as R,e as Y,C as w}from"./IntlProvider-87524b3e.js";import{a as u}from"./dateUtils-16b0c801.js";import{A as E,S as G}from"./StepButtons-6c5ed715.js";import{n as j,h as K,j as z,a as J,u as Q,b as c,E as g}from"./useEsNavigator-15397b1a.js";import{e as W,b,a as P}from"./Attachment-0260a327.js";import"./countryUtils-28eedc59.js";const X="DD.MM.YYYY",Z=s=>O(s).format(X),ee=s=>!!s.terminbekreftelsedato;const h=({tittel:s,children:t})=>{const[n,r]=f.useState(!1),o=f.useCallback(()=>r(p=>!p),[]);return e.jsxs(y.Item,{children:[e.jsx(y.Header,{className:n?"accordian_header":void 0,onClick:o,children:e.jsx(H,{level:"2",size:"small",children:s})}),e.jsx(y.Content,{className:"content_margin",children:t})]})};try{h.displayName="Oppsummeringspunkt",h.__docgenInfo={description:"",displayName:"Oppsummeringspunkt",props:{tittel:{defaultValue:null,description:"",name:"tittel",required:!0,type:{name:"string"}}}}}catch{}const M=({omBarnet:s,dokumentasjon:t})=>{const n=B(),r=W(s),o=b(s),p=P(s);let i;return s.antallBarn===1?i=n.formatMessage({id:"OmBarnetOppsummering.EttBarn"}):s.antallBarn===2&&!r?i=n.formatMessage({id:"OmBarnetOppsummering.Tvillinger"}):s.antallBarn===2&&r?i=n.formatMessage({id:"OmBarnetOppsummering.ToBarn"}):i=n.formatMessage({id:"OmBarnetOppsummering.FlereBarn"},{antall:s.antallBarn}),e.jsxs(m,{gap:"4",children:[e.jsxs(l,{gap:"2",children:[e.jsx(a,{children:e.jsx(d,{id:"OmBarnetOppsummering.SoknadenGjelder"})}),e.jsx(a,{children:i})]}),r&&e.jsxs(e.Fragment,{children:[e.jsxs(l,{gap:"2",children:[e.jsx(a,{children:e.jsx(d,{id:"OmBarnetOppsummering.MedAdopsjonsdato"})}),e.jsx(a,{children:u(s.adopsjonsdato)})]}),e.jsxs(l,{gap:"2",children:[e.jsx(a,{children:e.jsx(d,{id:s.fødselsdatoer.length>1?"OmBarnetOppsummering.MedFødselsdatoer":"OmBarnetOppsummering.MedFødselsdato"})}),e.jsx(I,{children:s.fødselsdatoer.map((k,x)=>u(s.fødselsdatoer[x].dato)).join(", ")})]}),e.jsx(N,{children:e.jsx(d,{id:"OmBarnetOppsummering.VedlagtOmsorgsovertakelseBekreftelse"})}),e.jsx(E,{attachments:j(t).vedlegg})]}),p&&e.jsxs(l,{gap:"2",children:[e.jsx(a,{children:e.jsx(d,{id:"OmBarnetOppsummering.MedFødselsdato"})}),e.jsx(a,{children:u(s.fødselsdatoer[0].dato)})]}),o&&t&&ee(t)&&e.jsxs(e.Fragment,{children:[e.jsxs(l,{gap:"2",children:[e.jsx(a,{children:e.jsx(d,{id:"OmBarnetOppsummering.MedTermindato"})}),e.jsx(a,{children:u(s.termindato)})]}),e.jsxs(l,{gap:"2",children:[e.jsx(a,{children:e.jsx(d,{id:"OmBarnetOppsummering.SomErDatert"})}),e.jsx(a,{children:u(t.terminbekreftelsedato)})]}),e.jsx(N,{children:e.jsx(d,{id:"OmBarnetOppsummering.VedlagtTerminbekreftelse"})}),e.jsx(E,{attachments:t.vedlegg})]})]})};try{M.displayName="OmBarnetOppsummering",M.__docgenInfo={description:"",displayName:"OmBarnetOppsummering",props:{omBarnet:{defaultValue:null,description:"",name:"omBarnet",required:!0,type:{name:"OmBarnet"}},dokumentasjon:{defaultValue:null,description:"",name:"dokumentasjon",required:!1,type:{name:"Dokumentasjon"}}}}}catch{}const F=(s,t)=>z(s)?t.formatMessage({id:"LandOppsummering.IDag"}):Z(s),se=(s,t)=>O(s.fom).isAfter(t.fom,"day")?1:0,_=({utenlandsoppholdListe:s})=>{const t=B();return e.jsx(e.Fragment,{children:s.sort(se).map(n=>e.jsx("div",{style:{backgroundColor:"var(--a-blue-100)",padding:"16px",borderRadius:"2px"},children:e.jsxs(m,{gap:"1",children:[e.jsx(N,{children:e.jsx(d,{id:K(n.fom)?"LandOppsummering.HarBodd":"LandOppsummering.SkalBo",values:{country:R.getName(n.landkode,"nb")}})}),e.jsxs(I,{children:[F(n.fom,t)," - ",F(n.tom,t)]})]})},`${n.landkode}${n.fom}`))})};try{_.displayName="LandOppsummering",_.__docgenInfo={description:"",displayName:"LandOppsummering",props:{utenlandsoppholdListe:{defaultValue:null,description:"",name:"utenlandsoppholdListe",required:!0,type:{name:"UtenlandsoppholdPeriode[]"}}}}}catch{}const L=(s,t,n)=>O(s).isBetween(O(t),O(n),"day","[]"),U=(s,t=[],n=[])=>t.some(r=>L(s,r.fom,r.tom))||n.some(r=>L(s,r.fom,r.tom)),T=({omBarnet:s,utenlandsopphold:t,tidligereUtenlandsopphold:n,senereUtenlandsopphold:r})=>{const o=B(),p=b(s),i=P(s);return e.jsxs(m,{gap:"5",children:[e.jsxs(m,{gap:"2",children:[t.harBoddUtenforNorgeSiste12Mnd&&e.jsx(_,{utenlandsoppholdListe:j(n).utenlandsoppholdSiste12Mnd}),t.skalBoUtenforNorgeNeste12Mnd&&e.jsx(_,{utenlandsoppholdListe:j(r).utenlandsoppholdNeste12Mnd})]}),t.harBoddUtenforNorgeSiste12Mnd===!1&&e.jsx(a,{children:e.jsx(d,{id:"UtenlandsoppholdOppsummering.BoddSisteTolv",values:{country:o.formatMessage({id:"UtenlandsoppholdOppsummering.Norge"})}})}),t.skalBoUtenforNorgeNeste12Mnd===!1&&e.jsx(a,{children:e.jsx(d,{id:"UtenlandsoppholdOppsummering.BoNesteTolv",values:{country:o.formatMessage({id:"UtenlandsoppholdOppsummering.Norge"})}})}),p&&e.jsx(l,{gap:"2",children:e.jsx(a,{children:e.jsx(d,{id:"UtenlandsoppholdOppsummering.Text.OgKommerPåFødselstidspunktet",values:{country:o.formatMessage({id:U(s.termindato,n==null?void 0:n.utenlandsoppholdSiste12Mnd,r==null?void 0:r.utenlandsoppholdNeste12Mnd)?"UtenlandsoppholdOppsummering.Utlandet":"UtenlandsoppholdOppsummering.Norge"})}})})}),i&&e.jsx(a,{children:e.jsx(d,{id:"UtenlandsoppholdOppsummering.VarPåFødselstidspunktet",values:{country:o.formatMessage({id:U(s.fødselsdatoer[0].dato,n==null?void 0:n.utenlandsoppholdSiste12Mnd,r==null?void 0:r.utenlandsoppholdNeste12Mnd)?"UtenlandsoppholdOppsummering.Utlandet":"UtenlandsoppholdOppsummering.Norge"})}})})]})};try{T.displayName="UtenlandsoppholdOppsummering",T.__docgenInfo={description:"",displayName:"UtenlandsoppholdOppsummering",props:{omBarnet:{defaultValue:null,description:"",name:"omBarnet",required:!0,type:{name:"OmBarnet"}},utenlandsopphold:{defaultValue:null,description:"",name:"utenlandsopphold",required:!0,type:{name:"Utenlandsopphold"}},tidligereUtenlandsopphold:{defaultValue:null,description:"",name:"tidligereUtenlandsopphold",required:!1,type:{name:"UtenlandsoppholdTidligere"}},senereUtenlandsopphold:{defaultValue:null,description:"",name:"senereUtenlandsopphold",required:!1,type:{name:"UtenlandsoppholdSenere"}}}}}catch{}const ne=(s,t,n)=>n?`${s} ${n} ${t}`:`${s} ${t}`,D=({person:s,sendSøknad:t})=>{const n=B(),r=J(),o=Q(),p=j(c(g.OM_BARNET)),i=j(c(g.UTENLANDSOPPHOLD)),k=c(g.DOKUMENTASJON),x=c(g.UTENLANDSOPPHOLD_TIDLIGERE),v=c(g.UTENLANDSOPPHOLD_SENERE),[S,V]=f.useState(!1),[A,C]=f.useState(!1),q=f.useCallback(()=>{S?t(p,i,k,x,v):C(!0)},[S]);return e.jsx(Y,{bannerTitle:n.formatMessage({id:"Søknad.Pageheading"}),pageTitle:n.formatMessage({id:"OppsummeringSteg.Oppsummering"}),onCancel:o.avbrytSøknad,steps:r.stepConfig,activeStepId:r.activeStepId,useNoTempSavingText:!0,children:e.jsxs(m,{gap:"10",children:[e.jsxs(y,{indent:!1,children:[e.jsx(h,{tittel:n.formatMessage({id:"OppsummeringSteg.OmDeg"}),children:e.jsxs(m,{gap:"4",children:[e.jsx(a,{children:ne(s.fornavn,s.etternavn,s.mellomnavn)}),e.jsx(a,{children:s.fnr})]})}),e.jsx(h,{tittel:n.formatMessage({id:"OmBarnetSteg.OmBarnet"}),children:e.jsx(M,{omBarnet:p,dokumentasjon:k})}),e.jsx(h,{tittel:n.formatMessage({id:"OppsummeringSteg.Utenlandsopphold"}),children:e.jsx(T,{omBarnet:p,utenlandsopphold:i,tidligereUtenlandsopphold:x,senereUtenlandsopphold:v})})]}),e.jsx(w,{label:n.formatMessage({id:"OppsummeringSteg.Samtykke"}),onChange:()=>V($=>!$),checked:S,error:A&&!S&&n.formatMessage({id:"OppsummeringSteg.Validering.BekrefteOpplysninger"})}),e.jsx(G,{goToPreviousStep:o.goToPreviousDefaultStep,nextButtonText:n.formatMessage({id:"OppsummeringSteg.Button.SendSøknad"}),nextButtonOnClick:q})]})})},me=D;try{D.displayName="OppsummeringSteg",D.__docgenInfo={description:"",displayName:"OppsummeringSteg",props:{person:{defaultValue:null,description:"",name:"person",required:!0,type:{name:"Person"}},sendSøknad:{defaultValue:null,description:"",name:"sendSøknad",required:!0,type:{name:"(omBarnet: OmBarnet, utenlandsopphold: Utenlandsopphold, dokumentasjon?: Dokumentasjon | undefined, tidligereUtenlandsopphold?: UtenlandsoppholdTidligere | undefined, senereUtenlandsopphold?: UtenlandsoppholdSenere | undefined) => Promise<...>"}}}}}catch{}export{me as O,ee as e};
//# sourceMappingURL=OppsummeringSteg-05c6a769.js.map
