import{r as n}from"./index-7c191284.js";import{l as k}from"./amplitude-a97f1527.js";import{j as T}from"./jsx-runtime-69eee039.js";import{P as o,u as U,b as O,c as v,d as x}from"./paths-77448497.js";import{u as M}from"./IntlProvider-6b2e8efe.js";function I(e){if(e==null)throw Error("Data er ikke oppgitt");return e}var d=(e=>(e.SØKERSITUASJON="SØKERSITUASJON",e.OM_BARNET="OM_BARNET",e.DOKUMENTASJON="DOKUMENTASJON",e.UTENLANDSOPPHOLD="UTENLANDSOPPHOLD",e.UTENLANDSOPPHOLD_NESTE="UTENLANDSOPPHOLD_NESTE",e.UTENLANDSOPPHOLD_SISTE="UTENLANDSOPPHOLD_SISTE",e))(d||{});const g={},P=n.createContext(g),S=n.createContext(void 0),m=({children:e,initialState:t,testDispatcher:s})=>{const[a,c]=n.useReducer((i,u)=>{switch(u.type){case"update":return{...i,[u.key]:u.data};case"reset":return{};default:throw new Error}},t||g),r=n.useCallback(i=>{s&&s(i),c(i)},[]);return T.jsx(P.Provider,{value:a,children:T.jsx(S.Provider,{value:r,children:e})})},A=e=>{const t=n.useContext(S);return n.useCallback(s=>{t&&t({type:"update",key:e,data:s})},[])},L=()=>{const e=n.useContext(S);return n.useCallback((t,s)=>{e&&e({type:"update",key:t,data:s})},[])},f=()=>{const e=n.useContext(S);return n.useCallback(()=>{e&&e({type:"reset"})},[])},y=e=>n.useContext(P)[e],D=()=>{const e=n.useContext(P);return n.useCallback(t=>e[t],[])};try{m.displayName="EsDataContext",m.__docgenInfo={description:"",displayName:"EsDataContext",props:{initialState:{defaultValue:null,description:"",name:"initialState",required:!1,type:{name:"EsDataMap"}},testDispatcher:{defaultValue:null,description:"",name:"testDispatcher",required:!1,type:{name:"((action: Action) => void)"}}}}}catch{}try{A.displayName="useEsStateSaveFn",A.__docgenInfo={description:"Hook returns save function for one specific data type",displayName:"useEsStateSaveFn",props:{}}}catch{}try{L.displayName="useAllStateSaveFn",L.__docgenInfo={description:"Hook returns save function usable with all data types",displayName:"useAllStateSaveFn",props:{}}}catch{}try{f.displayName="useEsStateResetFn",f.__docgenInfo={description:"Hook returns state reset function",displayName:"useEsStateResetFn",props:{}}}catch{}try{y.displayName="useEsStateData",y.__docgenInfo={description:"Hook returns data for one specific data type",displayName:"useEsStateData",props:{}}}catch{}try{D.displayName="useEsStateAllDataFn",D.__docgenInfo={description:"Hook returns function capable of getting all types of data from context state",displayName:"useEsStateAllDataFn",props:{}}}catch{}const R={[o.SØKERSITUASJON]:"SøkersituasjonSteg.Søkersituasjon",[o.OM_BARNET]:"OmBarnetSteg.OmBarnet",[o.TERMINBEKREFTELSE]:"søknad.termin",[o.ADOPSJONSBEKREFTELSE]:"søknad.adopsjon",[o.UTENLANDSOPPHOLD]:"søknad.utenlandsopphold",[o.SISTE_UTENLANDSOPPHOLD]:"søknad.utenlandsopphold.tidligere",[o.NESTE_UTENLANDSOPPHOLD]:"søknad.utenlandsopphold.fremtidig",[o.OPPSUMMERING]:"søknad.oppsummering"},C=(e,t)=>O.indexOf(t)>O.indexOf(e),E=(e,t,s,a,c)=>e&&C(s,a)||!!c(t),H=(e,t,s)=>{if(e===o.SISTE_UTENLANDSOPPHOLD){const a=s(d.UTENLANDSOPPHOLD),c=!!(a!=null&&a.harBoddUtenforNorgeSiste12Mnd);return E(c,d.UTENLANDSOPPHOLD_SISTE,o.UTENLANDSOPPHOLD,t,s)}if(e===o.NESTE_UTENLANDSOPPHOLD){const a=s(d.UTENLANDSOPPHOLD),c=!!(a!=null&&a.skalBoUtenforNorgeNeste12Mnd);return E(c,d.UTENLANDSOPPHOLD_NESTE,o.UTENLANDSOPPHOLD,t,s)}return!1},h=(e,t,s)=>{const a=s(d.OM_BARNET);return e===o.TERMINBEKREFTELSE&&a&&"erBarnetFødt"in a?E(!a.erBarnetFødt,d.DOKUMENTASJON,o.OM_BARNET,t,s):e===o.ADOPSJONSBEKREFTELSE&&a&&"adopsjonAvEktefellesBarn"in a?E(!0,d.DOKUMENTASJON,o.OM_BARNET,t,s):!1},B=()=>{const e=M(),t=U(),s=D(),a=n.useMemo(()=>I(Object.values(o).find(r=>r===decodeURIComponent(t.pathname))),[]),c=n.useMemo(()=>O.flatMap(r=>v.includes(r)||H(r,a,s)||h(r,a,s)?[r]:[]),[]);return n.useMemo(()=>({activeStepId:a,stepConfig:c.map((r,i)=>({id:r,label:e.formatMessage({id:R[r]}),index:i}))}),[])},w=()=>{const e=x(),{activeStepId:t,stepConfig:s}=B(),a=f();n.useEffect(()=>{k("sidevisning",{app:"engangsstonadny",team:"foreldrepenger",pageKey:t})},[]);const c=n.useCallback(()=>{var l;const p=s.findIndex(_=>_.id===t)-1,N=((l=s[p])==null?void 0:l.id)||o.VELKOMMEN;e(N)},[e,s,t]),r=n.useCallback(p=>{e(p)},[e]),i=n.useCallback(()=>{var l;const p=s.findIndex(_=>_.id===t)+1,N=((l=s[p])==null?void 0:l.id)||o.KVITTERING;e(N)},[e,s,t]),u=n.useCallback(()=>{a(),e(o.VELKOMMEN)},[]);return n.useMemo(()=>({goToPreviousDefaultStep:c,goToNextStep:r,goToNextDefaultStep:i,avbrytSøknad:u}),[c,i,r])};export{d as E,B as a,y as b,A as c,m as d,I as n,w as u};
//# sourceMappingURL=useEsNavigator-196eef3f.js.map
