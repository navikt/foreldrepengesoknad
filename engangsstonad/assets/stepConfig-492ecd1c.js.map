{"version":3,"file":"stepConfig-492ecd1c.js","sources":["../../../../node_modules/.pnpm/@navikt+sif-common-formik-ds@0.16.0_@navikt+ds-css@2.8.11_@navikt+ds-datepicker@4.1.5_@navikt_7u3yjft2tmi4ij2j5l2zyfmzpm/node_modules/@navikt/sif-common-formik-ds/lib/components/helpers/unanswerd-questions-info/UnansweredQuestionsInfo.js","../../../../node_modules/.pnpm/@navikt+sif-common-question-config@0.0.7/node_modules/@navikt/sif-common-question-config/lib/index.js","../../src/app/util/globalUtil.ts","../../src/app/step-config/stepConfig.ts"],"sourcesContent":["import { Alert } from '@navikt/ds-react';\nimport React from 'react';\nimport { useIntl } from 'react-intl';\nimport './unansweredQuestionsInfo.scss';\nvar UnansweredQuestionsInfo = function (_a) {\n    var children = _a.children;\n    var intl = useIntl();\n    var getDefaultMessage = function () {\n        switch (intl.locale) {\n            case 'nn':\n                return 'For å kome vidare, må du svare på alle spørsmåla ovafor';\n            default:\n                return 'For å komme videre, må du svare på alle spørsmålene ovenfor';\n        }\n    };\n    return (React.createElement(\"div\", { className: \"unansweredQuestionsInfo\" },\n        React.createElement(Alert, { variant: \"info\", size: \"small\" }, children || getDefaultMessage())));\n};\nexport default UnansweredQuestionsInfo;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.questionValueIsOk = (value) => {\n    return value !== undefined && value !== '';\n};\nconst isQuestionVisible = (questions, question, payload) => {\n    const config = questions[question];\n    if (!config) {\n        return false;\n    }\n    if (config.isIncluded && config.isIncluded(payload) === false) {\n        return false;\n    }\n    if (config.visibilityFilter && config.visibilityFilter(payload) === false) {\n        return false;\n    }\n    if (config.parentQuestion !== undefined) {\n        const parentQuestion = questions[config.parentQuestion];\n        return isQuestionVisible(questions, config.parentQuestion, payload) && parentQuestion.isAnswered(payload);\n    }\n    return true;\n};\nconst isQuestionAnswered = (questions, question, payload) => {\n    const config = questions[question];\n    if (!config || !config.isAnswered) {\n        return false;\n    }\n    return config.isAnswered(payload);\n};\nconst isQuestionIncluded = (questions, question, payload) => {\n    const config = questions[question];\n    if (!config) {\n        return false;\n    }\n    return config.isIncluded ? config.isIncluded(payload) : true;\n};\nconst areAllQuestionsAnswered = (questions, payload) => {\n    let allQuestionsHasAnswers = true;\n    Object.keys(questions).forEach((key) => {\n        const question = questions[key];\n        if (isQuestionVisible(questions, key, payload)) {\n            const isOptional = question.isOptional !== undefined ? question.isOptional(payload) === true : false;\n            allQuestionsHasAnswers = allQuestionsHasAnswers === true && (question.isAnswered(payload) || isOptional);\n        }\n    });\n    return allQuestionsHasAnswers;\n};\nconst getIncludedQuestions = (questions, payload) => {\n    const keys = Object.keys(questions).filter((key) => {\n        return isQuestionIncluded(questions, key, payload);\n    });\n    return keys;\n};\nconst validateQuestion = (value, questions, question, payload) => {\n    const config = questions[question];\n    if (!config || !config.validate) {\n        return undefined;\n    }\n    return config.validate(payload);\n};\nexports.Questions = (questions) => ({\n    getVisbility: (payload) => ({\n        validate: (key) => (value) => validateQuestion(value, questions, key, payload),\n        isVisible: (key) => isQuestionVisible(questions, key, payload),\n        isAnswered: (key) => isQuestionAnswered(questions, key, payload),\n        isIncluded: (key) => isQuestionIncluded(questions, key, payload),\n        areAllQuestionsAnswered: () => areAllQuestionsAnswered(questions, payload),\n        getIncludedQuestions: () => getIncludedQuestions(questions, payload),\n    }),\n    getQuestionVisbilityInfo: (key, payload) => {\n        const info = {\n            validate: (value) => validateQuestion(value, questions, key, payload),\n            isVisible: () => isQuestionVisible(questions, key, payload),\n            isAnswered: () => isQuestionAnswered(questions, key, payload),\n        };\n        return info;\n    },\n});\n","import { logAmplitudeEvent } from 'app/amplitude/amplitude';\nimport actionCreator, { EngangsstønadContextAction } from 'app/context/action/actionCreator';\nimport { NavigateFunction } from 'react-router-dom';\n\nexport const assertUnreachable = (_x: never): never => {\n    throw new Error('This should never happen');\n};\n\nexport const onAvbrytSøknad = (dispatch: React.Dispatch<EngangsstønadContextAction>, navigate: NavigateFunction) => {\n    logAmplitudeEvent('applikasjon-hendelse', {\n        app: 'engangsstonadny',\n        team: 'foreldrepenger',\n        hendelse: 'avbrutt',\n    });\n\n    dispatch(actionCreator.avbrytSøknad());\n    navigate('/');\n};\n","import { assertUnreachable } from 'app/util/globalUtil';\ntype SøkersituasjonStepId = 'søkersituasjon';\ntype OmBarnetStepId = 'omBarnet';\ntype UtenlandsoppholdStepId = 'utenlandsopphold';\ntype OppsummeringStepId = 'oppsummering';\ntype StepIdWithBackHref = OmBarnetStepId | UtenlandsoppholdStepId | OppsummeringStepId;\nexport type StepId = SøkersituasjonStepId | StepIdWithBackHref;\ninterface StepConfig {\n    id: StepId;\n    index: number;\n    label: string;\n}\nconst stepConfig: StepConfig[] = [\n    {\n        id: 'søkersituasjon',\n        index: 0,\n        label: 'Din situasjon',\n    },\n    {\n        id: 'omBarnet',\n        index: 1,\n        label: 'Barnet',\n    },\n    {\n        id: 'utenlandsopphold',\n        index: 2,\n        label: 'Utenlandsopphold',\n    },\n    {\n        id: 'oppsummering',\n        index: 3,\n        label: 'Oppsummering',\n    },\n];\nexport const getPreviousStepHref = (id: StepIdWithBackHref): string => {\n    let href;\n    switch (id) {\n        case 'omBarnet':\n            href = '/soknad/søkersituasjon';\n            break;\n        case 'utenlandsopphold':\n            href = '/soknad/om-barnet';\n            break;\n        case 'oppsummering':\n            href = '/soknad/utenlandsopphold';\n            break;\n        default:\n            return assertUnreachable(id);\n    }\n    return href;\n};\nexport default stepConfig;\n"],"names":["UnansweredQuestionsInfo","_a","children","intl","useIntl","getDefaultMessage","React","Alert","lib","value","isQuestionVisible","questions","question","payload","config","parentQuestion","isQuestionAnswered","isQuestionIncluded","areAllQuestionsAnswered","allQuestionsHasAnswers","key","isOptional","getIncludedQuestions","validateQuestion","Questions","assertUnreachable","_x","onAvbrytSøknad","dispatch","navigate","logAmplitudeEvent","actionCreator","stepConfig","getPreviousStepHref","id","href"],"mappings":"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","x_google_ignoreList":[0,1]}