{"version":3,"file":"SøkersituasjonSteg-b2bc1fed.js","sources":["../../src/steg/sokersituasjon/SøkersituasjonSteg.tsx"],"sourcesContent":["import { Radio, VStack } from '@navikt/ds-react';\nimport { useForm } from 'react-hook-form';\nimport { FormattedMessage } from 'react-intl';\nimport { Step } from '@navikt/fp-common';\nimport { useCustomIntl } from '@navikt/fp-ui';\nimport { RadioGroup, Form, ErrorSummaryHookForm, StepButtonsHookForm } from '@navikt/fp-form-hooks';\nimport { isRequired } from '@navikt/fp-validation';\n\nimport useEsNavigator from 'appData/useEsNavigator';\nimport useStepConfig from 'appData/useStepConfig';\nimport { ContextDataType, useContextGetData, useContextSaveData } from 'appData/EsDataContext';\nimport { Søkersituasjon } from '@navikt/fp-types';\n\ntype Props = {\n    mellomlagreOgNaviger: () => Promise<void>;\n};\n\nconst SøkersituasjonSteg: React.FunctionComponent<Props> = ({ mellomlagreOgNaviger }) => {\n    const { i18n } = useCustomIntl();\n\n    const stepConfig = useStepConfig();\n    const navigator = useEsNavigator(mellomlagreOgNaviger);\n\n    const søkersituasjon = useContextGetData(ContextDataType.SØKERSITUASJON);\n    const oppdaterSøkersituasjon = useContextSaveData(ContextDataType.SØKERSITUASJON);\n    const oppdaterOmBarnet = useContextSaveData(ContextDataType.OM_BARNET);\n\n    const formMethods = useForm<Søkersituasjon>({\n        defaultValues: søkersituasjon,\n    });\n\n    const lagre = (formValues: Søkersituasjon) => {\n        oppdaterSøkersituasjon(formValues);\n        if (søkersituasjon && søkersituasjon.situasjon !== formValues.situasjon) {\n            oppdaterOmBarnet(undefined);\n        }\n        return navigator.goToNextDefaultStep();\n    };\n\n    return (\n        <Step\n            bannerTitle={i18n('Søknad.Pageheading')}\n            onCancel={navigator.avbrytSøknad}\n            onContinueLater={navigator.fortsettSøknadSenere}\n            steps={stepConfig}\n        >\n            <Form formMethods={formMethods} onSubmit={lagre}>\n                <VStack gap=\"10\">\n                    <ErrorSummaryHookForm />\n                    <RadioGroup\n                        name=\"situasjon\"\n                        label={<FormattedMessage id=\"SøkersituasjonSteg.Situasjon\" />}\n                        validate={[isRequired(i18n('SøkersituasjonSteg.Validering.OppgiFodselEllerAdopsjon'))]}\n                    >\n                        <Radio value=\"fødsel\">\n                            <FormattedMessage id=\"SøkersituasjonSteg.Fødsel\" />\n                        </Radio>\n                        <Radio value=\"adopsjon\">\n                            <FormattedMessage id=\"SøkersituasjonSteg.Adopsjon\" />\n                        </Radio>\n                    </RadioGroup>\n                    <StepButtonsHookForm\n                        goToPreviousStep={navigator.goToPreviousDefaultStep}\n                        saveDataOnPreviousClick={oppdaterSøkersituasjon}\n                    />\n                </VStack>\n            </Form>\n        </Step>\n    );\n};\n\nexport default SøkersituasjonSteg;\n"],"names":["SøkersituasjonSteg","mellomlagreOgNaviger","i18n","useCustomIntl","stepConfig","useStepConfig","navigator","useEsNavigator","søkersituasjon","useContextGetData","ContextDataType","oppdaterSøkersituasjon","useContextSaveData","oppdaterOmBarnet","formMethods","useForm","lagre","formValues","jsx","Step","Form","jsxs","VStack","ErrorSummaryHookForm","RadioGroup","FormattedMessage","isRequired","Radio","StepButtonsHookForm","SøkersituasjonSteg$1"],"mappings":"+TAiBA,MAAAA,EAAA,CAAA,CAAA,qBAAAC,KAAA,CACI,KAAA,CAAA,KAAAC,GAAAC,IAEAC,EAAAC,IACAC,EAAAC,EAAAN,CAAA,EAEAO,EAAAC,EAAAC,EAAA,cAAA,EACAC,EAAAC,EAAAF,EAAA,cAAA,EACAG,EAAAD,EAAAF,EAAA,SAAA,EAEAI,EAAAC,EAAA,CAA4C,cAAAP,CACzB,CAAA,EAGnBQ,EAAAC,IACIN,EAAAM,CAAA,EACAT,GAAAA,EAAA,YAAAS,EAAA,WACIJ,EAAA,MAAA,EAEJP,EAAA,uBAGJ,OAAAY,EAAA,IACIC,EAAC,CAAA,YAAAjB,EAAA,oBAAA,EACyC,SAAAI,EAAA,aAClB,gBAAAA,EAAA,qBACO,MAAAF,EACpB,SAAAc,EAAAA,IAAAE,EAAA,CAAA,YAAAN,EAAA,SAAAE,EAAA,SAAAK,EAAA,KAAAC,EAAA,CAAA,IAAA,KAAA,SAAA,CAICJ,EAAA,IAAAK,EAAA,EAAA,EAAsBF,EAAA,KACtBG,EAAC,CAAA,KAAA,YACQ,MAAAN,EAAAA,IAAAO,EAAA,CAAA,GAAA,8BAAA,CAAA,EACsD,SAAA,CAAAC,EAAAxB,EAAA,wDAAA,CAAA,CAAA,EAC0B,SAAA,CAErFgB,EAAAA,IAAAS,EAAA,CAAA,MAAA,SAAA,SAAAT,MAAAO,EAAA,CAAA,GAAA,2BAAA,CAAA,CAAA,CAAA,EAEAP,EAAAA,IAAAS,EAAA,CAAA,MAAA,WAAA,SAAAT,MAAAO,EAAA,CAAA,GAAA,6BAAA,CAAA,CAAA,CAAA,CAGA,CAAA,CAAA,EACJP,EAAA,IACAU,EAAC,CAAA,iBAAAtB,EAAA,wBAC+B,wBAAAK,CACH,CAAA,CAC7B,CAAA,CAAA,CAAA,CAAA,CAER,CAAA,CAGZ,EAEAkB,EAAA7B"}