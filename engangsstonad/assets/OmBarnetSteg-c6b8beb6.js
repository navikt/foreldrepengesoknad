import{j as e}from"./jsx-runtime-69eee039.js";import{r as O}from"./index-7c191284.js";import{u as f,b as B,R as F,D as A,c as T,d as k,a as N,F as M,E as I,S as q}from"./ErrorSummaryHookForm-0994505a.js";import{F as n,R as o,g as m,V as _,u as V,e as w}from"./IntlProvider-87524b3e.js";import{a as J,u as K,b as E,E as x,c as b,n as L,P as g}from"./useEsNavigator-15397b1a.js";import"./countryUtils-28eedc59.js";import{S as h}from"./Søkersituasjon-b1a475fe.js";const G=(l,s)=>{const t={...l};return delete t[s],t},C=()=>{const{isRequired:l,date:{isValidDate:s,isBeforeTodayOrToday:t,isAfterOrSameAsSixMonthsAgo:i,isLessThanThreeWeeksAgo:j,erI22SvangerskapsukeEllerSenere:r}}=f(),{watch:u}=B(),a=u("erBarnetFødt"),c=u("antallBarn");return e.jsxs(e.Fragment,{children:[e.jsxs(F,{name:"erBarnetFødt",label:e.jsx(n,{id:"FødselPanel.Spørsmål.ErBarnetFødt"}),validate:[l("FødselPanel.Spørsmål.ErBarnetFødt.Required")],children:[e.jsx(o,{value:!0,children:e.jsx(n,{id:"FødselPanel.Radiobutton.Ja"})}),e.jsx(o,{value:!1,children:e.jsx(n,{id:"FødselPanel.Radiobutton.Nei"})})]}),a&&e.jsx(A,{name:"fødselsdatoer.0",label:e.jsx(n,{id:"FødselPanel.Fødselsdato"}),minDate:m().subtract(6,"month").toDate(),maxDate:m().toDate(),validate:[l("FødselPanel.Fødselsdato.DuMåOppgi"),s("FødselPanel.Fødselsdato.Gyldig"),t("FødselPanel.Fodselsdato.MåVæreIdagEllerTidligere"),i("FødselPanel.Fodselsdato.IkkeMerEnn6MånederTilbake")]}),!a&&e.jsx(A,{name:"termindato",label:e.jsx(n,{id:"FødselPanel.Termindato"}),minDate:m().subtract(3,"week").toDate(),maxDate:m().add(18,"weeks").add(3,"days").toDate(),validate:[l("FødselPanel.Termindato.DuMåOppgi"),s("FødselPanel.Termindato.Gyldig"),j("FødselPanel.Termindato.TermindatoKanIkkeVære3UkerFraIdag"),r("FødselPanel.Termindato.DuMåVæreIUke22")]}),e.jsxs(F,{name:"antallBarn",label:e.jsx(n,{id:a?"FødselPanel.AntallBarn.Født":"FødselPanel.AntallBarn.Termin"}),validate:[l(a?"FødselPanel.AntallBarn.Født.Required":"FødselPanel.AntallBarn.Venter.Required")],children:[e.jsx(o,{value:1,children:e.jsx(n,{id:"FødselPanel.Radiobutton.Ettbarn"})}),e.jsx(o,{value:2,children:e.jsx(n,{id:"FødselPanel.Radiobutton.Tvillinger"})}),e.jsx(o,{value:3,children:e.jsx(n,{id:"FødselPanel.Radiobutton.Flere"})})]}),c>=3&&e.jsxs(T,{name:"antallBarnDropDown",label:e.jsx(n,{id:a?"FødselPanel.AntallBarn.Født":"FødselPanel.AntallBarn.Termin"}),validate:[l(a?"FødselPanel.AntallBarn.Født.Required":"FødselPanel.AntallBarn.Venter.Required")],children:[e.jsx("option",{value:"3",children:"3"}),e.jsx("option",{value:"4",children:"4"}),e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"6",children:"6"}),e.jsx("option",{value:"7",children:"7"}),e.jsx("option",{value:"8",children:"8"}),e.jsx("option",{value:"9",children:"9"})]})]})};try{FdselPanel.displayName="FdselPanel",FdselPanel.__docgenInfo={description:"",displayName:"FdselPanel",props:{}}}catch{}const S=({adopsjonsdato:l,antallBarn:s,antallBarnDropDown:t})=>{const{isRequired:i,date:{isValidDate:j,isBeforeTodayOrToday:r}}=f(),{control:u}=B(),{fields:a,remove:c,append:P}=k({control:u,name:"fødselsdatoer"});return O.useEffect(()=>{if(!s||s===3&&!t)return;const d=s<3||!t?s:Number.parseInt(t,10),p=a.length-d;p>0&&[...new Array(p)].forEach((v,R)=>{c(a.length-R-1)}),p<0&&[...new Array(d-a.length)].forEach(()=>{P({dato:void 0})})},[s,t]),e.jsx(_,{gap:"10",children:a.map((d,p)=>e.jsx(A,{name:`fødselsdatoer.${p}.dato`,minDate:m().subtract(15,"year").toDate(),maxDate:m().toDate(),label:e.jsx(n,{id:a.length===1?"AdopsjonFodselFieldArray.Fødselsdato":`AdopsjonFodselFieldArray.Spørsmål.Fødselsdato.${p+1}`}),validate:[i("AdopsjonFodselFieldArray.Fodselsdato.DuMåOppgi"),j("AdopsjonFodselFieldArray.Fødselsdato.Gyldig"),v=>!v||!l?void 0:r("AdopsjonFodselFieldArray.fodselsdato.MåVæreIdagEllerTidligere")(v)]},d.id))})};try{S.displayName="AdopsjonFodselFieldArray",S.__docgenInfo={description:"",displayName:"AdopsjonFodselFieldArray",props:{antallBarn:{defaultValue:null,description:"",name:"antallBarn",required:!1,type:{name:"number"}},antallBarnDropDown:{defaultValue:null,description:"",name:"antallBarnDropDown",required:!1,type:{name:"string"}},adopsjonsdato:{defaultValue:null,description:"",name:"adopsjonsdato",required:!1,type:{name:"string"}}}}}catch{}const D=({kjønn:l})=>{const{isRequired:s,date:{isValidDate:t,isMaxOneYearIntoTheFuture:i}}=f(),{watch:j}=B(),{adopsjonAvEktefellesBarn:r,adopsjonsdato:u,antallBarn:a,antallBarnDropDown:c}=j();return e.jsxs(e.Fragment,{children:[e.jsxs(F,{name:"adopsjonAvEktefellesBarn",label:e.jsx(n,{id:"AdopsjonPanel.Spørsmål.Stebarnsadopsjon"}),validate:[s("AdopsjonPanel.Spørsmål.Required")],children:[e.jsx(o,{value:!0,children:e.jsx(n,{id:"AdopsjonPanel.Ja"})}),e.jsx(o,{value:!1,children:e.jsx(n,{id:"AdopsjonPanel.Nei"})})]}),e.jsx(A,{name:"adopsjonsdato",label:e.jsx(n,{id:r?"AdopsjonPanel.Spørsmål.Stebarnsadopsjondato":"AdopsjonPanel.Spørsmål.Overtaomsorgdato"}),minDate:m().subtract(6,"month").toDate(),validate:[s(r?"AdopsjonPanel.EktefellensBarn.DuMåOppgi":"AdopsjonPanel.OvertaOmsorg.DuMåOppgi"),t(r?"AdopsjonPanel.Adopsjonsdato.GyldigFormat":"AdopsjonPanel.Omsorgsovertakelsen.GyldigFormat"),i("AdopsjonPanel.AdopsjonDato.ForLangtFremITid")]}),e.jsxs(F,{name:"antallBarn",label:e.jsx(n,{id:"AdopsjonPanel.Spørsmål.AntallBarnAdoptert"}),description:e.jsx(n,{id:"AdopsjonPanel.Spørsmål.AntallBarnAdoptert.Beskrivelse"}),validate:[s("AdopsjonPanel.Antallbarn.Required")],children:[e.jsx(o,{value:1,children:e.jsx(n,{id:"AdopsjonPanel.Radiobutton.Ettbarn"})}),e.jsx(o,{value:2,children:e.jsx(n,{id:"AdopsjonPanel.Radiobutton.ToBarn"})}),e.jsx(o,{value:3,children:e.jsx(n,{id:"AdopsjonPanel.Radiobutton.Flere"})})]}),a&&a>=3&&e.jsxs(T,{name:"antallBarnDropDown",label:e.jsx(n,{id:"AdopsjonPanel.AntallBarn.Omsorgsovertakelse"}),validate:[s("AdopsjonPanel.Antallbarndropdown.Required")],children:[e.jsx("option",{value:"3",children:"3"}),e.jsx("option",{value:"4",children:"4"}),e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"6",children:"6"}),e.jsx("option",{value:"7",children:"7"}),e.jsx("option",{value:"8",children:"8"}),e.jsx("option",{value:"9",children:"9"})]}),e.jsx(S,{adopsjonsdato:u,antallBarn:a,antallBarnDropDown:c}),l==="M"&&r===!1&&e.jsxs(F,{name:"søkerAdopsjonAlene",label:e.jsx(n,{id:"AdopsjonPanel.Spørsmål.AdoptererDuAlene"}),validate:[s("AdopsjonPanel.AdoptererDuAlene.Required")],children:[e.jsx(o,{value:!0,children:e.jsx(n,{id:"AdopsjonPanel.Ja"})}),e.jsx(o,{value:!1,children:e.jsx(n,{id:"AdopsjonPanel.Nei"})})]})]})};try{D.displayName="AdopsjonPanel",D.__docgenInfo={description:"",displayName:"AdopsjonPanel",props:{kjønn:{defaultValue:null,description:"",name:"kjønn",required:!0,type:{name:"enum",value:[{value:'"M"'},{value:'"K"'}]}}}}}catch{}const U=(l,s)=>s.situasjon===h.ADOPSJON?g.ADOPSJONSBEKREFTELSE:l.erBarnetFødt===!1?g.TERMINBEKREFTELSE:g.UTENLANDSOPPHOLD,y=({kjønn:l})=>{const s=V(),t=J(),i=K(),j=E(x.OM_BARNET),r=b(x.OM_BARNET),u=b(x.DOKUMENTASJON),a=L(E(x.SØKERSITUASJON)),c=O.useCallback(d=>{const{antallBarnDropDown:p}=d;r({...G(d,"antallBarnDropDown"),antallBarn:p?Number.parseInt(p,10):d.antallBarn}),d.erBarnetFødt===!0&&u(void 0),i.goToNextStep(U(d,a))},[]),P=N({defaultValues:j});return e.jsx(w,{bannerTitle:s.formatMessage({id:"Søknad.Pageheading"}),pageTitle:s.formatMessage({id:"OmBarnetSteg.OmBarnet"}),onCancel:i.avbrytSøknad,steps:t.stepConfig,activeStepId:t.activeStepId,useNoTempSavingText:!0,children:e.jsx(M,{formMethods:P,onSubmit:c,children:e.jsxs(_,{gap:"10",children:[e.jsx(I,{}),(a==null?void 0:a.situasjon)===h.ADOPSJON&&e.jsx(D,{kjønn:l}),(a==null?void 0:a.situasjon)===h.FØDSEL&&e.jsx(C,{}),e.jsx(q,{goToPreviousStep:i.goToPreviousDefaultStep,saveDataOnPreviousClick:r})]})})})},Z=y;try{y.displayName="OmBarnetSteg",y.__docgenInfo={description:"",displayName:"OmBarnetSteg",props:{kjønn:{defaultValue:null,description:"",name:"kjønn",required:!0,type:{name:"enum",value:[{value:'"M"'},{value:'"K"'}]}}}}}catch{}export{Z as O};
//# sourceMappingURL=OmBarnetSteg-c6b8beb6.js.map
