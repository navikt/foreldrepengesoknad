var Dt=t=>{throw TypeError(t)};var nt=(t,e,s)=>e.has(t)||Dt("Cannot "+s);var r=(t,e,s)=>(nt(t,e,"read from private field"),s?s.call(t):e.get(t)),d=(t,e,s)=>e.has(t)?Dt("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),c=(t,e,s,n)=>(nt(t,e,"write to private field"),n?n.call(t,s):e.set(t,s),s),b=(t,e,s)=>(nt(t,e,"access private method"),s);var ze=(t,e,s,n)=>({set _(i){c(t,e,i,s)},get _(){return r(t,e,n)}});import{j as y}from"./index-CSZAu0_d.js";import{f as hs,g as Is,i as Ds,C as ne,j as js,n as ds,e as xs,d as Ls,h as Us,R as _s,k as V,N as qs,P as H,E as Qs,M as Ks}from"./useEsNavigator-BNADNKyE.js";import{r as O}from"./index-CZMpeKRu.js";import{k as Re,a as fs,D as jt,h as X,H as Z}from"./DokumentasjonSteg-BlzEfmoR.js";import{a3 as Hs,a4 as Gs,a5 as $s,u as Bs,a6 as Vs,a7 as Js,a8 as zs,d as Ys,a9 as Ws,aa as Xs}from"./dateFormValidation-CYIhKwIz.js";import{n as Zs,u as rt,a as it,o as at,b as en,e as tn}from"./nn_NO-DIZd85c2.js";import{e as sn,O as nn}from"./OppsummeringSteg-D6BJ8vqV.js";import{O as rn}from"./OmBarnetSteg-EZoqqviX.js";import{S as an}from"./SÃ¸kersituasjonSteg-Cu_kDOyh.js";import{S as on}from"./SenereUtenlandsoppholdSteg-L05QdwU5.js";import{T as un}from"./TidligereUtenlandsoppholdSteg-Cwh308Yl.js";import{U as ln}from"./UtenlandsoppholdSteg-hbaZC0j7.js";import{V as cn}from"./Velkommen-BpmHOjdQ.js";import"./index-D-TIQtLp.js";import"./decorators-DIzpaN6C.js";import"./ErrorSummaryHookForm-CI5HC-YT.js";import"./attachmentType-DJ1vFT-G.js";import"./BoIUtlandetOppsummering-O5ch6M5l.js";import"./ConfirmationPanel-BlyVclaJ.js";import"./TidligereUtenlandsoppholdPanel-DO2p1wKe.js";var Qe=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Oe=typeof window>"u"||"Deno"in globalThis;function Q(){}function hn(t,e){return typeof t=="function"?t(e):t}function ct(t){return typeof t=="number"&&t>=0&&t!==1/0}function ps(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ne(t,e){return typeof t=="function"?t(e):t}function B(t,e){return typeof t=="function"?t(e):t}function xt(t,e){const{type:s="all",exact:n,fetchStatus:i,predicate:a,queryKey:o,stale:l}=t;if(o){if(n){if(e.queryHash!==Tt(o,e.options))return!1}else if(!He(e.queryKey,o))return!1}if(s!=="all"){const h=e.isActive();if(s==="active"&&!h||s==="inactive"&&h)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||a&&!a(e))}function Lt(t,e){const{exact:s,status:n,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(s){if(we(e.options.mutationKey)!==we(a))return!1}else if(!He(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function Tt(t,e){return((e==null?void 0:e.queryKeyHashFn)||we)(t)}function we(t){return JSON.stringify(t,(e,s)=>ht(s)?Object.keys(s).sort().reduce((n,i)=>(n[i]=s[i],n),{}):s)}function He(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(s=>!He(t[s],e[s])):!1}function ms(t,e){if(t===e)return t;const s=Ut(t)&&Ut(e);if(s||ht(t)&&ht(e)){const n=s?t:Object.keys(t),i=n.length,a=s?e:Object.keys(e),o=a.length,l=s?[]:{};let h=0;for(let v=0;v<o;v++){const f=s?v:a[v];(!s&&n.includes(f)||s)&&t[f]===void 0&&e[f]===void 0?(l[f]=void 0,h++):(l[f]=ms(t[f],e[f]),l[f]===t[f]&&t[f]!==void 0&&h++)}return i===o&&h===i?t:l}return e}function tt(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}function Ut(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ht(t){if(!_t(t))return!1;const e=t.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!_t(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function _t(t){return Object.prototype.toString.call(t)==="[object Object]"}function dn(t){return new Promise(e=>{setTimeout(e,t)})}function dt(t,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,e):s.structuralSharing!==!1?ms(t,e):e}function fn(t,e,s=0){const n=[...t,e];return s&&n.length>s?n.slice(1):n}function pn(t,e,s=0){const n=[e,...t];return s&&n.length>s?n.slice(0,-1):n}var Nt=Symbol();function ys(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Nt?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var me,ae,Ce,Bt,mn=(Bt=class extends Qe{constructor(){super();d(this,me);d(this,ae);d(this,Ce);c(this,Ce,e=>{if(!Oe&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){r(this,ae)||this.setEventListener(r(this,Ce))}onUnsubscribe(){var e;this.hasListeners()||((e=r(this,ae))==null||e.call(this),c(this,ae,void 0))}setEventListener(e){var s;c(this,Ce,e),(s=r(this,ae))==null||s.call(this),c(this,ae,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){r(this,me)!==e&&(c(this,me,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(s=>{s(e)})}isFocused(){var e;return typeof r(this,me)=="boolean"?r(this,me):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},me=new WeakMap,ae=new WeakMap,Ce=new WeakMap,Bt),Ct=new mn,ke,oe,Ae,Vt,yn=(Vt=class extends Qe{constructor(){super();d(this,ke,!0);d(this,oe);d(this,Ae);c(this,Ae,e=>{if(!Oe&&window.addEventListener){const s=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",n)}}})}onSubscribe(){r(this,oe)||this.setEventListener(r(this,Ae))}onUnsubscribe(){var e;this.hasListeners()||((e=r(this,oe))==null||e.call(this),c(this,oe,void 0))}setEventListener(e){var s;c(this,Ae,e),(s=r(this,oe))==null||s.call(this),c(this,oe,e(this.setOnline.bind(this)))}setOnline(e){r(this,ke)!==e&&(c(this,ke,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return r(this,ke)}},ke=new WeakMap,oe=new WeakMap,Ae=new WeakMap,Vt),st=new yn;function ft(){let t,e;const s=new Promise((i,a)=>{t=i,e=a});s.status="pending",s.catch(()=>{});function n(i){Object.assign(s,i),delete s.resolve,delete s.reject}return s.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},s.reject=i=>{n({status:"rejected",reason:i}),e(i)},s}function gn(t){return Math.min(1e3*2**t,3e4)}function gs(t){return(t??"online")==="online"?st.isOnline():!0}var vs=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ot(t){return t instanceof vs}function bs(t){let e=!1,s=0,n=!1,i;const a=ft(),o=p=>{var E;n||(m(new vs(p)),(E=t.abort)==null||E.call(t))},l=()=>{e=!0},h=()=>{e=!1},v=()=>Ct.isFocused()&&(t.networkMode==="always"||st.isOnline())&&t.canRun(),f=()=>gs(t.networkMode)&&t.canRun(),u=p=>{var E;n||(n=!0,(E=t.onSuccess)==null||E.call(t,p),i==null||i(),a.resolve(p))},m=p=>{var E;n||(n=!0,(E=t.onError)==null||E.call(t,p),i==null||i(),a.reject(p))},g=()=>new Promise(p=>{var E;i=k=>{(n||v())&&p(k)},(E=t.onPause)==null||E.call(t)}).then(()=>{var p;i=void 0,n||(p=t.onContinue)==null||p.call(t)}),S=()=>{if(n)return;let p;const E=s===0?t.initialPromise:void 0;try{p=E??t.fn()}catch(k){p=Promise.reject(k)}Promise.resolve(p).then(u).catch(k=>{var K;if(n)return;const I=t.retry??(Oe?0:3),T=t.retryDelay??gn,M=typeof T=="function"?T(s,k):T,_=I===!0||typeof I=="number"&&s<I||typeof I=="function"&&I(s,k);if(e||!_){m(k);return}s++,(K=t.onFail)==null||K.call(t,s,k),dn(M).then(()=>v()?void 0:g()).then(()=>{e?m(k):S()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:l,continueRetry:h,canStart:f,start:()=>(f()?S():g().then(S),a)}}function vn(){let t=[],e=0,s=l=>{l()},n=l=>{l()},i=l=>setTimeout(l,0);const a=l=>{e?t.push(l):i(()=>{s(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{n(()=>{l.forEach(h=>{s(h)})})})};return{batch:l=>{let h;e++;try{h=l()}finally{e--,e||o()}return h},batchCalls:l=>(...h)=>{a(()=>{l(...h)})},schedule:a,setNotifyFunction:l=>{s=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{i=l}}}var A=vn(),ye,Jt,Es=(Jt=class{constructor(){d(this,ye)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ct(this.gcTime)&&c(this,ye,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Oe?1/0:5*60*1e3))}clearGcTimeout(){r(this,ye)&&(clearTimeout(r(this,ye)),c(this,ye,void 0))}},ye=new WeakMap,Jt),Me,Fe,q,F,Ge,ge,G,ee,zt,bn=(zt=class extends Es{constructor(e){super();d(this,G);d(this,Me);d(this,Fe);d(this,q);d(this,F);d(this,Ge);d(this,ge);c(this,ge,!1),c(this,Ge,e.defaultOptions),this.setOptions(e.options),this.observers=[],c(this,q,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,c(this,Me,En(this.options)),this.state=e.state??r(this,Me),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=r(this,F))==null?void 0:e.promise}setOptions(e){this.options={...r(this,Ge),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&r(this,q).remove(this)}setData(e,s){const n=dt(this.state.data,e,this.options);return b(this,G,ee).call(this,{data:n,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),n}setState(e,s){b(this,G,ee).call(this,{type:"setState",state:e,setStateOptions:s})}cancel(e){var n,i;const s=(n=r(this,F))==null?void 0:n.promise;return(i=r(this,F))==null||i.cancel(e),s?s.then(Q).catch(Q):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(r(this,Me))}isActive(){return this.observers.some(e=>B(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Nt||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!ps(this.state.dataUpdatedAt,e)}onFocus(){var s;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(s=r(this,F))==null||s.continue()}onOnline(){var s;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(s=r(this,F))==null||s.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),r(this,q).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(s=>s!==e),this.observers.length||(r(this,F)&&(r(this,ge)?r(this,F).cancel({revert:!0}):r(this,F).cancelRetry()),this.scheduleGc()),r(this,q).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||b(this,G,ee).call(this,{type:"invalidate"})}fetch(e,s){var h,v,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(r(this,F))return r(this,F).continueRetry(),r(this,F).promise}if(e&&this.setOptions(e),!this.options.queryFn){const u=this.observers.find(m=>m.options.queryFn);u&&this.setOptions(u.options)}const n=new AbortController,i=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(c(this,ge,!0),n.signal)})},a=()=>{const u=ys(this.options,s),m={queryKey:this.queryKey,meta:this.meta};return i(m),c(this,ge,!1),this.options.persister?this.options.persister(u,m,this):u(m)},o={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(o),(h=this.options.behavior)==null||h.onFetch(o,this),c(this,Fe,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((v=o.fetchOptions)==null?void 0:v.meta))&&b(this,G,ee).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta});const l=u=>{var m,g,S,p;ot(u)&&u.silent||b(this,G,ee).call(this,{type:"error",error:u}),ot(u)||((g=(m=r(this,q).config).onError)==null||g.call(m,u,this),(p=(S=r(this,q).config).onSettled)==null||p.call(S,this.state.data,u,this)),this.scheduleGc()};return c(this,F,bs({initialPromise:s==null?void 0:s.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:u=>{var m,g,S,p;if(u===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(E){l(E);return}(g=(m=r(this,q).config).onSuccess)==null||g.call(m,u,this),(p=(S=r(this,q).config).onSettled)==null||p.call(S,u,this.state.error,this),this.scheduleGc()},onError:l,onFail:(u,m)=>{b(this,G,ee).call(this,{type:"failed",failureCount:u,error:m})},onPause:()=>{b(this,G,ee).call(this,{type:"pause"})},onContinue:()=>{b(this,G,ee).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),r(this,F).start()}},Me=new WeakMap,Fe=new WeakMap,q=new WeakMap,F=new WeakMap,Ge=new WeakMap,ge=new WeakMap,G=new WeakSet,ee=function(e){const s=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Ss(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return ot(i)&&i.revert&&r(this,Fe)?{...r(this,Fe),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=s(this.state),A.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),r(this,q).notify({query:this,type:"updated",action:e})})},zt);function Ss(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:gs(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function En(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,s=e!==void 0,n=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var J,Yt,Sn=(Yt=class extends Qe{constructor(e={}){super();d(this,J);this.config=e,c(this,J,new Map)}build(e,s,n){const i=s.queryKey,a=s.queryHash??Tt(i,s);let o=this.get(a);return o||(o=new bn({cache:this,queryKey:i,queryHash:a,options:e.defaultQueryOptions(s),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){r(this,J).has(e.queryHash)||(r(this,J).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=r(this,J).get(e.queryHash);s&&(e.destroy(),s===e&&r(this,J).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){A.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return r(this,J).get(e)}getAll(){return[...r(this,J).values()]}find(e){const s={exact:!0,...e};return this.getAll().find(n=>xt(s,n))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(n=>xt(e,n)):s}notify(e){A.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){A.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){A.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},J=new WeakMap,Yt),z,j,ve,Y,ie,Wt,Rn=(Wt=class extends Es{constructor(e){super();d(this,Y);d(this,z);d(this,j);d(this,ve);this.mutationId=e.mutationId,c(this,j,e.mutationCache),c(this,z,[]),this.state=e.state||Rs(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){r(this,z).includes(e)||(r(this,z).push(e),this.clearGcTimeout(),r(this,j).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){c(this,z,r(this,z).filter(s=>s!==e)),this.scheduleGc(),r(this,j).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){r(this,z).length||(this.state.status==="pending"?this.scheduleGc():r(this,j).remove(this))}continue(){var e;return((e=r(this,ve))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,o,l,h,v,f,u,m,g,S,p,E,k,I,T,M,_,K,D;c(this,ve,bs({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(C,P)=>{b(this,Y,ie).call(this,{type:"failed",failureCount:C,error:P})},onPause:()=>{b(this,Y,ie).call(this,{type:"pause"})},onContinue:()=>{b(this,Y,ie).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>r(this,j).canRun(this)}));const s=this.state.status==="pending",n=!r(this,ve).canStart();try{if(!s){b(this,Y,ie).call(this,{type:"pending",variables:e,isPaused:n}),await((a=(i=r(this,j).config).onMutate)==null?void 0:a.call(i,e,this));const P=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,e));P!==this.state.context&&b(this,Y,ie).call(this,{type:"pending",context:P,variables:e,isPaused:n})}const C=await r(this,ve).start();return await((v=(h=r(this,j).config).onSuccess)==null?void 0:v.call(h,C,e,this.state.context,this)),await((u=(f=this.options).onSuccess)==null?void 0:u.call(f,C,e,this.state.context)),await((g=(m=r(this,j).config).onSettled)==null?void 0:g.call(m,C,null,this.state.variables,this.state.context,this)),await((p=(S=this.options).onSettled)==null?void 0:p.call(S,C,null,e,this.state.context)),b(this,Y,ie).call(this,{type:"success",data:C}),C}catch(C){try{throw await((k=(E=r(this,j).config).onError)==null?void 0:k.call(E,C,e,this.state.context,this)),await((T=(I=this.options).onError)==null?void 0:T.call(I,C,e,this.state.context)),await((_=(M=r(this,j).config).onSettled)==null?void 0:_.call(M,void 0,C,this.state.variables,this.state.context,this)),await((D=(K=this.options).onSettled)==null?void 0:D.call(K,void 0,C,e,this.state.context)),C}finally{b(this,Y,ie).call(this,{type:"error",error:C})}}finally{r(this,j).runNext(this)}}},z=new WeakMap,j=new WeakMap,ve=new WeakMap,Y=new WeakSet,ie=function(e){const s=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=s(this.state),A.batch(()=>{r(this,z).forEach(n=>{n.onMutationUpdate(e)}),r(this,j).notify({mutation:this,type:"updated",action:e})})},Wt);function Rs(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var te,$,$e,Xt,On=(Xt=class extends Qe{constructor(e={}){super();d(this,te);d(this,$);d(this,$e);this.config=e,c(this,te,new Set),c(this,$,new Map),c(this,$e,0)}build(e,s,n){const i=new Rn({mutationCache:this,mutationId:++ze(this,$e)._,options:e.defaultMutationOptions(s),state:n});return this.add(i),i}add(e){r(this,te).add(e);const s=Ye(e);if(typeof s=="string"){const n=r(this,$).get(s);n?n.push(e):r(this,$).set(s,[e])}this.notify({type:"added",mutation:e})}remove(e){if(r(this,te).delete(e)){const s=Ye(e);if(typeof s=="string"){const n=r(this,$).get(s);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&r(this,$).delete(s)}}this.notify({type:"removed",mutation:e})}canRun(e){const s=Ye(e);if(typeof s=="string"){const n=r(this,$).get(s),i=n==null?void 0:n.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const s=Ye(e);if(typeof s=="string"){const i=(n=r(this,$).get(s))==null?void 0:n.find(a=>a!==e&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){A.batch(()=>{r(this,te).forEach(e=>{this.notify({type:"removed",mutation:e})}),r(this,te).clear(),r(this,$).clear()})}getAll(){return Array.from(r(this,te))}find(e){const s={exact:!0,...e};return this.getAll().find(n=>Lt(s,n))}findAll(e={}){return this.getAll().filter(s=>Lt(e,s))}notify(e){A.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){const e=this.getAll().filter(s=>s.state.isPaused);return A.batch(()=>Promise.all(e.map(s=>s.continue().catch(Q))))}},te=new WeakMap,$=new WeakMap,$e=new WeakMap,Xt);function Ye(t){var e;return(e=t.options.scope)==null?void 0:e.id}function qt(t){return{onFetch:(e,s)=>{var f,u,m,g,S;const n=e.options,i=(m=(u=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:u.fetchMore)==null?void 0:m.direction,a=((g=e.state.data)==null?void 0:g.pages)||[],o=((S=e.state.data)==null?void 0:S.pageParams)||[];let l={pages:[],pageParams:[]},h=0;const v=async()=>{let p=!1;const E=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},k=ys(e.options,e.fetchOptions),I=async(T,M,_)=>{if(p)return Promise.reject();if(M==null&&T.pages.length)return Promise.resolve(T);const K={queryKey:e.queryKey,pageParam:M,direction:_?"backward":"forward",meta:e.options.meta};E(K);const D=await k(K),{maxPages:C}=e.options,P=_?pn:fn;return{pages:P(T.pages,D,C),pageParams:P(T.pageParams,M,C)}};if(i&&a.length){const T=i==="backward",M=T?wn:Qt,_={pages:a,pageParams:o},K=M(n,_);l=await I(_,K,T)}else{const T=t??a.length;do{const M=h===0?o[0]??n.initialPageParam:Qt(n,l);if(h>0&&M==null)break;l=await I(l,M),h++}while(h<T)}return l};e.options.persister?e.fetchFn=()=>{var p,E;return(E=(p=e.options).persister)==null?void 0:E.call(p,v,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s)}:e.fetchFn=v}}}function Qt(t,{pages:e,pageParams:s}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,s[n],s):void 0}function wn(t,{pages:e,pageParams:s}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,s[0],s):void 0}var N,ue,le,Ie,De,ce,je,xe,Zt,Pn=(Zt=class{constructor(t={}){d(this,N);d(this,ue);d(this,le);d(this,Ie);d(this,De);d(this,ce);d(this,je);d(this,xe);c(this,N,t.queryCache||new Sn),c(this,ue,t.mutationCache||new On),c(this,le,t.defaultOptions||{}),c(this,Ie,new Map),c(this,De,new Map),c(this,ce,0)}mount(){ze(this,ce)._++,r(this,ce)===1&&(c(this,je,Ct.subscribe(async t=>{t&&(await this.resumePausedMutations(),r(this,N).onFocus())})),c(this,xe,st.subscribe(async t=>{t&&(await this.resumePausedMutations(),r(this,N).onOnline())})))}unmount(){var t,e;ze(this,ce)._--,r(this,ce)===0&&((t=r(this,je))==null||t.call(this),c(this,je,void 0),(e=r(this,xe))==null||e.call(this),c(this,xe,void 0))}isFetching(t){return r(this,N).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return r(this,ue).findAll({...t,status:"pending"}).length}getQueryData(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=r(this,N).get(e.queryHash))==null?void 0:s.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),s=r(this,N).build(this,e),n=s.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&s.isStaleByTime(Ne(e.staleTime,s))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return r(this,N).findAll(t).map(({queryKey:e,state:s})=>{const n=s.data;return[e,n]})}setQueryData(t,e,s){const n=this.defaultQueryOptions({queryKey:t}),i=r(this,N).get(n.queryHash),a=i==null?void 0:i.state.data,o=hn(e,a);if(o!==void 0)return r(this,N).build(this,n).setData(o,{...s,manual:!0})}setQueriesData(t,e,s){return A.batch(()=>r(this,N).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,s)]))}getQueryState(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=r(this,N).get(e.queryHash))==null?void 0:s.state}removeQueries(t){const e=r(this,N);A.batch(()=>{e.findAll(t).forEach(s=>{e.remove(s)})})}resetQueries(t,e){const s=r(this,N),n={type:"active",...t};return A.batch(()=>(s.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(n,e)))}cancelQueries(t,e={}){const s={revert:!0,...e},n=A.batch(()=>r(this,N).findAll(t).map(i=>i.cancel(s)));return Promise.all(n).then(Q).catch(Q)}invalidateQueries(t,e={}){return A.batch(()=>{if(r(this,N).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none")return Promise.resolve();const s={...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"};return this.refetchQueries(s,e)})}refetchQueries(t,e={}){const s={...e,cancelRefetch:e.cancelRefetch??!0},n=A.batch(()=>r(this,N).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,s);return s.throwOnError||(a=a.catch(Q)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Q)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const s=r(this,N).build(this,e);return s.isStaleByTime(Ne(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Q).catch(Q)}fetchInfiniteQuery(t){return t.behavior=qt(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Q).catch(Q)}ensureInfiniteQueryData(t){return t.behavior=qt(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return st.isOnline()?r(this,ue).resumePausedMutations():Promise.resolve()}getQueryCache(){return r(this,N)}getMutationCache(){return r(this,ue)}getDefaultOptions(){return r(this,le)}setDefaultOptions(t){c(this,le,t)}setQueryDefaults(t,e){r(this,Ie).set(we(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...r(this,Ie).values()],s={};return e.forEach(n=>{He(t,n.queryKey)&&Object.assign(s,n.defaultOptions)}),s}setMutationDefaults(t,e){r(this,De).set(we(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...r(this,De).values()];let s={};return e.forEach(n=>{He(t,n.mutationKey)&&(s={...s,...n.defaultOptions})}),s}defaultQueryOptions(t){if(t._defaulted)return t;const e={...r(this,le).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Tt(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Nt&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...r(this,le).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){r(this,N).clear(),r(this,ue).clear()}},N=new WeakMap,ue=new WeakMap,le=new WeakMap,Ie=new WeakMap,De=new WeakMap,ce=new WeakMap,je=new WeakMap,xe=new WeakMap,Zt),L,R,Be,x,be,Le,he,W,Ve,Ue,_e,Ee,Se,de,qe,w,Ke,pt,mt,yt,gt,vt,bt,Et,Os,es,Tn=(es=class extends Qe{constructor(e,s){super();d(this,w);d(this,L);d(this,R);d(this,Be);d(this,x);d(this,be);d(this,Le);d(this,he);d(this,W);d(this,Ve);d(this,Ue);d(this,_e);d(this,Ee);d(this,Se);d(this,de);d(this,qe,new Set);this.options=s,c(this,L,e),c(this,W,null),c(this,he,ft()),this.options.experimental_prefetchInRender||r(this,he).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(r(this,R).addObserver(this),Kt(r(this,R),this.options)?b(this,w,Ke).call(this):this.updateResult(),b(this,w,gt).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return St(r(this,R),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return St(r(this,R),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,b(this,w,vt).call(this),b(this,w,bt).call(this),r(this,R).removeObserver(this)}setOptions(e,s){const n=this.options,i=r(this,R);if(this.options=r(this,L).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof B(this.options.enabled,r(this,R))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");b(this,w,Et).call(this),r(this,R).setOptions(this.options),n._defaulted&&!tt(this.options,n)&&r(this,L).getQueryCache().notify({type:"observerOptionsUpdated",query:r(this,R),observer:this});const a=this.hasListeners();a&&Ht(r(this,R),i,this.options,n)&&b(this,w,Ke).call(this),this.updateResult(s),a&&(r(this,R)!==i||B(this.options.enabled,r(this,R))!==B(n.enabled,r(this,R))||Ne(this.options.staleTime,r(this,R))!==Ne(n.staleTime,r(this,R)))&&b(this,w,pt).call(this);const o=b(this,w,mt).call(this);a&&(r(this,R)!==i||B(this.options.enabled,r(this,R))!==B(n.enabled,r(this,R))||o!==r(this,de))&&b(this,w,yt).call(this,o)}getOptimisticResult(e){const s=r(this,L).getQueryCache().build(r(this,L),e),n=this.createResult(s,e);return Cn(this,n)&&(c(this,x,n),c(this,Le,this.options),c(this,be,r(this,R).state)),n}getCurrentResult(){return r(this,x)}trackResult(e,s){const n={};return Object.keys(e).forEach(i=>{Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),s==null||s(i),e[i])})}),n}trackProp(e){r(this,qe).add(e)}getCurrentQuery(){return r(this,R)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=r(this,L).defaultQueryOptions(e),n=r(this,L).getQueryCache().build(r(this,L),s);return n.fetch().then(()=>this.createResult(n,s))}fetch(e){return b(this,w,Ke).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),r(this,x)))}createResult(e,s){var C;const n=r(this,R),i=this.options,a=r(this,x),o=r(this,be),l=r(this,Le),v=e!==n?e.state:r(this,Be),{state:f}=e;let u={...f},m=!1,g;if(s._optimisticResults){const P=this.hasListeners(),Pe=!P&&Kt(e,s),Te=P&&Ht(e,n,s,i);(Pe||Te)&&(u={...u,...Ss(f.data,e.options)}),s._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:S,errorUpdatedAt:p,status:E}=u;if(s.select&&u.data!==void 0)if(a&&u.data===(o==null?void 0:o.data)&&s.select===r(this,Ve))g=r(this,Ue);else try{c(this,Ve,s.select),g=s.select(u.data),g=dt(a==null?void 0:a.data,g,s),c(this,Ue,g),c(this,W,null)}catch(P){c(this,W,P)}else g=u.data;if(s.placeholderData!==void 0&&g===void 0&&E==="pending"){let P;if(a!=null&&a.isPlaceholderData&&s.placeholderData===(l==null?void 0:l.placeholderData))P=a.data;else if(P=typeof s.placeholderData=="function"?s.placeholderData((C=r(this,_e))==null?void 0:C.state.data,r(this,_e)):s.placeholderData,s.select&&P!==void 0)try{P=s.select(P),c(this,W,null)}catch(Pe){c(this,W,Pe)}P!==void 0&&(E="success",g=dt(a==null?void 0:a.data,P,s),m=!0)}r(this,W)&&(S=r(this,W),g=r(this,Ue),p=Date.now(),E="error");const k=u.fetchStatus==="fetching",I=E==="pending",T=E==="error",M=I&&k,_=g!==void 0,D={status:E,fetchStatus:u.fetchStatus,isPending:I,isSuccess:E==="success",isError:T,isInitialLoading:M,isLoading:M,data:g,dataUpdatedAt:u.dataUpdatedAt,error:S,errorUpdatedAt:p,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>v.dataUpdateCount||u.errorUpdateCount>v.errorUpdateCount,isFetching:k,isRefetching:k&&!I,isLoadingError:T&&!_,isPaused:u.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:T&&_,isStale:kt(e,s),refetch:this.refetch,promise:r(this,he)};if(this.options.experimental_prefetchInRender){const P=Je=>{D.status==="error"?Je.reject(D.error):D.data!==void 0&&Je.resolve(D.data)},Pe=()=>{const Je=c(this,he,D.promise=ft());P(Je)},Te=r(this,he);switch(Te.status){case"pending":e.queryHash===n.queryHash&&P(Te);break;case"fulfilled":(D.status==="error"||D.data!==Te.value)&&Pe();break;case"rejected":(D.status!=="error"||D.error!==Te.reason)&&Pe();break}}return D}updateResult(e){const s=r(this,x),n=this.createResult(r(this,R),this.options);if(c(this,be,r(this,R).state),c(this,Le,this.options),r(this,be).data!==void 0&&c(this,_e,r(this,R)),tt(n,s))return;c(this,x,n);const i={},a=()=>{if(!s)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!r(this,qe).size)return!0;const h=new Set(l??r(this,qe));return this.options.throwOnError&&h.add("error"),Object.keys(r(this,x)).some(v=>{const f=v;return r(this,x)[f]!==s[f]&&h.has(f)})};(e==null?void 0:e.listeners)!==!1&&a()&&(i.listeners=!0),b(this,w,Os).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&b(this,w,gt).call(this)}},L=new WeakMap,R=new WeakMap,Be=new WeakMap,x=new WeakMap,be=new WeakMap,Le=new WeakMap,he=new WeakMap,W=new WeakMap,Ve=new WeakMap,Ue=new WeakMap,_e=new WeakMap,Ee=new WeakMap,Se=new WeakMap,de=new WeakMap,qe=new WeakMap,w=new WeakSet,Ke=function(e){b(this,w,Et).call(this);let s=r(this,R).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(Q)),s},pt=function(){b(this,w,vt).call(this);const e=Ne(this.options.staleTime,r(this,R));if(Oe||r(this,x).isStale||!ct(e))return;const n=ps(r(this,x).dataUpdatedAt,e)+1;c(this,Ee,setTimeout(()=>{r(this,x).isStale||this.updateResult()},n))},mt=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(r(this,R)):this.options.refetchInterval)??!1},yt=function(e){b(this,w,bt).call(this),c(this,de,e),!(Oe||B(this.options.enabled,r(this,R))===!1||!ct(r(this,de))||r(this,de)===0)&&c(this,Se,setInterval(()=>{(this.options.refetchIntervalInBackground||Ct.isFocused())&&b(this,w,Ke).call(this)},r(this,de)))},gt=function(){b(this,w,pt).call(this),b(this,w,yt).call(this,b(this,w,mt).call(this))},vt=function(){r(this,Ee)&&(clearTimeout(r(this,Ee)),c(this,Ee,void 0))},bt=function(){r(this,Se)&&(clearInterval(r(this,Se)),c(this,Se,void 0))},Et=function(){const e=r(this,L).getQueryCache().build(r(this,L),this.options);if(e===r(this,R))return;const s=r(this,R);c(this,R,e),c(this,Be,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},Os=function(e){A.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(r(this,x))}),r(this,L).getQueryCache().notify({query:r(this,R),type:"observerResultsUpdated"})})},es);function Nn(t,e){return B(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Kt(t,e){return Nn(t,e)||t.state.data!==void 0&&St(t,e,e.refetchOnMount)}function St(t,e,s){if(B(e.enabled,t)!==!1){const n=typeof s=="function"?s(t):s;return n==="always"||n!==!1&&kt(t,e)}return!1}function Ht(t,e,s,n){return(t!==e||B(n.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&kt(t,s)}function kt(t,e){return B(e.enabled,t)!==!1&&t.isStaleByTime(Ne(e.staleTime,t))}function Cn(t,e){return!tt(t.getCurrentResult(),e)}var fe,pe,U,se,re,et,Rt,ts,kn=(ts=class extends Qe{constructor(e,s){super();d(this,re);d(this,fe);d(this,pe);d(this,U);d(this,se);c(this,fe,e),this.setOptions(s),this.bindMethods(),b(this,re,et).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const s=this.options;this.options=r(this,fe).defaultMutationOptions(e),tt(this.options,s)||r(this,fe).getMutationCache().notify({type:"observerOptionsUpdated",mutation:r(this,U),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&we(s.mutationKey)!==we(this.options.mutationKey)?this.reset():((n=r(this,U))==null?void 0:n.state.status)==="pending"&&r(this,U).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=r(this,U))==null||e.removeObserver(this)}onMutationUpdate(e){b(this,re,et).call(this),b(this,re,Rt).call(this,e)}getCurrentResult(){return r(this,pe)}reset(){var e;(e=r(this,U))==null||e.removeObserver(this),c(this,U,void 0),b(this,re,et).call(this),b(this,re,Rt).call(this)}mutate(e,s){var n;return c(this,se,s),(n=r(this,U))==null||n.removeObserver(this),c(this,U,r(this,fe).getMutationCache().build(r(this,fe),this.options)),r(this,U).addObserver(this),r(this,U).execute(e)}},fe=new WeakMap,pe=new WeakMap,U=new WeakMap,se=new WeakMap,re=new WeakSet,et=function(){var s;const e=((s=r(this,U))==null?void 0:s.state)??Rs();c(this,pe,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},Rt=function(e){A.batch(()=>{var s,n,i,a,o,l,h,v;if(r(this,se)&&this.hasListeners()){const f=r(this,pe).variables,u=r(this,pe).context;(e==null?void 0:e.type)==="success"?((n=(s=r(this,se)).onSuccess)==null||n.call(s,e.data,f,u),(a=(i=r(this,se)).onSettled)==null||a.call(i,e.data,null,f,u)):(e==null?void 0:e.type)==="error"&&((l=(o=r(this,se)).onError)==null||l.call(o,e.error,f,u),(v=(h=r(this,se)).onSettled)==null||v.call(h,void 0,e.error,f,u))}this.listeners.forEach(f=>{f(r(this,pe))})})},ts),ws=O.createContext(void 0),Ps=t=>{const e=O.useContext(ws);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},An=({client:t,children:e})=>(O.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),y.jsx(ws.Provider,{value:t,children:e})),Ts=O.createContext(!1),Mn=()=>O.useContext(Ts);Ts.Provider;function Fn(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var In=O.createContext(Fn()),Dn=()=>O.useContext(In);function Ns(t,e){return typeof t=="function"?t(...e):!!t}function Ot(){}var jn=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},xn=t=>{O.useEffect(()=>{t.clearReset()},[t])},Ln=({result:t,errorResetBoundary:e,throwOnError:s,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&Ns(s,[t.error,n]),Un=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...s)=>Math.max(e(...s),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},_n=(t,e)=>t.isLoading&&t.isFetching&&!e,qn=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Gt=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function Qn(t,e,s){var u,m,g,S,p;const n=Ps(),i=Mn(),a=Dn(),o=n.defaultQueryOptions(t);(m=(u=n.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||m.call(u,o),o._optimisticResults=i?"isRestoring":"optimistic",Un(o),jn(o,a),xn(a);const l=!n.getQueryCache().get(o.queryHash),[h]=O.useState(()=>new e(n,o)),v=h.getOptimisticResult(o),f=!i&&t.subscribed!==!1;if(O.useSyncExternalStore(O.useCallback(E=>{const k=f?h.subscribe(A.batchCalls(E)):Ot;return h.updateResult(),k},[h,f]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),O.useEffect(()=>{h.setOptions(o,{listeners:!1})},[o,h]),qn(o,v))throw Gt(o,h,a);if(Ln({result:v,errorResetBoundary:a,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw v.error;if((S=(g=n.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||S.call(g,o,v),o.experimental_prefetchInRender&&!Oe&&_n(v,i)){const E=l?Gt(o,h,a):(p=n.getQueryCache().get(o.queryHash))==null?void 0:p.promise;E==null||E.catch(Ot).finally(()=>{h.updateResult()})}return o.notifyOnChangeProps?v:h.trackResult(v)}function $t(t,e){return Qn(t,Tn)}function wt(t,e){const s=Ps(),[n]=O.useState(()=>new kn(s,t));O.useEffect(()=>{n.setOptions(t)},[n,t]);const i=O.useSyncExternalStore(O.useCallback(o=>n.subscribe(A.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=O.useCallback((o,l)=>{n.mutate(o,l).catch(Ot)},[n]);if(i.error&&Ns(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}const At=2,Kn="ukjent uuid",Hn="Det har oppstÃ¥tt et problem med mellomlagring av sÃ¸knaden. Vennligst prÃ¸v igjen senere. Hvis problemet vedvarer, kontakt oss og oppgi feil-id: ",Gn=(t,e)=>{const s=hs(),n=Is(),i=Ds(),[a,o]=O.useState(!1),l=O.useRef(null),{mutate:h}=wt({mutationFn:()=>Re.delete(".//rest/storage/engangsstonad")});return O.useEffect(()=>{a&&(async()=>{o(!1);const u=n[ne.CURRENT_PATH];if(u){s(u);try{const m={version:At,locale:t,...n};await Re.post(".//rest/storage/engangsstonad",{json:m})}catch(m){if(m instanceof fs){if(m.response.status===401||m.response.status===403)throw m;const g=await m.response.json(),S=g!=null&&g.uuid?g==null?void 0:g.uuid.slice(0,8):Kn;throw Error(Hn+S)}throw m instanceof Error?m:new Error(String(m))}}else h(),e(!1),i(),s("/");l.current&&l.current()})().catch(u=>{Hs(u.message),l.current&&l.current()})},[a]),O.useCallback(()=>(o(!0),new Promise(u=>{l.current=u})),[])};var $n=function(){return null};const Bn="From {fom} until {tom}",Vn={tidsperiode:Bn,"tidsperiode.kort":"{fom} - {tom}"},Jn="Fra {fom} til {tom}",zn={tidsperiode:Jn,"tidsperiode.kort":"{fom} - {tom}"},Yn="FrÃ¥ {fom} til {tom}",Wn={tidsperiode:Yn,"tidsperiode.kort":"{fom} - {tom}"},Xn=t=>{window.location.href=t},Cs="selectedLocale",Zn=()=>sessionStorage.getItem(Cs)||"nb",er=t=>{sessionStorage.setItem(Cs,t)},ut={nb:zn,nn:Wn,en:Vn},tr=()=>{const t=document.getElementById("nav:appSettings");if(!t)return{};const e=JSON.parse(t.text);return{APP_VERSION:e.APP_VERSION,INNSYN:e.INNSYN}},lt=tr(),sr=()=>{const t=O.useRef(null);return O.useEffect(()=>()=>{t.current&&t.current.abort()},[]),{initAbortSignal:O.useCallback(()=>{t.current&&t.current.abort();const s=new AbortController;return t.current=s,t.current.signal},[t])}},nr=(t,e)=>{const s=(e==null?void 0:e.vedlegg.map(n=>n.id))||[];if(xs(t))return{type:"adopsjon",antallBarn:t.antallBarn,fÃ¸dselsdatoer:t.fÃ¸dselsdatoer.map(n=>n.dato),adopsjonsdato:t.adopsjonsdato,adopsjonAvEktefellesBarn:t.adopsjonAvEktefellesBarn,vedleggreferanser:s};if(Ls(t))return{type:"fÃ¸dsel",antallBarn:t.antallBarn,fÃ¸dselsdato:t.fÃ¸dselsdato,termindato:t.termindato,vedleggreferanser:[]};if(Us(t)&&e&&sn(e))return{type:"termin",antallBarn:t.antallBarn,termindato:t.termindato,terminbekreftelseDato:e.terminbekreftelsedato,vedleggreferanser:s};throw Error("Det er feil i data om barnet")},rr="ukjent uuid",ir="Det har oppstÃ¥tt et problem med innsending av sÃ¸knaden. Vennligst prÃ¸v igjen senere. Hvis problemet vedvarer, kontakt oss og oppgi feil-id: ",ar=(t,e)=>{const s=js(),{initAbortSignal:n}=sr(),{mutate:i}=wt({mutationFn:()=>Re.delete(".//rest/storage/engangsstonad")}),a=async()=>{const h=ds(s(ne.OM_BARNET)),v=s(ne.DOKUMENTASJON),f=s(ne.UTENLANDSOPPHOLD_TIDLIGERE),u=s(ne.UTENLANDSOPPHOLD_SENERE),m={type:"engangsstÃ¸nad",sprÃ¥kkode:t,barn:nr(h,v),utenlandsopphold:(f??[]).concat(u??[]),vedlegg:(v==null?void 0:v.vedlegg.map(S=>({...S,dokumenterer:{type:"barn"}})))||[]},g=n();try{const S=await Re.post(".//rest/soknad/engangsstonad",{json:m,signal:g});i(),e(await S.json())}catch(S){if(S instanceof fs){if(g.aborted||S.response.status===401||S.response.status===403)throw S;const p=await S.response.json(),E=p!=null&&p.uuid?p==null?void 0:p.uuid.slice(0,8):rr;throw Error(ir+E)}throw S instanceof Error?S:new Error(String(S))}},{mutateAsync:o,error:l}=wt({mutationFn:()=>a()});return O.useMemo(()=>({sendSÃ¸knad:()=>o(),errorSendSÃ¸knad:l}),[o,l])},Mt=()=>y.jsx("div",{style:{textAlign:"center",padding:"12rem 0"},children:y.jsx(Gs,{size:"2xlarge"})}),Ft=({error:t})=>y.jsx($s,{appName:"engangsstonad",errorMessage:t.message,retryCallback:()=>location.reload()}),ks=({locale:t,onChangeLocale:e,sÃ¸ker:s,mellomlagretData:n})=>{const i=hs(),[a,o]=O.useState(!1),[l,h]=O.useState(),{sendSÃ¸knad:v,errorSendSÃ¸knad:f}=ar(t,h),u=Gn(t,o);return O.useEffect(()=>{n!=null&&n[ne.CURRENT_PATH]&&(o(!0),n.locale&&e(n.locale),i(n[ne.CURRENT_PATH]))},[n]),l?lt.INNSYN?(Xn(l.saksNr?`${lt.INNSYN}/sak/${l.saksNr}/redirectFromSoknad`:`${lt.INNSYN}/redirectFromSoknad`),y.jsx(Mt,{})):y.jsx("div",{children:"Redirected to Innsyn"}):f?y.jsx(Ft,{error:f}):y.jsxs(_s,{children:[!a&&y.jsx(V,{path:"*",element:y.jsx(qs,{to:H.VELKOMMEN})}),y.jsx(V,{path:H.VELKOMMEN,element:y.jsx(cn,{locale:t,onChangeLocale:e,startSÃ¸knad:o,erVelkommen:a,mellomlagreOgNaviger:u})}),a&&y.jsxs(y.Fragment,{children:[y.jsx(V,{path:H.SÃKERSITUASJON,element:y.jsx(an,{mellomlagreOgNaviger:u})}),y.jsx(V,{path:H.OM_BARNET,element:y.jsx(rn,{kjÃ¸nn:s.kjÃ¸nn,mellomlagreOgNaviger:u})}),y.jsx(V,{path:H.TERMINBEKREFTELSE,element:y.jsx(jt,{mellomlagreOgNaviger:u})}),y.jsx(V,{path:H.ADOPSJONSBEKREFTELSE,element:y.jsx(jt,{mellomlagreOgNaviger:u})}),y.jsx(V,{path:H.UTENLANDSOPPHOLD,element:y.jsx(ln,{mellomlagreOgNaviger:u})}),y.jsx(V,{path:H.TIDLIGERE_UTENLANDSOPPHOLD,element:y.jsx(un,{mellomlagreOgNaviger:u})}),y.jsx(V,{path:H.SENERE_UTENLANDSOPPHOLD,element:y.jsx(on,{mellomlagreOgNaviger:u})}),y.jsx(V,{path:H.OPPSUMMERING,element:y.jsx(nn,{sendSÃ¸knad:v,mellomlagreOgNaviger:u})})]})]})};Mt.__docgenInfo={description:"",methods:[],displayName:"Spinner"};Ft.__docgenInfo={description:"",methods:[],displayName:"ApiErrorHandler",props:{error:{required:!0,tsType:{name:"Error"},description:""}}};ks.__docgenInfo={description:"",methods:[],displayName:"EngangsstÃ¸nadRoutes",props:{locale:{required:!0,tsType:{name:"union",raw:"LocaleNo | 'en'",elements:[{name:"union",raw:"'nb' | 'nn'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"}]},{name:"literal",value:"'en'"}]},description:""},onChangeLocale:{required:!0,tsType:{name:"signature",type:"function",raw:"(locale: LocaleAll) => void",signature:{arguments:[{type:{name:"union",raw:"LocaleNo | 'en'",elements:[{name:"union",raw:"'nb' | 'nn'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"}]},{name:"literal",value:"'en'"}]},name:"locale"}],return:{name:"void"}}},description:""},sÃ¸ker:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
    kjÃ¸nn: 'M' | 'K';
    fÃ¸dselsdato: string;
    bankkonto?: Bankkonto;
    barn: BarnFrontend[];
    sivilstand?: Sivilstand;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}},{key:"kjÃ¸nn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"fÃ¸dselsdato",value:{name:"string",required:!0}},{key:"bankkonto",value:{name:"signature",type:"object",raw:`{
    kontonummer?: string;
    banknavn?: string;
}`,signature:{properties:[{key:"kontonummer",value:{name:"string",required:!1}},{key:"banknavn",value:{name:"string",required:!1}}]},required:!1}},{key:"barn",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
    kjÃ¸nn: string;
    fÃ¸dselsdato: string;
    dÃ¸dsdato?: string;
    annenForelder?: AnnenForelderFrontend;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}},{key:"kjÃ¸nn",value:{name:"string",required:!0}},{key:"fÃ¸dselsdato",value:{name:"string",required:!0}},{key:"dÃ¸dsdato",value:{name:"string",required:!1}},{key:"annenForelder",value:{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
    fÃ¸dselsdato?: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}},{key:"fÃ¸dselsdato",value:{name:"string",required:!1}}]},required:!1}}]}}],raw:"BarnFrontend[]",required:!0}},{key:"sivilstand",value:{name:"signature",type:"object",raw:`{
    type?:
        | 'UOPPGITT'
        | 'UGIFT'
        | 'GIFT'
        | 'ENKE_ELLER_ENKEMANN'
        | 'SKILT'
        | 'SEPARERT'
        | 'REGISTRERT_PARTNER'
        | 'SEPARERT_PARTNER'
        | 'SKILT_PARTNER'
        | 'GJENLEVENDE_PARTNER';
}`,signature:{properties:[{key:"type",value:{name:"union",raw:`| 'UOPPGITT'
| 'UGIFT'
| 'GIFT'
| 'ENKE_ELLER_ENKEMANN'
| 'SKILT'
| 'SEPARERT'
| 'REGISTRERT_PARTNER'
| 'SEPARERT_PARTNER'
| 'SKILT_PARTNER'
| 'GJENLEVENDE_PARTNER'`,elements:[{name:"literal",value:"'UOPPGITT'"},{name:"literal",value:"'UGIFT'"},{name:"literal",value:"'GIFT'"},{name:"literal",value:"'ENKE_ELLER_ENKEMANN'"},{name:"literal",value:"'SKILT'"},{name:"literal",value:"'SEPARERT'"},{name:"literal",value:"'REGISTRERT_PARTNER'"},{name:"literal",value:"'SEPARERT_PARTNER'"},{name:"literal",value:"'SKILT_PARTNER'"},{name:"literal",value:"'GJENLEVENDE_PARTNER'"}],required:!1}}]},required:!1}}]}},description:""},mellomlagretData:{required:!1,tsType:{name:"intersection",raw:"{ version: number; locale: LocaleAll } & ContextDataMap",elements:[{name:"signature",type:"object",raw:"{ version: number; locale: LocaleAll }",signature:{properties:[{key:"version",value:{name:"number",required:!0}},{key:"locale",value:{name:"union",raw:"LocaleNo | 'en'",elements:[{name:"union",raw:"'nb' | 'nn'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"}]},{name:"literal",value:"'en'"}],required:!0}}]}},{name:"signature",type:"object",raw:`{
    [ContextDataType.CURRENT_PATH]?: Path;
    [ContextDataType.SÃKERSITUASJON]?: SÃ¸kersituasjon;
    [ContextDataType.OM_BARNET]?: OmBarnet;
    [ContextDataType.DOKUMENTASJON]?: Dokumentasjon;
    [ContextDataType.UTENLANDSOPPHOLD]?: Utenlandsopphold;
    [ContextDataType.UTENLANDSOPPHOLD_SENERE]?: UtenlandsoppholdPeriode[];
    [ContextDataType.UTENLANDSOPPHOLD_TIDLIGERE]?: UtenlandsoppholdPeriode[];
}`,signature:{properties:[]}}]},description:""}}};const As=({locale:t,onChangeLocale:e})=>{var o;const s=Bs();Vs(s.formatMessage({id:"SÃ¸knad.Pagetitle"}));const n=$t({queryKey:["PERSONINFO"],queryFn:()=>Re.get(".//rest/personinfo").json()}),i=$t({queryKey:["MELLOMLAGRET_INFO"],queryFn:()=>Re.get(".//rest/storage/engangsstonad").json()});if(n.error||i.error)return y.jsx(Ft,{error:ds(n.error||i.error)});if(!n.data||i.isPending)return y.jsx(Mt,{});if(!Js(n.data.fÃ¸dselsdato))return y.jsx(zs,{appnavn:"EngangsstÃ¸nad"});const a=((o=i.data)==null?void 0:o.version)===At?i.data:void 0;return y.jsx(Qs,{initialState:a,children:y.jsx(ks,{locale:t,onChangeLocale:e,sÃ¸ker:n.data,mellomlagretData:a})})};As.__docgenInfo={description:"",methods:[],displayName:"EngangsstÃ¸nad",props:{locale:{required:!0,tsType:{name:"union",raw:"LocaleNo | 'en'",elements:[{name:"union",raw:"'nb' | 'nn'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"}]},{name:"literal",value:"'en'"}]},description:""},onChangeLocale:{required:!0,tsType:{name:"signature",type:"function",raw:"(locale: LocaleAll) => void",signature:{arguments:[{type:{name:"union",raw:"LocaleNo | 'en'",elements:[{name:"union",raw:"'nb' | 'nn'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"}]},{name:"literal",value:"'en'"}]},name:"locale"}],return:{name:"void"}}},description:""}}};const Ms=Zn(),or={nb:{...Zs,...rt.nb,...it.nb,...at.nb,...ut.nb},nn:{...en,...rt.nn,...it.nn,...at.nn,...ut.nn},en:{...tn,...rt.en,...it.en,...at.en,...ut.en}},ur=new Pn({defaultOptions:{queries:{retry:3}}});Ys.locale(Ms);const lr=async()=>{try{await Re.delete(".//rest/storage/engangsstonad")}catch{}location.reload()},Pt=()=>{const[t,e]=O.useState(Ms),s=O.useCallback(n=>{er(n),e(n),document.documentElement.setAttribute("lang",n)},[]);return y.jsx(Ws,{locale:t,messagesGroupedByLocale:or,children:y.jsx(Xs,{appName:"engangsstonad",retryCallback:lr,children:y.jsxs(An,{client:ur,children:[y.jsx($n,{}),y.jsx(As,{locale:t,onChangeLocale:s})]})})})};Pt.__docgenInfo={description:"",methods:[],displayName:"AppContainer"};const cr={mottattDato:"2019-02-19T13:40:45.115",referanseId:"3959c880-83d2-4f01-b107-035fa7693758",leveranseStatus:"PÃ_VENT",journalId:"439772941"},Fs={fnr:"11111111111",fornavn:"Henrikke",etternavn:"Ibsen",kjÃ¸nn:"K",fÃ¸dselsdato:"1979-01-28",bankkonto:{kontonummer:"49875234987",banknavn:"Storebank"},barn:[]},It=[X.post(".//rest/soknad/engangsstonad",()=>Z.json(cr)),X.post(".//rest/storage/engangsstonad",()=>new Z(null,{status:200})),X.delete(".//rest/storage/engangsstonad",()=>new Z(null,{status:200})),X.post(".//rest/storage/engangsstonad/vedlegg",()=>new Z(null,{status:200}))],Fr={title:"Applikasjon - EngangsstÃ¸nad (AppContainer)",component:Pt,render:()=>y.jsx(Ks,{children:y.jsx(Pt,{})})},We={parameters:{msw:{handlers:It.concat([X.get(".//rest/personinfo",()=>Z.json(Fs)),X.get(".//rest/storage/engangsstonad",()=>new Z(null,{status:200}))])}}},Xe={parameters:{msw:{handlers:It.concat([X.get(".//rest/personinfo",()=>Z.json(Fs)),X.get(".//rest/storage/engangsstonad",()=>Z.json({version:At,locale:"nb",[ne.SÃKERSITUASJON]:{situasjon:"fÃ¸dsel"},[ne.CURRENT_PATH]:H.SÃKERSITUASJON}))])}}},Ze={parameters:{msw:{handlers:It.concat([X.get(".//rest/personinfo",()=>Z.json({fnr:"1231111111",fornavn:"Espen",etternavn:"Utvikler",kjÃ¸nn:"M",fÃ¸dselsdato:"1979-01-28",bankkonto:{kontonummer:"49875234987",banknavn:"Storebank"},barn:[]})),X.get(".//rest/storage/engangsstonad",()=>new Z(null,{status:200}))])}}};var ss,ns,rs;We.parameters={...We.parameters,docs:{...(ss=We.parameters)==null?void 0:ss.docs,source:{originalSource:`{
  parameters: {
    msw: {
      handlers: HANDLERS.concat([http.get(\`\${import.meta.env.BASE_URL}/rest/personinfo\`, () => HttpResponse.json(DEFAULT_PERSONINFO)), http.get(\`\${import.meta.env.BASE_URL}/rest/storage/engangsstonad\`, () => new HttpResponse(null, {
        status: 200
      }))])
    }
  }
}`,...(rs=(ns=We.parameters)==null?void 0:ns.docs)==null?void 0:rs.source}}};var is,as,os;Xe.parameters={...Xe.parameters,docs:{...(is=Xe.parameters)==null?void 0:is.docs,source:{originalSource:`{
  parameters: {
    msw: {
      handlers: HANDLERS.concat([http.get(\`\${import.meta.env.BASE_URL}/rest/personinfo\`, () => HttpResponse.json(DEFAULT_PERSONINFO)), http.get(\`\${import.meta.env.BASE_URL}/rest/storage/engangsstonad\`, () => HttpResponse.json({
        version: VERSJON_MELLOMLAGRING,
        locale: 'nb',
        [ContextDataType.SÃKERSITUASJON]: {
          situasjon: 'fÃ¸dsel'
        },
        [ContextDataType.CURRENT_PATH]: Path.SÃKERSITUASJON
      }))])
    }
  }
}`,...(os=(as=Xe.parameters)==null?void 0:as.docs)==null?void 0:os.source}}};var us,ls,cs;Ze.parameters={...Ze.parameters,docs:{...(us=Ze.parameters)==null?void 0:us.docs,source:{originalSource:`{
  parameters: {
    msw: {
      handlers: HANDLERS.concat([http.get(\`\${import.meta.env.BASE_URL}/rest/personinfo\`, () => HttpResponse.json({
        fnr: '1231111111',
        fornavn: 'Espen',
        etternavn: 'Utvikler',
        kjÃ¸nn: 'M',
        fÃ¸dselsdato: '1979-01-28',
        bankkonto: {
          kontonummer: '49875234987',
          banknavn: 'Storebank'
        },
        barn: []
      })), http.get(\`\${import.meta.env.BASE_URL}/rest/storage/engangsstonad\`, () => new HttpResponse(null, {
        status: 200
      }))])
    }
  }
}`,...(cs=(ls=Ze.parameters)==null?void 0:ls.docs)==null?void 0:cs.source}}};const Ir=["SÃ¸kerErKvinne","SÃ¸kerErKvinneMedMellomlagretData","SÃ¸kerErMann"];export{We as SÃ¸kerErKvinne,Xe as SÃ¸kerErKvinneMedMellomlagretData,Ze as SÃ¸kerErMann,Ir as __namedExportsOrder,Fr as default};
