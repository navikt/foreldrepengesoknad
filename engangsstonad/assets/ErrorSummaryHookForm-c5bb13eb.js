import{u as Yt,g as re,J as Jt,K as _e,M as Re,N as Qt,O as ct,Q as Xt,p as zt,U as Kt,W as Zt,X as er}from"./IntlProvider-4e33f46c.js";import{g as tr,e as rr}from"./useEsNavigator-418925c5.js";import{j as K}from"./jsx-runtime-69eee039.js";import{R as F,r as W}from"./index-7c191284.js";import{S as sr,E as ar}from"./StepButtons-a9eb5602.js";const nr=e=>({...tr(e),date:rr(e)}),Rr=()=>{const e=Yt();return nr(e)};var ve=e=>e.type==="checkbox",fe=e=>e instanceof Date,P=e=>e==null;const xt=e=>typeof e=="object";var M=e=>!P(e)&&!Array.isArray(e)&&xt(e)&&!fe(e),St=e=>M(e)&&e.target?ve(e.target)?e.target.checked:e.target.value:e,ir=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,kt=(e,s)=>e.has(ir(s)),ur=e=>{const s=e.constructor&&e.constructor.prototype;return M(s)&&s.hasOwnProperty("isPrototypeOf")},Je=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function j(e){let s;const t=Array.isArray(e);if(e instanceof Date)s=new Date(e);else if(e instanceof Set)s=new Set(e);else if(!(Je&&(e instanceof Blob||e instanceof FileList))&&(t||M(e)))if(s=t?[]:{},!t&&!ur(e))s=e;else for(const r in e)e.hasOwnProperty(r)&&(s[r]=j(e[r]));else return e;return s}var me=e=>Array.isArray(e)?e.filter(Boolean):[],w=e=>e===void 0,d=(e,s,t)=>{if(!s||!M(e))return t;const r=me(s.split(/[,[\].]+?/)).reduce((n,i)=>P(n)?n:n[i],e);return w(r)||r===e?w(e[s])?t:e[s]:r};const Ae={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Q={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ne={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Dt=F.createContext(null),Z=()=>F.useContext(Dt),lr=e=>{const{children:s,...t}=e;return F.createElement(Dt.Provider,{value:t},s)};var Et=(e,s,t,r=!0)=>{const n={defaultValues:s._defaultValues};for(const i in e)Object.defineProperty(n,i,{get:()=>{const o=i;return s._proxyFormState[o]!==Q.all&&(s._proxyFormState[o]=!r||Q.all),t&&(t[o]=!0),e[o]}});return n},$=e=>M(e)&&!Object.keys(e).length,wt=(e,s,t,r)=>{t(e);const{name:n,...i}=e;return $(i)||Object.keys(i).length>=Object.keys(s).length||Object.keys(i).find(o=>s[o]===(!r||Q.all))},G=e=>Array.isArray(e)?e:[e],Ct=(e,s,t)=>t&&s?e===s:!e||!s||e===s||G(e).some(r=>r&&(r.startsWith(s)||s.startsWith(r)));function De(e){const s=F.useRef(e);s.current=e,F.useEffect(()=>{const t=!e.disabled&&s.current.subject&&s.current.subject.subscribe({next:s.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}function or(e){const s=Z(),{control:t=s.control,disabled:r,name:n,exact:i}=e||{},[o,g]=F.useState(t._formState),f=F.useRef(!0),v=F.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),D=F.useRef(n);return D.current=n,De({disabled:r,next:b=>f.current&&Ct(D.current,b.name,i)&&wt(b,v.current,t._updateFormState)&&g({...t._formState,...b}),subject:t._subjects.state}),F.useEffect(()=>(f.current=!0,v.current.isValid&&t._updateValid(!0),()=>{f.current=!1}),[t]),Et(o,t,v.current,!1)}var se=e=>typeof e=="string",Ot=(e,s,t,r,n)=>se(e)?(r&&s.watch.add(e),d(t,e,n)):Array.isArray(e)?e.map(i=>(r&&s.watch.add(i),d(t,i))):(r&&(s.watchAll=!0),t);function cr(e){const s=Z(),{control:t=s.control,name:r,defaultValue:n,disabled:i,exact:o}=e||{},g=F.useRef(r);g.current=r,De({disabled:i,subject:t._subjects.values,next:D=>{Ct(g.current,D.name,o)&&v(j(Ot(g.current,t._names,D.values||t._formValues,!1,n)))}});const[f,v]=F.useState(t._getWatch(r,n));return F.useEffect(()=>t._removeUnmounted()),f}var Qe=e=>/^\w*$/.test(e),Rt=e=>me(e.replace(/["|']|\]/g,"").split(/\.|\[/));function E(e,s,t){let r=-1;const n=Qe(s)?[s]:Rt(s),i=n.length,o=i-1;for(;++r<i;){const g=n[r];let f=t;if(r!==o){const v=e[g];f=M(v)||Array.isArray(v)?v:isNaN(+n[r+1])?{}:[]}e[g]=f,e=e[g]}return e}function Xe(e){const s=Z(),{name:t,control:r=s.control,shouldUnregister:n}=e,i=kt(r._names.array,t),o=cr({control:r,name:t,defaultValue:d(r._formValues,t,d(r._defaultValues,t,e.defaultValue)),exact:!0}),g=or({control:r,name:t}),f=F.useRef(r.register(t,{...e.rules,value:o}));return f.current=r.register(t,e.rules),F.useEffect(()=>{const v=r._options.shouldUnregister||n,D=(b,p)=>{const U=d(r._fields,b);U&&(U._f.mount=p)};if(D(t,!0),v){const b=j(d(r._options.defaultValues,t));E(r._defaultValues,t,b),w(d(r._formValues,t))&&E(r._formValues,t,b)}return()=>{(i?v&&!r._state.action:v)?r.unregister(t):D(t,!1)}},[t,r,i,n]),{field:{name:t,value:o,onChange:F.useCallback(v=>f.current.onChange({target:{value:St(v),name:t},type:Ae.CHANGE}),[t]),onBlur:F.useCallback(()=>f.current.onBlur({target:{value:d(r._formValues,t),name:t},type:Ae.BLUR}),[t,r]),ref:v=>{const D=d(r._fields,t);D&&v&&(D._f.ref={focus:()=>v.focus(),select:()=>v.select(),setCustomValidity:b=>v.setCustomValidity(b),reportValidity:()=>v.reportValidity()})}},formState:g,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!d(g.errors,t)},isDirty:{enumerable:!0,get:()=>!!d(g.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!d(g.touchedFields,t)},error:{enumerable:!0,get:()=>d(g.errors,t)}})}}var dr=(e,s,t,r,n)=>s?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[r]:n||!0}}:{};const be=(e,s,t)=>{for(const r of t||Object.keys(e)){const n=d(e,r);if(n){const{_f:i,...o}=n;if(i&&s(i.name)){if(i.ref.focus){i.ref.focus();break}else if(i.refs&&i.refs[0].focus){i.refs[0].focus();break}}else M(o)&&be(o,s)}}};var ie=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,s=>{const t=(Math.random()*16+e)%16|0;return(s=="x"?t:t&3|8).toString(16)})},Ne=(e,s,t={})=>t.shouldFocus||w(t.shouldFocus)?t.focusName||`${e}.${w(t.focusIndex)?s:t.focusIndex}.`:"",$e=e=>({isOnSubmit:!e||e===Q.onSubmit,isOnBlur:e===Q.onBlur,isOnChange:e===Q.onChange,isOnAll:e===Q.all,isOnTouch:e===Q.onTouched}),Ge=(e,s,t)=>!t&&(s.watchAll||s.watch.has(e)||[...s.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length)))),Nt=(e,s,t)=>{const r=me(d(e,t));return E(r,"root",s[t]),E(e,t,r),e},ye=e=>typeof e=="boolean",ze=e=>e.type==="file",ue=e=>typeof e=="function",Fe=e=>{if(!Je)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},Ve=e=>se(e),Ke=e=>e.type==="radio",xe=e=>e instanceof RegExp;const dt={value:!1,isValid:!1},ft={value:!0,isValid:!0};var Tt=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!w(e[0].attributes.value)?w(e[0].value)||e[0].value===""?ft:{value:e[0].value,isValid:!0}:ft:dt}return dt};const yt={isValid:!1,value:null};var Mt=e=>Array.isArray(e)?e.reduce((s,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:s,yt):yt;function mt(e,s,t="validate"){if(Ve(e)||Array.isArray(e)&&e.every(Ve)||ye(e)&&!e)return{type:t,message:Ve(e)?e:"",ref:s}}var de=e=>M(e)&&!xe(e)?e:{value:e,message:""},Ye=async(e,s,t,r,n)=>{const{ref:i,refs:o,required:g,maxLength:f,minLength:v,min:D,max:b,pattern:p,validate:U,name:N,valueAsNumber:Y,mount:X,disabled:B}=e._f,A=d(s,N);if(!X||B)return{};const I=o?o[0]:i,z=k=>{r&&I.reportValidity&&(I.setCustomValidity(ye(k)?"":k||""),I.reportValidity())},m={},V=Ke(i),x=ve(i),T=V||x,L=(Y||ze(i))&&w(i.value)&&w(A)||Fe(i)&&i.value===""||A===""||Array.isArray(A)&&!A.length,ee=dr.bind(null,N,t,m),ae=(k,S,O,H=ne.maxLength,J=ne.minLength)=>{const te=k?S:O;m[N]={type:k?H:J,message:te,ref:i,...ee(k?H:J,te)}};if(n?!Array.isArray(A)||!A.length:g&&(!T&&(L||P(A))||ye(A)&&!A||x&&!Tt(o).isValid||V&&!Mt(o).isValid)){const{value:k,message:S}=Ve(g)?{value:!!g,message:g}:de(g);if(k&&(m[N]={type:ne.required,message:S,ref:I,...ee(ne.required,S)},!t))return z(S),m}if(!L&&(!P(D)||!P(b))){let k,S;const O=de(b),H=de(D);if(!P(A)&&!isNaN(A)){const J=i.valueAsNumber||A&&+A;P(O.value)||(k=J>O.value),P(H.value)||(S=J<H.value)}else{const J=i.valueAsDate||new Date(A),te=pe=>new Date(new Date().toDateString()+" "+pe),le=i.type=="time",ge=i.type=="week";se(O.value)&&A&&(k=le?te(A)>te(O.value):ge?A>O.value:J>new Date(O.value)),se(H.value)&&A&&(S=le?te(A)<te(H.value):ge?A<H.value:J<new Date(H.value))}if((k||S)&&(ae(!!k,O.message,H.message,ne.max,ne.min),!t))return z(m[N].message),m}if((f||v)&&!L&&(se(A)||n&&Array.isArray(A))){const k=de(f),S=de(v),O=!P(k.value)&&A.length>+k.value,H=!P(S.value)&&A.length<+S.value;if((O||H)&&(ae(O,k.message,S.message),!t))return z(m[N].message),m}if(p&&!L&&se(A)){const{value:k,message:S}=de(p);if(xe(k)&&!A.match(k)&&(m[N]={type:ne.pattern,message:S,ref:i,...ee(ne.pattern,S)},!t))return z(S),m}if(U){if(ue(U)){const k=await U(A,s),S=mt(k,I);if(S&&(m[N]={...S,...ee(ne.validate,S.message)},!t))return z(S.message),m}else if(M(U)){let k={};for(const S in U){if(!$(k)&&!t)break;const O=mt(await U[S](A,s),I,S);O&&(k={...O,...ee(S,O.message)},z(O.message),t&&(m[N]=k))}if(!$(k)&&(m[N]={ref:I,...k},!t))return m}}return z(!0),m};function Te(e,s){return[...e,...G(s)]}var Me=e=>Array.isArray(e)?e.map(()=>{}):void 0;function qe(e,s,t){return[...e.slice(0,s),...G(t),...e.slice(s)]}var Ue=(e,s,t)=>Array.isArray(e)?(w(e[t])&&(e[t]=void 0),e.splice(t,0,e.splice(s,1)[0]),e):[];function Be(e,s){return[...G(s),...G(e)]}function fr(e,s){let t=0;const r=[...e];for(const n of s)r.splice(n-t,1),t++;return me(r).length?r:[]}var Ie=(e,s)=>w(s)?[]:fr(e,G(s).sort((t,r)=>t-r)),Le=(e,s,t)=>{e[s]=[e[t],e[t]=e[s]][0]};function yr(e,s){const t=s.slice(0,-1).length;let r=0;for(;r<t;)e=w(e)?r++:e[s[r++]];return e}function mr(e){for(const s in e)if(e.hasOwnProperty(s)&&!w(e[s]))return!1;return!0}function q(e,s){const t=Array.isArray(s)?s:Qe(s)?[s]:Rt(s),r=t.length===1?e:yr(e,t),n=t.length-1,i=t[n];return r&&delete r[i],n!==0&&(M(r)&&$(r)||Array.isArray(r)&&mr(r))&&q(e,t.slice(0,-1)),e}var gt=(e,s,t)=>(e[s]=t,e);function Nr(e){const s=Z(),{control:t=s.control,name:r,keyName:n="id",shouldUnregister:i}=e,[o,g]=F.useState(t._getFieldArray(r)),f=F.useRef(t._getFieldArray(r).map(ie)),v=F.useRef(o),D=F.useRef(r),b=F.useRef(!1);D.current=r,v.current=o,t._names.array.add(r),e.rules&&t.register(r,e.rules),De({next:({values:m,name:V})=>{if(V===D.current||!V){const x=d(m,D.current);Array.isArray(x)&&(g(x),f.current=x.map(ie))}},subject:t._subjects.array});const p=F.useCallback(m=>{b.current=!0,t._updateFieldArray(r,m)},[t,r]),U=(m,V)=>{const x=G(j(m)),T=Te(t._getFieldArray(r),x);t._names.focus=Ne(r,T.length-1,V),f.current=Te(f.current,x.map(ie)),p(T),g(T),t._updateFieldArray(r,T,Te,{argA:Me(m)})},N=(m,V)=>{const x=G(j(m)),T=Be(t._getFieldArray(r),x);t._names.focus=Ne(r,0,V),f.current=Be(f.current,x.map(ie)),p(T),g(T),t._updateFieldArray(r,T,Be,{argA:Me(m)})},Y=m=>{const V=Ie(t._getFieldArray(r),m);f.current=Ie(f.current,m),p(V),g(V),t._updateFieldArray(r,V,Ie,{argA:m})},X=(m,V,x)=>{const T=G(j(V)),L=qe(t._getFieldArray(r),m,T);t._names.focus=Ne(r,m,x),f.current=qe(f.current,m,T.map(ie)),p(L),g(L),t._updateFieldArray(r,L,qe,{argA:m,argB:Me(V)})},B=(m,V)=>{const x=t._getFieldArray(r);Le(x,m,V),Le(f.current,m,V),p(x),g(x),t._updateFieldArray(r,x,Le,{argA:m,argB:V},!1)},A=(m,V)=>{const x=t._getFieldArray(r);Ue(x,m,V),Ue(f.current,m,V),p(x),g(x),t._updateFieldArray(r,x,Ue,{argA:m,argB:V},!1)},I=(m,V)=>{const x=j(V),T=gt(t._getFieldArray(r),m,x);f.current=[...T].map((L,ee)=>!L||ee===m?ie():f.current[ee]),p(T),g([...T]),t._updateFieldArray(r,T,gt,{argA:m,argB:x},!0,!1)},z=m=>{const V=G(j(m));f.current=V.map(ie),p([...V]),g([...V]),t._updateFieldArray(r,[...V],x=>x,{},!0,!1)};return F.useEffect(()=>{if(t._state.action=!1,Ge(r,t._names)&&t._subjects.state.next({...t._formState}),b.current&&(!$e(t._options.mode).isOnSubmit||t._formState.isSubmitted))if(t._options.resolver)t._executeSchema([r]).then(m=>{const V=d(m.errors,r),x=d(t._formState.errors,r);(x?!V&&x.type||V&&(x.type!==V.type||x.message!==V.message):V&&V.type)&&(V?E(t._formState.errors,r,V):q(t._formState.errors,r),t._subjects.state.next({errors:t._formState.errors}))});else{const m=d(t._fields,r);m&&m._f&&Ye(m,t._formValues,t._options.criteriaMode===Q.all,t._options.shouldUseNativeValidation,!0).then(V=>!$(V)&&t._subjects.state.next({errors:Nt(t._formState.errors,V,r)}))}t._subjects.values.next({name:r,values:{...t._formValues}}),t._names.focus&&be(t._fields,m=>!!m&&m.startsWith(t._names.focus||"")),t._names.focus="",t._updateValid(),b.current=!1},[o,r,t]),F.useEffect(()=>(!d(t._formValues,r)&&t._updateFieldArray(r),()=>{(t._options.shouldUnregister||i)&&t.unregister(r)}),[r,t,n,i]),{swap:F.useCallback(B,[p,r,t]),move:F.useCallback(A,[p,r,t]),prepend:F.useCallback(N,[p,r,t]),append:F.useCallback(U,[p,r,t]),remove:F.useCallback(Y,[p,r,t]),insert:F.useCallback(X,[p,r,t]),update:F.useCallback(I,[p,r,t]),replace:F.useCallback(z,[p,r,t]),fields:F.useMemo(()=>o.map((m,V)=>({...m,[n]:f.current[V]||ie()})),[o,n])}}function Pe(){let e=[];return{get observers(){return e},next:n=>{for(const i of e)i.next&&i.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(i=>i!==n)}}),unsubscribe:()=>{e=[]}}}var Se=e=>P(e)||!xt(e);function oe(e,s){if(Se(e)||Se(s))return e===s;if(fe(e)&&fe(s))return e.getTime()===s.getTime();const t=Object.keys(e),r=Object.keys(s);if(t.length!==r.length)return!1;for(const n of t){const i=e[n];if(!r.includes(n))return!1;if(n!=="ref"){const o=s[n];if(fe(i)&&fe(o)||M(i)&&M(o)||Array.isArray(i)&&Array.isArray(o)?!oe(i,o):i!==o)return!1}}return!0}var qt=e=>e.type==="select-multiple",gr=e=>Ke(e)||ve(e),je=e=>Fe(e)&&e.isConnected,Ut=e=>{for(const s in e)if(ue(e[s]))return!0;return!1};function ke(e,s={}){const t=Array.isArray(e);if(M(e)||t)for(const r in e)Array.isArray(e[r])||M(e[r])&&!Ut(e[r])?(s[r]=Array.isArray(e[r])?[]:{},ke(e[r],s[r])):P(e[r])||(s[r]=!0);return s}function Bt(e,s,t){const r=Array.isArray(e);if(M(e)||r)for(const n in e)Array.isArray(e[n])||M(e[n])&&!Ut(e[n])?w(s)||Se(t[n])?t[n]=Array.isArray(e[n])?ke(e[n],[]):{...ke(e[n])}:Bt(e[n],P(s)?{}:s[n],t[n]):t[n]=!oe(e[n],s[n]);return t}var He=(e,s)=>Bt(e,s,ke(s)),It=(e,{valueAsNumber:s,valueAsDate:t,setValueAs:r})=>w(e)?e:s?e===""?NaN:e&&+e:t&&se(e)?new Date(e):r?r(e):e;function We(e){const s=e.ref;if(!(e.refs?e.refs.every(t=>t.disabled):s.disabled))return ze(s)?s.files:Ke(s)?Mt(e.refs).value:qt(s)?[...s.selectedOptions].map(({value:t})=>t):ve(s)?Tt(e.refs).value:It(w(s.value)?e.ref.value:s.value,e)}var pr=(e,s,t,r)=>{const n={};for(const i of e){const o=d(s,i);o&&E(n,i,o._f)}return{criteriaMode:t,names:[...e],fields:n,shouldUseNativeValidation:r}},he=e=>w(e)?e:xe(e)?e.source:M(e)?xe(e.value)?e.value.source:e.value:e,_r=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function pt(e,s,t){const r=d(e,t);if(r||Qe(t))return{error:r,name:t};const n=t.split(".");for(;n.length;){const i=n.join("."),o=d(s,i),g=d(e,i);if(o&&!Array.isArray(o)&&t!==i)return{name:t};if(g&&g.type)return{name:i,error:g};n.pop()}return{name:t}}var hr=(e,s,t,r,n)=>n.isOnAll?!1:!t&&n.isOnTouch?!(s||e):(t?r.isOnBlur:n.isOnBlur)?!e:(t?r.isOnChange:n.isOnChange)?e:!0,vr=(e,s)=>!me(d(e,s)).length&&q(e,s);const Vr={mode:Q.onSubmit,reValidateMode:Q.onChange,shouldFocusError:!0};function Ar(e={},s){let t={...Vr,...e},r={submitCount:0,isDirty:!1,isLoading:ue(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},n={},i=M(t.defaultValues)||M(t.values)?j(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:j(i),g={action:!1,mount:!1,watch:!1},f={mount:new Set,unMount:new Set,array:new Set,watch:new Set},v,D=0;const b={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},p={values:Pe(),array:Pe(),state:Pe()},U=e.resetOptions&&e.resetOptions.keepDirtyValues,N=$e(t.mode),Y=$e(t.reValidateMode),X=t.criteriaMode===Q.all,B=a=>u=>{clearTimeout(D),D=setTimeout(a,u)},A=async a=>{if(b.isValid||a){const u=t.resolver?$((await L()).errors):await ae(n,!0);u!==r.isValid&&p.state.next({isValid:u})}},I=a=>b.isValidating&&p.state.next({isValidating:a}),z=(a,u=[],l,_,y=!0,c=!0)=>{if(_&&l){if(g.action=!0,c&&Array.isArray(d(n,a))){const h=l(d(n,a),_.argA,_.argB);y&&E(n,a,h)}if(c&&Array.isArray(d(r.errors,a))){const h=l(d(r.errors,a),_.argA,_.argB);y&&E(r.errors,a,h),vr(r.errors,a)}if(b.touchedFields&&c&&Array.isArray(d(r.touchedFields,a))){const h=l(d(r.touchedFields,a),_.argA,_.argB);y&&E(r.touchedFields,a,h)}b.dirtyFields&&(r.dirtyFields=He(i,o)),p.state.next({name:a,isDirty:S(a,u),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else E(o,a,u)},m=(a,u)=>{E(r.errors,a,u),p.state.next({errors:r.errors})},V=(a,u,l,_)=>{const y=d(n,a);if(y){const c=d(o,a,w(l)?d(i,a):l);w(c)||_&&_.defaultChecked||u?E(o,a,u?c:We(y._f)):J(a,c),g.mount&&A()}},x=(a,u,l,_,y)=>{let c=!1,h=!1;const C={name:a};if(!l||_){b.isDirty&&(h=r.isDirty,r.isDirty=C.isDirty=S(),c=h!==C.isDirty);const R=oe(d(i,a),u);h=d(r.dirtyFields,a),R?q(r.dirtyFields,a):E(r.dirtyFields,a,!0),C.dirtyFields=r.dirtyFields,c=c||b.dirtyFields&&h!==!R}if(l){const R=d(r.touchedFields,a);R||(E(r.touchedFields,a,l),C.touchedFields=r.touchedFields,c=c||b.touchedFields&&R!==l)}return c&&y&&p.state.next(C),c?C:{}},T=(a,u,l,_)=>{const y=d(r.errors,a),c=b.isValid&&ye(u)&&r.isValid!==u;if(e.delayError&&l?(v=B(()=>m(a,l)),v(e.delayError)):(clearTimeout(D),v=null,l?E(r.errors,a,l):q(r.errors,a)),(l?!oe(y,l):y)||!$(_)||c){const h={..._,...c&&ye(u)?{isValid:u}:{},errors:r.errors,name:a};r={...r,...h},p.state.next(h)}I(!1)},L=async a=>t.resolver(o,t.context,pr(a||f.mount,n,t.criteriaMode,t.shouldUseNativeValidation)),ee=async a=>{const{errors:u}=await L();if(a)for(const l of a){const _=d(u,l);_?E(r.errors,l,_):q(r.errors,l)}else r.errors=u;return u},ae=async(a,u,l={valid:!0})=>{for(const _ in a){const y=a[_];if(y){const{_f:c,...h}=y;if(c){const C=f.array.has(c.name),R=await Ye(y,o,X,t.shouldUseNativeValidation&&!u,C);if(R[c.name]&&(l.valid=!1,u))break;!u&&(d(R,c.name)?C?Nt(r.errors,R,c.name):E(r.errors,c.name,R[c.name]):q(r.errors,c.name))}h&&await ae(h,u,l)}}return l.valid},k=()=>{for(const a of f.unMount){const u=d(n,a);u&&(u._f.refs?u._f.refs.every(l=>!je(l)):!je(u._f.ref))&&Ee(a)}f.unMount=new Set},S=(a,u)=>(a&&u&&E(o,a,u),!oe(tt(),i)),O=(a,u,l)=>Ot(a,f,{...g.mount?o:w(u)?i:se(a)?{[a]:u}:u},l,u),H=a=>me(d(g.mount?o:i,a,e.shouldUnregister?d(i,a,[]):[])),J=(a,u,l={})=>{const _=d(n,a);let y=u;if(_){const c=_._f;c&&(!c.disabled&&E(o,a,It(u,c)),y=Fe(c.ref)&&P(u)?"":u,qt(c.ref)?[...c.ref.options].forEach(h=>h.selected=y.includes(h.value)):c.refs?ve(c.ref)?c.refs.length>1?c.refs.forEach(h=>(!h.defaultChecked||!h.disabled)&&(h.checked=Array.isArray(y)?!!y.find(C=>C===h.value):y===h.value)):c.refs[0]&&(c.refs[0].checked=!!y):c.refs.forEach(h=>h.checked=h.value===y):ze(c.ref)?c.ref.value="":(c.ref.value=y,c.ref.type||p.values.next({name:a,values:{...o}})))}(l.shouldDirty||l.shouldTouch)&&x(a,y,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&pe(a)},te=(a,u,l)=>{for(const _ in u){const y=u[_],c=`${a}.${_}`,h=d(n,c);(f.array.has(a)||!Se(y)||h&&!h._f)&&!fe(y)?te(c,y,l):J(c,y,l)}},le=(a,u,l={})=>{const _=d(n,a),y=f.array.has(a),c=j(u);E(o,a,c),y?(p.array.next({name:a,values:{...o}}),(b.isDirty||b.dirtyFields)&&l.shouldDirty&&p.state.next({name:a,dirtyFields:He(i,o),isDirty:S(a,c)})):_&&!_._f&&!P(c)?te(a,c,l):J(a,c,l),Ge(a,f)&&p.state.next({...r}),p.values.next({name:a,values:{...o}}),!g.mount&&s()},ge=async a=>{const u=a.target;let l=u.name,_=!0;const y=d(n,l),c=()=>u.type?We(y._f):St(a);if(y){let h,C;const R=c(),ce=a.type===Ae.BLUR||a.type===Ae.FOCUS_OUT,Wt=!_r(y._f)&&!t.resolver&&!d(r.errors,l)&&!y._f.deps||hr(ce,d(r.touchedFields,l),r.isSubmitted,Y,N),Ce=Ge(l,f,ce);E(o,l,R),ce?(y._f.onBlur&&y._f.onBlur(a),v&&v(0)):y._f.onChange&&y._f.onChange(a);const Oe=x(l,R,ce,!1),$t=!$(Oe)||Ce;if(!ce&&p.values.next({name:l,type:a.type,values:{...o}}),Wt)return b.isValid&&A(),$t&&p.state.next({name:l,...Ce?{}:Oe});if(!ce&&Ce&&p.state.next({...r}),I(!0),t.resolver){const{errors:lt}=await L([l]),Gt=pt(r.errors,n,l),ot=pt(lt,n,Gt.name||l);h=ot.error,l=ot.name,C=$(lt)}else h=(await Ye(y,o,X,t.shouldUseNativeValidation))[l],_=isNaN(R)||R===d(o,l,R),_&&(h?C=!1:b.isValid&&(C=await ae(n,!0)));_&&(y._f.deps&&pe(y._f.deps),T(l,C,h,Oe))}},pe=async(a,u={})=>{let l,_;const y=G(a);if(I(!0),t.resolver){const c=await ee(w(a)?a:y);l=$(c),_=a?!y.some(h=>d(c,h)):l}else a?(_=(await Promise.all(y.map(async c=>{const h=d(n,c);return await ae(h&&h._f?{[c]:h}:h)}))).every(Boolean),!(!_&&!r.isValid)&&A()):_=l=await ae(n);return p.state.next({...!se(a)||b.isValid&&l!==r.isValid?{}:{name:a},...t.resolver||!a?{isValid:l}:{},errors:r.errors,isValidating:!1}),u.shouldFocus&&!_&&be(n,c=>c&&d(r.errors,c),a?y:f.mount),_},tt=a=>{const u={...i,...g.mount?o:{}};return w(a)?u:se(a)?d(u,a):a.map(l=>d(u,l))},rt=(a,u)=>({invalid:!!d((u||r).errors,a),isDirty:!!d((u||r).dirtyFields,a),isTouched:!!d((u||r).touchedFields,a),error:d((u||r).errors,a)}),Pt=a=>{a&&G(a).forEach(u=>q(r.errors,u)),p.state.next({errors:a?r.errors:{}})},st=(a,u,l)=>{const _=(d(n,a,{_f:{}})._f||{}).ref;E(r.errors,a,{...u,ref:_}),p.state.next({name:a,errors:r.errors,isValid:!1}),l&&l.shouldFocus&&_&&_.focus&&_.focus()},jt=(a,u)=>ue(a)?p.values.subscribe({next:l=>a(O(void 0,u),l)}):O(a,u,!0),Ee=(a,u={})=>{for(const l of a?G(a):f.mount)f.mount.delete(l),f.array.delete(l),u.keepValue||(q(n,l),q(o,l)),!u.keepError&&q(r.errors,l),!u.keepDirty&&q(r.dirtyFields,l),!u.keepTouched&&q(r.touchedFields,l),!t.shouldUnregister&&!u.keepDefaultValue&&q(i,l);p.values.next({values:{...o}}),p.state.next({...r,...u.keepDirty?{isDirty:S()}:{}}),!u.keepIsValid&&A()},we=(a,u={})=>{let l=d(n,a);const _=ye(u.disabled);return E(n,a,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:a}},name:a,mount:!0,...u}}),f.mount.add(a),l?_&&E(o,a,u.disabled?void 0:d(o,a,We(l._f))):V(a,!0,u.value),{..._?{disabled:u.disabled}:{},...t.progressive?{required:!!u.required,min:he(u.min),max:he(u.max),minLength:he(u.minLength),maxLength:he(u.maxLength),pattern:he(u.pattern)}:{},name:a,onChange:ge,onBlur:ge,ref:y=>{if(y){we(a,u),l=d(n,a);const c=w(y.value)&&y.querySelectorAll&&y.querySelectorAll("input,select,textarea")[0]||y,h=gr(c),C=l._f.refs||[];if(h?C.find(R=>R===c):c===l._f.ref)return;E(n,a,{_f:{...l._f,...h?{refs:[...C.filter(je),c,...Array.isArray(d(i,a))?[{}]:[]],ref:{type:c.type,name:a}}:{ref:c}}}),V(a,!1,void 0,c)}else l=d(n,a,{}),l._f&&(l._f.mount=!1),(t.shouldUnregister||u.shouldUnregister)&&!(kt(f.array,a)&&g.action)&&f.unMount.add(a)}}},at=()=>t.shouldFocusError&&be(n,a=>a&&d(r.errors,a),f.mount),nt=(a,u)=>async l=>{l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let _=j(o);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:y,values:c}=await L();r.errors=y,_=c}else await ae(n);q(r.errors,"root"),$(r.errors)?(p.state.next({errors:{}}),await a(_,l)):(u&&await u({...r.errors},l),at(),setTimeout(at)),p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:$(r.errors),submitCount:r.submitCount+1,errors:r.errors})},Ht=(a,u={})=>{d(n,a)&&(w(u.defaultValue)?le(a,d(i,a)):(le(a,u.defaultValue),E(i,a,u.defaultValue)),u.keepTouched||q(r.touchedFields,a),u.keepDirty||(q(r.dirtyFields,a),r.isDirty=u.defaultValue?S(a,d(i,a)):S()),u.keepError||(q(r.errors,a),b.isValid&&A()),p.state.next({...r}))},it=(a,u={})=>{const l=a||i,_=j(l),y=a&&!$(a)?_:i;if(u.keepDefaultValues||(i=l),!u.keepValues){if(u.keepDirtyValues||U)for(const c of f.mount)d(r.dirtyFields,c)?E(y,c,d(o,c)):le(c,d(y,c));else{if(Je&&w(a))for(const c of f.mount){const h=d(n,c);if(h&&h._f){const C=Array.isArray(h._f.refs)?h._f.refs[0]:h._f.ref;if(Fe(C)){const R=C.closest("form");if(R){R.reset();break}}}}n={}}o=e.shouldUnregister?u.keepDefaultValues?j(i):{}:j(y),p.array.next({values:{...y}}),p.values.next({values:{...y}})}f={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!g.mount&&s(),g.mount=!b.isValid||!!u.keepIsValid,g.watch=!!e.shouldUnregister,p.state.next({submitCount:u.keepSubmitCount?r.submitCount:0,isDirty:u.keepDirty?r.isDirty:!!(u.keepDefaultValues&&!oe(a,i)),isSubmitted:u.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:u.keepDirtyValues?r.dirtyFields:u.keepDefaultValues&&a?He(i,a):{},touchedFields:u.keepTouched?r.touchedFields:{},errors:u.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},ut=(a,u)=>it(ue(a)?a(o):a,u);return{control:{register:we,unregister:Ee,getFieldState:rt,handleSubmit:nt,setError:st,_executeSchema:L,_getWatch:O,_getDirty:S,_updateValid:A,_removeUnmounted:k,_updateFieldArray:z,_getFieldArray:H,_reset:it,_resetDefaultValues:()=>ue(t.defaultValues)&&t.defaultValues().then(a=>{ut(a,t.resetOptions),p.state.next({isLoading:!1})}),_updateFormState:a=>{r={...r,...a}},_subjects:p,_proxyFormState:b,get _fields(){return n},get _formValues(){return o},get _state(){return g},set _state(a){g=a},get _defaultValues(){return i},get _names(){return f},set _names(a){f=a},get _formState(){return r},set _formState(a){r=a},get _options(){return t},set _options(a){t={...t,...a}}},trigger:pe,register:we,handleSubmit:nt,watch:jt,setValue:le,getValues:tt,reset:ut,resetField:Ht,clearErrors:Pt,unregister:Ee,setError:st,setFocus:(a,u={})=>{const l=d(n,a),_=l&&l._f;if(_){const y=_.refs?_.refs[0]:_.ref;y.focus&&(y.focus(),u.shouldSelect&&y.select())}},getFieldState:rt}}function Tr(e={}){const s=F.useRef(),t=F.useRef(),[r,n]=F.useState({isDirty:!1,isValidating:!1,isLoading:ue(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:ue(e.defaultValues)?void 0:e.defaultValues});s.current||(s.current={...Ar(e,()=>n(o=>({...o}))),formState:r});const i=s.current.control;return i._options=e,De({subject:i._subjects.state,next:o=>{wt(o,i._proxyFormState,i._updateFormState,!0)&&n({...i._formState})}}),F.useEffect(()=>{e.values&&!oe(e.values,t.current)?(i._reset(e.values,i._options.resetOptions),t.current=e.values):i._resetDefaultValues()},[e.values,i]),F.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),s.current.formState=Et(r,i),s.current}const _t=({formMethods:e,children:s,onSubmit:t,className:r})=>{const{handleSubmit:n}=e;return K.jsx(lr,{...e,children:K.jsx("form",{className:r,onSubmit:t?n(i=>t(i)):void 0,children:s})})};try{_t.displayName="Form",_t.__docgenInfo={description:"",displayName:"Form",props:{formMethods:{defaultValue:null,description:"",name:"formMethods",required:!0,type:{name:"UseFormReturn<FormValues>"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!1,type:{name:"SubmitHandler<FormValues>"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const Ze=e=>e.reduce((s,t,r)=>({...s,[r]:n=>t(n)||!0}),{}),et=(e,s)=>{const t=s.split(".").reduce((r,n)=>r!==void 0?r[n]:r,e);return t==null?void 0:t.message};re.extend(Jt);const br=(e,s)=>{const t=[];return e&&t.push({from:re(Xt).toDate(),to:re(e).subtract(1,"day").toDate()}),s&&t.push({from:re(s).add(1,"day").toDate(),to:re(zt).toDate()}),t},ht=({name:e,label:s,description:t,validate:r=[],onChange:n,minDate:i,maxDate:o,defaultMonth:g})=>{const{formState:{errors:f}}=Z(),{field:v}=Xe({name:e,rules:{validate:W.useMemo(()=>Ze(r),[r])}}),D=v.value?re(v.value,_e,!0).format(Re):"",[b,p]=W.useState(D),{datepickerProps:U,inputProps:N}=Qt({onDateChange:B=>{if(B!==void 0){const A=re(B).format(_e);n&&n(A),v.onChange(A),p(re(A,_e,!0).format(Re))}},defaultSelected:v.value?re(v.value,_e,!0).toDate():void 0,defaultMonth:g}),Y=W.useCallback(B=>{const A=re(B.target.value,Re,!0).format(_e),I=A!=="Invalid Date";p(B.target.value),n&&n(I?A:B.target.value),v.onChange(I?A:B.target.value)},[p,n,v]),X=W.useMemo(()=>i||o?br(i,o):void 0,[i,o]);return K.jsx(ct,{...U,disabled:X,strategy:"fixed",children:K.jsx(ct.Input,{...N,ref:v.ref,onChange:Y,value:b,label:s,description:t,error:et(f,e),placeholder:"dd.mm.åååå"})})};try{ht.displayName="Datepicker",ht.__docgenInfo={description:"",displayName:"Datepicker",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},validate:{defaultValue:{value:"[]"},description:"",name:"validate",required:!1,type:{name:"((value: string) => any)[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: any) => void)"}},minDate:{defaultValue:null,description:"",name:"minDate",required:!1,type:{name:"Date"}},maxDate:{defaultValue:null,description:"",name:"maxDate",required:!1,type:{name:"Date"}},defaultMonth:{defaultValue:null,description:"",name:"defaultMonth",required:!1,type:{name:"Date"}}}}}catch{}const vt=({label:e,description:s,name:t,validate:r=[],onChange:n,children:i})=>{const{formState:{errors:o}}=Z(),{field:g}=Xe({name:t,rules:{validate:W.useMemo(()=>Ze(r),[r])}});return K.jsx(Kt,{name:t,value:g.value!==void 0?g.value:null,legend:e,description:s,error:et(o,t),onChange:f=>{n&&n(f),g.onChange(f)},children:i.map((f,v)=>v===0?F.cloneElement(f,{key:f.key,ref:g.ref}):f)})};try{vt.displayName="RadioGroupPanel",vt.__docgenInfo={description:"",displayName:"RadioGroupPanel",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"ReactNode"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},validate:{defaultValue:{value:"[]"},description:"",name:"validate",required:!1,type:{name:"((value: string | number) => any)[]"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((value: string | number | boolean) => void)"}}}}}catch{}const Vt=({name:e,label:s,validate:t=[],description:r,onChange:n,disabled:i,className:o,children:g})=>{const{formState:{errors:f}}=Z(),{field:v}=Xe({name:e,rules:{validate:W.useMemo(()=>Ze(t),[t])}}),D=W.useCallback(b=>{n&&n(b),v.onChange(b)},[v,n]);return K.jsxs(Zt,{ref:v.ref,className:o,error:et(f,e),label:s,description:r,value:v.value,disabled:i,onChange:D,children:[K.jsx("option",{style:{display:"none"}}),",",g]})};try{Vt.displayName="Select",Vt.__docgenInfo={description:"",displayName:"Select",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"ReactNode"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((event: any) => void)"}},validate:{defaultValue:{value:"[]"},description:"",name:"validate",required:!1,type:{name:"((value: string) => any)[]"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"ReactNode"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const At=({goToPreviousStep:e,saveDataOnPreviousClick:s,nextButtonText:t,nextButtonOnClick:r})=>{const{getValues:n,formState:{dirtyFields:i}}=Z(),o=W.useCallback(()=>{s&&Object.keys(i).length>0&&s(n()),e()},[i]);return K.jsx(sr,{goToPreviousStep:o,nextButtonText:t,nextButtonOnClick:r})};try{At.displayName="StepButtonsHookForm",At.__docgenInfo={description:"",displayName:"StepButtonsHookForm",props:{goToPreviousStep:{defaultValue:null,description:"",name:"goToPreviousStep",required:!0,type:{name:"() => void"}},saveDataOnPreviousClick:{defaultValue:null,description:"",name:"saveDataOnPreviousClick",required:!1,type:{name:"((data: DATA_TYPE) => void)"}},nextButtonText:{defaultValue:null,description:"",name:"nextButtonText",required:!1,type:{name:"string"}},nextButtonOnClick:{defaultValue:null,description:"",name:"nextButtonOnClick",required:!1,type:{name:"(() => void)"}}}}}catch{}var Fr=function(e){var s=e.as,t=e.errors,r=e.name,n=e.message,i=e.render,o=function(p,U){if(p==null)return{};var N,Y,X={},B=Object.keys(p);for(Y=0;Y<B.length;Y++)U.indexOf(N=B[Y])>=0||(X[N]=p[N]);return X}(e,["as","errors","name","message","render"]),g=Z(),f=d(t||g.formState.errors,r);if(!f)return null;var v=f.message,D=f.types,b=Object.assign({},o,{children:v||n});return W.isValidElement(s)?W.cloneElement(s,b):i?i({message:v||n,messages:D}):W.createElement(s||W.Fragment,b)};const bt=({name:e})=>{const{formState:{errors:s}}=Z();return K.jsx(Fr,{errors:s,name:e,render:({message:t})=>K.jsx(er,{children:t})})};try{bt.displayName="ErrorMessageHookForm",bt.__docgenInfo={description:"",displayName:"ErrorMessageHookForm",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}}}}}catch{}const Lt=e=>Object.keys(e).reduce((s,t)=>{const r=e[t];if(r!=null&&r.message&&!s[t])return Object.keys(s).some(i=>{var o;return((o=s[i])==null?void 0:o.message)===(r==null?void 0:r.message)})?s:{...s,[t]:e[t]};if(Array.isArray(r)){const n=r.reduce((i,o)=>({...o?Lt(o):{},...i}),{});return{...s,...n}}return s},{}),Ft=()=>{const e=W.useRef(null),{formState:{errors:s}}=Z();W.useEffect(()=>{e!=null&&e.current&&e.current.focus()},[s]);const t=Lt(s),r=Object.values(t).map(n=>{var i,o;return{message:(i=n==null?void 0:n.message)==null?void 0:i.toString(),focus:(o=n==null?void 0:n.ref)==null?void 0:o.focus}});return Object.keys(t).length>0&&K.jsx(ar,{errorRef:e,errors:r})};try{Ft.displayName="ErrorSummaryHookForm",Ft.__docgenInfo={description:"",displayName:"ErrorSummaryHookForm",props:{}}}catch{}export{ht as D,Ft as E,_t as F,vt as R,At as S,Tr as a,Z as b,Vt as c,Nr as d,Rr as u};
//# sourceMappingURL=ErrorSummaryHookForm-c5bb13eb.js.map
