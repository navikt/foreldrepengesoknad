import{f as B,o as ne,g as F,C as te,H as J,j as t,p as $,B as d,F as c,n as T,d as b,S as re}from"./fridagerUtils-j0nuJBgt.js";import{r as i,R as g}from"./index-OjgoNOWw.js";import"./_baseToString-r0zJwuYG.js";import"./_createSet-pyNrvG8u.js";import{e as se,b as Q,c as W}from"./OmBarnet-3NviD4hu.js";import{u as C,V as x,H as f,x as h,J as H,n as v,K as R,L as q,N as ae,a as oe,b as ie,c as j,C as y,S as de}from"./useEsNavigator-XsqJhHTq.js";import{C as le}from"./ConfirmationPanel-RJAVWrHy.js";const ce=()=>{const e=i.useRef(new AbortController);return i.useEffect(()=>()=>{e.current.abort()},[]),e.current.signal};var me=(e=>(e.MANN="M",e.KVINNE="K",e))(me||{});const V=i.createContext({headingSize:"small",size:"medium",openItems:[],mounted:!1});var pe=function(e,a){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)a.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const U=i.createContext(null),ue=i.forwardRef((e,a)=>{var{children:r,className:n,open:s,defaultOpen:o=!1}=e,l=pe(e,["children","className","open","defaultOpen"]);const[m,p]=i.useState(o),u=i.useContext(V),[A,P]=i.useState(o),O=i.useRef(!(s||o)),I=()=>{if(s===void 0){const S=!A;P(S),p(S)}else p(!s);O.current=!0};return u!=null&&u.mounted||console.error("<Accordion.Item> has to be used within an <Accordion>"),g.createElement("div",Object.assign({className:B("navds-accordion__item",n,{"navds-accordion__item--open":s??m,"navds-accordion__item--neutral":(u==null?void 0:u.variant)==="neutral","navds-accordion__item--no-animation":!O.current}),ref:a},ne(l,["onClick"])),g.createElement(U.Provider,{value:{open:s??m,toggleOpen:I}},r))}),ge=ue;var fe=function(e,a){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)a.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Oe=i.forwardRef((e,a)=>{var{children:r,className:n}=e,s=fe(e,["children","className"]);const o=i.useContext(U);return o===null?(console.error("<Accordion.Content> has to be used within an <Accordion.Item>"),null):g.createElement(F,Object.assign({},s,{as:"div",ref:a,className:B("navds-accordion__content",{"navds-accordion__content--closed":!o.open},n),"aria-hidden":!o.open||void 0}),r)}),he=Oe;var xe=function(e,a){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)a.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const je=i.forwardRef((e,a)=>{var r,{children:n,className:s,onClick:o}=e,l=xe(e,["children","className","onClick"]);const m=i.useContext(U),p=i.useContext(V);return m===null?(console.error("<Accordion.Header> has to be used within an <Accordion.Item>, which in turn must be within an <Accordion>"),null):g.createElement("button",Object.assign({ref:a},l,{className:B("navds-accordion__header",s),onClick:u=>{m.toggleOpen(),o&&o(u)},"aria-expanded":m.open,type:"button"}),g.createElement("span",{className:"navds-accordion__icon-wrapper"},g.createElement(te,{className:"navds-accordion__header-chevron",title:"Vis mer","aria-hidden":!0})),g.createElement(J,{size:(r=p==null?void 0:p.headingSize)!==null&&r!==void 0?r:"small",as:"span",className:"navds-accordion__header-content"},n))}),ye=je;var _e=function(e,a){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)a.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const E=i.forwardRef((e,a)=>{var{className:r,variant:n="default",headingSize:s="small",size:o="medium",indent:l=!0}=e,m=_e(e,["className","variant","headingSize","size","indent"]);return g.createElement(V.Provider,{value:{variant:n,headingSize:s,size:o,mounted:!0}},g.createElement("div",Object.assign({},m,{className:B("navds-accordion",r,`navds-accordion--${o}`,{"navds-accordion--indent":l}),ref:a})))});E.Header=ye;E.Content=he;E.Item=ge;const N=E,_=({tittel:e,children:a})=>{const[r,n]=i.useState(!1);return t.jsxs(N.Item,{children:[t.jsx(N.Header,{className:r?$("accordian_header").block:void 0,onClick:()=>n(s=>!s),children:t.jsx(J,{level:"2",size:"small",children:e})}),t.jsx(N.Content,{children:t.jsx("div",{className:$("content_margin").block,children:a})})]})};try{_.displayName="Oppsummeringspunkt",_.__docgenInfo={description:"",displayName:"Oppsummeringspunkt",props:{tittel:{defaultValue:null,description:"",name:"tittel",required:!0,type:{name:"string"}}}}}catch{}const ve=e=>!!e.terminbekreftelsedato,L=({omBarnet:e,dokumentasjon:a})=>{const{i18n:r}=C(),n=se(e),s=Q(e),o=W(e);let l;return e.antallBarn===1?l=r("OmBarnetOppsummering.EttBarn"):e.antallBarn===2&&!n?l=r("OmBarnetOppsummering.Tvillinger"):e.antallBarn===2&&n?l=r("OmBarnetOppsummering.ToBarn"):l=r("OmBarnetOppsummering.FlereBarn",{antall:e.antallBarn}),t.jsxs(x,{gap:"4",children:[t.jsxs(f,{gap:"2",children:[t.jsx(d,{children:t.jsx(c,{id:"OmBarnetOppsummering.SoknadenGjelder"})}),t.jsx(d,{children:l})]}),n&&t.jsxs(t.Fragment,{children:[t.jsxs(f,{gap:"2",children:[t.jsx(d,{children:t.jsx(c,{id:"OmBarnetOppsummering.MedAdopsjonsdato"})}),t.jsx(d,{children:h(e.adopsjonsdato)})]}),t.jsxs(f,{gap:"2",children:[t.jsx(d,{children:e.fødselsdatoer.length>1?r("OmBarnetOppsummering.MedFødselsdatoer"):r("OmBarnetOppsummering.MedFødselsdato")}),t.jsx(F,{children:e.fødselsdatoer.map((m,p)=>h(e.fødselsdatoer[p].dato)).join(", ")})]}),t.jsx(T,{children:t.jsx(c,{id:"OmBarnetOppsummering.VedlagtOmsorgsovertakelseBekreftelse"})}),t.jsx(H,{attachments:v(a).vedlegg})]}),o&&t.jsxs(f,{gap:"2",children:[t.jsx(d,{children:t.jsx(c,{id:"OmBarnetOppsummering.MedFødselsdato"})}),t.jsx(d,{children:h(e.fødselsdato)})]}),s&&a&&ve(a)&&t.jsxs(t.Fragment,{children:[t.jsxs(f,{gap:"2",children:[t.jsx(d,{children:t.jsx(c,{id:"OmBarnetOppsummering.MedTermindato"})}),t.jsx(d,{children:h(e.termindato)})]}),t.jsxs(f,{gap:"2",children:[t.jsx(d,{children:t.jsx(c,{id:"OmBarnetOppsummering.SomErDatert"})}),t.jsx(d,{children:h(a.terminbekreftelsedato)})]}),t.jsx(T,{children:t.jsx(c,{id:"OmBarnetOppsummering.VedlagtTerminbekreftelse"})}),t.jsx(H,{attachments:a.vedlegg})]})]})};try{L.displayName="OmBarnetOppsummering",L.__docgenInfo={description:"",displayName:"OmBarnetOppsummering",props:{omBarnet:{defaultValue:null,description:"",name:"omBarnet",required:!0,type:{name:"OmBarnet"}},dokumentasjon:{defaultValue:null,description:"",name:"dokumentasjon",required:!1,type:{name:"Dokumentasjon"}}}}}catch{}const z=(e,a)=>ae(e)?a("LandOppsummering.IDag"):h(e),Se=(e,a)=>b(e.fom).isAfter(a.fom,"day")?1:0,k=({utenlandsoppholdListe:e})=>{const{i18n:a}=C();return t.jsx(t.Fragment,{children:e.sort(Se).map(r=>t.jsx("div",{style:{backgroundColor:"var(--a-blue-100)",padding:"16px",borderRadius:"2px"},children:t.jsxs(x,{gap:"1",children:[t.jsxs(T,{children:[R(r.fom)&&t.jsx(c,{id:"LandOppsummering.HarBodd",values:{country:q.getName(r.landkode,"nb")}}),!R(r.fom)&&t.jsx(c,{id:"LandOppsummering.SkalBo",values:{country:q.getName(r.landkode,"nb")}})]}),t.jsxs(F,{children:[z(r.fom,a)," - ",z(r.tom,a)]})]})},`${r.landkode}${r.fom}`))})};try{k.displayName="LandOppsummering",k.__docgenInfo={description:"",displayName:"LandOppsummering",props:{utenlandsoppholdListe:{defaultValue:null,description:"",name:"utenlandsoppholdListe",required:!0,type:{name:"UtenlandsoppholdPeriode[]"}}}}}catch{}const K=(e,a,r)=>b(e).isBetween(b(a),b(r),"day","[]"),G=(e,a=[],r=[])=>a.some(n=>K(e,n.fom,n.tom))||r.some(n=>K(e,n.fom,n.tom)),D=({omBarnet:e,utenlandsopphold:a,tidligereUtenlandsopphold:r,senereUtenlandsopphold:n})=>{const{i18n:s}=C(),o=Q(e),l=W(e);return t.jsxs(x,{gap:"5",children:[t.jsxs(x,{gap:"2",children:[a.harBoddUtenforNorgeSiste12Mnd&&t.jsx(k,{utenlandsoppholdListe:v(r).utenlandsoppholdSiste12Mnd}),a.skalBoUtenforNorgeNeste12Mnd&&t.jsx(k,{utenlandsoppholdListe:v(n).utenlandsoppholdNeste12Mnd})]}),a.harBoddUtenforNorgeSiste12Mnd===!1&&t.jsx(d,{children:t.jsx(c,{id:"UtenlandsoppholdOppsummering.BoddSisteTolv",values:{country:s("UtenlandsoppholdOppsummering.Norge")}})}),a.skalBoUtenforNorgeNeste12Mnd===!1&&t.jsx(d,{children:t.jsx(c,{id:"UtenlandsoppholdOppsummering.BoNesteTolv",values:{country:s("UtenlandsoppholdOppsummering.Norge")}})}),o&&t.jsx(f,{gap:"2",children:t.jsx(d,{children:t.jsx(c,{id:"UtenlandsoppholdOppsummering.Text.OgKommerPåFødselstidspunktet",values:{country:G(e.termindato,r==null?void 0:r.utenlandsoppholdSiste12Mnd,n==null?void 0:n.utenlandsoppholdNeste12Mnd)?s("UtenlandsoppholdOppsummering.Utlandet"):s("UtenlandsoppholdOppsummering.Norge")}})})}),l&&t.jsx(d,{children:t.jsx(c,{id:"UtenlandsoppholdOppsummering.VarPåFødselstidspunktet",values:{country:G(e.fødselsdato,r==null?void 0:r.utenlandsoppholdSiste12Mnd,n==null?void 0:n.utenlandsoppholdNeste12Mnd)?s("UtenlandsoppholdOppsummering.Utlandet"):s("UtenlandsoppholdOppsummering.Norge")}})})]})};try{D.displayName="UtenlandsoppholdOppsummering",D.__docgenInfo={description:"",displayName:"UtenlandsoppholdOppsummering",props:{omBarnet:{defaultValue:null,description:"",name:"omBarnet",required:!0,type:{name:"OmBarnet"}},utenlandsopphold:{defaultValue:null,description:"",name:"utenlandsopphold",required:!0,type:{name:"Utenlandsopphold"}},tidligereUtenlandsopphold:{defaultValue:null,description:"",name:"tidligereUtenlandsopphold",required:!1,type:{name:"UtenlandsoppholdTidligere"}},senereUtenlandsopphold:{defaultValue:null,description:"",name:"senereUtenlandsopphold",required:!1,type:{name:"UtenlandsoppholdSenere"}}}}}catch{}const be=(e,a,r)=>r?`${e} ${r} ${a}`:`${e} ${a}`,M=({person:e,sendSøknad:a,mellomlagreOgNaviger:r})=>{const{i18n:n}=C(),s=oe(),o=ie(r),l=v(j(y.OM_BARNET)),m=v(j(y.UTENLANDSOPPHOLD)),p=j(y.DOKUMENTASJON),u=j(y.UTENLANDSOPPHOLD_TIDLIGERE),A=j(y.UTENLANDSOPPHOLD_SENERE),P=ce(),[O,I]=i.useState(!1),[S,X]=i.useState(!1),[Y,Z]=i.useState(!1),ee=w=>{X(!0),O?(w(!0),a(P)):Z(!0)};return t.jsx(re,{bannerTitle:n("Søknad.Pageheading"),onCancel:o.avbrytSøknad,onContinueLater:o.fortsettSøknadSenere,steps:s,children:t.jsxs(x,{gap:"10",children:[t.jsxs(N,{indent:!1,children:[t.jsx(_,{tittel:n("OppsummeringSteg.OmDeg"),children:t.jsxs(x,{gap:"4",children:[t.jsx(d,{children:be(e.fornavn,e.etternavn,e.mellomnavn)}),t.jsx(d,{children:e.fnr})]})}),t.jsx(_,{tittel:n("OppsummeringSteg.OmBarnet"),children:t.jsx(L,{omBarnet:l,dokumentasjon:p})}),t.jsx(_,{tittel:n("OppsummeringSteg.Utenlandsopphold"),children:t.jsx(D,{omBarnet:l,utenlandsopphold:m,tidligereUtenlandsopphold:u,senereUtenlandsopphold:A})})]}),t.jsx(le,{label:n("OppsummeringSteg.Samtykke"),onChange:()=>I(w=>!w),checked:O,error:Y&&!O&&n("OppsummeringSteg.Validering.BekrefteOpplysninger")}),t.jsx(de,{goToPreviousStep:o.goToPreviousDefaultStep,nextButtonText:n("OppsummeringSteg.Button.SendSøknad"),nextButtonOnClick:ee,isSubmitting:S})]})})},Ie=M;try{M.displayName="OppsummeringSteg",M.__docgenInfo={description:"",displayName:"OppsummeringSteg",props:{person:{defaultValue:null,description:"",name:"person",required:!0,type:{name:"Person"}},sendSøknad:{defaultValue:null,description:"",name:"sendSøknad",required:!0,type:{name:"(abortSignal: AbortSignal) => Promise<void>"}},mellomlagreOgNaviger:{defaultValue:null,description:"",name:"mellomlagreOgNaviger",required:!0,type:{name:"() => Promise<void>"}}}}}catch{}export{me as K,Ie as O,ve as e};
