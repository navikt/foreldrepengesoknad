import{j as e,A as j,f as L,H as Q,V as c,b as p,B as a,g as P,h as B,i as M,d as f,S as W,C as X}from"./fridagerUtils-f3aec6f3.js";import{r as u}from"./_baseToString-53b0dbb2.js";import"./_createSet-a1fd5098.js";import{e as Y,b as I,c as U}from"./OmBarnet-0cd42a30.js";import{u as y,F as d,p as m,A as D,n as h,q as F,r as Z,c as ee,a as ne,d as g,b as O,S as se}from"./useEsNavigator-2b82a4d5.js";const te=()=>{const n=u.useRef(new AbortController);return u.useEffect(()=>()=>{n.current.abort()},[]),n.current.signal};var re=(n=>(n.MANN="M",n.KVINNE="K",n))(re||{});const x=({tittel:n,children:t})=>{const[s,r]=u.useState(!1);return e.jsxs(j.Item,{children:[e.jsx(j.Header,{className:s?L("accordian_header").block:void 0,onClick:()=>r(i=>!i),children:e.jsx(Q,{level:"2",size:"small",children:n})}),e.jsx(j.Content,{children:e.jsx("div",{className:L("content_margin").block,children:t})})]})};try{x.displayName="Oppsummeringspunkt",x.__docgenInfo={description:"",displayName:"Oppsummeringspunkt",props:{tittel:{defaultValue:null,description:"",name:"tittel",required:!0,type:{name:"string"}}}}}catch{}const ae=n=>!!n.terminbekreftelsedato,v=({omBarnet:n,dokumentasjon:t})=>{const{i18n:s}=y(),r=Y(n),i=I(n),l=U(n);let o;return n.antallBarn===1?o=s("OmBarnetOppsummering.EttBarn"):n.antallBarn===2&&!r?o=s("OmBarnetOppsummering.Tvillinger"):n.antallBarn===2&&r?o=s("OmBarnetOppsummering.ToBarn"):o=s("OmBarnetOppsummering.FlereBarn",{antall:n.antallBarn}),e.jsxs(c,{gap:"4",children:[e.jsxs(p,{gap:"2",children:[e.jsx(a,{children:e.jsx(d,{id:"OmBarnetOppsummering.SoknadenGjelder"})}),e.jsx(a,{children:o})]}),r&&e.jsxs(e.Fragment,{children:[e.jsxs(p,{gap:"2",children:[e.jsx(a,{children:e.jsx(d,{id:"OmBarnetOppsummering.MedAdopsjonsdato"})}),e.jsx(a,{children:m(n.adopsjonsdato)})]}),e.jsxs(p,{gap:"2",children:[e.jsx(a,{children:n.fødselsdatoer.length>1?s("OmBarnetOppsummering.MedFødselsdatoer"):s("OmBarnetOppsummering.MedFødselsdato")}),e.jsx(P,{children:n.fødselsdatoer.map((E,N)=>m(n.fødselsdatoer[N].dato)).join(", ")})]}),e.jsx(B,{children:e.jsx(d,{id:"OmBarnetOppsummering.VedlagtOmsorgsovertakelseBekreftelse"})}),e.jsx(D,{attachments:h(t).vedlegg})]}),l&&e.jsxs(p,{gap:"2",children:[e.jsx(a,{children:e.jsx(d,{id:"OmBarnetOppsummering.MedFødselsdato"})}),e.jsx(a,{children:m(n.fødselsdato)})]}),i&&t&&ae(t)&&e.jsxs(e.Fragment,{children:[e.jsxs(p,{gap:"2",children:[e.jsx(a,{children:e.jsx(d,{id:"OmBarnetOppsummering.MedTermindato"})}),e.jsx(a,{children:m(n.termindato)})]}),e.jsxs(p,{gap:"2",children:[e.jsx(a,{children:e.jsx(d,{id:"OmBarnetOppsummering.SomErDatert"})}),e.jsx(a,{children:m(t.terminbekreftelsedato)})]}),e.jsx(B,{children:e.jsx(d,{id:"OmBarnetOppsummering.VedlagtTerminbekreftelse"})}),e.jsx(D,{attachments:t.vedlegg})]})]})};try{v.displayName="OmBarnetOppsummering",v.__docgenInfo={description:"",displayName:"OmBarnetOppsummering",props:{omBarnet:{defaultValue:null,description:"",name:"omBarnet",required:!0,type:{name:"OmBarnet"}},dokumentasjon:{defaultValue:null,description:"",name:"dokumentasjon",required:!1,type:{name:"Dokumentasjon"}}}}}catch{}const C=(n,t)=>Z(n)?t("LandOppsummering.IDag"):m(n),de=(n,t)=>f(n.fom).isAfter(t.fom,"day")?1:0,S=({utenlandsoppholdListe:n})=>{const{i18n:t}=y();return e.jsx(e.Fragment,{children:n.sort(de).map(s=>e.jsx("div",{style:{backgroundColor:"var(--a-blue-100)",padding:"16px",borderRadius:"2px"},children:e.jsxs(c,{gap:"1",children:[e.jsxs(B,{children:[F(s.fom)&&e.jsx(d,{id:"LandOppsummering.HarBodd",values:{country:M.getName(s.landkode,"nb")}}),!F(s.fom)&&e.jsx(d,{id:"LandOppsummering.SkalBo",values:{country:M.getName(s.landkode,"nb")}})]}),e.jsxs(P,{children:[C(s.fom,t)," - ",C(s.tom,t)]})]})},`${s.landkode}${s.fom}`))})};try{S.displayName="LandOppsummering",S.__docgenInfo={description:"",displayName:"LandOppsummering",props:{utenlandsoppholdListe:{defaultValue:null,description:"",name:"utenlandsoppholdListe",required:!0,type:{name:"UtenlandsoppholdPeriode[]"}}}}}catch{}const V=(n,t,s)=>f(n).isBetween(f(t),f(s),"day","[]"),A=(n,t=[],s=[])=>t.some(r=>V(n,r.fom,r.tom))||s.some(r=>V(n,r.fom,r.tom)),b=({omBarnet:n,utenlandsopphold:t,tidligereUtenlandsopphold:s,senereUtenlandsopphold:r})=>{const{i18n:i}=y(),l=I(n),o=U(n);return e.jsxs(c,{gap:"5",children:[e.jsxs(c,{gap:"2",children:[t.harBoddUtenforNorgeSiste12Mnd&&e.jsx(S,{utenlandsoppholdListe:h(s).utenlandsoppholdSiste12Mnd}),t.skalBoUtenforNorgeNeste12Mnd&&e.jsx(S,{utenlandsoppholdListe:h(r).utenlandsoppholdNeste12Mnd})]}),t.harBoddUtenforNorgeSiste12Mnd===!1&&e.jsx(a,{children:e.jsx(d,{id:"UtenlandsoppholdOppsummering.BoddSisteTolv",values:{country:i("UtenlandsoppholdOppsummering.Norge")}})}),t.skalBoUtenforNorgeNeste12Mnd===!1&&e.jsx(a,{children:e.jsx(d,{id:"UtenlandsoppholdOppsummering.BoNesteTolv",values:{country:i("UtenlandsoppholdOppsummering.Norge")}})}),l&&e.jsx(p,{gap:"2",children:e.jsx(a,{children:e.jsx(d,{id:"UtenlandsoppholdOppsummering.Text.OgKommerPåFødselstidspunktet",values:{country:A(n.termindato,s==null?void 0:s.utenlandsoppholdSiste12Mnd,r==null?void 0:r.utenlandsoppholdNeste12Mnd)?i("UtenlandsoppholdOppsummering.Utlandet"):i("UtenlandsoppholdOppsummering.Norge")}})})}),o&&e.jsx(a,{children:e.jsx(d,{id:"UtenlandsoppholdOppsummering.VarPåFødselstidspunktet",values:{country:A(n.fødselsdato,s==null?void 0:s.utenlandsoppholdSiste12Mnd,r==null?void 0:r.utenlandsoppholdNeste12Mnd)?i("UtenlandsoppholdOppsummering.Utlandet"):i("UtenlandsoppholdOppsummering.Norge")}})})]})};try{b.displayName="UtenlandsoppholdOppsummering",b.__docgenInfo={description:"",displayName:"UtenlandsoppholdOppsummering",props:{omBarnet:{defaultValue:null,description:"",name:"omBarnet",required:!0,type:{name:"OmBarnet"}},utenlandsopphold:{defaultValue:null,description:"",name:"utenlandsopphold",required:!0,type:{name:"Utenlandsopphold"}},tidligereUtenlandsopphold:{defaultValue:null,description:"",name:"tidligereUtenlandsopphold",required:!1,type:{name:"UtenlandsoppholdTidligere"}},senereUtenlandsopphold:{defaultValue:null,description:"",name:"senereUtenlandsopphold",required:!1,type:{name:"UtenlandsoppholdSenere"}}}}}catch{}const ie=(n,t,s)=>s?`${n} ${s} ${t}`:`${n} ${t}`,T=({person:n,sendSøknad:t,mellomlagreOgNaviger:s})=>{const{i18n:r}=y(),i=ee(),l=ne(s),o=h(g(O.OM_BARNET)),E=h(g(O.UTENLANDSOPPHOLD)),N=g(O.DOKUMENTASJON),q=g(O.UTENLANDSOPPHOLD_TIDLIGERE),H=g(O.UTENLANDSOPPHOLD_SENERE),$=te(),[_,R]=u.useState(!1),[K,G]=u.useState(!1),[w,z]=u.useState(!1),J=k=>{G(!0),_?(k(!0),t($)):z(!0)};return e.jsx(W,{bannerTitle:r("Søknad.Pageheading"),onCancel:l.avbrytSøknad,onContinueLater:l.fortsettSøknadSenere,steps:i,children:e.jsxs(c,{gap:"10",children:[e.jsxs(j,{indent:!1,children:[e.jsx(x,{tittel:r("OppsummeringSteg.OmDeg"),children:e.jsxs(c,{gap:"4",children:[e.jsx(a,{children:ie(n.fornavn,n.etternavn,n.mellomnavn)}),e.jsx(a,{children:n.fnr})]})}),e.jsx(x,{tittel:r("OppsummeringSteg.OmBarnet"),children:e.jsx(v,{omBarnet:o,dokumentasjon:N})}),e.jsx(x,{tittel:r("OppsummeringSteg.Utenlandsopphold"),children:e.jsx(b,{omBarnet:o,utenlandsopphold:E,tidligereUtenlandsopphold:q,senereUtenlandsopphold:H})})]}),e.jsx(X,{label:r("OppsummeringSteg.Samtykke"),onChange:()=>R(k=>!k),checked:_,error:w&&!_&&r("OppsummeringSteg.Validering.BekrefteOpplysninger")}),e.jsx(se,{goToPreviousStep:l.goToPreviousDefaultStep,nextButtonText:r("OppsummeringSteg.Button.SendSøknad"),nextButtonOnClick:J,isSubmitting:K})]})})},ce=T;try{T.displayName="OppsummeringSteg",T.__docgenInfo={description:"",displayName:"OppsummeringSteg",props:{person:{defaultValue:null,description:"",name:"person",required:!0,type:{name:"Person"}},sendSøknad:{defaultValue:null,description:"",name:"sendSøknad",required:!0,type:{name:"(abortSignal: AbortSignal) => Promise<void>"}},mellomlagreOgNaviger:{defaultValue:null,description:"",name:"mellomlagreOgNaviger",required:!0,type:{name:"() => Promise<void>"}}}}}catch{}export{re as K,ce as O,ae as e};
//# sourceMappingURL=OppsummeringSteg-7e599651.js.map
