import{j as e}from"./jsx-runtime-69eee039.js";import{r as O}from"./index-7c191284.js";import{a as y,i as m,h as E,j as I,f as q,k as K,l as R,u as w,F as V,E as L,S as J}from"./StepButtonsHookForm-ef5a06d8.js";import{u as h,F as r,R as d,k as c,y as U,z as C,J as H,V as A,K as N,M as T,a as $,g as z}from"./IntlProvider-6f18ce9f.js";import{a as G,u as Q,b as _,E as g,c as k,n as W}from"./useEsNavigator-db836096.js";import{S as F}from"./Søkersituasjon-b1a475fe.js";import{P as D}from"./paths-77448497.js";import{R as x}from"./RadioGroupPanel-1dfd0bb6.js";import{S as P}from"./Select-cd02e5c6.js";import{D as v}from"./Datepicker-50ebcfd3.js";const X=(a,t)=>{const n={...a};return delete n[t],n},Y=()=>{const a=h(),{watch:t}=y(),n=t("erBarnetFødt"),i=t("antallBarn");return e.jsxs(e.Fragment,{children:[e.jsxs(x,{name:"erBarnetFødt",label:e.jsx(r,{id:"omBarnet.spørsmål.erBarnetFødt"}),validate:[m(a.formatMessage({id:"omBarnet.spørsmål.erBarnetFødt.required"}))],children:[e.jsx(d,{value:!0,children:e.jsx(r,{id:"omBarnet.radiobutton.ja"})}),e.jsx(d,{value:!1,children:e.jsx(r,{id:"omBarnet.radiobutton.nei"})})]}),n&&e.jsx(v,{name:"fødselsdatoer.0",label:e.jsx(r,{id:"søknad.fødselsdato"}),minDate:c().subtract(6,"month").toDate(),maxDate:c().toDate(),validate:[m(a.formatMessage({id:"valideringsfeil.omBarnet.terminbekreftelseDato.duMåOppgi"})),E(a.formatMessage({id:"invalidFormatErrorKey.fødselsdato"})),I(a.formatMessage({id:"valideringsfeil.omBarnet.fodselsdato.måVæreIdagEllerTidligere"})),l=>{if(U(l))return a.formatMessage({id:"valideringsfeil.omBarnet.fodselsdato.ikkeMerEnn6MånederTilbake"})}]}),!n&&e.jsx(v,{name:"termindato",label:e.jsx(r,{id:"søknad.termindato"}),minDate:c().subtract(3,"week").toDate(),maxDate:c().add(18,"weeks").add(3,"days").toDate(),validate:[m(a.formatMessage({id:"valideringsfeil.omBarnet.termindato.duMåOppgi"})),E(a.formatMessage({id:"invalidFormatErrorKey.termindato"})),l=>{if(!C(l))return a.formatMessage({id:"valideringsfeil.omBarnet.termindato.termindatoKanIkkeVære3UkerFraIdag"});if(H(l))return a.formatMessage({id:"valideringsfeil.omBarnet.termindato.duMåVæreIUke22"})}]}),e.jsxs(x,{name:"antallBarn",label:e.jsx(r,{id:n?"omBarnet.text.antallBarn.født":"omBarnet.text.antallBarn.termin"}),validate:[m(a.formatMessage({id:n?"omBarnet.text.antallBarn.født.required":"omBarnet.text.antallBarn.venter.required"}))],children:[e.jsx(d,{value:1,children:e.jsx(r,{id:"omBarnet.radiobutton.ettbarn"})}),e.jsx(d,{value:2,children:e.jsx(r,{id:"omBarnet.radiobutton.tvillinger"})}),e.jsx(d,{value:3,children:e.jsx(r,{id:"omBarnet.radiobutton.flere"})})]}),i>=3&&e.jsxs(P,{name:"antallBarnDropDown",label:e.jsx(r,{id:n?"omBarnet.text.antallBarn.født":"omBarnet.text.antallBarn.termin"}),validate:[m(a.formatMessage({id:n?"omBarnet.text.antallBarn.født.required":"omBarnet.text.antallBarn.venter.required"}))],children:[e.jsx("option",{value:"3",children:"3"}),e.jsx("option",{value:"4",children:"4"}),e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"6",children:"6"}),e.jsx("option",{value:"7",children:"7"}),e.jsx("option",{value:"8",children:"8"}),e.jsx("option",{value:"9",children:"9"})]})]})};try{FdselPanel.displayName="FdselPanel",FdselPanel.__docgenInfo={description:"",displayName:"FdselPanel",props:{}}}catch{}const M=({adopsjonsdato:a,antallBarn:t,antallBarnDropDown:n})=>{const i=h(),{control:l}=y(),{fields:o,remove:f,append:s}=q({control:l,name:"fødselsdatoer"});return O.useEffect(()=>{if(!t||t===3&&!n)return;const j=t<3||!n?t:Number.parseInt(n,10),p=o.length-j;p>0&&[...new Array(p)].forEach((u,B)=>{f(o.length-B-1)}),p<0&&[...new Array(j-o.length)].forEach(()=>{s({dato:void 0})})},[t,n]),e.jsx(A,{gap:"10",children:o.map((j,p)=>e.jsx(v,{name:`fødselsdatoer.${p}.dato`,minDate:c().subtract(15,"year").toDate(),maxDate:c().toDate(),label:e.jsx(r,{id:o.length===1?"søknad.fødselsdato":`omBarnet.adopsjon.spørsmål.fødselsdato.${p+1}`}),validate:[u=>K(u,a,i)]},j.id))})};try{M.displayName="AdopsjonFodselFieldArray",M.__docgenInfo={description:"",displayName:"AdopsjonFodselFieldArray",props:{antallBarn:{defaultValue:null,description:"",name:"antallBarn",required:!1,type:{name:"number"}},antallBarnDropDown:{defaultValue:null,description:"",name:"antallBarnDropDown",required:!1,type:{name:"string"}},adopsjonsdato:{defaultValue:null,description:"",name:"adopsjonsdato",required:!1,type:{name:"string"}}}}}catch{}const Z=(a,t)=>{if(!N(a))return t.formatMessage({id:"valideringsfeil.omBarnet.adopsjonDato.ektefellensBarn.duMåOppgi"});if(!R(a))return t.formatMessage({id:"invalidFormatErrorKey.adopsjonsdato"});if(T(a))return t.formatMessage({id:"valideringsfeil.omBarnet.adopsjonDato.forLangtFremITid"})},ee=(a,t)=>{if(!N(a))return t.formatMessage({id:"valideringsfeil.omBarnet.adopsjonDato.overtaOmsorg.duMåOppgi"});if(T(a))return t.formatMessage({id:"valideringsfeil.omBarnet.adopsjonDato.forLangtFremITid"})},S=({kjønn:a})=>{const t=h(),{watch:n}=y(),{adopsjonAvEktefellesBarn:i,adopsjonsdato:l,antallBarn:o,antallBarnDropDown:f}=n();return e.jsxs(e.Fragment,{children:[e.jsxs(x,{name:"adopsjonAvEktefellesBarn",label:e.jsx(r,{id:"omBarnet.adopsjon.spørsmål.stebarnsadopsjon"}),validate:[m(t.formatMessage({id:"omBarnet.adopsjon.spørsmål.required"}))],children:[e.jsx(d,{value:!0,children:e.jsx(r,{id:"omBarnet.adopsjon.text.ja"})}),e.jsx(d,{value:!1,children:e.jsx(r,{id:"omBarnet.adopsjon.text.nei"})})]}),e.jsx(v,{name:"adopsjonsdato",label:e.jsx(r,{id:i?"omBarnet.adopsjon.spørsmål.stebarnsadopsjondato":"omBarnet.adopsjon.spørsmål.overtaomsorgdato"}),minDate:c().subtract(6,"month").toDate(),validate:[i?s=>Z(s,t):s=>ee(s,t)]}),e.jsxs(x,{name:"antallBarn",label:e.jsx(r,{id:"omBarnet.adopsjon.spørsmål.antallBarnAdoptert"}),description:e.jsx(r,{id:"omBarnet.adopsjon.spørsmål.antallBarnAdoptert.beskrivelse"}),validate:[m(t.formatMessage({id:"omBarnet.adopsjon.antallbarn.required"}))],children:[e.jsx(d,{value:1,children:e.jsx(r,{id:"omBarnet.radiobutton.ettbarn"})}),e.jsx(d,{value:2,children:e.jsx(r,{id:"omBarnet.radiobutton.toBarn"})}),e.jsx(d,{value:3,children:e.jsx(r,{id:"omBarnet.radiobutton.flere"})})]}),o&&o>=3&&e.jsxs(P,{name:"antallBarnDropDown",label:e.jsx(r,{id:"omBarnet.text.antallBarn.omsorgsovertakelse"}),validate:[m(t.formatMessage({id:"omBarnet.adopsjon.antallbarndropdown.required"}))],children:[e.jsx("option",{value:"3",children:"3"}),e.jsx("option",{value:"4",children:"4"}),e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"6",children:"6"}),e.jsx("option",{value:"7",children:"7"}),e.jsx("option",{value:"8",children:"8"}),e.jsx("option",{value:"9",children:"9"})]}),e.jsx(M,{adopsjonsdato:l,antallBarn:o,antallBarnDropDown:f}),a==="M"&&i===!1&&e.jsxs(x,{name:"søkerAdopsjonAlene",label:e.jsx(r,{id:"omBarnet.adopsjon.spørsmål.adoptererDuAlene"}),validate:[m(t.formatMessage({id:"omBarnet.adopsjon.adoptererDuAlene.required"}))],children:[e.jsx(d,{value:!0,children:e.jsx(r,{id:"omBarnet.adopsjon.text.ja"})}),e.jsx(d,{value:!1,children:e.jsx(r,{id:"omBarnet.adopsjon.text.nei"})})]})]})};try{S.displayName="AdopsjonPanel",S.__docgenInfo={description:"",displayName:"AdopsjonPanel",props:{kjønn:{defaultValue:null,description:"",name:"kjønn",required:!0,type:{name:"enum",value:[{value:'"M"'},{value:'"K"'}]}}}}}catch{}const ae=(a,t)=>t.situasjon===F.ADOPSJON?D.ADOPSJONSBEKREFTELSE:a.erBarnetFødt===!1?D.TERMINBEKREFTELSE:D.UTENLANDSOPPHOLD,b=({kjønn:a})=>{const t=h();$(t.formatMessage({id:"OmBarnetSteg.OmBarnet"}));const n=G(),i=Q(),l=_(g.OM_BARNET),o=k(g.OM_BARNET),f=k(g.DOKUMENTASJON),s=W(_(g.SØKERSITUASJON)),j=O.useCallback(u=>{const{antallBarnDropDown:B}=u;o({...X(u,"antallBarnDropDown"),antallBarn:B?Number.parseInt(B,10):u.antallBarn}),u.erBarnetFødt===!0&&f(void 0),i.goToNextStep(ae(u,s))},[]),p=w({defaultValues:l});return e.jsx(z,{bannerTitle:t.formatMessage({id:"Søknad.Pageheading"}),pageTitle:t.formatMessage({id:"OmBarnetSteg.OmBarnet"}),onCancel:i.avbrytSøknad,steps:n.stepConfig,activeStepId:n.activeStepId,useNoTempSavingText:!0,children:e.jsx(V,{formMethods:p,onSubmit:j,children:e.jsxs(A,{gap:"10",children:[e.jsx(L,{}),(s==null?void 0:s.situasjon)===F.ADOPSJON&&e.jsx(S,{kjønn:a}),(s==null?void 0:s.situasjon)===F.FØDSEL&&e.jsx(Y,{}),e.jsx(J,{goToPreviousStep:i.goToPreviousDefaultStep,saveDataOnPreviousClick:o})]})})})},ue=b;try{b.displayName="OmBarnetSteg",b.__docgenInfo={description:"",displayName:"OmBarnetSteg",props:{kjønn:{defaultValue:null,description:"",name:"kjønn",required:!0,type:{name:"enum",value:[{value:'"M"'},{value:'"K"'}]}}}}}catch{}export{ue as O};
//# sourceMappingURL=OmBarnetSteg-896d23fe.js.map
