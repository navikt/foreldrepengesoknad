import{j as e}from"./jsx-runtime-69eee039.js";import{r as O}from"./index-7c191284.js";import{A as y,H as w,u as B,V as u,b as l,B as a,F as i,h as V,o as T,p as F,q as U,j as S,g as G,c as K,r as z}from"./IntlProvider-f476007b.js";import"./_baseToString-8992fead.js";import"./_createSet-409f46e6.js";import{l as m,o as j,v as M,w as J,a as Q,u as W,b as c,E as g}from"./useEsNavigator-03c3a922.js";import{e as X,a as C,b as A}from"./Attachment-77c59016.js";const Y=n=>!!n.terminbekreftelsedato;const h=({tittel:n,children:t})=>{const[s,r]=O.useState(!1),d=O.useCallback(()=>r(o=>!o),[]);return e.jsxs(y.Item,{children:[e.jsx(y.Header,{className:s?"accordian_header":void 0,onClick:d,children:e.jsx(w,{level:"2",size:"small",children:n})}),e.jsx(y.Content,{className:"content_margin",children:t})]})};try{h.displayName="Oppsummeringspunkt",h.__docgenInfo={description:"",displayName:"Oppsummeringspunkt",props:{tittel:{defaultValue:null,description:"",name:"tittel",required:!0,type:{name:"string"}}}}}catch{}const v=({omBarnet:n,dokumentasjon:t})=>{const{i18n:s}=B(),r=X(n),d=C(n),o=A(n);let p;return n.antallBarn===1?p=s("OmBarnetOppsummering.EttBarn"):n.antallBarn===2&&!r?p=s("OmBarnetOppsummering.Tvillinger"):n.antallBarn===2&&r?p=s("OmBarnetOppsummering.ToBarn"):p=s("OmBarnetOppsummering.FlereBarn",{antall:n.antallBarn}),e.jsxs(u,{gap:"4",children:[e.jsxs(l,{gap:"2",children:[e.jsx(a,{children:e.jsx(i,{id:"OmBarnetOppsummering.SoknadenGjelder"})}),e.jsx(a,{children:p})]}),r&&e.jsxs(e.Fragment,{children:[e.jsxs(l,{gap:"2",children:[e.jsx(a,{children:e.jsx(i,{id:"OmBarnetOppsummering.MedAdopsjonsdato"})}),e.jsx(a,{children:m(n.adopsjonsdato)})]}),e.jsxs(l,{gap:"2",children:[e.jsx(a,{children:n.fødselsdatoer.length>1?s("OmBarnetOppsummering.MedFødselsdatoer"):s("OmBarnetOppsummering.MedFødselsdato")}),e.jsx(V,{children:n.fødselsdatoer.map((k,x)=>m(n.fødselsdatoer[x].dato)).join(", ")})]}),e.jsx(T,{children:e.jsx(i,{id:"OmBarnetOppsummering.VedlagtOmsorgsovertakelseBekreftelse"})}),e.jsx(F,{attachments:j(t).vedlegg})]}),o&&e.jsxs(l,{gap:"2",children:[e.jsx(a,{children:e.jsx(i,{id:"OmBarnetOppsummering.MedFødselsdato"})}),e.jsx(a,{children:m(n.fødselsdatoer[0].dato)})]}),d&&t&&Y(t)&&e.jsxs(e.Fragment,{children:[e.jsxs(l,{gap:"2",children:[e.jsx(a,{children:e.jsx(i,{id:"OmBarnetOppsummering.MedTermindato"})}),e.jsx(a,{children:m(n.termindato)})]}),e.jsxs(l,{gap:"2",children:[e.jsx(a,{children:e.jsx(i,{id:"OmBarnetOppsummering.SomErDatert"})}),e.jsx(a,{children:m(t.terminbekreftelsedato)})]}),e.jsx(T,{children:e.jsx(i,{id:"OmBarnetOppsummering.VedlagtTerminbekreftelse"})}),e.jsx(F,{attachments:t.vedlegg})]})]})};try{v.displayName="OmBarnetOppsummering",v.__docgenInfo={description:"",displayName:"OmBarnetOppsummering",props:{omBarnet:{defaultValue:null,description:"",name:"omBarnet",required:!0,type:{name:"OmBarnet"}},dokumentasjon:{defaultValue:null,description:"",name:"dokumentasjon",required:!1,type:{name:"Dokumentasjon"}}}}}catch{}const b=(n,t)=>J(n)?t("LandOppsummering.IDag"):m(n),Z=(n,t)=>S(n.fom).isAfter(t.fom,"day")?1:0,_=({utenlandsoppholdListe:n})=>{const{i18n:t}=B();return e.jsx(e.Fragment,{children:n.sort(Z).map(s=>e.jsx("div",{style:{backgroundColor:"var(--a-blue-100)",padding:"16px",borderRadius:"2px"},children:e.jsxs(u,{gap:"1",children:[e.jsxs(T,{children:[M(s.fom)&&e.jsx(i,{id:"LandOppsummering.HarBodd",values:{country:U.getName(s.landkode,"nb")}}),!M(s.fom)&&e.jsx(i,{id:"LandOppsummering.SkalBo",values:{country:U.getName(s.landkode,"nb")}})]}),e.jsxs(V,{children:[b(s.fom,t)," - ",b(s.tom,t)]})]})},`${s.landkode}${s.fom}`))})};try{_.displayName="LandOppsummering",_.__docgenInfo={description:"",displayName:"LandOppsummering",props:{utenlandsoppholdListe:{defaultValue:null,description:"",name:"utenlandsoppholdListe",required:!0,type:{name:"UtenlandsoppholdPeriode[]"}}}}}catch{}const I=(n,t,s)=>S(n).isBetween(S(t),S(s),"day","[]"),P=(n,t=[],s=[])=>t.some(r=>I(n,r.fom,r.tom))||s.some(r=>I(n,r.fom,r.tom)),D=({omBarnet:n,utenlandsopphold:t,tidligereUtenlandsopphold:s,senereUtenlandsopphold:r})=>{const{i18n:d}=B(),o=C(n),p=A(n);return e.jsxs(u,{gap:"5",children:[e.jsxs(u,{gap:"2",children:[t.harBoddUtenforNorgeSiste12Mnd&&e.jsx(_,{utenlandsoppholdListe:j(s).utenlandsoppholdSiste12Mnd}),t.skalBoUtenforNorgeNeste12Mnd&&e.jsx(_,{utenlandsoppholdListe:j(r).utenlandsoppholdNeste12Mnd})]}),t.harBoddUtenforNorgeSiste12Mnd===!1&&e.jsx(a,{children:e.jsx(i,{id:"UtenlandsoppholdOppsummering.BoddSisteTolv",values:{country:d("UtenlandsoppholdOppsummering.Norge")}})}),t.skalBoUtenforNorgeNeste12Mnd===!1&&e.jsx(a,{children:e.jsx(i,{id:"UtenlandsoppholdOppsummering.BoNesteTolv",values:{country:d("UtenlandsoppholdOppsummering.Norge")}})}),o&&e.jsx(l,{gap:"2",children:e.jsx(a,{children:e.jsx(i,{id:"UtenlandsoppholdOppsummering.Text.OgKommerPåFødselstidspunktet",values:{country:P(n.termindato,s==null?void 0:s.utenlandsoppholdSiste12Mnd,r==null?void 0:r.utenlandsoppholdNeste12Mnd)?d("UtenlandsoppholdOppsummering.Utlandet"):d("UtenlandsoppholdOppsummering.Norge")}})})}),p&&e.jsx(a,{children:e.jsx(i,{id:"UtenlandsoppholdOppsummering.VarPåFødselstidspunktet",values:{country:P(n.fødselsdatoer[0].dato,s==null?void 0:s.utenlandsoppholdSiste12Mnd,r==null?void 0:r.utenlandsoppholdNeste12Mnd)?d("UtenlandsoppholdOppsummering.Utlandet"):d("UtenlandsoppholdOppsummering.Norge")}})})]})};try{D.displayName="UtenlandsoppholdOppsummering",D.__docgenInfo={description:"",displayName:"UtenlandsoppholdOppsummering",props:{omBarnet:{defaultValue:null,description:"",name:"omBarnet",required:!0,type:{name:"OmBarnet"}},utenlandsopphold:{defaultValue:null,description:"",name:"utenlandsopphold",required:!0,type:{name:"Utenlandsopphold"}},tidligereUtenlandsopphold:{defaultValue:null,description:"",name:"tidligereUtenlandsopphold",required:!1,type:{name:"UtenlandsoppholdTidligere"}},senereUtenlandsopphold:{defaultValue:null,description:"",name:"senereUtenlandsopphold",required:!1,type:{name:"UtenlandsoppholdSenere"}}}}}catch{}const ee=(n,t,s)=>s?`${n} ${s} ${t}`:`${n} ${t}`,E=({person:n,sendSøknad:t})=>{const{i18n:s}=B(),r=Q(),d=W(),o=j(c(g.OM_BARNET)),p=j(c(g.UTENLANDSOPPHOLD)),k=c(g.DOKUMENTASJON),x=c(g.UTENLANDSOPPHOLD_TIDLIGERE),L=c(g.UTENLANDSOPPHOLD_SENERE),[f,q]=O.useState(!1),[H,$]=O.useState(!1),R=O.useCallback(N=>{f?(N(!0),t(o,k,x,L)):$(!0)},[f]);return e.jsx(G,{bannerTitle:s("Søknad.Pageheading"),pageTitle:s("OppsummeringSteg.Oppsummering"),onCancel:d.avbrytSøknad,steps:r.stepConfig,activeStepId:r.activeStepId,useNoTempSavingText:!0,children:e.jsxs(u,{gap:"10",children:[e.jsxs(y,{indent:!1,children:[e.jsx(h,{tittel:s("OppsummeringSteg.OmDeg"),children:e.jsxs(u,{gap:"4",children:[e.jsx(a,{children:ee(n.fornavn,n.etternavn,n.mellomnavn)}),e.jsx(a,{children:n.fnr})]})}),e.jsx(h,{tittel:s("OmBarnetSteg.OmBarnet"),children:e.jsx(v,{omBarnet:o,dokumentasjon:k})}),e.jsx(h,{tittel:s("OppsummeringSteg.Utenlandsopphold"),children:e.jsx(D,{omBarnet:o,utenlandsopphold:p,tidligereUtenlandsopphold:x,senereUtenlandsopphold:L})})]}),e.jsx(K,{label:s("OppsummeringSteg.Samtykke"),onChange:()=>q(N=>!N),checked:f,error:H&&!f&&s("OppsummeringSteg.Validering.BekrefteOpplysninger")}),e.jsx(z,{goToPreviousStep:d.goToPreviousDefaultStep,nextButtonText:s("OppsummeringSteg.Button.SendSøknad"),nextButtonOnClick:R})]})})},oe=E;try{E.displayName="OppsummeringSteg",E.__docgenInfo={description:"",displayName:"OppsummeringSteg",props:{person:{defaultValue:null,description:"",name:"person",required:!0,type:{name:"Person"}},sendSøknad:{defaultValue:null,description:"",name:"sendSøknad",required:!0,type:{name:"(omBarnet: OmBarnet, dokumentasjon?: Dokumentasjon | undefined, tidligereUtenlandsopphold?: UtenlandsoppholdTidligere | undefined, senereUtenlandsopphold?: UtenlandsoppholdSenere | undefined) => Promise<...>"}}}}}catch{}export{oe as O,Y as e};
//# sourceMappingURL=OppsummeringSteg-9b8b5e70.js.map
