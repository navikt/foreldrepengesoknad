import{j as e}from"./jsx-runtime-69eee039.js";import{r as c}from"./index-7c191284.js";import{A as f,H as P,u as F,V as _,b as o,B as r,F as a,f as S,z as N,i as q,g as O,e as $,C as H}from"./IntlProvider-79b89341.js";import{a as m}from"./dateUtils-243f90f9.js";import{A as D,S as R}from"./StepButtons-9bea993a.js";import{n as y,a as K,u as w,b as j,E as h}from"./useEsNavigator-fe1453fa.js";import{e as z,a as I,b as M}from"./Attachment-77c59016.js";const Y=s=>!!s.terminbekreftelsedato;const u=({tittel:s,children:n})=>{const[t,d]=c.useState(!1),i=c.useCallback(()=>d(p=>!p),[]);return e.jsxs(f.Item,{children:[e.jsx(f.Header,{className:t?"accordian_header":void 0,onClick:i,children:e.jsx(P,{level:"2",size:"small",children:s})}),e.jsx(f.Content,{className:"content_margin",children:n})]})};try{u.displayName="Oppsummeringspunkt",u.__docgenInfo={description:"",displayName:"Oppsummeringspunkt",props:{tittel:{defaultValue:null,description:"",name:"tittel",required:!0,type:{name:"string"}}}}}catch{}const v=({omBarnet:s,dokumentasjon:n})=>{const t=F(),d=z(s),i=I(s),p=M(s);let l;return s.antallBarn===1?l=t.formatMessage({id:"oppsummering.omBarnet.ettBarn"}):s.antallBarn===2&&!d?l=t.formatMessage({id:"oppsummering.omBarnet.tvillinger"}):s.antallBarn===2&&d?l=t.formatMessage({id:"oppsummering.omBarnet.toBarn"}):l=t.formatMessage({id:"oppsummering.omBarnet.flereBarn"},{antall:s.antallBarn}),e.jsxs(_,{gap:"4",children:[e.jsxs(o,{gap:"2",children:[e.jsx(r,{children:e.jsx(a,{id:"oppsummering.text.soknadenGjelder"})}),e.jsx(r,{children:l})]}),d&&e.jsxs(e.Fragment,{children:[e.jsxs(o,{gap:"2",children:[e.jsx(r,{children:e.jsx(a,{id:"oppsummering.text.medAdopsjonsdato"})}),e.jsx(r,{children:m(s.adopsjonsdato)})]}),e.jsxs(o,{gap:"2",children:[e.jsx(r,{children:e.jsx(a,{id:s.fødselsdatoer.length>1?"oppsummering.text.medFødselsdatoer":"oppsummering.text.medFødselsdato"})}),e.jsx(S,{children:s.fødselsdatoer.map((k,g)=>m(s.fødselsdatoer[g].dato)).join(", ")})]}),e.jsx(N,{children:e.jsx(a,{id:"oppsummering.text.vedlagtOmsorgsovertakelseBekreftelse"})}),e.jsx(D,{attachments:y(n).vedlegg})]}),p&&e.jsxs(o,{gap:"2",children:[e.jsx(r,{children:e.jsx(a,{id:"oppsummering.text.medFødselsdato"})}),e.jsx(r,{children:m(s.fødselsdatoer[0].dato)})]}),i&&n&&Y(n)&&e.jsxs(e.Fragment,{children:[e.jsxs(o,{gap:"2",children:[e.jsx(r,{children:e.jsx(a,{id:"oppsummering.text.medTermindato"})}),e.jsx(r,{children:m(s.termindato)})]}),e.jsxs(o,{gap:"2",children:[e.jsx(r,{children:e.jsx(a,{id:"oppsummering.text.somErDatert"})}),e.jsx(r,{children:m(n.terminbekreftelsedato)})]}),e.jsx(N,{children:e.jsx(a,{id:"oppsummering.text.vedlagtTerminbekreftelse"})}),e.jsx(D,{attachments:n.vedlegg})]})]})};try{v.displayName="OmBarnetOppsummering",v.__docgenInfo={description:"",displayName:"OmBarnetOppsummering",props:{omBarnet:{defaultValue:null,description:"",name:"omBarnet",required:!0,type:{name:"OmBarnet"}},dokumentasjon:{defaultValue:null,description:"",name:"dokumentasjon",required:!1,type:{name:"Dokumentasjon"}}}}}catch{}const B=({utenlandsoppholdListe:s})=>e.jsx("ul",{className:"landOppsummering",children:s.map(n=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx(S,{children:q.getName(n.landkode,"nb")}),e.jsxs(S,{children:[m(n.fom)," - ",m(n.tom)]})]},`${n.landkode}${n.fom}`))});try{B.displayName="LandOppsummering",B.__docgenInfo={description:"",displayName:"LandOppsummering",props:{utenlandsoppholdListe:{defaultValue:null,description:"",name:"utenlandsoppholdListe",required:!0,type:{name:"Periode[]"}}}}}catch{}const G=(s,n,t)=>O(s).isBetween(O(n),O(t),"day","[]"),J=[],E=(s,n=J)=>n.some(t=>G(s,t.fom,t.tom)),T=({omBarnet:s,utenlandsopphold:n,utenlandsoppholdPerioder:t})=>{const d=I(s),i=M(s);return e.jsxs(_,{gap:"4",children:[n.harKunBoddINorge?e.jsxs(o,{gap:"2",children:[e.jsx(r,{children:e.jsx(a,{id:"oppsummering.text.boddSisteTolv"})}),e.jsx(r,{children:e.jsx(a,{id:"norge"})})]}):e.jsxs("div",{children:[e.jsx(N,{className:"textWithLabel__label",children:e.jsx(a,{id:"oppsummering.text.boddSisteTolv"})}),e.jsx(B,{utenlandsoppholdListe:y(t).perioder})]}),d&&e.jsxs(o,{gap:"2",children:[e.jsx(r,{children:e.jsx(a,{id:"oppsummering.text.ogKommerPåFødselstidspunktet"})}),e.jsx(r,{children:e.jsx(a,{id:E(s.termindato,t==null?void 0:t.perioder)?"medlemmskap.radiobutton.vareUtlandet":"medlemmskap.radiobutton.vareNorge"})})]}),i&&e.jsxs(o,{gap:"2",children:[e.jsx(r,{children:e.jsx(a,{id:"oppsummering.text.varPåFødselstidspunktet"})}),e.jsx(r,{children:e.jsx(a,{id:E(s.fødselsdatoer[0].dato,t==null?void 0:t.perioder)?"oppsummering.utenlandsopphold.iUtlandet":"oppsummering.utenlandsopphold.iNorge"})})]})]})};try{T.displayName="UtenlandsoppholdOppsummering",T.__docgenInfo={description:"",displayName:"UtenlandsoppholdOppsummering",props:{omBarnet:{defaultValue:null,description:"",name:"omBarnet",required:!0,type:{name:"OmBarnet"}},utenlandsopphold:{defaultValue:null,description:"",name:"utenlandsopphold",required:!0,type:{name:"Utenlandsopphold"}},utenlandsoppholdPerioder:{defaultValue:null,description:"",name:"utenlandsoppholdPerioder",required:!1,type:{name:"UtenlandsoppholdPerioder"}}}}}catch{}const W=(s,n,t)=>t?`${s} ${t} ${n}`:`${s} ${n}`,b=({person:s,sendSøknad:n})=>{const t=F(),d=K(),i=w(),p=y(j(h.OM_BARNET)),l=y(j(h.UTENLANDSOPPHOLD)),k=j(h.DOKUMENTASJON),g=j(h.UTENLANDSOPPHOLD_PERIODER),[x,C]=c.useState(!1),[L,A]=c.useState(!1),U=c.useCallback(()=>{x?(n(p,l,k,g),i.goToNextDefaultStep()):A(!0)},[x]);return e.jsx($,{bannerTitle:t.formatMessage({id:"Søknad.Pageheading"}),pageTitle:t.formatMessage({id:"søknad.oppsummering"}),onCancel:i.avbrytSøknad,steps:d.stepConfig,activeStepId:d.activeStepId,useNoTempSavingText:!0,children:e.jsxs(_,{gap:"10",children:[e.jsxs(f,{children:[e.jsx(u,{tittel:t.formatMessage({id:"søknad.omDeg"}),children:e.jsxs(_,{gap:"4",children:[e.jsx(r,{children:W(s.fornavn,s.etternavn,s.mellomnavn)}),e.jsx(r,{children:s.fnr})]})}),e.jsx(u,{tittel:t.formatMessage({id:"OmBarnetSteg.OmBarnet"}),children:e.jsx(v,{omBarnet:p,dokumentasjon:k})}),e.jsx(u,{tittel:t.formatMessage({id:"søknad.utenlandsopphold"}),children:e.jsx(T,{omBarnet:p,utenlandsopphold:l,utenlandsoppholdPerioder:g})})]}),e.jsx(H,{label:t.formatMessage({id:"oppsummering.text.samtykke"}),onChange:()=>C(V=>!V),checked:x,error:L&&!x&&t.formatMessage({id:"OppsummeringSteg.Validering.BekrefteOpplysninger"})}),e.jsx(R,{goToPreviousStep:i.goToPreviousDefaultStep,nextButtonText:t.formatMessage({id:"oppsummering.button.sendSøknad"}),nextButtonOnClick:U})]})})},re=b;try{b.displayName="OppsummeringSteg",b.__docgenInfo={description:"",displayName:"OppsummeringSteg",props:{person:{defaultValue:null,description:"",name:"person",required:!0,type:{name:"Person"}},sendSøknad:{defaultValue:null,description:"",name:"sendSøknad",required:!0,type:{name:"(omBarnet: OmBarnet, utenlandsopphold: Utenlandsopphold, dokumentasjon?: Dokumentasjon | undefined, utenlandsoppholdPerioder?: UtenlandsoppholdPerioder | undefined) => void"}}}}}catch{}export{re as O,Y as e};
//# sourceMappingURL=OppsummeringSteg-764c8617.js.map
