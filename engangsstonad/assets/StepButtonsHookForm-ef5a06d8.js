import{j as re}from"./jsx-runtime-69eee039.js";import{R as A,r as qe}from"./index-7c191284.js";import{u as jt,N as at,k as le,K as qt,O as Ht}from"./IntlProvider-6f18ce9f.js";import{f as nt,S as Wt}from"./StepButtons-a9e02238.js";var he=e=>e.type==="checkbox",ue=e=>e instanceof Date,L=e=>e==null;const _t=e=>typeof e=="object";var M=e=>!L(e)&&!Array.isArray(e)&&_t(e)&&!ue(e),ht=e=>M(e)&&e.target?he(e.target)?e.target.checked:e.target.value:e,$t=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,vt=(e,s)=>e.has($t(s)),zt=e=>{const s=e.constructor&&e.constructor.prototype;return M(s)&&s.hasOwnProperty("isPrototypeOf")},ze=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function N(e){let s;const t=Array.isArray(e);if(e instanceof Date)s=new Date(e);else if(e instanceof Set)s=new Set(e);else if(!(ze&&(e instanceof Blob||e instanceof FileList))&&(t||M(e)))if(s=t?[]:{},!t&&!zt(e))s=e;else for(const r in e)e.hasOwnProperty(r)&&(s[r]=N(e[r]));else return e;return s}var ce=e=>Array.isArray(e)?e.filter(Boolean):[],w=e=>e===void 0,f=(e,s,t)=>{if(!s||!M(e))return t;const r=ce(s.split(/[,[\].]+?/)).reduce((a,n)=>L(a)?a:a[n],e);return w(r)||r===e?w(e[s])?t:e[s]:r};const pe={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},z={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},X={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},pt=A.createContext(null),fe=()=>A.useContext(pt),Gt=e=>{const{children:s,...t}=e;return A.createElement(pt.Provider,{value:t},s)};var At=(e,s,t,r=!0)=>{const a={defaultValues:s._defaultValues};for(const n in e)Object.defineProperty(a,n,{get:()=>{const l=n;return s._proxyFormState[l]!==z.all&&(s._proxyFormState[l]=!r||z.all),t&&(t[l]=!0),e[l]}});return a},H=e=>M(e)&&!Object.keys(e).length,Vt=(e,s,t,r)=>{t(e);const{name:a,...n}=e;return H(n)||Object.keys(n).length>=Object.keys(s).length||Object.keys(n).find(l=>s[l]===(!r||z.all))},W=e=>Array.isArray(e)?e:[e],Ft=(e,s,t)=>t&&s?e===s:!e||!s||e===s||W(e).some(r=>r&&(r.startsWith(s)||s.startsWith(r)));function Se(e){const s=A.useRef(e);s.current=e,A.useEffect(()=>{const t=!e.disabled&&s.current.subject&&s.current.subject.subscribe({next:s.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}function Kt(e){const s=fe(),{control:t=s.control,disabled:r,name:a,exact:n}=e||{},[l,v]=A.useState(t._formState),m=A.useRef(!0),S=A.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),E=A.useRef(a);return E.current=a,Se({disabled:r,next:b=>m.current&&Ft(E.current,b.name,n)&&Vt(b,S.current,t._updateFormState)&&v({...t._formState,...b}),subject:t._subjects.state}),A.useEffect(()=>(m.current=!0,S.current.isValid&&t._updateValid(!0),()=>{m.current=!1}),[t]),At(l,t,S.current,!1)}var J=e=>typeof e=="string",bt=(e,s,t,r,a)=>J(e)?(r&&s.watch.add(e),f(t,e,a)):Array.isArray(e)?e.map(n=>(r&&s.watch.add(n),f(t,n))):(r&&(s.watchAll=!0),t);function Yt(e){const s=fe(),{control:t=s.control,name:r,defaultValue:a,disabled:n,exact:l}=e||{},v=A.useRef(r);v.current=r,Se({disabled:n,subject:t._subjects.values,next:E=>{Ft(v.current,E.name,l)&&S(N(bt(v.current,t._names,E.values||t._formValues,!1,a)))}});const[m,S]=A.useState(t._getWatch(r,a));return A.useEffect(()=>t._removeUnmounted()),m}var Ge=e=>/^\w*$/.test(e),xt=e=>ce(e.replace(/["|']|\]/g,"").split(/\.|\[/));function D(e,s,t){let r=-1;const a=Ge(s)?[s]:xt(s),n=a.length,l=n-1;for(;++r<n;){const v=a[r];let m=t;if(r!==l){const S=e[v];m=M(S)||Array.isArray(S)?S:isNaN(+a[r+1])?{}:[]}e[v]=m,e=e[v]}return e}function vr(e){const s=fe(),{name:t,control:r=s.control,shouldUnregister:a}=e,n=vt(r._names.array,t),l=Yt({control:r,name:t,defaultValue:f(r._formValues,t,f(r._defaultValues,t,e.defaultValue)),exact:!0}),v=Kt({control:r,name:t}),m=A.useRef(r.register(t,{...e.rules,value:l}));return m.current=r.register(t,e.rules),A.useEffect(()=>{const S=r._options.shouldUnregister||a,E=(b,h)=>{const j=f(r._fields,b);j&&(j._f.mount=h)};if(E(t,!0),S){const b=N(f(r._options.defaultValues,t));D(r._defaultValues,t,b),w(f(r._formValues,t))&&D(r._formValues,t,b)}return()=>{(n?S&&!r._state.action:S)?r.unregister(t):E(t,!1)}},[t,r,n,a]),{field:{name:t,value:l,onChange:A.useCallback(S=>m.current.onChange({target:{value:ht(S),name:t},type:pe.CHANGE}),[t]),onBlur:A.useCallback(()=>m.current.onBlur({target:{value:f(r._formValues,t),name:t},type:pe.BLUR}),[t,r]),ref:S=>{const E=f(r._fields,t);E&&S&&(E._f.ref={focus:()=>S.focus(),select:()=>S.select(),setCustomValidity:b=>S.setCustomValidity(b),reportValidity:()=>S.reportValidity()})}},formState:v,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!f(v.errors,t)},isDirty:{enumerable:!0,get:()=>!!f(v.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!f(v.touchedFields,t)},error:{enumerable:!0,get:()=>f(v.errors,t)}})}}var Jt=(e,s,t,r,a)=>s?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[r]:a||!0}}:{};const Ae=(e,s,t)=>{for(const r of t||Object.keys(e)){const a=f(e,r);if(a){const{_f:n,...l}=a;if(n&&s(n.name)){if(n.ref.focus){n.ref.focus();break}else if(n.refs&&n.refs[0].focus){n.refs[0].focus();break}}else M(l)&&Ae(l,s)}}};var Z=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,s=>{const t=(Math.random()*16+e)%16|0;return(s=="x"?t:t&3|8).toString(16)})},Ce=(e,s,t={})=>t.shouldFocus||w(t.shouldFocus)?t.focusName||`${e}.${w(t.focusIndex)?s:t.focusIndex}.`:"",He=e=>({isOnSubmit:!e||e===z.onSubmit,isOnBlur:e===z.onBlur,isOnChange:e===z.onChange,isOnAll:e===z.all,isOnTouch:e===z.onTouched}),We=(e,s,t)=>!t&&(s.watchAll||s.watch.has(e)||[...s.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length)))),St=(e,s,t)=>{const r=ce(f(e,t));return D(r,"root",s[t]),D(e,t,r),e},oe=e=>typeof e=="boolean",Ke=e=>e.type==="file",ee=e=>typeof e=="function",Ve=e=>{if(!ze)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},ve=e=>J(e),Ye=e=>e.type==="radio",Fe=e=>e instanceof RegExp;const ut={value:!1,isValid:!1},ot={value:!0,isValid:!0};var kt=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!w(e[0].attributes.value)?w(e[0].value)||e[0].value===""?ot:{value:e[0].value,isValid:!0}:ot:ut}return ut};const lt={isValid:!1,value:null};var Dt=e=>Array.isArray(e)?e.reduce((s,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:s,lt):lt;function ct(e,s,t="validate"){if(ve(e)||Array.isArray(e)&&e.every(ve)||oe(e)&&!e)return{type:t,message:ve(e)?e:"",ref:s}}var ne=e=>M(e)&&!Fe(e)?e:{value:e,message:""},$e=async(e,s,t,r,a)=>{const{ref:n,refs:l,required:v,maxLength:m,minLength:S,min:E,max:b,pattern:h,validate:j,name:I,valueAsNumber:de,mount:ie,disabled:ye}=e._f,V=f(s,I);if(!ie||ye)return{};const q=l?l[0]:n,G=k=>{r&&q.reportValidity&&(q.setCustomValidity(oe(k)?"":k||""),q.reportValidity())},y={},p=Ye(n),F=he(n),R=p||F,U=(de||Ke(n))&&w(n.value)&&w(V)||Ve(n)&&n.value===""||V===""||Array.isArray(V)&&!V.length,K=Jt.bind(null,I,t,y),Q=(k,x,O,P=X.maxLength,$=X.minLength)=>{const Y=k?x:O;y[I]={type:k?P:$,message:Y,ref:n,...K(k?P:$,Y)}};if(a?!Array.isArray(V)||!V.length:v&&(!R&&(U||L(V))||oe(V)&&!V||F&&!kt(l).isValid||p&&!Dt(l).isValid)){const{value:k,message:x}=ve(v)?{value:!!v,message:v}:ne(v);if(k&&(y[I]={type:X.required,message:x,ref:q,...K(X.required,x)},!t))return G(x),y}if(!U&&(!L(E)||!L(b))){let k,x;const O=ne(b),P=ne(E);if(!L(V)&&!isNaN(V)){const $=n.valueAsNumber||V&&+V;L(O.value)||(k=$>O.value),L(P.value)||(x=$<P.value)}else{const $=n.valueAsDate||new Date(V),Y=me=>new Date(new Date().toDateString()+" "+me),te=n.type=="time",ge=n.type=="week";J(O.value)&&V&&(k=te?Y(V)>Y(O.value):ge?V>O.value:$>new Date(O.value)),J(P.value)&&V&&(x=te?Y(V)<Y(P.value):ge?V<P.value:$<new Date(P.value))}if((k||x)&&(Q(!!k,O.message,P.message,X.max,X.min),!t))return G(y[I].message),y}if((m||S)&&!U&&(J(V)||a&&Array.isArray(V))){const k=ne(m),x=ne(S),O=!L(k.value)&&V.length>+k.value,P=!L(x.value)&&V.length<+x.value;if((O||P)&&(Q(O,k.message,x.message),!t))return G(y[I].message),y}if(h&&!U&&J(V)){const{value:k,message:x}=ne(h);if(Fe(k)&&!V.match(k)&&(y[I]={type:X.pattern,message:x,ref:n,...K(X.pattern,x)},!t))return G(x),y}if(j){if(ee(j)){const k=await j(V,s),x=ct(k,q);if(x&&(y[I]={...x,...K(X.validate,x.message)},!t))return G(x.message),y}else if(M(j)){let k={};for(const x in j){if(!H(k)&&!t)break;const O=ct(await j[x](V,s),q,x);O&&(k={...O,...K(x,O.message)},G(O.message),t&&(y[I]=k))}if(!H(k)&&(y[I]={ref:q,...k},!t))return y}}return G(!0),y};function Oe(e,s){return[...e,...W(s)]}var Te=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Re(e,s,t){return[...e.slice(0,s),...W(t),...e.slice(s)]}var Me=(e,s,t)=>Array.isArray(e)?(w(e[t])&&(e[t]=void 0),e.splice(t,0,e.splice(s,1)[0]),e):[];function Be(e,s){return[...W(s),...W(e)]}function Qt(e,s){let t=0;const r=[...e];for(const a of s)r.splice(a-t,1),t++;return ce(r).length?r:[]}var Ue=(e,s)=>w(s)?[]:Qt(e,W(s).sort((t,r)=>t-r)),Le=(e,s,t)=>{e[s]=[e[t],e[t]=e[s]][0]};function Xt(e,s){const t=s.slice(0,-1).length;let r=0;for(;r<t;)e=w(e)?r++:e[s[r++]];return e}function Zt(e){for(const s in e)if(e.hasOwnProperty(s)&&!w(e[s]))return!1;return!0}function B(e,s){const t=Array.isArray(s)?s:Ge(s)?[s]:xt(s),r=t.length===1?e:Xt(e,t),a=t.length-1,n=t[a];return r&&delete r[n],a!==0&&(M(r)&&H(r)||Array.isArray(r)&&Zt(r))&&B(e,t.slice(0,-1)),e}var ft=(e,s,t)=>(e[s]=t,e);function pr(e){const s=fe(),{control:t=s.control,name:r,keyName:a="id",shouldUnregister:n}=e,[l,v]=A.useState(t._getFieldArray(r)),m=A.useRef(t._getFieldArray(r).map(Z)),S=A.useRef(l),E=A.useRef(r),b=A.useRef(!1);E.current=r,S.current=l,t._names.array.add(r),e.rules&&t.register(r,e.rules),Se({next:({values:y,name:p})=>{if(p===E.current||!p){const F=f(y,E.current);Array.isArray(F)&&(v(F),m.current=F.map(Z))}},subject:t._subjects.array});const h=A.useCallback(y=>{b.current=!0,t._updateFieldArray(r,y)},[t,r]),j=(y,p)=>{const F=W(N(y)),R=Oe(t._getFieldArray(r),F);t._names.focus=Ce(r,R.length-1,p),m.current=Oe(m.current,F.map(Z)),h(R),v(R),t._updateFieldArray(r,R,Oe,{argA:Te(y)})},I=(y,p)=>{const F=W(N(y)),R=Be(t._getFieldArray(r),F);t._names.focus=Ce(r,0,p),m.current=Be(m.current,F.map(Z)),h(R),v(R),t._updateFieldArray(r,R,Be,{argA:Te(y)})},de=y=>{const p=Ue(t._getFieldArray(r),y);m.current=Ue(m.current,y),h(p),v(p),t._updateFieldArray(r,p,Ue,{argA:y})},ie=(y,p,F)=>{const R=W(N(p)),U=Re(t._getFieldArray(r),y,R);t._names.focus=Ce(r,y,F),m.current=Re(m.current,y,R.map(Z)),h(U),v(U),t._updateFieldArray(r,U,Re,{argA:y,argB:Te(p)})},ye=(y,p)=>{const F=t._getFieldArray(r);Le(F,y,p),Le(m.current,y,p),h(F),v(F),t._updateFieldArray(r,F,Le,{argA:y,argB:p},!1)},V=(y,p)=>{const F=t._getFieldArray(r);Me(F,y,p),Me(m.current,y,p),h(F),v(F),t._updateFieldArray(r,F,Me,{argA:y,argB:p},!1)},q=(y,p)=>{const F=N(p),R=ft(t._getFieldArray(r),y,F);m.current=[...R].map((U,K)=>!U||K===y?Z():m.current[K]),h(R),v([...R]),t._updateFieldArray(r,R,ft,{argA:y,argB:F},!0,!1)},G=y=>{const p=W(N(y));m.current=p.map(Z),h([...p]),v([...p]),t._updateFieldArray(r,[...p],F=>F,{},!0,!1)};return A.useEffect(()=>{if(t._state.action=!1,We(r,t._names)&&t._subjects.state.next({...t._formState}),b.current&&(!He(t._options.mode).isOnSubmit||t._formState.isSubmitted))if(t._options.resolver)t._executeSchema([r]).then(y=>{const p=f(y.errors,r),F=f(t._formState.errors,r);(F?!p&&F.type||p&&(F.type!==p.type||F.message!==p.message):p&&p.type)&&(p?D(t._formState.errors,r,p):B(t._formState.errors,r),t._subjects.state.next({errors:t._formState.errors}))});else{const y=f(t._fields,r);y&&y._f&&$e(y,t._formValues,t._options.criteriaMode===z.all,t._options.shouldUseNativeValidation,!0).then(p=>!H(p)&&t._subjects.state.next({errors:St(t._formState.errors,p,r)}))}t._subjects.values.next({name:r,values:{...t._formValues}}),t._names.focus&&Ae(t._fields,y=>!!y&&y.startsWith(t._names.focus||"")),t._names.focus="",t._updateValid(),b.current=!1},[l,r,t]),A.useEffect(()=>(!f(t._formValues,r)&&t._updateFieldArray(r),()=>{(t._options.shouldUnregister||n)&&t.unregister(r)}),[r,t,a,n]),{swap:A.useCallback(ye,[h,r,t]),move:A.useCallback(V,[h,r,t]),prepend:A.useCallback(I,[h,r,t]),append:A.useCallback(j,[h,r,t]),remove:A.useCallback(de,[h,r,t]),insert:A.useCallback(ie,[h,r,t]),update:A.useCallback(q,[h,r,t]),replace:A.useCallback(G,[h,r,t]),fields:A.useMemo(()=>l.map((y,p)=>({...y,[a]:m.current[p]||Z()})),[l,a])}}function Ne(){let e=[];return{get observers(){return e},next:a=>{for(const n of e)n.next&&n.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(n=>n!==a)}}),unsubscribe:()=>{e=[]}}}var be=e=>L(e)||!_t(e);function se(e,s){if(be(e)||be(s))return e===s;if(ue(e)&&ue(s))return e.getTime()===s.getTime();const t=Object.keys(e),r=Object.keys(s);if(t.length!==r.length)return!1;for(const a of t){const n=e[a];if(!r.includes(a))return!1;if(a!=="ref"){const l=s[a];if(ue(n)&&ue(l)||M(n)&&M(l)||Array.isArray(n)&&Array.isArray(l)?!se(n,l):n!==l)return!1}}return!0}var wt=e=>e.type==="select-multiple",er=e=>Ye(e)||he(e),Ie=e=>Ve(e)&&e.isConnected,Et=e=>{for(const s in e)if(ee(e[s]))return!0;return!1};function xe(e,s={}){const t=Array.isArray(e);if(M(e)||t)for(const r in e)Array.isArray(e[r])||M(e[r])&&!Et(e[r])?(s[r]=Array.isArray(e[r])?[]:{},xe(e[r],s[r])):L(e[r])||(s[r]=!0);return s}function Ct(e,s,t){const r=Array.isArray(e);if(M(e)||r)for(const a in e)Array.isArray(e[a])||M(e[a])&&!Et(e[a])?w(s)||be(t[a])?t[a]=Array.isArray(e[a])?xe(e[a],[]):{...xe(e[a])}:Ct(e[a],L(s)?{}:s[a],t[a]):t[a]=!se(e[a],s[a]);return t}var Pe=(e,s)=>Ct(e,s,xe(s)),Ot=(e,{valueAsNumber:s,valueAsDate:t,setValueAs:r})=>w(e)?e:s?e===""?NaN:e&&+e:t&&J(e)?new Date(e):r?r(e):e;function je(e){const s=e.ref;if(!(e.refs?e.refs.every(t=>t.disabled):s.disabled))return Ke(s)?s.files:Ye(s)?Dt(e.refs).value:wt(s)?[...s.selectedOptions].map(({value:t})=>t):he(s)?kt(e.refs).value:Ot(w(s.value)?e.ref.value:s.value,e)}var tr=(e,s,t,r)=>{const a={};for(const n of e){const l=f(s,n);l&&D(a,n,l._f)}return{criteriaMode:t,names:[...e],fields:a,shouldUseNativeValidation:r}},_e=e=>w(e)?e:Fe(e)?e.source:M(e)?Fe(e.value)?e.value.source:e.value:e,rr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function dt(e,s,t){const r=f(e,t);if(r||Ge(t))return{error:r,name:t};const a=t.split(".");for(;a.length;){const n=a.join("."),l=f(s,n),v=f(e,n);if(l&&!Array.isArray(l)&&t!==n)return{name:t};if(v&&v.type)return{name:n,error:v};a.pop()}return{name:t}}var sr=(e,s,t,r,a)=>a.isOnAll?!1:!t&&a.isOnTouch?!(s||e):(t?r.isOnBlur:a.isOnBlur)?!e:(t?r.isOnChange:a.isOnChange)?e:!0,ir=(e,s)=>!ce(f(e,s)).length&&B(e,s);const ar={mode:z.onSubmit,reValidateMode:z.onChange,shouldFocusError:!0};function nr(e={},s){let t={...ar,...e},r={submitCount:0,isDirty:!1,isLoading:ee(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},a={},n=M(t.defaultValues)||M(t.values)?N(t.defaultValues||t.values)||{}:{},l=t.shouldUnregister?{}:N(n),v={action:!1,mount:!1,watch:!1},m={mount:new Set,unMount:new Set,array:new Set,watch:new Set},S,E=0;const b={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:Ne(),array:Ne(),state:Ne()},j=e.resetOptions&&e.resetOptions.keepDirtyValues,I=He(t.mode),de=He(t.reValidateMode),ie=t.criteriaMode===z.all,ye=i=>u=>{clearTimeout(E),E=setTimeout(i,u)},V=async i=>{if(b.isValid||i){const u=t.resolver?H((await U()).errors):await Q(a,!0);u!==r.isValid&&h.state.next({isValid:u})}},q=i=>b.isValidating&&h.state.next({isValidating:i}),G=(i,u=[],o,g,d=!0,c=!0)=>{if(g&&o){if(v.action=!0,c&&Array.isArray(f(a,i))){const _=o(f(a,i),g.argA,g.argB);d&&D(a,i,_)}if(c&&Array.isArray(f(r.errors,i))){const _=o(f(r.errors,i),g.argA,g.argB);d&&D(r.errors,i,_),ir(r.errors,i)}if(b.touchedFields&&c&&Array.isArray(f(r.touchedFields,i))){const _=o(f(r.touchedFields,i),g.argA,g.argB);d&&D(r.touchedFields,i,_)}b.dirtyFields&&(r.dirtyFields=Pe(n,l)),h.state.next({name:i,isDirty:x(i,u),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else D(l,i,u)},y=(i,u)=>{D(r.errors,i,u),h.state.next({errors:r.errors})},p=(i,u,o,g)=>{const d=f(a,i);if(d){const c=f(l,i,w(o)?f(n,i):o);w(c)||g&&g.defaultChecked||u?D(l,i,u?c:je(d._f)):$(i,c),v.mount&&V()}},F=(i,u,o,g,d)=>{let c=!1,_=!1;const C={name:i};if(!o||g){b.isDirty&&(_=r.isDirty,r.isDirty=C.isDirty=x(),c=_!==C.isDirty);const T=se(f(n,i),u);_=f(r.dirtyFields,i),T?B(r.dirtyFields,i):D(r.dirtyFields,i,!0),C.dirtyFields=r.dirtyFields,c=c||b.dirtyFields&&_!==!T}if(o){const T=f(r.touchedFields,i);T||(D(r.touchedFields,i,o),C.touchedFields=r.touchedFields,c=c||b.touchedFields&&T!==o)}return c&&d&&h.state.next(C),c?C:{}},R=(i,u,o,g)=>{const d=f(r.errors,i),c=b.isValid&&oe(u)&&r.isValid!==u;if(e.delayError&&o?(S=ye(()=>y(i,o)),S(e.delayError)):(clearTimeout(E),S=null,o?D(r.errors,i,o):B(r.errors,i)),(o?!se(d,o):d)||!H(g)||c){const _={...g,...c&&oe(u)?{isValid:u}:{},errors:r.errors,name:i};r={...r,..._},h.state.next(_)}q(!1)},U=async i=>t.resolver(l,t.context,tr(i||m.mount,a,t.criteriaMode,t.shouldUseNativeValidation)),K=async i=>{const{errors:u}=await U();if(i)for(const o of i){const g=f(u,o);g?D(r.errors,o,g):B(r.errors,o)}else r.errors=u;return u},Q=async(i,u,o={valid:!0})=>{for(const g in i){const d=i[g];if(d){const{_f:c,..._}=d;if(c){const C=m.array.has(c.name),T=await $e(d,l,ie,t.shouldUseNativeValidation&&!u,C);if(T[c.name]&&(o.valid=!1,u))break;!u&&(f(T,c.name)?C?St(r.errors,T,c.name):D(r.errors,c.name,T[c.name]):B(r.errors,c.name))}_&&await Q(_,u,o)}}return o.valid},k=()=>{for(const i of m.unMount){const u=f(a,i);u&&(u._f.refs?u._f.refs.every(o=>!Ie(o)):!Ie(u._f.ref))&&ke(i)}m.unMount=new Set},x=(i,u)=>(i&&u&&D(l,i,u),!se(Je(),n)),O=(i,u,o)=>bt(i,m,{...v.mount?l:w(u)?n:J(i)?{[i]:u}:u},o,u),P=i=>ce(f(v.mount?l:n,i,e.shouldUnregister?f(n,i,[]):[])),$=(i,u,o={})=>{const g=f(a,i);let d=u;if(g){const c=g._f;c&&(!c.disabled&&D(l,i,Ot(u,c)),d=Ve(c.ref)&&L(u)?"":u,wt(c.ref)?[...c.ref.options].forEach(_=>_.selected=d.includes(_.value)):c.refs?he(c.ref)?c.refs.length>1?c.refs.forEach(_=>(!_.defaultChecked||!_.disabled)&&(_.checked=Array.isArray(d)?!!d.find(C=>C===_.value):d===_.value)):c.refs[0]&&(c.refs[0].checked=!!d):c.refs.forEach(_=>_.checked=_.value===d):Ke(c.ref)?c.ref.value="":(c.ref.value=d,c.ref.type||h.values.next({name:i,values:{...l}})))}(o.shouldDirty||o.shouldTouch)&&F(i,d,o.shouldTouch,o.shouldDirty,!0),o.shouldValidate&&me(i)},Y=(i,u,o)=>{for(const g in u){const d=u[g],c=`${i}.${g}`,_=f(a,c);(m.array.has(i)||!be(d)||_&&!_._f)&&!ue(d)?Y(c,d,o):$(c,d,o)}},te=(i,u,o={})=>{const g=f(a,i),d=m.array.has(i),c=N(u);D(l,i,c),d?(h.array.next({name:i,values:{...l}}),(b.isDirty||b.dirtyFields)&&o.shouldDirty&&h.state.next({name:i,dirtyFields:Pe(n,l),isDirty:x(i,c)})):g&&!g._f&&!L(c)?Y(i,c,o):$(i,c,o),We(i,m)&&h.state.next({...r}),h.values.next({name:i,values:{...l}}),!v.mount&&s()},ge=async i=>{const u=i.target;let o=u.name,g=!0;const d=f(a,o),c=()=>u.type?je(d._f):ht(i);if(d){let _,C;const T=c(),ae=i.type===pe.BLUR||i.type===pe.FOCUS_OUT,Nt=!rr(d._f)&&!t.resolver&&!f(r.errors,o)&&!d._f.deps||sr(ae,f(r.touchedFields,o),r.isSubmitted,de,I),we=We(o,m,ae);D(l,o,T),ae?(d._f.onBlur&&d._f.onBlur(i),S&&S(0)):d._f.onChange&&d._f.onChange(i);const Ee=F(o,T,ae,!1),It=!H(Ee)||we;if(!ae&&h.values.next({name:o,type:i.type,values:{...l}}),Nt)return b.isValid&&V(),It&&h.state.next({name:o,...we?{}:Ee});if(!ae&&we&&h.state.next({...r}),q(!0),t.resolver){const{errors:st}=await U([o]),Pt=dt(r.errors,a,o),it=dt(st,a,Pt.name||o);_=it.error,o=it.name,C=H(st)}else _=(await $e(d,l,ie,t.shouldUseNativeValidation))[o],g=isNaN(T)||T===f(l,o,T),g&&(_?C=!1:b.isValid&&(C=await Q(a,!0)));g&&(d._f.deps&&me(d._f.deps),R(o,C,_,Ee))}},me=async(i,u={})=>{let o,g;const d=W(i);if(q(!0),t.resolver){const c=await K(w(i)?i:d);o=H(c),g=i?!d.some(_=>f(c,_)):o}else i?(g=(await Promise.all(d.map(async c=>{const _=f(a,c);return await Q(_&&_._f?{[c]:_}:_)}))).every(Boolean),!(!g&&!r.isValid)&&V()):g=o=await Q(a);return h.state.next({...!J(i)||b.isValid&&o!==r.isValid?{}:{name:i},...t.resolver||!i?{isValid:o}:{},errors:r.errors,isValidating:!1}),u.shouldFocus&&!g&&Ae(a,c=>c&&f(r.errors,c),i?d:m.mount),g},Je=i=>{const u={...n,...v.mount?l:{}};return w(i)?u:J(i)?f(u,i):i.map(o=>f(u,o))},Qe=(i,u)=>({invalid:!!f((u||r).errors,i),isDirty:!!f((u||r).dirtyFields,i),isTouched:!!f((u||r).touchedFields,i),error:f((u||r).errors,i)}),Bt=i=>{i&&W(i).forEach(u=>B(r.errors,u)),h.state.next({errors:i?r.errors:{}})},Xe=(i,u,o)=>{const g=(f(a,i,{_f:{}})._f||{}).ref;D(r.errors,i,{...u,ref:g}),h.state.next({name:i,errors:r.errors,isValid:!1}),o&&o.shouldFocus&&g&&g.focus&&g.focus()},Ut=(i,u)=>ee(i)?h.values.subscribe({next:o=>i(O(void 0,u),o)}):O(i,u,!0),ke=(i,u={})=>{for(const o of i?W(i):m.mount)m.mount.delete(o),m.array.delete(o),u.keepValue||(B(a,o),B(l,o)),!u.keepError&&B(r.errors,o),!u.keepDirty&&B(r.dirtyFields,o),!u.keepTouched&&B(r.touchedFields,o),!t.shouldUnregister&&!u.keepDefaultValue&&B(n,o);h.values.next({values:{...l}}),h.state.next({...r,...u.keepDirty?{isDirty:x()}:{}}),!u.keepIsValid&&V()},De=(i,u={})=>{let o=f(a,i);const g=oe(u.disabled);return D(a,i,{...o||{},_f:{...o&&o._f?o._f:{ref:{name:i}},name:i,mount:!0,...u}}),m.mount.add(i),o?g&&D(l,i,u.disabled?void 0:f(l,i,je(o._f))):p(i,!0,u.value),{...g?{disabled:u.disabled}:{},...t.progressive?{required:!!u.required,min:_e(u.min),max:_e(u.max),minLength:_e(u.minLength),maxLength:_e(u.maxLength),pattern:_e(u.pattern)}:{},name:i,onChange:ge,onBlur:ge,ref:d=>{if(d){De(i,u),o=f(a,i);const c=w(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,_=er(c),C=o._f.refs||[];if(_?C.find(T=>T===c):c===o._f.ref)return;D(a,i,{_f:{...o._f,..._?{refs:[...C.filter(Ie),c,...Array.isArray(f(n,i))?[{}]:[]],ref:{type:c.type,name:i}}:{ref:c}}}),p(i,!1,void 0,c)}else o=f(a,i,{}),o._f&&(o._f.mount=!1),(t.shouldUnregister||u.shouldUnregister)&&!(vt(m.array,i)&&v.action)&&m.unMount.add(i)}}},Ze=()=>t.shouldFocusError&&Ae(a,i=>i&&f(r.errors,i),m.mount),et=(i,u)=>async o=>{o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let g=N(l);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:d,values:c}=await U();r.errors=d,g=c}else await Q(a);B(r.errors,"root"),H(r.errors)?(h.state.next({errors:{}}),await i(g,o)):(u&&await u({...r.errors},o),Ze(),setTimeout(Ze)),h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:H(r.errors),submitCount:r.submitCount+1,errors:r.errors})},Lt=(i,u={})=>{f(a,i)&&(w(u.defaultValue)?te(i,f(n,i)):(te(i,u.defaultValue),D(n,i,u.defaultValue)),u.keepTouched||B(r.touchedFields,i),u.keepDirty||(B(r.dirtyFields,i),r.isDirty=u.defaultValue?x(i,f(n,i)):x()),u.keepError||(B(r.errors,i),b.isValid&&V()),h.state.next({...r}))},tt=(i,u={})=>{const o=i||n,g=N(o),d=i&&!H(i)?g:n;if(u.keepDefaultValues||(n=o),!u.keepValues){if(u.keepDirtyValues||j)for(const c of m.mount)f(r.dirtyFields,c)?D(d,c,f(l,c)):te(c,f(d,c));else{if(ze&&w(i))for(const c of m.mount){const _=f(a,c);if(_&&_._f){const C=Array.isArray(_._f.refs)?_._f.refs[0]:_._f.ref;if(Ve(C)){const T=C.closest("form");if(T){T.reset();break}}}}a={}}l=e.shouldUnregister?u.keepDefaultValues?N(n):{}:N(d),h.array.next({values:{...d}}),h.values.next({values:{...d}})}m={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!v.mount&&s(),v.mount=!b.isValid||!!u.keepIsValid,v.watch=!!e.shouldUnregister,h.state.next({submitCount:u.keepSubmitCount?r.submitCount:0,isDirty:u.keepDirty?r.isDirty:!!(u.keepDefaultValues&&!se(i,n)),isSubmitted:u.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:u.keepDirtyValues?r.dirtyFields:u.keepDefaultValues&&i?Pe(n,i):{},touchedFields:u.keepTouched?r.touchedFields:{},errors:u.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},rt=(i,u)=>tt(ee(i)?i(l):i,u);return{control:{register:De,unregister:ke,getFieldState:Qe,handleSubmit:et,setError:Xe,_executeSchema:U,_getWatch:O,_getDirty:x,_updateValid:V,_removeUnmounted:k,_updateFieldArray:G,_getFieldArray:P,_reset:tt,_resetDefaultValues:()=>ee(t.defaultValues)&&t.defaultValues().then(i=>{rt(i,t.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:i=>{r={...r,...i}},_subjects:h,_proxyFormState:b,get _fields(){return a},get _formValues(){return l},get _state(){return v},set _state(i){v=i},get _defaultValues(){return n},get _names(){return m},set _names(i){m=i},get _formState(){return r},set _formState(i){r=i},get _options(){return t},set _options(i){t={...t,...i}}},trigger:me,register:De,handleSubmit:et,watch:Ut,setValue:te,getValues:Je,reset:rt,resetField:Lt,clearErrors:Bt,unregister:ke,setError:Xe,setFocus:(i,u={})=>{const o=f(a,i),g=o&&o._f;if(g){const d=g.refs?g.refs[0]:g.ref;d.focus&&(d.focus(),u.shouldSelect&&d.select())}},getFieldState:Qe}}function Ar(e={}){const s=A.useRef(),t=A.useRef(),[r,a]=A.useState({isDirty:!1,isValidating:!1,isLoading:ee(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:ee(e.defaultValues)?void 0:e.defaultValues});s.current||(s.current={...nr(e,()=>a(l=>({...l}))),formState:r});const n=s.current.control;return n._options=e,Se({subject:n._subjects.state,next:l=>{Vt(l,n._proxyFormState,n._updateFormState,!0)&&a({...n._formState})}}),A.useEffect(()=>{e.values&&!se(e.values,t.current)?(n._reset(e.values,n._options.resetOptions),t.current=e.values):n._resetDefaultValues()},[e.values,n]),A.useEffect(()=>{n._state.mount||(n._updateValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),s.current.formState=At(r,n),s.current}const Vr=e=>e.reduce((s,t,r)=>({...s,[r]:a=>t(a)||!0}),{}),Fr=(e,s)=>{const t=s.split(".").reduce((r,a)=>r!==void 0?r[a]:r,e);return t==null?void 0:t.message},Tt=e=>Object.keys(e).reduce((s,t)=>{const r=e[t];if(r!=null&&r.message&&!s[t])return Object.keys(s).some(n=>{var l;return((l=s[n])==null?void 0:l.message)===(r==null?void 0:r.message)})?s:{...s,[t]:e[t]};if(Array.isArray(r)){const a=r.reduce((n,l)=>({...l?Tt(l):{},...n}),{});return{...s,...a}}return s},{}),yt=()=>{const e=jt(),s=qe.useRef(null),{formState:{errors:t}}=fe();qe.useEffect(()=>{s!=null&&s.current&&s.current.focus()},[t]);const r=Tt(t);return re.jsx(re.Fragment,{children:Object.keys(r).length>0&&re.jsx(at,{size:"small",ref:s,heading:e.formatMessage({id:"feiloppsummering.tittel"}),children:Object.values(r).map(a=>{var n,l;return re.jsx(at.Item,{onClick:()=>{a!=null&&a.ref&&a.ref.focus()},children:(n=a==null?void 0:a.message)==null?void 0:n.toString()},(l=a==null?void 0:a.message)==null?void 0:l.toString())})})})};try{yt.displayName="ErrorSummaryHookForm",yt.__docgenInfo={description:"",displayName:"ErrorSummaryHookForm",props:{}}}catch{}const gt=({formMethods:e,children:s,onSubmit:t,className:r})=>{const{handleSubmit:a}=e;return re.jsx(Gt,{...e,children:re.jsx("form",{className:r,onSubmit:t?a(n=>t(n)):void 0,children:s})})};try{gt.displayName="Form",gt.__docgenInfo={description:"",displayName:"Form",props:{formMethods:{defaultValue:null,description:"",name:"formMethods",required:!0,type:{name:"UseFormReturn<FormValues>"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!1,type:{name:"SubmitHandler<FormValues>"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const ur=/(19|20)\d{2}-(0?[1-9]|1[0-2])-(0?[1-9]|1\d|2\d|3[01])$/,or=le().toDate(),Rt=e=>e==null||e.toString().trim().length===0,br=e=>s=>Rt(s)?e:null,xr=e=>s=>Rt(s)||ur.test(s)?null:e,Sr=e=>s=>le(s).isAfter(or)?e:null,kr=(e,s)=>t=>s&&t&&le(s).isSame(t)?e:null,lr=(e,s,t)=>le(e).isBetween(s,t,"day","[]"),Mt=(e,s,t,r,a)=>s===void 0?a?e.formatMessage({id:"valideringsfeil.fraOgMedDato.gyldigDato"}):e.formatMessage({id:"valideringsfeil.tilOgMedDato.gyldigDato"}):lr(s,t,r)?null:e.formatMessage({id:"valideringsfeil.dateOutsideRange"},{fom:nt(t),tom:nt(r)}),Dr=(e,s,t,r,a)=>{const n=Mt(e,s,t,r,!0);if(n!==void 0)return n;if(a&&le(s).isAfter(a,"day"))return e.formatMessage({id:"valideringsfeil.utenlandsopphold.førTilDato"})},wr=(e,s,t,r,a)=>{const n=Mt(e,s,t,r,!1);if(n!==void 0)return n;if(a&&le(s).isBefore(a,"day"))return e.formatMessage({id:"valideringsfeil.utenlandsopphold.etterFraDato"})},cr=(e="")=>/\d{1,2}.\d{1,2}.(\d{2}|\d{4})$/.test(e),Er=(e,s,t)=>{if(!qt(e))return t.formatMessage({id:"valideringsfeil.omBarnet.fodselsdato.duMåOppgi"});if(!cr(e))return t.formatMessage({id:"invalidFormatErrorKey.fødselsdato"});if(!(!e||!s)&&Ht(e))return t.formatMessage({id:"valideringsfeil.omBarnet.fodselsdato.måVæreIdagEllerTidligere"})},mt=({goToPreviousStep:e,saveDataOnPreviousClick:s,nextButtonText:t,nextButtonOnClick:r})=>{const{getValues:a,formState:{dirtyFields:n}}=fe(),l=qe.useCallback(()=>{s&&Object.keys(n).length>0&&s(a()),e()},[n]);return re.jsx(Wt,{goToPreviousStep:l,nextButtonText:t,nextButtonOnClick:r})};try{mt.displayName="StepButtonsHookForm",mt.__docgenInfo={description:"",displayName:"StepButtonsHookForm",props:{goToPreviousStep:{defaultValue:null,description:"",name:"goToPreviousStep",required:!0,type:{name:"() => void"}},saveDataOnPreviousClick:{defaultValue:null,description:"",name:"saveDataOnPreviousClick",required:!1,type:{name:"((data: DATA_TYPE) => void)"}},nextButtonText:{defaultValue:null,description:"",name:"nextButtonText",required:!1,type:{name:"string"}},nextButtonOnClick:{defaultValue:null,description:"",name:"nextButtonOnClick",required:!1,type:{name:"(() => void)"}}}}}catch{}export{yt as E,gt as F,mt as S,fe as a,vr as b,Fr as c,Dr as d,wr as e,pr as f,Vr as g,xr as h,br as i,Sr as j,Er as k,cr as l,Ar as u,kr as v};
//# sourceMappingURL=StepButtonsHookForm-ef5a06d8.js.map
