{"version":3,"file":"SøkersituasjonSteg-06f4d500.js","sources":["../../src/steg/sokersituasjon/SøkersituasjonSteg.tsx"],"sourcesContent":["import { useCallback } from 'react';\nimport { Radio, VStack } from '@navikt/ds-react';\nimport { useForm } from 'react-hook-form';\nimport { FormattedMessage } from 'react-intl';\nimport { Step } from '@navikt/fp-common';\nimport { useCustomIntl } from '@navikt/fp-ui';\nimport { RadioGroup, Form, ErrorSummaryHookForm, StepButtonsHookForm } from '@navikt/fp-form-hooks';\nimport { isRequired } from '@navikt/fp-validation';\n\nimport { Søkersituasjon, SøkersituasjonEnum } from 'types/Søkersituasjon';\nimport useEsNavigator from 'appData/useEsNavigator';\nimport useStepData from 'appData/useStepData';\nimport { EsDataType, useEsStateData, useEsStateSaveFn } from 'appData/EsDataContext';\n\nconst SøkersituasjonSteg: React.FunctionComponent = () => {\n    const { i18n } = useCustomIntl();\n\n    const stepData = useStepData();\n    const navigator = useEsNavigator();\n\n    const søkersituasjon = useEsStateData(EsDataType.SØKERSITUASJON);\n    const lagreSøkersituasjon = useEsStateSaveFn(EsDataType.SØKERSITUASJON);\n    const lagreOmBarnet = useEsStateSaveFn(EsDataType.OM_BARNET);\n\n    const formMethods = useForm<Søkersituasjon>({\n        defaultValues: søkersituasjon,\n    });\n\n    const lagre = useCallback(\n        (formValues: Søkersituasjon) => {\n            lagreSøkersituasjon(formValues);\n            if (søkersituasjon && søkersituasjon.situasjon !== formValues.situasjon) {\n                lagreOmBarnet(undefined);\n            }\n            navigator.goToNextDefaultStep();\n        },\n        [lagreOmBarnet, lagreSøkersituasjon, navigator, søkersituasjon],\n    );\n\n    return (\n        <Step\n            bannerTitle={i18n('Søknad.Pageheading')}\n            pageTitle={i18n('SøkersituasjonSteg.Søkersituasjon')}\n            onCancel={navigator.avbrytSøknad}\n            steps={stepData.stepConfig}\n            activeStepId={stepData.activeStepId}\n            useNoTempSavingText\n        >\n            <Form formMethods={formMethods} onSubmit={lagre}>\n                <VStack gap=\"10\">\n                    <ErrorSummaryHookForm />\n                    <RadioGroup\n                        name=\"situasjon\"\n                        label={<FormattedMessage id=\"SøkersituasjonSteg.Situasjon\" />}\n                        validate={[isRequired(i18n('SøkersituasjonSteg.Validering.OppgiFodselEllerAdopsjon'))]}\n                    >\n                        <Radio value={SøkersituasjonEnum.FØDSEL}>\n                            <FormattedMessage id=\"SøkersituasjonSteg.Fødsel\" />\n                        </Radio>\n                        <Radio value={SøkersituasjonEnum.ADOPSJON}>\n                            <FormattedMessage id=\"SøkersituasjonSteg.Adopsjon\" />\n                        </Radio>\n                    </RadioGroup>\n                    <StepButtonsHookForm\n                        goToPreviousStep={navigator.goToPreviousDefaultStep}\n                        saveDataOnPreviousClick={lagreSøkersituasjon}\n                    />\n                </VStack>\n            </Form>\n        </Step>\n    );\n};\n\nexport default SøkersituasjonSteg;\n"],"names":["SøkersituasjonSteg","i18n","useCustomIntl","stepData","useStepData","navigator","useEsNavigator","søkersituasjon","useEsStateData","EsDataType","lagreSøkersituasjon","useEsStateSaveFn","lagreOmBarnet","formMethods","useForm","lagre","useCallback","formValues","jsx","Step","Form","jsxs","VStack","ErrorSummaryHookForm","RadioGroup","FormattedMessage","isRequired","Radio","SøkersituasjonEnum","StepButtonsHookForm","SøkersituasjonSteg$1"],"mappings":"uXAcA,MAAAA,EAAA,IAAA,CACI,KAAA,CAAA,KAAAC,GAAAC,IAEAC,EAAAC,IACAC,EAAAC,IAEAC,EAAAC,EAAAC,EAAA,cAAA,EACAC,EAAAC,EAAAF,EAAA,cAAA,EACAG,EAAAD,EAAAF,EAAA,SAAA,EAEAI,EAAAC,EAAA,CAA4C,cAAAP,CACzB,CAAA,EAGnBQ,EAAAC,EAAA,YAAcC,GAAA,CAENP,EAAAO,CAAA,EACAV,GAAAA,EAAA,YAAAU,EAAA,WACIL,EAAA,MAAA,EAEJP,EAAA,oBAAA,CAA8B,EAClC,CAAAO,EAAAF,EAAAL,EAAAE,CAAA,CAC8D,EAGlE,OAAAW,EAAA,IACIC,EAAC,CAAA,YAAAlB,EAAA,oBAAA,EACyC,UAAAA,EAAA,mCAAA,EACa,SAAAI,EAAA,aAC/B,MAAAF,EAAA,WACJ,aAAAA,EAAA,aACO,oBAAA,GACJ,SAAAe,EAAAA,IAAAE,EAAA,CAAA,YAAAP,EAAA,SAAAE,EAAA,SAAAM,EAAA,KAAAC,EAAA,CAAA,IAAA,KAAA,SAAA,CAIXJ,EAAA,IAAAK,EAAA,EAAA,EAAsBF,EAAA,KACtBG,EAAC,CAAA,KAAA,YACQ,MAAAN,EAAAA,IAAAO,EAAA,CAAA,GAAA,8BAAA,CAAA,EACsD,SAAA,CAAAC,EAAAzB,EAAA,wDAAA,CAAA,CAAA,EAC0B,SAAA,CAErFiB,EAAAA,IAAAS,EAAA,CAAA,MAAAC,EAAA,OAAA,SAAAV,EAAA,IAAAO,EAAA,CAAA,GAAA,2BAAA,CAAA,CAAA,CAAA,EAEAP,EAAAA,IAAAS,EAAA,CAAA,MAAAC,EAAA,SAAA,SAAAV,EAAA,IAAAO,EAAA,CAAA,GAAA,6BAAA,CAAA,CAAA,CAAA,CAGA,CAAA,CAAA,EACJP,EAAA,IACAW,EAAC,CAAA,iBAAAxB,EAAA,wBAC+B,wBAAAK,CACH,CAAA,CAC7B,CAAA,CAAA,CAAA,CAAA,CAER,CAAA,CAGZ,EAEAoB,EAAA9B"}