import{j as i,a as p}from"./jsx-runtime-2c139190.js";import{B as l,z as A,H as Be,a as J,Y as u,D as S,C as v,E as Y,G as Oe,J as ve,i as g,d as h,p as Te,K as De,t as Le,N as Re,x as Ae,y as te,n as Ie,b as Ue}from"./IntlProvider-3bd9c84e.js";import{r as M}from"./index-b14cf94f.js";import{E as ce,a as we,A as se,i as q}from"./AttachmentList-8d0b20f0.js";import{g as d}from"./i18nUtils-2b2b3c89.js";import{a as k}from"./dateUtils-ba8d4e8f.js";import{Q as xe,o as Fe,s as Me,U as Pe,g as je}from"./stepConfig-1bba0369.js";import{u as Ye}from"./useEngangsstønadContext-7e343957.js";import{u as qe,l as ne,L as Ge,c as He}from"./globals-f90f2410.js";import{P as We}from"./PageKeys-d7db1a78.js";const Ce=()=>{Ve(ce.LOGIN_URL+"?redirect="+window.location.origin)},Ve=t=>{window.location.href=t},w=we.create({baseURL:ce.REST_API_URL,withCredentials:!0});w.interceptors.request.use(t=>(t.withCredentials=!0,t.timeout=60*1e3,t));w.interceptors.response.use(t=>t,t=>{var e;return t.response&&t.response.status===401&&((e=t==null?void 0:t.config)!=null&&e.url)&&!t.config.url.includes("/soknad")&&Ce(),Promise.reject(t)});const $e=()=>w.get("/personinfo"),Ke=t=>w.post("/soknad",t,{headers:{"content-type":"application/json;"}}),Je={getPerson:$e,sendSøknad:Ke},T=({tittel:t,children:e})=>i(l,{children:i(A,{children:p(A.Item,{children:[i(A.Header,{children:i(Be,{level:"2",size:"small",children:t})}),i(A.Content,{children:e})]})})});try{T.displayName="Oppsummeringspunkt",T.__docgenInfo={description:"",displayName:"Oppsummeringspunkt",props:{tittel:{defaultValue:null,description:"",name:"tittel",required:!0,type:{name:"string"}}}}}catch{}const Qe=(t,e,s)=>e?`${t} ${e} ${s}`:`${t} ${s}`,G=({barn:t})=>{const e=J();let s;return t.antallBarn==="1"?s=d(e,"oppsummering.omBarnet.ettBarn"):t.antallBarn==="2"&&t.adopsjonAvEktefellesBarn===u.UNANSWERED?s=d(e,"oppsummering.omBarnet.tvillinger"):t.antallBarn==="2"&&t.adopsjonAvEktefellesBarn!==u.UNANSWERED?s=d(e,"oppsummering.omBarnet.toBarn"):s=d(e,"oppsummering.omBarnet.flereBarn",{antall:t.antallBarn}),p("div",{children:[i(l,{padBottom:"l",children:i(S,{label:d(e,"oppsummering.text.soknadenGjelder"),text:s})}),t.adopsjonAvEktefellesBarn!==u.UNANSWERED&&p("div",{children:[i(l,{padBottom:"l",children:i(S,{label:d(e,"oppsummering.text.medAdopsjonsdato"),text:k(t.adopsjonsdato)})}),p(l,{padBottom:"l",children:[i(v,{className:"textWithLabel__label",children:t.fødselsdatoer.length>1?d(e,"oppsummering.text.medFødselsdatoer"):d(e,"oppsummering.text.medFødselsdato")}),t.fødselsdatoer.map((n,r)=>i(l,{padBottom:"s",children:i(Y,{children:k(t.fødselsdatoer[r])})},Oe()))]})]}),t.adopsjonAvEktefellesBarn!==u.UNANSWERED&&p(l,{padBottom:"l",className:"oppsummering__attachments",children:[i(v,{className:"textWithLabel__label",children:d(e,"oppsummering.text.vedlagtOmsorgsovertakelseBekreftelse")}),i(se,{attachments:t.omsorgsovertakelse.filter(n=>!q(n))})]}),t.erBarnetFødt===u.YES&&i(l,{padBottom:"l",children:i(S,{label:d(e,"oppsummering.text.medFødselsdato"),text:k(t.fødselsdatoer[0])})}),t.erBarnetFødt===u.NO&&t.termindato&&t.terminbekreftelsedato&&p("div",{children:[i(l,{padBottom:"l",children:i(S,{label:d(e,"oppsummering.text.medTermindato"),text:k(t.termindato)})}),p(l,{padBottom:"l",className:"oppsummering__attachments",children:[i(v,{className:"textWithLabel__label",children:d(e,"oppsummering.text.vedlagtTerminbekreftelse")}),i(se,{attachments:t.terminbekreftelse.filter(n=>!q(n))})]}),i(l,{padBottom:"l",children:i(S,{label:d(e,"oppsummering.text.somErDatert"),text:k(t.terminbekreftelsedato)})})]})]})};try{G.displayName="OmBarnetOppsummering",G.__docgenInfo={description:"",displayName:"OmBarnetOppsummering",props:{barn:{defaultValue:null,description:"",name:"barn",required:!0,type:{name:"OmBarnetFormData"}}}}}catch{}const U=({utenlandsoppholdListe:t})=>i("ul",{className:"landOppsummering",children:t.map(e=>p("div",{style:{display:"flex",justifyContent:"space-between"},children:[i(Y,{children:ve.getName(e.landkode,"nb")}),p(Y,{children:[k(e.fom)," - ",k(e.tom)]})]},`${e.landkode}${e.fom}`))});try{U.displayName="LandOppsummering",U.__docgenInfo={description:"",displayName:"LandOppsummering",props:{utenlandsoppholdListe:{defaultValue:null,description:"",name:"utenlandsoppholdListe",required:!0,type:{name:"BostedUtland[]"}}}}}catch{}const re=(t,e,s)=>h(t).isBetween(h(e),h(s),"day","[]"),ie=(t,e)=>e.utenlandsoppholdSiste12Mnd.some(s=>re(t,s.fom,s.tom))||e.utenlandsoppholdNeste12Mnd.some(s=>re(t,s.fom,s.tom)),H=({barn:t,informasjonOmUtenlandsopphold:e})=>{const s=J();return p(l,{children:[e.harBoddUtenforNorgeSiste12Mnd===u.NO?i(l,{padBottom:"l",children:i(S,{label:d(s,"oppsummering.text.boddSisteTolv"),text:g(s,"norge")})}):p(l,{padBottom:"l",className:"textWithLabel",children:[i(v,{className:"textWithLabel__label",children:d(s,"oppsummering.text.boddSisteTolv")}),i(U,{utenlandsoppholdListe:e.utenlandsoppholdSiste12Mnd})]}),e.skalBoUtenforNorgeNeste12Mnd===u.NO?i(l,{padBottom:"l",children:i(S,{label:d(s,"oppsummering.text.neste12mnd"),text:d(s,"medlemmskap.radiobutton.boNorge")})}):p(l,{padBottom:"l",className:"textWithLabel",children:[i(v,{className:"textWithLabel__label",children:d(s,"oppsummering.text.neste12mnd")}),i(U,{utenlandsoppholdListe:e.utenlandsoppholdNeste12Mnd})]}),t.erBarnetFødt===u.NO&&i(l,{padBottom:"l",children:i(S,{label:d(s,"oppsummering.text.ogKommerPåFødselstidspunktet"),text:ie(t.termindato,e)?d(s,"medlemmskap.radiobutton.vareUtlandet"):d(s,"medlemmskap.radiobutton.vareNorge")})}),t.erBarnetFødt===u.YES&&i(l,{padBottom:"l",children:i(S,{label:d(s,"oppsummering.text.varPåFødselstidspunktet"),text:ie(t.fødselsdatoer[0],e)?d(s,"oppsummering.utenlandsopphold.iUtlandet"):d(s,"oppsummering.utenlandsopphold.iNorge")})})]})};try{H.displayName="UtenlandsoppholdOppsummering",H.__docgenInfo={description:"",displayName:"UtenlandsoppholdOppsummering",props:{barn:{defaultValue:null,description:"",name:"barn",required:!0,type:{name:"OmBarnetFormData"}},informasjonOmUtenlandsopphold:{defaultValue:null,description:"",name:"informasjonOmUtenlandsopphold",required:!0,type:{name:"UtenlandsoppholdFormData"}}}}}catch{}var Q=(t=>(t.oppgittKorrekteOpplysninger="oppgittKorrekteOpplysninger",t))(Q||{});const Xe={oppgittKorrekteOpplysninger:!1},P=Te(),Ze={[Q.oppgittKorrekteOpplysninger]:{isIncluded:()=>!0,isAnswered:({oppgittKorrekteOpplysninger:t})=>t===!0}},ze=xe(Ze),et=Object.prototype.toString;function tt(t,e){return et.call(t)===`[object ${e}]`}function ue(t){return tt(t,"Object")}function pe(t){return!!(t&&t.then&&typeof t.then=="function")}function I(t){return t&&t.Math==Math?t:void 0}const E=typeof globalThis=="object"&&I(globalThis)||typeof window=="object"&&I(window)||typeof self=="object"&&I(self)||typeof global=="object"&&I(global)||function(){return this}()||{};function st(){return E}function X(t,e,s){const n=s||E,r=n.__SENTRY__=n.__SENTRY__||{};return r[t]||(r[t]=e())}const nt="Sentry Logger ",W=["debug","info","warn","error","log","assert","trace"];function _e(t){if(!("console"in E))return t();const e=E.console,s={};W.forEach(n=>{const r=e[n]&&e[n].__sentry_original__;n in e&&r&&(s[n]=e[n],e[n]=r)});try{return t()}finally{Object.keys(s).forEach(n=>{e[n]=s[n]})}}function ae(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1}};return typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?W.forEach(s=>{e[s]=(...n)=>{t&&_e(()=>{E.console[s](`${nt}[${s}]:`,...n)})}}):W.forEach(s=>{e[s]=()=>{}}),e}let L;typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?L=X("logger",ae):L=ae();function rt(t){return C(t,new Map)}function C(t,e){if(ue(t)){const s=e.get(t);if(s!==void 0)return s;const n={};e.set(t,n);for(const r of Object.keys(t))typeof t[r]<"u"&&(n[r]=C(t[r],e));return n}if(Array.isArray(t)){const s=e.get(t);if(s!==void 0)return s;const n=[];return e.set(t,n),t.forEach(r=>{n.push(C(r,e))}),n}return t}function D(){const t=E,e=t.crypto||t.msCrypto;if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");const s=e&&e.getRandomValues?()=>e.getRandomValues(new Uint8Array(1))[0]:()=>Math.random()*16;return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,n=>(n^(s()&15)>>n/4).toString(16))}function it(t){return Array.isArray(t)?t:[t]}function at(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function me(){return!at()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function ot(t,e){return t.require(e)}var y;(function(t){t[t.PENDING=0]="PENDING";const s=1;t[t.RESOLVED=s]="RESOLVED";const n=2;t[t.REJECTED=n]="REJECTED"})(y||(y={}));class f{__init(){this._state=y.PENDING}__init2(){this._handlers=[]}constructor(e){f.prototype.__init.call(this),f.prototype.__init2.call(this),f.prototype.__init3.call(this),f.prototype.__init4.call(this),f.prototype.__init5.call(this),f.prototype.__init6.call(this);try{e(this._resolve,this._reject)}catch(s){this._reject(s)}}then(e,s){return new f((n,r)=>{this._handlers.push([!1,a=>{if(!e)n(a);else try{n(e(a))}catch(o){r(o)}},a=>{if(!s)r(a);else try{n(s(a))}catch(o){r(o)}}]),this._executeHandlers()})}catch(e){return this.then(s=>s,e)}finally(e){return new f((s,n)=>{let r,a;return this.then(o=>{a=!1,r=o,e&&e()},o=>{a=!0,r=o,e&&e()}).then(()=>{if(a){n(r);return}s(r)})})}__init3(){this._resolve=e=>{this._setResult(y.RESOLVED,e)}}__init4(){this._reject=e=>{this._setResult(y.REJECTED,e)}}__init5(){this._setResult=(e,s)=>{if(this._state===y.PENDING){if(pe(s)){s.then(this._resolve,this._reject);return}this._state=e,this._value=s,this._executeHandlers()}}}__init6(){this._executeHandlers=()=>{if(this._state===y.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(s=>{s[0]||(this._state===y.RESOLVED&&s[1](this._value),this._state===y.REJECTED&&s[2](this._value),s[0]=!0)})}}}const he=st(),V={nowSeconds:()=>Date.now()/1e3};function dt(){const{performance:t}=he;if(!t||!t.now)return;const e=Date.now()-t.now();return{now:()=>t.now(),timeOrigin:e}}function lt(){try{return ot(module,"perf_hooks").performance}catch{return}}const j=me()?lt():dt(),oe=j===void 0?V:{nowSeconds:()=>(j.timeOrigin+j.now())/1e3},ge=V.nowSeconds.bind(V),fe=oe.nowSeconds.bind(oe);(()=>{const{performance:t}=he;if(!t||!t.now)return;const e=3600*1e3,s=t.now(),n=Date.now(),r=t.timeOrigin?Math.abs(t.timeOrigin+s-n):e,a=r<e,o=t.timing&&t.timing.navigationStart,c=typeof o=="number"?Math.abs(o+s-n):e,m=c<e;return a||m?r<=c?t.timeOrigin:o:n})();const ct="production";function ut(t){const e=fe(),s={sid:D(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>_t(s)};return t&&x(s,t),s}function x(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||fe(),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:D()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const s=t.timestamp-t.started;t.duration=s>=0?s:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function pt(t,e){let s={};e?s={status:e}:t.status==="ok"&&(s={status:"exited"}),x(t,s)}function _t(t){return rt({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}const mt=100;class B{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(e){const s=new B;return e&&(s._breadcrumbs=[...e._breadcrumbs],s._tags={...e._tags},s._extra={...e._extra},s._contexts={...e._contexts},s._user=e._user,s._level=e._level,s._span=e._span,s._session=e._session,s._transactionName=e._transactionName,s._fingerprint=e._fingerprint,s._eventProcessors=[...e._eventProcessors],s._requestSession=e._requestSession,s._attachments=[...e._attachments],s._sdkProcessingMetadata={...e._sdkProcessingMetadata}),s}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&x(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,s){return this._tags={...this._tags,[e]:s},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,s){return this._extra={...this._extra,[e]:s},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,s){return s===null?delete this._contexts[e]:this._contexts[e]=s,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if(typeof e=="function"){const s=e(this);return s instanceof B?s:this}return e instanceof B?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):ue(e)&&(e=e,this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(e,s){const n=typeof s=="number"?s:mt;if(n<=0)return this;const r={timestamp:ge(),...e};return this._breadcrumbs=[...this._breadcrumbs,r].slice(-n),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,s={}){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};const n=this._span.transaction&&this._span.transaction.name;n&&(e.tags={transaction:n,...e.tags})}return this._applyFingerprint(e),e.breadcrumbs=[...e.breadcrumbs||[],...this._breadcrumbs],e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...ht(),...this._eventProcessors],e,s)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}_notifyEventProcessors(e,s,n,r=0){return new f((a,o)=>{const _=e[r];if(s===null||typeof _!="function")a(s);else{const c=_({...s},n);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_.id&&c===null&&L.log(`Event processor "${_.id}" dropped event`),pe(c)?c.then(m=>this._notifyEventProcessors(e,m,n,r+1).then(a)).then(null,o):this._notifyEventProcessors(e,c,n,r+1).then(a).then(null,o)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?it(e.fingerprint):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}function ht(){return X("globalEventProcessors",()=>[])}const Z=4,gt=100;class z{constructor(e,s=new B,n=Z){this._version=n,this._stack=[{scope:s}],e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){const s=this.getStackTop();s.client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=B.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){const s=this.pushScope();try{e(s)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,s){const n=this._lastEventId=s&&s.event_id?s.event_id:D(),r=new Error("Sentry syntheticException");return this._withClient((a,o)=>{a.captureException(e,{originalException:e,syntheticException:r,...s,event_id:n},o)}),n}captureMessage(e,s,n){const r=this._lastEventId=n&&n.event_id?n.event_id:D(),a=new Error(e);return this._withClient((o,_)=>{o.captureMessage(e,s,{originalException:e,syntheticException:a,...n,event_id:r},_)}),r}captureEvent(e,s){const n=s&&s.event_id?s.event_id:D();return e.type||(this._lastEventId=n),this._withClient((r,a)=>{r.captureEvent(e,{...s,event_id:n},a)}),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,s){const{scope:n,client:r}=this.getStackTop();if(!r)return;const{beforeBreadcrumb:a=null,maxBreadcrumbs:o=gt}=r.getOptions&&r.getOptions()||{};if(o<=0)return;const c={timestamp:ge(),...e},m=a?_e(()=>a(c,s)):c;m!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",m,s),n.addBreadcrumb(m,o))}setUser(e){this.getScope().setUser(e)}setTags(e){this.getScope().setTags(e)}setExtras(e){this.getScope().setExtras(e)}setTag(e,s){this.getScope().setTag(e,s)}setExtra(e,s){this.getScope().setExtra(e,s)}setContext(e,s){this.getScope().setContext(e,s)}configureScope(e){const{scope:s,client:n}=this.getStackTop();n&&e(s)}run(e){const s=de(this);try{e(this)}finally{de(s)}}getIntegration(e){const s=this.getClient();if(!s)return null;try{return s.getIntegration(e)}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&L.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,s){return this._callExtensionMethod("startTransaction",e,s)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const s=this.getStackTop().scope,n=s.getSession();n&&pt(n),this._sendSessionUpdate(),s.setSession()}startSession(e){const{scope:s,client:n}=this.getStackTop(),{release:r,environment:a=ct}=n&&n.getOptions()||{},{userAgent:o}=E.navigator||{},_=ut({release:r,environment:a,user:s.getUser(),...o&&{userAgent:o},...e}),c=s.getSession&&s.getSession();return c&&c.status==="ok"&&x(c,{status:"exited"}),this.endSession(),s.setSession(_),_}shouldSendDefaultPii(){const e=this.getClient(),s=e&&e.getOptions();return!!(s&&s.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:s}=this.getStackTop(),n=e.getSession();n&&s&&s.captureSession&&s.captureSession(n)}_withClient(e){const{scope:s,client:n}=this.getStackTop();n&&e(n,s)}_callExtensionMethod(e,...s){const r=F().__SENTRY__;if(r&&r.extensions&&typeof r.extensions[e]=="function")return r.extensions[e].apply(this,s);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&L.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function F(){return E.__SENTRY__=E.__SENTRY__||{extensions:{},hub:void 0},E}function de(t){const e=F(),s=b(e);return ee(e,t),s}function ft(){const t=F();return(!Se(t)||b(t).isOlderThan(Z))&&ee(t,new z),me()?St(t):b(t)}function St(t){try{const e=F().__SENTRY__,s=e&&e.extensions&&e.extensions.domain&&e.extensions.domain.active;if(!s)return b(t);if(!Se(s)||b(s).isOlderThan(Z)){const n=b(t).getStackTop();ee(s,new z(n.client,B.clone(n.scope)))}return b(s)}catch{return b(t)}}function Se(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function b(t){return X("hub",()=>new z,t)}function ee(t,e){if(!t)return!1;const s=t.__SENTRY__=t.__SENTRY__||{};return s.hub=e,!0}function Et(t,e){const s=typeof e=="string"?e:void 0,n=typeof e!="string"?{captureContext:e}:void 0;return ft().captureMessage(t,s,n)}h.extend(De);const yt="Det har oppstått et problem med innsending av søknaden. Vennligst prøv igjen senere. Hvis problemet vedvarer, kontakt oss og oppgi feil id: ",Ee="ukjent uuid",bt=t=>Array.isArray(t)&&t.some(e=>e.filename),Nt=t=>t.filter(e=>!q(e)),ye=t=>{const e=[];return Object.keys(t).forEach(s=>{typeof t[s]=="object"&&(bt(t[s])?(e.push(...Nt(t[s])),delete t[s]):e.push(...ye(t[s])))}),e},kt=t=>t.adopsjonAvEktefellesBarn!==u.UNANSWERED?{adopsjonAvEktefellesBarn:t.adopsjonAvEktefellesBarn===u.YES,søkerAdopsjonAlene:t.søkerAdopsjonAlene===u.YES,adopsjonsdato:h(t.adopsjonsdato).toDate(),antallBarn:parseInt(t.antallBarn,10),fødselsdatoer:t.fødselsdatoer.map(e=>h.utc(e).toDate())}:t.erBarnetFødt===u.YES?{antallBarn:parseInt(t.antallBarn,10),erBarnetFødt:!0,fødselsdatoer:[h.utc(t.fødselsdatoer[0]).toDate()]}:{antallBarn:parseInt(t.antallBarn,10),erBarnetFødt:!1,termindato:h.utc(t.termindato).toDate(),terminbekreftelseDato:h.utc(t.terminbekreftelsedato).toDate()},le=t=>t.map(e=>({land:e.landkode,tidsperiode:{fom:h.utc(e.fom).toDate(),tom:h.utc(e.tom).toDate()}})),Bt=t=>({senereOpphold:le(t.utenlandsoppholdNeste12Mnd),tidligereOpphold:le(t.utenlandsoppholdSiste12Mnd),iNorgeNeste12Mnd:t.skalBoUtenforNorgeNeste12Mnd===u.YES,iNorgeSiste12Mnd:t.harBoddUtenforNorgeSiste12Mnd===u.YES}),Ot=(t,e)=>{const{omBarnet:s,utenlandsopphold:n}=t.søknad,r=kt(s),a=Bt(n);return{barn:r,type:"engangsstønad",erEndringssøknad:!1,informasjonOmUtenlandsopphold:a,søker:{språkkode:e},vedlegg:ye(JSON.parse(JSON.stringify(t.søknad)))}},vt=t=>{const e=be(t)+". ",s=Tt(t)+". ",n=a=>a.replace(/\d/g,"*").slice(0,250)+"...";let r=e+s;t.request&&t.request.data&&t.request.data.messages?r=r+n(t.request.data.messages):t.response&&t.response.data&&t.response.data.messages&&(r=r+n(t.response.data.messages)),t.message&&(r=r+t.message),Et(r)},be=t=>t.response&&t.response.data&&t.response.data.uuid?t.response.data.uuid:Ee,Tt=t=>t.response&&t.response.data&&t.response.data.timestamp?t.response.data.timestamp:"",$=({søkerNavn:t,søkerFnr:e})=>i("div",{children:i(l,{padBottom:"l",children:i(S,{label:t,text:e})})});try{$.displayName="OmDegOppsummering",$.__docgenInfo={description:"",displayName:"OmDegOppsummering",props:{søkerNavn:{defaultValue:null,description:"",name:"søkerNavn",required:!0,type:{name:"string"}},søkerFnr:{defaultValue:null,description:"",name:"søkerFnr",required:!0,type:{name:"string"}}}}}catch{}const K=({person:t,locale:e})=>{const s=J(),n=Ue("oppsummering"),{state:r,dispatch:a}=Ye(),o=qe(),[_,c]=M.useState(!1),[m,Ne]=M.useState(void 0);ne("sidevisning",{app:"engangsstonadny",team:"foreldrepenger",pageKey:We.Oppsummering});const ke=async()=>{const N=Ot(r,e);c(!0);try{Je.sendSøknad(N).then(R=>{a(He.setKvittering(R.data)),o("/kvittering"),c(!1)}),ne("skjema fullført",{app:"engangsstonadny",team:"foreldrepenger"})}catch(O){Ne(O)}};return M.useEffect(()=>{if(m!==void 0){vt(m);const N=be(m),O=N!==Ee?N.slice(0,8):N;throw new Error(yt+O)}},[m]),i(P.FormikWrapper,{initialValues:Xe,onSubmit:()=>ke(),renderForm:({values:N})=>{const R=ze.getVisbility(N).areAllQuestionsAnswered();return i(Le,{bannerTitle:g(s,"søknad.pageheading"),activeStepId:"oppsummering",pageTitle:g(s,"søknad.oppsummering"),onCancel:()=>Fe(a,o),steps:Me,children:p(P.Form,{includeButtons:!1,noButtonsContentRenderer:R?void 0:()=>i(Pe,{children:g(s,"søknad.footer.spørsmålMåBesvares")}),children:[i(l,{padBottom:"l",children:i(Re,{children:g(s,"oppsummering.text.lesNoye")})}),p("div",{className:n.block,children:[i(T,{tittel:g(s,"søknad.omDeg"),children:i($,{søkerNavn:Qe(t.fornavn,t.mellomnavn,t.etternavn),søkerFnr:t.fnr})}),i(T,{tittel:g(s,"søknad.omBarnet"),children:i(G,{barn:r.søknad.omBarnet})}),i(T,{tittel:g(s,"søknad.utenlandsopphold"),children:i(H,{barn:r.søknad.omBarnet,informasjonOmUtenlandsopphold:r.søknad.utenlandsopphold})})]}),i(l,{margin:"xl",children:i(P.ConfirmationCheckbox,{name:Q.oppgittKorrekteOpplysninger,label:g(s,"oppsummering.text.samtykke")})}),i(l,{margin:"xl",children:p(Ae,{children:[i(te,{variant:"secondary",as:Ge,to:je("oppsummering"),children:i(Ie,{id:"backlink.label"})}),R&&i(te,{type:"submit",disabled:_,loading:_,children:g(s,"oppsummering.button.sendSøknad")})]})})]})})}})},Pt=K;try{K.displayName="Oppsummering",K.__docgenInfo={description:"",displayName:"Oppsummering",props:{person:{defaultValue:null,description:"",name:"person",required:!0,type:{name:"Person"}},locale:{defaultValue:null,description:"",name:"locale",required:!0,type:{name:"enum",value:[{value:'"nb"'},{value:'"nn"'},{value:'"en"'}]}}}}}catch{}export{Je as A,Pt as O,w as f};
//# sourceMappingURL=Oppsummering-3ab8d6a9.js.map
