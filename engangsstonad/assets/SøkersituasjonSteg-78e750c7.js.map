{"version":3,"file":"SøkersituasjonSteg-78e750c7.js","sources":["../../src/steg/sokersituasjon/SøkersituasjonSteg.tsx"],"sourcesContent":["import { Radio, VStack } from '@navikt/ds-react';\nimport { useForm } from 'react-hook-form';\nimport { FormattedMessage } from 'react-intl';\nimport { Step } from '@navikt/fp-common';\nimport { useCustomIntl } from '@navikt/fp-ui';\nimport { RadioGroup, Form, ErrorSummaryHookForm, StepButtonsHookForm } from '@navikt/fp-form-hooks';\nimport { isRequired } from '@navikt/fp-validation';\n\nimport useEsNavigator from 'appData/useEsNavigator';\nimport useStepConfig from 'appData/useStepConfig';\nimport { EsDataType, useEsStateData, useEsStateSaveFn } from 'appData/EsDataContext';\nimport { Søkersituasjon } from '@navikt/fp-types';\n\nconst SøkersituasjonSteg: React.FunctionComponent = () => {\n    const { i18n } = useCustomIntl();\n\n    const stepConfig = useStepConfig();\n    const navigator = useEsNavigator();\n\n    const søkersituasjon = useEsStateData(EsDataType.SØKERSITUASJON);\n    const lagreSøkersituasjon = useEsStateSaveFn(EsDataType.SØKERSITUASJON);\n    const lagreOmBarnet = useEsStateSaveFn(EsDataType.OM_BARNET);\n\n    const formMethods = useForm<Søkersituasjon>({\n        defaultValues: søkersituasjon,\n    });\n\n    const lagre = (formValues: Søkersituasjon) => {\n        lagreSøkersituasjon(formValues);\n        if (søkersituasjon && søkersituasjon.situasjon !== formValues.situasjon) {\n            lagreOmBarnet(undefined);\n        }\n        navigator.goToNextDefaultStep();\n    };\n\n    return (\n        <Step\n            bannerTitle={i18n('Søknad.Pageheading')}\n            onCancel={navigator.avbrytSøknad}\n            steps={stepConfig}\n            useNoTempSavingText\n        >\n            <Form formMethods={formMethods} onSubmit={lagre}>\n                <VStack gap=\"10\">\n                    <ErrorSummaryHookForm />\n                    <RadioGroup\n                        name=\"situasjon\"\n                        label={<FormattedMessage id=\"SøkersituasjonSteg.Situasjon\" />}\n                        validate={[isRequired(i18n('SøkersituasjonSteg.Validering.OppgiFodselEllerAdopsjon'))]}\n                    >\n                        <Radio value=\"fødsel\">\n                            <FormattedMessage id=\"SøkersituasjonSteg.Fødsel\" />\n                        </Radio>\n                        <Radio value=\"adopsjon\">\n                            <FormattedMessage id=\"SøkersituasjonSteg.Adopsjon\" />\n                        </Radio>\n                    </RadioGroup>\n                    <StepButtonsHookForm\n                        goToPreviousStep={navigator.goToPreviousDefaultStep}\n                        saveDataOnPreviousClick={lagreSøkersituasjon}\n                    />\n                </VStack>\n            </Form>\n        </Step>\n    );\n};\n\nexport default SøkersituasjonSteg;\n"],"names":["SøkersituasjonSteg","i18n","useCustomIntl","stepConfig","useStepConfig","navigator","useEsNavigator","søkersituasjon","useEsStateData","EsDataType","lagreSøkersituasjon","useEsStateSaveFn","lagreOmBarnet","formMethods","useForm","lagre","formValues","jsx","Step","Form","jsxs","VStack","ErrorSummaryHookForm","RadioGroup","FormattedMessage","isRequired","Radio","StepButtonsHookForm","SøkersituasjonSteg$1"],"mappings":"+TAaA,MAAAA,EAAA,IAAA,CACI,KAAA,CAAA,KAAAC,GAAAC,IAEAC,EAAAC,IACAC,EAAAC,IAEAC,EAAAC,EAAAC,EAAA,cAAA,EACAC,EAAAC,EAAAF,EAAA,cAAA,EACAG,EAAAD,EAAAF,EAAA,SAAA,EAEAI,EAAAC,EAAA,CAA4C,cAAAP,CACzB,CAAA,EAGnBQ,EAAAC,GAAA,CACIN,EAAAM,CAAA,EACAT,GAAAA,EAAA,YAAAS,EAAA,WACIJ,EAAA,MAAA,EAEJP,EAAA,oBAAA,CAA8B,EAGlC,OAAAY,EAAA,IACIC,EAAC,CAAA,YAAAjB,EAAA,oBAAA,EACyC,SAAAI,EAAA,aAClB,MAAAF,EACb,oBAAA,GACY,SAAAc,EAAAA,IAAAE,EAAA,CAAA,YAAAN,EAAA,SAAAE,EAAA,SAAAK,EAAA,KAAAC,EAAA,CAAA,IAAA,KAAA,SAAA,CAIXJ,EAAA,IAAAK,EAAA,EAAA,EAAsBF,EAAA,KACtBG,EAAC,CAAA,KAAA,YACQ,MAAAN,EAAAA,IAAAO,EAAA,CAAA,GAAA,8BAAA,CAAA,EACsD,SAAA,CAAAC,EAAAxB,EAAA,wDAAA,CAAA,CAAA,EAC0B,SAAA,CAErFgB,EAAAA,IAAAS,EAAA,CAAA,MAAA,SAAA,SAAAT,MAAAO,EAAA,CAAA,GAAA,2BAAA,CAAA,CAAA,CAAA,EAEAP,EAAAA,IAAAS,EAAA,CAAA,MAAA,WAAA,SAAAT,MAAAO,EAAA,CAAA,GAAA,6BAAA,CAAA,CAAA,CAAA,CAGA,CAAA,CAAA,EACJP,EAAA,IACAU,EAAC,CAAA,iBAAAtB,EAAA,wBAC+B,wBAAAK,CACH,CAAA,CAC7B,CAAA,CAAA,CAAA,CAAA,CAER,CAAA,CAGZ,EAEAkB,EAAA5B"}