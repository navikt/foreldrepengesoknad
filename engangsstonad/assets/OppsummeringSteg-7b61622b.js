import{e as B,o as ee,f as D,C as ne,H as K,j as t,m as V,B as i,F as c,d as S,S as te}from"./fridagerUtils-d98855ba.js";import{r as l,R as g}from"./index-f1f2c4b1.js";import"./_baseToString-b5f87fbe.js";import"./_createSet-915b0824.js";import{e as re,b as G,c as W}from"./OmBarnet-548abc28.js";import{u as C,V as x,H as f,x as h,J as U,n as _,K as $,L as H,N as se,a as ae,b as oe,c as j,C as y,S as ie}from"./useEsNavigator-1c763104.js";import{C as le}from"./ConfirmationPanel-8a434338.js";const de=()=>{const e=l.useRef(new AbortController);return l.useEffect(()=>()=>{e.current.abort()},[]),e.current.signal};var ce=(e=>(e.MANN="M",e.KVINNE="K",e))(ce||{});const M=l.createContext({headingSize:"small",size:"medium",openItems:[],mounted:!1});var me=globalThis&&globalThis.__rest||function(e,a){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)a.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const F=l.createContext(null),pe=l.forwardRef((e,a)=>{var{children:r,className:n,open:s,defaultOpen:o=!1}=e,d=me(e,["children","className","open","defaultOpen"]);const[m,p]=l.useState(o),u=l.useContext(M),[T,A]=l.useState(o),O=l.useRef(!(s||o)),P=()=>{if(s===void 0){const b=!T;A(b),p(b)}else p(!s);O.current=!0};return u!=null&&u.mounted||console.error("<Accordion.Item> has to be used within an <Accordion>"),g.createElement("div",Object.assign({className:B("navds-accordion__item",n,{"navds-accordion__item--open":s??m,"navds-accordion__item--neutral":(u==null?void 0:u.variant)==="neutral","navds-accordion__item--no-animation":!O.current}),ref:a},ee(d,["onClick"])),g.createElement(F.Provider,{value:{open:s??m,toggleOpen:P}},r))}),ue=pe;var ge=globalThis&&globalThis.__rest||function(e,a){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)a.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const fe=l.forwardRef((e,a)=>{var{children:r,className:n}=e,s=ge(e,["children","className"]);const o=l.useContext(F);return o===null?(console.error("<Accordion.Content> has to be used within an <Accordion.Item>"),null):g.createElement(D,Object.assign({},s,{as:"div",ref:a,className:B("navds-accordion__content",{"navds-accordion__content--closed":!o.open},n),"aria-hidden":!o.open||void 0}),r)}),Oe=fe;var he=globalThis&&globalThis.__rest||function(e,a){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)a.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const xe=l.forwardRef((e,a)=>{var r,{children:n,className:s,onClick:o}=e,d=he(e,["children","className","onClick"]);const m=l.useContext(F),p=l.useContext(M);return m===null?(console.error("<Accordion.Header> has to be used within an <Accordion.Item>, which in turn must be within an <Accordion>"),null):g.createElement("button",Object.assign({ref:a},d,{className:B("navds-accordion__header",s),onClick:u=>{m.toggleOpen(),o&&o(u)},"aria-expanded":m.open,type:"button"}),g.createElement("span",{className:"navds-accordion__icon-wrapper"},g.createElement(ne,{className:"navds-accordion__header-chevron",title:"Vis mer","aria-hidden":!0})),g.createElement(K,{size:(r=p==null?void 0:p.headingSize)!==null&&r!==void 0?r:"small",as:"span",className:"navds-accordion__header-content"},n))}),je=xe;var ye=globalThis&&globalThis.__rest||function(e,a){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)a.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const E=l.forwardRef((e,a)=>{var{className:r,variant:n="default",headingSize:s="small",size:o="medium",indent:d=!0}=e,m=ye(e,["className","variant","headingSize","size","indent"]);return g.createElement(M.Provider,{value:{variant:n,headingSize:s,size:o,mounted:!0}},g.createElement("div",Object.assign({},m,{className:B("navds-accordion",r,`navds-accordion--${o}`,{"navds-accordion--indent":d}),ref:a})))});E.Header=je;E.Content=Oe;E.Item=ue;const N=E;const v=({tittel:e,children:a})=>{const[r,n]=l.useState(!1);return t.jsxs(N.Item,{children:[t.jsx(N.Header,{className:r?V("accordian_header").block:void 0,onClick:()=>n(s=>!s),children:t.jsx(K,{level:"3",size:"small",children:e})}),t.jsx(N.Content,{children:t.jsx("div",{className:V("content_margin").block,children:a})})]})};try{v.displayName="Oppsummeringspunkt",v.__docgenInfo={description:"",displayName:"Oppsummeringspunkt",props:{tittel:{defaultValue:null,description:"",name:"tittel",required:!0,type:{name:"string"}}}}}catch{}const ve=e=>!!e.terminbekreftelsedato,I=({omBarnet:e,dokumentasjon:a})=>{const{i18n:r}=C(),n=re(e),s=G(e),o=W(e);let d;return e.antallBarn===1?d=r("OmBarnetOppsummering.EttBarn"):e.antallBarn===2&&!n?d=r("OmBarnetOppsummering.Tvillinger"):e.antallBarn===2&&n?d=r("OmBarnetOppsummering.ToBarn"):d=r("OmBarnetOppsummering.FlereBarn",{antall:e.antallBarn}),t.jsxs(x,{gap:"4",children:[t.jsxs(f,{gap:"2",children:[t.jsx(i,{children:t.jsx(c,{id:"OmBarnetOppsummering.SoknadenGjelder"})}),t.jsx(i,{children:d})]}),n&&t.jsxs(t.Fragment,{children:[t.jsxs(f,{gap:"2",children:[t.jsx(i,{children:t.jsx(c,{id:"OmBarnetOppsummering.MedAdopsjonsdato"})}),t.jsx(i,{children:h(e.adopsjonsdato)})]}),t.jsxs(f,{gap:"2",children:[t.jsx(i,{children:e.fødselsdatoer.length>1?r("OmBarnetOppsummering.MedFødselsdatoer"):r("OmBarnetOppsummering.MedFødselsdato")}),t.jsx(D,{children:e.fødselsdatoer.map((m,p)=>h(e.fødselsdatoer[p].dato)).join(", ")})]}),t.jsx(i,{style:{fontWeight:"bold"},children:t.jsx(c,{id:"OmBarnetOppsummering.VedlagtOmsorgsovertakelseBekreftelse"})}),t.jsx(U,{attachments:_(a).vedlegg})]}),o&&t.jsxs(f,{gap:"2",children:[t.jsx(i,{children:t.jsx(c,{id:"OmBarnetOppsummering.MedFødselsdato"})}),t.jsx(i,{children:h(e.fødselsdato)})]}),s&&a&&ve(a)&&t.jsxs(t.Fragment,{children:[t.jsxs(f,{gap:"2",children:[t.jsx(i,{children:t.jsx(c,{id:"OmBarnetOppsummering.MedTermindato"})}),t.jsx(i,{children:h(e.termindato)})]}),t.jsxs(f,{gap:"2",children:[t.jsx(i,{children:t.jsx(c,{id:"OmBarnetOppsummering.SomErDatert"})}),t.jsx(i,{children:h(a.terminbekreftelsedato)})]}),t.jsx(i,{style:{fontWeight:"bold"},children:t.jsx(c,{id:"OmBarnetOppsummering.VedlagtTerminbekreftelse"})}),t.jsx(U,{attachments:a.vedlegg})]})]})};try{I.displayName="OmBarnetOppsummering",I.__docgenInfo={description:"",displayName:"OmBarnetOppsummering",props:{omBarnet:{defaultValue:null,description:"",name:"omBarnet",required:!0,type:{name:"OmBarnet"}},dokumentasjon:{defaultValue:null,description:"",name:"dokumentasjon",required:!1,type:{name:"Dokumentasjon"}}}}}catch{}const R=(e,a)=>se(e)?a("LandOppsummering.IDag"):h(e),_e=(e,a)=>S(e.fom).isAfter(a.fom,"day")?1:0,k=({utenlandsoppholdListe:e})=>{const{i18n:a}=C();return t.jsx(t.Fragment,{children:e.sort(_e).map(r=>t.jsx("div",{style:{backgroundColor:"var(--a-blue-100)",padding:"16px",borderRadius:"2px"},children:t.jsxs(x,{gap:"1",children:[t.jsxs(i,{style:{fontWeight:"bold"},children:[$(r.fom)&&t.jsx(c,{id:"LandOppsummering.HarBodd",values:{country:H.getName(r.landkode,"nb")}}),!$(r.fom)&&t.jsx(c,{id:"LandOppsummering.SkalBo",values:{country:H.getName(r.landkode,"nb")}})]}),t.jsxs(D,{children:[R(r.fom,a)," - ",R(r.tom,a)]})]})},`${r.landkode}${r.fom}`))})};try{k.displayName="LandOppsummering",k.__docgenInfo={description:"",displayName:"LandOppsummering",props:{utenlandsoppholdListe:{defaultValue:null,description:"",name:"utenlandsoppholdListe",required:!0,type:{name:"UtenlandsoppholdPeriode[]"}}}}}catch{}const q=(e,a,r)=>S(e).isBetween(S(a),S(r),"day","[]"),z=(e,a=[],r=[])=>a.some(n=>q(e,n.fom,n.tom))||r.some(n=>q(e,n.fom,n.tom)),w=({omBarnet:e,utenlandsopphold:a,tidligereUtenlandsopphold:r,senereUtenlandsopphold:n})=>{const{i18n:s}=C(),o=G(e),d=W(e);return t.jsxs(x,{gap:"5",children:[t.jsxs(x,{gap:"2",children:[a.harBoddUtenforNorgeSiste12Mnd&&t.jsx(k,{utenlandsoppholdListe:_(r).utenlandsoppholdSiste12Mnd}),a.skalBoUtenforNorgeNeste12Mnd&&t.jsx(k,{utenlandsoppholdListe:_(n).utenlandsoppholdNeste12Mnd})]}),a.harBoddUtenforNorgeSiste12Mnd===!1&&t.jsx(i,{children:t.jsx(c,{id:"UtenlandsoppholdOppsummering.BoddSisteTolv",values:{country:s("UtenlandsoppholdOppsummering.Norge")}})}),a.skalBoUtenforNorgeNeste12Mnd===!1&&t.jsx(i,{children:t.jsx(c,{id:"UtenlandsoppholdOppsummering.BoNesteTolv",values:{country:s("UtenlandsoppholdOppsummering.Norge")}})}),o&&t.jsx(f,{gap:"2",children:t.jsx(i,{children:t.jsx(c,{id:"UtenlandsoppholdOppsummering.Text.OgKommerPåFødselstidspunktet",values:{country:z(e.termindato,r==null?void 0:r.utenlandsoppholdSiste12Mnd,n==null?void 0:n.utenlandsoppholdNeste12Mnd)?s("UtenlandsoppholdOppsummering.Utlandet"):s("UtenlandsoppholdOppsummering.Norge")}})})}),d&&t.jsx(i,{children:t.jsx(c,{id:"UtenlandsoppholdOppsummering.VarPåFødselstidspunktet",values:{country:z(e.fødselsdato,r==null?void 0:r.utenlandsoppholdSiste12Mnd,n==null?void 0:n.utenlandsoppholdNeste12Mnd)?s("UtenlandsoppholdOppsummering.Utlandet"):s("UtenlandsoppholdOppsummering.Norge")}})})]})};try{w.displayName="UtenlandsoppholdOppsummering",w.__docgenInfo={description:"",displayName:"UtenlandsoppholdOppsummering",props:{omBarnet:{defaultValue:null,description:"",name:"omBarnet",required:!0,type:{name:"OmBarnet"}},utenlandsopphold:{defaultValue:null,description:"",name:"utenlandsopphold",required:!0,type:{name:"Utenlandsopphold"}},tidligereUtenlandsopphold:{defaultValue:null,description:"",name:"tidligereUtenlandsopphold",required:!1,type:{name:"UtenlandsoppholdTidligere"}},senereUtenlandsopphold:{defaultValue:null,description:"",name:"senereUtenlandsopphold",required:!1,type:{name:"UtenlandsoppholdSenere"}}}}}catch{}const be=(e,a,r)=>r?`${e} ${r} ${a}`:`${e} ${a}`,L=({person:e,sendSøknad:a,mellomlagreOgNaviger:r})=>{const{i18n:n}=C(),s=ae(),o=oe(r),d=_(j(y.OM_BARNET)),m=_(j(y.UTENLANDSOPPHOLD)),p=j(y.DOKUMENTASJON),u=j(y.UTENLANDSOPPHOLD_TIDLIGERE),T=j(y.UTENLANDSOPPHOLD_SENERE),A=de(),[O,P]=l.useState(!1),[b,J]=l.useState(!1),[Q,X]=l.useState(!1),Y=()=>{O?(J(!0),a(A)):X(!0)};return t.jsx(te,{bannerTitle:n("Søknad.Pageheading"),onCancel:o.avbrytSøknad,onContinueLater:o.fortsettSøknadSenere,steps:s,children:t.jsxs(x,{gap:"10",children:[t.jsxs(N,{indent:!1,children:[t.jsx(v,{tittel:n("OppsummeringSteg.OmDeg"),children:t.jsxs(x,{gap:"4",children:[t.jsx(i,{children:be(e.fornavn,e.etternavn,e.mellomnavn)}),t.jsx(i,{children:e.fnr})]})}),t.jsx(v,{tittel:n("OppsummeringSteg.OmBarnet"),children:t.jsx(I,{omBarnet:d,dokumentasjon:p})}),t.jsx(v,{tittel:n("OppsummeringSteg.Utenlandsopphold"),children:t.jsx(w,{omBarnet:d,utenlandsopphold:m,tidligereUtenlandsopphold:u,senereUtenlandsopphold:T})})]}),t.jsx(le,{label:n("OppsummeringSteg.Samtykke"),onChange:()=>P(Z=>!Z),checked:O,error:Q&&!O&&n("OppsummeringSteg.Validering.BekrefteOpplysninger")}),t.jsx(ie,{goToPreviousStep:o.goToPreviousDefaultStep,nextButtonText:n("OppsummeringSteg.Button.SendSøknad"),nextButtonOnClick:Y,isDisabledAndLoading:b})]})})},Ae=L;try{L.displayName="OppsummeringSteg",L.__docgenInfo={description:"",displayName:"OppsummeringSteg",props:{person:{defaultValue:null,description:"",name:"person",required:!0,type:{name:"Person"}},sendSøknad:{defaultValue:null,description:"",name:"sendSøknad",required:!0,type:{name:"(abortSignal: AbortSignal) => Promise<void>"}},mellomlagreOgNaviger:{defaultValue:null,description:"",name:"mellomlagreOgNaviger",required:!0,type:{name:"() => Promise<void>"}}}}}catch{}export{ce as K,Ae as O,ve as e};
