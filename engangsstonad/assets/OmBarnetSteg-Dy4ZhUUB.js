import{f as h,W as S,a5 as R,r as N,j as e,V as T,X as A,Y as i,Z as v,z as j,_ as b,a6 as x,a7 as d,M as n,a8 as I,a9 as y,aa as q,ab as w,ac as _,$ as C,S as K,a0 as U,a1 as L,a2 as G,a4 as J}from"./iframe-CbHNMqDG.js";import{i as H,j as V,k as B,C as f,l as D,n as $,P as M}from"./useEsNavigator-DGXzrGxy.js";const z=(a,s)=>{const o={...a};return delete o[s],o},k=({adopsjonsdato:a,antallBarn:s,antallBarnDropDown:o})=>{const t=h(),{control:l}=S(),{fields:r,remove:m,append:c}=R({control:l,name:"fødselsdatoer"});return N.useEffect(()=>{if(!s||s===3&&!o)return;const u=s<3||!o?s:Number.parseInt(o,10),p=r.length-u;p>0&&[...new Array(p)].forEach((g,P)=>{m(r.length-P-1)}),p<0&&[...new Array(u-r.length)].forEach(()=>{c({dato:void 0})})},[s,o,c,r.length,m]),e.jsx(T,{gap:"space-40",children:r.map((u,p)=>e.jsx(A,{name:`fødselsdatoer.${p}.dato`,control:l,minDate:j().subtract(15,"year").toDate(),maxDate:j().toDate(),useStrategyAbsolute:!0,label:r.length===1?t.formatMessage({id:"AdopsjonFodselFieldArray.Fødselsdato"}):t.formatMessage({id:`AdopsjonFodselFieldArray.Spørsmål.Fødselsdato.${p+1}`}),validate:[i(t.formatMessage({id:"AdopsjonFodselFieldArray.Fodselsdato.DuMåOppgi"})),v(t.formatMessage({id:"AdopsjonFodselFieldArray.Fødselsdato.Gyldig"})),g=>!g||!a?null:b(t.formatMessage({id:"AdopsjonFodselFieldArray.fodselsdato.MåVæreIdagEllerTidligere"}))(g)]},u.id))})};k.__docgenInfo={description:"",methods:[],displayName:"AdopsjonFodselFieldArray",props:{antallBarn:{required:!1,tsType:{name:"number"},description:""},antallBarnDropDown:{required:!1,tsType:{name:"string"},description:""},adopsjonsdato:{required:!1,tsType:{name:"string"},description:""}}};const O=({kjønn:a})=>{const s=h(),{watch:o,control:t}=S(),{adopsjonAvEktefellesBarn:l,adopsjonsdato:r,antallBarn:m,antallBarnDropDown:c}=o();return e.jsxs(e.Fragment,{children:[e.jsxs(x,{name:"adopsjonAvEktefellesBarn",control:t,label:e.jsx(n,{id:"AdopsjonPanel.Spørsmål.Stebarnsadopsjon"}),validate:[i(s.formatMessage({id:"AdopsjonPanel.Spørsmål.Required"}))],children:[e.jsx(d,{value:!0,children:e.jsx(n,{id:"AdopsjonPanel.Ja"})}),e.jsx(d,{value:!1,children:e.jsx(n,{id:"AdopsjonPanel.Nei"})})]}),e.jsx(A,{name:"adopsjonsdato",control:t,label:l?s.formatMessage({id:"AdopsjonPanel.Spørsmål.Stebarnsadopsjondato"}):s.formatMessage({id:"AdopsjonPanel.Spørsmål.Overtaomsorgdato"}),minDate:j().subtract(6,"month").toDate(),validate:[i(l?s.formatMessage({id:"AdopsjonPanel.EktefellensBarn.DuMåOppgi"}):s.formatMessage({id:"AdopsjonPanel.OvertaOmsorg.DuMåOppgi"})),v(l?s.formatMessage({id:"AdopsjonPanel.Adopsjonsdato.GyldigFormat"}):s.formatMessage({id:"AdopsjonPanel.Omsorgsovertakelsen.GyldigFormat"})),I(s.formatMessage({id:"AdopsjonPanel.AdopsjonDato.ForLangtFremITid"}))]}),e.jsxs(x,{name:"antallBarn",control:t,label:e.jsx(n,{id:"AdopsjonPanel.Spørsmål.AntallBarnAdoptert"}),description:e.jsx(n,{id:"AdopsjonPanel.Spørsmål.AntallBarnAdoptert.Beskrivelse"}),validate:[i(s.formatMessage({id:"AdopsjonPanel.Antallbarn.Required"}))],children:[e.jsx(d,{value:1,children:e.jsx(n,{id:"AdopsjonPanel.Radiobutton.Ettbarn"})}),e.jsx(d,{value:2,children:e.jsx(n,{id:"AdopsjonPanel.Radiobutton.ToBarn"})}),e.jsx(d,{value:3,children:e.jsx(n,{id:"AdopsjonPanel.Radiobutton.Flere"})})]}),m&&m>=3&&e.jsxs(y,{name:"antallBarnDropDown",control:t,label:e.jsx(n,{id:"AdopsjonPanel.AntallBarn.Omsorgsovertakelse"}),validate:[i(s.formatMessage({id:"AdopsjonPanel.Antallbarndropdown.Required"}))],children:[e.jsx("option",{value:"3",children:"3"}),e.jsx("option",{value:"4",children:"4"}),e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"6",children:"6"}),e.jsx("option",{value:"7",children:"7"}),e.jsx("option",{value:"8",children:"8"}),e.jsx("option",{value:"9",children:"9"})]}),e.jsx(k,{adopsjonsdato:r,antallBarn:m,antallBarnDropDown:c}),a==="M"&&l===!1&&e.jsxs(x,{name:"søkerAdopsjonAlene",control:t,label:e.jsx(n,{id:"AdopsjonPanel.Spørsmål.AdoptererDuAlene"}),validate:[i(s.formatMessage({id:"AdopsjonPanel.AdoptererDuAlene.Required"}))],children:[e.jsx(d,{value:!0,children:e.jsx(n,{id:"AdopsjonPanel.Ja"})}),e.jsx(d,{value:!1,children:e.jsx(n,{id:"AdopsjonPanel.Nei"})})]})]})};O.__docgenInfo={description:"",methods:[],displayName:"AdopsjonPanel",props:{kjønn:{required:!0,tsType:{name:"union",raw:"'M' | 'K' | 'U'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"},{name:"literal",value:"'U'"}]},description:""}}};const E=()=>{const a=h(),{watch:s,control:o}=S(),t=s("erBarnetFødt"),l=s("antallBarn"),r=s("fødselsdato");return e.jsxs(e.Fragment,{children:[e.jsxs(x,{name:"erBarnetFødt",control:o,label:e.jsx(n,{id:"FødselPanel.Spørsmål.ErBarnetFødt"}),validate:[i(a.formatMessage({id:"FødselPanel.Spørsmål.ErBarnetFødt.Required"}))],children:[e.jsx(d,{value:!0,children:e.jsx(n,{id:"FødselPanel.Radiobutton.Ja"})}),e.jsx(d,{value:!1,children:e.jsx(n,{id:"FødselPanel.Radiobutton.Nei"})})]}),e.jsx(A,{name:"termindato",control:o,label:e.jsx(n,{id:"FødselPanel.Termindato"}),description:a.formatMessage({id:"FødselPanel.TermindatoFodselsdato.beskrivelse"}),minDate:j(r).subtract(3,"week").toDate(),maxDate:j().add(18,"weeks").add(3,"days").toDate(),validate:[i(a.formatMessage({id:"FødselPanel.Termindato.DuMåOppgi"})),v(a.formatMessage({id:"FødselPanel.Termindato.Gyldig"})),q(a.formatMessage({id:"FødselPanel.Termindato.TermindatoKanIkkeVære3UkerFørFødsel"}),r),w(a.formatMessage({id:"FødselPanel.Termindato.DuMåVæreIUke22"}))]}),t&&e.jsx(A,{name:"fødselsdato",control:o,label:e.jsx(n,{id:"FødselPanel.Fødselsdato"}),minDate:j().subtract(6,"month").toDate(),maxDate:j().toDate(),validate:[i(a.formatMessage({id:"FødselPanel.Fødselsdato.DuMåOppgi"})),v(a.formatMessage({id:"FødselPanel.Fødselsdato.Gyldig"})),b(a.formatMessage({id:"FødselPanel.Fodselsdato.MåVæreIdagEllerTidligere"})),_(a.formatMessage({id:"FødselPanel.Fodselsdato.IkkeMerEnn6MånederTilbake"}))]}),e.jsxs(x,{name:"antallBarn",control:o,label:t?a.formatMessage({id:"FødselPanel.AntallBarn.Født"}):a.formatMessage({id:"FødselPanel.AntallBarn.Termin"}),description:a.formatMessage({id:"FødselPanel.AntallBarn.TerminBeskrivelse"}),validate:[i(t?a.formatMessage({id:"FødselPanel.AntallBarn.Født.Required"}):a.formatMessage({id:"FødselPanel.AntallBarn.Venter.Required"}))],children:[e.jsx(d,{value:1,children:e.jsx(n,{id:"FødselPanel.Radiobutton.Ettbarn"})}),e.jsx(d,{value:2,children:e.jsx(n,{id:"FødselPanel.Radiobutton.Tvillinger"})}),e.jsx(d,{value:3,children:e.jsx(n,{id:"FødselPanel.Radiobutton.Flere"})})]}),l>=3&&e.jsxs(y,{name:"antallBarnDropDown",control:o,label:t?a.formatMessage({id:"FødselPanel.AntallBarn.Født"}):a.formatMessage({id:"FødselPanel.AntallBarn.Termin"}),validate:[i(t?a.formatMessage({id:"FødselPanel.AntallBarn.Født.Required"}):a.formatMessage({id:"FødselPanel.AntallBarn.Venter.Required"}))],children:[e.jsx("option",{value:"3",children:"3"}),e.jsx("option",{value:"4",children:"4"}),e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"6",children:"6"}),e.jsx("option",{value:"7",children:"7"}),e.jsx("option",{value:"8",children:"8"}),e.jsx("option",{value:"9",children:"9"})]})]})};E.__docgenInfo={description:"",methods:[],displayName:"FødselPanel"};const W=(a,s)=>s.situasjon==="adopsjon"?M.ADOPSJONSBEKREFTELSE:!a.erBarnetFødt&&a.termindato!==void 0?M.TERMINBEKREFTELSE:M.UTENLANDSOPPHOLD,Y=a=>({...z(a,"antallBarnDropDown"),antallBarn:a.antallBarn>2&&a.antallBarnDropDown?Number.parseInt(a.antallBarnDropDown,10):a.antallBarn}),X=a=>({...a,antallBarn:a.antallBarn>2?3:a.antallBarn,antallBarnDropDown:a.antallBarn>2?a.antallBarn.toString():void 0}),Z=({kjønn:a,mellomlagreOgNaviger:s})=>{const o=h(),t=H(),l=V(s),r=B(f.OM_BARNET),m=D(f.OM_BARNET),c=D(f.DOKUMENTASJON),u=$(B(f.SØKERSITUASJON)),p=F=>m(Y(F)),g=F=>(p(F),F.erBarnetFødt===!0&&c(void 0),l.goToNextStep(W(F,u))),P=C({defaultValues:r?X(r):{}});return e.jsx(K,{pageTitle:o.formatMessage({id:"Søknad.Pageheading"}),children:e.jsx(U,{onStepChange:l.goToNextStep,steps:t,children:e.jsx(L,{formMethods:P,onSubmit:g,children:e.jsxs(T,{gap:"space-40",children:[e.jsx(G,{}),u?.situasjon==="adopsjon"&&e.jsx(O,{kjønn:a}),u?.situasjon==="fødsel"&&e.jsx(E,{}),e.jsx(J,{onAvsluttOgSlett:l.avbrytSøknad,onFortsettSenere:l.fortsettSøknadSenere,goToPreviousStep:l.goToPreviousDefaultStep,saveDataOnPreviousClick:p})]})})})})};Z.__docgenInfo={description:"",methods:[],displayName:"OmBarnetSteg",props:{kjønn:{required:!0,tsType:{name:"union",raw:"'M' | 'K' | 'U'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"},{name:"literal",value:"'U'"}]},description:""},mellomlagreOgNaviger:{required:!0,tsType:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""}}};export{Z as O};
