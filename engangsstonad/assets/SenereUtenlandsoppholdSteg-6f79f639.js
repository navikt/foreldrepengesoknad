import{e as s,j as e,V as E,c as L,T as M,S as C,P as A}from"./fridagerUtils-bf837df5.js";import{r as h}from"./_baseToString-4ec4abc0.js";import{u as P,h as x,t as j,F as g,e as f,j as I,k as v,m as F,n as R,o as O,p as U,q as k,r as V,b as B,a as $,c as H,E as N,d as q}from"./useEsNavigator-4b18d5a0.js";import{a as w,b as z,D as y,u as G,c as K,F as W,E as Y,S as J}from"./ErrorSummaryHookForm-213ee8c2.js";import"./_createSet-7d8d34b4.js";const Q=({index:a,fjernOpphold:c})=>{const{i18n:t}=P(),{watch:d,trigger:p,formState:{isSubmitted:u}}=w(),r=d("utenlandsoppholdNeste12Mnd").filter((o,T)=>T!==a),l=d(`utenlandsoppholdNeste12Mnd.${a}.fom`),n=d(`utenlandsoppholdNeste12Mnd.${a}.tom`),i=s(x).toDate(),D=n?s(n).toDate():s(j).toDate(),S=s(l||x).toDate(),m=s(j).toDate();return e.jsxs(E,{gap:"5",align:"start",children:[e.jsx(z,{name:`utenlandsoppholdNeste12Mnd.${a}.landkode`,label:e.jsx(g,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Spørsmål.HvilketLandSkalDuBoI"}),validate:[f(t("SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandDuSkalBoIPåkreved"))],children:I().map(o=>e.jsx("option",{value:o[0],children:o[1]},o[0]))}),e.jsx(y,{name:`utenlandsoppholdNeste12Mnd.${a}.fom`,label:e.jsx(g,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Fraogmed"}),minDate:s(x).toDate(),maxDate:n?s(n).toDate():s(j).toDate(),validate:[f(t("SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandFomDuSkalBoIPåkreved")),v(t("SenereUtenlandsoppholdSteg.FraOgMedDato.GyldigDato")),F(t("SenereUtenlandsoppholdSteg.FomErLikTom"),n),R(t("SenereUtenlandsoppholdSteg.Utenlandsopphold.FørTilDato"),n),O(t("SenereUtenlandsoppholdSteg.DateOutsideRangeFom",{min:U(i),max:U(D)}),i,D),k(t("SenereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"),{date:n,isStartDate:!1},r)],onChange:()=>u&&p()}),e.jsx(y,{name:`utenlandsoppholdNeste12Mnd.${a}.tom`,label:e.jsx(g,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Tilogmed"}),minDate:S,maxDate:m,validate:[f(t("SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandTomDuSkalBoIPåkreved")),v(t("SenereUtenlandsoppholdSteg.TilOgMedDato.GyldigDato")),F(t("SenereUtenlandsoppholdSteg.TomErLikFom"),l),V(t("SenereUtenlandsoppholdSteg.Utenlandsopphold.EtterFraDato"),l),O(t("SenereUtenlandsoppholdSteg.DateOutsideRangeTom",{min:U(S),max:U(m)}),S,m),k(t("SenereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"),{date:l,isStartDate:!0},r)],onChange:()=>u&&p()}),a>0&&e.jsx(L,{type:"button",variant:"tertiary",size:"small",icon:e.jsx(M,{"aria-hidden":!0}),onClick:()=>c(a),children:e.jsx(g,{id:"SenereUtenlandsoppholdSteg.Knapp.SlettOpphold"})})]})};try{SenereUtenlandsoppholdPeriode.displayName="SenereUtenlandsoppholdPeriode",SenereUtenlandsoppholdPeriode.__docgenInfo={description:"",displayName:"SenereUtenlandsoppholdPeriode",props:{index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},fjernOpphold:{defaultValue:null,description:"",name:"fjernOpphold",required:!0,type:{name:"(index: number) => void"}}}}}catch{}const b={fom:"",tom:"",landkode:""},X={utenlandsoppholdNeste12Mnd:[b]},_=()=>{const{i18n:a}=P(),c=B(),t=$(),d=H(N.UTENLANDSOPPHOLD_SENERE),p=q(N.UTENLANDSOPPHOLD_SENERE),u=h.useMemo(()=>d||X,[d]),r=G({defaultValues:u}),{fields:l,append:n,remove:i}=K({name:"utenlandsoppholdNeste12Mnd",control:r.control}),D=h.useCallback(()=>{n(b)},[n]),S=h.useCallback(o=>{i(o)},[i]),m=h.useCallback(o=>{p(o),t.goToNextDefaultStep()},[p,t]);return e.jsx(C,{bannerTitle:a("Søknad.Pageheading"),pageTitle:a("SenereUtenlandsoppholdSteg.Fremtidig"),onCancel:t.avbrytSøknad,steps:c.stepConfig,activeStepId:c.activeStepId,useNoTempSavingText:!0,children:e.jsx(W,{formMethods:r,onSubmit:m,children:e.jsxs(E,{gap:"10",children:[e.jsx(Y,{}),e.jsxs(E,{gap:"10",align:"start",children:[l.map((o,T)=>e.jsxs(h.Fragment,{children:[e.jsx(Q,{index:T,fjernOpphold:S}),l.length>1&&e.jsx("hr",{style:{width:"100%"},color:"#99C4DD"})]},o.id)),e.jsx(L,{type:"button",variant:"secondary",size:"small",icon:e.jsx(A,{"aria-hidden":!0}),onClick:D,children:e.jsx(g,{id:"SenereUtenlandsoppholdSteg.Knapp.LeggTilLand"})})]}),e.jsx(J,{goToPreviousStep:t.goToPreviousDefaultStep,saveDataOnPreviousClick:p})]})})})},oe=_;try{_.displayName="SenereUtenlandsoppholdSteg",_.__docgenInfo={description:"",displayName:"SenereUtenlandsoppholdSteg",props:{}}}catch{}export{oe as S};
//# sourceMappingURL=SenereUtenlandsoppholdSteg-6f79f639.js.map
