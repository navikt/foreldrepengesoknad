import{j as e}from"./jsx-runtime-69eee039.js";import{r as g}from"./index-7c191284.js";import{u as L,j as s,m as x,n as f,V as E,F as h,d as P,T as M,g as C,P as A}from"./IntlProvider-4aa50fba.js";import{a as I,b as R,D as v,u as V,c as B,F as $,E as H,S as q}from"./ErrorSummaryHookForm-725b5da9.js";import"./_baseToString-8992fead.js";import"./_createSet-409f46e6.js";import{i as j,f as w,g as F,h as O,j as z,k,l as U,m as N,n as G,a as K,u as W,b as Y,E as y,c as J}from"./useEsNavigator-f7209b7e.js";const Q=({index:a,fjernOpphold:c})=>{const{i18n:t}=L(),{watch:d,trigger:p,formState:{isSubmitted:u}}=I(),r=d("utenlandsoppholdNeste12Mnd").filter((o,T)=>T!==a),l=d(`utenlandsoppholdNeste12Mnd.${a}.fom`),n=d(`utenlandsoppholdNeste12Mnd.${a}.tom`),i=s(x).toDate(),D=n?s(n).toDate():s(f).toDate(),m=s(l||x).toDate(),S=s(f).toDate();return e.jsxs(E,{gap:"5",align:"start",children:[e.jsx(R,{name:`utenlandsoppholdNeste12Mnd.${a}.landkode`,label:e.jsx(h,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Spørsmål.HvilketLandSkalDuBoI"}),validate:[j(t("SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandDuSkalBoIPåkreved"))],children:w().map(o=>e.jsx("option",{value:o[0],children:o[1]},o[0]))}),e.jsx(v,{name:`utenlandsoppholdNeste12Mnd.${a}.fom`,label:e.jsx(h,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Fraogmed"}),minDate:s(x).toDate(),maxDate:n?s(n).toDate():s(f).toDate(),validate:[j(t("SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandFomDuSkalBoIPåkreved")),F(t("SenereUtenlandsoppholdSteg.FraOgMedDato.GyldigDato")),O(t("SenereUtenlandsoppholdSteg.FomErLikTom"),n),z(t("SenereUtenlandsoppholdSteg.Utenlandsopphold.FørTilDato"),n),k(t("SenereUtenlandsoppholdSteg.DateOutsideRangeFom",{min:U(i),max:U(D)}),i,D),N(t("SenereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"),{date:n,isStartDate:!1},r)],onChange:()=>u&&p()}),e.jsx(v,{name:`utenlandsoppholdNeste12Mnd.${a}.tom`,label:e.jsx(h,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Tilogmed"}),minDate:m,maxDate:S,validate:[j(t("SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandTomDuSkalBoIPåkreved")),F(t("SenereUtenlandsoppholdSteg.TilOgMedDato.GyldigDato")),O(t("SenereUtenlandsoppholdSteg.TomErLikFom"),l),G(t("SenereUtenlandsoppholdSteg.Utenlandsopphold.EtterFraDato"),l),k(t("SenereUtenlandsoppholdSteg.DateOutsideRangeTom",{min:U(m),max:U(S)}),m,S),N(t("SenereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"),{date:l,isStartDate:!0},r)],onChange:()=>u&&p()}),a>0&&e.jsx(P,{type:"button",variant:"tertiary",size:"small",icon:e.jsx(M,{"aria-hidden":!0}),onClick:()=>c(a),children:e.jsx(h,{id:"SenereUtenlandsoppholdSteg.Knapp.SlettOpphold"})})]})};try{SenereUtenlandsoppholdPeriode.displayName="SenereUtenlandsoppholdPeriode",SenereUtenlandsoppholdPeriode.__docgenInfo={description:"",displayName:"SenereUtenlandsoppholdPeriode",props:{index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},fjernOpphold:{defaultValue:null,description:"",name:"fjernOpphold",required:!0,type:{name:"(index: number) => void"}}}}}catch{}const b={fom:"",tom:"",landkode:""},X={utenlandsoppholdNeste12Mnd:[b]},_=()=>{const{i18n:a}=L(),c=K(),t=W(),d=Y(y.UTENLANDSOPPHOLD_SENERE),p=J(y.UTENLANDSOPPHOLD_SENERE),u=g.useMemo(()=>d||X,[]),r=V({defaultValues:u}),{fields:l,append:n,remove:i}=B({name:"utenlandsoppholdNeste12Mnd",control:r.control}),D=g.useCallback(()=>{n(b)},[n]),m=g.useCallback(o=>{i(o)},[i]),S=g.useCallback(o=>{p(o),t.goToNextDefaultStep()},[]);return e.jsx(C,{bannerTitle:a("Søknad.Pageheading"),pageTitle:a("SenereUtenlandsoppholdSteg.Fremtidig"),onCancel:t.avbrytSøknad,steps:c.stepConfig,activeStepId:c.activeStepId,useNoTempSavingText:!0,children:e.jsx($,{formMethods:r,onSubmit:S,children:e.jsxs(E,{gap:"10",children:[e.jsx(H,{}),e.jsxs(E,{gap:"10",align:"start",children:[l.map((o,T)=>e.jsxs(g.Fragment,{children:[e.jsx(Q,{index:T,fjernOpphold:m}),l.length>1&&e.jsx("hr",{style:{width:"100%"},color:"#99C4DD"})]},o.id)),e.jsx(P,{type:"button",variant:"secondary",size:"small",icon:e.jsx(A,{"aria-hidden":!0}),onClick:D,children:e.jsx(h,{id:"SenereUtenlandsoppholdSteg.Knapp.LeggTilLand"})})]}),e.jsx(q,{goToPreviousStep:t.goToPreviousDefaultStep,saveDataOnPreviousClick:p})]})})})},le=_;try{_.displayName="SenereUtenlandsoppholdSteg",_.__docgenInfo={description:"",displayName:"SenereUtenlandsoppholdSteg",props:{}}}catch{}export{le as S};
//# sourceMappingURL=SenereUtenlandsoppholdSteg-f3ee6fee.js.map
