import{e as g,j as e,V as f,c as M,T as C,S as R,P as H}from"./fridagerUtils-ed0a582b.js";import{r as T}from"./_baseToString-4ec4abc0.js";import{u as I,D as O,h as P,F as u,e as E,j as B,k as _,m as v,n as V,o as L,p as U,q as k,r as G,b as $,a as q,s as w,c as y,E as x,d as z,P as F}from"./useEsNavigator-7572a468.js";import{a as K,b as Y,D as N,u as W,c as J,F as Q,E as X,S as Z}from"./ErrorSummaryHookForm-ae43f4b6.js";import"./_createSet-7d8d34b4.js";const ee=({index:a,fjernOpphold:S})=>{const{i18n:t}=I(),{watch:l,trigger:m,formState:{isSubmitted:s}}=K(),D=l("utenlandsoppholdSiste12Mnd").filter((p,d)=>d!==a),o=l(`utenlandsoppholdSiste12Mnd.${a}.fom`),n=l(`utenlandsoppholdSiste12Mnd.${a}.tom`),i=g(O).toDate(),r=n?g(n).toDate():g(P).toDate(),h=o?g(o).toDate():g(O).toDate(),c=g(P).toDate();return e.jsxs(f,{gap:"5",align:"start",children:[e.jsx(Y,{name:`utenlandsoppholdSiste12Mnd.${a}.landkode`,label:e.jsx(u,{id:"TidligereUtenlandsoppholdSteg.Spørsmål.HvilketLandHarDuBoddI"}),validate:[E(t("TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandDuHarBoddIPåkrevd"))],children:B().map(p=>e.jsx("option",{value:p[0],children:p[1]},p[0]))}),e.jsx(N,{name:`utenlandsoppholdSiste12Mnd.${a}.fom`,label:e.jsx(u,{id:"TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Fraogmed"}),minDate:i,maxDate:r,validate:[E(t("TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandFomDuSkalBoIPåkreved")),_(t("TidligereUtenlandsoppholdSteg.FraOgMedDato.GyldigDato")),v(t("TidligereUtenlandsoppholdSteg.FomErLikTom"),n),V(t("TidligereUtenlandsoppholdSteg.Utenlandsopphold.FørTilDato"),n),L(t("TidligereUtenlandsoppholdSteg.DateOutsideRangeFom",{min:U(i),max:U(r)}),i,r),k(t("TidligereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"),{date:n,isStartDate:!1},D)],onChange:()=>s&&m()}),e.jsx(N,{name:`utenlandsoppholdSiste12Mnd.${a}.tom`,label:e.jsx(u,{id:"TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Tilogmed"}),minDate:h,maxDate:c,validate:[E(t("TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandTomDuHarBoddIPåkreved")),_(t("TidligereUtenlandsoppholdSteg.TilOgMedDato.GyldigDato")),v(t("TidligereUtenlandsoppholdSteg.TomErLikFom"),o),G(t("TidligereUtenlandsoppholdSteg.Utenlandsopphold.EtterFraDato"),o),L(t("TidligereUtenlandsoppholdSteg.DateOutsideRangeTom",{min:U(h),max:U(c)}),h,c),k(t("TidligereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"),{date:o,isStartDate:!0},D)],onChange:()=>s&&m()}),a>0&&e.jsx(M,{type:"button",variant:"tertiary",size:"small",icon:e.jsx(C,{"aria-hidden":!0}),onClick:()=>S(a),children:e.jsx(u,{id:"TidligereUtenlandsoppholdSteg.Knapp.SlettOpphold"})})]})};try{TidligereUtenlandsoppholdPeriode.displayName="TidligereUtenlandsoppholdPeriode",TidligereUtenlandsoppholdPeriode.__docgenInfo={description:"",displayName:"TidligereUtenlandsoppholdPeriode",props:{index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},fjernOpphold:{defaultValue:null,description:"",name:"fjernOpphold",required:!0,type:{name:"(index: number) => void"}}}}}catch{}const b={fom:"",tom:"",landkode:""},te={utenlandsoppholdSiste12Mnd:[b]},j=()=>{const{i18n:a}=I(),S=$(),t=q(),l=w(y(x.UTENLANDSOPPHOLD)),m=y(x.UTENLANDSOPPHOLD_TIDLIGERE),s=z(x.UTENLANDSOPPHOLD_TIDLIGERE),D=T.useMemo(()=>m||te,[m]),o=W({defaultValues:D}),{fields:n,append:i,remove:r}=J({name:"utenlandsoppholdSiste12Mnd",control:o.control}),h=T.useCallback(()=>{i(b)},[i]),c=T.useCallback(d=>{r(d)},[r]),p=T.useCallback(d=>{s(d),t.goToNextStep(l.skalBoUtenforNorgeNeste12Mnd?F.SENERE_UTENLANDSOPPHOLD:F.OPPSUMMERING)},[s,t,l.skalBoUtenforNorgeNeste12Mnd]);return e.jsx(R,{bannerTitle:a("Søknad.Pageheading"),pageTitle:a("TidligereUtenlandsoppholdSteg.Tidligere"),onCancel:t.avbrytSøknad,steps:S.stepConfig,activeStepId:S.activeStepId,useNoTempSavingText:!0,children:e.jsx(Q,{formMethods:o,onSubmit:p,children:e.jsxs(f,{gap:"10",children:[e.jsx(X,{}),e.jsxs(f,{gap:"10",align:"start",children:[n.map((d,A)=>e.jsxs(T.Fragment,{children:[e.jsx(ee,{index:A,fjernOpphold:c}),n.length>1&&e.jsx("hr",{style:{width:"100%"},color:"#99C4DD"})]},d.id)),e.jsx(M,{type:"button",variant:"secondary",size:"small",icon:e.jsx(H,{"aria-hidden":!0}),onClick:h,children:e.jsx(u,{id:"TidligereUtenlandsoppholdSteg.Knapp.LeggTilLand"})})]}),e.jsx(Z,{goToPreviousStep:t.goToPreviousDefaultStep,saveDataOnPreviousClick:s})]})})})},se=j;try{j.displayName="TidligereUtenlandsoppholdSteg",j.__docgenInfo={description:"",displayName:"TidligereUtenlandsoppholdSteg",props:{}}}catch{}export{se as T};
//# sourceMappingURL=TidligereUtenlandsoppholdSteg-13d0f97a.js.map
