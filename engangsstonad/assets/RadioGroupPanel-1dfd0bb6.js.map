{"version":3,"file":"RadioGroupPanel-1dfd0bb6.js","sources":["../../src/fpcommon/form/RadioGroupPanel.tsx"],"sourcesContent":["import React, { FunctionComponent, ReactElement, ReactNode, useMemo } from 'react';\nimport { useFormContext, useController } from 'react-hook-form';\nimport { RadioGroup } from '@navikt/ds-react';\nimport { getError, getValidationRules } from './formUtils';\n\ninterface RadioGroupPanelProps {\n    name: string;\n    description?: string | ReactNode;\n    label?: string | ReactNode;\n    validate?: Array<(value: string | number) => any>;\n    children: ReactElement[];\n}\n\nconst RadioGroupPanel: FunctionComponent<RadioGroupPanelProps> = ({\n    label,\n    description,\n    name,\n    validate = [],\n    children,\n}) => {\n    const {\n        formState: { errors },\n    } = useFormContext();\n    const { field } = useController({\n        name,\n        rules: {\n            validate: useMemo(() => getValidationRules(validate), [validate]),\n        },\n    });\n\n    return (\n        <RadioGroup\n            name={name}\n            value={field.value !== undefined ? field.value : null}\n            legend={label}\n            description={description}\n            error={getError(errors, name)}\n            onChange={(value) => {\n                field.onChange(value);\n            }}\n        >\n            {children.map((child, index) => {\n                //TODO Vurder å heller lage ein wrapper til children\n                //Denne map'en legg til ref for å kunna setta fokus ved feil\n                if (index === 0) {\n                    return React.cloneElement(child, { key: child.key, ref: field.ref });\n                }\n                return child;\n            })}\n        </RadioGroup>\n    );\n};\n\nexport default RadioGroupPanel;\n"],"names":["RadioGroupPanel","label","description","name","validate","children","errors","useFormContext","field","useController","useMemo","getValidationRules","jsx","RadioGroup","getError","value","child","index","React"],"mappings":"uNAaA,MAAAA,EAAA,CAAA,CAAkE,MAAAC,EAC9D,YAAAC,EACA,KAAAC,EACA,SAAAC,EAAA,CAAA,EACY,SAAAC,CAEhB,IAAA,CACI,KAAA,CAAM,UAAA,CAAA,OAAAC,CAAA,CACkB,EAAAC,EAAA,EAExB,CAAA,MAAAC,CAAA,EAAAC,EAAA,CAAgC,KAAAN,EAC5B,MAAA,CACO,SAAAO,EAAA,QAAA,IAAAC,EAAAP,CAAA,EAAA,CAAAA,CAAA,CAAA,CAC6D,CACpE,CAAA,EAGJ,OAAAQ,EAAA,IACIC,EAAC,CAAA,KAAAV,EACG,MAAAK,EAAA,QAAA,OAAAA,EAAA,MAAA,KACiD,OAAAP,EACzC,YAAAC,EACR,MAAAY,EAAAR,EAAAH,CAAA,EAC4B,SAAAY,GAAA,CAExBP,EAAA,SAAAO,CAAA,CAAoB,EACxB,SAAAV,EAAA,IAAA,CAAAW,EAAAC,IAKIA,IAAA,EACIC,EAAA,aAAAF,EAAA,CAAA,IAAAA,EAAA,IAAA,IAAAR,EAAA,GAAA,CAAA,EAEJQ,CAAO,CACV,CAAA,CAGb"}