{"version":3,"file":"Select-cd02e5c6.js","sources":["../../src/fpcommon/form/Select.tsx"],"sourcesContent":["import { FunctionComponent, ReactNode, useCallback, useMemo } from 'react';\nimport { useFormContext, useController } from 'react-hook-form';\nimport { Select as DsSelect } from '@navikt/ds-react';\nimport { getError, getValidationRules } from './formUtils';\n\nexport interface OwnProps {\n    name: string;\n    label: string | ReactNode;\n    onChange?: (event: any) => void;\n    validate?: Array<(value: string) => any>;\n    children: React.ReactElement[];\n    description?: ReactNode;\n    disabled?: boolean;\n    className?: string;\n}\n\nconst Select: FunctionComponent<OwnProps> = ({\n    name,\n    label,\n    validate = [],\n    description,\n    onChange,\n    disabled,\n    className,\n    children,\n}) => {\n    const {\n        formState: { errors },\n    } = useFormContext();\n\n    const { field } = useController({\n        name,\n        rules: {\n            validate: useMemo(() => getValidationRules(validate), [validate]),\n        },\n    });\n\n    const onChangeFn = useCallback(\n        (evt: React.ChangeEvent) => {\n            if (onChange) {\n                onChange(evt);\n            }\n            field.onChange(evt);\n        },\n        [field, onChange],\n    );\n\n    return (\n        <DsSelect\n            ref={field.ref}\n            className={className}\n            error={getError(errors, name)}\n            label={label}\n            description={description}\n            value={field.value}\n            disabled={disabled}\n            onChange={onChangeFn}\n        >\n            <option style={{ display: 'none' }} />,{children}\n        </DsSelect>\n    );\n};\n\nexport default Select;\n"],"names":["Select","name","label","validate","description","onChange","disabled","className","children","errors","useFormContext","field","useController","useMemo","getValidationRules","onChangeFn","useCallback","evt","jsxs","DsSelect","getError","jsx"],"mappings":"gNAgBA,MAAAA,EAAA,CAAA,CAA6C,KAAAC,EACzC,MAAAC,EACA,SAAAC,EAAA,CAAA,EACY,YAAAC,EACZ,SAAAC,EACA,SAAAC,EACA,UAAAC,EACA,SAAAC,CAEJ,IAAA,CACI,KAAA,CAAM,UAAA,CAAA,OAAAC,CAAA,CACkB,EAAAC,EAAA,EAGxB,CAAA,MAAAC,CAAA,EAAAC,EAAA,CAAgC,KAAAX,EAC5B,MAAA,CACO,SAAAY,EAAA,QAAA,IAAAC,EAAAX,CAAA,EAAA,CAAAA,CAAA,CAAA,CAC6D,CACpE,CAAA,EAGJY,EAAAC,EAAA,YAAmBC,GAAA,CAEXZ,GACIA,EAAAY,CAAA,EAEJN,EAAA,SAAAM,CAAA,CAAkB,EACtB,CAAAN,EAAAN,CAAA,CACgB,EAGpB,OAAAa,EAAA,KACIC,EAAC,CAAA,IAAAR,EAAA,IACc,UAAAJ,EACX,MAAAa,EAAAX,EAAAR,CAAA,EAC4B,MAAAC,EAC5B,YAAAE,EACA,MAAAO,EAAA,MACa,SAAAL,EACb,SAAAS,EACU,SAAA,CAEVM,EAAA,IAAA,SAAA,CAAA,MAAA,CAAA,QAAA,MAAA,EAAA,EAAoC,IAAEb,CAAE,CAAA,CAAA,CAGpD"}