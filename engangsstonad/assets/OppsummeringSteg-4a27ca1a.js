import{j as e}from"./jsx-runtime-69eee039.js";import{r as g}from"./index-7c191284.js";import{Q as _,H as $,u as L,V as k,b as i,B as r,F as d,h as b,U as y,i as H,k as N,g as w,C as K}from"./IntlProvider-6f18ce9f.js";import{a as m,S as R}from"./StepButtons-a9e02238.js";import{e as W,a as F,b as I,c as M}from"./Attachment-f7d69364.js";import{n as j,a as z,u as G,b as c,E as u}from"./useEsNavigator-db836096.js";const J=s=>!!s.terminbekreftelsedato;const x=({tittel:s,children:n})=>{const[t,a]=g.useState(!1),o=g.useCallback(()=>a(l=>!l),[]);return e.jsxs(_.Item,{children:[e.jsx(_.Header,{className:t?"accordian_header":void 0,onClick:o,children:e.jsx($,{level:"2",size:"small",children:s})}),e.jsx(_.Content,{className:"content_margin",children:n})]})};try{x.displayName="Oppsummeringspunkt",x.__docgenInfo={description:"",displayName:"Oppsummeringspunkt",props:{tittel:{defaultValue:null,description:"",name:"tittel",required:!0,type:{name:"string"}}}}}catch{}const v=({omBarnet:s,dokumentasjon:n})=>{const t=L(),a=W(s),o=F(s),l=I(s);let p;return s.antallBarn===1?p=t.formatMessage({id:"oppsummering.omBarnet.ettBarn"}):s.antallBarn===2&&!a?p=t.formatMessage({id:"oppsummering.omBarnet.tvillinger"}):s.antallBarn===2&&a?p=t.formatMessage({id:"oppsummering.omBarnet.toBarn"}):p=t.formatMessage({id:"oppsummering.omBarnet.flereBarn"},{antall:s.antallBarn}),e.jsxs(k,{gap:"4",children:[e.jsxs(i,{gap:"2",children:[e.jsx(r,{children:e.jsx(d,{id:"oppsummering.text.soknadenGjelder"})}),e.jsx(r,{children:p})]}),a&&e.jsxs(e.Fragment,{children:[e.jsxs(i,{gap:"2",children:[e.jsx(r,{children:e.jsx(d,{id:"oppsummering.text.medAdopsjonsdato"})}),e.jsx(r,{children:m(s.adopsjonsdato)})]}),e.jsxs(i,{gap:"2",children:[e.jsx(r,{children:e.jsx(d,{id:s.fødselsdatoer.length>1?"oppsummering.text.medFødselsdatoer":"oppsummering.text.medFødselsdato"})}),e.jsx(b,{children:s.fødselsdatoer.map((S,h)=>m(s.fødselsdatoer[h].dato)).join(", ")})]}),e.jsx(y,{children:e.jsx(d,{id:"oppsummering.text.vedlagtOmsorgsovertakelseBekreftelse"})}),e.jsx(M,{attachments:j(n).vedlegg})]}),l&&e.jsxs(i,{gap:"2",children:[e.jsx(r,{children:e.jsx(d,{id:"oppsummering.text.medFødselsdato"})}),e.jsx(r,{children:m(s.fødselsdatoer[0].dato)})]}),o&&n&&J(n)&&e.jsxs(e.Fragment,{children:[e.jsxs(i,{gap:"2",children:[e.jsx(r,{children:e.jsx(d,{id:"oppsummering.text.medTermindato"})}),e.jsx(r,{children:m(s.termindato)})]}),e.jsxs(i,{gap:"2",children:[e.jsx(r,{children:e.jsx(d,{id:"oppsummering.text.somErDatert"})}),e.jsx(r,{children:m(n.terminbekreftelsedato)})]}),e.jsx(y,{children:e.jsx(d,{id:"oppsummering.text.vedlagtTerminbekreftelse"})}),e.jsx(M,{attachments:n.vedlegg})]})]})};try{v.displayName="OmBarnetOppsummering",v.__docgenInfo={description:"",displayName:"OmBarnetOppsummering",props:{omBarnet:{defaultValue:null,description:"",name:"omBarnet",required:!0,type:{name:"OmBarnet"}},dokumentasjon:{defaultValue:null,description:"",name:"dokumentasjon",required:!1,type:{name:"Dokumentasjon"}}}}}catch{}const O=({utenlandsoppholdListe:s})=>e.jsx("ul",{className:"landOppsummering",children:s.map(n=>e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx(b,{children:H.getName(n.landkode,"nb")}),e.jsxs(b,{children:[m(n.fom)," - ",m(n.tom)]})]},`${n.landkode}${n.fom}`))});try{O.displayName="LandOppsummering",O.__docgenInfo={description:"",displayName:"LandOppsummering",props:{utenlandsoppholdListe:{defaultValue:null,description:"",name:"utenlandsoppholdListe",required:!0,type:{name:"UtenlandsoppholdPeriode[]"}}}}}catch{}const D=(s,n,t)=>N(s).isBetween(N(n),N(t),"day","[]"),E=(s,n=[],t=[])=>n.some(a=>D(s,a.fom,a.tom))||t.some(a=>D(s,a.fom,a.tom)),B=({omBarnet:s,utenlandsopphold:n,utenlandsoppholdSiste:t,utenlandsoppholdNeste:a})=>{const o=F(s),l=I(s);return e.jsxs(k,{gap:"4",children:[n.harBoddUtenforNorgeSiste12Mnd===!1?e.jsxs(i,{gap:"2",children:[e.jsx(r,{children:e.jsx(d,{id:"oppsummering.text.boddSisteTolv"})}),e.jsx(r,{children:e.jsx(d,{id:"norge"})})]}):e.jsxs("div",{children:[e.jsx(y,{className:"textWithLabel__label",children:e.jsx(d,{id:"oppsummering.text.boddSisteTolv"})}),e.jsx(O,{utenlandsoppholdListe:j(t).utenlandsoppholdSiste12Mnd})]}),n.skalBoUtenforNorgeNeste12Mnd===!1?e.jsxs(i,{gap:"2",children:[e.jsx(r,{children:e.jsx(d,{id:"oppsummering.text.neste12mnd"})}),e.jsx(r,{children:e.jsx(d,{id:"medlemmskap.radiobutton.boNorge"})})]}):e.jsxs("div",{children:[e.jsx(y,{className:"textWithLabel__label",children:e.jsx(d,{id:"oppsummering.text.neste12mnd"})}),e.jsx(O,{utenlandsoppholdListe:j(a).utenlandsoppholdNeste12Mnd})]}),o&&e.jsxs(i,{gap:"2",children:[e.jsx(r,{children:e.jsx(d,{id:"oppsummering.text.ogKommerPåFødselstidspunktet"})}),e.jsx(r,{children:e.jsx(d,{id:E(s.termindato,t==null?void 0:t.utenlandsoppholdSiste12Mnd,a==null?void 0:a.utenlandsoppholdNeste12Mnd)?"medlemmskap.radiobutton.vareUtlandet":"medlemmskap.radiobutton.vareNorge"})})]}),l&&e.jsxs(i,{gap:"2",children:[e.jsx(r,{children:e.jsx(d,{id:"oppsummering.text.varPåFødselstidspunktet"})}),e.jsx(r,{children:e.jsx(d,{id:E(s.fødselsdatoer[0].dato,t==null?void 0:t.utenlandsoppholdSiste12Mnd,a==null?void 0:a.utenlandsoppholdNeste12Mnd)?"oppsummering.utenlandsopphold.iUtlandet":"oppsummering.utenlandsopphold.iNorge"})})]})]})};try{B.displayName="UtenlandsoppholdOppsummering",B.__docgenInfo={description:"",displayName:"UtenlandsoppholdOppsummering",props:{omBarnet:{defaultValue:null,description:"",name:"omBarnet",required:!0,type:{name:"OmBarnet"}},utenlandsopphold:{defaultValue:null,description:"",name:"utenlandsopphold",required:!0,type:{name:"Utenlandsopphold"}},utenlandsoppholdSiste:{defaultValue:null,description:"",name:"utenlandsoppholdSiste",required:!1,type:{name:"UtenlandsoppholdSiste"}},utenlandsoppholdNeste:{defaultValue:null,description:"",name:"utenlandsoppholdNeste",required:!1,type:{name:"UtenlandsoppholdNeste"}}}}}catch{}const Q=(s,n,t)=>t?`${s} ${t} ${n}`:`${s} ${n}`,T=({person:s,sendSøknad:n})=>{const t=L(),a=z(),o=G(),l=j(c(u.OM_BARNET)),p=j(c(u.UTENLANDSOPPHOLD)),S=c(u.DOKUMENTASJON),h=c(u.UTENLANDSOPPHOLD_SISTE),U=c(u.UTENLANDSOPPHOLD_NESTE),[f,P]=g.useState(!1),[C,V]=g.useState(!1),q=g.useCallback(()=>{f?(n(l,p,S,h,U),o.goToNextDefaultStep()):V(!0)},[f]);return e.jsx(w,{bannerTitle:t.formatMessage({id:"Søknad.Pageheading"}),pageTitle:t.formatMessage({id:"søknad.oppsummering"}),onCancel:o.avbrytSøknad,steps:a.stepConfig,activeStepId:a.activeStepId,useNoTempSavingText:!0,children:e.jsxs(k,{gap:"10",children:[e.jsxs(_,{children:[e.jsx(x,{tittel:t.formatMessage({id:"søknad.omDeg"}),children:e.jsxs(k,{gap:"4",children:[e.jsx(r,{children:Q(s.fornavn,s.etternavn,s.mellomnavn)}),e.jsx(r,{children:s.fnr})]})}),e.jsx(x,{tittel:t.formatMessage({id:"OmBarnetSteg.OmBarnet"}),children:e.jsx(v,{omBarnet:l,dokumentasjon:S})}),e.jsx(x,{tittel:t.formatMessage({id:"søknad.utenlandsopphold"}),children:e.jsx(B,{omBarnet:l,utenlandsopphold:p,utenlandsoppholdNeste:U,utenlandsoppholdSiste:h})})]}),e.jsx(K,{label:t.formatMessage({id:"oppsummering.text.samtykke"}),onChange:()=>P(A=>!A),checked:f,error:C&&!f&&t.formatMessage({id:"OppsummeringSteg.Validering.BekrefteOpplysninger"})}),e.jsx(R,{goToPreviousStep:o.goToPreviousDefaultStep,nextButtonText:"oppsummering.button.sendSøknad",nextButtonOnClick:q})]})})},ne=T;try{T.displayName="OppsummeringSteg",T.__docgenInfo={description:"",displayName:"OppsummeringSteg",props:{person:{defaultValue:null,description:"",name:"person",required:!0,type:{name:"Person"}},sendSøknad:{defaultValue:null,description:"",name:"sendSøknad",required:!0,type:{name:"(omBarnet: OmBarnet, utenlandsopphold: Utenlandsopphold, dokumentasjon?: Dokumentasjon | undefined, sisteUtenlandsopphold?: UtenlandsoppholdSiste | undefined, nesteUtenlandsopphold?: UtenlandsoppholdNeste | undefined) => void"}}}}}catch{}export{ne as O,J as e};
//# sourceMappingURL=OppsummeringSteg-4a27ca1a.js.map
