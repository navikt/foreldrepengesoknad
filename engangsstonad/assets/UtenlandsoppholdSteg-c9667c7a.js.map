{"version":3,"file":"UtenlandsoppholdSteg-c9667c7a.js","sources":["../../src/sider/steg/utenlandsopphold/UtenlandsoppholdSteg.tsx"],"sourcesContent":["import { useCallback } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { Step } from '@navikt/fp-common';\nimport { Link, VStack, Radio, ExpansionCard, BodyLong, Heading, HStack, BodyShort } from '@navikt/ds-react';\n\nimport { Form, ErrorSummaryHookForm, RadioGroupPanel, StepButtonsHookForm } from '@navikt/fp-form-hooks';\nimport { isRequired } from 'fpcommon/validering/valideringsregler';\nimport { Utenlandsopphold } from 'types/Utenlandsopphold';\nimport useEsNavigator from 'appData/useEsNavigator';\nimport { Path } from 'appData/paths';\nimport { EsDataType, useEsStateSaveFn, useEsStateData } from 'appData/EsDataContext';\nimport useStepData from 'appData/useStepData';\n\nconst utledNesteSide = (formValues: Utenlandsopphold): Path => {\n    if (formValues?.harBoddUtenforNorgeSiste12Mnd) {\n        return Path.SISTE_UTENLANDSOPPHOLD;\n    }\n    return formValues?.skalBoUtenforNorgeNeste12Mnd ? Path.NESTE_UTENLANDSOPPHOLD : Path.OPPSUMMERING;\n};\n\nconst UtenlandsoppholdSteg: React.FunctionComponent = () => {\n    const intl = useIntl();\n\n    const stepData = useStepData();\n    const navigator = useEsNavigator();\n\n    const utenlandsopphold = useEsStateData(EsDataType.UTENLANDSOPPHOLD);\n    const lagreUtenlandsopphold = useEsStateSaveFn(EsDataType.UTENLANDSOPPHOLD);\n    const lagreSisteUtenlandsopphold = useEsStateSaveFn(EsDataType.UTENLANDSOPPHOLD_SISTE);\n    const lagreNesteUtenlandsopphold = useEsStateSaveFn(EsDataType.UTENLANDSOPPHOLD_NESTE);\n\n    const formMethods = useForm<Utenlandsopphold>({\n        defaultValues: utenlandsopphold,\n    });\n\n    const lagre = useCallback((formValues: Utenlandsopphold) => {\n        lagreUtenlandsopphold(formValues);\n\n        if (!formValues.harBoddUtenforNorgeSiste12Mnd) {\n            lagreSisteUtenlandsopphold(undefined);\n        }\n        if (!formValues.skalBoUtenforNorgeNeste12Mnd) {\n            lagreNesteUtenlandsopphold(undefined);\n        }\n\n        navigator.goToNextStep(utledNesteSide(formValues));\n    }, []);\n\n    return (\n        <Step\n            bannerTitle={intl.formatMessage({ id: 'Søknad.Pageheading' })}\n            pageTitle={intl.formatMessage({ id: 'søknad.utenlandsopphold' })}\n            onCancel={navigator.avbrytSøknad}\n            steps={stepData.stepConfig}\n            activeStepId={stepData.activeStepId}\n            useNoTempSavingText\n        >\n            <Form formMethods={formMethods} onSubmit={lagre}>\n                <VStack gap=\"10\">\n                    <ErrorSummaryHookForm />\n                    <BodyLong>\n                        <FormattedMessage id=\"utenlandsopphold.info\" />\n                    </BodyLong>\n                    <RadioGroupPanel\n                        name=\"harBoddUtenforNorgeSiste12Mnd\"\n                        label={<FormattedMessage id=\"utenlandsopphold.siste12Måneder.spørsmål\" />}\n                        validate={[\n                            isRequired(intl.formatMessage({ id: 'utenlandsopphold.siste12Måneder.isRequired' })),\n                        ]}\n                    >\n                        <Radio value={false}>\n                            <FormattedMessage id=\"utenlandsopphold.siste12MånederInfotekst.radiobutton.boddINorge\" />\n                        </Radio>\n                        <Radio value={true}>\n                            <FormattedMessage id=\"utenlandsopphold.siste12MånederInfotekst.radiobutton.boddIUtlandet\" />\n                        </Radio>\n                    </RadioGroupPanel>\n                    <RadioGroupPanel\n                        name=\"skalBoUtenforNorgeNeste12Mnd\"\n                        label={<FormattedMessage id=\"utenlandsopphold.neste12Måneder.spørsmål\" />}\n                        validate={[\n                            isRequired(intl.formatMessage({ id: 'utenlandsopphold.neste12Måneder.isRequired' })),\n                        ]}\n                    >\n                        <Radio value={false}>\n                            <FormattedMessage id=\"utenlandsopphold.neste12MånederInfotekst.radiobutton.boddINorge\" />\n                        </Radio>\n                        <Radio value={true}>\n                            <FormattedMessage id=\"utenlandsopphold.neste12MånederInfotekst.radiobutton.boddIUtlandet\" />\n                        </Radio>\n                    </RadioGroupPanel>\n                    <ExpansionCard\n                        size=\"small\"\n                        aria-label={intl.formatMessage({ id: 'utenlandsopphold.stotteFraNav' })}\n                    >\n                        <ExpansionCard.Header>\n                            <ExpansionCard.Title>\n                                <FormattedMessage id=\"utenlandsopphold.stotteFraNav\" />\n                            </ExpansionCard.Title>\n                        </ExpansionCard.Header>\n                        <ExpansionCard.Content>\n                            <VStack gap=\"10\">\n                                <VStack gap=\"5\">\n                                    <BodyLong>\n                                        <FormattedMessage id=\"utenlandsopphold.info.del1\" />\n                                    </BodyLong>\n                                    <BodyLong>\n                                        <FormattedMessage id=\"utenlandsopphold.info.del2\" />\n                                    </BodyLong>\n                                    <BodyLong>\n                                        <FormattedMessage id=\"utenlandsopphold.info.del3\" />\n                                    </BodyLong>\n                                    <BodyLong>\n                                        <FormattedMessage id=\"utenlandsopphold.info.del4\" />\n                                    </BodyLong>\n                                </VStack>\n                                <VStack gap=\"5\">\n                                    <Heading size=\"small\">\n                                        <FormattedMessage id=\"utenlandsopphold.info.undertittel\" />\n                                    </Heading>\n                                    <BodyLong>\n                                        <FormattedMessage id=\"utenlandsopphold.info.del5\" />\n                                    </BodyLong>\n                                    <HStack gap=\"1\">\n                                        <BodyShort>\n                                            <FormattedMessage id=\"utenlandsopphold.info.del6\" />\n                                        </BodyShort>\n                                        <BodyShort>\n                                            <Link href=\"https://www.nav.no/foreldrepenger#utland\">\n                                                nav.no/foreldrepenger#utland\n                                            </Link>\n                                        </BodyShort>\n                                    </HStack>\n                                </VStack>\n                            </VStack>\n                        </ExpansionCard.Content>\n                    </ExpansionCard>\n                    <StepButtonsHookForm<Utenlandsopphold>\n                        goToPreviousStep={navigator.goToPreviousDefaultStep}\n                        saveDataOnPreviousClick={lagreUtenlandsopphold}\n                    />\n                </VStack>\n            </Form>\n        </Step>\n    );\n};\n\nexport default UtenlandsoppholdSteg;\n"],"names":["utledNesteSide","formValues","Path","UtenlandsoppholdSteg","intl","useIntl","stepData","useStepData","navigator","useEsNavigator","utenlandsopphold","useEsStateData","EsDataType","lagreUtenlandsopphold","useEsStateSaveFn","lagreSisteUtenlandsopphold","lagreNesteUtenlandsopphold","formMethods","useForm","lagre","useCallback","jsx","Step","Form","jsxs","VStack","ErrorSummaryHookForm","BodyLong","FormattedMessage","RadioGroupPanel","isRequired","Radio","ExpansionCard","Heading","HStack","BodyShort","Link","StepButtonsHookForm","UtenlandsoppholdSteg$1"],"mappings":"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"}