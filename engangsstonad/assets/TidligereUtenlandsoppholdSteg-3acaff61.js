import{j as e}from"./jsx-runtime-69eee039.js";import{r as c}from"./index-7c191284.js";import{u as I,j as r,D as O,m as P,V as f,F as u,d as M,T as C,g as R,P as H}from"./IntlProvider-5629c4a2.js";import{a as V,b as B,D as _,u as G,c as $,F as q,E as w,S as z}from"./ErrorSummaryHookForm-79cf6d12.js";import"./_baseToString-8992fead.js";import"./_createSet-409f46e6.js";import{i as E,f as K,g as v,h as L,j as Y,k as y,l as U,m as F,n as W,a as J,u as Q,o as X,b as k,E as x,c as Z,P as N}from"./useEsNavigator-9372cce6.js";const ee=({index:a,fjernOpphold:T})=>{const{i18n:t}=I(),{watch:p,trigger:S,formState:{isSubmitted:g}}=V(),D=p("utenlandsoppholdSiste12Mnd").filter((i,d)=>d!==a),o=p(`utenlandsoppholdSiste12Mnd.${a}.fom`),n=p(`utenlandsoppholdSiste12Mnd.${a}.tom`),l=r(O).toDate(),s=n?r(n).toDate():r(P).toDate(),m=o?r(o).toDate():r(O).toDate(),h=r(P).toDate();return e.jsxs(f,{gap:"5",align:"start",children:[e.jsx(B,{name:`utenlandsoppholdSiste12Mnd.${a}.landkode`,label:e.jsx(u,{id:"TidligereUtenlandsoppholdSteg.Spørsmål.HvilketLandHarDuBoddI"}),validate:[E(t("TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandDuHarBoddIPåkrevd"))],children:K().map(i=>e.jsx("option",{value:i[0],children:i[1]},i[0]))}),e.jsx(_,{name:`utenlandsoppholdSiste12Mnd.${a}.fom`,label:e.jsx(u,{id:"TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Fraogmed"}),minDate:l,maxDate:s,validate:[E(t("TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandFomDuSkalBoIPåkreved")),v(t("TidligereUtenlandsoppholdSteg.FraOgMedDato.GyldigDato")),L(t("TidligereUtenlandsoppholdSteg.FomErLikTom"),n),Y(t("TidligereUtenlandsoppholdSteg.Utenlandsopphold.FørTilDato"),n),y(t("TidligereUtenlandsoppholdSteg.DateOutsideRangeFom",{min:U(l),max:U(s)}),l,s),F(t("TidligereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"),{date:n,isStartDate:!1},D)],onChange:()=>g&&S()}),e.jsx(_,{name:`utenlandsoppholdSiste12Mnd.${a}.tom`,label:e.jsx(u,{id:"TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Tilogmed"}),minDate:m,maxDate:h,validate:[E(t("TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandTomDuHarBoddIPåkreved")),v(t("TidligereUtenlandsoppholdSteg.TilOgMedDato.GyldigDato")),L(t("TidligereUtenlandsoppholdSteg.TomErLikFom"),o),W(t("TidligereUtenlandsoppholdSteg.Utenlandsopphold.EtterFraDato"),o),y(t("TidligereUtenlandsoppholdSteg.DateOutsideRangeTom",{min:U(m),max:U(h)}),m,h),F(t("TidligereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"),{date:o,isStartDate:!0},D)],onChange:()=>g&&S()}),a>0&&e.jsx(M,{type:"button",variant:"tertiary",size:"small",icon:e.jsx(C,{"aria-hidden":!0}),onClick:()=>T(a),children:e.jsx(u,{id:"TidligereUtenlandsoppholdSteg.Knapp.SlettOpphold"})})]})};try{TidligereUtenlandsoppholdPeriode.displayName="TidligereUtenlandsoppholdPeriode",TidligereUtenlandsoppholdPeriode.__docgenInfo={description:"",displayName:"TidligereUtenlandsoppholdPeriode",props:{index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},fjernOpphold:{defaultValue:null,description:"",name:"fjernOpphold",required:!0,type:{name:"(index: number) => void"}}}}}catch{}const b={fom:"",tom:"",landkode:""},te={utenlandsoppholdSiste12Mnd:[b]},j=()=>{const{i18n:a}=I(),T=J(),t=Q(),p=X(k(x.UTENLANDSOPPHOLD)),S=k(x.UTENLANDSOPPHOLD_TIDLIGERE),g=Z(x.UTENLANDSOPPHOLD_TIDLIGERE),D=c.useMemo(()=>S||te,[]),o=G({defaultValues:D}),{fields:n,append:l,remove:s}=$({name:"utenlandsoppholdSiste12Mnd",control:o.control}),m=c.useCallback(()=>{l(b)},[l]),h=c.useCallback(d=>{s(d)},[s]),i=c.useCallback(d=>{g(d),t.goToNextStep(p.skalBoUtenforNorgeNeste12Mnd?N.SENERE_UTENLANDSOPPHOLD:N.OPPSUMMERING)},[]);return e.jsx(R,{bannerTitle:a("Søknad.Pageheading"),pageTitle:a("TidligereUtenlandsoppholdSteg.Tidligere"),onCancel:t.avbrytSøknad,steps:T.stepConfig,activeStepId:T.activeStepId,useNoTempSavingText:!0,children:e.jsx(q,{formMethods:o,onSubmit:i,children:e.jsxs(f,{gap:"10",children:[e.jsx(w,{}),e.jsxs(f,{gap:"10",align:"start",children:[n.map((d,A)=>e.jsxs(c.Fragment,{children:[e.jsx(ee,{index:A,fjernOpphold:h}),n.length>1&&e.jsx("hr",{style:{width:"100%"},color:"#99C4DD"})]},d.id)),e.jsx(M,{type:"button",variant:"secondary",size:"small",icon:e.jsx(H,{"aria-hidden":!0}),onClick:m,children:e.jsx(u,{id:"TidligereUtenlandsoppholdSteg.Knapp.LeggTilLand"})})]}),e.jsx(z,{goToPreviousStep:t.goToPreviousDefaultStep,saveDataOnPreviousClick:g})]})})})},re=j;try{j.displayName="TidligereUtenlandsoppholdSteg",j.__docgenInfo={description:"",displayName:"TidligereUtenlandsoppholdSteg",props:{}}}catch{}export{re as T};
//# sourceMappingURL=TidligereUtenlandsoppholdSteg-3acaff61.js.map
