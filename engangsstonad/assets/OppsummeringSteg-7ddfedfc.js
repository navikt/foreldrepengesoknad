import{j as e}from"./jsx-runtime-69eee039.js";import{r as f}from"./index-7c191284.js";import{g as x,A as _,H,u as k,V as m,b as l,B as a,F as o,f as b,w as M,i as R,e as Y,C as w}from"./IntlProvider-705c2bb3.js";import{a as u}from"./dateUtils-f49d068a.js";import{A as E,S as G}from"./StepButtons-32021d55.js";import{n as j,h as K,j as z,a as J,u as Q,b as c,E as g}from"./useEsNavigator-8eca5e12.js";import{e as W,b as I,a as P}from"./Attachment-0260a327.js";import"./countryUtils-ea39d97c.js";const X="DD.MM.YYYY",Z=s=>x(s).format(X),ee=s=>!!s.terminbekreftelsedato;const h=({tittel:s,children:n})=>{const[t,r]=f.useState(!1),d=f.useCallback(()=>r(p=>!p),[]);return e.jsxs(_.Item,{children:[e.jsx(_.Header,{className:t?"accordian_header":void 0,onClick:d,children:e.jsx(H,{level:"2",size:"small",children:s})}),e.jsx(_.Content,{className:"content_margin",children:n})]})};try{h.displayName="Oppsummeringspunkt",h.__docgenInfo={description:"",displayName:"Oppsummeringspunkt",props:{tittel:{defaultValue:null,description:"",name:"tittel",required:!0,type:{name:"string"}}}}}catch{}const B=({omBarnet:s,dokumentasjon:n})=>{const t=k(),r=W(s),d=I(s),p=P(s);let i;return s.antallBarn===1?i=t.formatMessage({id:"oppsummering.omBarnet.ettBarn"}):s.antallBarn===2&&!r?i=t.formatMessage({id:"oppsummering.omBarnet.tvillinger"}):s.antallBarn===2&&r?i=t.formatMessage({id:"oppsummering.omBarnet.toBarn"}):i=t.formatMessage({id:"oppsummering.omBarnet.flereBarn"},{antall:s.antallBarn}),e.jsxs(m,{gap:"4",children:[e.jsxs(l,{gap:"2",children:[e.jsx(a,{children:e.jsx(o,{id:"oppsummering.text.soknadenGjelder"})}),e.jsx(a,{children:i})]}),r&&e.jsxs(e.Fragment,{children:[e.jsxs(l,{gap:"2",children:[e.jsx(a,{children:e.jsx(o,{id:"oppsummering.text.medAdopsjonsdato"})}),e.jsx(a,{children:u(s.adopsjonsdato)})]}),e.jsxs(l,{gap:"2",children:[e.jsx(a,{children:e.jsx(o,{id:s.fødselsdatoer.length>1?"oppsummering.text.medFødselsdatoer":"oppsummering.text.medFødselsdato"})}),e.jsx(b,{children:s.fødselsdatoer.map((N,O)=>u(s.fødselsdatoer[O].dato)).join(", ")})]}),e.jsx(M,{children:e.jsx(o,{id:"oppsummering.text.vedlagtOmsorgsovertakelseBekreftelse"})}),e.jsx(E,{attachments:j(n).vedlegg})]}),p&&e.jsxs(l,{gap:"2",children:[e.jsx(a,{children:e.jsx(o,{id:"oppsummering.text.medFødselsdato"})}),e.jsx(a,{children:u(s.fødselsdatoer[0].dato)})]}),d&&n&&ee(n)&&e.jsxs(e.Fragment,{children:[e.jsxs(l,{gap:"2",children:[e.jsx(a,{children:e.jsx(o,{id:"oppsummering.text.medTermindato"})}),e.jsx(a,{children:u(s.termindato)})]}),e.jsxs(l,{gap:"2",children:[e.jsx(a,{children:e.jsx(o,{id:"oppsummering.text.somErDatert"})}),e.jsx(a,{children:u(n.terminbekreftelsedato)})]}),e.jsx(M,{children:e.jsx(o,{id:"oppsummering.text.vedlagtTerminbekreftelse"})}),e.jsx(E,{attachments:n.vedlegg})]})]})};try{B.displayName="OmBarnetOppsummering",B.__docgenInfo={description:"",displayName:"OmBarnetOppsummering",props:{omBarnet:{defaultValue:null,description:"",name:"omBarnet",required:!0,type:{name:"OmBarnet"}},dokumentasjon:{defaultValue:null,description:"",name:"dokumentasjon",required:!1,type:{name:"Dokumentasjon"}}}}}catch{}const L=(s,n)=>z(s)?n.formatMessage({id:"LandOppsummering.IDag"}):Z(s),se=(s,n)=>x(s.fom).isAfter(n.fom,"day")?1:0,S=({utenlandsoppholdListe:s})=>{const n=k();return e.jsx(e.Fragment,{children:s.sort(se).map(t=>e.jsx("div",{style:{backgroundColor:"var(--a-blue-100)",padding:"16px",borderRadius:"2px"},children:e.jsxs(m,{gap:"1",children:[e.jsx(M,{children:e.jsx(o,{id:K(t.fom)?"LandOppsummering.HarBodd":"LandOppsummering.SkalBo",values:{country:R.getName(t.landkode,"nb")}})}),e.jsxs(b,{children:[L(t.fom,n)," - ",L(t.tom,n)]})]})},`${t.landkode}${t.fom}`))})};try{S.displayName="LandOppsummering",S.__docgenInfo={description:"",displayName:"LandOppsummering",props:{utenlandsoppholdListe:{defaultValue:null,description:"",name:"utenlandsoppholdListe",required:!0,type:{name:"UtenlandsoppholdPeriode[]"}}}}}catch{}const U=(s,n,t)=>x(s).isBetween(x(n),x(t),"day","[]"),F=(s,n=[],t=[])=>n.some(r=>U(s,r.fom,r.tom))||t.some(r=>U(s,r.fom,r.tom)),T=({omBarnet:s,utenlandsopphold:n,tidligereUtenlandsopphold:t,senereUtenlandsopphold:r})=>{const d=k(),p=I(s),i=P(s);return e.jsxs(m,{gap:"5",children:[e.jsxs(m,{gap:"2",children:[n.harBoddUtenforNorgeSiste12Mnd&&e.jsx(S,{utenlandsoppholdListe:j(t).utenlandsoppholdSiste12Mnd}),n.skalBoUtenforNorgeNeste12Mnd&&e.jsx(S,{utenlandsoppholdListe:j(r).utenlandsoppholdNeste12Mnd})]}),n.harBoddUtenforNorgeSiste12Mnd===!1&&e.jsx(a,{children:e.jsx(o,{id:"UtenlandsoppholdOppsummering.BoddSisteTolv",values:{country:d.formatMessage({id:"UtenlandsoppholdOppsummering.Norge"})}})}),n.skalBoUtenforNorgeNeste12Mnd===!1&&e.jsx(a,{children:e.jsx(o,{id:"UtenlandsoppholdOppsummering.BoNesteTolv",values:{country:d.formatMessage({id:"UtenlandsoppholdOppsummering.Norge"})}})}),p&&e.jsx(l,{gap:"2",children:e.jsx(a,{children:e.jsx(o,{id:"UtenlandsoppholdOppsummering.Text.OgKommerPåFødselstidspunktet",values:{country:d.formatMessage({id:F(s.termindato,t==null?void 0:t.utenlandsoppholdSiste12Mnd,r==null?void 0:r.utenlandsoppholdNeste12Mnd)?"UtenlandsoppholdOppsummering.Utlandet":"UtenlandsoppholdOppsummering.Norge"})}})})}),i&&e.jsx(a,{children:e.jsx(o,{id:"UtenlandsoppholdOppsummering.VarPåFødselstidspunktet",values:{country:d.formatMessage({id:F(s.fødselsdatoer[0].dato,t==null?void 0:t.utenlandsoppholdSiste12Mnd,r==null?void 0:r.utenlandsoppholdNeste12Mnd)?"UtenlandsoppholdOppsummering.Utlandet":"UtenlandsoppholdOppsummering.Norge"})}})})]})};try{T.displayName="UtenlandsoppholdOppsummering",T.__docgenInfo={description:"",displayName:"UtenlandsoppholdOppsummering",props:{omBarnet:{defaultValue:null,description:"",name:"omBarnet",required:!0,type:{name:"OmBarnet"}},utenlandsopphold:{defaultValue:null,description:"",name:"utenlandsopphold",required:!0,type:{name:"Utenlandsopphold"}},tidligereUtenlandsopphold:{defaultValue:null,description:"",name:"tidligereUtenlandsopphold",required:!1,type:{name:"UtenlandsoppholdTidligere"}},senereUtenlandsopphold:{defaultValue:null,description:"",name:"senereUtenlandsopphold",required:!1,type:{name:"UtenlandsoppholdSenere"}}}}}catch{}const te=(s,n,t)=>t?`${s} ${t} ${n}`:`${s} ${n}`,D=({person:s,sendSøknad:n})=>{const t=k(),r=J(),d=Q(),p=j(c(g.OM_BARNET)),i=j(c(g.UTENLANDSOPPHOLD)),N=c(g.DOKUMENTASJON),O=c(g.UTENLANDSOPPHOLD_TIDLIGERE),v=c(g.UTENLANDSOPPHOLD_SENERE),[y,A]=f.useState(!1),[C,V]=f.useState(!1),q=f.useCallback(()=>{y?n(p,i,N,O,v):V(!0)},[y]);return e.jsx(Y,{bannerTitle:t.formatMessage({id:"Søknad.Pageheading"}),pageTitle:t.formatMessage({id:"søknad.oppsummering"}),onCancel:d.avbrytSøknad,steps:r.stepConfig,activeStepId:r.activeStepId,useNoTempSavingText:!0,children:e.jsxs(m,{gap:"10",children:[e.jsxs(_,{indent:!1,children:[e.jsx(h,{tittel:t.formatMessage({id:"søknad.omDeg"}),children:e.jsxs(m,{gap:"4",children:[e.jsx(a,{children:te(s.fornavn,s.etternavn,s.mellomnavn)}),e.jsx(a,{children:s.fnr})]})}),e.jsx(h,{tittel:t.formatMessage({id:"OmBarnetSteg.OmBarnet"}),children:e.jsx(B,{omBarnet:p,dokumentasjon:N})}),e.jsx(h,{tittel:t.formatMessage({id:"OppsummeringSteg.Utenlandsopphold"}),children:e.jsx(T,{omBarnet:p,utenlandsopphold:i,tidligereUtenlandsopphold:O,senereUtenlandsopphold:v})})]}),e.jsx(w,{label:t.formatMessage({id:"oppsummering.text.samtykke"}),onChange:()=>A($=>!$),checked:y,error:C&&!y&&t.formatMessage({id:"OppsummeringSteg.Validering.BekrefteOpplysninger"})}),e.jsx(G,{goToPreviousStep:d.goToPreviousDefaultStep,nextButtonText:t.formatMessage({id:"oppsummering.button.sendSøknad"}),nextButtonOnClick:q})]})})},me=D;try{D.displayName="OppsummeringSteg",D.__docgenInfo={description:"",displayName:"OppsummeringSteg",props:{person:{defaultValue:null,description:"",name:"person",required:!0,type:{name:"Person"}},sendSøknad:{defaultValue:null,description:"",name:"sendSøknad",required:!0,type:{name:"(omBarnet: OmBarnet, utenlandsopphold: Utenlandsopphold, dokumentasjon?: Dokumentasjon | undefined, tidligereUtenlandsopphold?: UtenlandsoppholdTidligere | undefined, senereUtenlandsopphold?: UtenlandsoppholdSenere | undefined) => Promise<...>"}}}}}catch{}export{me as O,ee as e};
//# sourceMappingURL=OppsummeringSteg-7ddfedfc.js.map
