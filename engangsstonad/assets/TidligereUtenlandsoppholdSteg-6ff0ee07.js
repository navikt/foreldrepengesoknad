import{e as g,j as e,V as f,F as u,c as M,T as C,S as R,P as H}from"./index-522fa98d.js";import{r as T}from"./_baseToString-4ec4abc0.js";import{a as B,b as V,D as O,u as G,c as $,F as q,E as w,S as z}from"./ErrorSummaryHookForm-96cdbd17.js";import"./_createSet-fd84fb43.js";import{u as I,D as P,h as _,e as E,j as K,k as v,m as L,n as Y,o as k,p as U,q as y,r as W,b as J,a as Q,s as X,c as F,E as x,d as Z,P as N}from"./useEsNavigator-96d560c6.js";const ee=({index:a,fjernOpphold:S})=>{const{i18n:t}=I(),{watch:l,trigger:m,formState:{isSubmitted:s}}=B(),D=l("utenlandsoppholdSiste12Mnd").filter((p,d)=>d!==a),o=l(`utenlandsoppholdSiste12Mnd.${a}.fom`),n=l(`utenlandsoppholdSiste12Mnd.${a}.tom`),i=g(P).toDate(),r=n?g(n).toDate():g(_).toDate(),h=o?g(o).toDate():g(P).toDate(),c=g(_).toDate();return e.jsxs(f,{gap:"5",align:"start",children:[e.jsx(V,{name:`utenlandsoppholdSiste12Mnd.${a}.landkode`,label:e.jsx(u,{id:"TidligereUtenlandsoppholdSteg.Spørsmål.HvilketLandHarDuBoddI"}),validate:[E(t("TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandDuHarBoddIPåkrevd"))],children:K().map(p=>e.jsx("option",{value:p[0],children:p[1]},p[0]))}),e.jsx(O,{name:`utenlandsoppholdSiste12Mnd.${a}.fom`,label:e.jsx(u,{id:"TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Fraogmed"}),minDate:i,maxDate:r,validate:[E(t("TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandFomDuSkalBoIPåkreved")),v(t("TidligereUtenlandsoppholdSteg.FraOgMedDato.GyldigDato")),L(t("TidligereUtenlandsoppholdSteg.FomErLikTom"),n),Y(t("TidligereUtenlandsoppholdSteg.Utenlandsopphold.FørTilDato"),n),k(t("TidligereUtenlandsoppholdSteg.DateOutsideRangeFom",{min:U(i),max:U(r)}),i,r),y(t("TidligereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"),{date:n,isStartDate:!1},D)],onChange:()=>s&&m()}),e.jsx(O,{name:`utenlandsoppholdSiste12Mnd.${a}.tom`,label:e.jsx(u,{id:"TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Tilogmed"}),minDate:h,maxDate:c,validate:[E(t("TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandTomDuHarBoddIPåkreved")),v(t("TidligereUtenlandsoppholdSteg.TilOgMedDato.GyldigDato")),L(t("TidligereUtenlandsoppholdSteg.TomErLikFom"),o),W(t("TidligereUtenlandsoppholdSteg.Utenlandsopphold.EtterFraDato"),o),k(t("TidligereUtenlandsoppholdSteg.DateOutsideRangeTom",{min:U(h),max:U(c)}),h,c),y(t("TidligereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"),{date:o,isStartDate:!0},D)],onChange:()=>s&&m()}),a>0&&e.jsx(M,{type:"button",variant:"tertiary",size:"small",icon:e.jsx(C,{"aria-hidden":!0}),onClick:()=>S(a),children:e.jsx(u,{id:"TidligereUtenlandsoppholdSteg.Knapp.SlettOpphold"})})]})};try{TidligereUtenlandsoppholdPeriode.displayName="TidligereUtenlandsoppholdPeriode",TidligereUtenlandsoppholdPeriode.__docgenInfo={description:"",displayName:"TidligereUtenlandsoppholdPeriode",props:{index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},fjernOpphold:{defaultValue:null,description:"",name:"fjernOpphold",required:!0,type:{name:"(index: number) => void"}}}}}catch{}const b={fom:"",tom:"",landkode:""},te={utenlandsoppholdSiste12Mnd:[b]},j=()=>{const{i18n:a}=I(),S=J(),t=Q(),l=X(F(x.UTENLANDSOPPHOLD)),m=F(x.UTENLANDSOPPHOLD_TIDLIGERE),s=Z(x.UTENLANDSOPPHOLD_TIDLIGERE),D=T.useMemo(()=>m||te,[m]),o=G({defaultValues:D}),{fields:n,append:i,remove:r}=$({name:"utenlandsoppholdSiste12Mnd",control:o.control}),h=T.useCallback(()=>{i(b)},[i]),c=T.useCallback(d=>{r(d)},[r]),p=T.useCallback(d=>{s(d),t.goToNextStep(l.skalBoUtenforNorgeNeste12Mnd?N.SENERE_UTENLANDSOPPHOLD:N.OPPSUMMERING)},[s,t,l.skalBoUtenforNorgeNeste12Mnd]);return e.jsx(R,{bannerTitle:a("Søknad.Pageheading"),pageTitle:a("TidligereUtenlandsoppholdSteg.Tidligere"),onCancel:t.avbrytSøknad,steps:S.stepConfig,activeStepId:S.activeStepId,useNoTempSavingText:!0,children:e.jsx(q,{formMethods:o,onSubmit:p,children:e.jsxs(f,{gap:"10",children:[e.jsx(w,{}),e.jsxs(f,{gap:"10",align:"start",children:[n.map((d,A)=>e.jsxs(T.Fragment,{children:[e.jsx(ee,{index:A,fjernOpphold:c}),n.length>1&&e.jsx("hr",{style:{width:"100%"},color:"#99C4DD"})]},d.id)),e.jsx(M,{type:"button",variant:"secondary",size:"small",icon:e.jsx(H,{"aria-hidden":!0}),onClick:h,children:e.jsx(u,{id:"TidligereUtenlandsoppholdSteg.Knapp.LeggTilLand"})})]}),e.jsx(z,{goToPreviousStep:t.goToPreviousDefaultStep,saveDataOnPreviousClick:s})]})})})},se=j;try{j.displayName="TidligereUtenlandsoppholdSteg",j.__docgenInfo={description:"",displayName:"TidligereUtenlandsoppholdSteg",props:{}}}catch{}export{se as T};
//# sourceMappingURL=TidligereUtenlandsoppholdSteg-6ff0ee07.js.map
