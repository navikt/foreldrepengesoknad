import{j as e,F as l,d as c,S as R}from"./fridagerUtils-39f895c9.js";import{b,R as x,D as P,c as _,d as N,u as M,F as I,E as q,S as w}from"./ErrorSummaryHookForm-7d5d77dc.js";import{r as C}from"./index-f1f2c4b1.js";import"./_baseToString-b5f87fbe.js";import"./_createSet-915b0824.js";import{u as h,e as i,g,h as E,j as V,k as L,m as G,V as k,o as K,a as J,b as U,c as T,C as v,d as O,n as H,P as S}from"./useEsNavigator-195c11a8.js";import{R as d}from"./Radio-98f4230d.js";const $=(a,n)=>{const s={...a};return delete s[n],s},W=()=>{const{i18n:a}=h(),{watch:n}=b(),s=n("erBarnetFødt"),t=n("antallBarn");return e.jsxs(e.Fragment,{children:[e.jsxs(x,{name:"erBarnetFødt",label:e.jsx(l,{id:"FødselPanel.Spørsmål.ErBarnetFødt"}),validate:[i(a("FødselPanel.Spørsmål.ErBarnetFødt.Required"))],children:[e.jsx(d,{value:!0,children:e.jsx(l,{id:"FødselPanel.Radiobutton.Ja"})}),e.jsx(d,{value:!1,children:e.jsx(l,{id:"FødselPanel.Radiobutton.Nei"})})]}),s&&e.jsx(P,{name:"fødselsdato",label:e.jsx(l,{id:"FødselPanel.Fødselsdato"}),description:a("FødselPanel.TermindatoFodselsdato.beskrivelse"),minDate:c().subtract(6,"month").toDate(),maxDate:c().toDate(),validate:[i(a("FødselPanel.Fødselsdato.DuMåOppgi")),g(a("FødselPanel.Fødselsdato.Gyldig")),E(a("FødselPanel.Fodselsdato.MåVæreIdagEllerTidligere")),V(a("FødselPanel.Fodselsdato.IkkeMerEnn6MånederTilbake"))]}),!s&&e.jsx(P,{name:"termindato",label:e.jsx(l,{id:"FødselPanel.Termindato"}),description:a("FødselPanel.TermindatoFodselsdato.beskrivelse"),minDate:c().subtract(3,"week").toDate(),maxDate:c().add(18,"weeks").add(3,"days").toDate(),validate:[i(a("FødselPanel.Termindato.DuMåOppgi")),g(a("FødselPanel.Termindato.Gyldig")),L(a("FødselPanel.Termindato.TermindatoKanIkkeVære3UkerFraIdag")),G(a("FødselPanel.Termindato.DuMåVæreIUke22"))]}),e.jsxs(x,{name:"antallBarn",label:a(s?"FødselPanel.AntallBarn.Født":"FødselPanel.AntallBarn.Termin"),description:a("FødselPanel.AntallBarn.TerminBeskrivelse"),validate:[i(a(s?"FødselPanel.AntallBarn.Født.Required":"FødselPanel.AntallBarn.Venter.Required"))],children:[e.jsx(d,{value:1,children:e.jsx(l,{id:"FødselPanel.Radiobutton.Ettbarn"})}),e.jsx(d,{value:2,children:e.jsx(l,{id:"FødselPanel.Radiobutton.Tvillinger"})}),e.jsx(d,{value:3,children:e.jsx(l,{id:"FødselPanel.Radiobutton.Flere"})})]}),t>=3&&e.jsxs(_,{name:"antallBarnDropDown",label:a(s?"FødselPanel.AntallBarn.Født":"FødselPanel.AntallBarn.Termin"),validate:[i(a(s?"FødselPanel.AntallBarn.Født.Required":"FødselPanel.AntallBarn.Venter.Required"))],children:[e.jsx("option",{value:"3",children:"3"}),e.jsx("option",{value:"4",children:"4"}),e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"6",children:"6"}),e.jsx("option",{value:"7",children:"7"}),e.jsx("option",{value:"8",children:"8"}),e.jsx("option",{value:"9",children:"9"})]})]})};try{FdselPanel.displayName="FdselPanel",FdselPanel.__docgenInfo={description:"",displayName:"FdselPanel",props:{}}}catch{}const D=({adopsjonsdato:a,antallBarn:n,antallBarnDropDown:s})=>{const{i18n:t}=h(),{control:u}=b(),{fields:o,remove:j,append:A}=N({control:u,name:"fødselsdatoer"});return C.useEffect(()=>{if(!n||n===3&&!s)return;const r=n<3||!s?n:Number.parseInt(s,10),p=o.length-r;p>0&&[...new Array(p)].forEach((m,B)=>{j(o.length-B-1)}),p<0&&[...new Array(r-o.length)].forEach(()=>{A({dato:void 0})})},[n,s,A,o.length,j]),e.jsx(k,{gap:"10",children:o.map((r,p)=>e.jsx(P,{name:`fødselsdatoer.${p}.dato`,minDate:c().subtract(15,"year").toDate(),maxDate:c().toDate(),label:o.length===1?t("AdopsjonFodselFieldArray.Fødselsdato"):t(`AdopsjonFodselFieldArray.Spørsmål.Fødselsdato.${p+1}`),validate:[i(t("AdopsjonFodselFieldArray.Fodselsdato.DuMåOppgi")),g(t("AdopsjonFodselFieldArray.Fødselsdato.Gyldig")),m=>!m||!a?void 0:E(t("AdopsjonFodselFieldArray.fodselsdato.MåVæreIdagEllerTidligere"))(m)]},r.id))})};try{D.displayName="AdopsjonFodselFieldArray",D.__docgenInfo={description:"",displayName:"AdopsjonFodselFieldArray",props:{antallBarn:{defaultValue:null,description:"",name:"antallBarn",required:!1,type:{name:"number"}},antallBarnDropDown:{defaultValue:null,description:"",name:"antallBarnDropDown",required:!1,type:{name:"string"}},adopsjonsdato:{defaultValue:null,description:"",name:"adopsjonsdato",required:!1,type:{name:"string"}}}}}catch{}const y=({kjønn:a})=>{const{i18n:n}=h(),{watch:s}=b(),{adopsjonAvEktefellesBarn:t,adopsjonsdato:u,antallBarn:o,antallBarnDropDown:j}=s();return e.jsxs(e.Fragment,{children:[e.jsxs(x,{name:"adopsjonAvEktefellesBarn",label:e.jsx(l,{id:"AdopsjonPanel.Spørsmål.Stebarnsadopsjon"}),validate:[i(n("AdopsjonPanel.Spørsmål.Required"))],children:[e.jsx(d,{value:!0,children:e.jsx(l,{id:"AdopsjonPanel.Ja"})}),e.jsx(d,{value:!1,children:e.jsx(l,{id:"AdopsjonPanel.Nei"})})]}),e.jsx(P,{name:"adopsjonsdato",label:n(t?"AdopsjonPanel.Spørsmål.Stebarnsadopsjondato":"AdopsjonPanel.Spørsmål.Overtaomsorgdato"),minDate:c().subtract(6,"month").toDate(),validate:[i(n(t?"AdopsjonPanel.EktefellensBarn.DuMåOppgi":"AdopsjonPanel.OvertaOmsorg.DuMåOppgi")),g(n(t?"AdopsjonPanel.Adopsjonsdato.GyldigFormat":"AdopsjonPanel.Omsorgsovertakelsen.GyldigFormat")),K(n("AdopsjonPanel.AdopsjonDato.ForLangtFremITid"))]}),e.jsxs(x,{name:"antallBarn",label:e.jsx(l,{id:"AdopsjonPanel.Spørsmål.AntallBarnAdoptert"}),description:e.jsx(l,{id:"AdopsjonPanel.Spørsmål.AntallBarnAdoptert.Beskrivelse"}),validate:[i(n("AdopsjonPanel.Antallbarn.Required"))],children:[e.jsx(d,{value:1,children:e.jsx(l,{id:"AdopsjonPanel.Radiobutton.Ettbarn"})}),e.jsx(d,{value:2,children:e.jsx(l,{id:"AdopsjonPanel.Radiobutton.ToBarn"})}),e.jsx(d,{value:3,children:e.jsx(l,{id:"AdopsjonPanel.Radiobutton.Flere"})})]}),o&&o>=3&&e.jsxs(_,{name:"antallBarnDropDown",label:e.jsx(l,{id:"AdopsjonPanel.AntallBarn.Omsorgsovertakelse"}),validate:[i(n("AdopsjonPanel.Antallbarndropdown.Required"))],children:[e.jsx("option",{value:"3",children:"3"}),e.jsx("option",{value:"4",children:"4"}),e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"6",children:"6"}),e.jsx("option",{value:"7",children:"7"}),e.jsx("option",{value:"8",children:"8"}),e.jsx("option",{value:"9",children:"9"})]}),e.jsx(D,{adopsjonsdato:u,antallBarn:o,antallBarnDropDown:j}),a==="M"&&t===!1&&e.jsxs(x,{name:"søkerAdopsjonAlene",label:e.jsx(l,{id:"AdopsjonPanel.Spørsmål.AdoptererDuAlene"}),validate:[i(n("AdopsjonPanel.AdoptererDuAlene.Required"))],children:[e.jsx(d,{value:!0,children:e.jsx(l,{id:"AdopsjonPanel.Ja"})}),e.jsx(d,{value:!1,children:e.jsx(l,{id:"AdopsjonPanel.Nei"})})]})]})};try{y.displayName="AdopsjonPanel",y.__docgenInfo={description:"",displayName:"AdopsjonPanel",props:{kjønn:{defaultValue:null,description:"",name:"kjønn",required:!0,type:{name:"enum",value:[{value:'"M"'},{value:'"K"'}]}}}}}catch{}const Y=(a,n)=>n.situasjon==="adopsjon"?S.ADOPSJONSBEKREFTELSE:a.erBarnetFødt===!1?S.TERMINBEKREFTELSE:S.UTENLANDSOPPHOLD,z=a=>({...$(a,"antallBarnDropDown"),antallBarn:a.antallBarn>2&&a.antallBarnDropDown?Number.parseInt(a.antallBarnDropDown,10):a.antallBarn}),Q=a=>({...a,antallBarn:a.antallBarn>2?3:a.antallBarn,antallBarnDropDown:a.antallBarn>2?a.antallBarn.toString():void 0}),f=({kjønn:a,mellomlagreOgNaviger:n})=>{const{i18n:s}=h(),t=J(),u=U(n),o=T(v.OM_BARNET),j=O(v.OM_BARNET),A=O(v.DOKUMENTASJON),r=H(T(v.SØKERSITUASJON)),p=F=>j(z(F)),m=F=>(p(F),F.erBarnetFødt===!0&&A(void 0),u.goToNextStep(Y(F,r))),B=M({defaultValues:o?Q(o):{}});return e.jsx(R,{bannerTitle:s("Søknad.Pageheading"),onCancel:u.avbrytSøknad,onContinueLater:u.fortsettSøknadSenere,steps:t,children:e.jsx(I,{formMethods:B,onSubmit:m,children:e.jsxs(k,{gap:"10",children:[e.jsx(q,{}),(r==null?void 0:r.situasjon)==="adopsjon"&&e.jsx(y,{kjønn:a}),(r==null?void 0:r.situasjon)==="fødsel"&&e.jsx(W,{}),e.jsx(w,{goToPreviousStep:u.goToPreviousDefaultStep,saveDataOnPreviousClick:p})]})})})},te=f;try{f.displayName="OmBarnetSteg",f.__docgenInfo={description:"",displayName:"OmBarnetSteg",props:{kjønn:{defaultValue:null,description:"",name:"kjønn",required:!0,type:{name:"enum",value:[{value:'"M"'},{value:'"K"'}]}},mellomlagreOgNaviger:{defaultValue:null,description:"",name:"mellomlagreOgNaviger",required:!0,type:{name:"() => Promise<void>"}}}}}catch{}export{te as O};
