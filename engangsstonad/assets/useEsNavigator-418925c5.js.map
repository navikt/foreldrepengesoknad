{"version":3,"file":"useEsNavigator-418925c5.js","sources":["../../../../packages/validation/src/other/validation.ts","../../../../packages/validation/src/form/generalFormValidation.ts","../../../../packages/validation/src/form/dateFormValidation.ts","../../src/appData/EsDataContext.tsx","../../src/appData/useStepData.ts","../../src/appData/useEsNavigator.ts"],"sourcesContent":["import { DATE_TODAY } from '@navikt/fp-constants';\nimport dayjs from 'dayjs';\nimport isSameOrBefore from 'dayjs/plugin/isSameOrBefore';\nimport isSameOrAfter from 'dayjs/plugin/isSameOrAfter';\n\ndayjs.extend(isSameOrBefore);\ndayjs.extend(isSameOrAfter);\n\n// Throw Error when undefined or null, otherwise return non-nullable version of object\nexport const notEmpty = <T>(data: T): NonNullable<T> => {\n    if (data === undefined || data === null) {\n        throw Error('Data er ikke oppgitt');\n    }\n    return data;\n};\n\nexport const isAfterToday = (date: string): boolean => dayjs(date).isAfter(DATE_TODAY, 'day');\nexport const isBeforeToday = (date: string): boolean => dayjs(date).isBefore(DATE_TODAY, 'day');\nexport const isSameOrAfterToday = (date: string): boolean => dayjs(date).isSameOrAfter(DATE_TODAY);\nexport const isSameOrBeforeToday = (date: string): boolean => dayjs(date).isSameOrBefore(DATE_TODAY);\nexport const isDateWithinRange = (date: Date, minDate: Date, maxDate: Date): boolean =>\n    dayjs(date).isBetween(minDate, maxDate, 'day', '[]');\n","import dayjs from 'dayjs';\nimport { IntlShape } from 'react-intl';\n\nexport const isEmpty = (text?: string | number | boolean | dayjs.Dayjs | null) =>\n    text === null || text === undefined || text.toString().trim().length === 0;\n\nexport type FormValidationResult = string | null;\n\nexport const getGeneralValidators = (intl: IntlShape) => {\n    const isRequired =\n        (i18nId: string) =>\n        (value?: string | number): FormValidationResult =>\n            isEmpty(value) ? intl.formatMessage({ id: i18nId }) : null;\n\n    return {\n        isRequired,\n    };\n};\n","import dayjs from 'dayjs';\nimport { IntlShape } from 'react-intl';\nimport { DATE_TODAY, SIX_MONTHS_AGO } from '@navikt/fp-constants';\nimport isBetween from 'dayjs/plugin/isBetween';\nimport { FormValidationResult, isEmpty } from './generalFormValidation';\n\ndayjs.extend(isBetween);\n\nconst ATTEN_UKER_TRE_DAGER = dayjs().add(18, 'week').add(3, 'day').startOf('day').toDate();\nconst DATO_FOR_3_UKER_SIDEN = dayjs().startOf('day').subtract(21, 'days');\nconst ONE_YEAR_AFTER_TODAY = dayjs().add(1, 'year').startOf('day').toDate();\n\nconst ISO_DATE_REGEX = /(19|20)\\d{2}-(0?[1-9]|1[0-2])-(0?[1-9]|1\\d|2\\d|3[01])$/;\n\nexport const getDateValidators = (intl: IntlShape) => {\n    const isValidDate =\n        (i18nId: string) =>\n        (date: string): FormValidationResult =>\n            isEmpty(date) || ISO_DATE_REGEX.test(date) ? null : intl.formatMessage({ id: i18nId });\n\n    const isBeforeTodayOrToday =\n        (i18nId: string) =>\n        (date: string): FormValidationResult =>\n            dayjs(date).isAfter(DATE_TODAY) ? intl.formatMessage({ id: i18nId }) : null;\n\n    const isAfterOrSameAsSixMonthsAgo =\n        (i18nId: string) =>\n        (date: string): FormValidationResult =>\n            dayjs(date).isBefore(SIX_MONTHS_AGO) ? intl.formatMessage({ id: i18nId }) : null;\n\n    const isDatesNotTheSame =\n        (i18nId: string, date1?: string) =>\n        (date2?: string): FormValidationResult =>\n            date1 && date2 && dayjs(date1).isSame(date2) ? intl.formatMessage({ id: i18nId }) : null;\n\n    const isLessThanThreeWeeksAgo =\n        (i18nId: string) =>\n        (date: string): FormValidationResult => {\n            return dayjs(date).isBefore(DATO_FOR_3_UKER_SIDEN) ? intl.formatMessage({ id: i18nId }) : null;\n        };\n\n    const erI22SvangerskapsukeEllerSenere =\n        (i18nId: string) =>\n        (date: string): FormValidationResult =>\n            dayjs(date).isAfter(ATTEN_UKER_TRE_DAGER) ? intl.formatMessage({ id: i18nId }) : null;\n\n    const isMaxOneYearIntoTheFuture =\n        (i18nId: string) =>\n        (date: string): FormValidationResult =>\n            dayjs(date).isAfter(ONE_YEAR_AFTER_TODAY) ? intl.formatMessage({ id: i18nId }) : null;\n\n    return {\n        isValidDate,\n        isBeforeTodayOrToday,\n        isAfterOrSameAsSixMonthsAgo,\n        isDatesNotTheSame,\n        isLessThanThreeWeeksAgo,\n        erI22SvangerskapsukeEllerSenere,\n        isMaxOneYearIntoTheFuture,\n    };\n};\n","import { createContext, useReducer, FunctionComponent, ReactNode, useContext, useCallback } from 'react';\nimport Dokumentasjon from 'types/Dokumentasjon';\nimport { OmBarnet } from 'types/OmBarnet';\nimport { Søkersituasjon } from 'types/Søkersituasjon';\nimport { Utenlandsopphold, UtenlandsoppholdSenere, UtenlandsoppholdTidligere } from 'types/Utenlandsopphold';\n\nexport enum EsDataType {\n    SØKERSITUASJON = 'SØKERSITUASJON',\n    OM_BARNET = 'OM_BARNET',\n    DOKUMENTASJON = 'DOKUMENTASJON',\n    UTENLANDSOPPHOLD = 'UTENLANDSOPPHOLD',\n    UTENLANDSOPPHOLD_SENERE = 'UTENLANDSOPPHOLD_SENERE',\n    UTENLANDSOPPHOLD_TIDLIGERE = 'UTENLANDSOPPHOLD_TIDLIGERE',\n}\n\nexport type EsDataMap = {\n    [EsDataType.SØKERSITUASJON]?: Søkersituasjon;\n    [EsDataType.OM_BARNET]?: OmBarnet;\n    [EsDataType.DOKUMENTASJON]?: Dokumentasjon;\n    [EsDataType.UTENLANDSOPPHOLD]?: Utenlandsopphold;\n    [EsDataType.UTENLANDSOPPHOLD_SENERE]?: UtenlandsoppholdSenere;\n    [EsDataType.UTENLANDSOPPHOLD_TIDLIGERE]?: UtenlandsoppholdTidligere;\n};\n\nconst defaultInitialState = {} as EsDataMap;\n\nexport type Action = { type: 'update'; key: EsDataType; data: any } | { type: 'reset' };\ntype Dispatch = (action: Action) => void;\ntype State = EsDataMap;\n\nconst EsStateContext = createContext<State>(defaultInitialState);\nconst EsDispatchContext = createContext<Dispatch | undefined>(undefined);\n\ninterface OwnProps {\n    children: ReactNode;\n    initialState?: EsDataMap;\n    testDispatcher?: (action: Action) => void;\n}\n\nexport const EsDataContext: FunctionComponent<OwnProps> = ({ children, initialState, testDispatcher }): JSX.Element => {\n    const [state, dispatch] = useReducer((oldState: State, action: Action) => {\n        switch (action.type) {\n            case 'update':\n                return {\n                    ...oldState,\n                    [action.key]: action.data,\n                };\n            case 'reset':\n                return {};\n            default:\n                throw new Error();\n        }\n    }, initialState || defaultInitialState);\n\n    const dispatchWrapper = useCallback((a: Action) => {\n        if (testDispatcher) {\n            testDispatcher(a);\n        }\n        dispatch(a);\n    }, []);\n\n    return (\n        <EsStateContext.Provider value={state}>\n            <EsDispatchContext.Provider value={dispatchWrapper}>{children}</EsDispatchContext.Provider>\n        </EsStateContext.Provider>\n    );\n};\n\n/** Hook returns save function for one specific data type */\nexport const useEsStateSaveFn = <TYPE extends EsDataType>(key: TYPE): ((data: EsDataMap[TYPE]) => void) => {\n    const dispatch = useContext(EsDispatchContext);\n    return useCallback((data: EsDataMap[TYPE]) => {\n        if (dispatch) {\n            dispatch({ type: 'update', key, data });\n        }\n    }, []);\n};\n\n/** Hook returns save function usable with all data types  */\nexport const useAllStateSaveFn = () => {\n    const dispatch = useContext(EsDispatchContext);\n    return useCallback(<TYPE extends EsDataType>(key: TYPE, data: EsDataMap[TYPE]) => {\n        if (dispatch) {\n            dispatch({ type: 'update', key, data });\n        }\n    }, []);\n};\n\n/** Hook returns state reset function  */\nexport const useEsStateResetFn = () => {\n    const dispatch = useContext(EsDispatchContext);\n    return useCallback(() => {\n        if (dispatch) {\n            dispatch({ type: 'reset' });\n        }\n    }, []);\n};\n\n/** Hook returns data for one specific data type  */\nexport const useEsStateData = <TYPE extends EsDataType>(key: TYPE): EsDataMap[TYPE] => {\n    const state = useContext(EsStateContext);\n    return state[key];\n};\n\n/** Hook returns function capable of getting all types of data from context state  */\nexport const useEsStateAllDataFn = () => {\n    const state = useContext(EsStateContext);\n\n    return useCallback(<TYPE extends EsDataType>(key: TYPE) => {\n        return state[key];\n    }, []);\n};\n","import { useMemo } from 'react';\nimport { useIntl } from 'react-intl';\nimport { useLocation } from 'react-router-dom';\nimport { notEmpty } from '@navikt/fp-validation';\nimport { EsDataType, EsDataMap, useEsStateAllDataFn } from './EsDataContext';\nimport { Path, REQUIRED_APP_STEPS, PATH_ORDER } from './paths';\n\n// TODO Denne bør flyttast ut\nconst PATH_TO_LABEL_MAP = {\n    [Path.SØKERSITUASJON]: 'SøkersituasjonSteg.Søkersituasjon',\n    [Path.OM_BARNET]: 'OmBarnetSteg.OmBarnet',\n    [Path.TERMINBEKREFTELSE]: 'søknad.termin',\n    [Path.ADOPSJONSBEKREFTELSE]: 'søknad.adopsjon',\n    [Path.UTENLANDSOPPHOLD]: 'UtenlandsoppholdSteg.Utenlandsopphold',\n    [Path.TIDLIGERE_UTENLANDSOPPHOLD]: 'TidligereUtenlandsoppholdSteg.Tidligere',\n    [Path.SENERE_UTENLANDSOPPHOLD]: 'SenereUtenlandsoppholdSteg.Fremtidig',\n    [Path.OPPSUMMERING]: 'søknad.oppsummering',\n} as Record<string, string>;\n\nconst isAfterStep = (previousStepPath: Path, currentStepPath: Path): boolean => {\n    return PATH_ORDER.indexOf(currentStepPath) > PATH_ORDER.indexOf(previousStepPath);\n};\n\nconst isVisible = (\n    shouldGoToStep: boolean,\n    dataTypeStep: EsDataType,\n    previousStepPath: Path,\n    currentPath: Path,\n    getStateData: <TYPE extends EsDataType>(key: TYPE) => EsDataMap[TYPE],\n) => {\n    return (shouldGoToStep && isAfterStep(previousStepPath, currentPath)) || !!getStateData(dataTypeStep);\n};\n\nconst showUtenlandsoppholdStep = (\n    path: Path,\n    currentPath: Path,\n    getData: <TYPE extends EsDataType>(key: TYPE) => EsDataMap[TYPE],\n): boolean => {\n    if (path === Path.TIDLIGERE_UTENLANDSOPPHOLD) {\n        const utenlandsopphold = getData(EsDataType.UTENLANDSOPPHOLD);\n        const boddErSatt = !!utenlandsopphold?.harBoddUtenforNorgeSiste12Mnd;\n        return isVisible(\n            boddErSatt,\n            EsDataType.UTENLANDSOPPHOLD_TIDLIGERE,\n            Path.UTENLANDSOPPHOLD,\n            currentPath,\n            getData,\n        );\n    }\n    if (path === Path.SENERE_UTENLANDSOPPHOLD) {\n        const utenlandsopphold = getData(EsDataType.UTENLANDSOPPHOLD);\n        const skalBoErSatt = !!utenlandsopphold?.skalBoUtenforNorgeNeste12Mnd;\n        return isVisible(skalBoErSatt, EsDataType.UTENLANDSOPPHOLD_SENERE, Path.UTENLANDSOPPHOLD, currentPath, getData);\n    }\n    return false;\n};\n\nconst showDokumentasjonStep = (\n    path: Path,\n    currentPath: Path,\n    getStateData: <TYPE extends EsDataType>(key: TYPE) => EsDataMap[TYPE],\n): boolean => {\n    const omBarnet = getStateData(EsDataType.OM_BARNET);\n    if (path === Path.TERMINBEKREFTELSE && omBarnet && 'erBarnetFødt' in omBarnet) {\n        return isVisible(!omBarnet.erBarnetFødt, EsDataType.DOKUMENTASJON, Path.OM_BARNET, currentPath, getStateData);\n    }\n    if (path === Path.ADOPSJONSBEKREFTELSE && omBarnet && 'adopsjonAvEktefellesBarn' in omBarnet) {\n        return isVisible(true, EsDataType.DOKUMENTASJON, Path.OM_BARNET, currentPath, getStateData);\n    }\n    return false;\n};\n\nconst useStepData = () => {\n    const intl = useIntl();\n    const location = useLocation();\n    const getStateData = useEsStateAllDataFn();\n\n    const currentPath = useMemo(\n        () => notEmpty(Object.values(Path).find((v) => v === decodeURIComponent(location.pathname))),\n        [],\n    );\n\n    const appPathList = useMemo(\n        () =>\n            PATH_ORDER.flatMap((path) =>\n                REQUIRED_APP_STEPS.includes(path) ||\n                showUtenlandsoppholdStep(path, currentPath, getStateData) ||\n                showDokumentasjonStep(path, currentPath, getStateData)\n                    ? [path]\n                    : [],\n            ),\n        [],\n    );\n\n    return useMemo(\n        () => ({\n            activeStepId: currentPath,\n            stepConfig: appPathList.map((p, index) => ({\n                id: p,\n                label: intl.formatMessage({ id: PATH_TO_LABEL_MAP[p] }),\n                index,\n            })),\n        }),\n        [],\n    );\n};\n\nexport default useStepData;\n","import { useCallback, useEffect, useMemo } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { logAmplitudeEvent } from '@navikt/fp-metrics';\nimport { useEsStateResetFn } from './EsDataContext';\nimport { Path } from './paths';\nimport useStepData from './useStepData';\n\nconst useEsNavigator = () => {\n    const navigate = useNavigate();\n    const { activeStepId, stepConfig } = useStepData();\n    const resetEsData = useEsStateResetFn();\n\n    useEffect(() => {\n        logAmplitudeEvent('sidevisning', {\n            app: 'engangsstonadny',\n            team: 'foreldrepenger',\n            pageKey: activeStepId,\n        });\n    }, []);\n\n    const goToPreviousDefaultStep = useCallback(() => {\n        const index = stepConfig.findIndex((s) => s.id === activeStepId) - 1;\n        const previousPath = stepConfig[index]?.id || Path.VELKOMMEN;\n        navigate(previousPath);\n    }, [navigate, stepConfig, activeStepId]);\n\n    const goToNextStep = useCallback(\n        (path: Path) => {\n            navigate(path);\n        },\n        [navigate],\n    );\n\n    const goToNextDefaultStep = useCallback(() => {\n        const index = stepConfig.findIndex((s) => s.id === activeStepId) + 1;\n        const nextPath = stepConfig[index]?.id || Path.KVITTERING;\n        navigate(nextPath);\n    }, [navigate, stepConfig, activeStepId]);\n\n    const avbrytSøknad = useCallback(() => {\n        resetEsData();\n        navigate(Path.VELKOMMEN);\n    }, []);\n\n    return useMemo(\n        () => ({\n            goToPreviousDefaultStep,\n            goToNextStep,\n            goToNextDefaultStep,\n            avbrytSøknad,\n        }),\n        [goToPreviousDefaultStep, goToNextDefaultStep, goToNextStep],\n    );\n};\n\nexport default useEsNavigator;\n"],"names":["dayjs","isSameOrBefore","isSameOrAfter","notEmpty","data","isDateWithinRange","date","minDate","maxDate","isEmpty","text","getGeneralValidators","intl","i18nId","value","isBetween","ATTEN_UKER_TRE_DAGER","DATO_FOR_3_UKER_SIDEN","ONE_YEAR_AFTER_TODAY","ISO_DATE_REGEX","getDateValidators","DATE_TODAY","SIX_MONTHS_AGO","date1","date2","EsDataType","EsDataType2","defaultInitialState","EsStateContext","createContext","EsDispatchContext","EsDataContext","children","initialState","testDispatcher","state","dispatch","useReducer","oldState","action","dispatchWrapper","useCallback","a","jsx","useEsStateSaveFn","key","useContext","useAllStateSaveFn","useEsStateResetFn","useEsStateData","useEsStateAllDataFn","PATH_TO_LABEL_MAP","Path","isAfterStep","previousStepPath","currentStepPath","PATH_ORDER","isVisible","shouldGoToStep","dataTypeStep","currentPath","getStateData","showUtenlandsoppholdStep","path","getData","utenlandsopphold","boddErSatt","skalBoErSatt","showDokumentasjonStep","omBarnet","useStepData","useIntl","location","useLocation","useMemo","v","appPathList","REQUIRED_APP_STEPS","p","index","useEsNavigator","navigate","useNavigate","activeStepId","stepConfig","resetEsData","useEffect","logAmplitudeEvent","goToPreviousDefaultStep","s","previousPath","_a","goToNextStep","goToNextDefaultStep","nextPath","avbrytSøknad"],"mappings":"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"}