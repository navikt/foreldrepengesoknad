{"version":3,"file":"preview-e722121d.js","sources":["../../../../packages/utils-test/src/storybook/decorators/withIntlProvider.tsx","../../.storybook/preview.tsx"],"sourcesContent":["import { createIntl, RawIntlProvider } from 'react-intl';\n\nexport const getIntlDecorator = (messagesForAllLanguages: Record<string, Record<string, string>>) => {\n    const withIntlProvider = (story: any, context: any) => {\n        const locale = context.globals.locale || 'nb';\n        const messages = messagesForAllLanguages[locale];\n        return <RawIntlProvider value={createIntl({ locale, messages })}>{story()}</RawIntlProvider>;\n    };\n    return withIntlProvider;\n};\n\nconst withIntlProvider = (story: any, context: any) => {\n    const locale = context.globals.locale || 'nb';\n\n    return <RawIntlProvider value={createIntl({ locale, messages: {} })}>{story()}</RawIntlProvider>;\n};\n\nexport default withIntlProvider;\n","import { getIntlDecorator } from '@navikt/fp-utils-test';\nimport { Preview } from '@storybook/react';\nimport { allCommonMessages } from '@navikt/fp-common';\n\nimport nnMessages from '../src/intl/messages/nn_NO.json';\nimport nbMessages from '../src/intl/messages/nb_NO.json';\nimport enMessages from '../src/intl/messages/en_US.json';\n\nimport '@navikt/ds-css';\nimport 'styles/globals.less';\n\nconst scriptTag = document.createElement('script');\nscriptTag.type = 'text/json';\nscriptTag.id = 'nav:appSettings';\nscriptTag.innerHTML = JSON.stringify({\n    REST_API_URL: '',\n});\ndocument.head.appendChild(scriptTag);\n\nconst withIntlProvider = getIntlDecorator({\n    nb: { ...nbMessages, ...allCommonMessages.nb },\n    nn: { ...nnMessages, ...allCommonMessages.nn },\n    en: { ...enMessages, ...allCommonMessages.en },\n});\n\nexport const globalTypes = {\n    locale: {\n        description: 'Internationalization locale',\n        toolbar: {\n            title: 'Språk',\n            icon: 'globe',\n            items: [\n                { value: 'nb', title: 'Bokmål' },\n                { value: 'nn', title: 'Nynorsk' },\n                { value: 'en', title: 'English' },\n            ],\n            dynamicTitle: true,\n        },\n    },\n};\n\nconst preview: Preview = {\n    decorators: [withIntlProvider],\n};\n\nexport default preview;\n"],"names":["getIntlDecorator","messagesForAllLanguages","story","context","locale","messages","jsx","RawIntlProvider","createIntl","scriptTag","withIntlProvider","nbMessages","allCommonMessages","nnMessages","enMessages","globalTypes","preview"],"mappings":"6OAEa,MAAAA,EAAoBC,GACJ,CAACC,EAAYC,IAAiB,CAC7C,MAAAC,EAASD,EAAQ,QAAQ,QAAU,KACnCE,EAAWJ,EAAwBG,CAAM,EACxC,OAAAE,MAACC,EAAgB,CAAA,MAAOC,EAAW,CAAE,OAAAJ,EAAQ,SAAAC,CAAU,CAAA,EAAI,SAAAH,EAAA,CAAQ,CAAA,CAAA,ECKlF,MAAMO,EAAY,SAAS,cAAc,QAAQ,EACjDA,EAAU,KAAO,YACjBA,EAAU,GAAK,kBACfA,EAAU,UAAY,KAAK,UAAU,CACjC,aAAc,EAClB,CAAC,EACD,SAAS,KAAK,YAAYA,CAAS,EAEnC,MAAMC,EAAmBV,EAAiB,CACtC,GAAI,CAAE,GAAGW,EAAY,GAAGC,EAAkB,EAAG,EAC7C,GAAI,CAAE,GAAGC,EAAY,GAAGD,EAAkB,EAAG,EAC7C,GAAI,CAAE,GAAGE,EAAY,GAAGF,EAAkB,EAAG,CACjD,CAAC,EAEYG,EAAc,CACvB,OAAQ,CACJ,YAAa,8BACb,QAAS,CACL,MAAO,QACP,KAAM,QACN,MAAO,CACH,CAAE,MAAO,KAAM,MAAO,QAAS,EAC/B,CAAE,MAAO,KAAM,MAAO,SAAU,EAChC,CAAE,MAAO,KAAM,MAAO,SAAU,CACpC,EACA,aAAc,EAClB,CACJ,CACJ,EAEMC,EAAmB,CACrB,WAAY,CAACN,CAAgB,CACjC"}