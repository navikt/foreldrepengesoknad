import{j as e}from"./index-CSZAu0_d.js";import{u as k,a as N,b as B,C as x,c as D,n as q,P as M}from"./useEsNavigator-BgLjzHEE.js";import{c as S,d as w,e as A,a as F,b as i,f as T,u as I,R as _,E as C,S as L}from"./ErrorSummaryHookForm-D6xqMuR7.js";import{u as h,V as b,d as u,i as p,q as P,r as y,M as n,s as G,t as J,v as K,w as U,S as H}from"./dateFormValidation-gtcG1Efi.js";import{r as V}from"./index-CZMpeKRu.js";const $=(a,s)=>{const t={...a};return delete t[s],t},E=({adopsjonsdato:a,antallBarn:s,antallBarnDropDown:t})=>{const o=h(),{control:d}=S(),{fields:r,remove:j,append:f}=w({control:d,name:"fødselsdatoer"});return V.useEffect(()=>{if(!s||s===3&&!t)return;const l=s<3||!t?s:Number.parseInt(t,10),m=r.length-l;m>0&&[...new Array(m)].forEach((c,v)=>{j(r.length-v-1)}),m<0&&[...new Array(l-r.length)].forEach(()=>{f({dato:void 0})})},[s,t,f,r.length,j]),e.jsx(b,{gap:"10",children:r.map((l,m)=>e.jsx(A,{name:`fødselsdatoer.${m}.dato`,minDate:u().subtract(15,"year").toDate(),maxDate:u().toDate(),useStrategyAbsolute:!0,label:r.length===1?o.formatMessage({id:"AdopsjonFodselFieldArray.Fødselsdato"}):o.formatMessage({id:`AdopsjonFodselFieldArray.Spørsmål.Fødselsdato.${m+1}`}),validate:[p(o.formatMessage({id:"AdopsjonFodselFieldArray.Fodselsdato.DuMåOppgi"})),P(o.formatMessage({id:"AdopsjonFodselFieldArray.Fødselsdato.Gyldig"})),c=>!c||!a?void 0:y(o.formatMessage({id:"AdopsjonFodselFieldArray.fodselsdato.MåVæreIdagEllerTidligere"}))(c)]},l.id))})};E.__docgenInfo={description:"",methods:[],displayName:"AdopsjonFodselFieldArray",props:{antallBarn:{required:!1,tsType:{name:"number"},description:""},antallBarnDropDown:{required:!1,tsType:{name:"string"},description:""},adopsjonsdato:{required:!1,tsType:{name:"string"},description:""}}};const O=({kjønn:a})=>{const s=h(),{watch:t}=S(),{adopsjonAvEktefellesBarn:o,adopsjonsdato:d,antallBarn:r,antallBarnDropDown:j}=t();return e.jsxs(e.Fragment,{children:[e.jsxs(F,{name:"adopsjonAvEktefellesBarn",label:e.jsx(n,{id:"AdopsjonPanel.Spørsmål.Stebarnsadopsjon"}),validate:[p(s.formatMessage({id:"AdopsjonPanel.Spørsmål.Required"}))],children:[e.jsx(i,{value:!0,children:e.jsx(n,{id:"AdopsjonPanel.Ja"})}),e.jsx(i,{value:!1,children:e.jsx(n,{id:"AdopsjonPanel.Nei"})})]}),e.jsx(A,{name:"adopsjonsdato",label:o?s.formatMessage({id:"AdopsjonPanel.Spørsmål.Stebarnsadopsjondato"}):s.formatMessage({id:"AdopsjonPanel.Spørsmål.Overtaomsorgdato"}),minDate:u().subtract(6,"month").toDate(),validate:[p(o?s.formatMessage({id:"AdopsjonPanel.EktefellensBarn.DuMåOppgi"}):s.formatMessage({id:"AdopsjonPanel.OvertaOmsorg.DuMåOppgi"})),P(o?s.formatMessage({id:"AdopsjonPanel.Adopsjonsdato.GyldigFormat"}):s.formatMessage({id:"AdopsjonPanel.Omsorgsovertakelsen.GyldigFormat"})),G(s.formatMessage({id:"AdopsjonPanel.AdopsjonDato.ForLangtFremITid"}))]}),e.jsxs(F,{name:"antallBarn",label:e.jsx(n,{id:"AdopsjonPanel.Spørsmål.AntallBarnAdoptert"}),description:e.jsx(n,{id:"AdopsjonPanel.Spørsmål.AntallBarnAdoptert.Beskrivelse"}),validate:[p(s.formatMessage({id:"AdopsjonPanel.Antallbarn.Required"}))],children:[e.jsx(i,{value:1,children:e.jsx(n,{id:"AdopsjonPanel.Radiobutton.Ettbarn"})}),e.jsx(i,{value:2,children:e.jsx(n,{id:"AdopsjonPanel.Radiobutton.ToBarn"})}),e.jsx(i,{value:3,children:e.jsx(n,{id:"AdopsjonPanel.Radiobutton.Flere"})})]}),r&&r>=3&&e.jsxs(T,{name:"antallBarnDropDown",label:e.jsx(n,{id:"AdopsjonPanel.AntallBarn.Omsorgsovertakelse"}),validate:[p(s.formatMessage({id:"AdopsjonPanel.Antallbarndropdown.Required"}))],children:[e.jsx("option",{value:"3",children:"3"}),e.jsx("option",{value:"4",children:"4"}),e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"6",children:"6"}),e.jsx("option",{value:"7",children:"7"}),e.jsx("option",{value:"8",children:"8"}),e.jsx("option",{value:"9",children:"9"})]}),e.jsx(E,{adopsjonsdato:d,antallBarn:r,antallBarnDropDown:j}),a==="M"&&o===!1&&e.jsxs(F,{name:"søkerAdopsjonAlene",label:e.jsx(n,{id:"AdopsjonPanel.Spørsmål.AdoptererDuAlene"}),validate:[p(s.formatMessage({id:"AdopsjonPanel.AdoptererDuAlene.Required"}))],children:[e.jsx(i,{value:!0,children:e.jsx(n,{id:"AdopsjonPanel.Ja"})}),e.jsx(i,{value:!1,children:e.jsx(n,{id:"AdopsjonPanel.Nei"})})]})]})};O.__docgenInfo={description:"",methods:[],displayName:"AdopsjonPanel",props:{kjønn:{required:!0,tsType:{name:"union",raw:"PersonFrontend['kjønn']"},description:""}}};const R=()=>{const a=h(),{watch:s}=S(),t=s("erBarnetFødt"),o=s("antallBarn"),d=s("fødselsdato");return e.jsxs(e.Fragment,{children:[e.jsxs(F,{name:"erBarnetFødt",label:e.jsx(n,{id:"FødselPanel.Spørsmål.ErBarnetFødt"}),validate:[p(a.formatMessage({id:"FødselPanel.Spørsmål.ErBarnetFødt.Required"}))],children:[e.jsx(i,{value:!0,children:e.jsx(n,{id:"FødselPanel.Radiobutton.Ja"})}),e.jsx(i,{value:!1,children:e.jsx(n,{id:"FødselPanel.Radiobutton.Nei"})})]}),e.jsx(A,{name:"termindato",label:e.jsx(n,{id:"FødselPanel.Termindato"}),description:a.formatMessage({id:"FødselPanel.TermindatoFodselsdato.beskrivelse"}),minDate:u(d).subtract(3,"week").toDate(),maxDate:u().add(18,"weeks").add(3,"days").toDate(),validate:[p(a.formatMessage({id:"FødselPanel.Termindato.DuMåOppgi"})),P(a.formatMessage({id:"FødselPanel.Termindato.Gyldig"})),J(a.formatMessage({id:"FødselPanel.Termindato.TermindatoKanIkkeVære3UkerFørFødsel"}),d),K(a.formatMessage({id:"FødselPanel.Termindato.DuMåVæreIUke22"}))]}),t&&e.jsx(A,{name:"fødselsdato",label:e.jsx(n,{id:"FødselPanel.Fødselsdato"}),minDate:u().subtract(6,"month").toDate(),maxDate:u().toDate(),validate:[p(a.formatMessage({id:"FødselPanel.Fødselsdato.DuMåOppgi"})),P(a.formatMessage({id:"FødselPanel.Fødselsdato.Gyldig"})),y(a.formatMessage({id:"FødselPanel.Fodselsdato.MåVæreIdagEllerTidligere"})),U(a.formatMessage({id:"FødselPanel.Fodselsdato.IkkeMerEnn6MånederTilbake"}))]}),e.jsxs(F,{name:"antallBarn",label:t?a.formatMessage({id:"FødselPanel.AntallBarn.Født"}):a.formatMessage({id:"FødselPanel.AntallBarn.Termin"}),description:a.formatMessage({id:"FødselPanel.AntallBarn.TerminBeskrivelse"}),validate:[p(t?a.formatMessage({id:"FødselPanel.AntallBarn.Født.Required"}):a.formatMessage({id:"FødselPanel.AntallBarn.Venter.Required"}))],children:[e.jsx(i,{value:1,children:e.jsx(n,{id:"FødselPanel.Radiobutton.Ettbarn"})}),e.jsx(i,{value:2,children:e.jsx(n,{id:"FødselPanel.Radiobutton.Tvillinger"})}),e.jsx(i,{value:3,children:e.jsx(n,{id:"FødselPanel.Radiobutton.Flere"})})]}),o>=3&&e.jsxs(T,{name:"antallBarnDropDown",label:t?a.formatMessage({id:"FødselPanel.AntallBarn.Født"}):a.formatMessage({id:"FødselPanel.AntallBarn.Termin"}),validate:[p(t?a.formatMessage({id:"FødselPanel.AntallBarn.Født.Required"}):a.formatMessage({id:"FødselPanel.AntallBarn.Venter.Required"}))],children:[e.jsx("option",{value:"3",children:"3"}),e.jsx("option",{value:"4",children:"4"}),e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"6",children:"6"}),e.jsx("option",{value:"7",children:"7"}),e.jsx("option",{value:"8",children:"8"}),e.jsx("option",{value:"9",children:"9"})]})]})};R.__docgenInfo={description:"",methods:[],displayName:"FødselPanel"};const z=(a,s)=>s.situasjon==="adopsjon"?M.ADOPSJONSBEKREFTELSE:!a.erBarnetFødt&&a.termindato!==void 0?M.TERMINBEKREFTELSE:M.UTENLANDSOPPHOLD,W=a=>({...$(a,"antallBarnDropDown"),antallBarn:a.antallBarn>2&&a.antallBarnDropDown?Number.parseInt(a.antallBarnDropDown,10):a.antallBarn}),Y=a=>({...a,antallBarn:a.antallBarn>2?3:a.antallBarn,antallBarnDropDown:a.antallBarn>2?a.antallBarn.toString():void 0}),Q=({kjønn:a,mellomlagreOgNaviger:s})=>{const t=h(),o=k(),d=N(s),r=B(x.OM_BARNET),j=D(x.OM_BARNET),f=D(x.DOKUMENTASJON),l=q(B(x.SØKERSITUASJON)),m=g=>j(W(g)),c=g=>(m(g),g.erBarnetFødt===!0&&f(void 0),d.goToNextStep(z(g,l))),v=I({defaultValues:r?Y(r):{}});return e.jsx(H,{bannerTitle:t.formatMessage({id:"Søknad.Pageheading"}),onCancel:d.avbrytSøknad,onContinueLater:d.fortsettSøknadSenere,onStepChange:d.goToNextStep,steps:o,children:e.jsx(_,{formMethods:v,onSubmit:c,children:e.jsxs(b,{gap:"10",children:[e.jsx(C,{}),(l==null?void 0:l.situasjon)==="adopsjon"&&e.jsx(O,{kjønn:a}),(l==null?void 0:l.situasjon)==="fødsel"&&e.jsx(R,{}),e.jsx(L,{goToPreviousStep:d.goToPreviousDefaultStep,saveDataOnPreviousClick:m})]})})})};Q.__docgenInfo={description:"",methods:[],displayName:"OmBarnetSteg",props:{kjønn:{required:!0,tsType:{name:"union",raw:"PersonFrontend['kjønn']"},description:""},mellomlagreOgNaviger:{required:!0,tsType:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""}}};export{Q as O};
