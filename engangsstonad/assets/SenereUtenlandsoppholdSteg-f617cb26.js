import{j as e}from"./index-0dcb57ee.js";import{r as g}from"./index-7c191284.js";import{u as L,o as s,s as x,Q as j,V as v,F as h,n as f,t as M,v as O,w as _,x as C,y as F,z as U,A as k,J as A,e as P,T as I,h as R,b as V,j as B,g as y,k as $,S as H,O as q}from"./useEsNavigator-60ac581c.js";import{a as w,b as z,D as N,u as G,c as K,F as W,E as Y,S as J}from"./ErrorSummaryHookForm-7e8b1411.js";import"./_baseToString-8992fead.js";import"./_createSet-216b1892.js";const Q=({index:a,fjernOpphold:c})=>{const{i18n:t}=L(),{watch:d,trigger:p,formState:{isSubmitted:u}}=w(),r=d("utenlandsoppholdNeste12Mnd").filter((o,T)=>T!==a),l=d(`utenlandsoppholdNeste12Mnd.${a}.fom`),n=d(`utenlandsoppholdNeste12Mnd.${a}.tom`),i=s(x).toDate(),D=n?s(n).toDate():s(j).toDate(),S=s(l||x).toDate(),m=s(j).toDate();return e.jsxs(v,{gap:"5",align:"start",children:[e.jsx(z,{name:`utenlandsoppholdNeste12Mnd.${a}.landkode`,label:e.jsx(h,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Spørsmål.HvilketLandSkalDuBoI"}),validate:[f(t("SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandDuSkalBoIPåkreved"))],children:M().map(o=>e.jsx("option",{value:o[0],children:o[1]},o[0]))}),e.jsx(N,{name:`utenlandsoppholdNeste12Mnd.${a}.fom`,label:e.jsx(h,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Fraogmed"}),minDate:s(x).toDate(),maxDate:n?s(n).toDate():s(j).toDate(),validate:[f(t("SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandFomDuSkalBoIPåkreved")),O(t("SenereUtenlandsoppholdSteg.FraOgMedDato.GyldigDato")),_(t("SenereUtenlandsoppholdSteg.FomErLikTom"),n),C(t("SenereUtenlandsoppholdSteg.Utenlandsopphold.FørTilDato"),n),F(t("SenereUtenlandsoppholdSteg.DateOutsideRangeFom",{min:U(i),max:U(D)}),i,D),k(t("SenereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"),{date:n,isStartDate:!1},r)],onChange:()=>u&&p()}),e.jsx(N,{name:`utenlandsoppholdNeste12Mnd.${a}.tom`,label:e.jsx(h,{id:"SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Tilogmed"}),minDate:S,maxDate:m,validate:[f(t("SenereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandTomDuSkalBoIPåkreved")),O(t("SenereUtenlandsoppholdSteg.TilOgMedDato.GyldigDato")),_(t("SenereUtenlandsoppholdSteg.TomErLikFom"),l),A(t("SenereUtenlandsoppholdSteg.Utenlandsopphold.EtterFraDato"),l),F(t("SenereUtenlandsoppholdSteg.DateOutsideRangeTom",{min:U(S),max:U(m)}),S,m),k(t("SenereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"),{date:l,isStartDate:!0},r)],onChange:()=>u&&p()}),a>0&&e.jsx(P,{type:"button",variant:"tertiary",size:"small",icon:e.jsx(I,{"aria-hidden":!0}),onClick:()=>c(a),children:e.jsx(h,{id:"SenereUtenlandsoppholdSteg.Knapp.SlettOpphold"})})]})};try{SenereUtenlandsoppholdPeriode.displayName="SenereUtenlandsoppholdPeriode",SenereUtenlandsoppholdPeriode.__docgenInfo={description:"",displayName:"SenereUtenlandsoppholdPeriode",props:{index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},fjernOpphold:{defaultValue:null,description:"",name:"fjernOpphold",required:!0,type:{name:"(index: number) => void"}}}}}catch{}const b={fom:"",tom:"",landkode:""},X={utenlandsoppholdNeste12Mnd:[b]},E=()=>{const{i18n:a}=L(),c=R(),t=V(),d=B(y.UTENLANDSOPPHOLD_SENERE),p=$(y.UTENLANDSOPPHOLD_SENERE),u=g.useMemo(()=>d||X,[]),r=G({defaultValues:u}),{fields:l,append:n,remove:i}=K({name:"utenlandsoppholdNeste12Mnd",control:r.control}),D=g.useCallback(()=>{n(b)},[n]),S=g.useCallback(o=>{i(o)},[i]),m=g.useCallback(o=>{p(o),t.goToNextDefaultStep()},[]);return e.jsx(H,{bannerTitle:a("Søknad.Pageheading"),pageTitle:a("SenereUtenlandsoppholdSteg.Fremtidig"),onCancel:t.avbrytSøknad,steps:c.stepConfig,activeStepId:c.activeStepId,useNoTempSavingText:!0,children:e.jsx(W,{formMethods:r,onSubmit:m,children:e.jsxs(v,{gap:"10",children:[e.jsx(Y,{}),e.jsxs(v,{gap:"10",align:"start",children:[l.map((o,T)=>e.jsxs(g.Fragment,{children:[e.jsx(Q,{index:T,fjernOpphold:S}),l.length>1&&e.jsx("hr",{style:{width:"100%"},color:"#99C4DD"})]},o.id)),e.jsx(P,{type:"button",variant:"secondary",size:"small",icon:e.jsx(q,{"aria-hidden":!0}),onClick:D,children:e.jsx(h,{id:"SenereUtenlandsoppholdSteg.Knapp.LeggTilLand"})})]}),e.jsx(J,{goToPreviousStep:t.goToPreviousDefaultStep,saveDataOnPreviousClick:p})]})})})},se=E;try{E.displayName="SenereUtenlandsoppholdSteg",E.__docgenInfo={description:"",displayName:"SenereUtenlandsoppholdSteg",props:{}}}catch{}export{se as S};
//# sourceMappingURL=SenereUtenlandsoppholdSteg-f617cb26.js.map
