{"version":3,"file":"UtenlandsoppholdSteg-f1b74f88.js","sources":["../../src/sider/steg/utenlandsopphold/UtenlandsoppholdSteg.tsx"],"sourcesContent":["import { useCallback } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { FormattedMessage } from 'react-intl';\nimport { Step } from '@navikt/fp-common';\nimport { Link, VStack, Radio, ExpansionCard, BodyLong, Heading, HStack, BodyShort } from '@navikt/ds-react';\nimport { Form, ErrorSummaryHookForm, RadioGroup, StepButtonsHookForm } from '@navikt/fp-form-hooks';\nimport { links } from '@navikt/fp-constants';\n\nimport { Utenlandsopphold } from 'types/Utenlandsopphold';\nimport useEsNavigator from 'appData/useEsNavigator';\nimport { Path } from 'appData/paths';\nimport { EsDataType, useEsStateSaveFn, useEsStateData } from 'appData/EsDataContext';\nimport useStepData from 'appData/useStepData';\nimport { useCustomIntl } from '@navikt/fp-ui';\nimport { isRequired } from '@navikt/fp-validation';\nimport { SøkersituasjonEnum } from 'types/Søkersituasjon';\n\nconst utledNesteSide = (formValues: Utenlandsopphold): Path => {\n    if (formValues?.harBoddUtenforNorgeSiste12Mnd) {\n        return Path.TIDLIGERE_UTENLANDSOPPHOLD;\n    }\n    return formValues?.skalBoUtenforNorgeNeste12Mnd ? Path.SENERE_UTENLANDSOPPHOLD : Path.OPPSUMMERING;\n};\n\nconst UtenlandsoppholdSteg: React.FunctionComponent = () => {\n    const { i18n } = useCustomIntl();\n\n    const stepData = useStepData();\n    const navigator = useEsNavigator();\n\n    const søkersituasjon = useEsStateData(EsDataType.SØKERSITUASJON);\n    const utenlandsopphold = useEsStateData(EsDataType.UTENLANDSOPPHOLD);\n    const lagreUtenlandsopphold = useEsStateSaveFn(EsDataType.UTENLANDSOPPHOLD);\n    const lagreTidligereUtenlandsopphold = useEsStateSaveFn(EsDataType.UTENLANDSOPPHOLD_TIDLIGERE);\n    const lagreSenereUtenlandsopphold = useEsStateSaveFn(EsDataType.UTENLANDSOPPHOLD_SENERE);\n\n    const formMethods = useForm<Utenlandsopphold>({\n        defaultValues: utenlandsopphold,\n    });\n\n    const lagre = useCallback((formValues: Utenlandsopphold) => {\n        lagreUtenlandsopphold(formValues);\n\n        if (!formValues.harBoddUtenforNorgeSiste12Mnd) {\n            lagreTidligereUtenlandsopphold(undefined);\n        }\n        if (!formValues.skalBoUtenforNorgeNeste12Mnd) {\n            lagreSenereUtenlandsopphold(undefined);\n        }\n\n        navigator.goToNextStep(utledNesteSide(formValues));\n    }, []);\n\n    return (\n        <Step\n            bannerTitle={i18n('Søknad.Pageheading')}\n            pageTitle={i18n('UtenlandsoppholdSteg.Utenlandsopphold')}\n            onCancel={navigator.avbrytSøknad}\n            steps={stepData.stepConfig}\n            activeStepId={stepData.activeStepId}\n            useNoTempSavingText\n        >\n            <Form formMethods={formMethods} onSubmit={lagre}>\n                <VStack gap=\"10\">\n                    <ErrorSummaryHookForm />\n                    <BodyLong>\n                        {søkersituasjon?.situasjon === SøkersituasjonEnum.FØDSEL && (\n                            <FormattedMessage id=\"UtenlandsoppholdSteg.InfoFodsel\" />\n                        )}\n                        {søkersituasjon?.situasjon === SøkersituasjonEnum.ADOPSJON && (\n                            <FormattedMessage id=\"UtenlandsoppholdSteg.InfoAdopsjon\" />\n                        )}\n                    </BodyLong>\n                    <RadioGroup\n                        name=\"harBoddUtenforNorgeSiste12Mnd\"\n                        label={<FormattedMessage id=\"UtenlandsoppholdSteg.Siste12Måneder.Spørsmål\" />}\n                        validate={[isRequired(i18n('UtenlandsoppholdSteg.Siste12Måneder.IsRequired'))]}\n                    >\n                        <Radio value={false}>\n                            <FormattedMessage id=\"UtenlandsoppholdSteg.Siste12MånederInfotekst.Radiobutton.BoddINorge\" />\n                        </Radio>\n                        <Radio value={true}>\n                            <FormattedMessage id=\"UtenlandsoppholdSteg.Siste12MånederInfotekst.Radiobutton.BoddIUtlandet\" />\n                        </Radio>\n                    </RadioGroup>\n                    <RadioGroup\n                        name=\"skalBoUtenforNorgeNeste12Mnd\"\n                        label={<FormattedMessage id=\"UtenlandsoppholdSteg.Neste12Måneder.Spørsmål\" />}\n                        validate={[isRequired(i18n('UtenlandsoppholdSteg.Neste12Måneder.IsRequired'))]}\n                    >\n                        <Radio value={false}>\n                            <FormattedMessage id=\"UtenlandsoppholdSteg.Neste12MånederInfotekst.Radiobutton.BoddINorge\" />\n                        </Radio>\n                        <Radio value={true}>\n                            <FormattedMessage id=\"UtenlandsoppholdSteg.Neste12MånederInfotekst.Radiobutton.BoddIUtlandet\" />\n                        </Radio>\n                    </RadioGroup>\n                    <ExpansionCard size=\"small\" aria-label={i18n('UtenlandsoppholdSteg.StotteFraNav')}>\n                        <ExpansionCard.Header>\n                            <ExpansionCard.Title size=\"small\">\n                                <FormattedMessage id=\"UtenlandsoppholdSteg.StotteFraNav\" />\n                            </ExpansionCard.Title>\n                        </ExpansionCard.Header>\n                        <ExpansionCard.Content>\n                            <VStack gap=\"10\">\n                                <VStack gap=\"5\">\n                                    <BodyLong>\n                                        <FormattedMessage id=\"UtenlandsoppholdSteg.Info.Del1\" />\n                                    </BodyLong>\n                                    <BodyLong>\n                                        <FormattedMessage id=\"UtenlandsoppholdSteg.Info.Del2\" />\n                                    </BodyLong>\n                                    <BodyLong>\n                                        <FormattedMessage id=\"UtenlandsoppholdSteg.Info.Del3\" />\n                                    </BodyLong>\n                                    <BodyLong>\n                                        <FormattedMessage id=\"UtenlandsoppholdSteg.Info.Del4\" />\n                                    </BodyLong>\n                                </VStack>\n                                <VStack gap=\"5\">\n                                    <Heading size=\"small\">\n                                        <FormattedMessage id=\"UtenlandsoppholdSteg.Info.Undertittel\" />\n                                    </Heading>\n                                    <BodyLong>\n                                        <FormattedMessage id=\"UtenlandsoppholdSteg.Info.Del5\" />\n                                    </BodyLong>\n                                    <HStack gap=\"1\">\n                                        <BodyShort>\n                                            <FormattedMessage id=\"UtenlandsoppholdSteg.Info.Del6\" />\n                                        </BodyShort>\n                                        <BodyShort>\n                                            <Link href={links.engangsstonadHvem}>nav.no/engangsstonad#hvem</Link>\n                                        </BodyShort>\n                                    </HStack>\n                                </VStack>\n                            </VStack>\n                        </ExpansionCard.Content>\n                    </ExpansionCard>\n                    <StepButtonsHookForm<Utenlandsopphold>\n                        goToPreviousStep={navigator.goToPreviousDefaultStep}\n                        saveDataOnPreviousClick={lagreUtenlandsopphold}\n                    />\n                </VStack>\n            </Form>\n        </Step>\n    );\n};\n\nexport default UtenlandsoppholdSteg;\n"],"names":["utledNesteSide","formValues","Path","UtenlandsoppholdSteg","i18n","useCustomIntl","stepData","useStepData","navigator","useEsNavigator","søkersituasjon","useEsStateData","EsDataType","utenlandsopphold","lagreUtenlandsopphold","useEsStateSaveFn","lagreTidligereUtenlandsopphold","lagreSenereUtenlandsopphold","formMethods","useForm","lagre","useCallback","jsx","Step","Form","jsxs","VStack","ErrorSummaryHookForm","BodyLong","SøkersituasjonEnum","FormattedMessage","RadioGroup","isRequired","Radio","ExpansionCard","Heading","HStack","BodyShort","Link","links","StepButtonsHookForm","UtenlandsoppholdSteg$1"],"mappings":"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"}