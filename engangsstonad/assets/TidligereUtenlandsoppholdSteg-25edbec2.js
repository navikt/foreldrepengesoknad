import{j as e}from"./index-0dcb57ee.js";import{r as c}from"./index-7c191284.js";import{u as I,o as r,D as f,s as v,V as O,F as T,n as x,t as C,v as P,w as _,x as R,y as L,z as U,A as y,J as H,e as M,T as V,h as B,b as G,K as $,j as F,g as E,k as q,P as k,S as w,O as z}from"./useEsNavigator-60ac581c.js";import{a as K,b as Y,D as N,u as J,c as W,F as Q,E as X,S as Z}from"./ErrorSummaryHookForm-7e8b1411.js";import"./_baseToString-8992fead.js";import"./_createSet-216b1892.js";const ee=({index:a,fjernOpphold:u})=>{const{i18n:t}=I(),{watch:p,trigger:S,formState:{isSubmitted:g}}=K(),D=p("utenlandsoppholdSiste12Mnd").filter((i,d)=>d!==a),o=p(`utenlandsoppholdSiste12Mnd.${a}.fom`),n=p(`utenlandsoppholdSiste12Mnd.${a}.tom`),l=r(f).toDate(),s=n?r(n).toDate():r(v).toDate(),m=o?r(o).toDate():r(f).toDate(),h=r(v).toDate();return e.jsxs(O,{gap:"5",align:"start",children:[e.jsx(Y,{name:`utenlandsoppholdSiste12Mnd.${a}.landkode`,label:e.jsx(T,{id:"TidligereUtenlandsoppholdSteg.Spørsmål.HvilketLandHarDuBoddI"}),validate:[x(t("TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandDuHarBoddIPåkrevd"))],children:C().map(i=>e.jsx("option",{value:i[0],children:i[1]},i[0]))}),e.jsx(N,{name:`utenlandsoppholdSiste12Mnd.${a}.fom`,label:e.jsx(T,{id:"TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Fraogmed"}),minDate:l,maxDate:s,validate:[x(t("TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandFomDuSkalBoIPåkreved")),P(t("TidligereUtenlandsoppholdSteg.FraOgMedDato.GyldigDato")),_(t("TidligereUtenlandsoppholdSteg.FomErLikTom"),n),R(t("TidligereUtenlandsoppholdSteg.Utenlandsopphold.FørTilDato"),n),L(t("TidligereUtenlandsoppholdSteg.DateOutsideRangeFom",{min:U(l),max:U(s)}),l,s),y(t("TidligereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"),{date:n,isStartDate:!1},D)],onChange:()=>g&&S()}),e.jsx(N,{name:`utenlandsoppholdSiste12Mnd.${a}.tom`,label:e.jsx(T,{id:"TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Tilogmed"}),minDate:m,maxDate:h,validate:[x(t("TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandTomDuHarBoddIPåkreved")),P(t("TidligereUtenlandsoppholdSteg.TilOgMedDato.GyldigDato")),_(t("TidligereUtenlandsoppholdSteg.TomErLikFom"),o),H(t("TidligereUtenlandsoppholdSteg.Utenlandsopphold.EtterFraDato"),o),L(t("TidligereUtenlandsoppholdSteg.DateOutsideRangeTom",{min:U(m),max:U(h)}),m,h),y(t("TidligereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"),{date:o,isStartDate:!0},D)],onChange:()=>g&&S()}),a>0&&e.jsx(M,{type:"button",variant:"tertiary",size:"small",icon:e.jsx(V,{"aria-hidden":!0}),onClick:()=>u(a),children:e.jsx(T,{id:"TidligereUtenlandsoppholdSteg.Knapp.SlettOpphold"})})]})};try{TidligereUtenlandsoppholdPeriode.displayName="TidligereUtenlandsoppholdPeriode",TidligereUtenlandsoppholdPeriode.__docgenInfo={description:"",displayName:"TidligereUtenlandsoppholdPeriode",props:{index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},fjernOpphold:{defaultValue:null,description:"",name:"fjernOpphold",required:!0,type:{name:"(index: number) => void"}}}}}catch{}const b={fom:"",tom:"",landkode:""},te={utenlandsoppholdSiste12Mnd:[b]},j=()=>{const{i18n:a}=I(),u=B(),t=G(),p=$(F(E.UTENLANDSOPPHOLD)),S=F(E.UTENLANDSOPPHOLD_TIDLIGERE),g=q(E.UTENLANDSOPPHOLD_TIDLIGERE),D=c.useMemo(()=>S||te,[]),o=J({defaultValues:D}),{fields:n,append:l,remove:s}=W({name:"utenlandsoppholdSiste12Mnd",control:o.control}),m=c.useCallback(()=>{l(b)},[l]),h=c.useCallback(d=>{s(d)},[s]),i=c.useCallback(d=>{g(d),t.goToNextStep(p.skalBoUtenforNorgeNeste12Mnd?k.SENERE_UTENLANDSOPPHOLD:k.OPPSUMMERING)},[]);return e.jsx(w,{bannerTitle:a("Søknad.Pageheading"),pageTitle:a("TidligereUtenlandsoppholdSteg.Tidligere"),onCancel:t.avbrytSøknad,steps:u.stepConfig,activeStepId:u.activeStepId,useNoTempSavingText:!0,children:e.jsx(Q,{formMethods:o,onSubmit:i,children:e.jsxs(O,{gap:"10",children:[e.jsx(X,{}),e.jsxs(O,{gap:"10",align:"start",children:[n.map((d,A)=>e.jsxs(c.Fragment,{children:[e.jsx(ee,{index:A,fjernOpphold:h}),n.length>1&&e.jsx("hr",{style:{width:"100%"},color:"#99C4DD"})]},d.id)),e.jsx(M,{type:"button",variant:"secondary",size:"small",icon:e.jsx(z,{"aria-hidden":!0}),onClick:m,children:e.jsx(T,{id:"TidligereUtenlandsoppholdSteg.Knapp.LeggTilLand"})})]}),e.jsx(Z,{goToPreviousStep:t.goToPreviousDefaultStep,saveDataOnPreviousClick:g})]})})})},ie=j;try{j.displayName="TidligereUtenlandsoppholdSteg",j.__docgenInfo={description:"",displayName:"TidligereUtenlandsoppholdSteg",props:{}}}catch{}export{ie as T};
//# sourceMappingURL=TidligereUtenlandsoppholdSteg-25edbec2.js.map
