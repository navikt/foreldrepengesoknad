{"version":3,"file":"SøkersituasjonSteg-1dbded33.js","sources":["../../src/sider/steg/sokersituasjon/SøkersituasjonSteg.tsx"],"sourcesContent":["import { useCallback } from 'react';\nimport { Radio, VStack } from '@navikt/ds-react';\nimport { useForm } from 'react-hook-form';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { Step } from '@navikt/fp-common';\n\nimport { RadioGroupPanel, Form, ErrorSummaryHookForm, StepButtonsHookForm } from '@navikt/fp-form-hooks';\nimport { isRequired } from '@navikt/fp-validation';\nimport { Søkersituasjon, SøkersituasjonEnum } from 'types/Søkersituasjon';\nimport useEsNavigator from 'appData/useEsNavigator';\nimport useStepData from 'appData/useStepData';\nimport { EsDataType, useEsStateData, useEsStateSaveFn } from 'appData/EsDataContext';\n\nconst SøkersituasjonSteg: React.FunctionComponent = () => {\n    const intl = useIntl();\n\n    const stepData = useStepData();\n    const navigator = useEsNavigator();\n\n    const søkersituasjon = useEsStateData(EsDataType.SØKERSITUASJON);\n    const lagreSøkersituasjon = useEsStateSaveFn(EsDataType.SØKERSITUASJON);\n    const lagreOmBarnet = useEsStateSaveFn(EsDataType.OM_BARNET);\n\n    const formMethods = useForm<Søkersituasjon>({\n        defaultValues: søkersituasjon,\n    });\n\n    const lagre = useCallback((formValues: Søkersituasjon) => {\n        lagreSøkersituasjon(formValues);\n        if (søkersituasjon && søkersituasjon.situasjon !== formValues.situasjon) {\n            lagreOmBarnet(undefined);\n        }\n        navigator.goToNextDefaultStep();\n    }, []);\n\n    return (\n        <Step\n            bannerTitle={intl.formatMessage({ id: 'Søknad.Pageheading' })}\n            pageTitle={intl.formatMessage({ id: 'SøkersituasjonSteg.Søkersituasjon' })}\n            onCancel={navigator.avbrytSøknad}\n            steps={stepData.stepConfig}\n            activeStepId={stepData.activeStepId}\n            useNoTempSavingText\n        >\n            <Form formMethods={formMethods} onSubmit={lagre}>\n                <VStack gap=\"10\">\n                    <ErrorSummaryHookForm />\n                    <RadioGroupPanel\n                        name=\"situasjon\"\n                        label={<FormattedMessage id=\"SøkersituasjonSteg.Situasjon\" />}\n                        validate={[\n                            isRequired(\n                                intl.formatMessage({ id: 'SøkersituasjonSteg.Validering.OppgiFodselEllerAdopsjon' }),\n                            ),\n                        ]}\n                    >\n                        <Radio value={SøkersituasjonEnum.FØDSEL}>\n                            <FormattedMessage id=\"SøkersituasjonSteg.Fødsel\" />\n                        </Radio>\n                        <Radio value={SøkersituasjonEnum.ADOPSJON}>\n                            <FormattedMessage id=\"SøkersituasjonSteg.Adopsjon\" />\n                        </Radio>\n                    </RadioGroupPanel>\n                    <StepButtonsHookForm\n                        goToPreviousStep={navigator.goToPreviousDefaultStep}\n                        saveDataOnPreviousClick={lagreSøkersituasjon}\n                    />\n                </VStack>\n            </Form>\n        </Step>\n    );\n};\n\nexport default SøkersituasjonSteg;\n"],"names":["SøkersituasjonSteg","intl","useIntl","stepData","useStepData","navigator","useEsNavigator","søkersituasjon","useEsStateData","EsDataType","lagreSøkersituasjon","useEsStateSaveFn","lagreOmBarnet","formMethods","useForm","lagre","useCallback","formValues","jsx","Step","Form","jsxs","VStack","ErrorSummaryHookForm","RadioGroupPanel","FormattedMessage","isRequired","Radio","SøkersituasjonEnum","StepButtonsHookForm","SøkersituasjonSteg$1"],"mappings":"yXAaA,MAAAA,EAAA,IAAA,CACI,MAAAC,EAAAC,IAEAC,EAAAC,IACAC,EAAAC,IAEAC,EAAAC,EAAAC,EAAA,cAAA,EACAC,EAAAC,EAAAF,EAAA,cAAA,EACAG,EAAAD,EAAAF,EAAA,SAAA,EAEAI,EAAAC,EAAA,CAA4C,cAAAP,CACzB,CAAA,EAGnBQ,EAAAC,cAAAC,GAAA,CACIP,EAAAO,CAAA,EACAV,GAAAA,EAAA,YAAAU,EAAA,WACIL,EAAA,MAAA,EAEJP,EAAA,oBAAA,CAA8B,EAAA,CAAA,CAAA,EAGlC,OAAAa,EAAA,IACIC,EAAC,CAAA,YAAAlB,EAAA,cAAA,CAAA,GAAA,oBAAA,CAAA,EAC+D,UAAAA,EAAA,cAAA,CAAA,GAAA,mCAAA,CAAA,EACa,SAAAI,EAAA,aACrD,MAAAF,EAAA,WACJ,aAAAA,EAAA,aACO,oBAAA,GACJ,SAAAe,EAAAA,IAAAE,EAAA,CAAA,YAAAP,EAAA,SAAAE,EAAA,SAAAM,EAAA,KAAAC,EAAA,CAAA,IAAA,KAAA,SAAA,CAIXJ,EAAA,IAAAK,EAAA,EAAA,EAAsBF,EAAA,KACtBG,EAAC,CAAA,KAAA,YACQ,MAAAN,EAAAA,IAAAO,EAAA,CAAA,GAAA,8BAAA,CAAA,EACsD,SAAA,CACjDC,EACNzB,EAAA,cAAA,CAAA,GAAA,wDAAA,CAAA,CACuF,CACvF,EACJ,SAAA,CAEAiB,EAAAA,IAAAS,EAAA,CAAA,MAAAC,EAAA,OAAA,SAAAV,EAAA,IAAAO,EAAA,CAAA,GAAA,2BAAA,CAAA,CAAA,CAAA,EAEAP,EAAAA,IAAAS,EAAA,CAAA,MAAAC,EAAA,SAAA,SAAAV,EAAA,IAAAO,EAAA,CAAA,GAAA,6BAAA,CAAA,CAAA,CAAA,CAGA,CAAA,CAAA,EACJP,EAAA,IACAW,EAAC,CAAA,iBAAAxB,EAAA,wBAC+B,wBAAAK,CACH,CAAA,CAC7B,CAAA,CAAA,CAAA,CAAA,CAER,CAAA,CAGZ,EAEAoB,EAAA9B"}