import{j as e}from"./tslib.es6-C_-gbNBy.js";import{u as N,a as I,b as B,C as A,c as D,n as w,P as M}from"./useEsNavigator-eeGT4Ukc.js";import{b as S,c as q,D as f,R as F,a as r,d as b,u as C,F as _,E as L,S as G}from"./ErrorSummaryHookForm-CZT-7WNq.js";import{u as v,V as T,d as j,a as i,q as P,r as E,M as n,s as J,t as K,v as U,w as V,S as H}from"./dateFormValidation-DWVzr69P.js";import{r as $}from"./index-CTjT7uj6.js";const z=(a,s)=>{const t={...a};return delete t[s],t},O=({adopsjonsdato:a,antallBarn:s,antallBarnDropDown:t})=>{const o=v(),{control:p}=S(),{fields:d,remove:c,append:x}=q({control:p,name:"fødselsdatoer"});return $.useEffect(()=>{if(!s||s===3&&!t)return;const l=s<3||!t?s:Number.parseInt(t,10),m=d.length-l;m>0&&[...new Array(m)].forEach((u,h)=>{c(d.length-h-1)}),m<0&&[...new Array(l-d.length)].forEach(()=>{x({dato:void 0})})},[s,t,x,d.length,c]),e.jsx(T,{gap:"10",children:d.map((l,m)=>e.jsx(f,{name:`fødselsdatoer.${m}.dato`,minDate:j().subtract(15,"year").toDate(),maxDate:j().toDate(),label:d.length===1?o.formatMessage({id:"AdopsjonFodselFieldArray.Fødselsdato"}):o.formatMessage({id:`AdopsjonFodselFieldArray.Spørsmål.Fødselsdato.${m+1}`}),validate:[i(o.formatMessage({id:"AdopsjonFodselFieldArray.Fodselsdato.DuMåOppgi"})),P(o.formatMessage({id:"AdopsjonFodselFieldArray.Fødselsdato.Gyldig"})),u=>!u||!a?void 0:E(o.formatMessage({id:"AdopsjonFodselFieldArray.fodselsdato.MåVæreIdagEllerTidligere"}))(u)]},l.id))})};O.__docgenInfo={description:"",methods:[],displayName:"AdopsjonFodselFieldArray"};const k=({kjønn:a})=>{const s=v(),{watch:t}=S(),{adopsjonAvEktefellesBarn:o,adopsjonsdato:p,antallBarn:d,antallBarnDropDown:c}=t();return e.jsxs(e.Fragment,{children:[e.jsxs(F,{name:"adopsjonAvEktefellesBarn",label:e.jsx(n,{id:"AdopsjonPanel.Spørsmål.Stebarnsadopsjon"}),validate:[i(s.formatMessage({id:"AdopsjonPanel.Spørsmål.Required"}))],children:[e.jsx(r,{value:!0,children:e.jsx(n,{id:"AdopsjonPanel.Ja"})}),e.jsx(r,{value:!1,children:e.jsx(n,{id:"AdopsjonPanel.Nei"})})]}),e.jsx(f,{name:"adopsjonsdato",label:o?s.formatMessage({id:"AdopsjonPanel.Spørsmål.Stebarnsadopsjondato"}):s.formatMessage({id:"AdopsjonPanel.Spørsmål.Overtaomsorgdato"}),minDate:j().subtract(6,"month").toDate(),validate:[i(o?s.formatMessage({id:"AdopsjonPanel.EktefellensBarn.DuMåOppgi"}):s.formatMessage({id:"AdopsjonPanel.OvertaOmsorg.DuMåOppgi"})),P(o?s.formatMessage({id:"AdopsjonPanel.Adopsjonsdato.GyldigFormat"}):s.formatMessage({id:"AdopsjonPanel.Omsorgsovertakelsen.GyldigFormat"})),J(s.formatMessage({id:"AdopsjonPanel.AdopsjonDato.ForLangtFremITid"}))]}),e.jsxs(F,{name:"antallBarn",label:e.jsx(n,{id:"AdopsjonPanel.Spørsmål.AntallBarnAdoptert"}),description:e.jsx(n,{id:"AdopsjonPanel.Spørsmål.AntallBarnAdoptert.Beskrivelse"}),validate:[i(s.formatMessage({id:"AdopsjonPanel.Antallbarn.Required"}))],children:[e.jsx(r,{value:1,children:e.jsx(n,{id:"AdopsjonPanel.Radiobutton.Ettbarn"})}),e.jsx(r,{value:2,children:e.jsx(n,{id:"AdopsjonPanel.Radiobutton.ToBarn"})}),e.jsx(r,{value:3,children:e.jsx(n,{id:"AdopsjonPanel.Radiobutton.Flere"})})]}),d&&d>=3&&e.jsxs(b,{name:"antallBarnDropDown",label:e.jsx(n,{id:"AdopsjonPanel.AntallBarn.Omsorgsovertakelse"}),validate:[i(s.formatMessage({id:"AdopsjonPanel.Antallbarndropdown.Required"}))],children:[e.jsx("option",{value:"3",children:"3"}),e.jsx("option",{value:"4",children:"4"}),e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"6",children:"6"}),e.jsx("option",{value:"7",children:"7"}),e.jsx("option",{value:"8",children:"8"}),e.jsx("option",{value:"9",children:"9"})]}),e.jsx(O,{adopsjonsdato:p,antallBarn:d,antallBarnDropDown:c}),a==="M"&&o===!1&&e.jsxs(F,{name:"søkerAdopsjonAlene",label:e.jsx(n,{id:"AdopsjonPanel.Spørsmål.AdoptererDuAlene"}),validate:[i(s.formatMessage({id:"AdopsjonPanel.AdoptererDuAlene.Required"}))],children:[e.jsx(r,{value:!0,children:e.jsx(n,{id:"AdopsjonPanel.Ja"})}),e.jsx(r,{value:!1,children:e.jsx(n,{id:"AdopsjonPanel.Nei"})})]})]})};k.__docgenInfo={description:"",methods:[],displayName:"AdopsjonPanel"};const y=()=>{const a=v(),{watch:s}=S(),t=s("erBarnetFødt"),o=s("antallBarn");return e.jsxs(e.Fragment,{children:[e.jsxs(F,{name:"erBarnetFødt",label:e.jsx(n,{id:"FødselPanel.Spørsmål.ErBarnetFødt"}),validate:[i(a.formatMessage({id:"FødselPanel.Spørsmål.ErBarnetFødt.Required"}))],children:[e.jsx(r,{value:!0,children:e.jsx(n,{id:"FødselPanel.Radiobutton.Ja"})}),e.jsx(r,{value:!1,children:e.jsx(n,{id:"FødselPanel.Radiobutton.Nei"})})]}),t&&e.jsx(f,{name:"fødselsdato",label:e.jsx(n,{id:"FødselPanel.Fødselsdato"}),description:a.formatMessage({id:"FødselPanel.TermindatoFodselsdato.beskrivelse"}),minDate:j().subtract(6,"month").toDate(),maxDate:j().toDate(),validate:[i(a.formatMessage({id:"FødselPanel.Fødselsdato.DuMåOppgi"})),P(a.formatMessage({id:"FødselPanel.Fødselsdato.Gyldig"})),E(a.formatMessage({id:"FødselPanel.Fodselsdato.MåVæreIdagEllerTidligere"})),K(a.formatMessage({id:"FødselPanel.Fodselsdato.IkkeMerEnn6MånederTilbake"}))]}),!t&&e.jsx(f,{name:"termindato",label:e.jsx(n,{id:"FødselPanel.Termindato"}),description:a.formatMessage({id:"FødselPanel.TermindatoFodselsdato.beskrivelse"}),minDate:j().subtract(3,"week").toDate(),maxDate:j().add(18,"weeks").add(3,"days").toDate(),validate:[i(a.formatMessage({id:"FødselPanel.Termindato.DuMåOppgi"})),P(a.formatMessage({id:"FødselPanel.Termindato.Gyldig"})),U(a.formatMessage({id:"FødselPanel.Termindato.TermindatoKanIkkeVære3UkerFraIdag"})),V(a.formatMessage({id:"FødselPanel.Termindato.DuMåVæreIUke22"}))]}),e.jsxs(F,{name:"antallBarn",label:t?a.formatMessage({id:"FødselPanel.AntallBarn.Født"}):a.formatMessage({id:"FødselPanel.AntallBarn.Termin"}),description:a.formatMessage({id:"FødselPanel.AntallBarn.TerminBeskrivelse"}),validate:[i(t?a.formatMessage({id:"FødselPanel.AntallBarn.Født.Required"}):a.formatMessage({id:"FødselPanel.AntallBarn.Venter.Required"}))],children:[e.jsx(r,{value:1,children:e.jsx(n,{id:"FødselPanel.Radiobutton.Ettbarn"})}),e.jsx(r,{value:2,children:e.jsx(n,{id:"FødselPanel.Radiobutton.Tvillinger"})}),e.jsx(r,{value:3,children:e.jsx(n,{id:"FødselPanel.Radiobutton.Flere"})})]}),o>=3&&e.jsxs(b,{name:"antallBarnDropDown",label:t?a.formatMessage({id:"FødselPanel.AntallBarn.Født"}):a.formatMessage({id:"FødselPanel.AntallBarn.Termin"}),validate:[i(t?a.formatMessage({id:"FødselPanel.AntallBarn.Født.Required"}):a.formatMessage({id:"FødselPanel.AntallBarn.Venter.Required"}))],children:[e.jsx("option",{value:"3",children:"3"}),e.jsx("option",{value:"4",children:"4"}),e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"6",children:"6"}),e.jsx("option",{value:"7",children:"7"}),e.jsx("option",{value:"8",children:"8"}),e.jsx("option",{value:"9",children:"9"})]})]})};y.__docgenInfo={description:"",methods:[],displayName:"FødselPanel"};const W=(a,s)=>s.situasjon==="adopsjon"?M.ADOPSJONSBEKREFTELSE:a.erBarnetFødt===!1?M.TERMINBEKREFTELSE:M.UTENLANDSOPPHOLD,Y=a=>({...z(a,"antallBarnDropDown"),antallBarn:a.antallBarn>2&&a.antallBarnDropDown?Number.parseInt(a.antallBarnDropDown,10):a.antallBarn}),Q=a=>({...a,antallBarn:a.antallBarn>2?3:a.antallBarn,antallBarnDropDown:a.antallBarn>2?a.antallBarn.toString():void 0}),R=({kjønn:a,mellomlagreOgNaviger:s})=>{const t=v(),o=N(),p=I(s),d=B(A.OM_BARNET),c=D(A.OM_BARNET),x=D(A.DOKUMENTASJON),l=w(B(A.SØKERSITUASJON)),m=g=>c(Y(g)),u=g=>(m(g),g.erBarnetFødt===!0&&x(void 0),p.goToNextStep(W(g,l))),h=C({defaultValues:d?Q(d):{}});return e.jsx(H,{bannerTitle:t.formatMessage({id:"Søknad.Pageheading"}),onCancel:p.avbrytSøknad,onContinueLater:p.fortsettSøknadSenere,onStepChange:p.goToNextStep,steps:o,children:e.jsx(_,{formMethods:h,onSubmit:u,children:e.jsxs(T,{gap:"10",children:[e.jsx(L,{}),(l==null?void 0:l.situasjon)==="adopsjon"&&e.jsx(k,{kjønn:a}),(l==null?void 0:l.situasjon)==="fødsel"&&e.jsx(y,{}),e.jsx(G,{goToPreviousStep:p.goToPreviousDefaultStep,saveDataOnPreviousClick:m})]})})})},ne=R;R.__docgenInfo={description:"",methods:[],displayName:"OmBarnetSteg"};export{ne as O};
