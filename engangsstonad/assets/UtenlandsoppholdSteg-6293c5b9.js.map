{"version":3,"file":"UtenlandsoppholdSteg-6293c5b9.js","sources":["../../src/steg/utenlandsopphold/UtenlandsoppholdSteg.tsx"],"sourcesContent":["import { useCallback } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Utenlandsopphold } from '@navikt/fp-types';\nimport { UtenlandsoppholdPanel } from '@navikt/fp-utenlandsopphold';\nimport { Heading } from '@navikt/ds-react';\nimport { ContentWrapper } from '@navikt/fp-ui';\nimport { notEmpty } from '@navikt/fp-validation';\n\nimport useEsNavigator from 'appData/useEsNavigator';\nimport { Path } from 'appData/paths';\nimport { EsDataType, useEsStateSaveFn, useEsStateData } from 'appData/EsDataContext';\nimport useStepConfig from 'appData/useStepConfig';\n\nconst utledNesteSide = (formValues: Utenlandsopphold): Path => {\n    if (formValues?.harBoddUtenforNorgeSiste12Mnd) {\n        return Path.TIDLIGERE_UTENLANDSOPPHOLD;\n    }\n    return formValues?.skalBoUtenforNorgeNeste12Mnd ? Path.SENERE_UTENLANDSOPPHOLD : Path.OPPSUMMERING;\n};\n\nconst UtenlandsoppholdSteg: React.FunctionComponent = () => {\n    const stepConfig = useStepConfig();\n    const navigator = useEsNavigator();\n\n    const utenlandsopphold = useEsStateData(EsDataType.UTENLANDSOPPHOLD);\n    const søkersituasjon = notEmpty(useEsStateData(EsDataType.SØKERSITUASJON));\n\n    const lagreUtenlandsopphold = useEsStateSaveFn(EsDataType.UTENLANDSOPPHOLD);\n    const lagreTidligereUtenlandsopphold = useEsStateSaveFn(EsDataType.UTENLANDSOPPHOLD_TIDLIGERE);\n    const lagreSenereUtenlandsopphold = useEsStateSaveFn(EsDataType.UTENLANDSOPPHOLD_SENERE);\n\n    const lagre = useCallback(\n        (formValues: Utenlandsopphold) => {\n            lagreUtenlandsopphold(formValues);\n\n            if (!formValues.harBoddUtenforNorgeSiste12Mnd) {\n                lagreTidligereUtenlandsopphold(undefined);\n            }\n            if (!formValues.skalBoUtenforNorgeNeste12Mnd) {\n                lagreSenereUtenlandsopphold(undefined);\n            }\n\n            navigator.goToNextStep(utledNesteSide(formValues));\n        },\n        [lagreSenereUtenlandsopphold, lagreTidligereUtenlandsopphold, lagreUtenlandsopphold, navigator],\n    );\n\n    return (\n        <ContentWrapper>\n            <Heading size=\"large\">\n                <FormattedMessage id=\"Søknad.Pageheading\" />\n            </Heading>\n            <UtenlandsoppholdPanel\n                utenlandsopphold={utenlandsopphold}\n                saveOnNext={lagre}\n                saveOnPrevious={lagreUtenlandsopphold}\n                cancelApplication={navigator.avbrytSøknad}\n                goToPreviousStep={navigator.goToPreviousDefaultStep}\n                stepConfig={stepConfig}\n                søkersituasjon={søkersituasjon?.situasjon}\n                stønadstype=\"Engangsstønad\"\n            />\n        </ContentWrapper>\n    );\n};\n\nexport default UtenlandsoppholdSteg;\n"],"names":["utledNesteSide","formValues","Path","UtenlandsoppholdSteg","stepConfig","useStepConfig","navigator","useEsNavigator","utenlandsopphold","useEsStateData","EsDataType","søkersituasjon","notEmpty","lagreUtenlandsopphold","useEsStateSaveFn","lagreTidligereUtenlandsopphold","lagreSenereUtenlandsopphold","lagre","useCallback","jsxs","ContentWrapper","jsx","Heading","FormattedMessage","UtenlandsoppholdPanel","UtenlandsoppholdSteg$1"],"mappings":"iRAaA,MAAAA,EAAAC,GACIA,GAAA,MAAAA,EAAA,8BACIC,EAAA,2BAEJD,GAAA,MAAAA,EAAA,6BAAAC,EAAA,wBAAAA,EAAA,aAGJC,EAAA,IAAA,CACI,MAAAC,EAAAC,IACAC,EAAAC,IAEAC,EAAAC,EAAAC,EAAA,gBAAA,EACAC,EAAAC,EAAAH,EAAAC,EAAA,cAAA,CAAA,EAEAG,EAAAC,EAAAJ,EAAA,gBAAA,EACAK,EAAAD,EAAAJ,EAAA,0BAAA,EACAM,EAAAF,EAAAJ,EAAA,uBAAA,EAEAO,EAAAC,EAAA,YAAcjB,GAAA,CAENY,EAAAZ,CAAA,EAEAA,EAAA,+BACIc,EAAA,MAAA,EAEJd,EAAA,8BACIe,EAAA,MAAA,EAGJV,EAAA,aAAAN,EAAAC,CAAA,CAAA,CAAiD,EACrD,CAAAe,EAAAD,EAAAF,EAAAP,CAAA,CAC8F,EAGlG,OAAAa,EAAA,KAAAC,EAAA,CAAA,SAAA,CAEQC,EAAAA,IAAAC,EAAA,CAAA,KAAA,QAAA,SAAAD,MAAAE,EAAA,CAAA,GAAA,oBAAA,CAAA,CAAA,CAAA,EAEAF,EAAA,IACAG,EAAC,CAAA,iBAAAhB,EACG,WAAAS,EACY,eAAAJ,EACI,kBAAAP,EAAA,aACa,iBAAAA,EAAA,wBACD,WAAAF,EAC5B,eAAAO,GAAA,YAAAA,EAAA,UACgC,YAAA,eACpB,CAAA,CAChB,CAAA,CAAA,CAGZ,EAEAc,EAAAtB"}