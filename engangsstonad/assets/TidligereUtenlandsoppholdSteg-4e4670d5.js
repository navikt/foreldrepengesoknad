import{e as r,j as e,V as j,F as T,c as I,T as C,S as R,P as H}from"./index-bc1547a9.js";import{r as c}from"./_baseToString-4ec4abc0.js";import{a as V,b as B,D as f,u as G,c as $,F as q,E as w,S as z}from"./ErrorSummaryHookForm-6d34c5bb.js";import"./_createSet-fd84fb43.js";import{u as M,D as P,h as _,e as E,j as K,k as v,m as L,n as Y,o as y,p as U,q as F,r as W,b as J,a as Q,s as X,c as k,E as x,d as Z,P as N}from"./useEsNavigator-68384437.js";const ee=({index:a,fjernOpphold:u})=>{const{i18n:t}=M(),{watch:p,trigger:S,formState:{isSubmitted:g}}=V(),D=p("utenlandsoppholdSiste12Mnd").filter((i,d)=>d!==a),o=p(`utenlandsoppholdSiste12Mnd.${a}.fom`),n=p(`utenlandsoppholdSiste12Mnd.${a}.tom`),l=r(P).toDate(),s=n?r(n).toDate():r(_).toDate(),m=o?r(o).toDate():r(P).toDate(),h=r(_).toDate();return e.jsxs(j,{gap:"5",align:"start",children:[e.jsx(B,{name:`utenlandsoppholdSiste12Mnd.${a}.landkode`,label:e.jsx(T,{id:"TidligereUtenlandsoppholdSteg.Spørsmål.HvilketLandHarDuBoddI"}),validate:[E(t("TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandDuHarBoddIPåkrevd"))],children:K().map(i=>e.jsx("option",{value:i[0],children:i[1]},i[0]))}),e.jsx(f,{name:`utenlandsoppholdSiste12Mnd.${a}.fom`,label:e.jsx(T,{id:"TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Fraogmed"}),minDate:l,maxDate:s,validate:[E(t("TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandFomDuSkalBoIPåkreved")),v(t("TidligereUtenlandsoppholdSteg.FraOgMedDato.GyldigDato")),L(t("TidligereUtenlandsoppholdSteg.FomErLikTom"),n),Y(t("TidligereUtenlandsoppholdSteg.Utenlandsopphold.FørTilDato"),n),y(t("TidligereUtenlandsoppholdSteg.DateOutsideRangeFom",{min:U(l),max:U(s)}),l,s),F(t("TidligereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"),{date:n,isStartDate:!1},D)],onChange:()=>g&&S()}),e.jsx(f,{name:`utenlandsoppholdSiste12Mnd.${a}.tom`,label:e.jsx(T,{id:"TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.Tilogmed"}),minDate:m,maxDate:h,validate:[E(t("TidligereUtenlandsoppholdSteg.LeggTilUtenlandsopphold.LandTomDuHarBoddIPåkreved")),v(t("TidligereUtenlandsoppholdSteg.TilOgMedDato.GyldigDato")),L(t("TidligereUtenlandsoppholdSteg.TomErLikFom"),o),W(t("TidligereUtenlandsoppholdSteg.Utenlandsopphold.EtterFraDato"),o),y(t("TidligereUtenlandsoppholdSteg.DateOutsideRangeTom",{min:U(m),max:U(h)}),m,h),F(t("TidligereUtenlandsoppholdSteg.Valideringsfeil.Utenlandsopphold.Overlapp"),{date:o,isStartDate:!0},D)],onChange:()=>g&&S()}),a>0&&e.jsx(I,{type:"button",variant:"tertiary",size:"small",icon:e.jsx(C,{"aria-hidden":!0}),onClick:()=>u(a),children:e.jsx(T,{id:"TidligereUtenlandsoppholdSteg.Knapp.SlettOpphold"})})]})};try{TidligereUtenlandsoppholdPeriode.displayName="TidligereUtenlandsoppholdPeriode",TidligereUtenlandsoppholdPeriode.__docgenInfo={description:"",displayName:"TidligereUtenlandsoppholdPeriode",props:{index:{defaultValue:null,description:"",name:"index",required:!0,type:{name:"number"}},fjernOpphold:{defaultValue:null,description:"",name:"fjernOpphold",required:!0,type:{name:"(index: number) => void"}}}}}catch{}const b={fom:"",tom:"",landkode:""},te={utenlandsoppholdSiste12Mnd:[b]},O=()=>{const{i18n:a}=M(),u=J(),t=Q(),p=X(k(x.UTENLANDSOPPHOLD)),S=k(x.UTENLANDSOPPHOLD_TIDLIGERE),g=Z(x.UTENLANDSOPPHOLD_TIDLIGERE),D=c.useMemo(()=>S||te,[]),o=G({defaultValues:D}),{fields:n,append:l,remove:s}=$({name:"utenlandsoppholdSiste12Mnd",control:o.control}),m=c.useCallback(()=>{l(b)},[l]),h=c.useCallback(d=>{s(d)},[s]),i=c.useCallback(d=>{g(d),t.goToNextStep(p.skalBoUtenforNorgeNeste12Mnd?N.SENERE_UTENLANDSOPPHOLD:N.OPPSUMMERING)},[]);return e.jsx(R,{bannerTitle:a("Søknad.Pageheading"),pageTitle:a("TidligereUtenlandsoppholdSteg.Tidligere"),onCancel:t.avbrytSøknad,steps:u.stepConfig,activeStepId:u.activeStepId,useNoTempSavingText:!0,children:e.jsx(q,{formMethods:o,onSubmit:i,children:e.jsxs(j,{gap:"10",children:[e.jsx(w,{}),e.jsxs(j,{gap:"10",align:"start",children:[n.map((d,A)=>e.jsxs(c.Fragment,{children:[e.jsx(ee,{index:A,fjernOpphold:h}),n.length>1&&e.jsx("hr",{style:{width:"100%"},color:"#99C4DD"})]},d.id)),e.jsx(I,{type:"button",variant:"secondary",size:"small",icon:e.jsx(H,{"aria-hidden":!0}),onClick:m,children:e.jsx(T,{id:"TidligereUtenlandsoppholdSteg.Knapp.LeggTilLand"})})]}),e.jsx(z,{goToPreviousStep:t.goToPreviousDefaultStep,saveDataOnPreviousClick:g})]})})})},se=O;try{O.displayName="TidligereUtenlandsoppholdSteg",O.__docgenInfo={description:"",displayName:"TidligereUtenlandsoppholdSteg",props:{}}}catch{}export{se as T};
//# sourceMappingURL=TidligereUtenlandsoppholdSteg-4e4670d5.js.map
