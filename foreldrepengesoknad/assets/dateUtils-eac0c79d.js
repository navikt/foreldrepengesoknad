import{d as o,l as b,a6 as H,a7 as Z,I as B,r as A,J as F,s as G,U as R}from"./Tidsperioden-d1902d25.js";import{c as T,g as W}from"./index-1cdf6ce0.js";import"./jsx-runtime-1caa8f64.js";import{a as Y,h as E,f as C,b as N,c as Q}from"./Perioden-9714515e.js";import"./index-753920cd.js";import"./_baseToString-2517c4f7.js";import"./_createSet-019d3bf6.js";var j={exports:{}};(function(e,t){(function(v,f){e.exports=f()})(T,function(){var v={year:0,month:1,day:2,hour:3,minute:4,second:5},f={};return function(S,m,i){var r,D=function(s,h,u){u===void 0&&(u={});var n=new Date(s),g=function(z,l){l===void 0&&(l={});var p=l.timeZoneName||"short",w=z+"|"+p,x=f[w];return x||(x=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:z,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:p}),f[w]=x),x}(h,u);return g.formatToParts(n)},a=function(s,h){for(var u=D(s,h),n=[],g=0;g<u.length;g+=1){var z=u[g],l=z.type,p=z.value,w=v[l];w>=0&&(n[w]=parseInt(p,10))}var x=n[3],M=x===24?0:x,$=n[0]+"-"+n[1]+"-"+n[2]+" "+M+":"+n[4]+":"+n[5]+":000",k=+s;return(i.utc($).valueOf()-(k-=k%1e3))/6e4},c=m.prototype;c.tz=function(s,h){s===void 0&&(s=r);var u=this.utcOffset(),n=this.toDate(),g=n.toLocaleString("en-US",{timeZone:s}),z=Math.round((n-new Date(g))/1e3/60),l=i(g,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(15*-Math.round(n.getTimezoneOffset()/15)-z,!0);if(h){var p=l.utcOffset();l=l.add(u-p,"minute")}return l.$x.$timezone=s,l},c.offsetName=function(s){var h=this.$x.$timezone||i.tz.guess(),u=D(this.valueOf(),h,{timeZoneName:s}).find(function(n){return n.type.toLowerCase()==="timezonename"});return u&&u.value};var d=c.startOf;c.startOf=function(s,h){if(!this.$x||!this.$x.$timezone)return d.call(this,s,h);var u=i(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return d.call(u,s,h).tz(this.$x.$timezone,!0)},i.tz=function(s,h,u){var n=u&&h,g=u||h||r,z=a(+i(),g);if(typeof s!="string")return i(s).tz(g);var l=function(M,$,k){var y=M-60*$*1e3,O=a(y,k);if($===O)return[y,$];var U=a(y-=60*(O-$)*1e3,k);return O===U?[y,O]:[M-60*Math.min(O,U)*1e3,Math.max(O,U)]}(i.utc(s,n).valueOf(),z,g),p=l[0],w=l[1],x=i(p).utcOffset(w);return x.$x.$timezone=g,x},i.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},i.tz.setDefault=function(s){r=s}}})})(j);var V=j.exports;const X=W(V);var I={exports:{}};(function(e,t){(function(v,f){e.exports=f()})(T,function(){return function(v,f){var S=f.prototype,m=S.format;S.format=function(i){var r=this,D=this.$locale();if(!this.isValid())return m.bind(this)(i);var a=this.$utils(),c=(i||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((r.$M+1)/3);case"Do":return D.ordinal(r.$D);case"gggg":return r.weekYear();case"GGGG":return r.isoWeekYear();case"wo":return D.ordinal(r.week(),"W");case"w":case"ww":return a.s(r.week(),d==="w"?1:2,"0");case"W":case"WW":return a.s(r.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return a.s(String(r.$H===0?24:r.$H),d==="k"?1:2,"0");case"X":return Math.floor(r.$d.getTime()/1e3);case"x":return r.$d.getTime();case"z":return"["+r.offsetName()+"]";case"zzz":return"["+r.offsetName("long")+"]";default:return d}});return m.bind(this)(c)}}})})(I);var J=I.exports;const q=W(J),K=e=>"morsSisteDag"in e;o.extend(b);o.extend(H);o.extend(Z);o.extend(X);o.extend(q);const ae=o().subtract(4,"year").startOf("day").toDate(),L=(e,t)=>!A(e)||!A(t)||!F(e)||!F(t)?!1:!!o(e).isBefore(t,"day"),ne=e=>[...e].sort((t,v)=>L(t.fødselsdato,v.fødselsdato)?1:-1)[e.length-1],fe=e=>[...e].sort((v,f)=>L(G(v),G(f))?-1:1),de=(e,t)=>e&&t?o(e).isSameOrAfter(t,"day"):!0,ue=e=>{if(e.length>0)return o.min(e.map(t=>o(t))).toDate()},me=(e,t,v)=>{if(v!==void 0)return v;if(t!==void 0)return t;if(e!==void 0)return e;throw new Error("Mangler fødselsdato/termindato/adopsjonsdato for barnet.")},ce=e=>{const t=new Date("2021-10-01");return o(e).isSameOrAfter(t,"day")&&o(new Date).isSameOrAfter(t,"day")},le=e=>{const t=new Date("2022-08-02");return o(e).isSameOrAfter(t,"day")&&o(new Date).isSameOrAfter(t,"day")},ve=(e,t)=>o(e).isAfter(R(t).neste(),"day"),he=(e,t,v)=>{if(!v)return;const f=e===void 0?void 0:e.filter(r=>!Y(r)),S=t.filter(r=>!Y(r));let m,i;if(f)S.forEach((r,D)=>{if(m)return;const{fom:a}=r.tidsperiode,c=f.find(d=>o(d.tidsperiode.fom).isSame(a,"day"));if(c!==void 0){const d=E(r).erLik(c,!1,!0);(!d||d&&E(r).slutterEtter(c.tidsperiode.tom))&&(m=a)}if(c===void 0&&(m=a),c!==void 0&&S.length-1===D&&(E(r).erLik(c,!0,!0)||(m=a)),m&&C(r)&&o(m).isAfter(f[f.length-1].tidsperiode.tom)){const d=S.find(s=>(N(s)||Q(s))&&o(s.tidsperiode.fom).isAfter(m));m=d!==void 0?d.tidsperiode.fom:m}}),f.forEach(r=>{if(i)return;const{fom:D}=r.tidsperiode,a=S.find(c=>o(c.tidsperiode.fom).isSame(D,"day"));a!==void 0&&!E(r).erLik(a,!1,!0)&&(i=a.tidsperiode.fom),a===void 0&&(i=D)});else if(S.length>0)return S[0].tidsperiode.fom;return _(m,i)},_=(e,t)=>{if(!(e===void 0&&t===void 0))return e!==void 0&&t===void 0?e:e===void 0&&t!==void 0?t:o(e).isSameOrBefore(o(t))?e:t},ge=e=>{if(e&&K(e))return B(e.morsSisteDag)};export{ne as a,ge as b,he as c,ae as d,ve as e,ce as f,me as g,ue as h,L as i,de as j,le as k,fe as s,X as t};
