import{j as t}from"./jsx-runtime-DoxjgJx5.js";import{w as Ot,g as yt,A as Me,H as jt,h as Ut,U as bt,I as Ft,i as Dt}from"./Step-CVcz0jW7.js";import{M as It}from"./index-B_cCgG6K.js";import{a as Rt,s as _t}from"./stønadskontoDeltUttak80-ClNcnlfA.js";import{aM as xt,d as F,g as Mt,q as ee,aJ as ce,u as Le,U as Mn,b as W,i as me,$ as wt,M as ue,B as ke,c as cn,a0 as Bt,p as Kt,L as wn,S as Lt,aN as Gt,aO as Bn}from"./Tidsperioden-DCn00dy0.js";import{r as p}from"./index-Cu9bd8lq.js";import"./index-C-6Uy6j4.js";import{n as qt,a as gn,u as fn,b as Sn,o as En,c as Vt}from"./app-Bvj237CV.js";import"./_baseToString-yTMKM5a7.js";import"./_createSet-BNfKGSGn.js";import{B as Ct}from"./ByttBrowserModal-D-R0qzC5.js";import{B as Jt}from"./index-DhGyt4I6.js";import{E as _e}from"./Environment-O62Hvuhd.js";import{F as Wt,l as Ht,A as $}from"./Feilside-BhtXuVfB.js";import{a as Kn,s as Y,g as $t,b as Yt,c as Qt,d as Xt,U as zt}from"./UttaksplanInfo-DCmi_wUe.js";import{C as i,c as Zt,d as Ln,u as I,a as G,e as er,F as nr}from"./FpDataContext-CjNulmBK.js";import{l as tr}from"./links-dJHPeQm3.js";import{a as Ge,$ as X,ac as Gn,a0 as rr,ad as sr,P as ar,a6 as or,S as we,z as qn,I as xe,G as ir,H as lr,J as dr,K as ur,L as pr,ae as vn,O as mr,af as kr,ag as cr,D as gr,ah as fr,b as Sr,ai as Er,aj as N,ak as An}from"./index-CdaWxK5t.js";import{n as M}from"./dateFormValidation-CPrZc7L7.js";import{S as k,e as vr,h as Ar,i as hr,Q as Nr,u as Tr,a as Pr,g as Or,f as yr,s as jr,U as Ur,j as br,k as Fr,l as Dr}from"./useFpNavigator-2j8SPiSw.js";import{r as Vn,R as H}from"./useRequest-Bq8ZCFOD.js";import{e as Cn,h as Ir}from"./barnUtils-Cq84rcwD.js";import{V as Rr}from"./Velkommen-YWlh5REw.js";import{A as _r}from"./AnnenForelderSteg-BJU2uE0e.js";import{I as xr}from"./Inntektsinformasjon-DeqDT4b3.js";import{M as hn}from"./ManglendeVedlegg-vNvCVGMT.js";import{O as Mr}from"./OmBarnetSteg-BkQjOqrV.js";import{O as Nn}from"./Oppsummering-D0HNg1dO.js";import{P as wr}from"./PeriodeMedForeldrepengerSteg-BXZg0-gf.js";import{S as Br}from"./SøkersituasjonSteg-BReOkkLQ.js";import{U as Kr}from"./UtenlandsoppholdSteg-DJ7ZLiLs.js";import{S as Lr}from"./SenereUtenlandsoppholdSteg-CN0i-M1B.js";import{T as Gr}from"./TidligereUtenlandsoppholdSteg-Sqt1O71C.js";import{S as x}from"./skjemanummer-CSxM5qit.js";import{g as qr}from"./Næring-Cp6zrjWR.js";import{u as Tn,a as pe,d as Vr,e as Cr,g as Jr,b as Pn,c as Wr,F as Hr}from"./uttaksplanInfoUtils-ChXm-tfr.js";import{I as $r}from"./InfoOmSøknaden-DPpZXkoi.js";import{b as Yr,c as Qr}from"./dateUtils-DbOA_qt1.js";import{c as Xr,g as zr}from"./eksisterendeSakUtils-xJWrp1-A.js";import{a as Zr,g as es}from"./stønadskontoer-CFcPnUZJ.js";import{F as B}from"./message-D9M6PiyE.js";import{H as ns,B as On}from"./Link-BqZ6CohM.js";import{s as ts,A as rs}from"./apiInterceptor-D_vgNGab.js";import"./amplitude.esm-CWYNo8IU.js";import"./index-SDyqs4cU.js";import"./index-Ckls47V4.js";import"./SøkerOppsummeringspunkt-BLXcLfMY.js";import"./attachmentApi-BZLtCyR0.js";import"./axios-Cm0UX6qg.js";import"./Accordion-CANAfguR.js";import"./TidligereUtenlandsoppholdPanel-BdEid_qN.js";import"./ErrorSummaryHookForm-CfiQ3vM1.js";import"./globalUtil-DCkRFRH6.js";import"./BabyWrapped-DKbVzzLL.js";import"./LenkeKnapp-MqIXSt5W.js";import"./lodash-o8vTUAkc.js";import"./DinePlikter-CeNMiMRT.js";import"./DinePersonopplysningerModal-CYxLF2Ze.js";import"./velkommenUtils-Bj0L5CDT.js";import"./RegistrertePersonalia-BL6x4eN3.js";import"./validationUtil-CNXP0Xj4.js";import"./AttachmentMetadata-B9XvXCfe.js";import"./InteractiveListElement-pXphJLOv.js";import"./attachmentType-C6kdNpOs.js";import"./FormikFileUploader-BxgfvpLi.js";import"./AttachmentList-fjeHTpbA.js";import"./Attachment-Da4wqFSk.js";import"./util-StAjfSMt.js";import"./File-Bu0NGRgZ.js";const ss=[{fom:"2022-12-12",tom:"2023-02-17",kontoType:"FEDREKVOTE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},samtidigUttak:100,flerbarnsdager:!1},{fom:"2023-02-20",tom:"2023-03-05",kontoType:"FELLESPERIODE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},samtidigUttak:50,flerbarnsdager:!1},{fom:"2023-03-20",tom:"2023-03-31",kontoType:"FEDREKVOTE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},flerbarnsdager:!1}],as="HUNDRE",os={perioder:ss,dekningsgrad:as},is="2019-02-01",ls="23123",ds={innsendingstidspunkt:is,pdf:ls},us=[{saksnummer:"352011594",sakAvsluttet:!1,sisteSøknadMottattDato:"2023-03-31",kanSøkeOmEndring:!1,sakTilhørerMor:!1,gjelderAdopsjon:!0,morUføretrygd:!1,harAnnenForelderTilsvarendeRettEØS:!1,ønskerJustertUttakVedFødsel:!1,rettighetType:"BEGGE_RETT",annenPart:{type:"person",fnr:"05489305072",fornavn:"Sentral",etternavn:"Tangent"},familiehendelse:{fødselsdato:"2023-02-01",antallBarn:1,omsorgsovertakelse:"2023-04-10"},åpenBehandling:{tilstand:"VENT_INNTEKTSMELDING",søknadsperioder:[{fom:"2023-04-10",tom:"2023-07-21",kontoType:"FEDREKVOTE",flerbarnsdager:!1},{fom:"2023-07-24",tom:"2023-09-15",kontoType:"FELLESPERIODE",morsAktivitet:"UTDANNING",flerbarnsdager:!1}]},barn:[],dekningsgrad:"HUNDRE"}],ps=[],ms={foreldrepenger:us,engangsstønad:[],svangerskapspenger:ps},ks={MØDREKVOTE:95,FEDREKVOTE:95,FELLESPERIODE:90,FORELDREPENGER_FØR_FØDSEL:15,FORELDREPENGER:80},cs={},gs={kontoer:ks,minsteretter:cs};function fs(n){p.useEffect(()=>{const e=document.title;return document.title=n,()=>{document.title=e}},[n])}var yn=function(n,e,r){if(r||arguments.length===2)for(var s=0,o=e.length,a;s<o;s++)(a||!(s in e))&&(a||(a=Array.prototype.slice.call(e,0,s)),a[s]=e[s]);return n.concat(a||Array.prototype.slice.call(e))},Ss=function(){function n(e,r,s){this.name=e,this.version=r,this.os=s,this.type="browser"}return n}(),Es=function(){function n(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return n}(),vs=function(){function n(e,r,s,o){this.name=e,this.version=r,this.os=s,this.bot=o,this.type="bot-device"}return n}(),As=function(){function n(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return n}(),hs=function(){function n(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return n}(),Ns=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Ts=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,jn=3,Ps=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",Ns]],Un=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Os(n){return n?bn(n):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new hs:typeof navigator<"u"?bn(navigator.userAgent):Us()}function ys(n){return n!==""&&Ps.reduce(function(e,r){var s=r[0],o=r[1];if(e)return e;var a=o.exec(n);return!!a&&[s,a]},!1)}function bn(n){var e=ys(n);if(!e)return null;var r=e[0],s=e[1];if(r==="searchbot")return new As;var o=s[1]&&s[1].split(".").join("_").split("_").slice(0,3);o?o.length<jn&&(o=yn(yn([],o,!0),bs(jn-o.length),!0)):o=[];var a=o.join("."),d=js(n),u=Ts.exec(n);return u&&u[1]?new vs(r,a,d,u[1]):new Ss(r,a,d)}function js(n){for(var e=0,r=Un.length;e<r;e++){var s=Un[e],o=s[0],a=s[1],d=a.exec(n);if(d)return o}return null}function Us(){var n=typeof process<"u"&&process.version;return n?new Es(process.version.slice(1)):null}function bs(n){for(var e=[],r=0;r<n;r++)e.push("0");return e}const Fs=n=>{window.location.href=n},Jn="selectedLocale",Ds=()=>sessionStorage.getItem(Jn)||"nb",Is=n=>{sessionStorage.setItem(Jn,n)},Rs=n=>{const e=n.søknad;return{[i.APP_ROUTE]:n.currentRoute,[i.EKSISTERENDE_SAK]:n.eksisterendeSak,[i.BARN_FRA_NESTE_SAK]:n.barnFraNesteSak,[i.SØKERSITUASJON]:e==null?void 0:e.søkersituasjon,[i.OM_BARNET]:e==null?void 0:e.barn,[i.ANNEN_FORELDER]:e==null?void 0:e.annenForelder,[i.SØKER_DATA]:e==null?void 0:e.søker,[i.UTENLANDSOPPHOLD]:e!=null&&e.informasjonOmUtenlandsopphold?{iNorgeNeste12Mnd:e.informasjonOmUtenlandsopphold.iNorgeNeste12Mnd,iNorgeSiste12Mnd:e.informasjonOmUtenlandsopphold.iNorgeSiste12Mnd}:void 0,[i.UTENLANDSOPPHOLD_SENERE]:e!=null&&e.informasjonOmUtenlandsopphold&&e.informasjonOmUtenlandsopphold.senereOpphold&&e.informasjonOmUtenlandsopphold.senereOpphold.length>0?{senereOpphold:e.informasjonOmUtenlandsopphold.senereOpphold}:void 0,[i.UTENLANDSOPPHOLD_TIDLIGERE]:e!=null&&e.informasjonOmUtenlandsopphold&&e.informasjonOmUtenlandsopphold.tidligereOpphold&&e.informasjonOmUtenlandsopphold.tidligereOpphold.length>0?{tidligereOpphold:e.informasjonOmUtenlandsopphold.tidligereOpphold}:void 0,[i.PERIODE_MED_FORELDREPENGER]:e!=null&&e.dekningsgrad?{dekningsgrad:e.dekningsgrad}:void 0,[i.UTTAKSPLAN_INFO]:n.uttaksplanInfo,[i.UTTAKSPLAN]:e==null?void 0:e.uttaksplan,[i.UTTAKSPLAN_METADATA]:{ønskerJustertUttakVedFødsel:e==null?void 0:e.ønskerJustertUttakVedFødsel,perioderSomSkalSendesInn:n.perioderSomSkalSendesInn,antallUkerIUttaksplan:n.antallUkerIUttaksplan,harUttaksplanBlittSlettet:n.harUttaksplanBlittSlettet,annenPartsUttakErLagtTilIPlan:n.annenPartsUttakErLagtTilIPlan,endringstidspunkt:n.endringstidspunkt},[i.VEDLEGG]:e==null?void 0:e.vedlegg}};class qe extends p.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}componentDidCatch(e,r){e&&e.message!=="window.hasFocus is not a function"&&(this.setState({...this.state,hasError:!0,error:e}),Ot(s=>{s.setExtras(r),yt(e)}))}render(){var e;if(this.state.hasError){const r=!!this.state.error&&!!this.state.error.message&&this.state.error.message===Kn,s=r?"Feil: for mange vedlegg":"Informasjon om feilen";return t.jsx(Wt,{dokumenttittel:"NAV Foreldrepengesøknad",ingress:`${(e=this.state.error)==null?void 0:e.message}`,tittel:s,søker:this.props.søker,illustrasjon:{tittel:"Hei!",tekst:"Noe har gått galt med søknaden.",lenke:{tekst:"Her finner du en lenke til brukerstøtte",url:tr.brukerstøtte}},skalKunneGåTilbakeTilSøknad:r})}return this.props.children}}qe.__docgenInfo={description:"",methods:[],displayName:"ErrorBoundary",props:{søker:{required:!1,tsType:{name:"intersection",raw:`{
    fødselsdato: string;
    kjønn: Kjønn;
    bankkonto?: Bankkonto;
    sivilstand?: Sivilstand;
    barn: SøkerBarn[];
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    fødselsdato: string;
    kjønn: Kjønn;
    bankkonto?: Bankkonto;
    sivilstand?: Sivilstand;
    barn: SøkerBarn[];
}`,signature:{properties:[{key:"fødselsdato",value:{name:"string",required:!0}},{key:"kjønn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"bankkonto",value:{name:"Bankkonto",required:!1}},{key:"sivilstand",value:{name:"Sivilstand",required:!1}},{key:"barn",value:{name:"Array",elements:[{name:"intersection",raw:`{
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: SøkerAnnenForelder;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: SøkerAnnenForelder;
}`,signature:{properties:[{key:"kjønn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"dødsdato",value:{name:"string",required:!1}},{key:"annenForelder",value:{name:"intersection",raw:`{
    fødselsdato?: string;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    fødselsdato?: string;
}`,signature:{properties:[{key:"fødselsdato",value:{name:"string",required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}],required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}]}],raw:"SøkerBarn[]",required:!0}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}]},description:""},children:{required:!0,tsType:{name:"ReactElement"},description:""}}};const _s=(n,e,r,s)=>{const o=Ge(),a=Zt();return p.useCallback(async()=>{Ht("applikasjon-hendelse",{app:"foreldrepengesoknad",team:"foreldrepenger",hendelse:"avbrutt"}),a(),e(!1),r(!1),s(void 0);try{await $.deleteMellomlagretSøknad(n)}catch{}o("/")},[n,o,a,e,r,s])},Wn=7,xs=n=>{switch(n){case k.UTTAKSPLAN:case k.OPPSUMMERING:return!0;default:return!1}},Fn=n=>n.søknad&&n.søknad.erEndringssøknad&&!xs(n.currentRoute)?!1:n.version===Wn,Ms=(n,e,r,s,o,a)=>{const d=M(e(i.APP_ROUTE)),u=e(i.SØKERSITUASJON),A=e(i.OM_BARNET),g=e(i.ANNEN_FORELDER),y=e(i.SØKER_DATA),T=e(i.UTENLANDSOPPHOLD),h=e(i.UTENLANDSOPPHOLD_SENERE),l=e(i.UTENLANDSOPPHOLD_TIDLIGERE),m=e(i.UTTAKSPLAN_METADATA),O=e(i.BARN_FRA_NESTE_SAK),K=e(i.EKSISTERENDE_SAK),R=e(i.UTTAKSPLAN),E=e(i.UTTAKSPLAN_INFO),c=e(i.PERIODE_MED_FORELDREPENGER),f=e(i.VEDLEGG),q={version:Wn,locale:n,currentRoute:d,søknadGjelderEtNyttBarn:a,søknad:{harGodkjentVilkår:o,søkersituasjon:u,barn:A,annenForelder:g,søker:y,informasjonOmUtenlandsopphold:T?{...T,senereOpphold:(h==null?void 0:h.senereOpphold)||[],tidligereOpphold:(l==null?void 0:l.tidligereOpphold)||[]}:void 0,erEndringssøknad:s,dekningsgrad:c==null?void 0:c.dekningsgrad,uttaksplan:R,vedlegg:f,ønskerJustertUttakVedFødsel:m==null?void 0:m.ønskerJustertUttakVedFødsel},eksisterendeSak:K,barnFraNesteSak:O,uttaksplanInfo:E,endringstidspunkt:m==null?void 0:m.endringstidspunkt,antallUkerIUttaksplan:m==null?void 0:m.antallUkerIUttaksplan,perioderSomSkalSendesInn:m==null?void 0:m.perioderSomSkalSendesInn,harUttaksplanBlittSlettet:m==null?void 0:m.harUttaksplanBlittSlettet,annenPartsUttakErLagtTilIPlan:m==null?void 0:m.annenPartsUttakErLagtTilIPlan};return $.storeAppState(q,r)},ws=(n,e,r,s,o)=>{const a=Ge(),d=Ln(),[u,A]=p.useState(!1),g=p.useRef();return p.useEffect(()=>{if(u){const T=M(d(i.APP_ROUTE));(async()=>{A(!1),a(T),await Ms(n,d,e,r,s,o),g.current&&g.current()})().catch(l=>{l.response&&(l.response.status===401||l.response.status===403)?Vn():Y(l),g.current&&g.current()})}},[u]),p.useCallback(()=>(A(!0),new Promise(h=>{g.current=h})),[])},Bs=n=>!!(n&&typeof n=="object"&&"isAxiosError"in n),Ks=(n,e,r,s)=>{const o=Ln(),[a,d]=p.useState();return{sendSøknad:async A=>{const g=M(o(i.UTTAKSPLAN_METADATA)),y=M(o(i.OM_BARNET)),T=$t(e,o,g.perioderSomSkalSendesInn,Cn(y),s,g.endringstidspunkt);T.uttaksplan.length===0&&T.erEndringssøknad&&d(new Error("Søknaden din inneholder ingen nye perioder."));let h;try{h=(await $.sendSøknad(T,n,A)).data}catch(l){if(Bs(l)){l.response&&(l.response.status===401||l.response.status===403)&&Vn(),Y(l),l.response&&l.response.status===400&&l.response.data&&l.response.data.messages&&l.response.data.messages.includes("Vedleggslisten kan ikke inneholde flere enn 40 opplastede vedlegg")&&d(new Error(Kn));const m=Yt(l),O=m!==Qt?m.slice(0,8):m;d(new Error(Xt+O))}d(new Error(String(l)))}try{await $.deleteMellomlagretSøknad(n,A)}catch{}r(h)},errorSendSøknad:a}};var ne=(n=>(n.ønskerAutomatiskJustering="ønskerAutomatiskJustering",n))(ne||{});const Be=vr(),Ls=(n,e)=>{const[r,s]=p.useState(n);return p.useEffect(()=>{const o=setTimeout(()=>{s(n)},e);return()=>{clearTimeout(o)}},[n,e]),r},Hn=n=>X(n)||Gn(n)||rr(n)||sr(n),Dn=(n,e,r,s,o)=>s?e?qs(s,n,o,r):n.filter(Hn):n,Gs=(n,e,r,s)=>{const o=e.filter(a=>xt(r,a.tidsperiode.fom,a.tidsperiode.tom)||F(a.tidsperiode.fom).isSameOrAfter(F(r),"day")).filter(Hn);if(o.length===0&&n.length>e.length){const a=n.find(u=>F(u.tidsperiode.fom).isSame(r,"day"));return[{id:Mt(),type:ar.Utsettelse,tidsperiode:{fom:a.tidsperiode.fom,tom:a.tidsperiode.tom},årsak:or.Fri,forelder:s?ee.farMedmor:ee.mor,erArbeidstaker:!1}]}else return o},qs=(n,e,r,s)=>r===void 0?[]:Gs(n,e,r,s),Vs=n=>hr(n),Cs=(n,e)=>({ønskerAutomatiskJustering:n!==void 0&&e?Ar(n):ce.UNANSWERED}),$n=({termindato:n,perioderMedUttakRundtFødsel:e,antallBarn:r,visibility:s})=>{const o=Le(),a=Mn(n).denneEllerNeste(),d=M(I(i.UTTAKSPLAN_METADATA)),u=G(i.UTTAKSPLAN_METADATA),A=d.ønskerJustertUttakVedFødsel,g=A&&e.length>1,y=A&&e.length===1&&!F(e[0].tidsperiode.fom).isSame(a,"day"),T=A&&e.length===1&&F(e[0].tidsperiode.fom).isSame(a,"day")&&(X(e[0])&&(e[0].konto!==we.Fedrekvote||!e[0].ønskerSamtidigUttak)||Gn(e[0])),h=A&&e.length===1&&F(e[0].tidsperiode.fom).isSame(a,"day")&&X(e[0])&&e[0].konto===we.Fedrekvote&&e[0].ønskerFlerbarnsdager===!0;let l="";g&&(l="uttaksplan.automatiskJustering.info.hvisFlerePerioder"),y&&(l="uttaksplan.automatiskJustering.info.hvisIkkeLengerStarterPåTermin"),T&&(l="uttaksplan.automatiskJustering.info.hvisEndretPeriodePåTermin"),h&&(l="uttaksplan.automatiskJustering.info.hvisEndretPeriodeTilØnskerFlerbarnsdager");const m=O=>{const K=Vs(O);u({...d,ønskerJustertUttakVedFødsel:K})};return t.jsx(Be.Form,{includeButtons:!1,children:t.jsxs("div",{style:{paddingTop:"1rem",paddingBottom:"1rem"},children:[l!==""&&t.jsx(W,{padBottom:"l",children:t.jsx(Me,{variant:"info",children:t.jsx(B,{id:l})})}),t.jsx(W,{visible:s.isVisible(ne.ønskerAutomatiskJustering),padBottom:"l",children:t.jsx(Be.YesOrNoQuestion,{name:ne.ønskerAutomatiskJustering,legend:me(o,"uttaksplan.automatiskJustering.spørsmål",{antallBarn:r}),validate:O=>{if(O===ce.UNANSWERED)return me(o,"uttaksplan.automatiskJustering.svar.påkrevd")},afterOnChange:O=>m(O)})})]})})};$n.__docgenInfo={description:"",methods:[],displayName:"AutomatiskJusteringForm",props:{termindato:{required:!0,tsType:{name:"Date"},description:""},perioderMedUttakRundtFødsel:{required:!0,tsType:{name:"Array",elements:[{name:"union",raw:`| Uttaksperiode
| Utsettelsesperiode
| Oppholdsperiode
| Overføringsperiode
| PeriodeHull
| PeriodeUtenUttakUtsettelse
| PeriodeUtenUttak
| InfoPeriode`,elements:[{name:"union",raw:"UttaksperiodeBase | ForeldrepengerFørFødselUttaksperiode",elements:[{name:"UttaksperiodeBase"},{name:"ForeldrepengerFørFødselUttaksperiode"}]},{name:"Utsettelsesperiode"},{name:"Oppholdsperiode"},{name:"Overføringsperiode"},{name:"PeriodeHull"},{name:"PeriodeUtenUttakUtsettelse"},{name:"PeriodeUtenUttak"},{name:"union",raw:"AvslåttPeriode | UttakAnnenPartInfoPeriode | UtsettelseAnnenPartInfoPeriode",elements:[{name:"AvslåttPeriode"},{name:"UttakAnnenPartInfoPeriode"},{name:"UtsettelseAnnenPartInfoPeriode"}]}]}],raw:"Periode[]"},description:""},antallBarn:{required:!0,tsType:{name:"number"},description:""},visibility:{required:!0,tsType:{name:"QuestionVisibility",elements:[{name:"UttaksplanFormField"},{name:"undefined"}],raw:"QuestionVisibility<UttaksplanFormField, undefined>"},description:""}}};const Js=(n,e)=>e!==void 0&&X(n)&&F(n.tidsperiode.fom).isSame(Mn(F(e).toDate()).denneEllerNeste(),"day")&&n.forelder===ee.farMedmor&&n.konto===we.Fedrekvote&&n.ønskerSamtidigUttak===!0&&n.ønskerFlerbarnsdager!==!0,Ws=(n,e,r)=>n&&e.length===1&&Js(e[0],r),Hs=(n,e,r,s,o,a,d)=>n&&wt(e)&&r==="fødsel"&&s.length!==0&&qn(o)&&a!==void 0&&!d,Yn=({isOpen:n,setIsOpen:e,goToPreviousStep:r})=>t.jsxs(ue,{"aria-label":"Vil du gå tilbake",open:n,onClose:()=>e(!1),children:[t.jsx(ue.Header,{children:t.jsx(ns,{size:"small",level:"1",children:t.jsx(B,{id:"uttaksplan.vilDuGåTilbakeModal.tittel"})})}),t.jsx(ue.Body,{children:t.jsxs(jt,{gap:"4",children:[t.jsx(On,{children:t.jsx(B,{id:"uttaksplan.vilDuGåTilbakeModal.intro"})}),t.jsx(On,{children:t.jsx(B,{id:"uttaksplan.vilDuGåTilbakeModal.spørsmål"})})]})}),t.jsxs(ue.Footer,{children:[t.jsx(ke,{onClick:r,children:t.jsx(B,{id:"uttaksplan.vilDuGåTilbakeModal.okLabel"})}),t.jsx(ke,{variant:"secondary",onClick:()=>e(!1),children:t.jsx(B,{id:"uttaksplan.vilDuGåTilbakeModal.avbrytLabel"})})]})]});Yn.__docgenInfo={description:"",methods:[],displayName:"VilDuGåTilbakeModal",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},setIsOpen:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"boolean"}],raw:"SetStateAction<boolean>"}],raw:"Dispatch<SetStateAction<boolean>>"},description:""},goToPreviousStep:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const $s={[ne.ønskerAutomatiskJustering]:{isIncluded:({periodeRundtFødselKanAutomatiskJusteres:n})=>n,isAnswered:({ønskerAutomatiskJustering:n})=>n!==ce.UNANSWERED}},Ys=Nr($s),Qs=[],Ke=({søkerInfo:n,erEndringssøknad:e,mellomlagreSøknadOgNaviger:r,avbrytSøknad:s})=>{const o=Le(),a=Tr(n.arbeidsforhold,e),d=Pr(n.arbeidsforhold,r,e),[u,A]=p.useState(!1),[g,y]=p.useState(!1),[T,h]=p.useState(!1),[l,m]=p.useState(!1),[O,K]=p.useState(!0),R=M(I(i.SØKERSITUASJON)),E=M(I(i.OM_BARNET)),c=M(I(i.ANNEN_FORELDER)),f=M(I(i.UTTAKSPLAN_METADATA)),q=M(I(i.PERIODE_MED_FORELDREPENGER)),ge=I(i.UTTAKSPLAN_INFO),w=I(i.UTTAKSPLAN)||Qs,P=I(i.BARN_FRA_NESTE_SAK),U=I(i.EKSISTERENDE_SAK),nt=I(i.VEDLEGG),Ve=G(i.OM_BARNET),Ce=G(i.BARN_FRA_NESTE_SAK),Q=G(i.UTTAKSPLAN),Je=G(i.EKSISTERENDE_SAK),_=G(i.UTTAKSPLAN_METADATA),tt=G(i.APP_ROUTE),rt=G(i.VEDLEGG),[te,st]=p.useState(f.endringstidspunkt),[re,fe]=p.useState(f.perioderSomSkalSendesInn||[]),We=xe(c)?c:void 0,He=We?We.erAleneOmOmsorg:!0,{situasjon:Se}=R,{rolle:$e}=R,at=ir(c),se=xe(c)?!!c.harRettPåForeldrepengerINorge||!!c.harRettPåForeldrepengerIEØS:!1,v=lr(R.rolle),Ye=dr(!v,He,c),Qe=ur(v,He,c),ae=Ye||Qe,ot=se?void 0:v?ee.farMedmor:ee.mor,V=Cn(E),z=cn(V),it=Or(c,v),lt=pr(n.søker,c,v,o),Xe=E.antallBarn,dt=Xe>1,ze=vn($e,v,c),D=U==null?void 0:U.uttaksplan,ut=U?U.uttaksplan!==void 0:!1,pt=!1,mt=Yr(ge),L=Ir(E),Ee=xe(c)&&!c.utenlandskFnr?c.fnr:void 0,ve=Se==="adopsjon",Ae=P!==void 0?P.annenForelderFnr:void 0,Ze=P!==void 0&&P.fnr!==void 0&&P.fnr.length>0?P.fnr[0]:void 0,he=P!==void 0?P.familiehendelsesdato:void 0,C=P!==void 0?P.startdatoFørsteStønadsperiode:void 0,Ne=!vn(R.rolle,v,c)&&!ae,en=!qn(E)&&E.fnr!==void 0&&E.fnr.length>0?E.fnr[0]:void 0,oe=!(!ae&&Ee!==void 0&&Ee!==""&&(en!==void 0||V!==void 0)),kt=Ls(er(),3e3),nn=p.useRef(!0);p.useEffect(()=>{nn.current===!1&&r(),nn.current=!1},[kt,r]);const{data:Te,requestStatus:Pe,error:Oe}=Tn(pe.ANNEN_PART_VEDTAK,{annenPartFødselsnummer:Ee,barnFødselsnummer:en,familiehendelse:V},oe),J=p.useMemo(()=>Xr(Te,E,v,V,C),[Te,E,v,V,C]),tn=()=>{m(!1);const S={[x.BEKREFTELSE_DELTAR_KVALIFISERINGSPROGRAM]:[],[x.DOK_DELTAKELSE_I_INTRODUKSJONSPROGRAMMET]:[],[x.DOK_SYKDOM_MOR]:[],[x.DOK_SYKDOM_FAR]:[],[x.DOK_INNLEGGELSE_BARN]:[],[x.DOK_INNLEGGELSE_MOR]:[],[x.DOK_INNLEGGELSE_FAR]:[],[x.DOK_ARBEID_MOR]:[],[x.DOK_UTDANNING_MOR]:[],[x.DOK_UTDANNING_OG_ARBEID_MOR]:[]};_({...f,perioderSomSkalSendesInn:[],endringstidspunkt:void 0,ønskerJustertUttakVedFødsel:void 0}),Q([]),rt({...nt,...S}),tt(k.UTTAKSPLAN_INFO),r(),d.goToPreviousDefaultStep()},ye=Vr(v,E.antallBarn,J==null?void 0:J.grunnlag.antallBarn);p.useEffect(()=>{v&&E.antallBarn!==ye&&Ve({...E,antallBarn:ye})},[v,ye,E,Ve]);const je=!(Ae!==void 0&&Ae!==""&&(Ze!==void 0||he!==void 0)&&(oe||Pe===H.FINISHED)),{data:ct,requestStatus:rn,error:Ue}=Tn(pe.NESTE_SAK_ANNEN_PART_VEDTAK,{annenPartFødselsnummer:Ae,barnFødselsnummer:Ze,familiehendelse:Bt(he)},je),ie=zr(ct);p.useEffect(()=>{if(ie!==void 0&&P!==void 0&&(F(ie).isBefore(P.startdatoFørsteStønadsperiode,"d")||P.startdatoFørsteStønadsperiode===void 0)){const S={...P,startdatoFørsteStønadsperiode:ie};Ce(S)}},[C,ie,P,Ce]);const sn=br({erDeltUttak:se,morHarRett:ze,søkerErAleneOmOmsorg:ae});p.useEffect(()=>{if(U!==void 0&&D!==void 0&&J!==void 0&&!f.annenPartsUttakErLagtTilIPlan){D.forEach(j=>{if(X(j)){const mn=mr(J.uttaksplan).finnOverlappendePerioder(j);mn.length!==0&&mn.find(kn=>kr(kn)&&kn.ønskerSamtidigUttak===!0)&&(j.ønskerSamtidigUttak||(j.ønskerSamtidigUttak=!0,j.samtidigUttakProsent=Cr(j.gradert,j.stillingsprosent)))}});const S=yr(jr(D,J.uttaksplan,z,C,!0),sn,z,ve,Ne,v,C),b={...U,uttaksplan:S};Q(S),Je(b),_({...f,annenPartsUttakErLagtTilIPlan:!0})}},[J,D,z,sn,ve,Ne,v,C,U,f,Q,Je,_]),p.useEffect(()=>{const S=D==null?void 0:D.find(b=>X(b)&&b.angittAvAnnenPart);if(S&&te===void 0){const b=S.tidsperiode.fom,j=Dn(w,e,v,D,b);fe(j),_({...f,perioderSomSkalSendesInn:j,endringstidspunkt:te})}},[D,te,v,w,e,_,f]);const an=async()=>{const S=Fr(w,v,c,e,f==null?void 0:f.perioderSomSkalSendesInn);return A(!0),y(!0),_({...f,endringstidspunkt:te,perioderSomSkalSendesInn:re,antallUkerIUttaksplan:Pt}),S?d.goToNextStep(k.DOKUMENTASJON):d.goToNextDefaultStep()},le=cr(w,z,L?F(L).toDate():void 0),be=Hs(v,z,Se,le,E,L,Ne),de=Ws(be,le,L),gt=()=>{de||_({...f,ønskerJustertUttakVedFødsel:void 0})},ft=S=>de&&S!==void 0,Fe=p.useRef(null),St=async S=>{y(!0),O&&!pn&&(A(!0),Fe.current&&Fe.current.handleSubmit(),gt(),ft(S.ønskerAutomatiskJustering)&&await an())},Et=Kt(n.søker.kjønn,at,se,Ye,Qe,$e),on=(oe?!1:Pe!==H.FINISHED)||(je?!1:rn!==H.FINISHED),{stønadskontoParams100:vt,stønadskontoParams80:At}=Jr(E,c,R,P,Te,U),{data:ln}=Pn(pe.STØNADSKONTOER_80,At,on),{data:De,error:Ie}=Pn(pe.STØNADSKONTOER_100,vt,on),ht=S=>{y(!1),A(!1),h(!0),Q(S);const b=Qr(D,S,e);st(b);const j=Dn(S,e,v,D,b);fe(j),_({...f,perioderSomSkalSendesInn:j})};if(p.useEffect(()=>{if(Ie)throw Y(Ie),new Error("Vi klarte ikke å hente opp stønadskontoer. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.");if(Oe)throw Y(Oe),new Error("Vi klarte ikke å hente informasjon om saken til annen forelder. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.");if(Ue)throw Y(Ue),new Error("Vi klarte ikke å hente informasjon om saken til annen forelder for neste barn. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.")},[Ie,Oe,Ue]),!De||!ln||Pe!==H.FINISHED&&!oe||rn!==H.FINISHED&&!je)return t.jsx("div",{style:{textAlign:"center",padding:"12rem 0"},children:t.jsx(wn,{size:"2xlarge"})});const dn=Wr(ln,De),un=Zr(De.minsteretter.toTette),Re=q.dekningsgrad===gr.HUNDRE_PROSENT?dn[100]:dn[80],pn=e&&(re===void 0||re.length===0),Nt=()=>{const S=w.filter(b=>fr(b));Q(S),_({...f,harUttaksplanBlittSlettet:!0})},Tt=()=>{U&&(Q(U.uttaksplan),_({...f,perioderSomSkalSendesInn:[]}),fe([]))},Pt=es(Re);return t.jsx(Be.FormikWrapper,{initialValues:Cs(f.ønskerJustertUttakVedFødsel,de),onSubmit:an,innerRef:Fe,renderForm:({values:S})=>{const b=Ys.getVisbility({ønskerAutomatiskJustering:S[ne.ønskerAutomatiskJustering]??ce.NO,periodeRundtFødselKanAutomatiskJusteres:de});return t.jsxs(Lt,{bannerTitle:me(o,"søknad.pageheading"),onCancel:s,onContinueLater:d.fortsettSøknadSenere,steps:a,children:[t.jsx(W,{padBottom:"l",children:t.jsx($r,{eksisterendeSak:U,erIUttaksplanenSteg:!0,tilgjengeligeStønadskontoer:Re,minsterettUkerToTette:un,søker:n.søker})}),t.jsx(Ur,{foreldreSituasjon:Et,forelderVedAleneomsorg:ot,erDeltUttak:se,uttaksplan:w,familiehendelsesdato:V,handleOnPlanChange:ht,stønadskontoer:Re,navnPåForeldre:lt,annenForelder:c,arbeidsforhold:qr(n.arbeidsforhold,ve,v,cn(V)),erEndringssøknad:e,erFarEllerMedmor:v,erFlerbarnssøknad:dt,erAleneOmOmsorg:ae,harMidlertidigOmsorg:pt,situasjon:Se,erMorUfør:it,morHarRett:ze,søkersituasjon:R,dekningsgrad:q.dekningsgrad,antallBarn:Xe,setUttaksplanErGyldig:K,eksisterendeSak:U,perioderSomSkalSendesInn:re,morsSisteDag:mt,harKomplettUttaksplan:ut,opprinneligPlan:f.harUttaksplanBlittSlettet?void 0:D,handleSlettUttaksplan:Nt,handleResetUttaksplan:Tt,termindato:L?F(L).toDate():void 0,barn:E,visAutomatiskJusteringForm:be,perioderMedUttakRundtFødsel:le,barnFraNesteSak:P,familiehendelsesdatoNesteSak:he,førsteUttaksdagNesteBarnsSak:C,minsterettUkerToTette:un}),be&&t.jsx(W,{padBottom:"l",children:t.jsx($n,{termindato:L?F(L).toDate():void 0,perioderMedUttakRundtFødsel:le,antallBarn:E.antallBarn,visibility:b})}),t.jsx(Yn,{isOpen:l,setIsOpen:m,goToPreviousStep:tn}),!O&&g&&t.jsx(W,{textAlignCenter:!0,padBottom:"l",children:t.jsx(Me,{variant:"error",children:t.jsx(B,{id:"uttaksplan.validering.kanIkkeGåVidere"})})}),pn&&g&&t.jsx(W,{textAlignCenter:!0,padBottom:"l",children:t.jsx(Me,{variant:"error",children:t.jsx(B,{id:"uttaksplan.validering.kanIkkeGåVidereEndringssøknad"})})}),t.jsx(W,{textAlignCenter:!0,padBottom:"l",children:t.jsxs(Gt,{singleButton:!0,children:[!e&&t.jsx(ke,{variant:"secondary",onClick:T?j=>{j.preventDefault(),m(!0)}:tn,children:t.jsx(B,{id:"backlink.label"})}),t.jsx(ke,{type:"submit",onClick:St,disabled:u,loading:u,children:me(o,"søknad.gåVidere")})]})})]})}})};Ke.__docgenInfo={description:"",methods:[],displayName:"UttaksplanStep"};const Xs=(n,e,r=[])=>{switch(n){case k.SØKERSITUASJON:return e===!0;case k.OPPSUMMERING:return Dr(r)===!1&&r.length>0;default:return!0}},zs=(n,e,r,s,o,a,d)=>!n||d===void 0?t.jsx(N,{path:"*",element:t.jsx(An,{to:k.VELKOMMEN})}):Bn(r.søker.fødselsdato)?e?t.jsxs(t.Fragment,{children:[t.jsx(N,{path:k.UTTAKSPLAN,element:t.jsx(Ke,{søkerInfo:r,erEndringssøknad:e,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(N,{path:k.DOKUMENTASJON,element:t.jsx(hn,{søkerInfo:r,erEndringssøknad:e,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(N,{path:k.OPPSUMMERING,element:t.jsx(Nn,{erEndringssøknad:e,søkerInfo:r,sendSøknad:o,avbrytSøknad:a,mellomlagreSøknadOgNaviger:s})})]}):t.jsxs(t.Fragment,{children:[t.jsx(N,{path:k.SØKERSITUASJON,element:t.jsx(Br,{arbeidsforhold:r.arbeidsforhold,kjønn:r.søker.kjønn,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(N,{path:k.OM_BARNET,element:t.jsx(Mr,{søkerInfo:r,søknadGjelderNyttBarn:d,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(N,{path:k.ANNEN_FORELDER,element:t.jsx(_r,{søkerInfo:r,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(N,{path:k.PERIODE_MED_FORELDREPENGER,element:t.jsx(wr,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(N,{path:k.UTTAKSPLAN_INFO,element:t.jsx(zt,{søkerInfo:r,erEndringssøknad:e,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(N,{path:k.UTTAKSPLAN,element:t.jsx(Ke,{søkerInfo:r,erEndringssøknad:e,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(N,{path:k.DOKUMENTASJON,element:t.jsx(hn,{søkerInfo:r,erEndringssøknad:e,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(N,{path:k.UTENLANDSOPPHOLD,element:t.jsx(Kr,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(N,{path:k.TIDLIGERE_UTENLANDSOPPHOLD,element:t.jsx(Gr,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(N,{path:k.SENERE_UTENLANDSOPPHOLD,element:t.jsx(Lr,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(N,{path:k.INNTEKTSINFORMASJON,element:t.jsx(xr,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(N,{path:k.OPPSUMMERING,element:t.jsx(Nn,{erEndringssøknad:e,søkerInfo:r,sendSøknad:o,avbrytSøknad:a,mellomlagreSøknadOgNaviger:s})})]}):t.jsx(N,{path:"*",element:t.jsx(An,{to:k.IKKE_MYNDIG})}),Qn=({locale:n,onChangeLocale:e,currentRoute:r,søkerInfo:s,saker:o,lagretErEndringssøknad:a,lagretHarGodkjentVilkår:d,lagretSøknadGjelderNyttBarn:u,setKvittering:A})=>{const g=Ge(),y=Sr(),[T,h]=p.useState(!0),[l,m]=p.useState(d||!1),[O,K]=p.useState(a||!1),[R,E]=p.useState(u),{sendSøknad:c,errorSendSøknad:f}=Ks(s.søker.fnr,O,A,n),q=ws(n,s.søker.fnr,O,l,R),ge=_s(s.søker.fnr,K,m,E),w=I(i.UTTAKSPLAN);return p.useEffect(()=>{r&&Bn(s.søker.fødselsdato)&&d&&T&&(h(!1),Xs(r,d,w)?g(r):y.pathname===k.OPPSUMMERING&&g(k.UTTAKSPLAN))},[r,s.søker.fødselsdato,d,g,T,y.pathname,w]),f?t.jsx(Ut,{appName:"Foreldrepenger",errorMessage:f.message,retryCallback:()=>location.reload()}):t.jsxs(Er,{children:[t.jsx(N,{path:k.VELKOMMEN,element:t.jsx(Rr,{fornavn:s.søker.fornavn,locale:n,saker:o,onChangeLocale:e,fnr:s.søker.fnr,harGodkjentVilkår:l,søkerInfo:s,setHarGodkjentVilkår:m,setErEndringssøknad:K,setSøknadGjelderNyttBarn:E,mellomlagreSøknadOgNaviger:q})}),t.jsx(N,{path:k.IKKE_MYNDIG,element:t.jsx(bt,{appnavn:"Foreldrepenger"})}),zs(l,O,s,q,c,ge,R)]})};Qn.__docgenInfo={description:"",methods:[],displayName:"ForeldrepengesøknadRoutes",props:{locale:{required:!0,tsType:{name:"union",raw:"'nb' | 'nn'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"}]},description:""},onChangeLocale:{required:!0,tsType:{name:"signature",type:"function",raw:"(locale: LocaleNo) => void",signature:{arguments:[{type:{name:"union",raw:"'nb' | 'nn'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"}]},name:"locale"}],return:{name:"void"}}},description:""},currentRoute:{required:!0,tsType:{name:"SøknadRoutes"},description:""},søkerInfo:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    søker: Søker;
    arbeidsforhold: Arbeidsforhold[];
}`,signature:{properties:[{key:"søker",value:{name:"intersection",raw:`{
    fødselsdato: string;
    kjønn: Kjønn;
    bankkonto?: Bankkonto;
    sivilstand?: Sivilstand;
    barn: SøkerBarn[];
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    fødselsdato: string;
    kjønn: Kjønn;
    bankkonto?: Bankkonto;
    sivilstand?: Sivilstand;
    barn: SøkerBarn[];
}`,signature:{properties:[{key:"fødselsdato",value:{name:"string",required:!0}},{key:"kjønn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"bankkonto",value:{name:"Bankkonto",required:!1}},{key:"sivilstand",value:{name:"Sivilstand",required:!1}},{key:"barn",value:{name:"Array",elements:[{name:"intersection",raw:`{
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: SøkerAnnenForelder;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: SøkerAnnenForelder;
}`,signature:{properties:[{key:"kjønn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"dødsdato",value:{name:"string",required:!1}},{key:"annenForelder",value:{name:"intersection",raw:`{
    fødselsdato?: string;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    fødselsdato?: string;
}`,signature:{properties:[{key:"fødselsdato",value:{name:"string",required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}],required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}]}],raw:"SøkerBarn[]",required:!0}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}],required:!0}},{key:"arbeidsforhold",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverNavn: string;
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    fom: string;
    tom?: string;
    stillingsprosent: number;
}`,signature:{properties:[{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}},{key:"stillingsprosent",value:{name:"number",required:!0}}]}}],raw:"Arbeidsforhold[]",required:!0}}]}},description:""},saker:{required:!0,tsType:{name:"Array",elements:[{name:"Sak"}],raw:"Sak[]"},description:""},lagretErEndringssøknad:{required:!1,tsType:{name:"boolean"},description:""},lagretHarGodkjentVilkår:{required:!1,tsType:{name:"boolean"},description:""},lagretSøknadGjelderNyttBarn:{required:!1,tsType:{name:"boolean"},description:""},setKvittering:{required:!0,tsType:{name:"signature",type:"function",raw:"(kvittering: Kvittering) => void",signature:{arguments:[{type:{name:"Kvittering"},name:"kvittering"}],return:{name:"void"}}},description:""}}};const In=()=>t.jsx("div",{style:{textAlign:"center",padding:"12rem 0"},children:t.jsx(wn,{size:"2xlarge"})}),Xn=({locale:n,onChangeLocale:e})=>{var l,m;const r=Le();fs(r.formatMessage({id:"søknad.pagetitle"}));const{søkerinfoData:s,søkerinfoError:o}=$.useSøkerinfo(),{sakerData:a,sakerError:d}=$.useGetSaker(),{storageData:u,storageStatus:A}=$.useStoredAppState(),[g,y]=p.useState();p.useEffect(()=>{if(o)throw Y(o),new Error("Vi klarte ikke å hente informasjon om deg. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.");if(d)throw Y(d),new Error("Vi klarte ikke å hente informasjon om sakene dine. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.")},[o,d]);const T=u&&Fn(u)?Rs(u):void 0,h=u!==void 0&&Fn(u);return p.useEffect(()=>{u!=null&&u.locale&&u.locale!==n&&e(u.locale)},[u]),g?_e.INNSYN?(Fs(g.saksNr?`${_e.INNSYN}/sak/${g.saksNr}/redirectFromSoknad`:`${_e.INNSYN}/redirectFromSoknad`),t.jsx(In,{})):t.jsx("div",{children:"Redirected to Innsyn"}):!a||!s||A===H.IN_PROGRESS?t.jsx(In,{}):t.jsx(qe,{søker:s.søker,children:t.jsx(nr,{initialState:T,children:t.jsx(Jt,{children:t.jsx(Qn,{locale:n,onChangeLocale:e,søkerInfo:s,saker:a.foreldrepenger,currentRoute:h?u.currentRoute:k.VELKOMMEN,lagretErEndringssøknad:h?(l=u.søknad)==null?void 0:l.erEndringssøknad:!1,lagretHarGodkjentVilkår:h?(m=u.søknad)==null?void 0:m.harGodkjentVilkår:!1,lagretSøknadGjelderNyttBarn:h?u.søknadGjelderEtNyttBarn:!1,setKvittering:y})})})})};Xn.__docgenInfo={description:"",methods:[],displayName:"Foreldrepengesøknad"};const Zs=()=>{const n=Os();return n?n.name==="ie":!1},zn=Ds(),ea={nb:{...qt,...gn.nb,...fn.nb,...Sn.nb,...En.nb},nn:{...Vt,...gn.nn,...fn.nn,...Sn.nn,...En.nn}};F.locale(zn);const Zn=()=>{const[n,e]=p.useState(zn);return t.jsx(qe,{children:t.jsx(Hr,{children:t.jsxs(Ft,{locale:n,messagesGroupedByLocale:ea,children:[t.jsx(Ct,{skalEndreNettleser:Zs()}),t.jsx(Xn,{locale:n,onChangeLocale:r=>{Is(r),e(r),ts(r),document.documentElement.setAttribute("lang",r)}})]})})})},et=Zn;Zn.__docgenInfo={description:"",methods:[],displayName:"AppContainer"};const na={søker:{fnr:"06499121154",fornavn:"Tapper",etternavn:"Konvolutt",kjønn:"M",fødselsdato:"1991-09-06",bankkonto:{kontonummer:"",banknavn:""},barn:[]},arbeidsforhold:[{arbeidsgiverId:"896929119",arbeidsgiverIdType:"orgnr",arbeidsgiverNavn:"SAUEFABRIKK",stillingsprosent:100,fom:"2018-03-01"}]},vo={title:"AppContainer",component:et},ta=({søkerinfoData:n,sakerData:e,annenPartVedtakData:r,stønadskontoerData:s,storageKvitteringData:o})=>{Dt();const a=new It(rs);return a.onGet("/sokerinfo").reply(200,n),a.onGet("/innsyn/v2/saker").reply(200,e),a.onGet("/innsyn/v2/annenPartVedtak").reply(200,r),a.onGet("/konto").reply(200,s),a.onGet("/storage/kvittering/foreldrepenger").reply(200,o),a.onGet("test/konto").replyOnce(200,Rt),a.onGet("test/konto").replyOnce(200,_t),a.onPost("/innsyn/v2/annenPartVedtak").replyOnce(200,void 0,H.FINISHED),a.onPost("/storage/foreldrepenger").reply(200,{}),a.onPost("/soknad").reply(200,{}),a.onPost("/sendSøknadUrl").reply(200,{}),a.onDelete("/storage/foreldrepenger").reply(200,{}),t.jsx(et,{})},Z=ta.bind({});Z.args={søkerinfoData:na,sakerData:ms,annenPartVedtakData:os,stønadskontoerData:gs,storageKvitteringData:ds};var Rn,_n,xn;Z.parameters={...Z.parameters,docs:{...(Rn=Z.parameters)==null?void 0:Rn.docs,source:{originalSource:`({
  søkerinfoData,
  sakerData,
  annenPartVedtakData,
  stønadskontoerData,
  storageKvitteringData
}) => {
  initAmplitude();
  const apiMock = new MockAdapter(AxiosInstance);
  apiMock.onGet('/sokerinfo').reply(200, søkerinfoData);
  apiMock.onGet('/innsyn/v2/saker').reply(200, sakerData);
  apiMock.onGet('/innsyn/v2/annenPartVedtak').reply(200, annenPartVedtakData);
  apiMock.onGet('/konto').reply(200, stønadskontoerData);
  apiMock.onGet('/storage/kvittering/foreldrepenger').reply(200, storageKvitteringData);
  apiMock.onGet('test/konto').replyOnce(200, stønadskontoDeltUttak80);
  apiMock.onGet('test/konto').replyOnce(200, stønadskontoDeltUttak100);
  apiMock.onPost('/innsyn/v2/annenPartVedtak').replyOnce(200, undefined, RequestStatus.FINISHED);
  apiMock.onPost('/storage/foreldrepenger').reply(200, {});
  apiMock.onPost('/soknad').reply(200, {});
  apiMock.onPost('/sendSøknadUrl').reply(200, {});
  apiMock.onDelete('/storage/foreldrepenger').reply(200, {});
  return <AppContainer />;
}`,...(xn=(_n=Z.parameters)==null?void 0:_n.docs)==null?void 0:xn.source}}};const Ao=["SøkerErMann"];export{Z as SøkerErMann,Ao as __namedExportsOrder,vo as default};
