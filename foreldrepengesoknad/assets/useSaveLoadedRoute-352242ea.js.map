{"version":3,"file":"useSaveLoadedRoute-352242ea.js","sources":["../../../../node_modules/.pnpm/@sentry+utils@7.47.0/node_modules/@sentry/utils/esm/is.js","../../../../node_modules/.pnpm/@sentry+utils@7.47.0/node_modules/@sentry/utils/esm/worldwide.js","../../../../node_modules/.pnpm/@sentry+utils@7.47.0/node_modules/@sentry/utils/esm/logger.js","../../../../node_modules/.pnpm/@sentry+utils@7.47.0/node_modules/@sentry/utils/esm/object.js","../../../../node_modules/.pnpm/@sentry+utils@7.47.0/node_modules/@sentry/utils/esm/misc.js","../../../../node_modules/.pnpm/@sentry+utils@7.47.0/node_modules/@sentry/utils/esm/env.js","../../../../node_modules/.pnpm/@sentry+utils@7.47.0/node_modules/@sentry/utils/esm/node.js","../../../../node_modules/.pnpm/@sentry+utils@7.47.0/node_modules/@sentry/utils/esm/syncpromise.js","../../../../node_modules/.pnpm/@sentry+utils@7.47.0/node_modules/@sentry/utils/esm/time.js","../../../../node_modules/.pnpm/@sentry+core@7.47.0/node_modules/@sentry/core/esm/constants.js","../../../../node_modules/.pnpm/@sentry+core@7.47.0/node_modules/@sentry/core/esm/session.js","../../../../node_modules/.pnpm/@sentry+core@7.47.0/node_modules/@sentry/core/esm/scope.js","../../../../node_modules/.pnpm/@sentry+core@7.47.0/node_modules/@sentry/core/esm/hub.js","../../../../node_modules/.pnpm/@sentry+core@7.47.0/node_modules/@sentry/core/esm/exports.js","../../src/app/api/apiUtils.ts","../../src/app/utils/submitUtils.ts","../../src/app/utils/hooks/useSaveLoadedRoute.ts"],"sourcesContent":["// eslint-disable-next-line @typescript-eslint/unbound-method\nconst objectToString = Object.prototype.toString;\n\n/**\n * Checks whether given value's type is one of a few Error or Error-like\n * {@link isError}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isError(wat) {\n  switch (objectToString.call(wat)) {\n    case '[object Error]':\n    case '[object Exception]':\n    case '[object DOMException]':\n      return true;\n    default:\n      return isInstanceOf(wat, Error);\n  }\n}\n/**\n * Checks whether given value is an instance of the given built-in class.\n *\n * @param wat The value to be checked\n * @param className\n * @returns A boolean representing the result.\n */\nfunction isBuiltin(wat, className) {\n  return objectToString.call(wat) === `[object ${className}]`;\n}\n\n/**\n * Checks whether given value's type is ErrorEvent\n * {@link isErrorEvent}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isErrorEvent(wat) {\n  return isBuiltin(wat, 'ErrorEvent');\n}\n\n/**\n * Checks whether given value's type is DOMError\n * {@link isDOMError}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isDOMError(wat) {\n  return isBuiltin(wat, 'DOMError');\n}\n\n/**\n * Checks whether given value's type is DOMException\n * {@link isDOMException}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isDOMException(wat) {\n  return isBuiltin(wat, 'DOMException');\n}\n\n/**\n * Checks whether given value's type is a string\n * {@link isString}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isString(wat) {\n  return isBuiltin(wat, 'String');\n}\n\n/**\n * Checks whether given value is a primitive (undefined, null, number, boolean, string, bigint, symbol)\n * {@link isPrimitive}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isPrimitive(wat) {\n  return wat === null || (typeof wat !== 'object' && typeof wat !== 'function');\n}\n\n/**\n * Checks whether given value's type is an object literal\n * {@link isPlainObject}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isPlainObject(wat) {\n  return isBuiltin(wat, 'Object');\n}\n\n/**\n * Checks whether given value's type is an Event instance\n * {@link isEvent}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isEvent(wat) {\n  return typeof Event !== 'undefined' && isInstanceOf(wat, Event);\n}\n\n/**\n * Checks whether given value's type is an Element instance\n * {@link isElement}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isElement(wat) {\n  return typeof Element !== 'undefined' && isInstanceOf(wat, Element);\n}\n\n/**\n * Checks whether given value's type is an regexp\n * {@link isRegExp}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isRegExp(wat) {\n  return isBuiltin(wat, 'RegExp');\n}\n\n/**\n * Checks whether given value has a then function.\n * @param wat A value to be checked.\n */\nfunction isThenable(wat) {\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n  return Boolean(wat && wat.then && typeof wat.then === 'function');\n}\n\n/**\n * Checks whether given value's type is a SyntheticEvent\n * {@link isSyntheticEvent}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isSyntheticEvent(wat) {\n  return isPlainObject(wat) && 'nativeEvent' in wat && 'preventDefault' in wat && 'stopPropagation' in wat;\n}\n\n/**\n * Checks whether given value is NaN\n * {@link isNaN}.\n *\n * @param wat A value to be checked.\n * @returns A boolean representing the result.\n */\nfunction isNaN(wat) {\n  return typeof wat === 'number' && wat !== wat;\n}\n\n/**\n * Checks whether given value's type is an instance of provided constructor.\n * {@link isInstanceOf}.\n *\n * @param wat A value to be checked.\n * @param base A constructor to be used in a check.\n * @returns A boolean representing the result.\n */\nfunction isInstanceOf(wat, base) {\n  try {\n    return wat instanceof base;\n  } catch (_e) {\n    return false;\n  }\n}\n\nexport { isDOMError, isDOMException, isElement, isError, isErrorEvent, isEvent, isInstanceOf, isNaN, isPlainObject, isPrimitive, isRegExp, isString, isSyntheticEvent, isThenable };\n//# sourceMappingURL=is.js.map\n","/** Internal global with common properties and Sentry extensions  */\n\n// The code below for 'isGlobalObj' and 'GLOBAL_OBJ' was copied from core-js before modification\n// https://github.com/zloirock/core-js/blob/1b944df55282cdc99c90db5f49eb0b6eda2cc0a3/packages/core-js/internals/global.js\n// core-js has the following licence:\n//\n// Copyright (c) 2014-2022 Denis Pushkarev\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n/** Returns 'obj' if it's the global object, otherwise returns undefined */\nfunction isGlobalObj(obj) {\n  return obj && obj.Math == Math ? obj : undefined;\n}\n\n/** Get's the global object for the current JavaScript runtime */\nconst GLOBAL_OBJ =\n  (typeof globalThis == 'object' && isGlobalObj(globalThis)) ||\n  // eslint-disable-next-line no-restricted-globals\n  (typeof window == 'object' && isGlobalObj(window)) ||\n  (typeof self == 'object' && isGlobalObj(self)) ||\n  (typeof global == 'object' && isGlobalObj(global)) ||\n  (function () {\n    return this;\n  })() ||\n  {};\n\n/**\n * @deprecated Use GLOBAL_OBJ instead or WINDOW from @sentry/browser. This will be removed in v8\n */\nfunction getGlobalObject() {\n  return GLOBAL_OBJ ;\n}\n\n/**\n * Returns a global singleton contained in the global `__SENTRY__` object.\n *\n * If the singleton doesn't already exist in `__SENTRY__`, it will be created using the given factory\n * function and added to the `__SENTRY__` object.\n *\n * @param name name of the global singleton on __SENTRY__\n * @param creator creator Factory function to create the singleton if it doesn't already exist on `__SENTRY__`\n * @param obj (Optional) The global object on which to look for `__SENTRY__`, if not `GLOBAL_OBJ`'s return value\n * @returns the singleton\n */\nfunction getGlobalSingleton(name, creator, obj) {\n  const gbl = (obj || GLOBAL_OBJ) ;\n  const __SENTRY__ = (gbl.__SENTRY__ = gbl.__SENTRY__ || {});\n  const singleton = __SENTRY__[name] || (__SENTRY__[name] = creator());\n  return singleton;\n}\n\nexport { GLOBAL_OBJ, getGlobalObject, getGlobalSingleton };\n//# sourceMappingURL=worldwide.js.map\n","import { getGlobalSingleton, GLOBAL_OBJ } from './worldwide.js';\n\n/** Prefix for logging strings */\nconst PREFIX = 'Sentry Logger ';\n\nconst CONSOLE_LEVELS = ['debug', 'info', 'warn', 'error', 'log', 'assert', 'trace'] ;\n\n/**\n * Temporarily disable sentry console instrumentations.\n *\n * @param callback The function to run against the original `console` messages\n * @returns The results of the callback\n */\nfunction consoleSandbox(callback) {\n  if (!('console' in GLOBAL_OBJ)) {\n    return callback();\n  }\n\n  const originalConsole = GLOBAL_OBJ.console ;\n  const wrappedLevels = {};\n\n  // Restore all wrapped console methods\n  CONSOLE_LEVELS.forEach(level => {\n    // TODO(v7): Remove this check as it's only needed for Node 6\n    const originalWrappedFunc =\n      originalConsole[level] && (originalConsole[level] ).__sentry_original__;\n    if (level in originalConsole && originalWrappedFunc) {\n      wrappedLevels[level] = originalConsole[level] ;\n      originalConsole[level] = originalWrappedFunc ;\n    }\n  });\n\n  try {\n    return callback();\n  } finally {\n    // Revert restoration to wrapped state\n    Object.keys(wrappedLevels).forEach(level => {\n      originalConsole[level] = wrappedLevels[level ];\n    });\n  }\n}\n\nfunction makeLogger() {\n  let enabled = false;\n  const logger = {\n    enable: () => {\n      enabled = true;\n    },\n    disable: () => {\n      enabled = false;\n    },\n  };\n\n  if ((typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__)) {\n    CONSOLE_LEVELS.forEach(name => {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      logger[name] = (...args) => {\n        if (enabled) {\n          consoleSandbox(() => {\n            GLOBAL_OBJ.console[name](`${PREFIX}[${name}]:`, ...args);\n          });\n        }\n      };\n    });\n  } else {\n    CONSOLE_LEVELS.forEach(name => {\n      logger[name] = () => undefined;\n    });\n  }\n\n  return logger ;\n}\n\n// Ensure we only have a single logger instance, even if multiple versions of @sentry/utils are being used\nlet logger;\nif ((typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__)) {\n  logger = getGlobalSingleton('logger', makeLogger);\n} else {\n  logger = makeLogger();\n}\n\nexport { CONSOLE_LEVELS, consoleSandbox, logger };\n//# sourceMappingURL=logger.js.map\n","import { htmlTreeAsString } from './browser.js';\nimport { isError, isEvent, isInstanceOf, isElement, isPlainObject, isPrimitive } from './is.js';\nimport { truncate } from './string.js';\n\n/**\n * Replace a method in an object with a wrapped version of itself.\n *\n * @param source An object that contains a method to be wrapped.\n * @param name The name of the method to be wrapped.\n * @param replacementFactory A higher-order function that takes the original version of the given method and returns a\n * wrapped version. Note: The function returned by `replacementFactory` needs to be a non-arrow function, in order to\n * preserve the correct value of `this`, and the original method must be called using `origMethod.call(this, <other\n * args>)` or `origMethod.apply(this, [<other args>])` (rather than being called directly), again to preserve `this`.\n * @returns void\n */\nfunction fill(source, name, replacementFactory) {\n  if (!(name in source)) {\n    return;\n  }\n\n  const original = source[name] ;\n  const wrapped = replacementFactory(original) ;\n\n  // Make sure it's a function first, as we need to attach an empty prototype for `defineProperties` to work\n  // otherwise it'll throw \"TypeError: Object.defineProperties called on non-object\"\n  if (typeof wrapped === 'function') {\n    try {\n      markFunctionWrapped(wrapped, original);\n    } catch (_Oo) {\n      // This can throw if multiple fill happens on a global object like XMLHttpRequest\n      // Fixes https://github.com/getsentry/sentry-javascript/issues/2043\n    }\n  }\n\n  source[name] = wrapped;\n}\n\n/**\n * Defines a non-enumerable property on the given object.\n *\n * @param obj The object on which to set the property\n * @param name The name of the property to be set\n * @param value The value to which to set the property\n */\nfunction addNonEnumerableProperty(obj, name, value) {\n  Object.defineProperty(obj, name, {\n    // enumerable: false, // the default, so we can save on bundle size by not explicitly setting it\n    value: value,\n    writable: true,\n    configurable: true,\n  });\n}\n\n/**\n * Remembers the original function on the wrapped function and\n * patches up the prototype.\n *\n * @param wrapped the wrapper function\n * @param original the original function that gets wrapped\n */\nfunction markFunctionWrapped(wrapped, original) {\n  const proto = original.prototype || {};\n  wrapped.prototype = original.prototype = proto;\n  addNonEnumerableProperty(wrapped, '__sentry_original__', original);\n}\n\n/**\n * This extracts the original function if available.  See\n * `markFunctionWrapped` for more information.\n *\n * @param func the function to unwrap\n * @returns the unwrapped version of the function if available.\n */\nfunction getOriginalFunction(func) {\n  return func.__sentry_original__;\n}\n\n/**\n * Encodes given object into url-friendly format\n *\n * @param object An object that contains serializable values\n * @returns string Encoded\n */\nfunction urlEncode(object) {\n  return Object.keys(object)\n    .map(key => `${encodeURIComponent(key)}=${encodeURIComponent(object[key])}`)\n    .join('&');\n}\n\n/**\n * Transforms any `Error` or `Event` into a plain object with all of their enumerable properties, and some of their\n * non-enumerable properties attached.\n *\n * @param value Initial source that we have to transform in order for it to be usable by the serializer\n * @returns An Event or Error turned into an object - or the value argurment itself, when value is neither an Event nor\n *  an Error.\n */\nfunction convertToPlainObject(value)\n\n {\n  if (isError(value)) {\n    return {\n      message: value.message,\n      name: value.name,\n      stack: value.stack,\n      ...getOwnProperties(value),\n    };\n  } else if (isEvent(value)) {\n    const newObj\n\n = {\n      type: value.type,\n      target: serializeEventTarget(value.target),\n      currentTarget: serializeEventTarget(value.currentTarget),\n      ...getOwnProperties(value),\n    };\n\n    if (typeof CustomEvent !== 'undefined' && isInstanceOf(value, CustomEvent)) {\n      newObj.detail = value.detail;\n    }\n\n    return newObj;\n  } else {\n    return value;\n  }\n}\n\n/** Creates a string representation of the target of an `Event` object */\nfunction serializeEventTarget(target) {\n  try {\n    return isElement(target) ? htmlTreeAsString(target) : Object.prototype.toString.call(target);\n  } catch (_oO) {\n    return '<unknown>';\n  }\n}\n\n/** Filters out all but an object's own properties */\nfunction getOwnProperties(obj) {\n  if (typeof obj === 'object' && obj !== null) {\n    const extractedProps = {};\n    for (const property in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, property)) {\n        extractedProps[property] = (obj )[property];\n      }\n    }\n    return extractedProps;\n  } else {\n    return {};\n  }\n}\n\n/**\n * Given any captured exception, extract its keys and create a sorted\n * and truncated list that will be used inside the event message.\n * eg. `Non-error exception captured with keys: foo, bar, baz`\n */\nfunction extractExceptionKeysForMessage(exception, maxLength = 40) {\n  const keys = Object.keys(convertToPlainObject(exception));\n  keys.sort();\n\n  if (!keys.length) {\n    return '[object has no keys]';\n  }\n\n  if (keys[0].length >= maxLength) {\n    return truncate(keys[0], maxLength);\n  }\n\n  for (let includedKeys = keys.length; includedKeys > 0; includedKeys--) {\n    const serialized = keys.slice(0, includedKeys).join(', ');\n    if (serialized.length > maxLength) {\n      continue;\n    }\n    if (includedKeys === keys.length) {\n      return serialized;\n    }\n    return truncate(serialized, maxLength);\n  }\n\n  return '';\n}\n\n/**\n * Given any object, return a new object having removed all fields whose value was `undefined`.\n * Works recursively on objects and arrays.\n *\n * Attention: This function keeps circular references in the returned object.\n */\nfunction dropUndefinedKeys(inputValue) {\n  // This map keeps track of what already visited nodes map to.\n  // Our Set - based memoBuilder doesn't work here because we want to the output object to have the same circular\n  // references as the input object.\n  const memoizationMap = new Map();\n\n  // This function just proxies `_dropUndefinedKeys` to keep the `memoBuilder` out of this function's API\n  return _dropUndefinedKeys(inputValue, memoizationMap);\n}\n\nfunction _dropUndefinedKeys(inputValue, memoizationMap) {\n  if (isPlainObject(inputValue)) {\n    // If this node has already been visited due to a circular reference, return the object it was mapped to in the new object\n    const memoVal = memoizationMap.get(inputValue);\n    if (memoVal !== undefined) {\n      return memoVal ;\n    }\n\n    const returnValue = {};\n    // Store the mapping of this value in case we visit it again, in case of circular data\n    memoizationMap.set(inputValue, returnValue);\n\n    for (const key of Object.keys(inputValue)) {\n      if (typeof inputValue[key] !== 'undefined') {\n        returnValue[key] = _dropUndefinedKeys(inputValue[key], memoizationMap);\n      }\n    }\n\n    return returnValue ;\n  }\n\n  if (Array.isArray(inputValue)) {\n    // If this node has already been visited due to a circular reference, return the array it was mapped to in the new object\n    const memoVal = memoizationMap.get(inputValue);\n    if (memoVal !== undefined) {\n      return memoVal ;\n    }\n\n    const returnValue = [];\n    // Store the mapping of this value in case we visit it again, in case of circular data\n    memoizationMap.set(inputValue, returnValue);\n\n    inputValue.forEach((item) => {\n      returnValue.push(_dropUndefinedKeys(item, memoizationMap));\n    });\n\n    return returnValue ;\n  }\n\n  return inputValue;\n}\n\n/**\n * Ensure that something is an object.\n *\n * Turns `undefined` and `null` into `String`s and all other primitives into instances of their respective wrapper\n * classes (String, Boolean, Number, etc.). Acts as the identity function on non-primitives.\n *\n * @param wat The subject of the objectification\n * @returns A version of `wat` which can safely be used with `Object` class methods\n */\nfunction objectify(wat) {\n  let objectified;\n  switch (true) {\n    case wat === undefined || wat === null:\n      objectified = new String(wat);\n      break;\n\n    // Though symbols and bigints do have wrapper classes (`Symbol` and `BigInt`, respectively), for whatever reason\n    // those classes don't have constructors which can be used with the `new` keyword. We therefore need to cast each as\n    // an object in order to wrap it.\n    case typeof wat === 'symbol' || typeof wat === 'bigint':\n      objectified = Object(wat);\n      break;\n\n    // this will catch the remaining primitives: `String`, `Number`, and `Boolean`\n    case isPrimitive(wat):\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n      objectified = new (wat ).constructor(wat);\n      break;\n\n    // by process of elimination, at this point we know that `wat` must already be an object\n    default:\n      objectified = wat;\n      break;\n  }\n  return objectified;\n}\n\nexport { addNonEnumerableProperty, convertToPlainObject, dropUndefinedKeys, extractExceptionKeysForMessage, fill, getOriginalFunction, markFunctionWrapped, objectify, urlEncode };\n//# sourceMappingURL=object.js.map\n","import { addNonEnumerableProperty } from './object.js';\nimport { snipLine } from './string.js';\nimport { GLOBAL_OBJ } from './worldwide.js';\n\n/**\n * UUID4 generator\n *\n * @returns string Generated UUID4.\n */\nfunction uuid4() {\n  const gbl = GLOBAL_OBJ ;\n  const crypto = gbl.crypto || gbl.msCrypto;\n\n  if (crypto && crypto.randomUUID) {\n    return crypto.randomUUID().replace(/-/g, '');\n  }\n\n  const getRandomByte =\n    crypto && crypto.getRandomValues ? () => crypto.getRandomValues(new Uint8Array(1))[0] : () => Math.random() * 16;\n\n  // http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/2117523#2117523\n  // Concatenating the following numbers as strings results in '10000000100040008000100000000000'\n  return (([1e7] ) + 1e3 + 4e3 + 8e3 + 1e11).replace(/[018]/g, c =>\n    // eslint-disable-next-line no-bitwise\n    ((c ) ^ ((getRandomByte() & 15) >> ((c ) / 4))).toString(16),\n  );\n}\n\nfunction getFirstException(event) {\n  return event.exception && event.exception.values ? event.exception.values[0] : undefined;\n}\n\n/**\n * Extracts either message or type+value from an event that can be used for user-facing logs\n * @returns event's description\n */\nfunction getEventDescription(event) {\n  const { message, event_id: eventId } = event;\n  if (message) {\n    return message;\n  }\n\n  const firstException = getFirstException(event);\n  if (firstException) {\n    if (firstException.type && firstException.value) {\n      return `${firstException.type}: ${firstException.value}`;\n    }\n    return firstException.type || firstException.value || eventId || '<unknown>';\n  }\n  return eventId || '<unknown>';\n}\n\n/**\n * Adds exception values, type and value to an synthetic Exception.\n * @param event The event to modify.\n * @param value Value of the exception.\n * @param type Type of the exception.\n * @hidden\n */\nfunction addExceptionTypeValue(event, value, type) {\n  const exception = (event.exception = event.exception || {});\n  const values = (exception.values = exception.values || []);\n  const firstException = (values[0] = values[0] || {});\n  if (!firstException.value) {\n    firstException.value = value || '';\n  }\n  if (!firstException.type) {\n    firstException.type = type || 'Error';\n  }\n}\n\n/**\n * Adds exception mechanism data to a given event. Uses defaults if the second parameter is not passed.\n *\n * @param event The event to modify.\n * @param newMechanism Mechanism data to add to the event.\n * @hidden\n */\nfunction addExceptionMechanism(event, newMechanism) {\n  const firstException = getFirstException(event);\n  if (!firstException) {\n    return;\n  }\n\n  const defaultMechanism = { type: 'generic', handled: true };\n  const currentMechanism = firstException.mechanism;\n  firstException.mechanism = { ...defaultMechanism, ...currentMechanism, ...newMechanism };\n\n  if (newMechanism && 'data' in newMechanism) {\n    const mergedData = { ...(currentMechanism && currentMechanism.data), ...newMechanism.data };\n    firstException.mechanism.data = mergedData;\n  }\n}\n\n// https://semver.org/#is-there-a-suggested-regular-expression-regex-to-check-a-semver-string\nconst SEMVER_REGEXP =\n  /^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$/;\n\n/**\n * Represents Semantic Versioning object\n */\n\n/**\n * Parses input into a SemVer interface\n * @param input string representation of a semver version\n */\nfunction parseSemver(input) {\n  const match = input.match(SEMVER_REGEXP) || [];\n  const major = parseInt(match[1], 10);\n  const minor = parseInt(match[2], 10);\n  const patch = parseInt(match[3], 10);\n  return {\n    buildmetadata: match[5],\n    major: isNaN(major) ? undefined : major,\n    minor: isNaN(minor) ? undefined : minor,\n    patch: isNaN(patch) ? undefined : patch,\n    prerelease: match[4],\n  };\n}\n\n/**\n * This function adds context (pre/post/line) lines to the provided frame\n *\n * @param lines string[] containing all lines\n * @param frame StackFrame that will be mutated\n * @param linesOfContext number of context lines we want to add pre/post\n */\nfunction addContextToFrame(lines, frame, linesOfContext = 5) {\n  // When there is no line number in the frame, attaching context is nonsensical and will even break grouping\n  if (frame.lineno === undefined) {\n    return;\n  }\n\n  const maxLines = lines.length;\n  const sourceLine = Math.max(Math.min(maxLines, frame.lineno - 1), 0);\n\n  frame.pre_context = lines\n    .slice(Math.max(0, sourceLine - linesOfContext), sourceLine)\n    .map((line) => snipLine(line, 0));\n\n  frame.context_line = snipLine(lines[Math.min(maxLines - 1, sourceLine)], frame.colno || 0);\n\n  frame.post_context = lines\n    .slice(Math.min(sourceLine + 1, maxLines), sourceLine + 1 + linesOfContext)\n    .map((line) => snipLine(line, 0));\n}\n\n/**\n * Checks whether or not we've already captured the given exception (note: not an identical exception - the very object\n * in question), and marks it captured if not.\n *\n * This is useful because it's possible for an error to get captured by more than one mechanism. After we intercept and\n * record an error, we rethrow it (assuming we've intercepted it before it's reached the top-level global handlers), so\n * that we don't interfere with whatever effects the error might have had were the SDK not there. At that point, because\n * the error has been rethrown, it's possible for it to bubble up to some other code we've instrumented. If it's not\n * caught after that, it will bubble all the way up to the global handlers (which of course we also instrument). This\n * function helps us ensure that even if we encounter the same error more than once, we only record it the first time we\n * see it.\n *\n * Note: It will ignore primitives (always return `false` and not mark them as seen), as properties can't be set on\n * them. {@link: Object.objectify} can be used on exceptions to convert any that are primitives into their equivalent\n * object wrapper forms so that this check will always work. However, because we need to flag the exact object which\n * will get rethrown, and because that rethrowing happens outside of the event processing pipeline, the objectification\n * must be done before the exception captured.\n *\n * @param A thrown exception to check or flag as having been seen\n * @returns `true` if the exception has already been captured, `false` if not (with the side effect of marking it seen)\n */\nfunction checkOrSetAlreadyCaught(exception) {\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n  if (exception && (exception ).__sentry_captured__) {\n    return true;\n  }\n\n  try {\n    // set it this way rather than by assignment so that it's not ennumerable and therefore isn't recorded by the\n    // `ExtraErrorData` integration\n    addNonEnumerableProperty(exception , '__sentry_captured__', true);\n  } catch (err) {\n    // `exception` is a primitive, so we can't mark it seen\n  }\n\n  return false;\n}\n\n/**\n * Checks whether the given input is already an array, and if it isn't, wraps it in one.\n *\n * @param maybeArray Input to turn into an array, if necessary\n * @returns The input, if already an array, or an array with the input as the only element, if not\n */\nfunction arrayify(maybeArray) {\n  return Array.isArray(maybeArray) ? maybeArray : [maybeArray];\n}\n\nexport { addContextToFrame, addExceptionMechanism, addExceptionTypeValue, arrayify, checkOrSetAlreadyCaught, getEventDescription, parseSemver, uuid4 };\n//# sourceMappingURL=misc.js.map\n","/*\n * This module exists for optimizations in the build process through rollup and terser.  We define some global\n * constants, which can be overridden during build. By guarding certain pieces of code with functions that return these\n * constants, we can control whether or not they appear in the final bundle. (Any code guarded by a false condition will\n * never run, and will hence be dropped during treeshaking.) The two primary uses for this are stripping out calls to\n * `logger` and preventing node-related code from appearing in browser bundles.\n *\n * Attention:\n * This file should not be used to define constants/flags that are intended to be used for tree-shaking conducted by\n * users. These flags should live in their respective packages, as we identified user tooling (specifically webpack)\n * having issues tree-shaking these constants across package boundaries.\n * An example for this is the __SENTRY_DEBUG__ constant. It is declared in each package individually because we want\n * users to be able to shake away expressions that it guards.\n */\n\n/**\n * Figures out if we're building a browser bundle.\n *\n * @returns true if this is a browser bundle build.\n */\nfunction isBrowserBundle() {\n  return typeof __SENTRY_BROWSER_BUNDLE__ !== 'undefined' && !!__SENTRY_BROWSER_BUNDLE__;\n}\n\n/**\n * Get source of SDK.\n */\nfunction getSDKSource() {\n  // @ts-ignore \"npm\" is injected by rollup during build process\n  return \"npm\";\n}\n\nexport { getSDKSource, isBrowserBundle };\n//# sourceMappingURL=env.js.map\n","import { isBrowserBundle } from './env.js';\n\n/**\n * NOTE: In order to avoid circular dependencies, if you add a function to this module and it needs to print something,\n * you must either a) use `console.log` rather than the logger, or b) put your function elsewhere.\n */\n\n/**\n * Checks whether we're in the Node.js or Browser environment\n *\n * @returns Answer to given question\n */\nfunction isNodeEnv() {\n  // explicitly check for browser bundles as those can be optimized statically\n  // by terser/rollup.\n  return (\n    !isBrowserBundle() &&\n    Object.prototype.toString.call(typeof process !== 'undefined' ? process : 0) === '[object process]'\n  );\n}\n\n/**\n * Requires a module which is protected against bundler minification.\n *\n * @param request The module path to resolve\n */\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types, @typescript-eslint/no-explicit-any\nfunction dynamicRequire(mod, request) {\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n  return mod.require(request);\n}\n\n/**\n * Helper for dynamically loading module that should work with linked dependencies.\n * The problem is that we _should_ be using `require(require.resolve(moduleName, { paths: [cwd()] }))`\n * However it's _not possible_ to do that with Webpack, as it has to know all the dependencies during\n * build time. `require.resolve` is also not available in any other way, so we cannot create,\n * a fake helper like we do with `dynamicRequire`.\n *\n * We always prefer to use local package, thus the value is not returned early from each `try/catch` block.\n * That is to mimic the behavior of `require.resolve` exactly.\n *\n * @param moduleName module name to require\n * @returns possibly required module\n */\nfunction loadModule(moduleName) {\n  let mod;\n\n  try {\n    mod = dynamicRequire(module, moduleName);\n  } catch (e) {\n    // no-empty\n  }\n\n  try {\n    const { cwd } = dynamicRequire(module, 'process');\n    mod = dynamicRequire(module, `${cwd()}/node_modules/${moduleName}`) ;\n  } catch (e) {\n    // no-empty\n  }\n\n  return mod;\n}\n\nexport { dynamicRequire, isNodeEnv, loadModule };\n//# sourceMappingURL=node.js.map\n","import { isThenable } from './is.js';\n\n/* eslint-disable @typescript-eslint/explicit-function-return-type */\n\n/** SyncPromise internal states */\nvar States; (function (States) {\n  /** Pending */\n  const PENDING = 0; States[States[\"PENDING\"] = PENDING] = \"PENDING\";\n  /** Resolved / OK */\n  const RESOLVED = 1; States[States[\"RESOLVED\"] = RESOLVED] = \"RESOLVED\";\n  /** Rejected / Error */\n  const REJECTED = 2; States[States[\"REJECTED\"] = REJECTED] = \"REJECTED\";\n})(States || (States = {}));\n\n// Overloads so we can call resolvedSyncPromise without arguments and generic argument\n\n/**\n * Creates a resolved sync promise.\n *\n * @param value the value to resolve the promise with\n * @returns the resolved sync promise\n */\nfunction resolvedSyncPromise(value) {\n  return new SyncPromise(resolve => {\n    resolve(value);\n  });\n}\n\n/**\n * Creates a rejected sync promise.\n *\n * @param value the value to reject the promise with\n * @returns the rejected sync promise\n */\nfunction rejectedSyncPromise(reason) {\n  return new SyncPromise((_, reject) => {\n    reject(reason);\n  });\n}\n\n/**\n * Thenable class that behaves like a Promise and follows it's interface\n * but is not async internally\n */\nclass SyncPromise {\n   __init() {this._state = States.PENDING;}\n   __init2() {this._handlers = [];}\n\n   constructor(\n    executor,\n  ) {SyncPromise.prototype.__init.call(this);SyncPromise.prototype.__init2.call(this);SyncPromise.prototype.__init3.call(this);SyncPromise.prototype.__init4.call(this);SyncPromise.prototype.__init5.call(this);SyncPromise.prototype.__init6.call(this);\n    try {\n      executor(this._resolve, this._reject);\n    } catch (e) {\n      this._reject(e);\n    }\n  }\n\n  /** JSDoc */\n   then(\n    onfulfilled,\n    onrejected,\n  ) {\n    return new SyncPromise((resolve, reject) => {\n      this._handlers.push([\n        false,\n        result => {\n          if (!onfulfilled) {\n            // TODO: ¯\\_(ツ)_/¯\n            // TODO: FIXME\n            resolve(result );\n          } else {\n            try {\n              resolve(onfulfilled(result));\n            } catch (e) {\n              reject(e);\n            }\n          }\n        },\n        reason => {\n          if (!onrejected) {\n            reject(reason);\n          } else {\n            try {\n              resolve(onrejected(reason));\n            } catch (e) {\n              reject(e);\n            }\n          }\n        },\n      ]);\n      this._executeHandlers();\n    });\n  }\n\n  /** JSDoc */\n   catch(\n    onrejected,\n  ) {\n    return this.then(val => val, onrejected);\n  }\n\n  /** JSDoc */\n   finally(onfinally) {\n    return new SyncPromise((resolve, reject) => {\n      let val;\n      let isRejected;\n\n      return this.then(\n        value => {\n          isRejected = false;\n          val = value;\n          if (onfinally) {\n            onfinally();\n          }\n        },\n        reason => {\n          isRejected = true;\n          val = reason;\n          if (onfinally) {\n            onfinally();\n          }\n        },\n      ).then(() => {\n        if (isRejected) {\n          reject(val);\n          return;\n        }\n\n        resolve(val );\n      });\n    });\n  }\n\n  /** JSDoc */\n    __init3() {this._resolve = (value) => {\n    this._setResult(States.RESOLVED, value);\n  };}\n\n  /** JSDoc */\n    __init4() {this._reject = (reason) => {\n    this._setResult(States.REJECTED, reason);\n  };}\n\n  /** JSDoc */\n    __init5() {this._setResult = (state, value) => {\n    if (this._state !== States.PENDING) {\n      return;\n    }\n\n    if (isThenable(value)) {\n      void (value ).then(this._resolve, this._reject);\n      return;\n    }\n\n    this._state = state;\n    this._value = value;\n\n    this._executeHandlers();\n  };}\n\n  /** JSDoc */\n    __init6() {this._executeHandlers = () => {\n    if (this._state === States.PENDING) {\n      return;\n    }\n\n    const cachedHandlers = this._handlers.slice();\n    this._handlers = [];\n\n    cachedHandlers.forEach(handler => {\n      if (handler[0]) {\n        return;\n      }\n\n      if (this._state === States.RESOLVED) {\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        handler[1](this._value );\n      }\n\n      if (this._state === States.REJECTED) {\n        handler[2](this._value);\n      }\n\n      handler[0] = true;\n    });\n  };}\n}\n\nexport { SyncPromise, rejectedSyncPromise, resolvedSyncPromise };\n//# sourceMappingURL=syncpromise.js.map\n","import { isNodeEnv, dynamicRequire } from './node.js';\nimport { getGlobalObject } from './worldwide.js';\n\n// eslint-disable-next-line deprecation/deprecation\nconst WINDOW = getGlobalObject();\n\n/**\n * An object that can return the current timestamp in seconds since the UNIX epoch.\n */\n\n/**\n * A TimestampSource implementation for environments that do not support the Performance Web API natively.\n *\n * Note that this TimestampSource does not use a monotonic clock. A call to `nowSeconds` may return a timestamp earlier\n * than a previously returned value. We do not try to emulate a monotonic behavior in order to facilitate debugging. It\n * is more obvious to explain \"why does my span have negative duration\" than \"why my spans have zero duration\".\n */\nconst dateTimestampSource = {\n  nowSeconds: () => Date.now() / 1000,\n};\n\n/**\n * A partial definition of the [Performance Web API]{@link https://developer.mozilla.org/en-US/docs/Web/API/Performance}\n * for accessing a high-resolution monotonic clock.\n */\n\n/**\n * Returns a wrapper around the native Performance API browser implementation, or undefined for browsers that do not\n * support the API.\n *\n * Wrapping the native API works around differences in behavior from different browsers.\n */\nfunction getBrowserPerformance() {\n  const { performance } = WINDOW;\n  if (!performance || !performance.now) {\n    return undefined;\n  }\n\n  // Replace performance.timeOrigin with our own timeOrigin based on Date.now().\n  //\n  // This is a partial workaround for browsers reporting performance.timeOrigin such that performance.timeOrigin +\n  // performance.now() gives a date arbitrarily in the past.\n  //\n  // Additionally, computing timeOrigin in this way fills the gap for browsers where performance.timeOrigin is\n  // undefined.\n  //\n  // The assumption that performance.timeOrigin + performance.now() ~= Date.now() is flawed, but we depend on it to\n  // interact with data coming out of performance entries.\n  //\n  // Note that despite recommendations against it in the spec, browsers implement the Performance API with a clock that\n  // might stop when the computer is asleep (and perhaps under other circumstances). Such behavior causes\n  // performance.timeOrigin + performance.now() to have an arbitrary skew over Date.now(). In laptop computers, we have\n  // observed skews that can be as long as days, weeks or months.\n  //\n  // See https://github.com/getsentry/sentry-javascript/issues/2590.\n  //\n  // BUG: despite our best intentions, this workaround has its limitations. It mostly addresses timings of pageload\n  // transactions, but ignores the skew built up over time that can aversely affect timestamps of navigation\n  // transactions of long-lived web pages.\n  const timeOrigin = Date.now() - performance.now();\n\n  return {\n    now: () => performance.now(),\n    timeOrigin,\n  };\n}\n\n/**\n * Returns the native Performance API implementation from Node.js. Returns undefined in old Node.js versions that don't\n * implement the API.\n */\nfunction getNodePerformance() {\n  try {\n    const perfHooks = dynamicRequire(module, 'perf_hooks') ;\n    return perfHooks.performance;\n  } catch (_) {\n    return undefined;\n  }\n}\n\n/**\n * The Performance API implementation for the current platform, if available.\n */\nconst platformPerformance = isNodeEnv() ? getNodePerformance() : getBrowserPerformance();\n\nconst timestampSource =\n  platformPerformance === undefined\n    ? dateTimestampSource\n    : {\n        nowSeconds: () => (platformPerformance.timeOrigin + platformPerformance.now()) / 1000,\n      };\n\n/**\n * Returns a timestamp in seconds since the UNIX epoch using the Date API.\n */\nconst dateTimestampInSeconds = dateTimestampSource.nowSeconds.bind(dateTimestampSource);\n\n/**\n * Returns a timestamp in seconds since the UNIX epoch using either the Performance or Date APIs, depending on the\n * availability of the Performance API.\n *\n * See `usingPerformanceAPI` to test whether the Performance API is used.\n *\n * BUG: Note that because of how browsers implement the Performance API, the clock might stop when the computer is\n * asleep. This creates a skew between `dateTimestampInSeconds` and `timestampInSeconds`. The\n * skew can grow to arbitrary amounts like days, weeks or months.\n * See https://github.com/getsentry/sentry-javascript/issues/2590.\n */\nconst timestampInSeconds = timestampSource.nowSeconds.bind(timestampSource);\n\n// Re-exported with an old name for backwards-compatibility.\nconst timestampWithMs = timestampInSeconds;\n\n/**\n * A boolean that is true when timestampInSeconds uses the Performance API to produce monotonic timestamps.\n */\nconst usingPerformanceAPI = platformPerformance !== undefined;\n\n/**\n * Internal helper to store what is the source of browserPerformanceTimeOrigin below. For debugging only.\n */\nlet _browserPerformanceTimeOriginMode;\n\n/**\n * The number of milliseconds since the UNIX epoch. This value is only usable in a browser, and only when the\n * performance API is available.\n */\nconst browserPerformanceTimeOrigin = (() => {\n  // Unfortunately browsers may report an inaccurate time origin data, through either performance.timeOrigin or\n  // performance.timing.navigationStart, which results in poor results in performance data. We only treat time origin\n  // data as reliable if they are within a reasonable threshold of the current time.\n\n  const { performance } = WINDOW;\n  if (!performance || !performance.now) {\n    _browserPerformanceTimeOriginMode = 'none';\n    return undefined;\n  }\n\n  const threshold = 3600 * 1000;\n  const performanceNow = performance.now();\n  const dateNow = Date.now();\n\n  // if timeOrigin isn't available set delta to threshold so it isn't used\n  const timeOriginDelta = performance.timeOrigin\n    ? Math.abs(performance.timeOrigin + performanceNow - dateNow)\n    : threshold;\n  const timeOriginIsReliable = timeOriginDelta < threshold;\n\n  // While performance.timing.navigationStart is deprecated in favor of performance.timeOrigin, performance.timeOrigin\n  // is not as widely supported. Namely, performance.timeOrigin is undefined in Safari as of writing.\n  // Also as of writing, performance.timing is not available in Web Workers in mainstream browsers, so it is not always\n  // a valid fallback. In the absence of an initial time provided by the browser, fallback to the current time from the\n  // Date API.\n  // eslint-disable-next-line deprecation/deprecation\n  const navigationStart = performance.timing && performance.timing.navigationStart;\n  const hasNavigationStart = typeof navigationStart === 'number';\n  // if navigationStart isn't available set delta to threshold so it isn't used\n  const navigationStartDelta = hasNavigationStart ? Math.abs(navigationStart + performanceNow - dateNow) : threshold;\n  const navigationStartIsReliable = navigationStartDelta < threshold;\n\n  if (timeOriginIsReliable || navigationStartIsReliable) {\n    // Use the more reliable time origin\n    if (timeOriginDelta <= navigationStartDelta) {\n      _browserPerformanceTimeOriginMode = 'timeOrigin';\n      return performance.timeOrigin;\n    } else {\n      _browserPerformanceTimeOriginMode = 'navigationStart';\n      return navigationStart;\n    }\n  }\n\n  // Either both timeOrigin and navigationStart are skewed or neither is available, fallback to Date.\n  _browserPerformanceTimeOriginMode = 'dateNow';\n  return dateNow;\n})();\n\nexport { _browserPerformanceTimeOriginMode, browserPerformanceTimeOrigin, dateTimestampInSeconds, timestampInSeconds, timestampWithMs, usingPerformanceAPI };\n//# sourceMappingURL=time.js.map\n","const DEFAULT_ENVIRONMENT = 'production';\n\nexport { DEFAULT_ENVIRONMENT };\n//# sourceMappingURL=constants.js.map\n","import { timestampInSeconds, uuid4, dropUndefinedKeys } from '@sentry/utils';\n\n/**\n * Creates a new `Session` object by setting certain default parameters. If optional @param context\n * is passed, the passed properties are applied to the session object.\n *\n * @param context (optional) additional properties to be applied to the returned session object\n *\n * @returns a new `Session` object\n */\nfunction makeSession(context) {\n  // Both timestamp and started are in seconds since the UNIX epoch.\n  const startingTime = timestampInSeconds();\n\n  const session = {\n    sid: uuid4(),\n    init: true,\n    timestamp: startingTime,\n    started: startingTime,\n    duration: 0,\n    status: 'ok',\n    errors: 0,\n    ignoreDuration: false,\n    toJSON: () => sessionToJSON(session),\n  };\n\n  if (context) {\n    updateSession(session, context);\n  }\n\n  return session;\n}\n\n/**\n * Updates a session object with the properties passed in the context.\n *\n * Note that this function mutates the passed object and returns void.\n * (Had to do this instead of returning a new and updated session because closing and sending a session\n * makes an update to the session after it was passed to the sending logic.\n * @see BaseClient.captureSession )\n *\n * @param session the `Session` to update\n * @param context the `SessionContext` holding the properties that should be updated in @param session\n */\n// eslint-disable-next-line complexity\nfunction updateSession(session, context = {}) {\n  if (context.user) {\n    if (!session.ipAddress && context.user.ip_address) {\n      session.ipAddress = context.user.ip_address;\n    }\n\n    if (!session.did && !context.did) {\n      session.did = context.user.id || context.user.email || context.user.username;\n    }\n  }\n\n  session.timestamp = context.timestamp || timestampInSeconds();\n\n  if (context.ignoreDuration) {\n    session.ignoreDuration = context.ignoreDuration;\n  }\n  if (context.sid) {\n    // Good enough uuid validation. — Kamil\n    session.sid = context.sid.length === 32 ? context.sid : uuid4();\n  }\n  if (context.init !== undefined) {\n    session.init = context.init;\n  }\n  if (!session.did && context.did) {\n    session.did = `${context.did}`;\n  }\n  if (typeof context.started === 'number') {\n    session.started = context.started;\n  }\n  if (session.ignoreDuration) {\n    session.duration = undefined;\n  } else if (typeof context.duration === 'number') {\n    session.duration = context.duration;\n  } else {\n    const duration = session.timestamp - session.started;\n    session.duration = duration >= 0 ? duration : 0;\n  }\n  if (context.release) {\n    session.release = context.release;\n  }\n  if (context.environment) {\n    session.environment = context.environment;\n  }\n  if (!session.ipAddress && context.ipAddress) {\n    session.ipAddress = context.ipAddress;\n  }\n  if (!session.userAgent && context.userAgent) {\n    session.userAgent = context.userAgent;\n  }\n  if (typeof context.errors === 'number') {\n    session.errors = context.errors;\n  }\n  if (context.status) {\n    session.status = context.status;\n  }\n}\n\n/**\n * Closes a session by setting its status and updating the session object with it.\n * Internally calls `updateSession` to update the passed session object.\n *\n * Note that this function mutates the passed session (@see updateSession for explanation).\n *\n * @param session the `Session` object to be closed\n * @param status the `SessionStatus` with which the session was closed. If you don't pass a status,\n *               this function will keep the previously set status, unless it was `'ok'` in which case\n *               it is changed to `'exited'`.\n */\nfunction closeSession(session, status) {\n  let context = {};\n  if (status) {\n    context = { status };\n  } else if (session.status === 'ok') {\n    context = { status: 'exited' };\n  }\n\n  updateSession(session, context);\n}\n\n/**\n * Serializes a passed session object to a JSON object with a slightly different structure.\n * This is necessary because the Sentry backend requires a slightly different schema of a session\n * than the one the JS SDKs use internally.\n *\n * @param session the session to be converted\n *\n * @returns a JSON object of the passed session\n */\nfunction sessionToJSON(session) {\n  return dropUndefinedKeys({\n    sid: `${session.sid}`,\n    init: session.init,\n    // Make sure that sec is converted to ms for date constructor\n    started: new Date(session.started * 1000).toISOString(),\n    timestamp: new Date(session.timestamp * 1000).toISOString(),\n    status: session.status,\n    errors: session.errors,\n    did: typeof session.did === 'number' || typeof session.did === 'string' ? `${session.did}` : undefined,\n    duration: session.duration,\n    attrs: {\n      release: session.release,\n      environment: session.environment,\n      ip_address: session.ipAddress,\n      user_agent: session.userAgent,\n    },\n  });\n}\n\nexport { closeSession, makeSession, updateSession };\n//# sourceMappingURL=session.js.map\n","import { isPlainObject, dateTimestampInSeconds, SyncPromise, logger, isThenable, arrayify, getGlobalSingleton } from '@sentry/utils';\nimport { updateSession } from './session.js';\n\n/**\n * Default value for maximum number of breadcrumbs added to an event.\n */\nconst DEFAULT_MAX_BREADCRUMBS = 100;\n\n/**\n * Holds additional event information. {@link Scope.applyToEvent} will be\n * called by the client before an event will be sent.\n */\nclass Scope  {\n  /** Flag if notifying is happening. */\n\n  /** Callback for client to receive scope changes. */\n\n  /** Callback list that will be called after {@link applyToEvent}. */\n\n  /** Array of breadcrumbs. */\n\n  /** User */\n\n  /** Tags */\n\n  /** Extra */\n\n  /** Contexts */\n\n  /** Attachments */\n\n  /**\n   * A place to stash data which is needed at some point in the SDK's event processing pipeline but which shouldn't get\n   * sent to Sentry\n   */\n\n  /** Fingerprint */\n\n  /** Severity */\n  // eslint-disable-next-line deprecation/deprecation\n\n  /** Transaction Name */\n\n  /** Span */\n\n  /** Session */\n\n  /** Request Mode Session Status */\n\n  // NOTE: Any field which gets added here should get added not only to the constructor but also to the `clone` method.\n\n   constructor() {\n    this._notifyingListeners = false;\n    this._scopeListeners = [];\n    this._eventProcessors = [];\n    this._breadcrumbs = [];\n    this._attachments = [];\n    this._user = {};\n    this._tags = {};\n    this._extra = {};\n    this._contexts = {};\n    this._sdkProcessingMetadata = {};\n  }\n\n  /**\n   * Inherit values from the parent scope.\n   * @param scope to clone.\n   */\n   static clone(scope) {\n    const newScope = new Scope();\n    if (scope) {\n      newScope._breadcrumbs = [...scope._breadcrumbs];\n      newScope._tags = { ...scope._tags };\n      newScope._extra = { ...scope._extra };\n      newScope._contexts = { ...scope._contexts };\n      newScope._user = scope._user;\n      newScope._level = scope._level;\n      newScope._span = scope._span;\n      newScope._session = scope._session;\n      newScope._transactionName = scope._transactionName;\n      newScope._fingerprint = scope._fingerprint;\n      newScope._eventProcessors = [...scope._eventProcessors];\n      newScope._requestSession = scope._requestSession;\n      newScope._attachments = [...scope._attachments];\n      newScope._sdkProcessingMetadata = { ...scope._sdkProcessingMetadata };\n    }\n    return newScope;\n  }\n\n  /**\n   * Add internal on change listener. Used for sub SDKs that need to store the scope.\n   * @hidden\n   */\n   addScopeListener(callback) {\n    this._scopeListeners.push(callback);\n  }\n\n  /**\n   * @inheritDoc\n   */\n   addEventProcessor(callback) {\n    this._eventProcessors.push(callback);\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setUser(user) {\n    this._user = user || {};\n    if (this._session) {\n      updateSession(this._session, { user });\n    }\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getUser() {\n    return this._user;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getRequestSession() {\n    return this._requestSession;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setRequestSession(requestSession) {\n    this._requestSession = requestSession;\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setTags(tags) {\n    this._tags = {\n      ...this._tags,\n      ...tags,\n    };\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setTag(key, value) {\n    this._tags = { ...this._tags, [key]: value };\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setExtras(extras) {\n    this._extra = {\n      ...this._extra,\n      ...extras,\n    };\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setExtra(key, extra) {\n    this._extra = { ...this._extra, [key]: extra };\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setFingerprint(fingerprint) {\n    this._fingerprint = fingerprint;\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setLevel(\n    // eslint-disable-next-line deprecation/deprecation\n    level,\n  ) {\n    this._level = level;\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setTransactionName(name) {\n    this._transactionName = name;\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setContext(key, context) {\n    if (context === null) {\n      // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n      delete this._contexts[key];\n    } else {\n      this._contexts[key] = context;\n    }\n\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setSpan(span) {\n    this._span = span;\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getSpan() {\n    return this._span;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getTransaction() {\n    // Often, this span (if it exists at all) will be a transaction, but it's not guaranteed to be. Regardless, it will\n    // have a pointer to the currently-active transaction.\n    const span = this.getSpan();\n    return span && span.transaction;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setSession(session) {\n    if (!session) {\n      delete this._session;\n    } else {\n      this._session = session;\n    }\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getSession() {\n    return this._session;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   update(captureContext) {\n    if (!captureContext) {\n      return this;\n    }\n\n    if (typeof captureContext === 'function') {\n      const updatedScope = (captureContext )(this);\n      return updatedScope instanceof Scope ? updatedScope : this;\n    }\n\n    if (captureContext instanceof Scope) {\n      this._tags = { ...this._tags, ...captureContext._tags };\n      this._extra = { ...this._extra, ...captureContext._extra };\n      this._contexts = { ...this._contexts, ...captureContext._contexts };\n      if (captureContext._user && Object.keys(captureContext._user).length) {\n        this._user = captureContext._user;\n      }\n      if (captureContext._level) {\n        this._level = captureContext._level;\n      }\n      if (captureContext._fingerprint) {\n        this._fingerprint = captureContext._fingerprint;\n      }\n      if (captureContext._requestSession) {\n        this._requestSession = captureContext._requestSession;\n      }\n    } else if (isPlainObject(captureContext)) {\n      // eslint-disable-next-line no-param-reassign\n      captureContext = captureContext ;\n      this._tags = { ...this._tags, ...captureContext.tags };\n      this._extra = { ...this._extra, ...captureContext.extra };\n      this._contexts = { ...this._contexts, ...captureContext.contexts };\n      if (captureContext.user) {\n        this._user = captureContext.user;\n      }\n      if (captureContext.level) {\n        this._level = captureContext.level;\n      }\n      if (captureContext.fingerprint) {\n        this._fingerprint = captureContext.fingerprint;\n      }\n      if (captureContext.requestSession) {\n        this._requestSession = captureContext.requestSession;\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   clear() {\n    this._breadcrumbs = [];\n    this._tags = {};\n    this._extra = {};\n    this._user = {};\n    this._contexts = {};\n    this._level = undefined;\n    this._transactionName = undefined;\n    this._fingerprint = undefined;\n    this._requestSession = undefined;\n    this._span = undefined;\n    this._session = undefined;\n    this._notifyScopeListeners();\n    this._attachments = [];\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   addBreadcrumb(breadcrumb, maxBreadcrumbs) {\n    const maxCrumbs = typeof maxBreadcrumbs === 'number' ? maxBreadcrumbs : DEFAULT_MAX_BREADCRUMBS;\n\n    // No data has been changed, so don't notify scope listeners\n    if (maxCrumbs <= 0) {\n      return this;\n    }\n\n    const mergedBreadcrumb = {\n      timestamp: dateTimestampInSeconds(),\n      ...breadcrumb,\n    };\n    this._breadcrumbs = [...this._breadcrumbs, mergedBreadcrumb].slice(-maxCrumbs);\n    this._notifyScopeListeners();\n\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getLastBreadcrumb() {\n    return this._breadcrumbs[this._breadcrumbs.length - 1];\n  }\n\n  /**\n   * @inheritDoc\n   */\n   clearBreadcrumbs() {\n    this._breadcrumbs = [];\n    this._notifyScopeListeners();\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   addAttachment(attachment) {\n    this._attachments.push(attachment);\n    return this;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getAttachments() {\n    return this._attachments;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   clearAttachments() {\n    this._attachments = [];\n    return this;\n  }\n\n  /**\n   * Applies data from the scope to the event and runs all event processors on it.\n   *\n   * @param event Event\n   * @param hint Object containing additional information about the original exception, for use by the event processors.\n   * @hidden\n   */\n   applyToEvent(event, hint = {}) {\n    if (this._extra && Object.keys(this._extra).length) {\n      event.extra = { ...this._extra, ...event.extra };\n    }\n    if (this._tags && Object.keys(this._tags).length) {\n      event.tags = { ...this._tags, ...event.tags };\n    }\n    if (this._user && Object.keys(this._user).length) {\n      event.user = { ...this._user, ...event.user };\n    }\n    if (this._contexts && Object.keys(this._contexts).length) {\n      event.contexts = { ...this._contexts, ...event.contexts };\n    }\n    if (this._level) {\n      event.level = this._level;\n    }\n    if (this._transactionName) {\n      event.transaction = this._transactionName;\n    }\n\n    // We want to set the trace context for normal events only if there isn't already\n    // a trace context on the event. There is a product feature in place where we link\n    // errors with transaction and it relies on that.\n    if (this._span) {\n      event.contexts = { trace: this._span.getTraceContext(), ...event.contexts };\n      const transactionName = this._span.transaction && this._span.transaction.name;\n      if (transactionName) {\n        event.tags = { transaction: transactionName, ...event.tags };\n      }\n    }\n\n    this._applyFingerprint(event);\n\n    event.breadcrumbs = [...(event.breadcrumbs || []), ...this._breadcrumbs];\n    event.breadcrumbs = event.breadcrumbs.length > 0 ? event.breadcrumbs : undefined;\n\n    event.sdkProcessingMetadata = { ...event.sdkProcessingMetadata, ...this._sdkProcessingMetadata };\n\n    return this._notifyEventProcessors([...getGlobalEventProcessors(), ...this._eventProcessors], event, hint);\n  }\n\n  /**\n   * Add data which will be accessible during event processing but won't get sent to Sentry\n   */\n   setSDKProcessingMetadata(newData) {\n    this._sdkProcessingMetadata = { ...this._sdkProcessingMetadata, ...newData };\n\n    return this;\n  }\n\n  /**\n   * This will be called after {@link applyToEvent} is finished.\n   */\n   _notifyEventProcessors(\n    processors,\n    event,\n    hint,\n    index = 0,\n  ) {\n    return new SyncPromise((resolve, reject) => {\n      const processor = processors[index];\n      if (event === null || typeof processor !== 'function') {\n        resolve(event);\n      } else {\n        const result = processor({ ...event }, hint) ;\n\n        (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) &&\n          processor.id &&\n          result === null &&\n          logger.log(`Event processor \"${processor.id}\" dropped event`);\n\n        if (isThenable(result)) {\n          void result\n            .then(final => this._notifyEventProcessors(processors, final, hint, index + 1).then(resolve))\n            .then(null, reject);\n        } else {\n          void this._notifyEventProcessors(processors, result, hint, index + 1)\n            .then(resolve)\n            .then(null, reject);\n        }\n      }\n    });\n  }\n\n  /**\n   * This will be called on every set call.\n   */\n   _notifyScopeListeners() {\n    // We need this check for this._notifyingListeners to be able to work on scope during updates\n    // If this check is not here we'll produce endless recursion when something is done with the scope\n    // during the callback.\n    if (!this._notifyingListeners) {\n      this._notifyingListeners = true;\n      this._scopeListeners.forEach(callback => {\n        callback(this);\n      });\n      this._notifyingListeners = false;\n    }\n  }\n\n  /**\n   * Applies fingerprint from the scope to the event if there's one,\n   * uses message if there's one instead or get rid of empty fingerprint\n   */\n   _applyFingerprint(event) {\n    // Make sure it's an array first and we actually have something in place\n    event.fingerprint = event.fingerprint ? arrayify(event.fingerprint) : [];\n\n    // If we have something on the scope, then merge it with event\n    if (this._fingerprint) {\n      event.fingerprint = event.fingerprint.concat(this._fingerprint);\n    }\n\n    // If we have no data at all, remove empty array default\n    if (event.fingerprint && !event.fingerprint.length) {\n      delete event.fingerprint;\n    }\n  }\n}\n\n/**\n * Returns the global event processors.\n */\nfunction getGlobalEventProcessors() {\n  return getGlobalSingleton('globalEventProcessors', () => []);\n}\n\n/**\n * Add a EventProcessor to be kept globally.\n * @param callback EventProcessor to add\n */\nfunction addGlobalEventProcessor(callback) {\n  getGlobalEventProcessors().push(callback);\n}\n\nexport { Scope, addGlobalEventProcessor };\n//# sourceMappingURL=scope.js.map\n","import { uuid4, dateTimestampInSeconds, consoleSandbox, logger, GLOBAL_OBJ, isNodeEnv, getGlobalSingleton } from '@sentry/utils';\nimport { DEFAULT_ENVIRONMENT } from './constants.js';\nimport { Scope } from './scope.js';\nimport { closeSession, makeSession, updateSession } from './session.js';\n\n/**\n * API compatibility version of this hub.\n *\n * WARNING: This number should only be increased when the global interface\n * changes and new methods are introduced.\n *\n * @hidden\n */\nconst API_VERSION = 4;\n\n/**\n * Default maximum number of breadcrumbs added to an event. Can be overwritten\n * with {@link Options.maxBreadcrumbs}.\n */\nconst DEFAULT_BREADCRUMBS = 100;\n\n/**\n * A layer in the process stack.\n * @hidden\n */\n\n/**\n * @inheritDoc\n */\nclass Hub  {\n  /** Is a {@link Layer}[] containing the client and scope */\n\n  /** Contains the last event id of a captured event.  */\n\n  /**\n   * Creates a new instance of the hub, will push one {@link Layer} into the\n   * internal stack on creation.\n   *\n   * @param client bound to the hub.\n   * @param scope bound to the hub.\n   * @param version number, higher number means higher priority.\n   */\n   constructor(client, scope = new Scope(),   _version = API_VERSION) {this._version = _version;\n    this._stack = [{ scope }];\n    if (client) {\n      this.bindClient(client);\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n   isOlderThan(version) {\n    return this._version < version;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   bindClient(client) {\n    const top = this.getStackTop();\n    top.client = client;\n    if (client && client.setupIntegrations) {\n      client.setupIntegrations();\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n   pushScope() {\n    // We want to clone the content of prev scope\n    const scope = Scope.clone(this.getScope());\n    this.getStack().push({\n      client: this.getClient(),\n      scope,\n    });\n    return scope;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   popScope() {\n    if (this.getStack().length <= 1) return false;\n    return !!this.getStack().pop();\n  }\n\n  /**\n   * @inheritDoc\n   */\n   withScope(callback) {\n    const scope = this.pushScope();\n    try {\n      callback(scope);\n    } finally {\n      this.popScope();\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getClient() {\n    return this.getStackTop().client ;\n  }\n\n  /** Returns the scope of the top stack. */\n   getScope() {\n    return this.getStackTop().scope;\n  }\n\n  /** Returns the scope stack for domains or the process. */\n   getStack() {\n    return this._stack;\n  }\n\n  /** Returns the topmost scope layer in the order domain > local > process. */\n   getStackTop() {\n    return this._stack[this._stack.length - 1];\n  }\n\n  /**\n   * @inheritDoc\n   */\n   captureException(exception, hint) {\n    const eventId = (this._lastEventId = hint && hint.event_id ? hint.event_id : uuid4());\n    const syntheticException = new Error('Sentry syntheticException');\n    this._withClient((client, scope) => {\n      client.captureException(\n        exception,\n        {\n          originalException: exception,\n          syntheticException,\n          ...hint,\n          event_id: eventId,\n        },\n        scope,\n      );\n    });\n    return eventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   captureMessage(\n    message,\n    // eslint-disable-next-line deprecation/deprecation\n    level,\n    hint,\n  ) {\n    const eventId = (this._lastEventId = hint && hint.event_id ? hint.event_id : uuid4());\n    const syntheticException = new Error(message);\n    this._withClient((client, scope) => {\n      client.captureMessage(\n        message,\n        level,\n        {\n          originalException: message,\n          syntheticException,\n          ...hint,\n          event_id: eventId,\n        },\n        scope,\n      );\n    });\n    return eventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   captureEvent(event, hint) {\n    const eventId = hint && hint.event_id ? hint.event_id : uuid4();\n    if (!event.type) {\n      this._lastEventId = eventId;\n    }\n\n    this._withClient((client, scope) => {\n      client.captureEvent(event, { ...hint, event_id: eventId }, scope);\n    });\n    return eventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   lastEventId() {\n    return this._lastEventId;\n  }\n\n  /**\n   * @inheritDoc\n   */\n   addBreadcrumb(breadcrumb, hint) {\n    const { scope, client } = this.getStackTop();\n\n    if (!client) return;\n\n    const { beforeBreadcrumb = null, maxBreadcrumbs = DEFAULT_BREADCRUMBS } =\n      (client.getOptions && client.getOptions()) || {};\n\n    if (maxBreadcrumbs <= 0) return;\n\n    const timestamp = dateTimestampInSeconds();\n    const mergedBreadcrumb = { timestamp, ...breadcrumb };\n    const finalBreadcrumb = beforeBreadcrumb\n      ? (consoleSandbox(() => beforeBreadcrumb(mergedBreadcrumb, hint)) )\n      : mergedBreadcrumb;\n\n    if (finalBreadcrumb === null) return;\n\n    if (client.emit) {\n      client.emit('beforeAddBreadcrumb', finalBreadcrumb, hint);\n    }\n\n    scope.addBreadcrumb(finalBreadcrumb, maxBreadcrumbs);\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setUser(user) {\n    this.getScope().setUser(user);\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setTags(tags) {\n    this.getScope().setTags(tags);\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setExtras(extras) {\n    this.getScope().setExtras(extras);\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setTag(key, value) {\n    this.getScope().setTag(key, value);\n  }\n\n  /**\n   * @inheritDoc\n   */\n   setExtra(key, extra) {\n    this.getScope().setExtra(key, extra);\n  }\n\n  /**\n   * @inheritDoc\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n   setContext(name, context) {\n    this.getScope().setContext(name, context);\n  }\n\n  /**\n   * @inheritDoc\n   */\n   configureScope(callback) {\n    const { scope, client } = this.getStackTop();\n    if (client) {\n      callback(scope);\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n   run(callback) {\n    const oldHub = makeMain(this);\n    try {\n      callback(this);\n    } finally {\n      makeMain(oldHub);\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n   getIntegration(integration) {\n    const client = this.getClient();\n    if (!client) return null;\n    try {\n      return client.getIntegration(integration);\n    } catch (_oO) {\n      (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.warn(`Cannot retrieve integration ${integration.id} from the current Hub`);\n      return null;\n    }\n  }\n\n  /**\n   * @inheritDoc\n   */\n   startTransaction(context, customSamplingContext) {\n    return this._callExtensionMethod('startTransaction', context, customSamplingContext);\n  }\n\n  /**\n   * @inheritDoc\n   */\n   traceHeaders() {\n    return this._callExtensionMethod('traceHeaders');\n  }\n\n  /**\n   * @inheritDoc\n   */\n   captureSession(endSession = false) {\n    // both send the update and pull the session from the scope\n    if (endSession) {\n      return this.endSession();\n    }\n\n    // only send the update\n    this._sendSessionUpdate();\n  }\n\n  /**\n   * @inheritDoc\n   */\n   endSession() {\n    const layer = this.getStackTop();\n    const scope = layer.scope;\n    const session = scope.getSession();\n    if (session) {\n      closeSession(session);\n    }\n    this._sendSessionUpdate();\n\n    // the session is over; take it off of the scope\n    scope.setSession();\n  }\n\n  /**\n   * @inheritDoc\n   */\n   startSession(context) {\n    const { scope, client } = this.getStackTop();\n    const { release, environment = DEFAULT_ENVIRONMENT } = (client && client.getOptions()) || {};\n\n    // Will fetch userAgent if called from browser sdk\n    const { userAgent } = GLOBAL_OBJ.navigator || {};\n\n    const session = makeSession({\n      release,\n      environment,\n      user: scope.getUser(),\n      ...(userAgent && { userAgent }),\n      ...context,\n    });\n\n    // End existing session if there's one\n    const currentSession = scope.getSession && scope.getSession();\n    if (currentSession && currentSession.status === 'ok') {\n      updateSession(currentSession, { status: 'exited' });\n    }\n    this.endSession();\n\n    // Afterwards we set the new session on the scope\n    scope.setSession(session);\n\n    return session;\n  }\n\n  /**\n   * Returns if default PII should be sent to Sentry and propagated in ourgoing requests\n   * when Tracing is used.\n   */\n   shouldSendDefaultPii() {\n    const client = this.getClient();\n    const options = client && client.getOptions();\n    return Boolean(options && options.sendDefaultPii);\n  }\n\n  /**\n   * Sends the current Session on the scope\n   */\n   _sendSessionUpdate() {\n    const { scope, client } = this.getStackTop();\n\n    const session = scope.getSession();\n    if (session && client && client.captureSession) {\n      client.captureSession(session);\n    }\n  }\n\n  /**\n   * Internal helper function to call a method on the top client if it exists.\n   *\n   * @param method The method to call on the client.\n   * @param args Arguments to pass to the client function.\n   */\n   _withClient(callback) {\n    const { scope, client } = this.getStackTop();\n    if (client) {\n      callback(client, scope);\n    }\n  }\n\n  /**\n   * Calls global extension method and binding current instance to the function call\n   */\n  // @ts-ignore Function lacks ending return statement and return type does not include 'undefined'. ts(2366)\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n   _callExtensionMethod(method, ...args) {\n    const carrier = getMainCarrier();\n    const sentry = carrier.__SENTRY__;\n    if (sentry && sentry.extensions && typeof sentry.extensions[method] === 'function') {\n      return sentry.extensions[method].apply(this, args);\n    }\n    (typeof __SENTRY_DEBUG__ === 'undefined' || __SENTRY_DEBUG__) && logger.warn(`Extension method ${method} couldn't be found, doing nothing.`);\n  }\n}\n\n/**\n * Returns the global shim registry.\n *\n * FIXME: This function is problematic, because despite always returning a valid Carrier,\n * it has an optional `__SENTRY__` property, which then in turn requires us to always perform an unnecessary check\n * at the call-site. We always access the carrier through this function, so we can guarantee that `__SENTRY__` is there.\n **/\nfunction getMainCarrier() {\n  GLOBAL_OBJ.__SENTRY__ = GLOBAL_OBJ.__SENTRY__ || {\n    extensions: {},\n    hub: undefined,\n  };\n  return GLOBAL_OBJ;\n}\n\n/**\n * Replaces the current main hub with the passed one on the global object\n *\n * @returns The old replaced hub\n */\nfunction makeMain(hub) {\n  const registry = getMainCarrier();\n  const oldHub = getHubFromCarrier(registry);\n  setHubOnCarrier(registry, hub);\n  return oldHub;\n}\n\n/**\n * Returns the default hub instance.\n *\n * If a hub is already registered in the global carrier but this module\n * contains a more recent version, it replaces the registered version.\n * Otherwise, the currently registered hub will be returned.\n */\nfunction getCurrentHub() {\n  // Get main carrier (global for every environment)\n  const registry = getMainCarrier();\n\n  // If there's no hub, or its an old API, assign a new one\n  if (!hasHubOnCarrier(registry) || getHubFromCarrier(registry).isOlderThan(API_VERSION)) {\n    setHubOnCarrier(registry, new Hub());\n  }\n\n  // Prefer domains over global if they are there (applicable only to Node environment)\n  if (isNodeEnv()) {\n    return getHubFromActiveDomain(registry);\n  }\n  // Return hub that lives on a global object\n  return getHubFromCarrier(registry);\n}\n\n/**\n * Try to read the hub from an active domain, and fallback to the registry if one doesn't exist\n * @returns discovered hub\n */\nfunction getHubFromActiveDomain(registry) {\n  try {\n    const sentry = getMainCarrier().__SENTRY__;\n    const activeDomain = sentry && sentry.extensions && sentry.extensions.domain && sentry.extensions.domain.active;\n\n    // If there's no active domain, just return global hub\n    if (!activeDomain) {\n      return getHubFromCarrier(registry);\n    }\n\n    // If there's no hub on current domain, or it's an old API, assign a new one\n    if (!hasHubOnCarrier(activeDomain) || getHubFromCarrier(activeDomain).isOlderThan(API_VERSION)) {\n      const registryHubTopStack = getHubFromCarrier(registry).getStackTop();\n      setHubOnCarrier(activeDomain, new Hub(registryHubTopStack.client, Scope.clone(registryHubTopStack.scope)));\n    }\n\n    // Return hub that lives on a domain\n    return getHubFromCarrier(activeDomain);\n  } catch (_Oo) {\n    // Return hub that lives on a global object\n    return getHubFromCarrier(registry);\n  }\n}\n\n/**\n * This will tell whether a carrier has a hub on it or not\n * @param carrier object\n */\nfunction hasHubOnCarrier(carrier) {\n  return !!(carrier && carrier.__SENTRY__ && carrier.__SENTRY__.hub);\n}\n\n/**\n * This will create a new {@link Hub} and add to the passed object on\n * __SENTRY__.hub.\n * @param carrier object\n * @hidden\n */\nfunction getHubFromCarrier(carrier) {\n  return getGlobalSingleton('hub', () => new Hub(), carrier);\n}\n\n/**\n * This will set passed {@link Hub} on the passed object's __SENTRY__.hub attribute\n * @param carrier object\n * @param hub Hub\n * @returns A boolean indicating success or failure\n */\nfunction setHubOnCarrier(carrier, hub) {\n  if (!carrier) return false;\n  const __SENTRY__ = (carrier.__SENTRY__ = carrier.__SENTRY__ || {});\n  __SENTRY__.hub = hub;\n  return true;\n}\n\nexport { API_VERSION, Hub, getCurrentHub, getHubFromCarrier, getMainCarrier, makeMain, setHubOnCarrier };\n//# sourceMappingURL=hub.js.map\n","import { getCurrentHub } from './hub.js';\n\n// Note: All functions in this file are typed with a return value of `ReturnType<Hub[HUB_FUNCTION]>`,\n// where HUB_FUNCTION is some method on the Hub class.\n//\n// This is done to make sure the top level SDK methods stay in sync with the hub methods.\n// Although every method here has an explicit return type, some of them (that map to void returns) do not\n// contain `return` keywords. This is done to save on bundle size, as `return` is not minifiable.\n\n/**\n * Captures an exception event and sends it to Sentry.\n *\n * @param exception An exception-like object.\n * @param captureContext Additional scope data to apply to exception event.\n * @returns The generated eventId.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\nfunction captureException(exception, captureContext) {\n  return getCurrentHub().captureException(exception, { captureContext });\n}\n\n/**\n * Captures a message event and sends it to Sentry.\n *\n * @param message The message to send to Sentry.\n * @param Severity Define the level of the message.\n * @returns The generated eventId.\n */\nfunction captureMessage(\n  message,\n  // eslint-disable-next-line deprecation/deprecation\n  captureContext,\n) {\n  // This is necessary to provide explicit scopes upgrade, without changing the original\n  // arity of the `captureMessage(message, level)` method.\n  const level = typeof captureContext === 'string' ? captureContext : undefined;\n  const context = typeof captureContext !== 'string' ? { captureContext } : undefined;\n  return getCurrentHub().captureMessage(message, level, context);\n}\n\n/**\n * Captures a manually created event and sends it to Sentry.\n *\n * @param event The event to send to Sentry.\n * @returns The generated eventId.\n */\nfunction captureEvent(event, hint) {\n  return getCurrentHub().captureEvent(event, hint);\n}\n\n/**\n * Callback to set context information onto the scope.\n * @param callback Callback function that receives Scope.\n */\nfunction configureScope(callback) {\n  getCurrentHub().configureScope(callback);\n}\n\n/**\n * Records a new breadcrumb which will be attached to future events.\n *\n * Breadcrumbs will be added to subsequent events to provide more context on\n * user's actions prior to an error or crash.\n *\n * @param breadcrumb The breadcrumb to record.\n */\nfunction addBreadcrumb(breadcrumb) {\n  getCurrentHub().addBreadcrumb(breadcrumb);\n}\n\n/**\n * Sets context data with the given name.\n * @param name of the context\n * @param context Any kind of data. This data will be normalized.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction setContext(name, context) {\n  getCurrentHub().setContext(name, context);\n}\n\n/**\n * Set an object that will be merged sent as extra data with the event.\n * @param extras Extras object to merge into current context.\n */\nfunction setExtras(extras) {\n  getCurrentHub().setExtras(extras);\n}\n\n/**\n * Set key:value that will be sent as extra data with the event.\n * @param key String of extra\n * @param extra Any kind of data. This data will be normalized.\n */\nfunction setExtra(key, extra) {\n  getCurrentHub().setExtra(key, extra);\n}\n\n/**\n * Set an object that will be merged sent as tags data with the event.\n * @param tags Tags context object to merge into current context.\n */\nfunction setTags(tags) {\n  getCurrentHub().setTags(tags);\n}\n\n/**\n * Set key:value that will be sent as tags data with the event.\n *\n * Can also be used to unset a tag, by passing `undefined`.\n *\n * @param key String key of tag\n * @param value Value of tag\n */\nfunction setTag(key, value) {\n  getCurrentHub().setTag(key, value);\n}\n\n/**\n * Updates user context information for future events.\n *\n * @param user User context object to be set in the current context. Pass `null` to unset the user.\n */\nfunction setUser(user) {\n  getCurrentHub().setUser(user);\n}\n\n/**\n * Creates a new scope with and executes the given operation within.\n * The scope is automatically removed once the operation\n * finishes or throws.\n *\n * This is essentially a convenience function for:\n *\n *     pushScope();\n *     callback();\n *     popScope();\n *\n * @param callback that will be enclosed into push/popScope.\n */\nfunction withScope(callback) {\n  getCurrentHub().withScope(callback);\n}\n\n/**\n * Starts a new `Transaction` and returns it. This is the entry point to manual tracing instrumentation.\n *\n * A tree structure can be built by adding child spans to the transaction, and child spans to other spans. To start a\n * new child span within the transaction or any span, call the respective `.startChild()` method.\n *\n * Every child span must be finished before the transaction is finished, otherwise the unfinished spans are discarded.\n *\n * The transaction must be finished with a call to its `.finish()` method, at which point the transaction with all its\n * finished child spans will be sent to Sentry.\n *\n * NOTE: This function should only be used for *manual* instrumentation. Auto-instrumentation should call\n * `startTransaction` directly on the hub.\n *\n * @param context Properties of the new `Transaction`.\n * @param customSamplingContext Information given to the transaction sampling function (along with context-dependent\n * default values). See {@link Options.tracesSampler}.\n *\n * @returns The transaction which was just started\n */\nfunction startTransaction(\n  context,\n  customSamplingContext,\n) {\n  return getCurrentHub().startTransaction({ ...context }, customSamplingContext);\n}\n\nexport { addBreadcrumb, captureEvent, captureException, captureMessage, configureScope, setContext, setExtra, setExtras, setTag, setTags, setUser, startTransaction, withScope };\n//# sourceMappingURL=exports.js.map\n","import { Søknad } from 'app/context/types/Søknad';\nimport AnnenForelder, { AnnenForelderIkkeOppgitt, isAnnenForelderOppgitt } from 'app/context/types/AnnenForelder';\nimport {\n    Periode,\n    UttaksperiodeBase,\n    Periodetype,\n    isForeldrepengerFørFødselUttaksperiode,\n    isUttaksperiode,\n    Arbeidsform,\n    Utsettelsesperiode,\n} from 'uttaksplan/types/Periode';\nimport Barn, { isAdoptertBarn, isAdoptertStebarn, isFødtBarn } from 'app/context/types/Barn';\nimport Søker from 'app/context/types/Søker';\nimport Søkersituasjon from 'app/context/types/Søkersituasjon';\nimport { Situasjon } from 'app/types/Situasjon';\nimport { Søkerrolle } from 'app/types/Søkerrolle';\nimport { assertUnreachable } from 'app/utils/globalUtil';\nimport {\n    isArrayOfAttachments,\n    mapAttachmentsToSøknadForInnsending,\n    removeAttachmentsWithUploadError,\n    removeDuplicateAttachments,\n} from 'app/utils/vedleggUtils';\nimport { isValidTidsperiode } from 'app/steps/uttaksplan-info/utils/Tidsperioden';\nimport { StønadskontoType } from 'uttaksplan/types/StønadskontoType';\nimport dayjs from 'dayjs';\nimport { Uttaksdagen } from 'app/steps/uttaksplan-info/utils/Uttaksdagen';\nimport { UtsettelseÅrsakType } from 'uttaksplan/types/UtsettelseÅrsakType';\nimport { Forelder } from 'app/types/Forelder';\nimport { sorterPerioder } from 'app/steps/uttaksplan-info/utils/Periodene';\nimport { Attachment } from 'app/types/Attachment';\nimport { Tilleggsopplysninger } from 'app/context/types/Tilleggsopplysninger';\nimport { MorsAktivitet } from 'uttaksplan/types/MorsAktivitet';\nimport { andreAugust2022ReglerGjelder, førsteOktober2021ReglerGjelder } from 'app/utils/dateUtils';\nimport isFarEllerMedmor from 'app/utils/isFarEllerMedmor';\nimport { uttaksperiodeKanJusteresVedFødsel } from 'app/utils/wlbUtils';\nimport { getTermindato } from 'app/utils/barnUtils';\nimport { AxiosError } from 'axios';\nimport * as Sentry from '@sentry/browser';\nimport { guid } from '@navikt/fp-common';\nexport interface AnnenForelderOppgittForInnsending\n    extends Omit<\n        AnnenForelder,\n        'erUfør' | 'harRettPåForeldrepengerINorge' | 'harOppholdtSegIEØS' | 'harRettPåForeldrepengerIEØS'\n    > {\n    harMorUføretrygd?: boolean;\n    harRettPåForeldrepenger?: boolean;\n    harAnnenForelderOppholdtSegIEØS?: boolean;\n    harAnnenForelderTilsvarendeRettEØS?: boolean;\n}\n\nexport type AnnenForelderForInnsending = AnnenForelderIkkeOppgitt | AnnenForelderOppgittForInnsending;\n\nexport interface JusterbarPeriodeForInnsending {\n    justeresVedFødsel?: boolean;\n}\n\nexport type UttaksPeriodeForInnsending = Omit<UttaksperiodeBase, 'erMorForSyk'> & JusterbarPeriodeForInnsending;\n\nexport type PeriodeForInnsending = Exclude<Periode, 'Uttaksperiode'> | UttaksPeriodeForInnsending;\n\nexport type LocaleForInnsending = 'NB' | 'NN';\n\nexport type SøkerrolleInnsending = 'MOR' | 'FAR' | 'MEDMOR';\n\ninterface BarnPropsForAPI {\n    adopsjonAvEktefellesBarn?: boolean;\n}\n\nexport type BarnForInnsending = Omit<Barn, 'datoForAleneomsorg' | 'type'> & BarnPropsForAPI;\n\nexport interface SøkerForInnsending extends Omit<Søker, 'andreInntekterSiste10Mnd' | 'språkkode'> {\n    språkkode: LocaleForInnsending;\n    rolle: SøkerrolleInnsending;\n}\n\nexport interface SøknadForInnsending\n    extends Omit<\n        Søknad,\n        'barn' | 'annenForelder' | 'uttaksplan' | 'søker' | 'søkersituasjon' | 'tilleggsopplysninger'\n    > {\n    barn: BarnForInnsending;\n    annenForelder: AnnenForelderForInnsending;\n    uttaksplan: PeriodeForInnsending[];\n    søker: SøkerForInnsending;\n    situasjon: Situasjon;\n    tilleggsopplysninger?: string;\n}\n\nexport type EndringssøknadForInnsending = Pick<\n    SøknadForInnsending,\n    | 'type'\n    | 'saksnummer'\n    | 'erEndringssøknad'\n    | 'uttaksplan'\n    | 'vedlegg'\n    | 'søker'\n    | 'annenForelder'\n    | 'barn'\n    | 'dekningsgrad'\n    | 'situasjon'\n    | 'tilleggsopplysninger'\n    | 'ønskerJustertUttakVedFødsel'\n>;\n\nexport const FOR_MANGE_VEDLEGG_ERROR =\n    'Søknaden kan ikke inneholde flere enn 40 vedlegg. Vennligst gå tilbake, slett noen vedlegg og prøv å sende inn søknaden på nytt. Du kan ettersende vedlegg senere.';\n\nexport const FEIL_VED_INNSENDING =\n    'Det har oppstått et problem med innsending av søknaden. Vennligst prøv igjen senere. Hvis problemet vedvarer, kontakt oss og oppgi feil id: ';\n\nexport const UKJENT_UUID = 'ukjent uuid';\n\nconst getUttaksperiodeForInnsending = (\n    uttaksPeriode: UttaksperiodeBase,\n    ønskerJustertUttakVedFødsel: boolean | undefined,\n    termindato: Date | undefined\n): UttaksPeriodeForInnsending => {\n    const cleanedPeriode = changeGradertUttaksPeriode(cleanUttaksperiode(uttaksPeriode));\n    if (uttaksperiodeKanJusteresVedFødsel(ønskerJustertUttakVedFødsel, termindato, uttaksPeriode.tidsperiode.fom)) {\n        return { ...cleanedPeriode, justeresVedFødsel: true };\n    }\n    return cleanedPeriode;\n};\n\nconst cleanUttaksperiode = (uttaksPeriode: UttaksperiodeBase): UttaksPeriodeForInnsending => {\n    const { erMorForSyk, ...periodeRest } = uttaksPeriode;\n    return periodeRest;\n};\n\nconst isNotPeriodetypeHull = (periode: Periode): boolean => {\n    return periode.type !== Periodetype.Hull;\n};\n\nconst isNotPeriodetypeInfo = (periode: Periode): boolean => {\n    return periode.type !== Periodetype.Info;\n};\n\nconst isNotPeriodeUtenUttak = (periode: Periode): boolean => {\n    return periode.type !== Periodetype.PeriodeUtenUttak;\n};\n\nconst skalPeriodeSendesInn = (periode: Periode) => {\n    if (isForeldrepengerFørFødselUttaksperiode(periode)) {\n        return !periode.skalIkkeHaUttakFørTermin;\n    }\n\n    return (\n        isNotPeriodetypeHull(periode) &&\n        isNotPeriodetypeInfo(periode) &&\n        isNotPeriodeUtenUttak(periode) &&\n        !(isUttaksperiode(periode) && periode.konto === undefined)\n    );\n};\n\nconst cleanAnnenForelder = (annenForelder: AnnenForelder, erEndringssøknad = false): AnnenForelderForInnsending => {\n    if (isAnnenForelderOppgitt(annenForelder)) {\n        const {\n            erUfør,\n            erForSyk,\n            harRettPåForeldrepengerINorge,\n            harRettPåForeldrepengerIEØS,\n            harOppholdtSegIEØS,\n            ...annenForelderRest\n        } = annenForelder;\n        const cleanedAnnenForelder = {\n            harMorUføretrygd: erUfør,\n            harRettPåForeldrepenger: harRettPåForeldrepengerINorge,\n            ...annenForelderRest,\n        };\n        if (harRettPåForeldrepengerINorge) {\n            return { ...cleanedAnnenForelder, erInformertOmSøknaden: true } as AnnenForelderOppgittForInnsending;\n        }\n        if (harOppholdtSegIEØS) {\n            return {\n                ...cleanedAnnenForelder,\n                harAnnenForelderOppholdtSegIEØS: harOppholdtSegIEØS,\n                harAnnenForelderTilsvarendeRettEØS: harRettPåForeldrepengerIEØS,\n            };\n        } else if (erEndringssøknad) {\n            return { ...cleanedAnnenForelder, harAnnenForelderTilsvarendeRettEØS: harRettPåForeldrepengerIEØS };\n        } else {\n            return { ...cleanedAnnenForelder, harAnnenForelderOppholdtSegIEØS: harOppholdtSegIEØS };\n        }\n    }\n    return annenForelder;\n};\n\nconst cleanBarn = (barn: Barn): BarnForInnsending => {\n    if (isFødtBarn(barn)) {\n        const { datoForAleneomsorg, type, fnr, ...barnRest } = barn;\n\n        return barnRest;\n    }\n\n    if (isAdoptertBarn(barn)) {\n        const { datoForAleneomsorg, type, fnr, ...barnRest } = barn;\n        return {\n            adopsjonAvEktefellesBarn: isAdoptertStebarn(barn),\n            ...barnRest,\n        };\n    }\n    const { datoForAleneomsorg, type, ...barnRest } = barn;\n    return barnRest;\n};\n\nconst konverterRolle = (rolle: Søkerrolle): SøkerrolleInnsending => {\n    switch (rolle) {\n        case 'mor':\n            return 'MOR';\n        case 'far':\n            return 'FAR';\n        case 'medmor':\n            return 'MEDMOR';\n        default:\n            return assertUnreachable(rolle, 'Søkerrolle er ikke satt');\n    }\n};\n\nconst changeClientonlyKontotype = (\n    periode: Periode,\n    annenForelderHarRettPåForeldrepengerINorge: boolean,\n    morErUfør: boolean,\n    søkerErFarEllerMedmor: boolean,\n    familiehendelsesdato: Date\n) => {\n    if (isUttaksperiode(periode)) {\n        if (periode.konto === StønadskontoType.Flerbarnsdager) {\n            periode.konto = !annenForelderHarRettPåForeldrepengerINorge\n                ? StønadskontoType.Foreldrepenger\n                : StønadskontoType.Fellesperiode;\n        }\n        if (periode.konto === StønadskontoType.AktivitetsfriKvote) {\n            periode.konto = StønadskontoType.Foreldrepenger;\n            if (\n                søkerErFarEllerMedmor &&\n                !annenForelderHarRettPåForeldrepengerINorge &&\n                andreAugust2022ReglerGjelder(familiehendelsesdato)\n            ) {\n                periode.morsAktivitetIPerioden = MorsAktivitet.IkkeOppgitt;\n            } else if (morErUfør) {\n                periode.morsAktivitetIPerioden = MorsAktivitet.Uføre;\n            }\n        }\n    }\n    return periode;\n};\n\nconst getArbeidstakerFrilansSN = (arbeidsformer: Arbeidsform[] | undefined) => {\n    if (arbeidsformer !== undefined && arbeidsformer.length > 0) {\n        const arbeidsform = arbeidsformer[0];\n        return {\n            erArbeidstaker: arbeidsform === Arbeidsform.arbeidstaker,\n            erFrilanser: arbeidsform === Arbeidsform.frilans,\n            erSelvstendig: arbeidsform === Arbeidsform.selvstendignæringsdrivende,\n        };\n    } else {\n        return {};\n    }\n};\n\nconst changeGradertUttaksPeriode = (periode: UttaksPeriodeForInnsending): UttaksPeriodeForInnsending => {\n    if (periode.gradert) {\n        return { ...periode, ...getArbeidstakerFrilansSN(periode.arbeidsformer) };\n    }\n    return periode;\n};\n\nconst cleanUttaksplan = (\n    uttaksplan: Periode[],\n    familiehendelsesdato: Date,\n    søkerErFarEllerMedmor: boolean,\n    ønskerJustertUttakVedFødsel: boolean | undefined,\n    termindato: Date | undefined,\n    annenForelder?: AnnenForelder,\n    endringstidspunkt?: Date\n): PeriodeForInnsending[] => {\n    const cleanedUttaksplan = uttaksplan\n        .filter((periode: Periode) => isValidTidsperiode(periode.tidsperiode))\n        .filter(skalPeriodeSendesInn)\n        .map((periode) =>\n            annenForelder && isAnnenForelderOppgitt(annenForelder)\n                ? changeClientonlyKontotype(\n                      periode,\n                      !!annenForelder.harRettPåForeldrepengerINorge,\n                      !!annenForelder.erUfør,\n                      søkerErFarEllerMedmor,\n                      familiehendelsesdato\n                  )\n                : periode\n        )\n        .map((periode) =>\n            periode.type === Periodetype.Uttak\n                ? getUttaksperiodeForInnsending(periode, ønskerJustertUttakVedFødsel, termindato)\n                : periode\n        );\n\n    if (endringstidspunkt && førsteOktober2021ReglerGjelder(familiehendelsesdato)) {\n        const periodeVedEndringstidspunkt = getPeriodeVedTidspunkt(cleanedUttaksplan, endringstidspunkt);\n\n        if (!periodeVedEndringstidspunkt) {\n            return getUttaksplanMedFriUtsettelsesperiode(cleanedUttaksplan, endringstidspunkt);\n        }\n    }\n\n    return cleanedUttaksplan;\n};\n\nexport const getPeriodeVedTidspunkt = (uttaksplan: Periode[], tidspunkt: Date): Periode | undefined => {\n    return uttaksplan.find((periode) =>\n        dayjs(tidspunkt).isBetween(periode.tidsperiode.fom, periode.tidsperiode.tom, 'day', '[]')\n    );\n};\n\nexport const getUttaksplanMedFriUtsettelsesperiode = (uttaksplan: Periode[], endringstidspunkt: Date): Periode[] => {\n    const førstePeriodeEtterEndringstidspunkt = uttaksplan.find((periode) =>\n        dayjs(periode.tidsperiode.fom).isAfter(endringstidspunkt, 'day')\n    );\n\n    const endringsTidspunktPeriodeTom = førstePeriodeEtterEndringstidspunkt\n        ? Uttaksdagen(førstePeriodeEtterEndringstidspunkt.tidsperiode.fom).forrige()\n        : endringstidspunkt;\n\n    const endringsTidspunktPeriode: Utsettelsesperiode = {\n        type: Periodetype.Utsettelse,\n        årsak: UtsettelseÅrsakType.Fri,\n        id: guid(),\n        tidsperiode: {\n            fom: endringstidspunkt,\n            tom: endringsTidspunktPeriodeTom,\n        },\n        erArbeidstaker: false,\n        forelder: Forelder.farMedmor,\n    };\n\n    uttaksplan.push(endringsTidspunktPeriode);\n\n    uttaksplan.sort(sorterPerioder);\n\n    return uttaksplan;\n};\n\nexport const cleanSøknad = (søknad: Søknad, familiehendelsesdato: Date): SøknadForInnsending => {\n    const { søker, barn, annenForelder, søkersituasjon, tilleggsopplysninger, uttaksplan, ...rest } = søknad;\n    const annenForelderInnsending = cleanAnnenForelder(annenForelder);\n    const søkerInnsending = cleanSøker(søker, søknad.søkersituasjon);\n    const barnInnsending = cleanBarn(barn);\n    const søkerErFarEllerMedmor = isFarEllerMedmor(søknad.søkersituasjon.rolle);\n    const termindato = getTermindato(søknad.barn);\n    const uttaksplanInnsending = cleanUttaksplan(\n        uttaksplan,\n        familiehendelsesdato,\n        søkerErFarEllerMedmor,\n        søknad.ønskerJustertUttakVedFødsel,\n        termindato,\n        annenForelder\n    );\n    const tilleggsopplysningerInnsending = cleanTilleggsopplysninger(søknad.tilleggsopplysninger);\n    const cleanedSøknad: SøknadForInnsending = {\n        søker: søkerInnsending,\n        barn: barnInnsending,\n        situasjon: søknad.søkersituasjon.situasjon,\n        annenForelder: annenForelderInnsending,\n        uttaksplan: uttaksplanInnsending,\n        tilleggsopplysninger: tilleggsopplysningerInnsending,\n        ...rest,\n    };\n\n    removeDuplicateAttachments(cleanedSøknad.uttaksplan);\n\n    return mapAttachmentsToSøknadForInnsending(cleanedSøknad) as SøknadForInnsending; //TODO vedleggForSenEndring\n};\n\nconst cleanSøker = (søker: Søker, søkersituasjon: Søkersituasjon): SøkerForInnsending => {\n    const cleanedSpråkkode = søker.språkkode === 'nb' ? 'NB' : 'NN';\n    const rolle = konverterRolle(søkersituasjon.rolle);\n    return {\n        ...søker,\n        rolle: rolle,\n        språkkode: cleanedSpråkkode,\n    };\n};\n\nexport const getSøknadsdataForInnsending = (\n    originalSøknad: Søknad,\n    endringerIUttaksplan: Periode[],\n    familiehendelsesdato: Date,\n    endringstidspunkt?: Date\n): SøknadForInnsending | EndringssøknadForInnsending => {\n    const søknad: Søknad = JSON.parse(JSON.stringify(originalSøknad));\n    if (søknad.erEndringssøknad) {\n        return cleanEndringssøknad(\n            søknad,\n            endringerIUttaksplan,\n            familiehendelsesdato,\n            søknad.ønskerJustertUttakVedFødsel,\n            endringstidspunkt\n        );\n    } else {\n        return cleanSøknad(søknad, familiehendelsesdato);\n    }\n};\n\nexport const cleanAttachments = (object: any): Attachment[] => {\n    const foundAttachments = [] as Attachment[];\n\n    if (object === null || object === undefined) {\n        return foundAttachments;\n    }\n\n    Object.keys(object).forEach((key: string) => {\n        if (typeof object[key] === 'object') {\n            if (isArrayOfAttachments(object[key])) {\n                const attachmentWithoutUploadError = [...removeAttachmentsWithUploadError(object[key])];\n                foundAttachments.push(...attachmentWithoutUploadError);\n                object[key] = (object[key] as Attachment[])\n                    .filter((attachment: Attachment) => attachmentWithoutUploadError.includes(attachment))\n                    .map((attachment: Attachment) => attachment.id);\n            } else {\n                foundAttachments.push(...cleanAttachments(object[key]));\n            }\n        }\n    });\n    return foundAttachments;\n};\n\nexport const cleanEndringssøknad = (\n    søknad: Søknad,\n    endringerIUttaksplan: Periode[],\n    familiehendelsesdato: Date,\n    ønskerJustertUttakVedFødsel: boolean | undefined,\n    endringstidspunkt?: Date\n): EndringssøknadForInnsending => {\n    const søkerErFarEllerMedmor = isFarEllerMedmor(søknad.søkersituasjon.rolle);\n    const termindato = getTermindato(søknad.barn);\n    const cleanedSøknad: EndringssøknadForInnsending = {\n        erEndringssøknad: true,\n        saksnummer: søknad.saksnummer,\n        type: søknad.type,\n        uttaksplan: cleanUttaksplan(\n            endringerIUttaksplan,\n            familiehendelsesdato,\n            søkerErFarEllerMedmor,\n            ønskerJustertUttakVedFødsel,\n            termindato,\n            søknad.annenForelder,\n            endringstidspunkt\n        ),\n        vedlegg: cleanAttachments({ søknad }), //TODO: cleanUpAttachments({ cleanedSøknad, vedleggForSenEndring: søknad.vedleggForSenEndring });\n        søker: cleanSøker(søknad.søker, søknad.søkersituasjon),\n        annenForelder: cleanAnnenForelder(søknad.annenForelder, true),\n        barn: søknad.barn,\n        dekningsgrad: søknad.dekningsgrad,\n        situasjon: søknad.søkersituasjon.situasjon,\n        tilleggsopplysninger: cleanTilleggsopplysninger(søknad.tilleggsopplysninger),\n        ønskerJustertUttakVedFødsel: søknad.ønskerJustertUttakVedFødsel,\n    };\n\n    removeDuplicateAttachments(cleanedSøknad.uttaksplan);\n\n    return mapAttachmentsToSøknadForInnsending(cleanedSøknad);\n};\n\nconst cleanTilleggsopplysninger = (tilleggsopplysninger: Tilleggsopplysninger): string | undefined => {\n    const tilleggsopplysningerTilSaksbehandler = tilleggsopplysninger.begrunnelseForSenEndring?.tekst;\n    if (tilleggsopplysningerTilSaksbehandler !== undefined && tilleggsopplysningerTilSaksbehandler.length > 0) {\n        return tilleggsopplysningerTilSaksbehandler;\n    }\n    return undefined;\n};\n\nexport const sendErrorMessageToSentry = (error: AxiosError<any>) => {\n    const errorCallId = getErrorCallId(error) + '. ';\n    const errorTimestamp = getErrorTimestamp(error) + '. ';\n    const hideNumbersAndTrim = (tekst: string): string => {\n        return tekst.replace(/\\d/g, '*').slice(0, 250) + '...';\n    };\n\n    let errorString = errorCallId + errorTimestamp;\n    if (error.request && error.request.data && error.request.data.messages) {\n        errorString = errorString + hideNumbersAndTrim(error.request.data.messages);\n    } else if (error.response && error.response.data && error.response.data.messages) {\n        errorString = errorString + hideNumbersAndTrim(error.response.data.messages);\n    }\n    if (error.message) {\n        errorString = errorString + error.message;\n    }\n    Sentry.captureMessage(errorString);\n};\n\nexport const getErrorCallId = (error: AxiosError<any>): string => {\n    return error.response && error.response.data && error.response.data.uuid ? error.response.data.uuid : UKJENT_UUID;\n};\n\nexport const getErrorTimestamp = (error: AxiosError<any>): string => {\n    return error.response && error.response.data && error.response.data.timestamp ? error.response.data.timestamp : '';\n};\n","import Api from 'app/api/api';\nimport { ForeldrepengesøknadContextState } from 'app/context/ForeldrepengesøknadContextConfig';\nimport { Forelder } from 'app/types/Forelder';\nimport { UtsettelseÅrsakType } from 'uttaksplan/types/UtsettelseÅrsakType';\n\nimport { AxiosResponse } from 'axios';\n\nimport dayjs from 'dayjs';\nimport {\n    isOppholdsperiode,\n    isOverføringsperiode,\n    isUtsettelsesperiode,\n    isUttaksperiode,\n    Periode,\n    Periodetype,\n    Utsettelsesperiode,\n} from 'uttaksplan/types/Periode';\nimport { dateIsWithinRange } from './dateUtils';\nimport { guid } from '@navikt/fp-common';\n\nexport const storeAppState = (state: ForeldrepengesøknadContextState): Promise<AxiosResponse<any>> => {\n    return Api.storeAppState(state, state.søkerinfo.person.fnr);\n};\n\nexport const erPeriodeSomSkalSendesInn = (periode: Periode): boolean => {\n    return (\n        isUttaksperiode(periode) ||\n        isOverføringsperiode(periode) ||\n        isUtsettelsesperiode(periode) ||\n        isOppholdsperiode(periode)\n    );\n};\n\nexport const getPerioderSomSkalSendesInn = (\n    nyPlan: Periode[],\n    erEndringssøknad: boolean,\n    erFarEllerMedmor: boolean,\n    opprinneligPlan?: Periode[],\n    endringstidspunkt?: Date\n): Periode[] => {\n    if (opprinneligPlan) {\n        return erEndringssøknad\n            ? getEndretUttaksplanForInnsending(opprinneligPlan, nyPlan, endringstidspunkt, erFarEllerMedmor)\n            : nyPlan.filter(erPeriodeSomSkalSendesInn);\n    }\n    return nyPlan;\n};\n\nexport const finnEndringerIUttaksplan = (\n    opprinneligPlan: Periode[],\n    nyPlan: Periode[],\n    endringstidspunkt: Date,\n    erFarEllerMedmor: boolean\n): Periode[] => {\n    const nyPlanForInnsending = nyPlan\n        .filter(\n            (p) =>\n                dateIsWithinRange(endringstidspunkt, p.tidsperiode.fom, p.tidsperiode.tom) ||\n                dayjs(p.tidsperiode.fom).isSameOrAfter(dayjs(endringstidspunkt), 'day')\n        )\n        .filter(erPeriodeSomSkalSendesInn);\n\n    if (nyPlanForInnsending.length === 0 && opprinneligPlan.length > nyPlan.length) {\n        const førsteSlettedePeriode = opprinneligPlan.find((p) =>\n            dayjs(p.tidsperiode.fom).isSame(endringstidspunkt, 'day')\n        );\n        const utsettelseForSlettedePerioder = {\n            id: guid(),\n            type: Periodetype.Utsettelse,\n            tidsperiode: {\n                fom: førsteSlettedePeriode!.tidsperiode.fom,\n                tom: førsteSlettedePeriode!.tidsperiode.tom,\n            },\n            årsak: UtsettelseÅrsakType.Fri,\n            forelder: erFarEllerMedmor ? Forelder.farMedmor : Forelder.mor,\n            erArbeidstaker: false,\n        } as Utsettelsesperiode;\n        return [utsettelseForSlettedePerioder];\n    } else {\n        return nyPlanForInnsending;\n    }\n};\n\nconst getEndretUttaksplanForInnsending = (\n    opprinneligPlan: Periode[],\n    nyPlan: Periode[],\n    endringstidspunkt: Date | undefined,\n    erSøkerFarEllerMedmor: boolean\n): Periode[] => {\n    if (endringstidspunkt === undefined) {\n        return [];\n    }\n\n    return finnEndringerIUttaksplan(opprinneligPlan, nyPlan, endringstidspunkt, erSøkerFarEllerMedmor);\n};\n","import actionCreator from '../../context/action/actionCreator';\nimport SøknadRoutes from '../../routes/routes';\nimport { useForeldrepengesøknadContext } from '../../context/hooks/useForeldrepengesøknadContext';\nimport { useEffect, useRef } from 'react';\nimport { storeAppState } from '../submitUtils';\nimport { redirectToLogin } from '../redirectToLogin';\n\nconst useSaveLoadedRoute = (currentRoute: SøknadRoutes) => {\n    const { dispatch, state } = useForeldrepengesøknadContext();\n    const routeHasBeenSaved = useRef(false);\n\n    useEffect(() => {\n        if (!routeHasBeenSaved.current) {\n            routeHasBeenSaved.current = true;\n            dispatch(actionCreator.updateCurrentRoute(currentRoute));\n            storeAppState({ ...state, currentRoute }).catch((error) => {\n                if (error.response && (error.response.status === 401 || error.response.status === 403)) {\n                    redirectToLogin();\n                }\n            });\n        }\n    }, [currentRoute, dispatch, state]);\n};\n\nexport default useSaveLoadedRoute;\n"],"names":["objectToString","isBuiltin","wat","className","isPlainObject","isThenable","isGlobalObj","obj","GLOBAL_OBJ","getGlobalObject","getGlobalSingleton","name","creator","gbl","__SENTRY__","PREFIX","CONSOLE_LEVELS","consoleSandbox","callback","originalConsole","wrappedLevels","level","originalWrappedFunc","makeLogger","enabled","logger","args","dropUndefinedKeys","inputValue","_dropUndefinedKeys","memoizationMap","memoVal","returnValue","key","item","uuid4","crypto","getRandomByte","c","arrayify","maybeArray","isBrowserBundle","isNodeEnv","dynamicRequire","mod","request","States","RESOLVED","REJECTED","SyncPromise","executor","e","onfulfilled","onrejected","resolve","reject","result","reason","val","onfinally","isRejected","value","state","cachedHandlers","handler","WINDOW","dateTimestampSource","getBrowserPerformance","performance","timeOrigin","getNodePerformance","platformPerformance","timestampSource","dateTimestampInSeconds","timestampInSeconds","threshold","performanceNow","dateNow","timeOriginDelta","timeOriginIsReliable","navigationStart","navigationStartDelta","navigationStartIsReliable","DEFAULT_ENVIRONMENT","makeSession","context","startingTime","session","sessionToJSON","updateSession","duration","closeSession","status","DEFAULT_MAX_BREADCRUMBS","Scope","scope","newScope","user","requestSession","tags","extras","extra","fingerprint","span","captureContext","updatedScope","breadcrumb","maxBreadcrumbs","maxCrumbs","mergedBreadcrumb","attachment","event","hint","transactionName","getGlobalEventProcessors","newData","processors","index","processor","final","API_VERSION","DEFAULT_BREADCRUMBS","Hub","client","_version","version","top","exception","eventId","syntheticException","message","beforeBreadcrumb","finalBreadcrumb","oldHub","makeMain","integration","customSamplingContext","endSession","release","environment","userAgent","currentSession","options","method","sentry","getMainCarrier","hub","registry","getHubFromCarrier","setHubOnCarrier","getCurrentHub","hasHubOnCarrier","getHubFromActiveDomain","activeDomain","registryHubTopStack","carrier","captureException","captureMessage","withScope","FOR_MANGE_VEDLEGG_ERROR","FEIL_VED_INNSENDING","UKJENT_UUID","getUttaksperiodeForInnsending","uttaksPeriode","ønskerJustertUttakVedFødsel","termindato","cleanedPeriode","changeGradertUttaksPeriode","cleanUttaksperiode","uttaksperiodeKanJusteresVedFødsel","erMorForSyk","periodeRest","isNotPeriodetypeHull","periode","Periodetype","isNotPeriodetypeInfo","isNotPeriodeUtenUttak","skalPeriodeSendesInn","isForeldrepengerFørFødselUttaksperiode","isUttaksperiode","cleanAnnenForelder","annenForelder","erEndringssøknad","isAnnenForelderOppgitt","erUfør","erForSyk","harRettPåForeldrepengerINorge","harRettPåForeldrepengerIEØS","harOppholdtSegIEØS","annenForelderRest","cleanedAnnenForelder","cleanBarn","barn","isFødtBarn","datoForAleneomsorg","type","fnr","barnRest","isAdoptertBarn","isAdoptertStebarn","konverterRolle","rolle","assertUnreachable","changeClientonlyKontotype","annenForelderHarRettPåForeldrepengerINorge","morErUfør","søkerErFarEllerMedmor","familiehendelsesdato","StønadskontoType","andreAugust2022ReglerGjelder","MorsAktivitet","getArbeidstakerFrilansSN","arbeidsformer","arbeidsform","Arbeidsform","cleanUttaksplan","uttaksplan","endringstidspunkt","cleanedUttaksplan","isValidTidsperiode","førsteOktober2021ReglerGjelder","getPeriodeVedTidspunkt","getUttaksplanMedFriUtsettelsesperiode","tidspunkt","dayjs","førstePeriodeEtterEndringstidspunkt","endringsTidspunktPeriodeTom","Uttaksdagen","endringsTidspunktPeriode","UtsettelseÅrsakType","guid","Forelder","sorterPerioder","cleanSøknad","søknad","søker","søkersituasjon","tilleggsopplysninger","rest","annenForelderInnsending","søkerInnsending","cleanSøker","barnInnsending","isFarEllerMedmor","getTermindato","uttaksplanInnsending","tilleggsopplysningerInnsending","cleanTilleggsopplysninger","cleanedSøknad","removeDuplicateAttachments","mapAttachmentsToSøknadForInnsending","cleanedSpråkkode","getSøknadsdataForInnsending","originalSøknad","endringerIUttaksplan","cleanEndringssøknad","cleanAttachments","object","foundAttachments","isArrayOfAttachments","attachmentWithoutUploadError","removeAttachmentsWithUploadError","tilleggsopplysningerTilSaksbehandler","_a","sendErrorMessageToSentry","error","errorCallId","getErrorCallId","errorTimestamp","getErrorTimestamp","hideNumbersAndTrim","tekst","errorString","Sentry.captureMessage","storeAppState","Api","erPeriodeSomSkalSendesInn","isOverføringsperiode","isUtsettelsesperiode","isOppholdsperiode","getPerioderSomSkalSendesInn","nyPlan","erFarEllerMedmor","opprinneligPlan","getEndretUttaksplanForInnsending","finnEndringerIUttaksplan","nyPlanForInnsending","p","dateIsWithinRange","førsteSlettedePeriode","erSøkerFarEllerMedmor","useSaveLoadedRoute","currentRoute","dispatch","useForeldrepengesøknadContext","routeHasBeenSaved","useRef","useEffect","actionCreator","redirectToLogin"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13]}