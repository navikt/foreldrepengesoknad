import{j as t}from"./jsx-runtime-1caa8f64.js";import{r as A}from"./index-1cdf6ce0.js";import{b as o,j as u,u as F,a2 as V,c as f,a3 as j,a4 as K,a5 as h,a6 as k,i as m}from"./Tidsperioden-3740d843.js";import"./index-753920cd.js";import"./_baseToString-43959ddd.js";import"./_createSet-fe2162c5.js";import{g as G,E as y}from"./apiInterceptor-716e24db.js";import{A as M}from"./AttachmentList-36ade0db.js";import{U,u as B,V as P,l as b}from"./IntlProvider-4448d7ec.js";import"./dates-096df86f.js";import{E as I}from"./ExpansionCard-7ff5568c.js";import{L as C,B as q}from"./Link-d47e444a.js";var z=(e=>(e.OMSORGSOVERTAKELSE="omsorgsovertakelse",e.ADOPSJONSVEDTAK="adopsjonsvedtak",e.TERMINBEKREFTELSE="terminbekreftelse",e.FØDSELSATTEST="fødselsattest",e.ANNEN_INNTEKT="anneninntektDokumentasjon",e.UTSETTELSE_SYKDOM="utsettelseSykdomUttaksplan",e.MORS_AKTIVITET_DOKUMENTASJON="morsaktivitetdokumentasjon",e.OVERFØRING_KVOTE="dokumentasjonOverføringAvKvote",e.ALENEOMSORG="dokumentasjonAvAleneomsorg",e.HV_ØVELSE="hvØvelse",e.NAV_TILTAK="navTiltak",e.TILRETTELEGGING="tilrettelegging",e))(z||{}),Y=(e=>(e.ANNET="I000060",e.BEKREFTELSE_DELTAR_KVALIFISERINGSPROGRAM="I000051",e.BEKREFTELSE_FRA_STUDIESTED="I000061",e.DOKUMENTASJON_AV_TERMIN_ELLER_FØDSEL="I000041",e.DOK_AV_ALENEOMSORG="I000110",e.DOK_BEGRUNNELSE_SØKE_TILBAKE_I_TID="I000111",e.DOK_DELTAKELSE_I_INTRODUKSJONSPROGRAMMET="I000112",e.DOK_INNLEGGELSE="I000037",e.DOK_MILITÆR_SILVIL_TJENESTE="I000039",e.DOK_MORS_UTDANNING_ARBEID_SYKDOM="I000038",e.DOK_OVERFØRING_FOR_SYK="I000023",e.ETTERLØNN_ELLER_SLUTTVEDERLAG="I000044",e.INNTEKTSOPPLYSNINGER_FRILANS_ELLER_SELVSTENDIG="I000007",e.OMSORGSOVERTAKELSESDATO="I000042",e.TERMINBEKREFTELSE="I000062",e.HV_ØVELSE="I000116",e.NAV_TILTAK="I000117",e))(Y||{});const w=()=>t.jsx(U,{children:t.jsxs(I,{size:"small","aria-label":B().formatMessage({id:"ScanDocumentInfo.Tittel"}),children:[t.jsx(I.Header,{children:t.jsx(I.Title,{size:"small",as:"h4",children:t.jsx(o,{id:"ScanDocumentInfo.Tittel"})})}),t.jsx(I.Content,{children:t.jsxs(P,{gap:"5",children:[t.jsx(u,{children:t.jsx(o,{id:"ScanDocumentInfo.Del1"})}),t.jsxs("ul",{children:[t.jsx(u,{children:t.jsx(o,{tagName:"li",id:"ScanDocumentInfo.Liste.Punkt1"})}),t.jsx(u,{children:t.jsx(o,{tagName:"li",id:"ScanDocumentInfo.Liste.Punkt2"})}),t.jsx(u,{children:t.jsx(o,{tagName:"li",id:"ScanDocumentInfo.Liste.Punkt3"})}),t.jsx(u,{children:t.jsx(o,{tagName:"li",id:"ScanDocumentInfo.Liste.Punkt4"})}),t.jsx(u,{children:t.jsx(o,{tagName:"li",id:"ScanDocumentInfo.Liste.Punkt5"})})]}),t.jsx(u,{children:t.jsx(o,{id:"ScanDocumentInfo.Del2"})}),t.jsx(u,{children:t.jsx(C,{href:b.scanneDokument,target:"_blank",children:t.jsx(o,{id:"ScanDocumentInfo.Link"})})})]})})]})});function J(e){const n={withCredentials:!0,timeout:45e3,headers:{"content-type":"multipart/form-data"}},a=new FormData;a.append("id",e.id),a.append("vedlegg",e.file,e.filename);const s=`${y.REST_API_URL}/storage/foreldrepenger/vedlegg`;return G().post(s,a,n)}const H={saveAttachment:J},v=[".pdf",".jpeg",".jpg",".png"],T=16777,$=.0009765625,X=(e,n,a)=>e.map(s=>{const i=k(s,n,a);return i.pending=!0,i}),W=e=>{const n=e.split(".").pop();return v.includes(`.${n.toLowerCase()}`)},Q=e=>e*$<=T,Z=(e,n,a)=>e.filter(s=>{const i=W(s.filename);i||n(l=>l.concat(m(a,"vedlegg.feilmelding.ugyldig.type",{filename:s.filename})));const d=Q(s.filesize);return d||n(l=>l.concat(m(a,"vedlegg.feilmelding.ugyldig.størrelse",{filename:s.filename,maxStørrelse:T}))),i&&d}),ee=(e,n,a,s,i,d)=>{e.forEach(async(l,E)=>{try{const c=await H.saveAttachment(l);l.pending=!1,l.url=c.headers.location,l.uploaded=!0,l.uuid=c.data,n(i+E,l)}catch{a(i+E),s(p=>p.concat(m(d,"vedlegg.feilmelding.opplasting.feilet",{filename:l.filename})))}})},_=({attachments:e,name:n,onFileInputClick:a,attachmentType:s,skjemanummer:i,label:d,legend:l,...E})=>{const c=F(),{setFieldValue:p}=V(),[S,g]=A.useState([]);return t.jsxs(t.Fragment,{children:[t.jsx(f,{padBottom:"xl",children:t.jsx(j,{legend:l,buttonLabel:d,name:n,accept:v.join(", "),onFilesSelect:(r,{push:N,replace:D,remove:x})=>{const R=X(r,s,i),L=Z(R,g,c);L.forEach(O=>N(O)),ee(L,D,x,g,e.length,c)},onClick:a,error:S.length>0?S.map(r=>t.jsx(q,{children:r},r)):void 0,...E})}),t.jsx(f,{padBottom:"xl",visible:e.length>0,children:t.jsx(M,{attachments:e.filter(r=>!K(r)),showFileSize:!0,onDelete:r=>{p(n,h(e,r))}})}),t.jsx(f,{padBottom:"l",children:t.jsx(w,{})})]})},Ie=_;try{_.displayName="FormikFileUploader",_.__docgenInfo={description:"",displayName:"FormikFileUploader",props:{attachments:{defaultValue:null,description:"",name:"attachments",required:!0,type:{name:"Attachment[]"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"any"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},attachmentType:{defaultValue:null,description:"",name:"attachmentType",required:!0,type:{name:"enum",value:[{value:'"omsorgsovertakelse"'},{value:'"adopsjonsvedtak"'},{value:'"terminbekreftelse"'},{value:'"fødselsattest"'},{value:'"anneninntektDokumentasjon"'},{value:'"utsettelseSykdomUttaksplan"'},{value:'"morsaktivitetdokumentasjon"'},{value:'"dokumentasjonOverføringAvKvote"'},{value:'"dokumentasjonAvAleneomsorg"'},{value:'"hvØvelse"'},{value:'"navTiltak"'},{value:'"tilrettelegging"'}]}},skjemanummer:{defaultValue:null,description:"",name:"skjemanummer",required:!0,type:{name:"enum",value:[{value:'"I000060"'},{value:'"I000051"'},{value:'"I000061"'},{value:'"I000041"'},{value:'"I000110"'},{value:'"I000111"'},{value:'"I000112"'},{value:'"I000037"'},{value:'"I000039"'},{value:'"I000038"'},{value:'"I000023"'},{value:'"I000044"'},{value:'"I000007"'},{value:'"I000042"'},{value:'"I000062"'},{value:'"I000116"'},{value:'"I000117"'}]}},legend:{defaultValue:null,description:"",name:"legend",required:!0,type:{name:"string"}},onFileInputClick:{defaultValue:null,description:"",name:"onFileInputClick",required:!1,type:{name:"(() => void)"}}}}}catch{}export{z as A,Ie as F,Y as S,H as a};
