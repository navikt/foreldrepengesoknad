import{j as e}from"./jsx-runtime-Cw0GR0a5.js";import{u as P,C as R,a as H}from"./FpDataContext-BUlrLNeW.js";import{N as X,s as Q,b as Y,c as Z,d as $,g as ee,h as T,i as A,u as re,a as ne}from"./useFpNavigator-Bs7XeobI.js";import{h as z,b as x,a as ae,j as _,c as N,d as se,u as te,R as le,E as oe,S as ie}from"./ErrorSummaryHookForm-lwDMm-nr.js";import{u as C,M as m,a as de,B as me}from"./Label-Da2udS5t.js";import{g as ce,v as fe,l as ge,m as pe}from"./barnUtils-D8JtnNHc.js";import{c as p,R as f,r as O,A as B,d as he,u as ue,N as Fe,n as D,O as V,b as ve,P as w}from"./Uttaksplan-BJRvRmWf.js";import{r as b}from"./index-CTjT7uj6.js";import{d as xe,c as je,b as Oe}from"./UttaksdagenString-CX13rlbn.js";import{R as ke}from"./RegistrertePersonalia-DYG_19Mk.js";import"./index-BbmHap-z.js";import{V as y}from"./VStack-DPZ5Pzm1.js";/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function U(){return U=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},U.apply(this,arguments)}function Se(r,t){if(r==null)return{};var n={},a=Object.keys(r),l,s;for(s=0;s<a.length;s++)l=a[s],!(t.indexOf(l)>=0)&&(n[l]=r[l]);return n}function Re(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function be(r,t){return r.button===0&&(!t||t==="_self")&&!Re(r)}const Me=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ie="6";try{window.__reactRouterVersion=Ie}catch{}const Ee=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Pe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ae=b.forwardRef(function(t,n){let{onClick:a,relative:l,reloadDocument:s,replace:c,state:g,target:i,to:o,preventScrollReset:d,viewTransition:v}=t,h=Se(t,Me),{basename:M}=b.useContext(X),j,k=!1;if(typeof o=="string"&&Pe.test(o)&&(j=o,Ee))try{let F=new URL(window.location.href),S=o.startsWith("//")?new URL(F.protocol+o):new URL(o),L=Q(S.pathname,M);S.origin===F.origin&&L!=null?o=L+S.search+S.hash:k=!0}catch{}let u=Y(o,{relative:l}),I=Ne(o,{replace:c,state:g,target:i,preventScrollReset:d,relative:l,viewTransition:v});function E(F){a&&a(F),F.defaultPrevented||I(F)}return b.createElement("a",U({},h,{href:j||u,onClick:k||s?a:E,ref:n,target:i}))});var K;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(K||(K={}));var J;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(J||(J={}));function Ne(r,t){let{target:n,replace:a,state:l,preventScrollReset:s,relative:c,viewTransition:g}=t===void 0?{}:t,i=Z(),o=$(),d=ee(r,{relative:c});return b.useCallback(v=>{if(be(v,n)){v.preventDefault();let h=a!==void 0?a:T(o)===T(d);i(r,{replace:h,state:l,preventScrollReset:s,relative:c,viewTransition:g})}},[o,i,d,a,l,n,r,s,c,g])}const we=r=>!r.kanIkkeOppgis,G=({rolle:r,barn:t})=>{const n=C(),a=ce(t),s=z().watch();if(!we(s))throw Error("Annen forelder skal alltid være oppgitt her");return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs(x,{name:"erAleneOmOmsorg",label:n.formatMessage({id:"annenForelder.aleneOmOmsorg"}),validate:[p(n.formatMessage({id:"valideringsfeil.annenForelder.harAleneOmsorgPåkrevd"}))],children:[e.jsx(f,{value:!1,children:e.jsx(m,{id:"annenForelder.aleneOmOmsorg.ja"})}),e.jsx(f,{value:!0,children:e.jsx(m,{id:"annenForelder.aleneOmOmsorg.nei"})})]}),e.jsx(O,{header:n.formatMessage({id:"annenForelder.aleneOmOmsorg.apneLabel"}),children:e.jsxs(y,{gap:"4",children:[e.jsx(de,{children:e.jsx(m,{id:"annenForelder.aleneOmOmsorg.del1"})}),e.jsx(me,{children:e.jsx(m,{id:"annenForelder.aleneOmOmsorg.del2"})})]})})]}),!A(r)&&s.erAleneOmOmsorg===!0&&e.jsx(B,{variant:"info",children:e.jsx(m,{id:"annenForelder.veileder.aleneOmsorg.forBarnet"})}),s.erAleneOmOmsorg===!0&&A(r)&&e.jsx(ae,{name:"datoForAleneomsorg",label:n.formatMessage({id:"annenForelder.datoForAleneomsorg"}),minDate:xe(a).toDate(),validate:[p(n.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.duMåOppgi"})),he(n.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.ugyldigDatoFormat"})),ue(n.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.førFamiliehendelsedato"},{dato:a}),a)]}),s.erAleneOmOmsorg!==!0&&e.jsxs("div",{children:[e.jsxs(x,{name:"harRettPåForeldrepengerINorge",label:n.formatMessage({id:"annenForelder.harRettPåForeldrepengerINorge"}),validate:[p(n.formatMessage({id:"valideringsfeil.annenForelder.harRettTilForeldrepengerPåkrevd"}))],children:[e.jsx(f,{value:!0,children:"Ja"}),e.jsx(f,{value:!1,children:"Nei"})]}),e.jsxs(O,{header:n.formatMessage({id:"annenForelder.harRettPåForeldrepengerINorge.veileder.apneLabel"}),children:[e.jsx(m,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder"}),e.jsxs("ul",{style:{margin:"0",padding:"1rem 2rem 0"},children:[e.jsx("li",{children:e.jsx(m,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt1"})}),e.jsx("li",{children:e.jsx(m,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt2"})}),e.jsx("li",{children:e.jsx(m,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt3"})})]})]})]}),s.erAleneOmOmsorg===!1&&s.harRettPåForeldrepengerINorge===!1&&e.jsxs("div",{children:[e.jsxs(x,{name:"harOppholdtSegIEØS",label:n.formatMessage({id:"annenForelder.harOppholdtSegIEØS"}),validate:[p(n.formatMessage({id:"valideringsfeil.annenForelder.harOppholdtSegIEØS"}))],children:[e.jsx(f,{value:!0,children:"Ja"}),e.jsx(f,{value:!1,children:"Nei"})]}),e.jsx(O,{header:n.formatMessage({id:"annenForelder.harOppholdtSegIEØS.veileder.apneLabel"}),children:e.jsx(m,{id:"annenForelder.harOppholdtSegIEØS.veileder"})})]}),s.erAleneOmOmsorg===!1&&s.harOppholdtSegIEØS===!0&&e.jsxs("div",{children:[e.jsxs(x,{name:"harRettPåForeldrepengerIEØS",label:n.formatMessage({id:"annenForelder.harRettPåForeldrepengerIEØS"}),validate:[p(n.formatMessage({id:"valideringsfeil.annenForelder.harRettPåForeldrepengerIEØS"}))],children:[e.jsx(f,{value:!0,children:"Ja"}),e.jsx(f,{value:!1,children:"Nei"})]}),e.jsx(O,{header:n.formatMessage({id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.apneLabel"}),children:e.jsxs(y,{gap:"4",children:[e.jsx("div",{children:e.jsx(m,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.del1"})}),e.jsx(m,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.del2"}),e.jsx(Ae,{to:"https://www.nav.no/foreldrepenger#utland",target:"_blank",children:e.jsx(m,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.link"})})]})})]}),s.erAleneOmOmsorg!==!0&&s.harRettPåForeldrepengerINorge!==!1&&e.jsxs(e.Fragment,{children:[e.jsxs(x,{name:"erInformertOmSøknaden",label:n.formatMessage({id:"annenForelder.spørsmål.erAnnenForelderInformert"}),validate:[p(n.formatMessage({id:"valideringsfeil.annenForelder.informertAnnenForelderPåkrevd"})),c=>c===!1?n.formatMessage({id:"annenForelder.erAnnenForelderInformert.veileder"}):null],children:[e.jsx(f,{value:!0,children:"Ja"}),e.jsx(f,{value:!1,children:"Nei"})]}),s.erInformertOmSøknaden===!1&&e.jsx(B,{variant:"warning",children:e.jsx(m,{id:"annenForelder.erAnnenForelderInformert.veileder"})})]}),s.erAleneOmOmsorg===!1&&s.harRettPåForeldrepengerINorge===!1&&(s.harOppholdtSegIEØS===!1||s.harRettPåForeldrepengerIEØS===!1)&&A(r)&&e.jsxs("div",{children:[e.jsxs(x,{name:"erMorUfør",label:n.formatMessage({id:"annenForelder.erMorUfør"}),validate:[p(n.formatMessage({id:"valideringsfeil.annenForelder.erMorUfør"}))],children:[e.jsx(f,{value:!0,children:"Ja"}),e.jsx(f,{value:!1,children:"Nei"})]}),e.jsx(O,{header:n.formatMessage({id:"annenForelder.erMorUfør.veileder.apneLabel"}),children:e.jsx(m,{id:"annenForelder.erMorUfør.veileder"})})]})]})};G.__docgenInfo={description:"",methods:[],displayName:"AnnenForelderOppgittPanel"};const W=(r,t)=>n=>ge(n,t,r),ye=(r,t)=>t?!1:r!=="medmor",q=({søkersFødselsnummer:r,rolle:t,barn:n})=>{const a=C(),l=Oe("width"),s=z(),c=s.watch("fornavn"),g=s.watch("utenlandskFnr"),i=s.watch("kanIkkeOppgis");return e.jsxs(e.Fragment,{children:[ye(t,Fe(n))&&e.jsx(_,{name:"kanIkkeOppgis",label:a.formatMessage({id:"annenForelder.spørsmål.kanOppgis"})}),!i&&e.jsxs(e.Fragment,{children:[e.jsx(N,{name:"fornavn",label:e.jsx(m,{id:"annenForelder.spørsmål.fornavn"}),validate:[p(a.formatMessage({id:"valideringsfeil.annenForelder.fornavnPåkrevd"})),W(a,"annenForelder.spørsmål.fornavn")],className:l.block}),e.jsx(N,{name:"etternavn",label:e.jsx(m,{id:"annenForelder.spørsmål.etternavn"}),validate:[p(a.formatMessage({id:"valideringsfeil.annenForelder.etternavnPåkrevd"})),W(a,"annenForelder.spørsmål.etternavn")],className:l.block})]}),!i&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(N,{name:"fnr",label:a.formatMessage({id:"annenForelder.spørsmål.fnr"},{navn:c}),validate:[p(a.formatMessage({id:"valideringsfeil.annenForelder.fnrPåkrevd"})),fe(a,r,a.formatMessage({id:"annenForelder.spørsmål.fnr"},{navn:c}),g)],className:l.block}),e.jsx(_,{name:"utenlandskFnr",label:a.formatMessage({id:"annenForelder.spørsmål.utenlandskFnr"})})]}),g&&e.jsx(se,{name:"bostedsland",label:a.formatMessage({id:"annenForelder.bostedsland"}),validate:[p(a.formatMessage({id:"valideringsfeil.annenForelder.bostedslandPåkrevd"}))],children:je().map(o=>e.jsx("option",{value:o[0],children:o[1]},o[0]))})]})]})};q.__docgenInfo={description:"",methods:[],displayName:"OppgiPersonalia"};const Ue=(r,t)=>{const n=pe(r,t.barn),a=n===void 0||n.length===0?void 0:n.find(l=>l.annenForelder!==void 0);return a!==void 0?a.annenForelder:void 0},Ce=({søkerInfo:r,mellomlagreSøknadOgNaviger:t,avbrytSøknad:n})=>{const a=C(),l=re(r.arbeidsforhold),s=ne(r.arbeidsforhold,t),{rolle:c}=D(P(R.SØKERSITUASJON)),g=D(P(R.OM_BARNET)),i=P(R.ANNEN_FORELDER),o=H(R.ANNEN_FORELDER),d=Ue(g,r.søker),v=i!==void 0&&V(i)&&i.fnr!==(d==null?void 0:d.fnr),h=d===void 0||v,M=u=>{if(u.kanIkkeOppgis===!0)o({kanIkkeOppgis:!0});else{const I=!h&&d?d.fornavn:u.fornavn,E=!h&&d?d.etternavn:u.etternavn,F=!h&&d?d.fnr:u.fnr;o({...u,kanIkkeOppgis:!1,fornavn:w(I)??"",etternavn:w(E)??"",fnr:w(F.trim())??"",harRettPåForeldrepengerIEØS:u.harOppholdtSegIEØS?u.harRettPåForeldrepengerIEØS:!1})}return s.goToNextDefaultStep()},j=te({shouldUnregister:!0,defaultValues:i&&V(i)&&i.fornavn===a.formatMessage({id:"annen.forelder"})?{...i,fornavn:""}:i}),k=j.watch("kanIkkeOppgis");return e.jsx(ve,{bannerTitle:a.formatMessage({id:"søknad.pageheading"}),onCancel:n,onContinueLater:s.fortsettSøknadSenere,steps:l,children:e.jsx(le,{formMethods:j,onSubmit:M,children:e.jsxs(y,{gap:"10",children:[e.jsx(oe,{}),h&&e.jsx(q,{rolle:c,barn:g,søkersFødselsnummer:r.søker.fnr}),!h&&e.jsx(ke,{person:d,fødselsnummerForVisning:d.fnr,visEtternavn:!0}),k!==!0&&e.jsx(G,{rolle:c,barn:g,annenForelder:i,søker:r.søker}),e.jsx(ie,{goToPreviousStep:s.goToPreviousDefaultStep})]})})})};Ce.__docgenInfo={description:"",methods:[],displayName:"AnnenForelderSteg"};export{Ce as A};
