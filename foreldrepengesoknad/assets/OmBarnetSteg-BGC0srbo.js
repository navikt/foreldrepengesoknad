import{j as e}from"./jsx-runtime-Cw0GR0a5.js";import{u as _,C as D,a as me}from"./FpDataContext-BUlrLNeW.js";import{i as j,g as w,u as ue,a as fe}from"./useFpNavigator-Djc7pxzc.js";import{d,q as L,r as E,s as U,t as ge}from"./UttaksdagenString-BBvBeCjL.js";import{r as C}from"./index-CTjT7uj6.js";import{a as k,h as A,i as pe,b as S,d as H,u as ce,R as ve,E as Be,S as je}from"./ErrorSummaryHookForm-C0QPhQQH.js";import{u as x,L as ke,M as u,a as he,B as I,H as ye}from"./Label-Da2udS5t.js";import{s as xe,d as R,x as Me,y as V,z as be,A as Fe,B as Te,C as Se,D as G,E as Ae,g as qe,e as De,F as Ie}from"./barnUtils-CR7G9lch.js";import{c as g,d as h,e as z,t as we,R as p,l as Ee,z as Oe,V as Ne,p as J,W as Pe,A as _e,X as W,Y as O,Z as Ue,K as Re,B as v,n as Ve,b as Ke}from"./Uttaksplan-BlsrIWkz.js";import{R as K}from"./RegistrertePersonalia-1cR7agsh.js";import{V as B,H as Le}from"./VStack-DPZ5Pzm1.js";d.extend(L);d.extend(E);const X=({valgteRegistrerteBarn:r,skalInkludereTermindato:a})=>{const t=x(),n=r.every(i=>!i.dødsdato),o=[...r].sort(xe),l=o.map(i=>i.fødselsdato),s=o[0].fødselsdato;return e.jsxs(e.Fragment,{children:[e.jsxs(B,{gap:"2",children:[e.jsx(ke,{children:e.jsx(u,{id:"omBarnet.valgteBarn.tittel",values:{antallBarn:o.length}})}),n?o.map(i=>e.jsx(K,{person:i,fødselsdatoForVisning:R([i.fødselsdato]),visEtternavn:!1},i.fnr)):e.jsx(K,{person:o[0],fødselsdatoForVisning:R(l),altTekstHvisUkjentNavn:Me(void 0,l,o.length,t),visEtternavn:!1})]}),a&&e.jsx(k,{name:"termindato",label:t.formatMessage({id:"omBarnet.termindato.født"}),defaultMonth:s,minDate:d(s).subtract(1,"months").toDate(),maxDate:d(s).add(6,"months").toDate(),validate:[g(t.formatMessage({id:"valideringsfeil.omBarnet.termindato.duMåOppgi"})),h(t.formatMessage({id:"valideringsfeil.omBarnet.termindato.ugyldigDatoFormat"})),i=>{if(!d(i).subtract(6,"months").isSameOrBefore(d(s),"day"))return t.formatMessage({id:"valideringsfeil.omBarnet.termindato.forLangtFremITid"});if(!d(i).add(1,"months").isSameOrAfter(d(s),"day"))return t.formatMessage({id:"valideringsfeil.omBarnet.termindato.forLangtTilbakeITid"})}]})]})};X.__docgenInfo={description:"",methods:[],displayName:"ValgteRegistrerteBarn",props:{valgteRegistrerteBarn:{required:!0,tsType:{name:"Array",elements:[{name:"intersection",raw:`{
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: SøkerAnnenForelder;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: SøkerAnnenForelder;
}`,signature:{properties:[{key:"kjønn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"dødsdato",value:{name:"string",required:!1}},{key:"annenForelder",value:{name:"intersection",raw:`{
    fødselsdato?: string;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    fødselsdato?: string;
}`,signature:{properties:[{key:"fødselsdato",value:{name:"string",required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}],required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}]}],raw:"SøkerBarn[]"},description:""},skalInkludereTermindato:{required:!0,tsType:{name:"boolean"},description:""}}};const Ce=(r,a)=>t=>{if(!a)return;const n=d(t).startOf("day").add(15,"year");return d(a).isBetween(t,n,null,"[]")?void 0:r},He=r=>{switch(r){case 1:return e.jsx(u,{id:"omBarnet.fødselsdato.adopsjon.1"});case 2:return e.jsx(u,{id:"omBarnet.fødselsdato.adopsjon.2"});case 3:return e.jsx(u,{id:"omBarnet.fødselsdato.adopsjon.3"});case 4:return e.jsx(u,{id:"omBarnet.fødselsdato.adopsjon.4"});case 5:return e.jsx(u,{id:"omBarnet.fødselsdato.adopsjon.5"});case 6:return e.jsx(u,{id:"omBarnet.fødselsdato.adopsjon.6"});case 7:return e.jsx(u,{id:"omBarnet.fødselsdato.adopsjon.7"});case 8:return e.jsx(u,{id:"omBarnet.fødselsdato.adopsjon.8"});case 9:return e.jsx(u,{id:"omBarnet.fødselsdato.adopsjon.9"});default:throw new Error("Antall barn ikke supportert: "+r)}},$=({adopsjonsdato:r,antallBarn:a,antallBarnDropDown:t})=>{const n=x(),{control:o}=A(),{fields:l,remove:s,append:i}=pe({control:o,name:"fødselsdatoer"});return C.useEffect(()=>{if(!a||a===3&&!t)return;const m=a<3||!t?a:Number.parseInt(t,10),f=l.length-m;f>0&&[...new Array(f)].forEach((c,y)=>{s(l.length-y-1)}),f<0&&[...new Array(m-l.length)].forEach(()=>{i({dato:void 0})})},[a,t,i,l.length,s]),e.jsx(B,{gap:"10",children:l.map((m,f)=>e.jsx(k,{name:`fødselsdatoer.${f}.dato`,minDate:d(r).subtract(15,"years").toDate(),maxDate:r&&U(r)?d(r).toDate():d(),defaultMonth:r&&U(r)?r:d(),label:l.length===1?n.formatMessage({id:"omBarnet.fødselsdato"}):He(f+1),validate:[g(n.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.duMåOppgi"})),h(n.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.ugyldigDatoFormat"})),z(n.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.måVæreIdagEllerTidligere"})),we(n.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.måVæreFørAdopsjonsdato"}),r),Ce(n.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.ikkeMerEnn15År3MndTilbake"}),r)]},m.id))})};$.__docgenInfo={description:"",methods:[],displayName:"FødselsdatoerFieldArray",props:{antallBarn:{required:!1,tsType:{name:"number"},description:""},antallBarnDropDown:{required:!1,tsType:{name:"string"},description:""},adopsjonsdato:{required:!1,tsType:{name:"string"},description:""}}};d.extend(E);const Y=({søknadGjelderEtNyttBarn:r})=>{const a=x(),t=A(),n=t.watch("adopsjonAvEktefellesBarn"),o=t.watch("antallBarn"),l=t.watch("antallBarnSelect"),s=t.watch("adopsjonsdato"),i=t.watch("adoptertIUtlandet"),m=t.watch("fødselsdatoer");return e.jsxs(e.Fragment,{children:[e.jsxs(S,{name:"adopsjonAvEktefellesBarn",label:a.formatMessage({id:"omBarnet.adopsjonGjelder"}),validate:[g(a.formatMessage({id:"valideringsfeil.omBarnet.adopsjonGjelder.duMåOppgi"}))],children:[e.jsx(p,{value:!0,children:"Ja"}),e.jsx(p,{value:!1,children:"Nei"})]}),e.jsxs(B,{gap:"4",children:[e.jsx(k,{name:"adopsjonsdato",label:n?a.formatMessage({id:"omBarnet.adopsjonsdato.stebarn"}):a.formatMessage({id:"omBarnet.adopsjonsdato.annetBarn"}),validate:[g(a.formatMessage({id:"valideringsfeil.omBarnet.adopsjonsdato.duMåOppgi"})),h(a.formatMessage({id:"valideringsfeil.omBarnet.adopsjonsdato.ugyldigDatoFormat"}))]}),e.jsx(Ee,{padding:"4",background:"surface-alt-3-subtle",borderRadius:"medium",children:e.jsxs(Le,{gap:"2",children:[e.jsx(Oe,{height:24,width:24,color:"#005B82"}),e.jsx(B,{gap:"2",style:{width:"85%"},children:e.jsx(he,{children:e.jsx(u,{id:"omBarnet.opplaste.bekreftelse"})})})]})})]}),r&&e.jsxs(e.Fragment,{children:[e.jsxs(S,{name:"antallBarn",label:a.formatMessage({id:"omBarnet.antallBarn.adopsjon.født"}),validate:[g(a.formatMessage({id:"valideringsfeil.omBarnet.adopsjon.født.duMåOppgi"}))],children:[e.jsx(p,{value:1,children:e.jsx(u,{id:"omBarnet.radiobutton.ettBarn"})}),e.jsx(p,{value:2,children:e.jsx(u,{id:"omBarnet.radiobutton.toBarn"})}),e.jsx(p,{value:3,children:e.jsx(u,{id:"omBarnet.radiobutton.flere"})})]}),o===3&&e.jsxs(H,{name:"antallBarnSelect",label:"Antall barn",children:[e.jsx("option",{value:"3",children:"3"}),e.jsx("option",{value:"4",children:"4"}),e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"6",children:"6"}),e.jsx("option",{value:"7",children:"7"}),e.jsx("option",{value:"8",children:"8"}),e.jsx("option",{value:"9",children:"9"})]}),e.jsx($,{adopsjonsdato:s,antallBarn:o,antallBarnDropDown:l})]}),n===!1&&!Ne(s)&&e.jsxs(e.Fragment,{children:[e.jsxs(S,{name:"adoptertIUtlandet",label:a.formatMessage({id:"omBarnet.adopteresFraUtlandet"}),validate:[g(a.formatMessage({id:"valideringsfeil.omBarnet.adopteresFraUtlandet.duMåOppgi"}))],children:[e.jsx(p,{value:!0,children:"Ja"}),e.jsx(p,{value:!1,children:"Nei"})]}),i===!0&&e.jsx(k,{name:"ankomstdato",minDate:m?d(m[0].dato).toDate():void 0,maxDate:d().add(6,"months").toDate(),label:a.formatMessage({id:"omBarnet.ankomstDato"}),validate:[g(a.formatMessage({id:"valideringsfeil.omBarnet.adopsjonsdato.duMåOppgi"})),h(a.formatMessage({id:"valideringsfeil.omBarnet.adopsjonsdato.ugyldigDatoFormat"})),f=>{var c;return((c=m[0])==null?void 0:c.dato)!==void 0&&!d(m[0].dato).isSameOrBefore(f,"day")?a.formatMessage({id:"valideringsfeil.omBarnet.ankomstDato.førFødselsdato"}):void 0}]})]})]})};Y.__docgenInfo={description:"",methods:[],displayName:"AdopsjonPanel",props:{søknadGjelderEtNyttBarn:{required:!0,tsType:{name:"boolean"},description:""}}};d.extend(L);d.extend(E);const Z=()=>{const r=x(),a=A(),{antallBarn:t,erBarnetFødt:n,fødselsdatoer:o}=a.watch(),l=t>1?"omBarnet.fødselsdato.flereBarn":"omBarnet.fødselsdato",s=o?o[0].dato:void 0;return e.jsxs(e.Fragment,{children:[e.jsx(k,{name:"termindato",minDate:s?d(s).subtract(1,"months").toDate():void 0,maxDate:s?d(s).add(6,"months").toDate():void 0,label:r.formatMessage({id:"omBarnet.termindato.født"}),useStrategyAbsolute:!0,validate:[g(r.formatMessage({id:"valideringsfeil.omBarnet.termindato.duMåOppgi"})),h(r.formatMessage({id:"valideringsfeil.omBarnet.termindato.ugyldigDatoFormat"})),i=>{if(s){if(!d(i).subtract(6,"months").isSameOrBefore(d(s),"day"))return r.formatMessage({id:"valideringsfeil.omBarnet.termindato.forLangtFremITid"});if(!d(i).add(1,"months").isSameOrAfter(d(s),"day"))return r.formatMessage({id:"valideringsfeil.omBarnet.termindato.forLangtTilbakeITid"})}}]}),n&&e.jsx(k,{name:"fødselsdatoer.0.dato",label:r.formatMessage({id:l}),minDate:d().subtract(3,"years").toDate(),maxDate:d().toDate(),useStrategyAbsolute:!0,validate:[g(r.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.duMåOppgi"})),h(r.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.ugyldigDatoFormat"})),z(r.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.måVæreIdagEllerTidligere"})),i=>d(i).isBefore(d().subtract(3,"years").subtract(4,"months"),"day")?r.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.ikkeMerEnn3År3MndTilbake"}):void 0]})]})};Z.__docgenInfo={description:"",methods:[],displayName:"ErFødtPanel"};const Ge=(r,a)=>j(r)?a?G(a):!1:!0,Q=({søkersituasjon:r,arbeidsforhold:a,søknadGjelderEtNyttBarn:t})=>{const n=x(),l=A().watch("termindato"),s=l?!V(l):!1,i=j(r.rolle),m=i&&l,f=Ge(r.rolle,l),c=l&&ge.test(l)?w(a,r.situasjon==="adopsjon",j(r.rolle),l):a;return e.jsxs(e.Fragment,{children:[t&&e.jsxs(B,{gap:"2",children:[e.jsx(k,{name:"termindato",label:n.formatMessage({id:"omBarnet.termindato.termin"}),minDate:be,maxDate:Fe,useStrategyAbsolute:!0,validate:[g(n.formatMessage({id:"valideringsfeil.omBarnet.termindato.duMåOppgi"})),h(n.formatMessage({id:"valideringsfeil.omBarnet.termindato.ugyldigDatoFormat"})),y=>{if(!Te(y))return n.formatMessage({id:"valideringsfeil.omBarnet.termindato.forTidlig"});if(!V(y))return n.formatMessage({id:"valideringsfeil.omBarnet.termindato.duMåVæreIUke22"})}]}),!i&&e.jsx(J,{header:n.formatMessage({id:"omBarnet.termindato.åpneLabel"}),children:e.jsxs(B,{gap:"2",children:[e.jsx(I,{children:e.jsx(u,{id:"omBarnet.termindato.innhold.del1"})}),e.jsx(I,{children:e.jsx(u,{id:"omBarnet.termindato.innhold.del2"})})]})})]}),t&&c.length===0&&f&&e.jsx(k,{name:"terminbekreftelsedato",label:n.formatMessage({id:"omBarnet.terminbekreftelseDato"}),maxDate:Se,useStrategyAbsolute:!0,validate:[g(n.formatMessage({id:"valideringsfeil.omBarnet.terminbekreftelseDato.duMåOppgi"})),h(n.formatMessage({id:"valideringsfeil.omBarnet.terminbekreftelseDato.ugyldigDatoFormat"})),Pe(n.formatMessage({id:"valideringsfeil.omBarnet.terminbekreftelseDato.kanIkkeVæreFremITid"}))]}),(s||m&&!f)&&e.jsx(_e,{variant:"warning",children:e.jsxs(B,{gap:"4",children:[e.jsx(ye,{level:"3",size:"small",children:e.jsx(u,{id:"omBarnet.termindato.erForTidligTilÅSøkePåTermin.heading"})}),e.jsx(I,{children:e.jsx(u,{id:"omBarnet.termindato.erForTidligTilÅSøkePåTermin.innhold"})})]})})]})};Q.__docgenInfo={description:"",methods:[],displayName:"TerminPanel",props:{søkersituasjon:{required:!0,tsType:{name:"Søkersituasjon"},description:""},arbeidsforhold:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverNavn: string;
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    fom: string;
    tom?: string;
    stillingsprosent: number;
}`,signature:{properties:[{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}},{key:"stillingsprosent",value:{name:"number",required:!0}}]}}],raw:"Arbeidsforhold[]"},description:""},søknadGjelderEtNyttBarn:{required:!1,tsType:{name:"boolean"},description:""}}};const ze=(r,a,t)=>t===!0?r.formatMessage({id:"omBarnet.antallBarn.født"}):a?r.formatMessage({id:"omBarnet.antallBarn.termin.far"}):r.formatMessage({id:"omBarnet.antallBarn.termin"}),Je=(r,a,t)=>t!==!1?r.formatMessage({id:"valideringsfeil.omBarnet.antallFått.duMåOppgi"}):a?r.formatMessage({id:"valideringsfeil.omBarnet.antallVenter.duMåOppgi"}):r.formatMessage({id:"valideringsfeil.omBarnet.antallVenterDu.duMåOppgi"}),ee=({søkersituasjon:r,erFarEllerMedmor:a,søknadGjelderEtNyttBarn:t,arbeidsforhold:n})=>{const o=x(),l=A(),s=l.watch("erBarnetFødt"),i=l.watch("antallBarn"),m=j(r.rolle);return e.jsxs(e.Fragment,{children:[t&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs(S,{name:"erBarnetFødt",label:o.formatMessage({id:"omBarnet.erBarnetFødt"}),validate:[g(o.formatMessage({id:"valideringsfeil.omBarnet.erBarnetFødt.duMåOppgi"}))],children:[e.jsx(p,{value:!0,children:"Ja"}),e.jsx(p,{value:!1,children:"Nei"})]}),!a&&e.jsx(J,{header:o.formatMessage({id:"omBarnet.erBarnetFødt.readMore.header"}),children:e.jsxs(B,{gap:"4",children:[e.jsx("div",{children:e.jsx(u,{id:"omBarnet.erBarnetFødt.readMore.innhold.del1"})}),e.jsx(u,{id:"omBarnet.erBarnetFødt.readMore.innhold.del2"})]})})]}),e.jsxs(S,{name:"antallBarn",label:ze(o,m,s),validate:[g(Je(o,m,s))],children:[e.jsx(p,{value:1,children:e.jsx(u,{id:"omBarnet.radiobutton.ettBarn"})}),e.jsx(p,{value:2,children:e.jsx(u,{id:"omBarnet.radiobutton.tvillinger"})}),e.jsx(p,{value:3,children:e.jsx(u,{id:"omBarnet.radiobutton.flere"})})]}),i!==void 0&&i===3&&e.jsxs(H,{name:"antallBarnSelect",label:"Antall barn",children:[e.jsx("option",{value:"3",children:"3"}),e.jsx("option",{value:"4",children:"4"}),e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"6",children:"6"}),e.jsx("option",{value:"7",children:"7"}),e.jsx("option",{value:"8",children:"8"}),e.jsx("option",{value:"9",children:"9"})]})]}),s!==!0&&e.jsx(Q,{søkersituasjon:r,arbeidsforhold:n,søknadGjelderEtNyttBarn:t}),s===!0&&t&&e.jsx(Z,{})]})};ee.__docgenInfo={description:"",methods:[],displayName:"FødselPanel",props:{søkersituasjon:{required:!0,tsType:{name:"Søkersituasjon"},description:""},erFarEllerMedmor:{required:!0,tsType:{name:"boolean"},description:""},søknadGjelderEtNyttBarn:{required:!0,tsType:{name:"boolean"},description:""},arbeidsforhold:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverNavn: string;
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    fom: string;
    tom?: string;
    stillingsprosent: number;
}`,signature:{properties:[{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}},{key:"stillingsprosent",value:{name:"number",required:!0}}]}}],raw:"Arbeidsforhold[]"},description:""}}};const We=r=>r.erBarnetFødt,Xe=r=>r.erBarnetFødt===!1,re=r=>r.adopsjonAvEktefellesBarn,te=r=>r.adopsjonAvEktefellesBarn===!1,$e=(r,a,t,n)=>{if(r!==void 0&&a==="fødsel")return{...r,type:n?v.UFØDT:v.FØDT,termindato:t.termindato,fødselsdatoer:r.fødselsdatoer,antallBarn:r.antallBarn};if(re(t))return{...r,type:v.ADOPTERT_STEBARN,adopsjonsdato:t.adopsjonsdato};if(te(t))return{...r,type:v.ADOPTERT_ANNET_BARN,adopsjonsdato:t.adopsjonsdato,adoptertIUtlandet:t.adoptertIUtlandet,ankomstdato:t.adoptertIUtlandet===!0?t.ankomstdato:void 0};throw new Error("Unreachable code")},Ye=(r,a,t,n,o,l)=>{if(n!==void 0)return $e(n,o,r,l);if(We(r))return{type:v.FØDT,fødselsdatoer:r.fødselsdatoer.map(s=>s.dato),antallBarn:r.antallBarn<3?r.antallBarn:parseInt(r.antallBarnSelect,10),termindato:Ae(r.termindato)?r.termindato:void 0};if(Xe(r))return w(a,t.situasjon==="adopsjon",j(t.rolle),r.termindato).length===0?{type:v.UFØDT,terminbekreftelsedato:r.terminbekreftelsedato,antallBarn:r.antallBarn<3?r.antallBarn:parseInt(r.antallBarnSelect,10),termindato:r.termindato}:{type:v.UFØDT,antallBarn:r.antallBarn<3?r.antallBarn:parseInt(r.antallBarnSelect,10),termindato:r.termindato};if(re(r))return{type:v.ADOPTERT_STEBARN,adopsjonsdato:r.adopsjonsdato,antallBarn:r.antallBarn<3?r.antallBarn:parseInt(r.antallBarnSelect,10),fødselsdatoer:r.fødselsdatoer.map(s=>s.dato)};if(te(r))return{type:v.ADOPTERT_ANNET_BARN,fødselsdatoer:r.fødselsdatoer.map(s=>s.dato),adopsjonsdato:r.adopsjonsdato,antallBarn:r.antallBarn<3?r.antallBarn:parseInt(r.antallBarnSelect,10),adoptertIUtlandet:r.adoptertIUtlandet,ankomstdato:r.adoptertIUtlandet===!0?r.ankomstdato:void 0};throw new Error("Unreachable code")},F=(r,a)=>r?3:a.antallBarn,T=(r,a)=>r?a.antallBarn.toString():void 0,Ze=(r,a,t)=>{if(!t)return{fødselsdatoer:[{dato:void 0}]};const n=t.antallBarn>2;return W(t)?{erBarnetFødt:!0,antallBarn:F(n,t),antallBarnSelect:T(n,t),fødselsdatoer:t.fødselsdatoer.map(o=>({dato:o})),termindato:t.termindato}:O(t)?w(r,a.situasjon==="adopsjon",j(a.rolle),t.termindato).length===0?{erBarnetFødt:!1,antallBarn:F(n,t),antallBarnSelect:T(n,t),terminbekreftelsedato:t.terminbekreftelsedato,termindato:t.termindato}:{erBarnetFødt:!1,antallBarn:F(n,t),antallBarnSelect:T(n,t),termindato:t.termindato}:Ue(t)?{adopsjonAvEktefellesBarn:!1,adopsjonsdato:t.adopsjonsdato,antallBarn:F(n,t),antallBarnSelect:T(n,t),fødselsdatoer:t.fødselsdatoer.map(o=>({dato:o})),adoptertIUtlandet:t.adoptertIUtlandet,ankomstdato:t.ankomstdato}:Re(t)?{adopsjonAvEktefellesBarn:!0,adopsjonsdato:t.adopsjonsdato,antallBarn:F(n,t),antallBarnSelect:T(n,t),fødselsdatoer:t.fødselsdatoer.map(o=>({dato:o}))}:{fødselsdatoer:[{dato:void 0}]}},Qe=r=>{const a=d(r).add(12,"weeks");return d(a).isAfter(new Date,"day")},er=(r,a)=>a&&!O(a)&&a.fnr!==void 0&&a.fnr.length>0?a.fnr.includes(r.fnr):!1,rr=(r,a,t,n)=>{if(n==="adopsjon")return!1;let o;if(t!==void 0&&t.length>0&&(o=Ie(t).fødselsdato),!a&&!o)return!1;const l=o||a;return j(r)?G(l)?!0:Qe(l):!0},tr=({søkerInfo:r,søknadGjelderNyttBarn:a,mellomlagreSøknadOgNaviger:t,avbrytSøknad:n})=>{const o=x(),l=ue(r.arbeidsforhold),s=fe(r.arbeidsforhold,t),i=Ve(_(D.SØKERSITUASJON)),m=_(D.OM_BARNET),f=me(D.OM_BARNET),{arbeidsforhold:c,søker:y}=r,ae=j(i.rolle),ne=m?qe(m):void 0,se=m&&W(m)?y.barn.filter(b=>b.fnr===void 0&&De(b.fødselsdato,ne)):[],M=!a&&m&&!O(m)?y.barn.filter(b=>er(b,m)).concat(se):void 0,q=!a&&(M===void 0||M.length===0),oe=b=>{const le=Ye(b,c,i,!a&&!q?m:void 0,i.situasjon,q);return f(le),s.goToNextDefaultStep()},ie=C.useMemo(()=>Ze(c,i,m),[c,m]),N=ce({shouldUnregister:!0,defaultValues:ie}),P=N.watch("fødselsdatoer"),de=rr(i.rolle,P?P[0].dato:void 0,M,i.situasjon);return e.jsx(Ke,{bannerTitle:o.formatMessage({id:"søknad.pageheading"}),onCancel:n,onContinueLater:s.fortsettSøknadSenere,steps:l,children:e.jsx(ve,{formMethods:N,onSubmit:oe,children:e.jsxs(B,{gap:"10",children:[e.jsx(Be,{}),M&&M.length>0&&e.jsx(X,{valgteRegistrerteBarn:M,skalInkludereTermindato:de}),i.situasjon==="fødsel"&&e.jsx(ee,{erFarEllerMedmor:ae,søknadGjelderEtNyttBarn:q||a,søkersituasjon:i,arbeidsforhold:c}),i.situasjon==="adopsjon"&&e.jsx(Y,{søknadGjelderEtNyttBarn:q||a}),e.jsx(je,{goToPreviousStep:s.goToPreviousDefaultStep})]})})})};tr.__docgenInfo={description:"",methods:[],displayName:"OmBarnetSteg",props:{søkerInfo:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    søker: Søker;
    arbeidsforhold: Arbeidsforhold[];
}`,signature:{properties:[{key:"søker",value:{name:"intersection",raw:`{
    fødselsdato: string;
    kjønn: Kjønn;
    bankkonto?: Bankkonto;
    sivilstand?: Sivilstand;
    barn: SøkerBarn[];
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    fødselsdato: string;
    kjønn: Kjønn;
    bankkonto?: Bankkonto;
    sivilstand?: Sivilstand;
    barn: SøkerBarn[];
}`,signature:{properties:[{key:"fødselsdato",value:{name:"string",required:!0}},{key:"kjønn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"bankkonto",value:{name:"Bankkonto",required:!1}},{key:"sivilstand",value:{name:"Sivilstand",required:!1}},{key:"barn",value:{name:"Array",elements:[{name:"intersection",raw:`{
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: SøkerAnnenForelder;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: SøkerAnnenForelder;
}`,signature:{properties:[{key:"kjønn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"dødsdato",value:{name:"string",required:!1}},{key:"annenForelder",value:{name:"intersection",raw:`{
    fødselsdato?: string;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    fødselsdato?: string;
}`,signature:{properties:[{key:"fødselsdato",value:{name:"string",required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}],required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}]}],raw:"SøkerBarn[]",required:!0}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}],required:!0}},{key:"arbeidsforhold",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverNavn: string;
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    fom: string;
    tom?: string;
    stillingsprosent: number;
}`,signature:{properties:[{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}},{key:"stillingsprosent",value:{name:"number",required:!0}}]}}],raw:"Arbeidsforhold[]",required:!0}}]}},description:""},søknadGjelderNyttBarn:{required:!0,tsType:{name:"boolean"},description:""},mellomlagreSøknadOgNaviger:{required:!0,tsType:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},avbrytSøknad:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};export{tr as O};
