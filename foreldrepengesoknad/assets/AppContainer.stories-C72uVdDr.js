import{j as i}from"./jsx-runtime-Cw0GR0a5.js";import{M as cn}from"./index-CxzRwX_-.js";import{n as gn,a as _t,u as Mt,b as bt,o as Lt,c as Kt,e as xt,f as Gt,d as mn}from"./app-Bek-zI34.js";import{r as F}from"./index-CTjT7uj6.js";import{g as ue,s as fn}from"./apiInterceptor-D-WKbiXB.js";import{j as En,n as Bt,A as rt,S as Sn,k as An,U as vn,m as Fn,o as ur,p as hn,q as Tn,i as Pn}from"./ByttBrowserModal-FxPUrAzJ.js";import{i as Un,d as b,E as kr}from"./Uttaksdagen-C7qvZjyy.js";import{a3 as Vt,C as Nn,q as On,U as T,y as pe,a4 as Dn,a5 as ye,B as le,M as De,j as Ie,I as nt,a6 as L,E as z,T as cr,a7 as Rn,b as wt,A as In,L as gr}from"./Tidsperioden-CX6uww3z.js";import{c as jn}from"./index-CCQ3W5xA.js";import"./_baseToString-Cq6MbKF_.js";import"./_createSet-D2BJ0WVx.js";import{at as yn,O as q,au as mr,av as fr,aw as Ht,T as je,U as Er,v as fe,y as ee,Y as D,a0 as Sr,$ as N,R as Ee,A as Jt,as as _n,ax as Mn,V as S,a2 as qt,a4 as Xe,S as U,ay as bn,az as Ar,Q as Ln,aA as Kn,aB as xn,aC as Gn,aD as Bn,aE as Vn,aa as Ct,X as Q,aF as wn,aG as Hn,aH as st,W as ot,ag as Jn,ac as vr,aI as lt,aJ as qn,u as Cn,a as Yn,I as $n,C as Wn,z as zn,E as Qn,a9 as Xn,aK as Yt,aL as Zn,aM as es,D as $t,aN as ts,F as rs,aO as ns,aP as ss,aQ as os}from"./useFpNavigator-CB1ifXUJ.js";import{u as pt}from"./index-DSgjoNiG.js";import{B as as}from"./index-Bx-zz2o0.js";import{i as Fr,h as is,e as hr,k as ds,E as Ze}from"./dateUtils-2R1StA1H.js";import{d as ut,u as et,a as tt,b as ls,R as oe,g as ps,F as us}from"./getStønadskontoParams-Ce1Xd_qG.js";import{g as I}from"./guid-CsArkN6i.js";import{C as k,i as ks,n as cs,m as gs,d as kt,o as ms,p as Tr,u as J,a as Z,j as Pr,l as fs,q as Es,e as Ss,r as As,t as _,v as Wt,F as vs}from"./FpDataContext-7C49oNtd.js";import{a as Fs}from"./globalUtil-B8nm0HCY.js";import{n as y}from"./dateFormValidation-DamLOwkK.js";import{i as _e,c as Ur,l as Nr}from"./barnUtils-BHt4r69f.js";import{V as hs}from"./Velkommen-rXVA_cmi.js";import{A as Ts}from"./AndreInntektskilderSteg-BYF7qkhB.js";import{A as Ps}from"./AnnenForelderSteg-KWTD8H0F.js";import{A as Us}from"./ArbeidsforholdOgInntektSteg-b2b76Dbd.js";import{E as Ns}from"./EgenNæringSteg-DbHeWUTq.js";import{a as zt,g as Qt,O as se,F as Os}from"./FordelingSteg-Bm4cfVe8.js";import{F as Ds}from"./FrilansSteg-DtkXRep4.js";import{M as Xt}from"./ManglendeVedlegg-Db-bTkcA.js";import{O as Rs}from"./OmBarnetSteg-DzGaGeBP.js";import{O as Zt}from"./Oppsummering-U9twjWVR.js";import{P as Is}from"./PeriodeMedForeldrepengerSteg-BwNirN8_.js";import{S as js}from"./SøkersituasjonSteg-CCbOiGlH.js";import{U as ys}from"./UtenlandsoppholdSteg-By9atU5P.js";import{S as _s}from"./SenereUtenlandsoppholdSteg-D8QVrNj0.js";import{T as Ms}from"./TidligereUtenlandsoppholdSteg-DWOFcPEJ.js";import{S as $}from"./innsendingsType-DprMYF-V.js";import{g as bs}from"./arbeidsforholdUtils-lwW9oZ5E.js";import{I as Ls}from"./InfoOmNesteBarn-CtHJSd9F.js";import{c as Ks,d as xs}from"./eksisterendeSakUtils-KkfzMwML.js";import{M as W}from"./message-CjkJih2D.js";import{b as Gs}from"./bemUtils-DmNyTjfb.js";import{H as Bs,B as er}from"./Label-C_UMiHsP.js";import{H as Vs}from"./VStack-C3DRnCHF.js";import"./BoIUtlandetOppsummeringspunkt-BBCFUqca.js";import"./ErrorSummaryHookForm-mvHsHdsE.js";import"./Link-D0RLsnK2.js";import"./ArbeidsforholdOgInntektPanel-4J5HiIK6.js";import"./links-BegG-28I.js";import"./EgenNæringPanel-AqjdQOTu.js";import"./numberFormValidation-D0opZeZk.js";import"./FrilansPanel-CI0WBJql.js";import"./TidligereUtenlandsoppholdPanel-ClHHTMtW.js";import"./Plus-zXW6TB9j.js";import"./tslib.es6-CcC3cBMT.js";import"./index-BRV0Se7Z.js";import"./index-9r8iugjR.js";import"./iframe-YAHPXHvA.js";import"../sb-preview/runtime.js";import"./_baseForOwn-_34OS4c-.js";import"./_baseUniq-BwrlAMKh.js";import"./DinePlikter-CMl1LJ0P.js";import"./DinePersonopplysningerModal-724Fooqg.js";import"./velkommenUtils-DRbhqLSU.js";import"./RegistrertePersonalia-OHbU6Kyw.js";import"./BabyWrapped-Dq4KqtEV.js";import"./isString-BlWf_xGz.js";import"./vedleggUtils-5XSvYUIy.js";import"./util-BQtZ0bDt.js";const ws=[{fom:"2022-12-12",tom:"2023-02-17",kontoType:"FEDREKVOTE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},samtidigUttak:100,flerbarnsdager:!1},{fom:"2023-02-20",tom:"2023-03-05",kontoType:"FELLESPERIODE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},samtidigUttak:50,flerbarnsdager:!1},{fom:"2023-03-20",tom:"2023-03-31",kontoType:"FEDREKVOTE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},flerbarnsdager:!1}],Hs="HUNDRE",Js={perioder:ws,dekningsgrad:Hs},qs="2019-02-01",Cs="23123",Ys={innsendingstidspunkt:qs,pdf:Cs},$s=[{saksnummer:"352011594",sakAvsluttet:!1,sisteSøknadMottattDato:"2023-03-31",kanSøkeOmEndring:!1,sakTilhørerMor:!1,gjelderAdopsjon:!0,morUføretrygd:!1,harAnnenForelderTilsvarendeRettEØS:!1,ønskerJustertUttakVedFødsel:!1,rettighetType:"BEGGE_RETT",annenPart:{type:"person",fnr:"05489305072",fornavn:"Sentral",etternavn:"Tangent"},familiehendelse:{fødselsdato:"2023-02-01",antallBarn:1,omsorgsovertakelse:"2023-04-10"},åpenBehandling:{tilstand:"VENT_INNTEKTSMELDING",søknadsperioder:[{fom:"2023-04-10",tom:"2023-07-21",kontoType:"FEDREKVOTE",flerbarnsdager:!1},{fom:"2023-07-24",tom:"2023-09-15",kontoType:"FELLESPERIODE",morsAktivitet:"UTDANNING",flerbarnsdager:!1}]},barn:[],dekningsgrad:"HUNDRE"}],Ws=[],zs={foreldrepenger:$s,engangsstønad:[],svangerskapspenger:Ws},Qs={MØDREKVOTE:95,FEDREKVOTE:95,FELLESPERIODE:90,FORELDREPENGER_FØR_FØDSEL:15},Xs={farRundtFødsel:0,generellMinsterett:0,toTette:0},Zs={kontoer:Qs,minsteretter:Xs},eo={MØDREKVOTE:75,FEDREKVOTE:75,FELLESPERIODE:80,FORELDREPENGER_FØR_FØDSEL:15},to={farRundtFødsel:0,generellMinsterett:0,toTette:0},ro={kontoer:eo,minsteretter:to},no={MØDREKVOTE:95,FEDREKVOTE:95,FELLESPERIODE:90,FORELDREPENGER_FØR_FØDSEL:15,FORELDREPENGER:80},so={},oo={kontoer:no,minsteretter:so},ao="From {fom} until {tom}",io={tidsperiode:ao,"tidsperiode.kort":"{fom} - {tom}"},lo="Fra {fom} til {tom}",po={tidsperiode:lo,"tidsperiode.kort":"{fom} - {tom}"},uo="Frå {fom} til {tom}",ko={tidsperiode:uo,"tidsperiode.kort":"{fom} - {tom}"},co=e=>{window.location.href=e},Or="selectedLocale",go=()=>sessionStorage.getItem(Or)||"nb",mo=e=>{sessionStorage.setItem(Or,e)},tr={nb:po,nn:ko,en:io},fo={"uttaksplan.familiehendelsesdato.født":"{antallBarn, plural, one{Barnet} other {Barna}} er født {dato}","uttaksplan.familiehendelsesdato.termin":"Termin {dato}","uttaksplan.familiehendelsesdato.adopsjon":"{antallBarn, plural, one{Barnet} other {Barna}} er adoptert {dato}"},Eo={"uttaksplan.familiehendelsesdato.født":"{antallBarn, plural, one{Barnet} other {Barna}} er født {dato}","uttaksplan.familiehendelsesdato.termin":"Termin {dato}","uttaksplan.familiehendelsesdato.adopsjon":"{antallBarn, plural, one{Barnet} other {Barna}} er adoptert {dato}"},So={"uttaksplan.familiehendelsesdato.født":"{antallBarn, plural, one{Barnet} other {Barna}} er født {dato}","uttaksplan.familiehendelsesdato.termin":"Termin {dato}","uttaksplan.familiehendelsesdato.adopsjon":"{antallBarn, plural, one{Barnet} other {Barna}} er adoptert {dato}"},Ao={"kalender.fødsel":"Birth","kalender.termin":"Due date","kalender.adopsjon":"Adoption","kalender.avslåttePerioder":"Rejected periods are not displayed in the calendar.","kalender.dinPeriode":"Your period","kalender.dinPeriode.gradert":"You combine work and parental benefits","kalender.annenPartPeriode":"{navnAnnenPart} period","kalender.samtidigUttak":"You and {navnAnnenPart} are on leave at the same time","kalender.dinUtsettelse":"You postpone parental benefits","kalender.utsettelseAnnenPart":"{navnAnnenPart} postpones parental benefits","kalender.helg":"Weekend (not days with parental allowance)","kalender.tapteDager":"Days you can lose","kalender.utsettelse":"You postpone parental benefits due to {reason}","kalender.utsettelse.ARBEID":"because you are working","kalender.utsettelse.INSTITUSJONSOPPHOLD_BARNET":"because the child is hospitalized","kalender.utsettelse.INSTITUSJONSOPPHOLD_SØKER":"because you are hospitalized","kalender.utsettelse.LOVBESTEMT_FERIE":"because you are on statutory holiday","kalender.utsettelse.SYKDOM":"because you are ill","kalender.utsettelse.HV_OVELSE":"due to exercises or service in the Home Guard","kalender.utsettelse.NAV_TILTAK":"due to NAV measures that constitute 100% work","kalender.lastNed":"Download the calendar as PDF","kalender.skjermleser.familiehendelse":"{familiehendelsenavn} on {dato}","kalender.skjermleser.periode":"{periodeNavn} from the {fraDato} until the {tilDato}"},vo={"kalender.fødsel":"Fødsel","kalender.termin":"Termin","kalender.adopsjon":"Adopsjon","kalender.avslåttePerioder":"Avslåtte perioder vises ikke i kalenderen.","kalender.dinPeriode":"Din periode","kalender.dinPeriode.gradert":"Du kombinerer jobb og foreldrepenger","kalender.annenPartPeriode":"{navnAnnenPart} periode","kalender.samtidigUttak":"Du og {navnAnnenPart} har permisjon samtidig","kalender.dinUtsettelse":"Du utsetter foreldrepenger","kalender.utsettelseAnnenPart":"{navnAnnenPart} utsetter foreldrepenger","kalender.helg":"Helg (er ikke dager med foreldrepenger)","kalender.tapteDager":"Dager du kan tape","kalender.utsettelse":"Du utsetter foreldrepenger {årsak}","kalender.utsettelse.ARBEID":"fordi du skal jobbe","kalender.utsettelse.INSTITUSJONSOPPHOLD_BARNET":"fordi barnet er innlagt","kalender.utsettelse.INSTITUSJONSOPPHOLD_SØKER":"fordi du er innlagt","kalender.utsettelse.LOVBESTEMT_FERIE":"fordi du er på ferie","kalender.utsettelse.SYKDOM":"fordi du er syk","kalender.utsettelse.HV_OVELSE":"pga. øvelse eller tjeneste i Heimevernet","kalender.utsettelse.NAV_TILTAK":"pga. NAV tiltak som utgjør 100% arbeid","kalender.lastNed":"Last ned kalender som PDF","kalender.skjermleser.familiehendelse":"{familiehendelsenavn} den {dato}","kalender.skjermleser.periode":"{periodeNavn} fra den {fraDato} til den {tilDato}"},Fo={"kalender.fødsel":"Fødsel","kalender.termin":"Termin","kalender.adopsjon":"Adopsjon","kalender.avslåttePerioder":"Avslåtte periodar vises ikkje i kalenderen.","kalender.dinPeriode":"Din periode","kalender.dinPeriode.gradert":"Du kombinerer jobb og foreldrepengar","kalender.annenPartPeriode":"{navnAnnenPart} periode","kalender.samtidigUttak":"Du og {navnAnnenPart} har permisjon samtidig","kalender.dinUtsettelse":"Du utsetter foreldrepengar","kalender.utsettelseAnnenPart":"{navnAnnenPart} utsetter foreldrepengar","kalender.helg":"Helg (er ikkje dagar med foreldrepengar)","kalender.tapteDager":"Dagar du kan tape","kalender.utsettelse":"Du utsetter foreldrepengar {årsak}","kalender.utsettelse.ARBEID":"fordi du skal jobbe","kalender.utsettelse.INSTITUSJONSOPPHOLD_BARNET":"fordi barnet er innlagt","kalender.utsettelse.INSTITUSJONSOPPHOLD_SØKER":"fordi du er innlagt","kalender.utsettelse.LOVBESTEMT_FERIE":"fordi du er på ferie","kalender.utsettelse.SYKDOM":"fordi du er sjuk","kalender.utsettelse.HV_OVELSE":"pga. øving eller teneste i Heimevernet","kalender.utsettelse.NAV_TILTAK":"pga. NAV tiltak som utgjer 100% arbeid","kalender.lastNed":"Last ned kalender som PDF","kalender.skjermleser.familiehendelse":"{familiehendelsenavn} den {dato}","kalender.skjermleser.periode":"{periodeNavn} fra den {fraDato} til den {tilDato}"},rr={nb:vo,nn:Fo,en:Ao},ho=(e,t,r,n,o,s,a,l)=>{const{normaliserteEgnePerioder:u,normaliserteAnnenPartsPerioder:d}=yn(t,e);return d.length>0?(u.forEach(p=>{if(q(p)){const c=mr(d).finnOverlappendePerioder(p),g=c.length>0?c[0]:void 0;g!==void 0&&fr(g)&&(p.ønskerSamtidigUttak||(p.ønskerSamtidigUttak=!0,p.samtidigUttakProsent=Ht(p.gradert,p.stillingsprosent)),g.ønskerSamtidigUttak||(g.ønskerSamtidigUttak=!0,g.samtidigUttakProsent=Ht(g.gradert,g.stillingsprosent)))}}),je(Er(u,d,r,l),n,r,o,s,a,l)):t},nr={nb:Eo,nn:So,en:fo},To=(e,t)=>Un(t)?t:!Array.isArray(t)&&Vt(t,[Vt.HTML5_FMT.DATE,"YYYY-MM-DDTHH:mm:ss.SSSZ"],!0).isValid()?new Date(t):t,Po=e=>{if(e)return JSON.parse(e,To)},Uo="/rest/soknad",No="/rest/soknad/endre",Oo=()=>{const{data:e,error:t}=ut("/rest/sokerinfo",{config:{withCredentials:!0}});return{søkerinfoData:e,søkerinfoError:t}},Do=()=>{const{data:e,error:t}=ut("/rest/innsyn/v2/saker",{config:{withCredentials:!0}});return{sakerData:e,sakerError:t}},Ro=()=>{const{data:e,error:t,requestStatus:r}=ut("/rest/storage/foreldrepenger",{config:{transformResponse:Po,withCredentials:!0}});return{storageData:e,storageError:t,storageStatus:r}},Io=(e,t)=>ue(t).post("/rest/storage/foreldrepenger",e,{withCredentials:!0}),jo=e=>ue(e).get("/rest/storage/kvittering/foreldrepenger",{withCredentials:!0,timeout:15*1e3}),yo=(e,t,r)=>{const n=e.erEndringssøknad?No:Uo;return ue(t).post(n,e,{withCredentials:!0,timeout:120*1e3,headers:{"content-type":"application/json;"},signal:r})},_o=(e,t)=>ue(e).delete("/rest/storage/foreldrepenger",{withCredentials:!0,signal:t}),Mo=(e,t,r)=>{const n=t.reduce((o,s)=>(s.uuid&&o.push(s.uuid),o),[]);return ue(e).delete("/rest/storage/foreldrepenger/vedlegg",{withCredentials:!0,data:n,signal:r})},te={storeAppState:Io,getStorageKvittering:jo,useStoredAppState:Ro,useSøkerinfo:Oo,sendSøknad:yo,useGetSaker:Do,deleteMellomlagretSøknad:_o,deleteMellomlagredeVedlegg:Mo},bo="Det har oppstått et problem med innsending av søknaden. Vennligst prøv igjen senere. Hvis problemet vedvarer, kontakt oss og oppgi feil id: ",Dr="ukjent uuid",Lo=(e,t,r)=>{const n=Co(Ko(e));return _n(t,r,e.tidsperiode.fom)?{...n,justeresVedFødsel:!0}:n},Ko=e=>{const{erMorForSyk:t,...r}=e;return r},xo=e=>e.type!==D.Hull,Go=e=>e.type!==D.Info,Bo=e=>e.type!==D.PeriodeUtenUttak,Vo=e=>Mn(e)?!e.skalIkkeHaUttakFørTermin:xo(e)&&Go(e)&&Bo(e)&&!(q(e)&&e.konto===void 0),Rr=(e,t=!1)=>{if(ee(e)){const{erMorUfør:r,erForSyk:n,harRettPåForeldrepengerINorge:o,harRettPåForeldrepengerIEØS:s,harOppholdtSegIEØS:a,...l}=e,u={harMorUføretrygd:r,harRettPåForeldrepenger:o,...l};return o?{...u,erInformertOmSøknaden:!0}:a?{...u,harAnnenForelderOppholdtSegIEØS:a,harAnnenForelderTilsvarendeRettEØS:s}:t?{...u,harAnnenForelderTilsvarendeRettEØS:s}:{...u,harAnnenForelderOppholdtSegIEØS:a}}return e},wo=e=>{if(ks(e)){const{type:n,fnr:o,...s}=e;return s}if(cs(e)){const{type:n,fnr:o,...s}=e;return{adopsjonAvEktefellesBarn:gs(e),...s}}const{type:t,...r}=e;return r},Ho=e=>{switch(e){case"mor":return"MOR";case"far":return"FAR";case"medmor":return"MEDMOR";default:return Fs(e,"Søkerrolle er ikke satt")}},Jo=(e,t,r,n,o)=>(q(e)&&(e.konto===S.Flerbarnsdager&&(e.konto=t?S.Fellesperiode:S.Foreldrepenger),e.konto===S.AktivitetsfriKvote&&(e.konto=S.Foreldrepenger,n&&!t&&pe(o)?e.morsAktivitetIPerioden=qt.IkkeOppgitt:r&&(e.morsAktivitetIPerioden=qt.Uføre))),e),qo=e=>{if(e!==void 0&&e.length>0){const t=e[0];return{erArbeidstaker:t===Xe.arbeidstaker,erFrilanser:t===Xe.frilans,erSelvstendig:t===Xe.selvstendignæringsdrivende}}else return{}},Co=e=>e.gradert?{...e,...qo(e.arbeidsformer)}:e,Ir=(e,t,r,n,o,s,a)=>{const u=e.map(d=>({...d})).filter(d=>Nn(d.tidsperiode)).filter(Vo).map(d=>s&&ee(s)?Jo(d,!!s.harRettPåForeldrepengerINorge,!!s.erMorUfør,r,t):d).map(d=>d.type===D.Uttak?Lo(d,n,o):d);return a&&On(t)&&!Yo(u,a)?$o(u,a):u},Yo=(e,t)=>e.find(r=>b(t).isBetween(r.tidsperiode.fom,r.tidsperiode.tom,"day","[]")),$o=(e,t)=>{const r=e.find(s=>b(s.tidsperiode.fom).isAfter(t,"day")),n=r?T(r.tidsperiode.fom).forrige():t,o={type:D.Utsettelse,årsak:Sr.Fri,id:I(),tidsperiode:{fom:t,tom:n},erArbeidstaker:!1,forelder:N.farMedmor};return e.push(o),e.sort(Ee),e},jr=e=>{if(!e)return[];const t=[];return Object.keys(e).forEach(r=>{const n=e[r];n&&n.length>0&&t.push(...n)}),t},Wo=(e,t,r)=>{const n=y(e(k.ANNEN_FORELDER)),o=y(e(k.OM_BARNET)),s=y(e(k.ARBEIDSFORHOLD_OG_INNTEKT)),a=e(k.FRILANS),l=e(k.EGEN_NÆRING),u=e(k.ANDRE_INNTEKTSKILDER),d=y(e(k.SØKERSITUASJON)),p=y(e(k.UTENLANDSOPPHOLD)),c=y(e(k.PERIODE_MED_FORELDREPENGER)),g=e(k.UTENLANDSOPPHOLD_SENERE),m=e(k.UTENLANDSOPPHOLD_TIDLIGERE),A=y(e(k.UTTAKSPLAN)),f=y(e(k.UTTAKSPLAN_METADATA)),R=e(k.EKSISTERENDE_SAK),E=e(k.VEDLEGG),h=Rr(n),P=yr(d,r,n,s,a,l,u),v=wo(o),w=fe(d.rolle),x=_e(o),O=Ir(A,t,w,f.ønskerJustertUttakVedFødsel,x,n);return{type:"foreldrepenger",harGodkjentVilkår:!0,saksnummer:R==null?void 0:R.saksnummer,erEndringssøknad:!1,søker:P,barn:v,situasjon:d.situasjon,annenForelder:h,uttaksplan:O,informasjonOmUtenlandsopphold:{...p,...g||{senereOpphold:[]},...m||{tidligereOpphold:[]}},dekningsgrad:c.dekningsgrad,ønskerJustertUttakVedFødsel:f.ønskerJustertUttakVedFødsel,vedlegg:jr(E)}},yr=(e,t,r,n,o,s,a)=>{const l=Ho(e.rolle),u=ee(r),d={rolle:l,språkkode:t,erAleneOmOmsorg:u?r.erAleneOmOmsorg:!0};return n.harJobbetSomFrilans||n.harHattAndreInntektskilder||n.harHattAndreInntektskilder?{...d,andreInntekterSiste10Mnd:a==null?void 0:a.map(p=>({...p,tidsperiode:{fom:p.fom,tom:p.tom,pågående:p.type===Jt.SLUTTPAKKE?!1:p.pågående},pågående:p.type===Jt.SLUTTPAKKE?!1:p.pågående})),frilansInformasjon:o,selvstendigNæringsdrivendeInformasjon:s?[{næringstyper:[s.næringstype],tidsperiode:{fom:s.fomDato,tom:s.tomDato},navnPåNæringen:s.navnPåNæringen,...s}]:[]}:{...d,andreInntekterSiste10Mnd:[],selvstendigNæringsdrivendeInformasjon:[]}},zo=(e,t,r,n,o,s)=>e?Qo(t,r,n,o,s):Wo(t,n,o),Qo=(e,t,r,n,o)=>{const s=y(e(k.UTTAKSPLAN_METADATA)),a=y(e(k.ANNEN_FORELDER)),l=y(e(k.OM_BARNET)),u=y(e(k.ARBEIDSFORHOLD_OG_INNTEKT)),d=e(k.FRILANS),p=e(k.EGEN_NÆRING),c=e(k.ANDRE_INNTEKTSKILDER),g=y(e(k.PERIODE_MED_FORELDREPENGER)),m=y(e(k.SØKERSITUASJON)),A=y(e(k.EKSISTERENDE_SAK)),f=fe(m.rolle),R=_e(l),E=e(k.VEDLEGG);return{type:"foreldrepenger",erEndringssøknad:!0,saksnummer:A.saksnummer,uttaksplan:Ir(t,r,f,s.ønskerJustertUttakVedFødsel,R,a,o),søker:yr(m,n,a,u,d,p,c),annenForelder:Rr(a,!0),barn:l,dekningsgrad:g.dekningsgrad,situasjon:m.situasjon,ønskerJustertUttakVedFødsel:s.ønskerJustertUttakVedFødsel,vedlegg:jr(E)}},sr=e=>e.replace(/\d/g,"*").slice(0,250)+"...",ae=e=>{var a,l,u,d;const t=_r(e)+". ",r=Xo(e)+". ";let n=t+r;const o=((l=(a=e.request)==null?void 0:a.data)==null?void 0:l.messages)??((d=(u=e.response)==null?void 0:u.data)==null?void 0:d.messages),s=Array.isArray(o);s&&o.length>0&&(n=n+sr(o[0])),!s&&o&&(n=n+sr(o)),e.message&&(n=n+e.message),En(n)},_r=e=>{var t,r;return(r=(t=e.response)==null?void 0:t.data)!=null&&r.uuid?e.response.data.uuid:Dr},Xo=e=>{var t,r;return(r=(t=e.response)==null?void 0:t.data)!=null&&r.timestamp?e.response.data.timestamp:""},Zo=e=>{const t=e.søknad;return{[k.APP_ROUTE]:e.currentRoute,[k.EKSISTERENDE_SAK]:e.eksisterendeSak,[k.BARN_FRA_NESTE_SAK]:e.barnFraNesteSak,[k.SØKERSITUASJON]:t==null?void 0:t.søkersituasjon,[k.OM_BARNET]:t==null?void 0:t.barn,[k.ANNEN_FORELDER]:t==null?void 0:t.annenForelder,[k.ARBEIDSFORHOLD_OG_INNTEKT]:t==null?void 0:t.arbeidsforholdOgInntekt,[k.EGEN_NÆRING]:t==null?void 0:t.egenNæring,[k.FRILANS]:t==null?void 0:t.frilans,[k.ANDRE_INNTEKTSKILDER]:t==null?void 0:t.andreInntektskilder,[k.UTENLANDSOPPHOLD]:t!=null&&t.informasjonOmUtenlandsopphold?{iNorgeNeste12Mnd:t.informasjonOmUtenlandsopphold.iNorgeNeste12Mnd,iNorgeSiste12Mnd:t.informasjonOmUtenlandsopphold.iNorgeSiste12Mnd}:void 0,[k.UTENLANDSOPPHOLD_SENERE]:t!=null&&t.informasjonOmUtenlandsopphold&&t.informasjonOmUtenlandsopphold.senereOpphold&&t.informasjonOmUtenlandsopphold.senereOpphold.length>0?{senereOpphold:t.informasjonOmUtenlandsopphold.senereOpphold}:void 0,[k.UTENLANDSOPPHOLD_TIDLIGERE]:t!=null&&t.informasjonOmUtenlandsopphold&&t.informasjonOmUtenlandsopphold.tidligereOpphold&&t.informasjonOmUtenlandsopphold.tidligereOpphold.length>0?{tidligereOpphold:t.informasjonOmUtenlandsopphold.tidligereOpphold}:void 0,[k.PERIODE_MED_FORELDREPENGER]:t!=null&&t.dekningsgrad?{dekningsgrad:t.dekningsgrad}:void 0,[k.FORDELING]:e.fordeling,[k.UTTAKSPLAN]:t==null?void 0:t.uttaksplan,[k.UTTAKSPLAN_METADATA]:{ønskerJustertUttakVedFødsel:t==null?void 0:t.ønskerJustertUttakVedFødsel,perioderSomSkalSendesInn:e.perioderSomSkalSendesInn,antallUkerIUttaksplan:e.antallUkerIUttaksplan,harUttaksplanBlittSlettet:e.harUttaksplanBlittSlettet,annenPartsUttakErLagtTilIPlan:e.annenPartsUttakErLagtTilIPlan,endringstidspunkt:e.endringstidspunkt},[k.VEDLEGG]:t==null?void 0:t.vedlegg}},ea=(e,t,r=!0)=>{if(r){console.log({eventName:e,eventData:t});return}setTimeout(()=>{try{Bt&&Bt.getInstance().logEvent(e,t)}catch(n){console.error(n)}})},ta=(e,t,r,n)=>{const o=kt(),s=ms();return F.useCallback(async()=>{ea("applikasjon-hendelse",{app:"foreldrepengesoknad",team:"foreldrepenger",hendelse:"avbrutt"}),s(),t(!1),r(!1),n(void 0);try{await te.deleteMellomlagretSøknad(e)}catch{}o("/")},[e,o,s,t,r,n])},Mr=10,ra=e=>{switch(e){case U.UTTAKSPLAN:case U.OPPSUMMERING:return!0;default:return!1}},or=e=>{var t;return(t=e.søknad)!=null&&t.erEndringssøknad&&!ra(e.currentRoute)?!1:e.version===Mr},na=(e,t,r,n,o,s)=>{const a=y(t(k.APP_ROUTE)),l=t(k.SØKERSITUASJON),u=t(k.OM_BARNET),d=t(k.ANNEN_FORELDER),p=t(k.ARBEIDSFORHOLD_OG_INNTEKT),c=t(k.FRILANS),g=t(k.EGEN_NÆRING),m=t(k.ANDRE_INNTEKTSKILDER),A=t(k.UTENLANDSOPPHOLD),f=t(k.UTENLANDSOPPHOLD_SENERE),R=t(k.UTENLANDSOPPHOLD_TIDLIGERE),E=t(k.UTTAKSPLAN_METADATA),h=t(k.BARN_FRA_NESTE_SAK),P=t(k.EKSISTERENDE_SAK),v=t(k.UTTAKSPLAN),w=t(k.FORDELING),x=t(k.PERIODE_MED_FORELDREPENGER),O=t(k.VEDLEGG),K={version:Mr,locale:e,currentRoute:a,søknadGjelderEtNyttBarn:s,søknad:{harGodkjentVilkår:o,søkersituasjon:l,barn:u,annenForelder:d,arbeidsforholdOgInntekt:p,frilans:c,egenNæring:g,andreInntektskilder:m,informasjonOmUtenlandsopphold:A?{...A,senereOpphold:(f==null?void 0:f.senereOpphold)||[],tidligereOpphold:(R==null?void 0:R.tidligereOpphold)||[]}:void 0,erEndringssøknad:n,dekningsgrad:x==null?void 0:x.dekningsgrad,uttaksplan:v,vedlegg:O,ønskerJustertUttakVedFødsel:E==null?void 0:E.ønskerJustertUttakVedFødsel},eksisterendeSak:P,barnFraNesteSak:h,fordeling:w,endringstidspunkt:E==null?void 0:E.endringstidspunkt,antallUkerIUttaksplan:E==null?void 0:E.antallUkerIUttaksplan,perioderSomSkalSendesInn:E==null?void 0:E.perioderSomSkalSendesInn,harUttaksplanBlittSlettet:E==null?void 0:E.harUttaksplanBlittSlettet,annenPartsUttakErLagtTilIPlan:E==null?void 0:E.annenPartsUttakErLagtTilIPlan};return te.storeAppState(K,r)},sa=(e,t,r,n,o)=>{const s=kt(),a=Tr(),[l,u]=F.useState(!1),d=F.useRef();return F.useEffect(()=>{if(l){const c=y(a(k.APP_ROUTE));(async()=>{u(!1),s(c),await na(e,a,t,r,n,o),d.current&&d.current()})().catch(m=>{ae(m),d.current&&d.current()})}},[l]),F.useCallback(()=>(u(!0),new Promise(g=>{d.current=g})),[])},oa=e=>!!(e&&typeof e=="object"&&"isAxiosError"in e),aa=(e,t,r,n)=>{const o=Tr(),[s,a]=F.useState();return{sendSøknad:async u=>{const d=y(o(k.UTTAKSPLAN_METADATA)),p=y(o(k.OM_BARNET)),c=zo(t,o,d.perioderSomSkalSendesInn,Ur(p),n,d.endringstidspunkt);c.uttaksplan.length===0&&c.erEndringssøknad&&a(new Error("Søknaden din inneholder ingen nye perioder."));let g;try{g=(await te.sendSøknad(c,e,u)).data}catch(m){if(oa(m)){ae(m);const A=_r(m),f=A!==Dr?A.slice(0,8):A;a(new Error(bo+f))}else a(new Error(String(m)))}try{await te.deleteMellomlagretSøknad(e,u)}catch{}r(g)},errorSendSøknad:s}};var me=(e=>(e.ønskerAutomatiskJustering="ønskerAutomatiskJustering",e))(me||{});const at=bn(),ia=(e,t)=>{const[r,n]=F.useState(e);return F.useEffect(()=>{const o=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(o)}},[e,t]),r},Re=e=>q(e)||Ar(e)||Ln(e)||Kn(e),ar=(e,t,r,n,o)=>n?t?la(n,e,o,r):e.filter(Re):e,da=(e,t,r,n)=>{const o=t.filter(s=>Dn(r,s.tidsperiode.fom,s.tidsperiode.tom)||b(s.tidsperiode.fom).isSameOrAfter(b(r),"day")).filter(Re);if(o.length===0&&(e.length>t.length||e.filter(Re).length>t.filter(Re).length)){const s=e.find(l=>b(l.tidsperiode.fom).isSame(r,"day"));return[{id:I(),type:D.Utsettelse,tidsperiode:{fom:s.tidsperiode.fom,tom:s.tidsperiode.tom},årsak:Sr.Fri,forelder:n?N.farMedmor:N.mor,erArbeidstaker:!1}]}else return o},la=(e,t,r,n)=>r===void 0?[]:da(e,t,r,n),pa=(e,t)=>e&&t?(100-parseInt(t,10)).toString():"100",ua=e=>Gn(e),ka=(e,t)=>({ønskerAutomatiskJustering:e!==void 0&&t?xn(e):ye.UNANSWERED}),br=({termindato:e,perioderMedUttakRundtFødsel:t,antallBarn:r,visibility:n})=>{const o=pt(),s=T(e).denneEllerNeste(),a=J(k.UTTAKSPLAN_METADATA),l=Z(k.UTTAKSPLAN_METADATA),u=a==null?void 0:a.ønskerJustertUttakVedFødsel,d=u&&t.length>1,p=u&&t.length===1&&!b(t[0].tidsperiode.fom).isSame(s,"day"),c=u&&t.length===1&&b(t[0].tidsperiode.fom).isSame(s,"day")&&(q(t[0])&&(t[0].konto!==S.Fedrekvote||!t[0].ønskerSamtidigUttak)||Ar(t[0])),g=u&&t.length===1&&b(t[0].tidsperiode.fom).isSame(s,"day")&&q(t[0])&&t[0].konto===S.Fedrekvote&&t[0].ønskerFlerbarnsdager===!0;let m="";d&&(m="uttaksplan.automatiskJustering.info.hvisFlerePerioder"),p&&(m="uttaksplan.automatiskJustering.info.hvisIkkeLengerStarterPåTermin"),c&&(m="uttaksplan.automatiskJustering.info.hvisEndretPeriodePåTermin"),g&&(m="uttaksplan.automatiskJustering.info.hvisEndretPeriodeTilØnskerFlerbarnsdager");const A=f=>{const R=ua(f);l({...a,ønskerJustertUttakVedFødsel:R})};return i.jsx(at.Form,{includeButtons:!1,children:i.jsxs("div",{style:{paddingTop:"1rem",paddingBottom:"1rem"},children:[m!==""&&i.jsx(le,{padBottom:"l",children:i.jsx(rt,{variant:"info",children:i.jsx(W,{id:m})})}),i.jsx(le,{visible:n.isVisible(me.ønskerAutomatiskJustering),padBottom:"l",children:i.jsx(at.YesOrNoQuestion,{name:me.ønskerAutomatiskJustering,legend:o.formatMessage({id:"uttaksplan.automatiskJustering.spørsmål"},{antallBarn:r}),validate:f=>{if(f===ye.UNANSWERED)return o.formatMessage({id:"uttaksplan.automatiskJustering.svar.påkrevd"})},afterOnChange:f=>A(f)})})]})})};br.__docgenInfo={description:"",methods:[],displayName:"AutomatiskJusteringForm",props:{termindato:{required:!0,tsType:{name:"Date"},description:""},perioderMedUttakRundtFødsel:{required:!0,tsType:{name:"Array",elements:[{name:"union",raw:`| Uttaksperiode
| Utsettelsesperiode
| Oppholdsperiode
| Overføringsperiode
| PeriodeHull
| PeriodeUtenUttakUtsettelse
| PeriodeUtenUttak
| InfoPeriode`,elements:[{name:"union",raw:"UttaksperiodeBase | ForeldrepengerFørFødselUttaksperiode",elements:[{name:"UttaksperiodeBase"},{name:"ForeldrepengerFørFødselUttaksperiode"}]},{name:"Utsettelsesperiode"},{name:"Oppholdsperiode"},{name:"Overføringsperiode"},{name:"PeriodeHull"},{name:"PeriodeUtenUttakUtsettelse"},{name:"PeriodeUtenUttak"},{name:"union",raw:"AvslåttPeriode | UttakAnnenPartInfoPeriode | UtsettelseAnnenPartInfoPeriode",elements:[{name:"AvslåttPeriode"},{name:"UttakAnnenPartInfoPeriode"},{name:"UtsettelseAnnenPartInfoPeriode"}]}]}],raw:"Periode[]"},description:""},antallBarn:{required:!0,tsType:{name:"number"},description:""},visibility:{required:!0,tsType:{name:"QuestionVisibility",elements:[{name:"UttaksplanFormField"},{name:"undefined"}],raw:"QuestionVisibility<UttaksplanFormField, undefined>"},description:""}}};const ca=(e,t)=>t!==void 0&&q(e)&&b(e.tidsperiode.fom).isSame(T(b(t).toDate()).denneEllerNeste(),"day")&&e.forelder===N.farMedmor&&e.konto===S.Fedrekvote&&e.ønskerSamtidigUttak===!0&&e.ønskerFlerbarnsdager!==!0,ga=(e,t,r)=>e&&t.length===1&&ca(t[0],r),ma=(e,t,r,n,o,s,a)=>e&&pe(t)&&r==="fødsel"&&n.length!==0&&Pr(o)&&s!==void 0&&!a,Lr=({children:e,lastStep:t=!1,singleButton:r=!1})=>{const n=Gs("step-button-wrapper");return i.jsx("div",{className:jn(n.block,t?n.modifier("last-step"):void 0,r?n.modifier("single-button"):void 0),children:e})};Lr.__docgenInfo={description:"",methods:[],displayName:"StepButtonWrapper",props:{lastStep:{defaultValue:{value:"false",computed:!1},required:!1},singleButton:{defaultValue:{value:"false",computed:!1},required:!1}}};const Kr=({isOpen:e,setIsOpen:t,goToPreviousStep:r})=>i.jsxs(De,{"aria-label":"Vil du gå tilbake",open:e,onClose:()=>t(!1),children:[i.jsx(De.Header,{children:i.jsx(Bs,{size:"small",level:"1",children:i.jsx(W,{id:"uttaksplan.vilDuGåTilbakeModal.tittel"})})}),i.jsx(De.Body,{children:i.jsxs(Vs,{gap:"4",children:[i.jsx(er,{children:i.jsx(W,{id:"uttaksplan.vilDuGåTilbakeModal.intro"})}),i.jsx(er,{children:i.jsx(W,{id:"uttaksplan.vilDuGåTilbakeModal.spørsmål"})})]})}),i.jsxs(De.Footer,{children:[i.jsx(Ie,{onClick:r,children:i.jsx(W,{id:"uttaksplan.vilDuGåTilbakeModal.okLabel"})}),i.jsx(Ie,{variant:"secondary",onClick:()=>t(!1),children:i.jsx(W,{id:"uttaksplan.vilDuGåTilbakeModal.avbrytLabel"})})]})]});Kr.__docgenInfo={description:"",methods:[],displayName:"VilDuGåTilbakeModal",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},setIsOpen:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"boolean"}],raw:"SetStateAction<boolean>"}],raw:"Dispatch<SetStateAction<boolean>>"},description:""},goToPreviousStep:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const fa=e=>{if(!e)throw new Error("Mangler informasjon om annen forelders siste dag.");const t=T(e).denneEllerForrige();return T(t).neste()},Ea=(e,t)=>{if(t.fordelingValg===zt.ALT)return e*5;if(t.fordelingValg===zt.VIL_VELGE){const r=Qt(t.antallDagerFellesperiodeTilSøker)??0;return(Qt(t.antallUkerFellesperiodeTilSøker)??0)*5+r}},Sa=(e,t,r,n,o,s,a)=>{if((!e||e===se.ANNEN_DATO)&&t)return nt(t);switch(e){case se.TRE_UKER_FØR_TERMIN:return Ct(r);case se.TRE_UKER_FØR_FØDSEL:return Ct(n);case se.FAMILIEHENDELSESDATO:return n;case se.ANKOMSTDATO_NORGE:return Vn(o);case se.DAGEN_ETTER_ANNEN_FORELDER:return fa(s);case se.DATO_FOR_ALENEOMSORG:return Bn(a);default:throw new Error("Ukjent verdi på oppstartValg.")}},Aa=(e,t,r,n,o,s,a)=>{if(s!==!0){const l=T(n||e).denneEllerNeste(),u=[],d=t?S.Fedrekvote:S.Mødrekvote,p=t?N.farMedmor:N.mor,c=r.find(m=>t?m.konto===S.Fedrekvote:m.konto===S.Mødrekvote);let g=l;if(c!==void 0){const m={id:I(),type:D.Uttak,forelder:p,konto:d,tidsperiode:L(g,c.dager),ønskerSamtidigUttak:!1,gradert:!1};g=T(m.tidsperiode.tom).neste(),a!==void 0&&z(m.tidsperiode,a)?Q(m,a).forEach(f=>u.push(f)):u.push(m)}if(o!==void 0&&o>0){const m={id:I(),type:D.Uttak,forelder:p,konto:S.Fellesperiode,tidsperiode:L(g,o),ønskerSamtidigUttak:!1,gradert:!1};a!==void 0&&z(m.tidsperiode,a)?Q(m,a).forEach(f=>u.push(f)):u.push(m)}return u.sort(Ee)}else return[]},va=(e,t,r,n,o,s,a)=>r?it(t,n,o,s,e,void 0,void 0,a,"adopsjon"):it(t,n,o,s,e,void 0,void 0,a,"adopsjon").map(d=>q(d)&&(d.konto===S.Fedrekvote||d.konto===S.Fellesperiode)?d.konto===S.Fedrekvote?{...d,konto:S.Mødrekvote,forelder:N.mor}:{...d,forelder:N.mor}:d),Fa=(e,t,r,n,o,s,a,l,u,d)=>s?va(e,r,t,a,l,u,d):Aa(e,t,r,n,o,s,d),ha=(e,t,r,n)=>{const o=T(e).denneEllerNeste(),s=[],a=b(r).isBefore(b(e),"d"),l=t.find(p=>p.konto===S.ForeldrepengerFørFødsel),u=t.find(p=>p.konto===S.Mødrekvote);let d=o;if(l!==void 0&&a&&r){const p=T(r).denneEllerNeste(),c=T(p).getUttaksdagerFremTilDato(d),g=c>15,m=T(o).trekkFra(g?15:c);if(g){const f={id:I(),type:D.Uttak,forelder:N.mor,konto:S.Fellesperiode,tidsperiode:L(p,c-15),vedlegg:[]};s.push(f)}const A={id:I(),type:D.Uttak,forelder:N.mor,konto:S.ForeldrepengerFørFødsel,tidsperiode:{fom:m,tom:T(d).forrige()}};s.push(A)}else{const p={id:I(),type:D.Uttak,forelder:N.mor,konto:S.ForeldrepengerFørFødsel,skalIkkeHaUttakFørTermin:!0,tidsperiode:{fom:T(d).trekkFra(15),tom:T(d).forrige()},vedlegg:[]};s.push(p)}if(u!==void 0){const p={id:I(),type:D.Uttak,forelder:N.mor,konto:S.Mødrekvote,tidsperiode:L(d,u.dager),ønskerSamtidigUttak:!1,gradert:!1};d=T(p.tidsperiode.tom).neste(),s.push(p)}if(n!==void 0&&n>0){const p=s.find(g=>q(g)&&g.konto===S.Fellesperiode);let c=0;if(p&&(c=cr(p.tidsperiode).getAntallUttaksdager()),n-c>0){const g={id:I(),type:D.Uttak,forelder:N.mor,konto:S.Fellesperiode,tidsperiode:L(d,n-c),ønskerSamtidigUttak:!1,gradert:!1};s.push(g)}}return s.sort(Ee)},it=(e,t,r,n,o,s,a,l,u="fødsel")=>{if(!pe(o)&&Rn(r,n)&&!a)return[];const d=[],p=T(n).denneEllerNeste();let c=T(n).denneEllerNeste();const g=e.find(f=>f.konto===S.Fedrekvote),m=e.find(f=>f.konto===S.Fellesperiode),A=!0;if(g!==void 0){const f=u==="fødsel"&&pe(o)&&wn(L(p,1),o,s),R=f?Hn(o,p):g.dager,E={id:I(),type:D.Uttak,forelder:N.farMedmor,konto:S.Fedrekvote,tidsperiode:L(p,R),ønskerSamtidigUttak:f,samtidigUttakProsent:f?"100":void 0};c=T(E.tidsperiode.tom).neste(),st(E,o,A,s)?ot(E,o).forEach(P=>d.push(P)):l!==void 0&&z(E.tidsperiode,l)?Q(E,l).forEach(P=>d.push(P)):d.push(E)}if(m!==void 0){let f=0;if(t!==void 0&&t!==0&&(f=5*t),f>0){const R={id:I(),type:D.Uttak,forelder:N.farMedmor,konto:S.Fellesperiode,tidsperiode:L(c,f),ønskerSamtidigUttak:!1,gradert:!1};d.push(R)}}return d},Ta=(e,t,r,n,o,s,a,l,u,d,p)=>{if(t){const c=r.filter(g=>g.konto!==S.ForeldrepengerFørFødsel);return it(c,s,a,l,e,p,u,d)}else return ha(e,r,n,o)},Pa=e=>e.situasjon==="adopsjon"?Fa(e.famDato,e.erFarEllerMedmor,e.tilgjengeligeStønadskontoer,e.startdatoPermisjon,e.fellesperiodeDagerMor,e.harAnnenForelderSøktFP,e.antallUkerFellesperiodeFarMedmor,e.morSinSisteUttaksdag,e.farSinFørsteUttaksdag,e.førsteUttaksdagNesteBarnsSak):e.situasjon==="fødsel"?Ta(e.famDato,e.erFarEllerMedmor,e.tilgjengeligeStønadskontoer,e.startdatoPermisjon,e.fellesperiodeDagerMor,e.antallUkerFellesperiodeFarMedmor,e.morSinSisteUttaksdag,e.farSinFørsteUttaksdag,e.annenForelderHarRettPåForeldrepengerIEØS,e.førsteUttaksdagNesteBarnsSak,e.termindato):[],Ua=(e,t,r,n,o,s,a)=>{const l=T(r||e).denneEllerNeste(),u=[];if(n!==!0){let d=l;if(pe(e)&&s){const c={id:I(),type:D.Uttak,forelder:N.farMedmor,konto:S.AktivitetsfriKvote,tidsperiode:L(l,o.dager),vedlegg:[],gradert:!1,harIkkeAktivitetskrav:!0};a!==void 0&&z(c.tidsperiode,a)?Q(c,a).forEach(m=>u.push(m)):u.push(c),d=T(c.tidsperiode.tom).neste()}const p={id:I(),type:D.Uttak,forelder:N.farMedmor,konto:t.konto,tidsperiode:L(d,t.dager),vedlegg:[],gradert:!1};a!==void 0&&z(p.tidsperiode,a)?Q(p,a).forEach(g=>u.push(g)):u.push(p)}else{const d={id:I(),type:D.Uttak,forelder:N.farMedmor,konto:S.AktivitetsfriKvote,tidsperiode:L(l,o.dager),vedlegg:[],gradert:!1,harIkkeAktivitetskrav:!0};a!==void 0&&z(d.tidsperiode,a)?Q(d,a).forEach(g=>u.push(g)):u.push(d);const p={id:I(),type:D.Uttak,forelder:N.farMedmor,konto:S.Foreldrepenger,tidsperiode:L(T(d.tidsperiode.tom).neste(),t.dager),vedlegg:[],gradert:!1};a!==void 0&&z(p.tidsperiode,a)?Q(p,a).forEach(g=>u.push(g)):u.push(p)}return u},Na=(e,t,r,n)=>{const o=T(r||e).denneEllerNeste(),s={id:I(),type:D.Uttak,forelder:N.mor,konto:t.konto,tidsperiode:L(o,t.dager),vedlegg:[],gradert:!1};return n!==void 0&&z(s.tidsperiode,n)?Q(s,n):[s]},Oa=(e,t,r,n,o,s,a,l)=>t?Ua(e,r,n,o,s,a,l):Na(e,r,n,l),Da=(e,t,r,n)=>{const o=T(e).denneEllerNeste(),s=[],a=b(r).isBefore(b(e),"d");if(n!==void 0&&a&&r){const p=T(r).getUttaksdagerFremTilDato(o),c=p>15,g=T(o).trekkFra(c?15:p);if(c){const A={id:I(),type:D.Uttak,forelder:N.mor,konto:S.Foreldrepenger,tidsperiode:L(r,p-15),vedlegg:[]};s.push(A)}const m={id:I(),type:D.Uttak,forelder:N.mor,konto:n.konto,tidsperiode:{fom:g,tom:T(o).forrige()},vedlegg:[]};s.push(m)}else{const p={id:I(),type:D.Uttak,forelder:N.mor,konto:S.ForeldrepengerFørFødsel,skalIkkeHaUttakFørTermin:!0,tidsperiode:{fom:T(o).trekkFra(15),tom:T(o).forrige()},vedlegg:[]};s.push(p)}const l=s.find(p=>q(p)&&p.konto===S.Foreldrepenger),u=l?L(o,t.dager-cr(l.tidsperiode).getAntallUttaksdager()):L(o,t.dager),d={id:I(),type:D.Uttak,forelder:N.mor,konto:t.konto,tidsperiode:u,vedlegg:[],gradert:!1};return s.push(d),s.sort(Ee)},Ra=(e,t,r,n,o,s,a,l)=>{const u=T(r||e).denneEllerNeste(),d=!1,p=[];if(n!==!0){let c=u;if(pe(e)&&s){const m={id:I(),type:D.Uttak,forelder:N.farMedmor,konto:S.AktivitetsfriKvote,tidsperiode:L(u,o.dager),vedlegg:[],harIkkeAktivitetskrav:!0};st(m,e,d,a)?ot(m,e).forEach(f=>p.push(f)):l!==void 0&&z(m.tidsperiode,l)?Q(m,l).forEach(f=>p.push(f)):p.push(m),c=T(m.tidsperiode.tom).neste()}const g={id:I(),type:D.Uttak,forelder:N.farMedmor,konto:t.konto,tidsperiode:L(c,t.dager),vedlegg:[],gradert:!1};p.push(g)}else{const c={id:I(),type:D.Uttak,forelder:N.farMedmor,konto:S.AktivitetsfriKvote,tidsperiode:L(u,o.dager),vedlegg:[],gradert:!1,harIkkeAktivitetskrav:!0};st(c,e,d,a)?ot(c,e).forEach(A=>p.push(A)):p.push(c);const g={id:I(),type:D.Uttak,forelder:N.farMedmor,konto:S.Foreldrepenger,tidsperiode:L(T(c.tidsperiode.tom).neste(),t.dager),vedlegg:[],gradert:!1};p.push(g)}return p.sort(Ee)},Ia=(e,t,r,n,o,s,a,l,u,d)=>t?Ra(e,r,n,s,a,l,u,d):Da(e,r,n,o),ja=(e,t,r,n,o,s,a,l,u)=>{const d=n.find(g=>g.konto===S.Foreldrepenger),p=n.find(g=>g.konto===S.ForeldrepengerFørFødsel),c=n.find(g=>g.konto===S.AktivitetsfriKvote);return e==="adopsjon"?Oa(t,r,d,o,s,c,a,u):e==="fødsel"?Ia(t,r,d,o,p,s,c,a,l,u):[]},ya=(e,t,r,n,o,s,a)=>{const l=fe(e.rolle),u=Fr(n),d=e.situasjon,p=d==="adopsjon",c=Nr(t),g=Jn(r),m=nt(is(n)),A=nt(_e(t)),f=fs(t)&&t.adoptertIUtlandet?b(t.ankomstdato).toDate():void 0,R=hr(n),E=o&&o.length>0?T(o[o.length-1].tidsperiode.tom).denneEllerForrige():void 0,h=Sa(s.oppstartAvForeldrepengerValg,s.oppstartDato,A,c,f,E,m),P=l?E:void 0,v=vr(l,n,R),w=!l||!v,x=Ea(g,s),O=l?void 0:x,K=l?x:void 0,Me=l?h:void 0,be=ee(n)&&n.erMorUfør,Le=ee(n)&&n.harRettPåForeldrepengerIEØS,ie=a==null?void 0:a.startdatoFørsteStønadsperiode,ke=lt({erDeltUttak:u,morHarRett:w,søkerErAleneOmOmsorg:R}),Se=o!==void 0;if(u){const C=Pa({situasjon:d,famDato:c,erFarEllerMedmor:l,tilgjengeligeStønadskontoer:r.kontoer,startdatoPermisjon:h,fellesperiodeDagerMor:O,harAnnenForelderSøktFP:Se,antallUkerFellesperiodeFarMedmor:K,morSinSisteUttaksdag:P,farSinFørsteUttaksdag:Me,annenForelderHarRettPåForeldrepengerIEØS:Le,termindato:A,førsteUttaksdagNesteBarnsSak:ie});return je(C,ke,c,p,!1,l,ie)}else{const C=ja(d,c,l,r.kontoer,h,be,v,A,ie);return je(C,ke,c,p,v,l,ie)}},_a=(e,t,r,n,o,s,a,l)=>{const u=Nr(o),d=s.situasjon,p=fe(s.rolle),c=hr(r),g=vr(p,r,c),m=!p||!g,A=Fr(r),f=d==="adopsjon";if(t&&t.length>0&&e.length>0){const R=lt({erDeltUttak:A,morHarRett:m,søkerErAleneOmOmsorg:c}),E=ho(t,e,u,R,f,g,p,a==null?void 0:a.startdatoFørsteStønadsperiode);return l({...n,annenPartsUttakErLagtTilIPlan:!0}),E}else return t&&t.length>0?(l({...n,annenPartsUttakErLagtTilIPlan:!0}),t):e},Ma=(e,t,r,n,o,s,a,l,u)=>{if(!a)throw new Error("Fordeling er undefined.");const d=ya(r,n,e,s,t,a,o);return _a(d,t,s,l,n,r,o,u)},ba={[me.ønskerAutomatiskJustering]:{isIncluded:({periodeRundtFødselKanAutomatiskJusteres:e})=>e,isAnswered:({ønskerAutomatiskJustering:e})=>e!==ye.UNANSWERED}},La=qn(ba),Ka=[],dt=({søkerInfo:e,erEndringssøknad:t,mellomlagreSøknadOgNaviger:r,avbrytSøknad:n})=>{const o=pt(),s=Cn(e.arbeidsforhold,t),a=Yn(e.arbeidsforhold,r,t),[l,u]=F.useState(!1),[d,p]=F.useState(!1),[c,g]=F.useState(!1),[m,A]=F.useState(!1),[f,R]=F.useState(!0),E=y(J(k.SØKERSITUASJON)),h=y(J(k.OM_BARNET)),P=y(J(k.ANNEN_FORELDER)),v=J(k.UTTAKSPLAN_METADATA),w=y(J(k.PERIODE_MED_FORELDREPENGER)),x=J(k.UTTAKSPLAN)||Ka,O=J(k.BARN_FRA_NESTE_SAK),K=J(k.EKSISTERENDE_SAK),Me=J(k.VEDLEGG),be=J(k.FORDELING),[Le,ie]=F.useState(t||x.length>0),ke=Z(k.OM_BARNET),Se=Z(k.BARN_FRA_NESTE_SAK),C=Z(k.UTTAKSPLAN),Ae=Z(k.EKSISTERENDE_SAK),Y=Z(k.UTTAKSPLAN_METADATA),Jr=Z(k.APP_ROUTE),qr=Z(k.VEDLEGG),[ve,Cr]=F.useState(v==null?void 0:v.endringstidspunkt),[Fe,Ke]=F.useState((v==null?void 0:v.perioderSomSkalSendesInn)||[]),ct=ee(P)?P:void 0,gt=ct?ct.erAleneOmOmsorg:!0,{situasjon:xe}=E,{rolle:mt}=E,Yr=$n(P),he=ee(P)?!!P.harRettPåForeldrepengerINorge||!!P.harRettPåForeldrepengerIEØS:!1,M=fe(E.rolle),ft=Wn(!M,gt,P),Et=zn(M,gt,P),Te=ft||Et,$r=he?void 0:M?N.farMedmor:N.mor,re=Ur(h),ce=wt(re),Wr=Qn(P,M),zr=Xn(e.søker,P,M,o),St=h.antallBarn,Qr=St>1,At=Yt(mt,M,P),H=K==null?void 0:K.uttaksplan,Xr=K?K.uttaksplan!==void 0:!1,Zr=!1,X=_e(h),vt=ee(P)&&!P.utenlandskFnr?P.fnr:void 0,Ge=xe==="adopsjon",Ft=O!==void 0?O.annenForelderFnr:void 0,ht=O!==void 0&&O.fnr!==void 0&&O.fnr.length>0?O.fnr[0]:void 0,Be=O!==void 0?O.familiehendelsesdato:void 0,ne=O!==void 0?O.startdatoFørsteStønadsperiode:void 0,Ve=!Yt(E.rolle,M,P)&&!Te,Tt=!Pr(h)&&h.fnr!==void 0&&h.fnr.length>0?h.fnr[0]:void 0,Pe=Te||!vt||Tt===void 0&&re===void 0,en=O!==void 0?O.startdatoFørsteStønadsperiode:void 0,tn=ia(Es(),3e3),Pt=F.useRef(!0);F.useEffect(()=>{Pt.current===!1&&r(),Pt.current=!1},[tn,r]);const{data:we,requestStatus:He,error:Je}=et(tt.ANNEN_PART_VEDTAK,{annenPartFødselsnummer:vt,barnFødselsnummer:Tt,familiehendelse:re},Pe),B=F.useMemo(()=>Ks(we,h,M,re,ne),[we,h,M,re,ne]),Ut=()=>{A(!1);const j={[$.BEKREFTELSE_DELTAR_KVALIFISERINGSPROGRAM]:[],[$.DOK_DELTAKELSE_I_INTRODUKSJONSPROGRAMMET]:[],[$.DOK_SYKDOM_MOR]:[],[$.DOK_SYKDOM_FAR]:[],[$.DOK_INNLEGGELSE_BARN]:[],[$.DOK_INNLEGGELSE_MOR]:[],[$.DOK_INNLEGGELSE_FAR]:[],[$.DOK_ARBEID_MOR]:[],[$.DOK_UTDANNING_MOR]:[],[$.DOK_UTDANNING_OG_ARBEID_MOR]:[]};Y({...v,perioderSomSkalSendesInn:[],endringstidspunkt:void 0,ønskerJustertUttakVedFødsel:void 0}),C([]),qr({...Me,...j}),Jr(U.FORDELING),r(),a.goToPreviousDefaultStep()},qe=ls(M,h.antallBarn,B==null?void 0:B.grunnlag.antallBarn);F.useEffect(()=>{M&&h.antallBarn!==qe&&ke({...h,antallBarn:qe})},[M,qe,h,ke]);const Ce=!Ft||ht===void 0&&Be===void 0||!Pe&&He!==oe.FINISHED,{data:rn,requestStatus:Nt,error:Ye}=et(tt.NESTE_SAK_ANNEN_PART_VEDTAK,{annenPartFødselsnummer:Ft,barnFødselsnummer:ht,familiehendelse:In(Be)},Ce),Ue=xs(rn);F.useEffect(()=>{if(Ue!==void 0&&O!==void 0&&(b(Ue).isBefore(O.startdatoFørsteStønadsperiode,"d")||O.startdatoFørsteStønadsperiode===void 0)){const j={...O,startdatoFørsteStønadsperiode:Ue};Se(j)}},[ne,Ue,O,Se]);const Ot=lt({erDeltUttak:he,morHarRett:At,søkerErAleneOmOmsorg:Te});F.useEffect(()=>{if(K!==void 0&&H!==void 0&&B!==void 0&&!(v!=null&&v.annenPartsUttakErLagtTilIPlan)){H.forEach(G=>{if(q(G)){const jt=mr(B.uttaksplan).finnOverlappendePerioder(G);jt.length!==0&&jt.find(yt=>fr(yt)&&yt.ønskerSamtidigUttak===!0)&&(G.ønskerSamtidigUttak||(G.ønskerSamtidigUttak=!0,G.samtidigUttakProsent=pa(G.gradert,G.stillingsprosent)))}});const j=je(Er(H,B.uttaksplan,ce,ne,!0),Ot,ce,Ge,Ve,M,ne),V={...K,uttaksplan:j};C(j),Ae(V),Y({...v,annenPartsUttakErLagtTilIPlan:!0})}},[B,H,ce,Ot,Ge,Ve,M,ne,K,v,C,Ae,Y]),F.useEffect(()=>{const j=H==null?void 0:H.find(V=>q(V)&&V.angittAvAnnenPart);if(j&&ve===void 0){const V=j.tidsperiode.fom,G=ar(x,t,M,H,V);Ke(G),Y({...v,perioderSomSkalSendesInn:G,endringstidspunkt:ve})}},[H,ve,M,x,t,Y,v]);const Dt=async()=>(u(!0),p(!0),Y({...v,endringstidspunkt:ve,perioderSomSkalSendesInn:Fe,antallUkerIUttaksplan:kn}),a.goToNextDefaultStep()),Ne=Zn(x,ce,X?b(X).toDate():void 0),$e=ma(M,ce,xe,Ne,h,X,Ve),Oe=ga($e,Ne,X),nn=()=>{Oe||Y({...v,ønskerJustertUttakVedFødsel:void 0})},sn=j=>Oe&&j!==void 0,We=F.useRef(null),on=async j=>{p(!0),f&&!It&&(u(!0),We.current&&We.current.handleSubmit(),nn(),sn(j.ønskerAutomatiskJustering)&&await Dt())},an=es(e.søker.kjønn,Yr,he,ft,Et,mt),dn=(Pe?!1:He!==oe.FINISHED)||(Ce?!1:Nt!==oe.FINISHED),{data:de,error:ze}=et(tt.STØNADSKONTOER,ps(h,P,E,O,we,K),dn),ln=j=>{p(!1),u(!1),g(!0),C(j);const V=ds(H,j,t);Cr(V);const G=ar(j,t,M,H,V);Ke(G),Y({...v,perioderSomSkalSendesInn:G})},Qe=F.useMemo(()=>{if(de)return w.dekningsgrad===$t.HUNDRE_PROSENT?de[100]:de[80]},[de,w.dekningsgrad]);if(F.useEffect(()=>{if(x.length===0){const j=Ma(Qe,B==null?void 0:B.uttaksplan,E,h,O,P,be,v,Y);C(j),ie(!0),r()}},[]),F.useEffect(()=>{!K&&!t&&B!==void 0&&Ae(B)},[t,B,K,Ae]),F.useEffect(()=>{if(ze)throw ae(ze),new Error("Vi klarte ikke å hente opp stønadskontoer. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.");if(Je)throw ae(Je),new Error("Vi klarte ikke å hente informasjon om saken til annen forelder. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.");if(Ye)throw ae(Ye),new Error("Vi klarte ikke å hente informasjon om saken til annen forelder for neste barn. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.")},[ze,Je,Ye]),!Le||!de||He!==oe.FINISHED&&!Pe||Nt!==oe.FINISHED&&!Ce)return i.jsx("div",{style:{textAlign:"center",padding:"12rem 0"},children:i.jsx(gr,{size:"2xlarge"})});const Rt=ts(de[$t.HUNDRE_PROSENT].minsteretter.toTette),It=t&&(Fe===void 0||Fe.length===0),pn=()=>{const j=x.filter(V=>ss(V));C(j),Y({...v,harUttaksplanBlittSlettet:!0})},un=()=>{K&&(C(K.uttaksplan),Y({...v,perioderSomSkalSendesInn:[]}),Ke([]))},kn=rs(Qe);return i.jsx(at.FormikWrapper,{initialValues:ka(v==null?void 0:v.ønskerJustertUttakVedFødsel,Oe),onSubmit:Dt,innerRef:We,renderForm:({values:j})=>{const V=La.getVisbility({ønskerAutomatiskJustering:j[me.ønskerAutomatiskJustering]??ye.NO,periodeRundtFødselKanAutomatiskJusteres:Oe});return i.jsxs(Sn,{bannerTitle:o.formatMessage({id:"søknad.pageheading"}),onCancel:n,onContinueLater:a.fortsettSøknadSenere,steps:s,children:[en&&i.jsx(Ls,{minsterettUkerToTette:Rt}),i.jsx(ns,{foreldreSituasjon:an,forelderVedAleneomsorg:$r,erDeltUttak:he,uttaksplan:x,familiehendelsesdato:re,handleOnPlanChange:ln,stønadskontoer:Qe,navnPåForeldre:zr,annenForelder:P,arbeidsforhold:bs(e.arbeidsforhold,Ge,M,wt(re)),erEndringssøknad:t,erFarEllerMedmor:M,erFlerbarnssøknad:Qr,erAleneOmOmsorg:Te,harMidlertidigOmsorg:Zr,situasjon:xe,erMorUfør:Wr,morHarRett:At,søkersituasjon:E,dekningsgrad:w.dekningsgrad,antallBarn:St,setUttaksplanErGyldig:R,eksisterendeSak:K,perioderSomSkalSendesInn:Fe,harKomplettUttaksplan:Xr,opprinneligPlan:v!=null&&v.harUttaksplanBlittSlettet?void 0:H,handleSlettUttaksplan:pn,handleResetUttaksplan:un,termindato:X?b(X).toDate():void 0,barn:h,visAutomatiskJusteringForm:$e,perioderMedUttakRundtFødsel:Ne,barnFraNesteSak:O,familiehendelsesdatoNesteSak:Be,førsteUttaksdagNesteBarnsSak:ne,minsterettUkerToTette:Rt}),$e&&i.jsx(le,{padBottom:"l",children:i.jsx(br,{termindato:X?b(X).toDate():void 0,perioderMedUttakRundtFødsel:Ne,antallBarn:h.antallBarn,visibility:V})}),i.jsx(Kr,{isOpen:m,setIsOpen:A,goToPreviousStep:Ut}),!f&&d&&i.jsx(le,{textAlignCenter:!0,padBottom:"l",children:i.jsx(rt,{variant:"error",children:i.jsx(W,{id:"uttaksplan.validering.kanIkkeGåVidere"})})}),It&&d&&i.jsx(le,{textAlignCenter:!0,padBottom:"l",children:i.jsx(rt,{variant:"error",children:i.jsx(W,{id:"uttaksplan.validering.kanIkkeGåVidereEndringssøknad"})})}),i.jsx(le,{textAlignCenter:!0,padBottom:"l",children:i.jsxs(Lr,{singleButton:!0,children:[!t&&i.jsx(Ie,{variant:"secondary",onClick:c?G=>{G.preventDefault(),A(!0)}:Ut,children:i.jsx(W,{id:"backlink.label"})}),i.jsx(Ie,{type:"submit",onClick:on,disabled:l,loading:l,children:i.jsx(W,{id:"søknad.gåVidere"})})]})})]})}})};dt.__docgenInfo={description:"",methods:[],displayName:"UttaksplanStep"};const xa=(e,t,r=[])=>{switch(e){case U.SØKERSITUASJON:return t===!0;case U.OPPSUMMERING:return os(r)===!1&&r.length>0;default:return!0}},Ga=(e,t,r,n,o,s,a)=>!e||a===void 0?i.jsx(_,{path:"*",element:i.jsx(Wt,{to:U.VELKOMMEN})}):kr(r.søker.fødselsdato)?t?i.jsxs(i.Fragment,{children:[i.jsx(_,{path:U.UTTAKSPLAN,element:i.jsx(dt,{søkerInfo:r,erEndringssøknad:t,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(_,{path:U.DOKUMENTASJON,element:i.jsx(Xt,{søkerInfo:r,erEndringssøknad:t,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(_,{path:U.OPPSUMMERING,element:i.jsx(Zt,{erEndringssøknad:t,søkerInfo:r,sendSøknad:o,avbrytSøknad:s,mellomlagreSøknadOgNaviger:n})})]}):i.jsxs(i.Fragment,{children:[i.jsx(_,{path:U.SØKERSITUASJON,element:i.jsx(js,{arbeidsforhold:r.arbeidsforhold,kjønn:r.søker.kjønn,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(_,{path:U.OM_BARNET,element:i.jsx(Rs,{søkerInfo:r,søknadGjelderNyttBarn:a,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(_,{path:U.ANNEN_FORELDER,element:i.jsx(Ps,{søkerInfo:r,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(_,{path:U.PERIODE_MED_FORELDREPENGER,element:i.jsx(Is,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(_,{path:U.FORDELING,element:i.jsx(Os,{søker:r.søker,arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(_,{path:U.UTTAKSPLAN,element:i.jsx(dt,{søkerInfo:r,erEndringssøknad:t,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(_,{path:U.DOKUMENTASJON,element:i.jsx(Xt,{søkerInfo:r,erEndringssøknad:t,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(_,{path:U.UTENLANDSOPPHOLD,element:i.jsx(ys,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(_,{path:U.TIDLIGERE_UTENLANDSOPPHOLD,element:i.jsx(Ms,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(_,{path:U.SENERE_UTENLANDSOPPHOLD,element:i.jsx(_s,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(_,{path:U.ARBEID_OG_INNTEKT,element:i.jsx(Us,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(_,{path:U.EGEN_NÆRING,element:i.jsx(Ns,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(_,{path:U.FRILANS,element:i.jsx(Ds,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(_,{path:U.ANDRE_INNTEKTER,element:i.jsx(Ts,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(_,{path:U.OPPSUMMERING,element:i.jsx(Zt,{erEndringssøknad:t,søkerInfo:r,sendSøknad:o,avbrytSøknad:s,mellomlagreSøknadOgNaviger:n})})]}):i.jsx(_,{path:"*",element:i.jsx(Wt,{to:U.IKKE_MYNDIG})}),xr=({locale:e,onChangeLocale:t,currentRoute:r,søkerInfo:n,saker:o,lagretErEndringssøknad:s,lagretHarGodkjentVilkår:a,lagretSøknadGjelderNyttBarn:l,setKvittering:u})=>{const d=kt(),p=Ss(),[c,g]=F.useState(!0),[m,A]=F.useState(a||!1),[f,R]=F.useState(s||!1),[E,h]=F.useState(l),{sendSøknad:P,errorSendSøknad:v}=aa(n.søker.fnr,f,u,e),w=sa(e,n.søker.fnr,f,m,E),x=ta(n.søker.fnr,R,A,h),O=J(k.UTTAKSPLAN);return F.useEffect(()=>{r&&kr(n.søker.fødselsdato)&&a&&c&&(g(!1),xa(r,a,O)?d(r):p.pathname===U.OPPSUMMERING&&d(U.UTTAKSPLAN))},[r,n.søker.fødselsdato,a,d,c,p.pathname,O]),v?i.jsx(An,{appName:"Foreldrepenger",errorMessage:v.message,retryCallback:()=>location.reload()}):i.jsxs(As,{children:[i.jsx(_,{path:U.VELKOMMEN,element:i.jsx(hs,{fornavn:n.søker.fornavn,locale:e,saker:o,onChangeLocale:t,fnr:n.søker.fnr,harGodkjentVilkår:m,søkerInfo:n,setHarGodkjentVilkår:A,setErEndringssøknad:R,setSøknadGjelderNyttBarn:h,mellomlagreSøknadOgNaviger:w})}),i.jsx(_,{path:U.IKKE_MYNDIG,element:i.jsx(vn,{appnavn:"Foreldrepenger"})}),Ga(m,f,n,w,P,x,E)]})};xr.__docgenInfo={description:"",methods:[],displayName:"ForeldrepengesøknadRoutes",props:{locale:{required:!0,tsType:{name:"union",raw:"'nb' | 'nn'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"}]},description:""},onChangeLocale:{required:!0,tsType:{name:"signature",type:"function",raw:"(locale: LocaleNo) => void",signature:{arguments:[{type:{name:"union",raw:"'nb' | 'nn'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"}]},name:"locale"}],return:{name:"void"}}},description:""},currentRoute:{required:!0,tsType:{name:"SøknadRoutes"},description:""},søkerInfo:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    søker: Søker;
    arbeidsforhold: Arbeidsforhold[];
}`,signature:{properties:[{key:"søker",value:{name:"intersection",raw:`{
    fødselsdato: string;
    kjønn: Kjønn;
    bankkonto?: Bankkonto;
    sivilstand?: Sivilstand;
    barn: SøkerBarn[];
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    fødselsdato: string;
    kjønn: Kjønn;
    bankkonto?: Bankkonto;
    sivilstand?: Sivilstand;
    barn: SøkerBarn[];
}`,signature:{properties:[{key:"fødselsdato",value:{name:"string",required:!0}},{key:"kjønn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"bankkonto",value:{name:"Bankkonto",required:!1}},{key:"sivilstand",value:{name:"Sivilstand",required:!1}},{key:"barn",value:{name:"Array",elements:[{name:"intersection",raw:`{
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: SøkerAnnenForelder;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: SøkerAnnenForelder;
}`,signature:{properties:[{key:"kjønn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"dødsdato",value:{name:"string",required:!1}},{key:"annenForelder",value:{name:"intersection",raw:`{
    fødselsdato?: string;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    fødselsdato?: string;
}`,signature:{properties:[{key:"fødselsdato",value:{name:"string",required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}],required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}]}],raw:"SøkerBarn[]",required:!0}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}],required:!0}},{key:"arbeidsforhold",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverNavn: string;
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    fom: string;
    tom?: string;
    stillingsprosent: number;
}`,signature:{properties:[{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}},{key:"stillingsprosent",value:{name:"number",required:!0}}]}}],raw:"Arbeidsforhold[]",required:!0}}]}},description:""},saker:{required:!0,tsType:{name:"Array",elements:[{name:"Sak"}],raw:"Sak[]"},description:""},lagretErEndringssøknad:{required:!1,tsType:{name:"boolean"},description:""},lagretHarGodkjentVilkår:{required:!1,tsType:{name:"boolean"},description:""},lagretSøknadGjelderNyttBarn:{required:!1,tsType:{name:"boolean"},description:""},setKvittering:{required:!0,tsType:{name:"signature",type:"function",raw:"(kvittering: Kvittering) => void",signature:{arguments:[{type:{name:"Kvittering"},name:"kvittering"}],return:{name:"void"}}},description:""}}};const ir=()=>i.jsx("div",{style:{textAlign:"center",padding:"12rem 0"},children:i.jsx(gr,{size:"2xlarge"})}),Gr=async()=>{try{await te.deleteMellomlagretSøknad()}catch{}location.reload()},Br=({locale:e,onChangeLocale:t})=>{var m,A;const r=pt();Fn(r.formatMessage({id:"søknad.pagetitle"}));const{søkerinfoData:n,søkerinfoError:o}=te.useSøkerinfo(),{sakerData:s,sakerError:a}=te.useGetSaker(),{storageData:l,storageStatus:u}=te.useStoredAppState(),[d,p]=F.useState();F.useEffect(()=>{if(o)throw ae(o),new Error("Vi klarte ikke å hente informasjon om deg. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.");if(a)throw ae(a),new Error("Vi klarte ikke å hente informasjon om sakene dine. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.")},[o,a]);const c=l&&or(l)?Zo(l):void 0,g=l!==void 0&&or(l);return F.useEffect(()=>{l!=null&&l.locale&&l.locale!==e&&t(l.locale)},[l]),d?Ze.INNSYN?(co(d.saksNr?`${Ze.INNSYN}/sak/${d.saksNr}/redirectFromSoknad`:`${Ze.INNSYN}/redirectFromSoknad`),i.jsx(ir,{})):i.jsx("div",{children:"Redirected to Innsyn"}):!s||!n||u===oe.IN_PROGRESS?i.jsx(ir,{}):i.jsx(ur,{appName:"Foreldrepenger",retryCallback:Gr,children:i.jsx(vs,{initialState:c,children:i.jsx(as,{children:i.jsx(xr,{locale:e,onChangeLocale:t,søkerInfo:n,saker:s.foreldrepenger,currentRoute:g?l.currentRoute:U.VELKOMMEN,lagretErEndringssøknad:g?(m=l.søknad)==null?void 0:m.erEndringssøknad:!1,lagretHarGodkjentVilkår:g?(A=l.søknad)==null?void 0:A.harGodkjentVilkår:!1,lagretSøknadGjelderNyttBarn:g?l.søknadGjelderEtNyttBarn:!1,setKvittering:p})})})})};Br.__docgenInfo={description:"",methods:[],displayName:"Foreldrepengesøknad"};const Vr=go(),Ba={nb:{...gn,..._t.nb,...Mt.nb,...bt.nb,...Lt.nb,...nr.nb,...tr.nb,...rr.nb,...Kt.nb,...xt.nb,...Gt.nb},nn:{...mn,..._t.nn,...Mt.nn,...bt.nn,...Lt.nn,...nr.nn,...tr.nn,...rr.nn,...Kt.nn,...xt.nn,...Gt.nn}};b.locale(Vr);const wr=()=>{const[e,t]=F.useState(Vr);return i.jsx(ur,{appName:"Foreldrepenger",retryCallback:Gr,children:i.jsx(us,{children:i.jsxs(hn,{locale:e,messagesGroupedByLocale:Ba,children:[i.jsx(Tn,{}),i.jsx(Br,{locale:e,onChangeLocale:r=>{mo(r),t(r),fn(r),document.documentElement.setAttribute("lang",r)}})]})})})},Hr=wr;wr.__docgenInfo={description:"",methods:[],displayName:"AppContainer"};const Va={søker:{fnr:"06499121154",fornavn:"Tapper",etternavn:"Konvolutt",kjønn:"M",fødselsdato:"1991-09-06",bankkonto:{kontonummer:"",banknavn:""},barn:[]},arbeidsforhold:[{arbeidsgiverId:"896929119",arbeidsgiverIdType:"orgnr",arbeidsgiverNavn:"SAUEFABRIKK",stillingsprosent:100,fom:"2018-03-01"}]},sd={title:"AppContainer",component:Hr},wa=({søkerinfoData:e,sakerData:t,annenPartVedtakData:r,stønadskontoerData:n,storageKvitteringData:o})=>{Pn();const s=new cn(ue());return s.onGet("/rest/sokerinfo").reply(200,e),s.onGet("/rest/innsyn/v2/saker").reply(200,t),s.onGet("/rest/innsyn/v2/annenPartVedtak").reply(200,r),s.onGet("/rest/konto").reply(200,n),s.onGet("/rest/storage/kvittering/foreldrepenger").reply(200,o),s.onGet("test/rest/konto").replyOnce(200,Zs),s.onGet("test/rest/konto").replyOnce(200,ro),s.onPost("/rest/innsyn/v2/annenPartVedtak").replyOnce(200,void 0,oe.FINISHED),s.onPost("/rest/storage/foreldrepenger").reply(200,{}),s.onPost("/rest/soknad").reply(200,{}),s.onPost("/rest/sendSøknadUrl").reply(200,{}),s.onDelete("/rest/storage/foreldrepenger").reply(200,{}),i.jsx(Hr,{})},ge=wa.bind({});ge.args={søkerinfoData:Va,sakerData:zs,annenPartVedtakData:Js,stønadskontoerData:oo,storageKvitteringData:Ys};var dr,lr,pr;ge.parameters={...ge.parameters,docs:{...(dr=ge.parameters)==null?void 0:dr.docs,source:{originalSource:`({
  søkerinfoData,
  sakerData,
  annenPartVedtakData,
  stønadskontoerData,
  storageKvitteringData
}) => {
  initAmplitude();
  const apiMock = new MockAdapter(getAxiosInstance());
  apiMock.onGet('/rest/sokerinfo').reply(200, søkerinfoData);
  apiMock.onGet('/rest/innsyn/v2/saker').reply(200, sakerData);
  apiMock.onGet('/rest/innsyn/v2/annenPartVedtak').reply(200, annenPartVedtakData);
  apiMock.onGet('/rest/konto').reply(200, stønadskontoerData);
  apiMock.onGet('/rest/storage/kvittering/foreldrepenger').reply(200, storageKvitteringData);
  apiMock.onGet('test/rest/konto').replyOnce(200, stønadskontoDeltUttak80);
  apiMock.onGet('test/rest/konto').replyOnce(200, stønadskontoDeltUttak100);
  apiMock.onPost('/rest/innsyn/v2/annenPartVedtak').replyOnce(200, undefined, RequestStatus.FINISHED);
  apiMock.onPost('/rest/storage/foreldrepenger').reply(200, {});
  apiMock.onPost('/rest/soknad').reply(200, {});
  apiMock.onPost('/rest/sendSøknadUrl').reply(200, {});
  apiMock.onDelete('/rest/storage/foreldrepenger').reply(200, {});
  return <AppContainer />;
}`,...(pr=(lr=ge.parameters)==null?void 0:lr.docs)==null?void 0:pr.source}}};const od=["SøkerErMann"];export{ge as SøkerErMann,od as __namedExportsOrder,sd as default};
