import{j as e,d as k,e as W,b as Y}from"./Uttaksdagen-DrQ0Oxxl.js";import{j as C,R as h,a as m,l as x,A as P,D as z,t as N,T as O,h as Q,u as X,S as Z,F as ee,E as re,b as ne}from"./ErrorSummaryHookForm-1nFoirfj.js";import{u as R,M as l,a as ae,B as se}from"./Label-Uwu7Pz6v.js";import{H as te,u as M,C as b,b as oe,D}from"./FpDataContext-BW_0HfWx.js";import{E as le,i as u,V as A,a as de,k as ie,F as L,n as T}from"./dateFormValidation-DXkRFCUV.js";import"./index-BP8_t0zE.js";import{i as S,u as me,a as fe}from"./useFpNavigator-rsQS18v_.js";import{g as ue,u as ge}from"./barnUtils-CwWCeo2u.js";import{R as ce}from"./RegistrertePersonalia-CG_rKW1U.js";import{L as pe}from"./index-0Vf6ETgw.js";const I=n=>n.replace(le," "),he=n=>!n.kanIkkeOppgis,B=({rolle:n,barn:r})=>{const a=R(),s=ue(r),t=C().watch();if(!he(t))throw Error("Annen forelder skal alltid være oppgitt her");return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs(h,{name:"erAleneOmOmsorg",label:a.formatMessage({id:"annenForelder.aleneOmOmsorg"}),validate:[u(a.formatMessage({id:"valideringsfeil.annenForelder.harAleneOmsorgPåkrevd"}))],children:[e.jsx(m,{value:!1,children:e.jsx(l,{id:"annenForelder.aleneOmOmsorg.ja"})}),e.jsx(m,{value:!0,children:e.jsx(l,{id:"annenForelder.aleneOmOmsorg.nei"})})]}),e.jsx(x,{header:a.formatMessage({id:"annenForelder.aleneOmOmsorg.apneLabel"}),children:e.jsxs(A,{gap:"4",children:[e.jsx(ae,{children:e.jsx(l,{id:"annenForelder.aleneOmOmsorg.del1"})}),e.jsx(se,{children:e.jsx(l,{id:"annenForelder.aleneOmOmsorg.del2"})})]})})]}),!S(n)&&t.erAleneOmOmsorg===!0&&e.jsx(P,{variant:"info",children:e.jsx(l,{id:"annenForelder.veileder.aleneOmsorg.forBarnet"})}),t.erAleneOmOmsorg===!0&&S(n)&&e.jsx(z,{name:"datoForAleneomsorg",label:a.formatMessage({id:"annenForelder.datoForAleneomsorg"}),minDate:k(s).toDate(),validate:[u(a.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.duMåOppgi"})),de(a.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.ugyldigDatoFormat"})),ie(a.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.førFamiliehendelsedato"},{dato:s}),s)]}),t.erAleneOmOmsorg!==!0&&e.jsxs("div",{children:[e.jsxs(h,{name:"harRettPåForeldrepengerINorge",label:a.formatMessage({id:"annenForelder.harRettPåForeldrepengerINorge"}),validate:[u(a.formatMessage({id:"valideringsfeil.annenForelder.harRettTilForeldrepengerPåkrevd"}))],children:[e.jsx(m,{value:!0,children:"Ja"}),e.jsx(m,{value:!1,children:"Nei"})]}),e.jsxs(x,{header:a.formatMessage({id:"annenForelder.harRettPåForeldrepengerINorge.veileder.apneLabel"}),children:[e.jsx(l,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder"}),e.jsxs("ul",{style:{margin:"0",padding:"1rem 2rem 0"},children:[e.jsx("li",{children:e.jsx(l,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt1"})}),e.jsx("li",{children:e.jsx(l,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt2"})}),e.jsx("li",{children:e.jsx(l,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt3"})})]})]})]}),t.erAleneOmOmsorg===!1&&t.harRettPåForeldrepengerINorge===!1&&e.jsxs("div",{children:[e.jsxs(h,{name:"harOppholdtSegIEØS",label:a.formatMessage({id:"annenForelder.harOppholdtSegIEØS"}),validate:[u(a.formatMessage({id:"valideringsfeil.annenForelder.harOppholdtSegIEØS"}))],children:[e.jsx(m,{value:!0,children:"Ja"}),e.jsx(m,{value:!1,children:"Nei"})]}),e.jsx(x,{header:a.formatMessage({id:"annenForelder.harOppholdtSegIEØS.veileder.apneLabel"}),children:e.jsx(l,{id:"annenForelder.harOppholdtSegIEØS.veileder"})})]}),t.erAleneOmOmsorg===!1&&t.harOppholdtSegIEØS===!0&&e.jsxs("div",{children:[e.jsxs(h,{name:"harRettPåForeldrepengerIEØS",label:a.formatMessage({id:"annenForelder.harRettPåForeldrepengerIEØS"}),validate:[u(a.formatMessage({id:"valideringsfeil.annenForelder.harRettPåForeldrepengerIEØS"}))],children:[e.jsx(m,{value:!0,children:"Ja"}),e.jsx(m,{value:!1,children:"Nei"})]}),e.jsx(x,{header:a.formatMessage({id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.apneLabel"}),children:e.jsxs(A,{gap:"4",children:[e.jsx("div",{children:e.jsx(l,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.del1"})}),e.jsx(l,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.del2"}),e.jsx(pe,{to:"https://www.nav.no/foreldrepenger#utland",target:"_blank",children:e.jsx(l,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.link"})})]})})]}),t.erAleneOmOmsorg!==!0&&t.harRettPåForeldrepengerINorge!==!1&&e.jsxs(e.Fragment,{children:[e.jsxs(h,{name:"erInformertOmSøknaden",label:a.formatMessage({id:"annenForelder.spørsmål.erAnnenForelderInformert"}),validate:[u(a.formatMessage({id:"valideringsfeil.annenForelder.informertAnnenForelderPåkrevd"})),f=>f===!1?a.formatMessage({id:"annenForelder.erAnnenForelderInformert.veileder"}):null],children:[e.jsx(m,{value:!0,children:"Ja"}),e.jsx(m,{value:!1,children:"Nei"})]}),t.erInformertOmSøknaden===!1&&e.jsx(P,{variant:"warning",children:e.jsx(l,{id:"annenForelder.erAnnenForelderInformert.veileder"})})]}),t.erAleneOmOmsorg===!1&&t.harRettPåForeldrepengerINorge===!1&&(t.harOppholdtSegIEØS===!1||t.harRettPåForeldrepengerIEØS===!1)&&S(n)&&e.jsxs("div",{children:[e.jsxs(h,{name:"erMorUfør",label:a.formatMessage({id:"annenForelder.erMorUfør"}),validate:[u(a.formatMessage({id:"valideringsfeil.annenForelder.erMorUfør"}))],children:[e.jsx(m,{value:!0,children:"Ja"}),e.jsx(m,{value:!1,children:"Nei"})]}),e.jsx(x,{header:a.formatMessage({id:"annenForelder.erMorUfør.veileder.apneLabel"}),children:e.jsx(l,{id:"annenForelder.erMorUfør.veileder"})})]})]})};B.__docgenInfo={description:"",methods:[],displayName:"AnnenForelderOppgittPanel"};var v={};function w(n){return je(n)||xe(n)||Fe(n)||ve()}function ve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fe(n,r){if(n){if(typeof n=="string")return y(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return y(n,r)}}function xe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function je(n){if(Array.isArray(n))return y(n)}function y(n,r){(r==null||r>n.length)&&(r=n.length);for(var a=0,s=new Array(r);a<r;a++)s[a]=n[a];return s}var be=new RegExp("^\\d{11}$"),ke=function(r){return j(r)},Oe=function(r){return j(r)},Me=function(r){return j(r)},Se=function(r){return j(r)},Ie=function(r){return r.substring(0,1)>=4?"dnr":r.substring(2,3)>=8?"tnr":r.substring(2,3)>=4?"hnr":"fnr"},j=function(r){var a=Ie(r);return Ae(r,a)},Ae=function(r,a){if(!be.test(r))return{status:"invalid",reasons:["fnr, dnr or hnr must consist of 11 digits"]};var s=[].concat(w(ye(r)),w(Re(r,a)));return s.length==0?{status:"valid",type:a}:{status:"invalid",reasons:s}},ye=function(r){var a=11-(3*r[0]+7*r[1]+6*r[2]+1*r[3]+8*r[4]+9*r[5]+4*r[6]+5*r[7]+2*r[8])%11,s=11-(5*r[0]+4*r[1]+3*r[2]+2*r[3]+7*r[4]+6*r[5]+5*r[6]+4*r[7]+3*r[8]+2*a)%11;return a===11&&(a=0),s===11&&(s=0),a<10&&s<10&&a==r[9]&&s==r[10]?[]:["checksums don't match"]},Re=function(r,a){a==="dnr"?r=r.substring(0,1)-4+r.substring(1):a==="hnr"?r=r.substring(0,2)+(r.substring(2,3)-4)+r.substring(3):a==="tnr"&&(r=r.substring(0,2)+(r.substring(2,3)-8)+r.substring(3));var s=r.substring(0,2),o=r.substring(2,4),t=r.substring(4,6),f=new Date(t==="00"?"2000":t,o-1,s);return f&&f.getMonth()+1==o&&f.getDate()==s?[]:["invalid date"]};v.fnr=ke;v.dnr=Oe;v.hnr=Me;v.tnr=Se;v.idnr=j;const Ee=n=>{const r=v.idnr(n);return r.status!=="valid"?!1:r.type},Pe=(n,r)=>{const a=r==="dnr"?`${Number(n.substr(0,1))-4}${n.substr(1,1)}`:n.substr(0,2),s=n.substr(2,2),o=n.substr(4,2);let t=k(`${a}-${s}-${o}`,"DD-MM-YY");return t.get("year")>k().get("year")&&(t=t.subtract(100,"year")),t.isValid()?t.isBefore(k().subtract(16,"year"),"day"):!1},Ne=(n,r,a,s)=>o=>{if(s)return o===void 0||o.trim()===""?n.formatMessage({id:"valideringsfeil.fødselsnummer.required"}):o.length>50?n.formatMessage({id:"valideringsfeil.fødselsnummer.fødselsnummerForLangt"}):L(o,a,n);if(o===r)return n.formatMessage({id:"valideringsfeil.fødselsnummer.ugyldigEgetFødselsnummer"});const t=Ee(o);return!s&&!Pe(o,t)&&t==="fnr"?n.formatMessage({id:"valideringsfeil.fødselsnummer.underSeksten"}):t==="fnr"||t==="dnr"||t==="hnr"?void 0:n.formatMessage({id:"valideringsfeil.fødselsnummer.ugyldigFødselsnummer"})},_=(n,r)=>a=>L(a,r,n),De=(n,r)=>r?!1:n!=="medmor",U=({søkersFødselsnummer:n,rolle:r,barn:a})=>{const s=R(),o=Y("width"),t=C(),f=t.watch("fornavn"),c=t.watch("utenlandskFnr"),d=t.watch("kanIkkeOppgis");return e.jsxs(e.Fragment,{children:[De(r,te(a))&&e.jsx(N,{name:"kanIkkeOppgis",label:s.formatMessage({id:"annenForelder.spørsmål.kanOppgis"})}),!d&&e.jsxs(e.Fragment,{children:[e.jsx(O,{name:"fornavn",label:e.jsx(l,{id:"annenForelder.spørsmål.fornavn"}),validate:[u(s.formatMessage({id:"valideringsfeil.annenForelder.fornavnPåkrevd"})),_(s,"annenForelder.spørsmål.fornavn")],className:o.block}),e.jsx(O,{name:"etternavn",label:e.jsx(l,{id:"annenForelder.spørsmål.etternavn"}),validate:[u(s.formatMessage({id:"valideringsfeil.annenForelder.etternavnPåkrevd"})),_(s,"annenForelder.spørsmål.etternavn")],className:o.block})]}),!d&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(O,{name:"fnr",label:s.formatMessage({id:"annenForelder.spørsmål.fnr"},{navn:f}),validate:[u(s.formatMessage({id:"valideringsfeil.annenForelder.fnrPåkrevd"})),Ne(s,n,s.formatMessage({id:"annenForelder.spørsmål.fnr"},{navn:f}),c)],className:o.block}),e.jsx(N,{name:"utenlandskFnr",label:s.formatMessage({id:"annenForelder.spørsmål.utenlandskFnr"})})]}),c&&e.jsx(Q,{name:"bostedsland",label:s.formatMessage({id:"annenForelder.bostedsland"}),validate:[u(s.formatMessage({id:"valideringsfeil.annenForelder.bostedslandPåkrevd"}))],children:W().map(p=>e.jsx("option",{value:p[0],children:p[1]},p[0]))})]})]})};U.__docgenInfo={description:"",methods:[],displayName:"OppgiPersonalia"};const Te=(n,r)=>{const a=ge(n,r.barn),s=a===void 0||a.length===0?void 0:a.find(o=>o.annenForelder!==void 0);return s!==void 0?s.annenForelder:void 0},V=({søkerInfo:n,mellomlagreSøknadOgNaviger:r,avbrytSøknad:a})=>{const s=R(),o=me(n.arbeidsforhold),t=fe(n.arbeidsforhold,r),{rolle:f}=T(M(b.SØKERSITUASJON)),c=T(M(b.OM_BARNET)),d=M(b.ANNEN_FORELDER),p=oe(b.ANNEN_FORELDER),i=Te(c,n.søker),$=d!==void 0&&D(d)&&d.fnr!==(i==null?void 0:i.fnr),F=i===void 0||$,J=g=>{if(g.kanIkkeOppgis===!0)p({kanIkkeOppgis:!0});else{const q=!F&&i?i.fornavn:g.fornavn,G=!F&&i?i.etternavn:g.etternavn,K=!F&&i?i.fnr:g.fnr;p({...g,kanIkkeOppgis:!1,fornavn:I(q),etternavn:I(G),fnr:I(K.trim()),harRettPåForeldrepengerIEØS:g.harOppholdtSegIEØS?g.harRettPåForeldrepengerIEØS:!1})}return t.goToNextDefaultStep()},E=X({shouldUnregister:!0,defaultValues:d&&D(d)&&d.fornavn===s.formatMessage({id:"annen.forelder"})?{...d,fornavn:""}:d}),H=E.watch("kanIkkeOppgis");return e.jsx(Z,{bannerTitle:s.formatMessage({id:"søknad.pageheading"}),onCancel:a,onContinueLater:t.fortsettSøknadSenere,steps:o,children:e.jsx(ee,{formMethods:E,onSubmit:J,children:e.jsxs(A,{gap:"10",children:[e.jsx(re,{}),F&&e.jsx(U,{rolle:f,barn:c,søkersFødselsnummer:n.søker.fnr}),!F&&e.jsx(ce,{person:i,fødselsnummerForVisning:i.fnr,visEtternavn:!0}),H!==!0&&e.jsx(B,{rolle:f,barn:c,annenForelder:d,søker:n.søker}),e.jsx(ne,{goToPreviousStep:t.goToPreviousDefaultStep})]})})})},qe=V;V.__docgenInfo={description:"",methods:[],displayName:"AnnenForelderSteg"};export{qe as A};
