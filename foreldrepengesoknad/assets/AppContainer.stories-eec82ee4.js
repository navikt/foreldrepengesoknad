import{j as n}from"./jsx-runtime-69eee039.js";import{M as kn}from"./index-7b49b97c.js";import{r as p}from"./index-7c191284.js";import{u as fe,j as U,b1 as mn,d as L,g as gn,a8 as ne,M as Me,k as M,H as fn,B as ke,h as Sn,am as En,Y as Se,U as Ut,N as hn,A as De,I as Be,X as _e,a7 as vn,q as bt,S as An,aZ as Nn}from"./Tidsperioden-a95d044c.js";import{I as Tn}from"./ErrorSummaryHookForm-ec860d4c.js";import"./dateFormValidation-fedc3c4d.js";import{n as Pn,a as kt,b as yn}from"./app-05093d70.js";import"./index-e13aeee6.js";import"./_baseToString-4b695375.js";import"./_createSet-f4a01039.js";import{L as In,u as Ge,a as Fn,R as On,b as F,N as mt,B as Un}from"./index-7e40074d.js";import{A as _,R as H,r as jt}from"./api-f9eb18d1.js";import{g as bn,a as jn,b as _n,c as gt,s as C,d as xn,e as Rn,f as _t,h as Mn,i as Dn,j as Bn,U as Ln}from"./UttaksplanInfo-c257ae88.js";import{l as xt}from"./links-b36d21ab.js";import{F as Rt}from"./Feilside-1de40758.js";import{V as Vn}from"./Velkommen-51467615.js";import{A as wn}from"./AnnenForelder-3d2a4b83.js";import{I as Kn}from"./Inntektsinformasjon-36c613e7.js";import{O as Gn}from"./OmBarnet-f4a9bf25.js";import{c as Cn,O as ft}from"./Oppsummering-6f396223.js";import{S as Jn}from"./SøkersituasjonSteg-c0db7fab.js";import{B as Wn,r as Mt,a as Hn,i as St,b as qn,c as $n,e as Dt,d as Yn,z as Et,h as Xn}from"./barnUtils-6056f31e.js";import{P as Qn,D as xe,S as zn}from"./Periodene-e4e7892a.js";import{b as $,d as Bt,c as Zn,g as er,P as tr,U as nr,S as Le,n as rr,r as sr}from"./Perioden-f9b2043e.js";import{i as or}from"./isFarEllerMedmor-120238ea.js";import{l as ar}from"./uttaksPlanStatus-38959b58.js";import{g as ir,U as lr,a as dr,u as ur}from"./Uttaksplan-dd72c95e.js";import{g as pr}from"./arbeidsforholdUtils-a9257065.js";import{S as m}from"./routes-9effe5a6.js";import{s as cr,g as kr,u as mr}from"./stepsConfig-527b68d8.js";import{b as gr,c as fr}from"./dateUtils-e2f5989d.js";import{F as q}from"./message-650a43cb.js";import{B as ht}from"./Link-b834ea2b.js";import{c as Sr,a as Er}from"./BackButton-302225b0.js";import{c as hr,g as vr}from"./eksisterendeSakUtils-ef126668.js";import{g as Ar,I as Nr}from"./InfoOmSøknaden-efcbcd44.js";import{a as Tr}from"./FormikFileUploader-4b48adc4.js";import{f as Pr,s as yr}from"./leggTilPeriode-514e4bf5.js";import{n as D}from"./validation-631bcf6e.js";import{u as j,C as l,a as G,d as Ir,e as Lt,b as Fr,F as Or}from"./FpDataContext-75ac2616.js";import{Q as Ur}from"./index-47edccfa.js";import{U as br}from"./UtenlandsoppholdSteg-8bf19459.js";import{T as jr}from"./TidligereUtenlandsoppholdSteg-624ce7b2.js";import{S as _r}from"./SenereUtenlandsoppholdSteg-106f15f8.js";import{l as xr}from"./amplitude-140e185d.js";import{m as Rr}from"./mapSøkerinfoDTO-268f32cb.js";import{w as Mr,c as Dr}from"./exports-70c8b745.js";import{E as Re,A as Br}from"./apiInterceptor-cff81df8.js";import{B as Lr}from"./ByttBrowserModal-44cefc5e.js";import"./index-b3a39e30.js";import"./v4-a960c1f4.js";import"./provider-621cc7ef.js";import"./LenkeKnapp-a5650a66.js";import"./velkommenUtils-7e7dde66.js";import"./DinePlikter-febbb9b5.js";import"./DinePersonopplysningerModal-253bb78b.js";import"./stringUtils-f4190696.js";import"./validationUtil-d6eeeaa6.js";import"./RegistrertePersonalia-d3547334.js";import"./InteractiveListElement-8a6312bf.js";import"./Næring-07a1ac31.js";import"./_baseIteratee-9b4fb880.js";import"./_baseUniq-1bfab55f.js";import"./AttachmentList-9dfeda58.js";import"./Attachment-267e6f8e.js";import"./TidligereUtenlandsoppholdPanel-da6de2ad.js";const Vr=[{arbeidsgiverId:"896929119",arbeidsgiverIdType:"orgnr",arbeidsgiverNavn:"SAUEFABRIKK",stillingsprosent:100,fom:"2018-03-01"}],wr={søker:{fnr:"06499121154",fornavn:"Tapper",etternavn:"Konvolutt",kjønn:"M",fødselsdato:"1991-09-06",bankkonto:{kontonummer:"",banknavn:""}},arbeidsforhold:Vr},Kr=[{fom:"2022-12-12",tom:"2023-02-17",kontoType:"FEDREKVOTE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},samtidigUttak:100,flerbarnsdager:!1},{fom:"2023-02-20",tom:"2023-03-05",kontoType:"FELLESPERIODE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},samtidigUttak:50,flerbarnsdager:!1},{fom:"2023-03-20",tom:"2023-03-31",kontoType:"FEDREKVOTE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},flerbarnsdager:!1}],Gr="HUNDRE",Cr={perioder:Kr,dekningsgrad:Gr},Jr=[{saksnummer:"352011594",sakAvsluttet:!1,sisteSøknadMottattDato:"2023-03-31",kanSøkeOmEndring:!1,sakTilhørerMor:!1,gjelderAdopsjon:!0,morUføretrygd:!1,harAnnenForelderTilsvarendeRettEØS:!1,ønskerJustertUttakVedFødsel:!1,rettighetType:"BEGGE_RETT",annenPart:{type:"person",fnr:"05489305072",fornavn:"Sentral",etternavn:"Tangent"},familiehendelse:{fødselsdato:"2023-02-01",antallBarn:1,omsorgsovertakelse:"2023-04-10"},åpenBehandling:{tilstand:"VENT_INNTEKTSMELDING",søknadsperioder:[{fom:"2023-04-10",tom:"2023-07-21",kontoType:"FEDREKVOTE",flerbarnsdager:!1},{fom:"2023-07-24",tom:"2023-09-15",kontoType:"FELLESPERIODE",morsAktivitet:"UTDANNING",flerbarnsdager:!1}]},barn:[],dekningsgrad:"HUNDRE"}],Wr=[],Hr={foreldrepenger:Jr,engangsstønad:[],svangerskapspenger:Wr},qr="2019-02-01",$r="23123",Yr={innsendingstidspunkt:qr,pdf:$r},Xr={MØDREKVOTE:95,FEDREKVOTE:95,FELLESPERIODE:90,FORELDREPENGER_FØR_FØDSEL:15,FORELDREPENGER:80},Qr={},zr={kontoer:Xr,minsteretter:Qr},Vt="selectedLocale",Zr=()=>sessionStorage.getItem(Vt)||"nb",es=t=>{sessionStorage.setItem(Vt,t)};var vt=globalThis&&globalThis.__spreadArray||function(t,e,s){if(s||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},ts=function(){function t(e,s,r){this.name=e,this.version=s,this.os=r,this.type="browser"}return t}(),ns=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),rs=function(){function t(e,s,r,o){this.name=e,this.version=s,this.os=r,this.bot=o,this.type="bot-device"}return t}(),ss=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),os=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),as=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,is=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,At=3,ls=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",as]],Nt=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function ds(t){return t?Tt(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new os:typeof navigator<"u"?Tt(navigator.userAgent):cs()}function us(t){return t!==""&&ls.reduce(function(e,s){var r=s[0],o=s[1];if(e)return e;var i=o.exec(t);return!!i&&[r,i]},!1)}function Tt(t){var e=us(t);if(!e)return null;var s=e[0],r=e[1];if(s==="searchbot")return new ss;var o=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);o?o.length<At&&(o=vt(vt([],o,!0),ks(At-o.length),!0)):o=[];var i=o.join("."),a=ps(t),k=is.exec(t);return k&&k[1]?new rs(s,i,a,k[1]):new ts(s,i,a)}function ps(t){for(var e=0,s=Nt.length;e<s;e++){var r=Nt[e],o=r[0],i=r[1],a=i.exec(t);if(a)return o}return null}function cs(){var t=typeof process<"u"&&process.version;return t?new ns(process.version.slice(1)):null}function ks(t){for(var e=[],s=0;s<t;s++)e.push("0");return e}const ms=t=>{window.location.href=t},Ve=({søkerInfo:t})=>{const e=fe();return n.jsx(Rt,{dokumenttittel:"NAV Foreldrepengesøknad",ingress:U(e,"velkommen.ingress"),tittel:U(e,"velkommen.tittel"),søkerInfo:t,illustrasjon:{tittel:U(e,"velkommen.ikkeMyndig.tittel",{navn:t.person.fornavn.toLowerCase()}),tekst:U(e,"velkommen.ikkeMyndig.ingress"),lenke:{tekst:U(e,"velkommen.ikkeMyndig.boblelenketekst"),url:xt.papirsøknad}},skalKunneGåTilbakeTilSøknad:!1})};try{Ve.displayName="IkkeMyndig",Ve.__docgenInfo={description:"",displayName:"IkkeMyndig",props:{søkerInfo:{defaultValue:null,description:"",name:"søkerInfo",required:!0,type:{name:"Søkerinfo"}}}}}catch{}const gs=(t,e)=>{const[s,r]=p.useState(t);return p.useEffect(()=>{const o=setTimeout(()=>{r(t)},e);return()=>{clearTimeout(o)}},[t,e]),s},wt=t=>$(t)||Bt(t)||Zn(t)||er(t),Pt=(t,e,s,r,o)=>r?e?Ss(r,t,o,s):t.filter(wt):t,fs=(t,e,s,r)=>{const o=e.filter(i=>mn(s,i.tidsperiode.fom,i.tidsperiode.tom)||L(i.tidsperiode.fom).isSameOrAfter(L(s),"day")).filter(wt);if(o.length===0&&t.length>e.length){const i=t.find(k=>L(k.tidsperiode.fom).isSame(s,"day"));return[{id:gn(),type:tr.Utsettelse,tidsperiode:{fom:i.tidsperiode.fom,tom:i.tidsperiode.tom},årsak:nr.Fri,forelder:r?ne.farMedmor:ne.mor,erArbeidstaker:!1}]}else return o},Ss=(t,e,s,r)=>s===void 0?[]:fs(t,e,s,r);const Es=({isOpen:t,setIsOpen:e,goToPreviousStep:s})=>{const r=fe(),o=Sn("vilDuGåTilbakeModal");return n.jsxs(Me,{className:o.block,"aria-label":"Vil du gå tilbake",closeButton:!1,open:t,onClose:()=>e(!1),children:[n.jsx(M,{padBottom:"l",children:n.jsx(fn,{size:"small",as:"h1",children:U(r,"uttaksplan.vilDuGåTilbakeModal.tittel")})}),n.jsx(M,{padBottom:"l",children:n.jsx(ht,{children:U(r,"uttaksplan.vilDuGåTilbakeModal.intro")})}),n.jsx(M,{padBottom:"l",children:n.jsx(ht,{children:U(r,"uttaksplan.vilDuGåTilbakeModal.spørsmål")})}),n.jsxs("div",{className:o.element("knapperad"),children:[n.jsx(ke,{onClick:s,children:n.jsx(q,{id:"uttaksplan.vilDuGåTilbakeModal.okLabel"})}),n.jsx(ke,{variant:"secondary",onClick:()=>e(!1),children:n.jsx(q,{id:"uttaksplan.vilDuGåTilbakeModal.avbrytLabel"})})]})]})};try{VilDuGTilbakeModal.displayName="VilDuGTilbakeModal",VilDuGTilbakeModal.__docgenInfo={description:"",displayName:"VilDuGTilbakeModal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},setIsOpen:{defaultValue:null,description:"",name:"setIsOpen",required:!0,type:{name:"Dispatch<SetStateAction<boolean>>"}},goToPreviousStep:{defaultValue:null,description:"",name:"goToPreviousStep",required:!0,type:{name:"() => void"}}}}}catch{}var re=(t=>(t.ønskerAutomatiskJustering="ønskerAutomatiskJustering",t))(re||{});const we=En(),hs=t=>Er(t),vs=t=>({ønskerAutomatiskJustering:t!==void 0?Sr(t):Se.UNANSWERED}),Kt=(t,e)=>e!==void 0&&$(t)&&L(t.tidsperiode.fom).isSame(Ut(e).denneEllerNeste(),"day")&&t.forelder===ne.farMedmor&&t.konto===Le.Fedrekvote&&t.ønskerSamtidigUttak===!0&&t.ønskerFlerbarnsdager!==!0,As=(t,e,s,r)=>r.type===Wn.UFØDT&&s&&t.length===1&&Kt(t[0],e),Ns=(t,e,s,r,o,i,a)=>t&&hn(e)&&s==="fødsel"&&r.length!==0&&Mt(o)&&i!==void 0&&!a,Ke=({termindato:t,perioderMedUttakRundtFødsel:e,antallBarn:s,visibility:r})=>{const o=fe(),i=Ut(t).denneEllerNeste(),a=D(j(l.UTTAKSPLAN_METADATA)),k=G(l.UTTAKSPLAN_METADATA),A=a.ønskerJustertUttakVedFødsel,N=A&&e.length>1,I=A&&e.length===1&&!L(e[0].tidsperiode.fom).isSame(i,"day"),c=A&&e.length===1&&L(e[0].tidsperiode.fom).isSame(i,"day")&&($(e[0])&&(e[0].konto!==Le.Fedrekvote||!e[0].ønskerSamtidigUttak)||Bt(e[0])),E=A&&e.length===1&&L(e[0].tidsperiode.fom).isSame(i,"day")&&$(e[0])&&e[0].konto===Le.Fedrekvote&&e[0].ønskerFlerbarnsdager===!0;let h="";N&&(h="uttaksplan.automatiskJustering.info.hvisFlerePerioder"),I&&(h="uttaksplan.automatiskJustering.info.hvisIkkeLengerStarterPåTermin"),c&&(h="uttaksplan.automatiskJustering.info.hvisEndretPeriodePåTermin"),E&&(h="uttaksplan.automatiskJustering.info.hvisEndretPeriodeTilØnskerFlerbarnsdager");const d=u=>{const g=hs(u);k({...a,ønskerJustertUttakVedFødsel:g})};return n.jsx(we.Form,{includeButtons:!1,children:n.jsxs("div",{style:{paddingTop:"1rem",paddingBottom:"1rem"},children:[h!==""&&n.jsx(M,{padBottom:"l",children:n.jsx(De,{variant:"info",children:n.jsx(q,{id:h})})}),n.jsx(M,{visible:r.isVisible(re.ønskerAutomatiskJustering),padBottom:"l",children:n.jsx(we.YesOrNoQuestion,{name:re.ønskerAutomatiskJustering,legend:U(o,"uttaksplan.automatiskJustering.spørsmål",{antallBarn:s}),validate:u=>{if(u===Se.UNANSWERED)return U(o,"uttaksplan.automatiskJustering.svar.påkrevd")},afterOnChange:u=>d(u)})})]})})};try{Ke.displayName="AutomatiskJusteringForm",Ke.__docgenInfo={description:"",displayName:"AutomatiskJusteringForm",props:{termindato:{defaultValue:null,description:"",name:"termindato",required:!0,type:{name:"Date"}},perioderMedUttakRundtFødsel:{defaultValue:null,description:"",name:"perioderMedUttakRundtFødsel",required:!0,type:{name:"Periode[]"}},antallBarn:{defaultValue:null,description:"",name:"antallBarn",required:!0,type:{name:"number"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<UttaksplanFormField, undefined>"}}}}}catch{}const Ts=(t,e)=>t.length!==1||e===void 0?!1:Kt(t[0],e),Ps={[re.ønskerAutomatiskJustering]:{isIncluded:({perioderMedUttakRundtFødsel:t,termindato:e})=>Ts(t,e),isAnswered:({ønskerAutomatiskJustering:t})=>t!==Se.UNANSWERED}},ys=Ur(Ps),Is=[],me=({søkerInfo:t,erEndringssøknad:e,mellomlagreSøknadOgNaviger:s,avbrytSøknad:r})=>{const o=fe(),i=mr(),[a,k]=p.useState(!1),[A,N]=p.useState(!1),[I,c]=p.useState(!1),[E,h]=p.useState(!0),d=D(j(l.SØKERSITUASJON)),u=D(j(l.OM_BARNET)),g=D(j(l.ANNEN_FORELDER)),B=D(j(l.SØKER)),f=D(j(l.UTTAKSPLAN_METADATA)),Y=j(l.UTTAKSPLAN_INFO),V=j(l.UTTAKSPLAN)||Is,T=j(l.BARN_FRA_NESTE_SAK),P=j(l.EKSISTERENDE_SAK),J=G(l.OM_BARNET),Ce=G(l.BARN_FRA_NESTE_SAK),X=G(l.UTTAKSPLAN),Je=G(l.EKSISTERENDE_SAK),x=G(l.UTTAKSPLAN_METADATA),We=G(l.APP_ROUTE),[se,Jt]=p.useState(f.endringstidspunkt),[oe,Ee]=p.useState(f.perioderSomSkalSendesInn||[]),Wt=e?m.OPPSUMMERING:m.UTENLANDSOPPHOLD,{person:He,arbeidsforhold:Ht}=t,{erAleneOmOmsorg:qe}=B,{situasjon:he}=d,{rolle:$e}=d,qt=Hn(g),ae=St(g)?!!g.harRettPåForeldrepengerINorge||!!g.harRettPåForeldrepengerIEØS:!1,v=or(d.rolle),ie=qn(!v,qe,g),le=$n(v,qe,g),ve=ie||le,$t=ae?void 0:v?ne.farMedmor:ne.mor,w=Dt(u),Q=Be(w),Yt=ir(g,v),Xt=Yn(He,g,v,o),Ye=u.antallBarn,Qt=Ye>1,Xe=Et($e,v,g),b=P==null?void 0:P.uttaksplan,zt=P?P.uttaksplan!==void 0:!1,Zt=!1,en=gr(Y),W=Xn(u),Ae=St(g)&&!g.utenlandskFnr?g.fnr:void 0,Ne=he==="adopsjon",Te=T!==void 0?T.annenForelderFnr:void 0,Qe=T!==void 0&&T.fnr!==void 0&&T.fnr.length>0?T.fnr[0]:void 0,z=T!==void 0?T.familiehendelsesdato:void 0,K=T!==void 0?T.startdatoFørsteStønadsperiode:void 0,Pe=!Et(d.rolle,v,g),ze=!Mt(u)&&u.fnr!==void 0&&u.fnr.length>0?u.fnr[0]:void 0,de=!(!ve&&Ae!==void 0&&Ae!==""&&(ze!==void 0||w!==void 0)),tn=gs(Ir(),3e3),Ze=p.useRef(!0);p.useEffect(()=>{Ze.current===!1&&s(),Ze.current=!1},[tn,s]);const{eksisterendeSakAnnenPartData:et,eksisterendeSakAnnenPartError:ye,eksisterendeSakAnnenPartRequestStatus:Ie}=_.useGetAnnenPartsVedtak(Ae,ze,w,de),R=p.useMemo(()=>hr(et,u,v,w,K),[et,u,v,w,K]),nn=()=>{c(!1),We(m.UTTAKSPLAN_INFO),s()},tt=bn(P==null?void 0:P.grunnlag.termindato,R==null?void 0:R.grunnlag.termindato),Z=jn(v,u.antallBarn,R==null?void 0:R.grunnlag.antallBarn);p.useEffect(()=>{v&&u.antallBarn!==Z&&J({...u,antallBarn:Z})},[v,Z,u,J]);const Fe=!(Te!==void 0&&Te!==""&&(Qe!==void 0||z!==void 0)&&(de||Ie===H.FINISHED)),{eksisterendeSakAnnenPartData:rn,eksisterendeSakAnnenPartError:Oe,eksisterendeSakAnnenPartRequestStatus:nt}=_.useGetAnnenPartsVedtak(Te,Qe,_e(z),Fe),ue=vr(rn);p.useEffect(()=>{if(ue!==void 0&&T!==void 0&&(L(ue).isBefore(T.startdatoFørsteStønadsperiode,"d")||T.startdatoFørsteStønadsperiode===void 0)){const S={...T,startdatoFørsteStønadsperiode:ue};Ce(S)}},[K,ue,T,Ce]);const rt=dr({erDeltUttak:ae,morHarRett:Xe,søkerErAleneOmOmsorg:ve});p.useEffect(()=>{if(P!==void 0&&b!==void 0&&R!==void 0&&!f.annenPartsUttakErLagtTilIPlan){b.forEach(y=>{if($(y)){const ce=Qn(R.uttaksplan).finnOverlappendePerioder(y);ce.length!==0&&ce.find(ct=>rr(ct)&&ct.ønskerSamtidigUttak===!0)&&(y.ønskerSamtidigUttak||(y.ønskerSamtidigUttak=!0,y.samtidigUttakProsent=_n(y.gradert,y.stillingsprosent)))}});const S=Pr(yr(b,R.uttaksplan,Q,K,!0),rt,Q,Ne,Pe,v,K),O={...P,uttaksplan:S};X(S),Je(O),x({...f,annenPartsUttakErLagtTilIPlan:!0})}},[R,b,Q,rt,Ne,Pe,v,K,P,f,X,Je,x]);const sn=(S,O)=>{const y=S!==zn.Ingen?S:void 0,ce={...f.tilleggsopplysninger||{},begrunnelseForSenEndring:{...(f.tilleggsopplysninger||{}).begrunnelseForSenEndring,tekst:O,ekstraInformasjon:y}};x({...f,tilleggsopplysninger:ce})};p.useEffect(()=>{const S=b==null?void 0:b.find(O=>$(O)&&O.angittAvAnnenPart);if(S&&se===void 0){const O=S.tidsperiode.fom,y=Pt(V,e,v,b,O);Ee(y),x({...f,perioderSomSkalSendesInn:y,endringstidspunkt:se})}},[b,se,v,V,e,x,f]);const st=async()=>{k(!0),N(!0);const S=Cn(f.tilleggsopplysninger);x({...f,endringstidspunkt:se,perioderSomSkalSendesInn:oe,tilleggsopplysninger:S}),We(Wt),s()},ee=ar(V,Q,W),pe=Ns(v,Q,he,ee,u,W,Pe),ot=As(ee,W,v,u),on=()=>{(pe||e)&&!ot&&x({...f,ønskerJustertUttakVedFødsel:void 0})},an=S=>pe&&ot&&S!==void 0,Ue=p.useRef(null),ln=async S=>{N(!0),E&&!pt&&(k(!0),Ue.current&&Ue.current.handleSubmit(),on(),an(S.ønskerAutomatiskJustering)&&await st())},dn=vn(He.kjønn,qt,ae,ie,le,$e),at=(de?!1:Ie!==H.FINISHED)||(Fe?!1:nt!==H.FINISHED),{tilgjengeligeStønadskontoerData:be,tilgjengeligeStønadskontoerError:je}=_.useGetUttakskontoer(gt(xe.HUNDRE_PROSENT,u,g,d,le,ie,_e(z),Z,tt),at),{tilgjengeligeStønadskontoerData:it}=_.useGetUttakskontoer(gt(xe.ÅTTI_PROSENT,u,g,d,le,ie,_e(z),Z,tt),at),un=S=>{N(!1),k(!1),X(S);const O=fr(b,S,e);Jt(O);const y=Pt(S,e,v,b,O);Ee(y),x({...f,perioderSomSkalSendesInn:y})};if(p.useEffect(()=>{if(je)throw C(je),new Error("Vi klarte ikke å hente opp stønadskontoer. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.");if(ye)throw C(ye),new Error("Vi klarte ikke å hente informasjon om saken til annen forelder. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.");if(Oe)throw C(Oe),new Error("Vi klarte ikke å hente informasjon om saken til annen forelder for neste barn. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.")},[je,ye,Oe]),!be||!it||Ie!==H.FINISHED&&!de||nt!==H.FINISHED&&!Fe)return n.jsx("div",{style:{textAlign:"center",padding:"12rem 0"},children:n.jsx(bt,{size:"2xlarge"})});const lt=xn(it,be),dt=Ar(be.minsteretter.toTette),ut=f.dekningsgrad===xe.HUNDRE_PROSENT?lt[100]:lt[80],pt=e&&(oe===void 0||oe.length===0),pn=()=>{const S=V.filter(O=>sr(O));X(S),x({...f,harUttaksplanBlittSlettet:!0})},cn=()=>{P&&(X(P.uttaksplan),x({...f,perioderSomSkalSendesInn:[]}),Ee([]))};return n.jsx(we.FormikWrapper,{initialValues:vs(f.ønskerJustertUttakVedFødsel),onSubmit:st,innerRef:Ue,renderForm:({values:S})=>{const O=ys.getVisbility({ønskerAutomatiskJustering:S[re.ønskerAutomatiskJustering]??Se.NO,termindato:W,perioderMedUttakRundtFødsel:ee});return n.jsxs(An,{bannerTitle:U(o,"søknad.pageheading"),activeStepId:"uttaksplan",pageTitle:U(o,"søknad.uttaksplan"),onCancel:r,onContinueLater:i,steps:cr(o,e),children:[n.jsx(M,{padBottom:"l",children:n.jsx(Nr,{eksisterendeSak:P,erIUttaksplanenSteg:!0,tilgjengeligeStønadskontoer:ut,minsterettUkerToTette:dt,person:t.person})}),n.jsx(lr,{foreldreSituasjon:dn,forelderVedAleneomsorg:$t,erDeltUttak:ae,uttaksplan:V,familiehendelsesdato:w,handleOnPlanChange:un,stønadskontoer:ut,navnPåForeldre:Xt,annenForelder:g,arbeidsforhold:pr(Ht,Ne,v,Be(w)),erEndringssøknad:e,erFarEllerMedmor:v,erFlerbarnssøknad:Qt,erAleneOmOmsorg:ve,harMidlertidigOmsorg:Zt,situasjon:he,erMorUfør:Yt,morHarRett:Xe,søkersituasjon:d,dekningsgrad:f.dekningsgrad,antallBarn:Ye,tilleggsopplysninger:f.tilleggsopplysninger||{},setUttaksplanErGyldig:h,handleBegrunnelseChange:sn,eksisterendeSak:P,perioderSomSkalSendesInn:oe,morsSisteDag:en,harKomplettUttaksplan:zt,opprinneligPlan:f.harUttaksplanBlittSlettet?void 0:b,handleSlettUttaksplan:pn,handleResetUttaksplan:cn,termindato:W,barn:u,saveAttachment:Tr.saveAttachment,visAutomatiskJusteringForm:pe,perioderMedUttakRundtFødsel:ee,barnFraNesteSak:T,familiehendelsesdatoNesteSak:z,førsteUttaksdagNesteBarnsSak:K,minsterettUkerToTette:dt}),pe&&n.jsx(M,{padBottom:"l",children:n.jsx(Ke,{termindato:W,perioderMedUttakRundtFødsel:ee,antallBarn:u.antallBarn,visibility:O})}),n.jsx(Es,{isOpen:I,setIsOpen:c,goToPreviousStep:nn}),!E&&A&&n.jsx(M,{textAlignCenter:!0,padBottom:"l",children:n.jsx(De,{variant:"error",children:n.jsx(q,{id:"uttaksplan.validering.kanIkkeGåVidere"})})}),pt&&A&&n.jsx(M,{textAlignCenter:!0,padBottom:"l",children:n.jsx(De,{variant:"error",children:n.jsx(q,{id:"uttaksplan.validering.kanIkkeGåVidereEndringssøknad"})})}),n.jsx(M,{textAlignCenter:!0,padBottom:"l",children:n.jsxs(Nn,{children:[!e&&n.jsx(ke,{variant:"secondary",as:In,onClick:y=>{y.preventDefault(),c(!0)},to:kr("uttaksplan"),children:n.jsx(q,{id:"backlink.label"})}),n.jsx(ke,{type:"submit",onClick:ln,disabled:a,loading:a,children:U(o,"søknad.gåVidere")})]})})]})}})};try{me.displayName="UttaksplanStep",me.__docgenInfo={description:"",displayName:"UttaksplanStep",props:{søkerInfo:{defaultValue:null,description:"",name:"søkerInfo",required:!0,type:{name:"Søkerinfo"}},erEndringssøknad:{defaultValue:null,description:"",name:"erEndringssøknad",required:!0,type:{name:"boolean"}},mellomlagreSøknadOgNaviger:{defaultValue:null,description:"",name:"mellomlagreSøknadOgNaviger",required:!0,type:{name:"() => void"}},avbrytSøknad:{defaultValue:null,description:"",name:"avbrytSøknad",required:!0,type:{name:"() => void"}}}}}catch{}const Fs=(t,e,s=[])=>{switch(t){case m.SØKERSITUASJON:return e===!0;case m.OPPSUMMERING:return ur(s)===!1&&s.length>0;default:return!0}},Os=(t,e,s,r,o,i)=>{const a=D(e(l.APP_ROUTE)),k=e(l.SØKERSITUASJON),A=e(l.OM_BARNET),N=e(l.ANNEN_FORELDER),I=e(l.SØKER),c=e(l.UTENLANDSOPPHOLD),E=e(l.UTENLANDSOPPHOLD_SENERE),h=e(l.UTENLANDSOPPHOLD_TIDLIGERE),d=e(l.UTTAKSPLAN_METADATA),u=e(l.BARN_FRA_NESTE_SAK),g=e(l.EKSISTERENDE_SAK),B=e(l.UTTAKSPLAN),f=e(l.UTTAKSPLAN_INFO),Y={version:5,currentRoute:a,søknadGjelderEtNyttBarn:i,søknad:{harGodkjentVilkår:o,søkersituasjon:k,barn:A,annenForelder:N,søker:{...I,språkkode:t},informasjonOmUtenlandsopphold:c?{...c,senereOpphold:(E==null?void 0:E.senereOpphold)||[],tidligereOpphold:(h==null?void 0:h.tidligereOpphold)||[]}:void 0,erEndringssøknad:r,dekningsgrad:d==null?void 0:d.dekningsgrad,uttaksplan:B,vedlegg:[],tilleggsopplysninger:d==null?void 0:d.tilleggsopplysninger,ønskerJustertUttakVedFødsel:d==null?void 0:d.ønskerJustertUttakVedFødsel},eksisterendeSak:g,barnFraNesteSak:u,uttaksplanInfo:f,endringstidspunkt:d==null?void 0:d.endringstidspunkt,antallUkerIUttaksplan:d==null?void 0:d.antallUkerIUttaksplan,perioderSomSkalSendesInn:d==null?void 0:d.perioderSomSkalSendesInn,harUttaksplanBlittSlettet:d==null?void 0:d.harUttaksplanBlittSlettet,annenPartsUttakErLagtTilIPlan:d==null?void 0:d.annenPartsUttakErLagtTilIPlan};return _.storeAppState(Y,s)},Us=(t,e,s,r,o)=>{const i=Ge(),a=Lt(),[k,A]=p.useState(!1);return p.useEffect(()=>{if(k){const I=D(a(l.APP_ROUTE));(async()=>{A(!1),await Os(t,a,e,s,r,o),i(I)})().catch(E=>{E.response&&(E.response.status===401||E.response.status===403)?jt():(C(E),i(I))})}},[k]),p.useCallback(()=>{A(!0)},[])},bs=t=>!!(t&&typeof t=="object"&&"isAxiosError"in t),js=(t,e,s,r)=>{const o=Lt();return async a=>{const k=D(o(l.UTTAKSPLAN_METADATA)),A=D(o(l.OM_BARNET)),N=Rn(e,o,k.perioderSomSkalSendesInn,Be(Dt(A)),r,k.endringstidspunkt);if(N.uttaksplan.length===0&&N.erEndringssøknad)throw new Error("Søknaden din inneholder ingen nye perioder.");let I;try{I=(await _.sendSøknad(N,t,a)).data}catch(c){if(bs(c)){if(c.response&&(c.response.status===401||c.response.status===403)&&jt(),C(c),c.response&&c.response.status===400&&c.response.data&&c.response.data.messages&&c.response.data.messages.includes("Vedleggslisten kan ikke inneholde flere enn 40 opplastede vedlegg"))throw new Error(_t);const E=Mn(c),h=E!==Dn?E.slice(0,8):E;throw new Error(Bn+h)}throw new Error(String(c))}try{await _.deleteMellomlagretSøknad(t,a)}catch{}s(I)}},_s=(t,e,s,r)=>{const o=Ge(),i=Fr();return p.useCallback(async()=>{xr("applikasjon-hendelse",{app:"foreldrepengesoknad",team:"foreldrepenger",hendelse:"avbrutt"}),i(),e(!1),s(!1),r(void 0);try{await _.deleteMellomlagretSøknad(t)}catch{}o("/")},[t,o,i,e,s,r])},xs=(t,e,s,r,o,i,a,k)=>!t||k===void 0?n.jsx(F,{path:"*",element:n.jsx(mt,{to:m.VELKOMMEN})}):s?e?n.jsxs(n.Fragment,{children:[n.jsx(F,{path:m.UTTAKSPLAN,element:n.jsx(me,{søkerInfo:r,erEndringssøknad:e,mellomlagreSøknadOgNaviger:o,avbrytSøknad:a})}),n.jsx(F,{path:m.OPPSUMMERING,element:n.jsx(ft,{erEndringssøknad:e,søkerInfo:r,sendSøknad:i,avbrytSøknad:a,mellomlagreSøknadOgNaviger:o})})]}):n.jsxs(n.Fragment,{children:[n.jsx(F,{path:m.SØKERSITUASJON,element:n.jsx(Jn,{kjønn:r.person.kjønn,mellomlagreSøknadOgNaviger:o,avbrytSøknad:a})}),n.jsx(F,{path:m.OM_BARNET,element:n.jsx(Gn,{søkerInfo:r,søknadGjelderNyttBarn:k,mellomlagreSøknadOgNaviger:o,avbrytSøknad:a})}),n.jsx(F,{path:m.ANNEN_FORELDER,element:n.jsx(wn,{søkerInfo:r,mellomlagreSøknadOgNaviger:o,avbrytSøknad:a})}),n.jsx(F,{path:m.UTTAKSPLAN_INFO,element:n.jsx(Ln,{søkerInfo:r,erEndringssøknad:e,mellomlagreSøknadOgNaviger:o,avbrytSøknad:a})}),n.jsx(F,{path:m.UTTAKSPLAN,element:n.jsx(me,{søkerInfo:r,erEndringssøknad:e,mellomlagreSøknadOgNaviger:o,avbrytSøknad:a})}),n.jsx(F,{path:m.UTENLANDSOPPHOLD,element:n.jsx(br,{mellomlagreSøknadOgNaviger:o,avbrytSøknad:a})}),n.jsx(F,{path:m.TIDLIGERE_UTENLANDSOPPHOLD,element:n.jsx(jr,{mellomlagreSøknadOgNaviger:o,avbrytSøknad:a})}),n.jsx(F,{path:m.SENERE_UTENLANDSOPPHOLD,element:n.jsx(_r,{mellomlagreSøknadOgNaviger:o,avbrytSøknad:a})}),n.jsx(F,{path:m.INNTEKTSINFORMASJON,element:n.jsx(Kn,{søkerInfo:r,mellomlagreSøknadOgNaviger:o,avbrytSøknad:a})}),n.jsx(F,{path:m.OPPSUMMERING,element:n.jsx(ft,{erEndringssøknad:e,søkerInfo:r,sendSøknad:i,avbrytSøknad:a,mellomlagreSøknadOgNaviger:o})})]}):n.jsx(F,{path:"*",element:n.jsx(mt,{to:m.IKKE_MYNDIG})}),Rs=({locale:t,onChangeLocale:e,currentRoute:s,søkerInfo:r,saker:o,lagretErEndringssøknad:i,lagretHarGodkjentVilkår:a,lagretSøknadGjelderNyttBarn:k,setKvittering:A})=>{const N=Ge(),I=Fn(),[c,E]=p.useState(!0),[h,d]=p.useState(a||!1),[u,g]=p.useState(i||!1),[B,f]=p.useState(k),Y=js(r.person.fnr,u,A,t),V=Us(t,r.person.fnr,u,h,B),T=_s(r.person.fnr,g,d,f),P=j(l.UTTAKSPLAN),J=r.person.erMyndig;return p.useEffect(()=>{s&&J&&a&&c&&(E(!1),Fs(s,a,P)?N(s):I.pathname===m.OPPSUMMERING&&N(m.UTTAKSPLAN))},[s,J,a,N,c,I.pathname,P]),n.jsxs(On,{children:[n.jsx(F,{path:m.VELKOMMEN,element:n.jsx(Vn,{fornavn:r.person.fornavn,locale:t,saker:o,onChangeLocale:e,fnr:r.person.fnr,harGodkjentVilkår:h,søkerInfo:r,setHarGodkjentVilkår:d,setErEndringssøknad:g,setSøknadGjelderNyttBarn:f,mellomlagreSøknadOgNaviger:V})}),n.jsx(F,{path:m.IKKE_MYNDIG,element:n.jsx(Ve,{søkerInfo:r})}),xs(h,u,J,r,V,Y,T,B)]})};try{ForeldrepengesknadRoutes.displayName="ForeldrepengesknadRoutes",ForeldrepengesknadRoutes.__docgenInfo={description:"",displayName:"ForeldrepengesknadRoutes",props:{locale:{defaultValue:null,description:"",name:"locale",required:!0,type:{name:"enum",value:[{value:'"nb"'},{value:'"nn"'}]}},onChangeLocale:{defaultValue:null,description:"",name:"onChangeLocale",required:!0,type:{name:"(locale: LocaleNo) => void"}},currentRoute:{defaultValue:null,description:"",name:"currentRoute",required:!0,type:{name:"enum",value:[{value:'"/"'},{value:'"/soknad/sokersituasjon"'},{value:'"/soknad/om-barnet"'},{value:'"/soknad/annen-forelder"'},{value:'"/soknad/uttaksplan-info"'},{value:'"/soknad/uttaksplan"'},{value:'"/soknad/utenlandsopphold"'},{value:'"/soknad/tidligere-utenlandsopphold"'},{value:'"/soknad/senere-utenlandsopphold"'},{value:'"/soknad/inntektsinformasjon"'},{value:'"/soknad/manglende-vedlegg"'},{value:'"/soknad/oppsummering"'},{value:'"/soknad/soknad-sendt"'},{value:'"ikke-myndig"'}]}},søkerInfo:{defaultValue:null,description:"",name:"søkerInfo",required:!0,type:{name:"Søkerinfo"}},saker:{defaultValue:null,description:"",name:"saker",required:!0,type:{name:"Sak[]"}},lagretErEndringssøknad:{defaultValue:null,description:"",name:"lagretErEndringssøknad",required:!1,type:{name:"boolean"}},lagretHarGodkjentVilkår:{defaultValue:null,description:"",name:"lagretHarGodkjentVilkår",required:!1,type:{name:"boolean"}},lagretSøknadGjelderNyttBarn:{defaultValue:null,description:"",name:"lagretSøknadGjelderNyttBarn",required:!1,type:{name:"boolean"}},setKvittering:{defaultValue:null,description:"",name:"setKvittering",required:!0,type:{name:"(kvittering: Kvittering) => void"}}}}}catch{}const Ms=t=>{switch(t){case m.UTTAKSPLAN:case m.OPPSUMMERING:case m.SØKNAD_SENDT:return!0;default:return!1}},Ds=t=>t.søknad&&t.søknad.erEndringssøknad&&!Ms(t.currentRoute)?!1:t.version===5,Bs=t=>{const e=t.søknad;return{[l.APP_ROUTE]:t.currentRoute,[l.EKSISTERENDE_SAK]:t.eksisterendeSak,[l.BARN_FRA_NESTE_SAK]:t.barnFraNesteSak,[l.SØKERSITUASJON]:e==null?void 0:e.søkersituasjon,[l.OM_BARNET]:e==null?void 0:e.barn,[l.ANNEN_FORELDER]:e==null?void 0:e.annenForelder,[l.SØKER]:e==null?void 0:e.søker,[l.UTENLANDSOPPHOLD]:e!=null&&e.informasjonOmUtenlandsopphold?{iNorgeNeste12Mnd:e.informasjonOmUtenlandsopphold.iNorgeNeste12Mnd,iNorgeSiste12Mnd:e.informasjonOmUtenlandsopphold.iNorgeSiste12Mnd}:void 0,[l.UTENLANDSOPPHOLD_SENERE]:e!=null&&e.informasjonOmUtenlandsopphold?{senereOpphold:e.informasjonOmUtenlandsopphold.senereOpphold}:void 0,[l.UTENLANDSOPPHOLD_TIDLIGERE]:e!=null&&e.informasjonOmUtenlandsopphold?{tidligereOpphold:e.informasjonOmUtenlandsopphold.tidligereOpphold}:void 0,[l.UTTAKSPLAN_INFO]:t.uttaksplanInfo,[l.UTTAKSPLAN]:e==null?void 0:e.uttaksplan,[l.UTTAKSPLAN_METADATA]:{dekningsgrad:e==null?void 0:e.dekningsgrad,tilleggsopplysninger:e==null?void 0:e.tilleggsopplysninger,ønskerJustertUttakVedFødsel:e==null?void 0:e.ønskerJustertUttakVedFødsel,perioderSomSkalSendesInn:t.perioderSomSkalSendesInn,antallUkerIUttaksplan:t.antallUkerIUttaksplan,harUttaksplanBlittSlettet:t.harUttaksplanBlittSlettet,annenPartsUttakErLagtTilIPlan:t.annenPartsUttakErLagtTilIPlan,endringstidspunkt:t.endringstidspunkt}}};class ge extends p.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}componentDidCatch(e,s){e&&e.message!=="window.hasFocus is not a function"&&(this.setState({...this.state,hasError:!0,error:e}),Mr(r=>{r.setExtras(s),Dr(e)}))}render(){var e;if(this.state.hasError){const s=!!this.state.error&&!!this.state.error.message&&this.state.error.message===_t,r=s?"Feil: for mange vedlegg":"Informasjon om feilen";return n.jsx(Rt,{dokumenttittel:"NAV Foreldrepengesøknad",ingress:`${(e=this.state.error)==null?void 0:e.message}`,tittel:r,søkerInfo:this.props.søkerInfo,illustrasjon:{tittel:"Hei!",tekst:"Noe har gått galt med søknaden.",lenke:{tekst:"Her finner du en lenke til brukerstøtte",url:xt.brukerstøtte}},skalKunneGåTilbakeTilSøknad:s})}return this.props.children}}try{ge.displayName="ErrorBoundary",ge.__docgenInfo={description:"",displayName:"ErrorBoundary",props:{søkerInfo:{defaultValue:null,description:"",name:"søkerInfo",required:!1,type:{name:"Søkerinfo"}}}}}catch{}const yt=()=>n.jsx("div",{style:{textAlign:"center",padding:"12rem 0"},children:n.jsx(bt,{size:"2xlarge"})}),Ls=({locale:t,onChangeLocale:e})=>{var E,h;const{søkerinfoData:s,søkerinfoError:r}=_.useSøkerinfo(),{sakerData:o,sakerError:i}=_.useGetSaker(),{storageData:a,storageStatus:k}=_.useStoredAppState(),[A,N]=p.useState();p.useEffect(()=>{if(r)throw C(r),new Error("Vi klarte ikke å hente informasjon om deg. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.");if(i)throw C(i),new Error("Vi klarte ikke å hente informasjon om sakene dine. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.")},[r,i]);const I=p.useMemo(()=>a&&Ds(a)?Bs(a):void 0,[a]),c=p.useMemo(()=>s?Rr(s):void 0,[s]);return p.useEffect(()=>{var d,u,g,B;(u=(d=a==null?void 0:a.søknad)==null?void 0:d.søker)!=null&&u.språkkode&&a.søknad.søker.språkkode!==t&&e((B=(g=a.søknad)==null?void 0:g.søker)==null?void 0:B.språkkode)},[a]),A?Re.INNSYN?(ms(A.saksNr?`${Re.INNSYN}/sak/${A.saksNr}/redirectFromSoknad`:`${Re.INNSYN}/redirectFromSoknad`),n.jsx(yt,{})):n.jsx("div",{children:"Redirected to Innsyn"}):!o||!c||k===H.IN_PROGRESS?n.jsx(yt,{}):n.jsx(ge,{søkerInfo:c,children:n.jsx(Or,{initialState:I,children:n.jsx(Un,{children:n.jsx(Rs,{locale:t,onChangeLocale:e,søkerInfo:c,saker:o.foreldrepenger,currentRoute:a?a.currentRoute:m.VELKOMMEN,lagretErEndringssøknad:(E=a==null?void 0:a.søknad)==null?void 0:E.erEndringssøknad,lagretHarGodkjentVilkår:(h=a==null?void 0:a.søknad)==null?void 0:h.harGodkjentVilkår,lagretSøknadGjelderNyttBarn:a==null?void 0:a.søknadGjelderEtNyttBarn,setKvittering:N})})})})};try{Foreldrepengesknad.displayName="Foreldrepengesknad",Foreldrepengesknad.__docgenInfo={description:"",displayName:"Foreldrepengesknad",props:{locale:{defaultValue:null,description:"",name:"locale",required:!0,type:{name:"enum",value:[{value:'"nb"'},{value:'"nn"'}]}},onChangeLocale:{defaultValue:null,description:"",name:"onChangeLocale",required:!0,type:{name:"(locale: LocaleNo) => void"}}}}}catch{}const Vs=()=>{const t=ds();return t?t.name==="ie":!1},Gt=Zr(),ws={nb:{...Pn,...kt.nb},nn:{...yn,...kt.nn}};L.locale(Gt);const Ks=()=>{const[t,e]=p.useState(Gt);return p.useEffect(()=>{Me.setAppElement&&Me.setAppElement("#app")}),n.jsx(ge,{children:n.jsxs(Tn,{locale:t,messagesGroupedByLocale:ws,children:[n.jsx(Lr,{skalEndreNettleser:Vs()}),n.jsx(Ls,{locale:t,onChangeLocale:s=>{es(s),e(s)}})]})})},Ct=Ks,na={title:"AppContainer",component:Ct},Gs=({søkerinfoData:t,sakerData:e,annenPartVedtakData:s,stønadskontoerData:r,storageKvitteringData:o})=>{const i=new kn(Br);return i.onGet("/sokerinfo").reply(200,t),i.onGet("/innsyn/v2/saker").reply(200,e),i.onGet("/innsyn/v2/annenPartVedtak").reply(200,s),i.onGet("/konto").reply(200,r),i.onGet("/storage/kvittering/foreldrepenger").reply(200,o),i.onPost("/storage/foreldrepenger").reply(200,{}),i.onPost("/soknad").reply(200,{}),i.onPost("/sendSøknadUrl").reply(200,{}),i.onDelete("/storage/foreldrepenger").reply(200,{}),n.jsx(Ct,{})},te=Gs.bind({});te.args={søkerinfoData:wr,sakerData:Hr,annenPartVedtakData:Cr,stønadskontoerData:zr,storageKvitteringData:Yr};var It,Ft,Ot;te.parameters={...te.parameters,docs:{...(It=te.parameters)==null?void 0:It.docs,source:{originalSource:`({
  søkerinfoData,
  sakerData,
  annenPartVedtakData,
  stønadskontoerData,
  storageKvitteringData
}) => {
  const apiMock = new MockAdapter(AxiosInstance);
  apiMock.onGet('/sokerinfo').reply(200, søkerinfoData);
  apiMock.onGet('/innsyn/v2/saker').reply(200, sakerData);
  apiMock.onGet('/innsyn/v2/annenPartVedtak').reply(200, annenPartVedtakData);
  apiMock.onGet('/konto').reply(200, stønadskontoerData);
  apiMock.onGet('/storage/kvittering/foreldrepenger').reply(200, storageKvitteringData);
  apiMock.onPost('/storage/foreldrepenger').reply(200, {});
  apiMock.onPost('/soknad').reply(200, {});
  apiMock.onPost('/sendSøknadUrl').reply(200, {});
  apiMock.onDelete('/storage/foreldrepenger').reply(200, {});
  return <AppContainer />;
}`,...(Ot=(Ft=te.parameters)==null?void 0:Ft.docs)==null?void 0:Ot.source}}};const ra=["SøkerErMann"];export{te as SøkerErMann,ra as __namedExportsOrder,na as default};
//# sourceMappingURL=AppContainer.stories-eec82ee4.js.map
