import{j as t}from"./jsx-runtime-DoxjgJx5.js";import{w as Tt,g as Pt,A as _e,H as Ot,h as yt,U as jt,I as Ut,i as bt}from"./Step-D87D-j42.js";import{M as Ft}from"./index-B_cCgG6K.js";import{a as Dt,s as It}from"./stønadskontoDeltUttak80-ClNcnlfA.js";import{aM as Rt,d as F,g as _t,q as Z,aJ as ke,u as Be,U as Rn,b as C,i as pe,$ as xt,M as de,B as me,c as pn,a0 as Mt,p as wt,L as _n,S as Bt,aN as Kt,aO as xn}from"./Tidsperioden-BXZJ7Xx1.js";import{r as p}from"./index-Cu9bd8lq.js";import"./index-C-6Uy6j4.js";import{n as Lt,a as mn,u as kn,b as cn,o as gn,c as Gt}from"./app-rdfvG8E-.js";import"./_baseToString-yTMKM5a7.js";import"./_createSet-BNfKGSGn.js";import{B as qt}from"./ByttBrowserModal-BlL3InY0.js";import{B as Vt}from"./index-Wme36gmd.js";import{E as Ie}from"./Environment-O62Hvuhd.js";import{F as Ct,l as Jt,A as W}from"./Feilside-CCfZmwOs.js";import{a as Mn,s as H,g as Wt,b as Ht,c as $t,d as Yt,U as Qt}from"./UttaksplanInfo-wE9S9NGQ.js";import{C as i,c as Xt,d as wn,u as I,a as L,e as zt,F as Zt}from"./FpDataContext-CjNulmBK.js";import{l as er}from"./links-dJHPeQm3.js";import{a as Ke,$ as Q,ac as Bn,a0 as nr,ad as tr,P as rr,a6 as sr,S as xe,z as Kn,I as Re,G as ar,H as or,J as ir,K as lr,L as dr,ae as fn,O as ur,af as pr,ag as mr,D as kr,ah as cr,b as gr,ai as fr,aj as P,ak as Sn}from"./index-BUeOcrf5.js";import{n as M}from"./dateFormValidation-ueMUlaIN.js";import{S as k,e as Sr,h as Er,i as vr,Q as Ar,u as hr,a as Nr,g as Tr,f as Pr,s as Or,U as yr,j as jr,k as Ur,l as br}from"./useFpNavigator-59rUkzFa.js";import{r as Ln,R as J}from"./useRequest-Bq8ZCFOD.js";import{e as Gn,h as Fr}from"./barnUtils-CInKtSjf.js";import{V as Dr}from"./Velkommen-ZhvHyvXz.js";import{A as Ir}from"./AnnenForelderSteg-0ckfyobw.js";import{I as Rr}from"./Inntektsinformasjon-C0KF1MAB.js";import{M as En}from"./ManglendeVedlegg-Bm2af_z1.js";import{O as _r}from"./OmBarnetSteg-DEOUAb4E.js";import{O as vn}from"./Oppsummering-BkAzqxki.js";import{P as xr}from"./PeriodeMedForeldrepengerSteg-Clwvv7ED.js";import{S as Mr}from"./SøkersituasjonSteg-BCKzFYYD.js";import{U as wr}from"./UtenlandsoppholdSteg-BBsejN0W.js";import{S as Br}from"./SenereUtenlandsoppholdSteg-V2TXE5XC.js";import{T as Kr}from"./TidligereUtenlandsoppholdSteg-C6nN7OUP.js";import{S as x}from"./skjemanummer-CSxM5qit.js";import{g as Lr}from"./Næring-ptPh9wmB.js";import{u as An,a as ue,d as Gr,e as qr,g as Vr,b as hn,c as Cr,F as Jr}from"./uttaksplanInfoUtils-Bh8P7IUA.js";import{I as Wr}from"./InfoOmSøknaden-_w_s1mdh.js";import{b as Hr,c as $r}from"./dateUtils-Cfda7oM8.js";import{c as Yr,g as Qr}from"./eksisterendeSakUtils-NtznYZJp.js";import{a as Xr,g as zr}from"./stønadskontoer-D2QURlOs.js";import{F as w}from"./message-DTV81jgz.js";import{H as Zr,B as Nn}from"./Link-BqZ6CohM.js";import{s as es,A as ns}from"./apiInterceptor-D_vgNGab.js";import"./amplitude.esm-CWYNo8IU.js";import"./index-SDyqs4cU.js";import"./index-Ckls47V4.js";import"./SøkerOppsummeringspunkt-C8Js4Vyu.js";import"./attachmentApi-BZLtCyR0.js";import"./axios-Cm0UX6qg.js";import"./Accordion-BoDoOgHB.js";import"./TidligereUtenlandsoppholdPanel-yq4Xgo6V.js";import"./ErrorSummaryHookForm-BomxlQ1S.js";import"./globalUtil-C9WE76GY.js";import"./BabyWrapped-DnMHtaWJ.js";import"./LenkeKnapp-MqIXSt5W.js";import"./lodash-o8vTUAkc.js";import"./DinePlikter-0at2WEqC.js";import"./DinePersonopplysningerModal-C71pzpmd.js";import"./velkommenUtils-BHyyIiZQ.js";import"./RegistrertePersonalia-QYzaQR8h.js";import"./validationUtil-BCG_D16l.js";import"./AttachmentMetadata-B9XvXCfe.js";import"./InteractiveListElement-C4gyp53A.js";import"./attachmentType-bBGQaA6h.js";import"./FormikFileUploader-KkINxnn-.js";import"./AttachmentList-WdtErbjc.js";import"./Attachment-B0IOc_A-.js";import"./util-DYxqj1mB.js";import"./File-BG8I0pHr.js";const ts=[{fom:"2022-12-12",tom:"2023-02-17",kontoType:"FEDREKVOTE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},samtidigUttak:100,flerbarnsdager:!1},{fom:"2023-02-20",tom:"2023-03-05",kontoType:"FELLESPERIODE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},samtidigUttak:50,flerbarnsdager:!1},{fom:"2023-03-20",tom:"2023-03-31",kontoType:"FEDREKVOTE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},flerbarnsdager:!1}],rs="HUNDRE",ss={perioder:ts,dekningsgrad:rs},as="2019-02-01",os="23123",is={innsendingstidspunkt:as,pdf:os},ls=[{saksnummer:"352011594",sakAvsluttet:!1,sisteSøknadMottattDato:"2023-03-31",kanSøkeOmEndring:!1,sakTilhørerMor:!1,gjelderAdopsjon:!0,morUføretrygd:!1,harAnnenForelderTilsvarendeRettEØS:!1,ønskerJustertUttakVedFødsel:!1,rettighetType:"BEGGE_RETT",annenPart:{type:"person",fnr:"05489305072",fornavn:"Sentral",etternavn:"Tangent"},familiehendelse:{fødselsdato:"2023-02-01",antallBarn:1,omsorgsovertakelse:"2023-04-10"},åpenBehandling:{tilstand:"VENT_INNTEKTSMELDING",søknadsperioder:[{fom:"2023-04-10",tom:"2023-07-21",kontoType:"FEDREKVOTE",flerbarnsdager:!1},{fom:"2023-07-24",tom:"2023-09-15",kontoType:"FELLESPERIODE",morsAktivitet:"UTDANNING",flerbarnsdager:!1}]},barn:[],dekningsgrad:"HUNDRE"}],ds=[],us={foreldrepenger:ls,engangsstønad:[],svangerskapspenger:ds},ps={MØDREKVOTE:95,FEDREKVOTE:95,FELLESPERIODE:90,FORELDREPENGER_FØR_FØDSEL:15,FORELDREPENGER:80},ms={},ks={kontoer:ps,minsteretter:ms};function cs(n){p.useEffect(()=>{const e=document.title;return document.title=n,()=>{document.title=e}},[n])}var Tn=function(n,e,r){if(r||arguments.length===2)for(var s=0,o=e.length,a;s<o;s++)(a||!(s in e))&&(a||(a=Array.prototype.slice.call(e,0,s)),a[s]=e[s]);return n.concat(a||Array.prototype.slice.call(e))},gs=function(){function n(e,r,s){this.name=e,this.version=r,this.os=s,this.type="browser"}return n}(),fs=function(){function n(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return n}(),Ss=function(){function n(e,r,s,o){this.name=e,this.version=r,this.os=s,this.bot=o,this.type="bot-device"}return n}(),Es=function(){function n(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return n}(),vs=function(){function n(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return n}(),As=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,hs=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Pn=3,Ns=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",As]],On=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Ts(n){return n?yn(n):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new vs:typeof navigator<"u"?yn(navigator.userAgent):ys()}function Ps(n){return n!==""&&Ns.reduce(function(e,r){var s=r[0],o=r[1];if(e)return e;var a=o.exec(n);return!!a&&[s,a]},!1)}function yn(n){var e=Ps(n);if(!e)return null;var r=e[0],s=e[1];if(r==="searchbot")return new Es;var o=s[1]&&s[1].split(".").join("_").split("_").slice(0,3);o?o.length<Pn&&(o=Tn(Tn([],o,!0),js(Pn-o.length),!0)):o=[];var a=o.join("."),d=Os(n),u=hs.exec(n);return u&&u[1]?new Ss(r,a,d,u[1]):new gs(r,a,d)}function Os(n){for(var e=0,r=On.length;e<r;e++){var s=On[e],o=s[0],a=s[1],d=a.exec(n);if(d)return o}return null}function ys(){var n=typeof process<"u"&&process.version;return n?new fs(process.version.slice(1)):null}function js(n){for(var e=[],r=0;r<n;r++)e.push("0");return e}const Us=n=>{window.location.href=n},qn="selectedLocale",bs=()=>sessionStorage.getItem(qn)||"nb",Fs=n=>{sessionStorage.setItem(qn,n)},Ds=n=>{const e=n.søknad;return{[i.APP_ROUTE]:n.currentRoute,[i.EKSISTERENDE_SAK]:n.eksisterendeSak,[i.BARN_FRA_NESTE_SAK]:n.barnFraNesteSak,[i.SØKERSITUASJON]:e==null?void 0:e.søkersituasjon,[i.OM_BARNET]:e==null?void 0:e.barn,[i.ANNEN_FORELDER]:e==null?void 0:e.annenForelder,[i.SØKER_DATA]:e==null?void 0:e.søker,[i.UTENLANDSOPPHOLD]:e!=null&&e.informasjonOmUtenlandsopphold?{iNorgeNeste12Mnd:e.informasjonOmUtenlandsopphold.iNorgeNeste12Mnd,iNorgeSiste12Mnd:e.informasjonOmUtenlandsopphold.iNorgeSiste12Mnd}:void 0,[i.UTENLANDSOPPHOLD_SENERE]:e!=null&&e.informasjonOmUtenlandsopphold&&e.informasjonOmUtenlandsopphold.senereOpphold&&e.informasjonOmUtenlandsopphold.senereOpphold.length>0?{senereOpphold:e.informasjonOmUtenlandsopphold.senereOpphold}:void 0,[i.UTENLANDSOPPHOLD_TIDLIGERE]:e!=null&&e.informasjonOmUtenlandsopphold&&e.informasjonOmUtenlandsopphold.tidligereOpphold&&e.informasjonOmUtenlandsopphold.tidligereOpphold.length>0?{tidligereOpphold:e.informasjonOmUtenlandsopphold.tidligereOpphold}:void 0,[i.PERIODE_MED_FORELDREPENGER]:e!=null&&e.dekningsgrad?{dekningsgrad:e.dekningsgrad}:void 0,[i.UTTAKSPLAN_INFO]:n.uttaksplanInfo,[i.UTTAKSPLAN]:e==null?void 0:e.uttaksplan,[i.UTTAKSPLAN_METADATA]:{ønskerJustertUttakVedFødsel:e==null?void 0:e.ønskerJustertUttakVedFødsel,perioderSomSkalSendesInn:n.perioderSomSkalSendesInn,antallUkerIUttaksplan:n.antallUkerIUttaksplan,harUttaksplanBlittSlettet:n.harUttaksplanBlittSlettet,annenPartsUttakErLagtTilIPlan:n.annenPartsUttakErLagtTilIPlan,endringstidspunkt:n.endringstidspunkt},[i.VEDLEGG]:e==null?void 0:e.vedlegg}};class Le extends p.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}componentDidCatch(e,r){e&&e.message!=="window.hasFocus is not a function"&&(this.setState({...this.state,hasError:!0,error:e}),Tt(s=>{s.setExtras(r),Pt(e)}))}render(){var e;if(this.state.hasError){const r=!!this.state.error&&!!this.state.error.message&&this.state.error.message===Mn,s=r?"Feil: for mange vedlegg":"Informasjon om feilen";return t.jsx(Ct,{dokumenttittel:"NAV Foreldrepengesøknad",ingress:`${(e=this.state.error)==null?void 0:e.message}`,tittel:s,søker:this.props.søker,illustrasjon:{tittel:"Hei!",tekst:"Noe har gått galt med søknaden.",lenke:{tekst:"Her finner du en lenke til brukerstøtte",url:er.brukerstøtte}},skalKunneGåTilbakeTilSøknad:r})}return this.props.children}}Le.__docgenInfo={description:"",methods:[],displayName:"ErrorBoundary",props:{søker:{required:!1,tsType:{name:"intersection",raw:`{
    fødselsdato: string;
    kjønn: Kjønn;
    bankkonto?: Bankkonto;
    sivilstand?: Sivilstand;
    barn: SøkerBarn[];
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    fødselsdato: string;
    kjønn: Kjønn;
    bankkonto?: Bankkonto;
    sivilstand?: Sivilstand;
    barn: SøkerBarn[];
}`,signature:{properties:[{key:"fødselsdato",value:{name:"string",required:!0}},{key:"kjønn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"bankkonto",value:{name:"Bankkonto",required:!1}},{key:"sivilstand",value:{name:"Sivilstand",required:!1}},{key:"barn",value:{name:"Array",elements:[{name:"intersection",raw:`{
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: SøkerAnnenForelder;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: SøkerAnnenForelder;
}`,signature:{properties:[{key:"kjønn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"dødsdato",value:{name:"string",required:!1}},{key:"annenForelder",value:{name:"intersection",raw:`{
    fødselsdato?: string;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    fødselsdato?: string;
}`,signature:{properties:[{key:"fødselsdato",value:{name:"string",required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}],required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}]}],raw:"SøkerBarn[]",required:!0}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}]},description:""},children:{required:!0,tsType:{name:"ReactElement"},description:""}}};const Is=(n,e,r,s)=>{const o=Ke(),a=Xt();return p.useCallback(async()=>{Jt("applikasjon-hendelse",{app:"foreldrepengesoknad",team:"foreldrepenger",hendelse:"avbrutt"}),a(),e(!1),r(!1),s(void 0);try{await W.deleteMellomlagretSøknad(n)}catch{}o("/")},[n,o,a,e,r,s])},Vn=7,Rs=n=>{switch(n){case k.UTTAKSPLAN:case k.OPPSUMMERING:return!0;default:return!1}},jn=n=>n.søknad&&n.søknad.erEndringssøknad&&!Rs(n.currentRoute)?!1:n.version===Vn,_s=(n,e,r,s,o,a)=>{const d=M(e(i.APP_ROUTE)),u=e(i.SØKERSITUASJON),h=e(i.OM_BARNET),g=e(i.ANNEN_FORELDER),j=e(i.SØKER_DATA),O=e(i.UTENLANDSOPPHOLD),v=e(i.UTENLANDSOPPHOLD_SENERE),l=e(i.UTENLANDSOPPHOLD_TIDLIGERE),m=e(i.UTTAKSPLAN_METADATA),N=e(i.BARN_FRA_NESTE_SAK),c=e(i.EKSISTERENDE_SAK),f=e(i.UTTAKSPLAN),S=e(i.UTTAKSPLAN_INFO),B=e(i.PERIODE_MED_FORELDREPENGER),$=e(i.VEDLEGG),R={version:Vn,locale:n,currentRoute:d,søknadGjelderEtNyttBarn:a,søknad:{harGodkjentVilkår:o,søkersituasjon:u,barn:h,annenForelder:g,søker:j,informasjonOmUtenlandsopphold:O?{...O,senereOpphold:(v==null?void 0:v.senereOpphold)||[],tidligereOpphold:(l==null?void 0:l.tidligereOpphold)||[]}:void 0,erEndringssøknad:s,dekningsgrad:B==null?void 0:B.dekningsgrad,uttaksplan:f,vedlegg:$,ønskerJustertUttakVedFødsel:m==null?void 0:m.ønskerJustertUttakVedFødsel},eksisterendeSak:c,barnFraNesteSak:N,uttaksplanInfo:S,endringstidspunkt:m==null?void 0:m.endringstidspunkt,antallUkerIUttaksplan:m==null?void 0:m.antallUkerIUttaksplan,perioderSomSkalSendesInn:m==null?void 0:m.perioderSomSkalSendesInn,harUttaksplanBlittSlettet:m==null?void 0:m.harUttaksplanBlittSlettet,annenPartsUttakErLagtTilIPlan:m==null?void 0:m.annenPartsUttakErLagtTilIPlan};return W.storeAppState(R,r)},xs=(n,e,r,s,o)=>{const a=Ke(),d=wn(),[u,h]=p.useState(!1),g=p.useRef();return p.useEffect(()=>{if(u){const O=M(d(i.APP_ROUTE));(async()=>{h(!1),a(O),await _s(n,d,e,r,s,o),g.current&&g.current()})().catch(l=>{l.response&&(l.response.status===401||l.response.status===403)?Ln():H(l),g.current&&g.current()})}},[u]),p.useCallback(()=>(h(!0),new Promise(v=>{g.current=v})),[])},Ms=n=>!!(n&&typeof n=="object"&&"isAxiosError"in n),ws=(n,e,r,s)=>{const o=wn(),[a,d]=p.useState();return{sendSøknad:async h=>{const g=M(o(i.UTTAKSPLAN_METADATA)),j=M(o(i.OM_BARNET)),O=Wt(e,o,g.perioderSomSkalSendesInn,Gn(j),s,g.endringstidspunkt);O.uttaksplan.length===0&&O.erEndringssøknad&&d(new Error("Søknaden din inneholder ingen nye perioder."));let v;try{v=(await W.sendSøknad(O,n,h)).data}catch(l){if(Ms(l)){l.response&&(l.response.status===401||l.response.status===403)&&Ln(),H(l),l.response&&l.response.status===400&&l.response.data&&l.response.data.messages&&l.response.data.messages.includes("Vedleggslisten kan ikke inneholde flere enn 40 opplastede vedlegg")&&d(new Error(Mn));const m=Ht(l),N=m!==$t?m.slice(0,8):m;d(new Error(Yt+N))}d(new Error(String(l)))}try{await W.deleteMellomlagretSøknad(n,h)}catch{}r(v)},errorSendSøknad:a}};var ee=(n=>(n.ønskerAutomatiskJustering="ønskerAutomatiskJustering",n))(ee||{});const Me=Sr(),Bs=(n,e)=>{const[r,s]=p.useState(n);return p.useEffect(()=>{const o=setTimeout(()=>{s(n)},e);return()=>{clearTimeout(o)}},[n,e]),r},Cn=n=>Q(n)||Bn(n)||nr(n)||tr(n),Un=(n,e,r,s,o)=>s?e?Ls(s,n,o,r):n.filter(Cn):n,Ks=(n,e,r,s)=>{const o=e.filter(a=>Rt(r,a.tidsperiode.fom,a.tidsperiode.tom)||F(a.tidsperiode.fom).isSameOrAfter(F(r),"day")).filter(Cn);if(o.length===0&&n.length>e.length){const a=n.find(u=>F(u.tidsperiode.fom).isSame(r,"day"));return[{id:_t(),type:rr.Utsettelse,tidsperiode:{fom:a.tidsperiode.fom,tom:a.tidsperiode.tom},årsak:sr.Fri,forelder:s?Z.farMedmor:Z.mor,erArbeidstaker:!1}]}else return o},Ls=(n,e,r,s)=>r===void 0?[]:Ks(n,e,r,s),Gs=n=>vr(n),qs=(n,e)=>({ønskerAutomatiskJustering:n!==void 0&&e?Er(n):ke.UNANSWERED}),Jn=({termindato:n,perioderMedUttakRundtFødsel:e,antallBarn:r,visibility:s})=>{const o=Be(),a=Rn(n).denneEllerNeste(),d=M(I(i.UTTAKSPLAN_METADATA)),u=L(i.UTTAKSPLAN_METADATA),h=d.ønskerJustertUttakVedFødsel,g=h&&e.length>1,j=h&&e.length===1&&!F(e[0].tidsperiode.fom).isSame(a,"day"),O=h&&e.length===1&&F(e[0].tidsperiode.fom).isSame(a,"day")&&(Q(e[0])&&(e[0].konto!==xe.Fedrekvote||!e[0].ønskerSamtidigUttak)||Bn(e[0])),v=h&&e.length===1&&F(e[0].tidsperiode.fom).isSame(a,"day")&&Q(e[0])&&e[0].konto===xe.Fedrekvote&&e[0].ønskerFlerbarnsdager===!0;let l="";g&&(l="uttaksplan.automatiskJustering.info.hvisFlerePerioder"),j&&(l="uttaksplan.automatiskJustering.info.hvisIkkeLengerStarterPåTermin"),O&&(l="uttaksplan.automatiskJustering.info.hvisEndretPeriodePåTermin"),v&&(l="uttaksplan.automatiskJustering.info.hvisEndretPeriodeTilØnskerFlerbarnsdager");const m=N=>{const c=Gs(N);u({...d,ønskerJustertUttakVedFødsel:c})};return t.jsx(Me.Form,{includeButtons:!1,children:t.jsxs("div",{style:{paddingTop:"1rem",paddingBottom:"1rem"},children:[l!==""&&t.jsx(C,{padBottom:"l",children:t.jsx(_e,{variant:"info",children:t.jsx(w,{id:l})})}),t.jsx(C,{visible:s.isVisible(ee.ønskerAutomatiskJustering),padBottom:"l",children:t.jsx(Me.YesOrNoQuestion,{name:ee.ønskerAutomatiskJustering,legend:pe(o,"uttaksplan.automatiskJustering.spørsmål",{antallBarn:r}),validate:N=>{if(N===ke.UNANSWERED)return pe(o,"uttaksplan.automatiskJustering.svar.påkrevd")},afterOnChange:N=>m(N)})})]})})};Jn.__docgenInfo={description:"",methods:[],displayName:"AutomatiskJusteringForm",props:{termindato:{required:!0,tsType:{name:"Date"},description:""},perioderMedUttakRundtFødsel:{required:!0,tsType:{name:"Array",elements:[{name:"union",raw:`| Uttaksperiode
| Utsettelsesperiode
| Oppholdsperiode
| Overføringsperiode
| PeriodeHull
| PeriodeUtenUttakUtsettelse
| PeriodeUtenUttak
| InfoPeriode`,elements:[{name:"union",raw:"UttaksperiodeBase | ForeldrepengerFørFødselUttaksperiode",elements:[{name:"UttaksperiodeBase"},{name:"ForeldrepengerFørFødselUttaksperiode"}]},{name:"Utsettelsesperiode"},{name:"Oppholdsperiode"},{name:"Overføringsperiode"},{name:"PeriodeHull"},{name:"PeriodeUtenUttakUtsettelse"},{name:"PeriodeUtenUttak"},{name:"union",raw:"AvslåttPeriode | UttakAnnenPartInfoPeriode | UtsettelseAnnenPartInfoPeriode",elements:[{name:"AvslåttPeriode"},{name:"UttakAnnenPartInfoPeriode"},{name:"UtsettelseAnnenPartInfoPeriode"}]}]}],raw:"Periode[]"},description:""},antallBarn:{required:!0,tsType:{name:"number"},description:""},visibility:{required:!0,tsType:{name:"QuestionVisibility",elements:[{name:"UttaksplanFormField"},{name:"undefined"}],raw:"QuestionVisibility<UttaksplanFormField, undefined>"},description:""}}};const Vs=(n,e)=>e!==void 0&&Q(n)&&F(n.tidsperiode.fom).isSame(Rn(F(e).toDate()).denneEllerNeste(),"day")&&n.forelder===Z.farMedmor&&n.konto===xe.Fedrekvote&&n.ønskerSamtidigUttak===!0&&n.ønskerFlerbarnsdager!==!0,Cs=(n,e,r)=>n&&e.length===1&&Vs(e[0],r),Js=(n,e,r,s,o,a,d)=>n&&xt(e)&&r==="fødsel"&&s.length!==0&&Kn(o)&&a!==void 0&&!d,Wn=({isOpen:n,setIsOpen:e,goToPreviousStep:r})=>t.jsxs(de,{"aria-label":"Vil du gå tilbake",open:n,onClose:()=>e(!1),children:[t.jsx(de.Header,{children:t.jsx(Zr,{size:"small",level:"1",children:t.jsx(w,{id:"uttaksplan.vilDuGåTilbakeModal.tittel"})})}),t.jsx(de.Body,{children:t.jsxs(Ot,{gap:"4",children:[t.jsx(Nn,{children:t.jsx(w,{id:"uttaksplan.vilDuGåTilbakeModal.intro"})}),t.jsx(Nn,{children:t.jsx(w,{id:"uttaksplan.vilDuGåTilbakeModal.spørsmål"})})]})}),t.jsxs(de.Footer,{children:[t.jsx(me,{onClick:r,children:t.jsx(w,{id:"uttaksplan.vilDuGåTilbakeModal.okLabel"})}),t.jsx(me,{variant:"secondary",onClick:()=>e(!1),children:t.jsx(w,{id:"uttaksplan.vilDuGåTilbakeModal.avbrytLabel"})})]})]});Wn.__docgenInfo={description:"",methods:[],displayName:"VilDuGåTilbakeModal",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},setIsOpen:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"boolean"}],raw:"SetStateAction<boolean>"}],raw:"Dispatch<SetStateAction<boolean>>"},description:""},goToPreviousStep:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const Ws={[ee.ønskerAutomatiskJustering]:{isIncluded:({periodeRundtFødselKanAutomatiskJusteres:n})=>n,isAnswered:({ønskerAutomatiskJustering:n})=>n!==ke.UNANSWERED}},Hs=Ar(Ws),$s=[],we=({søkerInfo:n,erEndringssøknad:e,mellomlagreSøknadOgNaviger:r,avbrytSøknad:s})=>{const o=Be(),a=hr(n.arbeidsforhold,e),d=Nr(n.arbeidsforhold,r,e),[u,h]=p.useState(!1),[g,j]=p.useState(!1),[O,v]=p.useState(!1),[l,m]=p.useState(!0),N=M(I(i.SØKERSITUASJON)),c=M(I(i.OM_BARNET)),f=M(I(i.ANNEN_FORELDER)),S=M(I(i.UTTAKSPLAN_METADATA)),B=M(I(i.PERIODE_MED_FORELDREPENGER)),$=I(i.UTTAKSPLAN_INFO),R=I(i.UTTAKSPLAN)||$s,T=I(i.BARN_FRA_NESTE_SAK),y=I(i.EKSISTERENDE_SAK),zn=I(i.VEDLEGG),Ge=L(i.OM_BARNET),qe=L(i.BARN_FRA_NESTE_SAK),Y=L(i.UTTAKSPLAN),Ve=L(i.EKSISTERENDE_SAK),_=L(i.UTTAKSPLAN_METADATA),Zn=L(i.APP_ROUTE),et=L(i.VEDLEGG),[ne,nt]=p.useState(S.endringstidspunkt),[te,ce]=p.useState(S.perioderSomSkalSendesInn||[]),Ce=Re(f)?f:void 0,Je=Ce?Ce.erAleneOmOmsorg:!0,{situasjon:ge}=N,{rolle:We}=N,tt=ar(f),re=Re(f)?!!f.harRettPåForeldrepengerINorge||!!f.harRettPåForeldrepengerIEØS:!1,A=or(N.rolle),He=ir(!A,Je,f),$e=lr(A,Je,f),se=He||$e,rt=re?void 0:A?Z.farMedmor:Z.mor,G=Gn(c),X=pn(G),st=Tr(f,A),at=dr(n.søker,f,A,o),Ye=c.antallBarn,ot=Ye>1,Qe=fn(We,A,f),D=y==null?void 0:y.uttaksplan,it=y?y.uttaksplan!==void 0:!1,lt=!1,dt=Hr($),K=Fr(c),fe=Re(f)&&!f.utenlandskFnr?f.fnr:void 0,Se=ge==="adopsjon",Ee=T!==void 0?T.annenForelderFnr:void 0,Xe=T!==void 0&&T.fnr!==void 0&&T.fnr.length>0?T.fnr[0]:void 0,ve=T!==void 0?T.familiehendelsesdato:void 0,q=T!==void 0?T.startdatoFørsteStønadsperiode:void 0,Ae=!fn(N.rolle,A,f)&&!se,ze=!Kn(c)&&c.fnr!==void 0&&c.fnr.length>0?c.fnr[0]:void 0,ae=!(!se&&fe!==void 0&&fe!==""&&(ze!==void 0||G!==void 0)),ut=Bs(zt(),3e3),Ze=p.useRef(!0);p.useEffect(()=>{Ze.current===!1&&r(),Ze.current=!1},[ut,r]);const{data:he,requestStatus:Ne,error:Te}=An(ue.ANNEN_PART_VEDTAK,{annenPartFødselsnummer:fe,barnFødselsnummer:ze,familiehendelse:G},ae),V=p.useMemo(()=>Yr(he,c,A,G,q),[he,c,A,G,q]),pt=()=>{v(!1);const E={[x.BEKREFTELSE_DELTAR_KVALIFISERINGSPROGRAM]:[],[x.DOK_DELTAKELSE_I_INTRODUKSJONSPROGRAMMET]:[],[x.DOK_SYKDOM_MOR]:[],[x.DOK_SYKDOM_FAR]:[],[x.DOK_INNLEGGELSE_BARN]:[],[x.DOK_INNLEGGELSE_MOR]:[],[x.DOK_INNLEGGELSE_FAR]:[],[x.DOK_ARBEID_MOR]:[],[x.DOK_UTDANNING_MOR]:[],[x.DOK_UTDANNING_OG_ARBEID_MOR]:[]};_({...S,perioderSomSkalSendesInn:[],endringstidspunkt:void 0,ønskerJustertUttakVedFødsel:void 0}),Y([]),et({...zn,...E}),Zn(k.UTTAKSPLAN_INFO),r(),d.goToPreviousDefaultStep()},Pe=Gr(A,c.antallBarn,V==null?void 0:V.grunnlag.antallBarn);p.useEffect(()=>{A&&c.antallBarn!==Pe&&Ge({...c,antallBarn:Pe})},[A,Pe,c,Ge]);const Oe=!(Ee!==void 0&&Ee!==""&&(Xe!==void 0||ve!==void 0)&&(ae||Ne===J.FINISHED)),{data:mt,requestStatus:en,error:ye}=An(ue.NESTE_SAK_ANNEN_PART_VEDTAK,{annenPartFødselsnummer:Ee,barnFødselsnummer:Xe,familiehendelse:Mt(ve)},Oe),oe=Qr(mt);p.useEffect(()=>{if(oe!==void 0&&T!==void 0&&(F(oe).isBefore(T.startdatoFørsteStønadsperiode,"d")||T.startdatoFørsteStønadsperiode===void 0)){const E={...T,startdatoFørsteStønadsperiode:oe};qe(E)}},[q,oe,T,qe]);const nn=jr({erDeltUttak:re,morHarRett:Qe,søkerErAleneOmOmsorg:se});p.useEffect(()=>{if(y!==void 0&&D!==void 0&&V!==void 0&&!S.annenPartsUttakErLagtTilIPlan){D.forEach(U=>{if(Q(U)){const dn=ur(V.uttaksplan).finnOverlappendePerioder(U);dn.length!==0&&dn.find(un=>pr(un)&&un.ønskerSamtidigUttak===!0)&&(U.ønskerSamtidigUttak||(U.ønskerSamtidigUttak=!0,U.samtidigUttakProsent=qr(U.gradert,U.stillingsprosent)))}});const E=Pr(Or(D,V.uttaksplan,X,q,!0),nn,X,Se,Ae,A,q),b={...y,uttaksplan:E};Y(E),Ve(b),_({...S,annenPartsUttakErLagtTilIPlan:!0})}},[V,D,X,nn,Se,Ae,A,q,y,S,Y,Ve,_]),p.useEffect(()=>{const E=D==null?void 0:D.find(b=>Q(b)&&b.angittAvAnnenPart);if(E&&ne===void 0){const b=E.tidsperiode.fom,U=Un(R,e,A,D,b);ce(U),_({...S,perioderSomSkalSendesInn:U,endringstidspunkt:ne})}},[D,ne,A,R,e,_,S]);const tn=async()=>{const E=Ur(R,A,f,e,S==null?void 0:S.perioderSomSkalSendesInn);return h(!0),j(!0),_({...S,endringstidspunkt:ne,perioderSomSkalSendesInn:te,antallUkerIUttaksplan:Nt}),E?d.goToNextStep(k.DOKUMENTASJON):d.goToNextDefaultStep()},ie=mr(R,X,K?F(K).toDate():void 0),je=Js(A,X,ge,ie,c,K,Ae),le=Cs(je,ie,K),kt=()=>{le||_({...S,ønskerJustertUttakVedFødsel:void 0})},ct=E=>le&&E!==void 0,Ue=p.useRef(null),gt=async E=>{j(!0),l&&!ln&&(h(!0),Ue.current&&Ue.current.handleSubmit(),kt(),ct(E.ønskerAutomatiskJustering)&&await tn())},ft=wt(n.søker.kjønn,tt,re,He,$e,We),rn=(ae?!1:Ne!==J.FINISHED)||(Oe?!1:en!==J.FINISHED),{stønadskontoParams100:St,stønadskontoParams80:Et}=Vr(c,f,N,T,he,y),{data:sn}=hn(ue.STØNADSKONTOER_80,Et,rn),{data:be,error:Fe}=hn(ue.STØNADSKONTOER_100,St,rn),vt=E=>{j(!1),h(!1),Y(E);const b=$r(D,E,e);nt(b);const U=Un(E,e,A,D,b);ce(U),_({...S,perioderSomSkalSendesInn:U})};if(p.useEffect(()=>{if(Fe)throw H(Fe),new Error("Vi klarte ikke å hente opp stønadskontoer. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.");if(Te)throw H(Te),new Error("Vi klarte ikke å hente informasjon om saken til annen forelder. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.");if(ye)throw H(ye),new Error("Vi klarte ikke å hente informasjon om saken til annen forelder for neste barn. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.")},[Fe,Te,ye]),!be||!sn||Ne!==J.FINISHED&&!ae||en!==J.FINISHED&&!Oe)return t.jsx("div",{style:{textAlign:"center",padding:"12rem 0"},children:t.jsx(_n,{size:"2xlarge"})});const an=Cr(sn,be),on=Xr(be.minsteretter.toTette),De=B.dekningsgrad===kr.HUNDRE_PROSENT?an[100]:an[80],ln=e&&(te===void 0||te.length===0),At=()=>{const E=R.filter(b=>cr(b));Y(E),_({...S,harUttaksplanBlittSlettet:!0})},ht=()=>{y&&(Y(y.uttaksplan),_({...S,perioderSomSkalSendesInn:[]}),ce([]))},Nt=zr(De);return t.jsx(Me.FormikWrapper,{initialValues:qs(S.ønskerJustertUttakVedFødsel,le),onSubmit:tn,innerRef:Ue,renderForm:({values:E})=>{const b=Hs.getVisbility({ønskerAutomatiskJustering:E[ee.ønskerAutomatiskJustering]??ke.NO,periodeRundtFødselKanAutomatiskJusteres:le});return t.jsxs(Bt,{bannerTitle:pe(o,"søknad.pageheading"),onCancel:s,onContinueLater:d.fortsettSøknadSenere,steps:a,children:[t.jsx(C,{padBottom:"l",children:t.jsx(Wr,{eksisterendeSak:y,erIUttaksplanenSteg:!0,tilgjengeligeStønadskontoer:De,minsterettUkerToTette:on,søker:n.søker})}),t.jsx(yr,{foreldreSituasjon:ft,forelderVedAleneomsorg:rt,erDeltUttak:re,uttaksplan:R,familiehendelsesdato:G,handleOnPlanChange:vt,stønadskontoer:De,navnPåForeldre:at,annenForelder:f,arbeidsforhold:Lr(n.arbeidsforhold,Se,A,pn(G)),erEndringssøknad:e,erFarEllerMedmor:A,erFlerbarnssøknad:ot,erAleneOmOmsorg:se,harMidlertidigOmsorg:lt,situasjon:ge,erMorUfør:st,morHarRett:Qe,søkersituasjon:N,dekningsgrad:B.dekningsgrad,antallBarn:Ye,setUttaksplanErGyldig:m,eksisterendeSak:y,perioderSomSkalSendesInn:te,morsSisteDag:dt,harKomplettUttaksplan:it,opprinneligPlan:S.harUttaksplanBlittSlettet?void 0:D,handleSlettUttaksplan:At,handleResetUttaksplan:ht,termindato:K?F(K).toDate():void 0,barn:c,visAutomatiskJusteringForm:je,perioderMedUttakRundtFødsel:ie,barnFraNesteSak:T,familiehendelsesdatoNesteSak:ve,førsteUttaksdagNesteBarnsSak:q,minsterettUkerToTette:on}),je&&t.jsx(C,{padBottom:"l",children:t.jsx(Jn,{termindato:K?F(K).toDate():void 0,perioderMedUttakRundtFødsel:ie,antallBarn:c.antallBarn,visibility:b})}),t.jsx(Wn,{isOpen:O,setIsOpen:v,goToPreviousStep:pt}),!l&&g&&t.jsx(C,{textAlignCenter:!0,padBottom:"l",children:t.jsx(_e,{variant:"error",children:t.jsx(w,{id:"uttaksplan.validering.kanIkkeGåVidere"})})}),ln&&g&&t.jsx(C,{textAlignCenter:!0,padBottom:"l",children:t.jsx(_e,{variant:"error",children:t.jsx(w,{id:"uttaksplan.validering.kanIkkeGåVidereEndringssøknad"})})}),t.jsx(C,{textAlignCenter:!0,padBottom:"l",children:t.jsxs(Kt,{singleButton:!0,children:[!e&&t.jsx(me,{variant:"secondary",onClick:U=>{U.preventDefault(),v(!0)},children:t.jsx(w,{id:"backlink.label"})}),t.jsx(me,{type:"submit",onClick:gt,disabled:u,loading:u,children:pe(o,"søknad.gåVidere")})]})})]})}})};we.__docgenInfo={description:"",methods:[],displayName:"UttaksplanStep"};const Ys=(n,e,r=[])=>{switch(n){case k.SØKERSITUASJON:return e===!0;case k.OPPSUMMERING:return br(r)===!1&&r.length>0;default:return!0}},Qs=(n,e,r,s,o,a,d)=>!n||d===void 0?t.jsx(P,{path:"*",element:t.jsx(Sn,{to:k.VELKOMMEN})}):xn(r.søker.fødselsdato)?e?t.jsxs(t.Fragment,{children:[t.jsx(P,{path:k.UTTAKSPLAN,element:t.jsx(we,{søkerInfo:r,erEndringssøknad:e,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(P,{path:k.DOKUMENTASJON,element:t.jsx(En,{søkerInfo:r,erEndringssøknad:e,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(P,{path:k.OPPSUMMERING,element:t.jsx(vn,{erEndringssøknad:e,søkerInfo:r,sendSøknad:o,avbrytSøknad:a,mellomlagreSøknadOgNaviger:s})})]}):t.jsxs(t.Fragment,{children:[t.jsx(P,{path:k.SØKERSITUASJON,element:t.jsx(Mr,{arbeidsforhold:r.arbeidsforhold,kjønn:r.søker.kjønn,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(P,{path:k.OM_BARNET,element:t.jsx(_r,{søkerInfo:r,søknadGjelderNyttBarn:d,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(P,{path:k.ANNEN_FORELDER,element:t.jsx(Ir,{søkerInfo:r,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(P,{path:k.PERIODE_MED_FORELDREPENGER,element:t.jsx(xr,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(P,{path:k.UTTAKSPLAN_INFO,element:t.jsx(Qt,{søkerInfo:r,erEndringssøknad:e,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(P,{path:k.UTTAKSPLAN,element:t.jsx(we,{søkerInfo:r,erEndringssøknad:e,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(P,{path:k.DOKUMENTASJON,element:t.jsx(En,{søkerInfo:r,erEndringssøknad:e,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(P,{path:k.UTENLANDSOPPHOLD,element:t.jsx(wr,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(P,{path:k.TIDLIGERE_UTENLANDSOPPHOLD,element:t.jsx(Kr,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(P,{path:k.SENERE_UTENLANDSOPPHOLD,element:t.jsx(Br,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(P,{path:k.INNTEKTSINFORMASJON,element:t.jsx(Rr,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(P,{path:k.OPPSUMMERING,element:t.jsx(vn,{erEndringssøknad:e,søkerInfo:r,sendSøknad:o,avbrytSøknad:a,mellomlagreSøknadOgNaviger:s})})]}):t.jsx(P,{path:"*",element:t.jsx(Sn,{to:k.IKKE_MYNDIG})}),Hn=({locale:n,onChangeLocale:e,currentRoute:r,søkerInfo:s,saker:o,lagretErEndringssøknad:a,lagretHarGodkjentVilkår:d,lagretSøknadGjelderNyttBarn:u,setKvittering:h})=>{const g=Ke(),j=gr(),[O,v]=p.useState(!0),[l,m]=p.useState(d||!1),[N,c]=p.useState(a||!1),[f,S]=p.useState(u),{sendSøknad:B,errorSendSøknad:$}=ws(s.søker.fnr,N,h,n),R=xs(n,s.søker.fnr,N,l,f),T=Is(s.søker.fnr,c,m,S),y=I(i.UTTAKSPLAN);return p.useEffect(()=>{r&&xn(s.søker.fødselsdato)&&d&&O&&(v(!1),Ys(r,d,y)?g(r):j.pathname===k.OPPSUMMERING&&g(k.UTTAKSPLAN))},[r,s.søker.fødselsdato,d,g,O,j.pathname,y]),$?t.jsx(yt,{appName:"Foreldrepenger",errorMessage:$.message,retryCallback:()=>location.reload()}):t.jsxs(fr,{children:[t.jsx(P,{path:k.VELKOMMEN,element:t.jsx(Dr,{fornavn:s.søker.fornavn,locale:n,saker:o,onChangeLocale:e,fnr:s.søker.fnr,harGodkjentVilkår:l,søkerInfo:s,setHarGodkjentVilkår:m,setErEndringssøknad:c,setSøknadGjelderNyttBarn:S,mellomlagreSøknadOgNaviger:R})}),t.jsx(P,{path:k.IKKE_MYNDIG,element:t.jsx(jt,{appnavn:"Foreldrepenger"})}),Qs(l,N,s,R,B,T,f)]})};Hn.__docgenInfo={description:"",methods:[],displayName:"ForeldrepengesøknadRoutes",props:{locale:{required:!0,tsType:{name:"union",raw:"'nb' | 'nn'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"}]},description:""},onChangeLocale:{required:!0,tsType:{name:"signature",type:"function",raw:"(locale: LocaleNo) => void",signature:{arguments:[{type:{name:"union",raw:"'nb' | 'nn'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"}]},name:"locale"}],return:{name:"void"}}},description:""},currentRoute:{required:!0,tsType:{name:"SøknadRoutes"},description:""},søkerInfo:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    søker: Søker;
    arbeidsforhold: Arbeidsforhold[];
}`,signature:{properties:[{key:"søker",value:{name:"intersection",raw:`{
    fødselsdato: string;
    kjønn: Kjønn;
    bankkonto?: Bankkonto;
    sivilstand?: Sivilstand;
    barn: SøkerBarn[];
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    fødselsdato: string;
    kjønn: Kjønn;
    bankkonto?: Bankkonto;
    sivilstand?: Sivilstand;
    barn: SøkerBarn[];
}`,signature:{properties:[{key:"fødselsdato",value:{name:"string",required:!0}},{key:"kjønn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"bankkonto",value:{name:"Bankkonto",required:!1}},{key:"sivilstand",value:{name:"Sivilstand",required:!1}},{key:"barn",value:{name:"Array",elements:[{name:"intersection",raw:`{
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: SøkerAnnenForelder;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: SøkerAnnenForelder;
}`,signature:{properties:[{key:"kjønn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"dødsdato",value:{name:"string",required:!1}},{key:"annenForelder",value:{name:"intersection",raw:`{
    fødselsdato?: string;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    fødselsdato?: string;
}`,signature:{properties:[{key:"fødselsdato",value:{name:"string",required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}],required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}]}],raw:"SøkerBarn[]",required:!0}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}],required:!0}},{key:"arbeidsforhold",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverNavn: string;
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    fom: string;
    tom?: string;
    stillingsprosent: number;
}`,signature:{properties:[{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}},{key:"stillingsprosent",value:{name:"number",required:!0}}]}}],raw:"Arbeidsforhold[]",required:!0}}]}},description:""},saker:{required:!0,tsType:{name:"Array",elements:[{name:"Sak"}],raw:"Sak[]"},description:""},lagretErEndringssøknad:{required:!1,tsType:{name:"boolean"},description:""},lagretHarGodkjentVilkår:{required:!1,tsType:{name:"boolean"},description:""},lagretSøknadGjelderNyttBarn:{required:!1,tsType:{name:"boolean"},description:""},setKvittering:{required:!0,tsType:{name:"signature",type:"function",raw:"(kvittering: Kvittering) => void",signature:{arguments:[{type:{name:"Kvittering"},name:"kvittering"}],return:{name:"void"}}},description:""}}};const bn=()=>t.jsx("div",{style:{textAlign:"center",padding:"12rem 0"},children:t.jsx(_n,{size:"2xlarge"})}),$n=({locale:n,onChangeLocale:e})=>{var l,m;const r=Be();cs(r.formatMessage({id:"søknad.pagetitle"}));const{søkerinfoData:s,søkerinfoError:o}=W.useSøkerinfo(),{sakerData:a,sakerError:d}=W.useGetSaker(),{storageData:u,storageStatus:h}=W.useStoredAppState(),[g,j]=p.useState();p.useEffect(()=>{if(o)throw H(o),new Error("Vi klarte ikke å hente informasjon om deg. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.");if(d)throw H(d),new Error("Vi klarte ikke å hente informasjon om sakene dine. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.")},[o,d]);const O=u&&jn(u)?Ds(u):void 0,v=u!==void 0&&jn(u);return p.useEffect(()=>{u!=null&&u.locale&&u.locale!==n&&e(u.locale)},[u]),g?Ie.INNSYN?(Us(g.saksNr?`${Ie.INNSYN}/sak/${g.saksNr}/redirectFromSoknad`:`${Ie.INNSYN}/redirectFromSoknad`),t.jsx(bn,{})):t.jsx("div",{children:"Redirected to Innsyn"}):!a||!s||h===J.IN_PROGRESS?t.jsx(bn,{}):t.jsx(Le,{søker:s.søker,children:t.jsx(Zt,{initialState:O,children:t.jsx(Vt,{children:t.jsx(Hn,{locale:n,onChangeLocale:e,søkerInfo:s,saker:a.foreldrepenger,currentRoute:v?u.currentRoute:k.VELKOMMEN,lagretErEndringssøknad:v?(l=u.søknad)==null?void 0:l.erEndringssøknad:!1,lagretHarGodkjentVilkår:v?(m=u.søknad)==null?void 0:m.harGodkjentVilkår:!1,lagretSøknadGjelderNyttBarn:v?u.søknadGjelderEtNyttBarn:!1,setKvittering:j})})})})};$n.__docgenInfo={description:"",methods:[],displayName:"Foreldrepengesøknad"};const Xs=()=>{const n=Ts();return n?n.name==="ie":!1},Yn=bs(),zs={nb:{...Lt,...mn.nb,...kn.nb,...cn.nb,...gn.nb},nn:{...Gt,...mn.nn,...kn.nn,...cn.nn,...gn.nn}};F.locale(Yn);const Qn=()=>{const[n,e]=p.useState(Yn);return t.jsx(Le,{children:t.jsx(Jr,{children:t.jsxs(Ut,{locale:n,messagesGroupedByLocale:zs,children:[t.jsx(qt,{skalEndreNettleser:Xs()}),t.jsx($n,{locale:n,onChangeLocale:r=>{Fs(r),e(r),es(r),document.documentElement.setAttribute("lang",r)}})]})})})},Xn=Qn;Qn.__docgenInfo={description:"",methods:[],displayName:"AppContainer"};const Zs={søker:{fnr:"06499121154",fornavn:"Tapper",etternavn:"Konvolutt",kjønn:"M",fødselsdato:"1991-09-06",bankkonto:{kontonummer:"",banknavn:""},barn:[]},arbeidsforhold:[{arbeidsgiverId:"896929119",arbeidsgiverIdType:"orgnr",arbeidsgiverNavn:"SAUEFABRIKK",stillingsprosent:100,fom:"2018-03-01"}]},So={title:"AppContainer",component:Xn},ea=({søkerinfoData:n,sakerData:e,annenPartVedtakData:r,stønadskontoerData:s,storageKvitteringData:o})=>{bt();const a=new Ft(ns);return a.onGet("/sokerinfo").reply(200,n),a.onGet("/innsyn/v2/saker").reply(200,e),a.onGet("/innsyn/v2/annenPartVedtak").reply(200,r),a.onGet("/konto").reply(200,s),a.onGet("/storage/kvittering/foreldrepenger").reply(200,o),a.onGet("test/konto").replyOnce(200,Dt),a.onGet("test/konto").replyOnce(200,It),a.onPost("/innsyn/v2/annenPartVedtak").replyOnce(200,void 0,J.FINISHED),a.onPost("/storage/foreldrepenger").reply(200,{}),a.onPost("/soknad").reply(200,{}),a.onPost("/sendSøknadUrl").reply(200,{}),a.onDelete("/storage/foreldrepenger").reply(200,{}),t.jsx(Xn,{})},z=ea.bind({});z.args={søkerinfoData:Zs,sakerData:us,annenPartVedtakData:ss,stønadskontoerData:ks,storageKvitteringData:is};var Fn,Dn,In;z.parameters={...z.parameters,docs:{...(Fn=z.parameters)==null?void 0:Fn.docs,source:{originalSource:`({
  søkerinfoData,
  sakerData,
  annenPartVedtakData,
  stønadskontoerData,
  storageKvitteringData
}) => {
  initAmplitude();
  const apiMock = new MockAdapter(AxiosInstance);
  apiMock.onGet('/sokerinfo').reply(200, søkerinfoData);
  apiMock.onGet('/innsyn/v2/saker').reply(200, sakerData);
  apiMock.onGet('/innsyn/v2/annenPartVedtak').reply(200, annenPartVedtakData);
  apiMock.onGet('/konto').reply(200, stønadskontoerData);
  apiMock.onGet('/storage/kvittering/foreldrepenger').reply(200, storageKvitteringData);
  apiMock.onGet('test/konto').replyOnce(200, stønadskontoDeltUttak80);
  apiMock.onGet('test/konto').replyOnce(200, stønadskontoDeltUttak100);
  apiMock.onPost('/innsyn/v2/annenPartVedtak').replyOnce(200, undefined, RequestStatus.FINISHED);
  apiMock.onPost('/storage/foreldrepenger').reply(200, {});
  apiMock.onPost('/soknad').reply(200, {});
  apiMock.onPost('/sendSøknadUrl').reply(200, {});
  apiMock.onDelete('/storage/foreldrepenger').reply(200, {});
  return <AppContainer />;
}`,...(In=(Dn=z.parameters)==null?void 0:Dn.docs)==null?void 0:In.source}}};const Eo=["SøkerErMann"];export{z as SøkerErMann,Eo as __namedExportsOrder,So as default};
