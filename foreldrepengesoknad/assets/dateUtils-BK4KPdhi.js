import{d as s,w as J,v as j,b as V,z as Z,i as B}from"./Uttaksdagen-B0FM17qM.js";import{c as L,g as T}from"./index-BP8_t0zE.js";import{m as _,r as N,s as H}from"./Tidsperioden-DbKFRn-R.js";import"./tslib.es6-BMc9PpVS.js";import{z as k,L as b,M as C,N as U,P as F,O as Q,Q as X,R as q}from"./useFpNavigator-BVwVhtUu.js";import"./_baseToString-7VaozA17.js";import"./_createSet-1Wr4uFiM.js";import{i as K}from"./FpDataContext-wT6-gpAc.js";import{g as M}from"./barnUtils-BcuO7KJQ.js";var I=(e=>(e.test1Juli2024Regler="FEATURE_TEST_1JULI2024_REGLER",e))(I||{});const ee=()=>{const e=document.getElementById("nav:appSettings"),t=JSON.parse(e.text);return{APP_VERSION:t.APP_VERSION,INNSYN:t.INNSYN,[I.test1Juli2024Regler]:t[I.test1Juli2024Regler]}},G=ee();var Y={exports:{}};(function(e,t){(function(n,f){e.exports=f()})(L,function(){return function(n,f){var h=f.prototype,m=h.format;h.format=function(a){var r=this,p=this.$locale();if(!this.isValid())return m.bind(this)(a);var u=this.$utils(),c=(a||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((r.$M+1)/3);case"Do":return p.ordinal(r.$D);case"gggg":return r.weekYear();case"GGGG":return r.isoWeekYear();case"wo":return p.ordinal(r.week(),"W");case"w":case"ww":return u.s(r.week(),d==="w"?1:2,"0");case"W":case"WW":return u.s(r.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return u.s(String(r.$H===0?24:r.$H),d==="k"?1:2,"0");case"X":return Math.floor(r.$d.getTime()/1e3);case"x":return r.$d.getTime();case"z":return"["+r.offsetName()+"]";case"zzz":return"["+r.offsetName("long")+"]";default:return d}});return m.bind(this)(c)}}})})(Y);var te=Y.exports;const re=T(te);var P={exports:{}};(function(e,t){(function(n,f){e.exports=f()})(L,function(){var n={year:0,month:1,day:2,hour:3,minute:4,second:5},f={};return function(h,m,a){var r,p=function(o,v,i){i===void 0&&(i={});var l=new Date(o),g=function(S,E){E===void 0&&(E={});var x=E.timeZoneName||"short",D=S+"|"+x,O=f[D];return O||(O=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:S,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:x}),f[D]=O),O}(v,i);return g.formatToParts(l)},u=function(o,v){for(var i=p(o,v),l=[],g=0;g<i.length;g+=1){var S=i[g],E=S.type,x=S.value,D=n[E];D>=0&&(l[D]=parseInt(x,10))}var O=l[3],y=O===24?0:O,z=l[0]+"-"+l[1]+"-"+l[2]+" "+y+":"+l[4]+":"+l[5]+":000",w=+o;return(a.utc(z).valueOf()-(w-=w%1e3))/6e4},c=m.prototype;c.tz=function(o,v){o===void 0&&(o=r);var i,l=this.utcOffset(),g=this.toDate(),S=g.toLocaleString("en-US",{timeZone:o}),E=Math.round((g-new Date(S))/1e3/60),x=15*-Math.round(g.getTimezoneOffset()/15)-E;if(!Number(x))i=this.utcOffset(0,v);else if(i=a(S,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(x,!0),v){var D=i.utcOffset();i=i.add(l-D,"minute")}return i.$x.$timezone=o,i},c.offsetName=function(o){var v=this.$x.$timezone||a.tz.guess(),i=p(this.valueOf(),v,{timeZoneName:o}).find(function(l){return l.type.toLowerCase()==="timezonename"});return i&&i.value};var d=c.startOf;c.startOf=function(o,v){if(!this.$x||!this.$x.$timezone)return d.call(this,o,v);var i=a(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return d.call(i,o,v).tz(this.$x.$timezone,!0)},a.tz=function(o,v,i){var l=i&&v,g=i||v||r,S=u(+a(),g);if(typeof o!="string")return a(o).tz(g);var E=function(y,z,w){var A=y-60*z*1e3,$=u(A,w);if(z===$)return[A,z];var R=u(A-=60*($-z)*1e3,w);return $===R?[A,$]:[y-60*Math.min($,R)*1e3,Math.max($,R)]}(a.utc(o,l).valueOf(),S,g),x=E[0],D=E[1],O=a(x).utcOffset(D);return O.$x.$timezone=g,O},a.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},a.tz.setDefault=function(o){r=o}}})})(P);var se=P.exports;const oe=T(se),Se=e=>k(e)?e.erAleneOmOmsorg:!0,Ee=e=>k(e)?e.datoForAleneomsorg:void 0,Oe=(e,t)=>{var h;const n=k(e)&&e.utenlandskFnr!==!0?e.fnr:void 0,f=K(t)&&t.fnr!==void 0&&((h=t.fnr)==null?void 0:h.length)>0?t.fnr[0]:void 0;return{annenPartFødselsnummer:n,barnFødselsnummer:f,familiehendelse:M(t)}},xe=e=>{const t=k(e)&&e.utenlandskFnr!==!0?e.fnr:void 0;return!(t!==void 0&&t!=="")},ie=e=>k(e)?!!e.harRettPåForeldrepengerINorge||!!e.harRettPåForeldrepengerIEØS:!1,ne=e=>!!(G[e]&&G[e].toLowerCase()==="on"),ae={isFeatureEnabled:ne};s.extend(J);s.extend(j);s.extend(V);s.extend(Z);s.extend(_);s.extend(oe);s.extend(re);s().subtract(4,"year").startOf("day").toDate();const W=(e,t)=>!N(e)||!N(t)||!B(e)||!B(t)?!1:!!s(e).isBefore(t,"day"),De=e=>[...e].sort((t,n)=>W(t.fødselsdato,n.fødselsdato)?1:-1)[e.length-1],ze=e=>[...e].map(t=>H(t)).sort((t,n)=>W(t,n)?-1:1),$e=(e,t,n)=>{if(n!==void 0)return n;if(t!==void 0)return t;if(e!==void 0)return e;throw new Error("Mangler fødselsdato/termindato/adopsjonsdato for barnet.")},we=e=>{const t=new Date("2021-10-01");return s(e).isSameOrAfter(t,"day")&&s(new Date).isSameOrAfter(t,"day")},ke=e=>{let t="2024-07-01";if(ae.isFeatureEnabled(I.test1Juli2024Regler)&&(t="2024-06-18"),s().isBefore(s(t),"day"))return!1;const n=M(e);return!((b(e)||C(e))&&s(n).isBefore(t,"day"))},ye=(e,t,n)=>{if(!n)return;const f=e===void 0?void 0:e.filter(r=>!U(r)),h=t.filter(r=>!U(r));let m,a;if(f)h.forEach((r,p)=>{if(m)return;const{fom:u}=r.tidsperiode,c=f.find(d=>s(d.tidsperiode.fom).isSame(u,"day"));if(c!==void 0){const d=F(r).erLik(c,!1,!0);(!d||d&&F(r).slutterEtter(c.tidsperiode.tom))&&(m=u)}if(c===void 0&&(m=u),c!==void 0&&h.length-1===p&&(F(r).erLik(c,!0,!0)||(m=u)),m&&Q(r)&&s(m).isAfter(f[f.length-1].tidsperiode.tom)){const d=h.find(o=>(X(o)||q(o))&&s(o.tidsperiode.fom).isAfter(m));m=d!==void 0?d.tidsperiode.fom:m}}),f.forEach(r=>{if(a)return;const{fom:p}=r.tidsperiode,u=h.find(c=>s(c.tidsperiode.fom).isSame(p,"day"));u!==void 0&&!F(r).erLik(u,!1,!0)&&(a=u.tidsperiode.fom),u===void 0&&(a=p)});else if(h.length>0)return h[0].tidsperiode.fom;return fe(m,a)},fe=(e,t)=>{if(!(e===void 0&&t===void 0))return e!==void 0&&t===void 0?e:e===void 0&&t!==void 0?t:s(e).isSameOrBefore(s(t))?e:t},Ae=(e,t)=>{const n=M(e),f=ie(t);return s(n).isSameOrAfter(s("2024-07-01"),"d")&&s().isBefore(s("2024-07-01"),"d")&&f&&e.antallBarn===1},Fe=(e,t)=>e===void 0||t===void 0?!1:s.utc(e).isSameOrAfter(s(t).subtract(1,"day"),"day")&&s.utc(e).isSameOrBefore(s(t).add(1,"day"),"day");export{G as E,$e as a,Ae as b,Oe as c,De as d,ze as e,ke as f,Fe as g,Se as h,Ee as i,ie as j,we as k,ye as l,xe as s,oe as t};
