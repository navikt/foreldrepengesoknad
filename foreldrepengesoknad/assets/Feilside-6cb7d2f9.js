import{j as r}from"./jsx-runtime-d079401a.js";import{v as F,w as y,x as C,y as N,t as R,z as T,c as h,H as U,B as v,k as V}from"./Tidsperioden-2f191506.js";import"./index-f1f2c4b1.js";import"./_baseToString-375081cd.js";import"./_createSet-53ab95fd.js";import{l as _}from"./amplitude-b929dfa7.js";import{u as g}from"./useRequest-1bc7422a.js";import{g as m,E as q}from"./apiInterceptor-716e24db.js";import"./index-d741deb4.js";import{c as M}from"./FpDataContext-6d6d78b0.js";import{L as B,B as I}from"./Link-13f307fd.js";const Y=(t,e)=>F(e)?e:!Array.isArray(e)&&y(e,[y.HTML5_FMT.DATE,"YYYY-MM-DDTHH:mm:ss.SSSZ"],!0).isValid()?new Date(e):e,L=t=>{if(t)return JSON.parse(t,Y)},u=(t,e)=>C(t)?N(t,e):void 0,G=q.REST_API_URL,K="/soknad",P="/soknad/endre",O=()=>{const{data:t,error:e}=g("/sokerinfo",{config:{withCredentials:!0}});return{søkerinfoData:t,søkerinfoError:e}},z=()=>{const{data:t,error:e}=g("/innsyn/v2/saker",{config:{withCredentials:!0}});return{sakerData:t,sakerError:e}},J=()=>{const{data:t,error:e,requestStatus:a}=g("/storage/foreldrepenger",{config:{transformResponse:L,withCredentials:!0}});return{storageData:t,storageError:e,storageStatus:a}},Z=(t,e)=>m(e).post("/storage/foreldrepenger",t,{withCredentials:!0}),$=t=>m(t).get("/storage/kvittering/foreldrepenger",{withCredentials:!0,timeout:15*1e3}),Q=(t,e=!1)=>{const{antallBarn:a,farHarRettINorge:n,morHarRettINorge:s,harAnnenForelderTilsvarendeRettEØS:o,dekningsgrad:c,fødselsdato:i,termindato:l,omsorgsovertakelsesdato:p,morHarAleneomsorg:f,farHarAleneomsorg:k,startdatoUttak:S,minsterett:j,erMor:D,morHarUføretrygd:H,familieHendelseDatoNesteSak:E}=t,d="YYYYMMDD",b={farHarRett:n,morHarRett:s,harAnnenForelderTilsvarendeRettEØS:o,morHarAleneomsorg:f||!1,farHarAleneomsorg:k||!1,dekningsgrad:c,antallBarn:a,fødselsdato:u(i,d),termindato:u(l,d),omsorgsovertakelseDato:u(p,d),startdatoUttak:u(S,d),minsterett:j,erMor:D,morHarUføretrygd:H,familieHendelseDatoNesteSak:u(E,d)},{data:w,error:A}=g(`${G}/konto`,{config:{timeout:15*1e3,params:b,withCredentials:!1},isSuspended:e});return{tilgjengeligeStønadskontoerData:w,tilgjengeligeStønadskontoerError:A}},W=(t,e,a)=>{const n=t.erEndringssøknad?P:K;return m(e).post(n,t,{withCredentials:!0,timeout:120*1e3,headers:{"content-type":"application/json;"},signal:a})},X=(t,e)=>m(t).delete("/storage/foreldrepenger",{withCredentials:!0,signal:e}),ee=(t,e,a)=>{const n=e.reduce((s,o)=>(o.uuid&&s.push(o.uuid),s),[]);return m(t).delete("/storage/foreldrepenger/vedlegg",{withCredentials:!0,data:n,signal:a})},te={useGetUttakskontoer:Q,storeAppState:Z,getStorageKvittering:$,useStoredAppState:J,useSøkerinfo:O,sendSøknad:W,useGetSaker:z,deleteMellomlagretSøknad:X,deleteMellomlagredeVedlegg:ee};const x=({containerId:t,illustrasjon:e,tittel:a,ingress:n,skalKunneGåTilbakeTilSøknad:s,språkkode:o,setLanguage:c,søkerInfo:i})=>{const l=V("feilside"),p=M(),f=async()=>{if(i){_("applikasjon-hendelse",{app:"foreldrepengesoknad",team:"foreldrepenger",hendelse:"avbrutt"}),p();try{await te.deleteMellomlagretSøknad(i.person.fnr)}catch{}window.location.href="https://nav.no"}},k=()=>{window.location.reload()};return r.jsxs(r.Fragment,{children:[c&&o&&r.jsx(R,{locale:o,availableLocales:["en","nb","nn"],toggle:c}),e&&r.jsx(T,{dialog:{title:e.tittel,text:r.jsxs(r.Fragment,{children:[r.jsx(h,{padBottom:"m",children:e.tekst}),e.lenke&&r.jsx(B,{href:e.lenke.url,children:e.lenke.tekst})]})}}),r.jsxs("div",{id:t,className:l.block,children:[r.jsx(h,{padBottom:"l",children:r.jsx(U,{size:"large",level:"2",children:a})}),r.jsx(h,{padBottom:"l",children:r.jsx(I,{children:n})}),i!==void 0&&!s&&r.jsx("div",{className:l.element("avbrytKnapp"),children:r.jsx(v,{variant:"primary",onClick:f,children:"Start søknaden på nytt"})}),i!==void 0&&s&&r.jsx("div",{className:l.element("avbrytKnapp"),children:r.jsx(v,{variant:"primary",onClick:k,children:"Gå tilbake til søknaden"})})]})]})};try{x.displayName="Feilside",x.__docgenInfo={description:"",displayName:"Feilside",props:{containerId:{defaultValue:null,description:"",name:"containerId",required:!1,type:{name:"string"}},dokumenttittel:{defaultValue:null,description:"",name:"dokumenttittel",required:!0,type:{name:"string"}},illustrasjon:{defaultValue:null,description:"",name:"illustrasjon",required:!1,type:{name:"{ tittel: string; tekst: ReactNode; lenke?: { url: string; tekst: string; }; }"}},tittel:{defaultValue:null,description:"",name:"tittel",required:!0,type:{name:"ReactNode"}},ingress:{defaultValue:null,description:"",name:"ingress",required:!0,type:{name:"ReactNode"}},skalKunneGåTilbakeTilSøknad:{defaultValue:null,description:"",name:"skalKunneGåTilbakeTilSøknad",required:!0,type:{name:"boolean"}},språkkode:{defaultValue:null,description:"",name:"språkkode",required:!1,type:{name:"enum",value:[{value:'"nb"'},{value:'"nn"'}]}},setLanguage:{defaultValue:null,description:"",name:"setLanguage",required:!1,type:{name:"((languageCode: string) => void)"}},søkerInfo:{defaultValue:null,description:"",name:"søkerInfo",required:!1,type:{name:"Søkerinfo"}}}}}catch{}export{te as A,x as F};
