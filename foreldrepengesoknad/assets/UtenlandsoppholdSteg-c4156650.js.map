{"version":3,"file":"UtenlandsoppholdSteg-c4156650.js","sources":["../../src/app/steps/utenlandsopphold/UtenlandsoppholdSteg.tsx"],"sourcesContent":["import { FormattedMessage, useIntl } from 'react-intl';\nimport { useNavigate } from 'react-router-dom';\nimport { Heading } from '@navikt/ds-react';\nimport { UtenlandsoppholdPanel } from '@navikt/fp-utenlandsopphold';\nimport { Utenlandsopphold } from '@navikt/fp-types';\nimport { ContentWrapper } from '@navikt/fp-ui';\nimport actionCreator from 'app/context/action/actionCreator';\nimport useSøknad from 'app/utils/hooks/useSøknad';\nimport useAvbrytSøknad from 'app/utils/hooks/useAvbrytSøknad';\nimport useFortsettSøknadSenere from 'app/utils/hooks/useFortsettSøknadSenere';\nimport useSaveLoadedRoute from 'app/utils/hooks/useSaveLoadedRoute';\nimport SøknadRoutes from 'app/routes/routes';\nimport { ForeldrepengesøknadContextState } from 'app/context/ForeldrepengesøknadContextConfig';\nimport { storeAppState } from 'app/utils/submitUtils';\nimport { useOnValidSubmitNew } from 'app/utils/hooks/useOnValidSubmit';\nimport createConfig, { getPreviousStepHref } from '../stepsConfig';\n\nconst UtenlandsoppholdSteg: React.FunctionComponent = () => {\n    const intl = useIntl();\n    const navigate = useNavigate();\n    const onAvbrytSøknad = useAvbrytSøknad();\n    const onFortsettSøknadSenere = useFortsettSøknadSenere();\n\n    useSaveLoadedRoute(SøknadRoutes.UTENLANDSOPPHOLD);\n\n    const { informasjonOmUtenlandsopphold } = useSøknad();\n    const utenlandsopphold =\n        informasjonOmUtenlandsopphold.iNorgeNeste12Mnd !== undefined\n            ? {\n                  harBoddUtenforNorgeSiste12Mnd: !informasjonOmUtenlandsopphold.iNorgeSiste12Mnd,\n                  skalBoUtenforNorgeNeste12Mnd: !informasjonOmUtenlandsopphold.iNorgeNeste12Mnd,\n              }\n            : undefined;\n\n    const onValidSubmitHandler = (values: Utenlandsopphold) => {\n        const utenlandsopphold = {\n            iNorgeSiste12Mnd: !values.harBoddUtenforNorgeSiste12Mnd,\n            iNorgeNeste12Mnd: !values.skalBoUtenforNorgeNeste12Mnd,\n        };\n        return [actionCreator.setInformasjonOmUtenlandsopphold(utenlandsopphold)];\n    };\n\n    const { handleSubmit } = useOnValidSubmitNew(\n        onValidSubmitHandler,\n        (values: Utenlandsopphold) => {\n            if (values.harBoddUtenforNorgeSiste12Mnd) {\n                return SøknadRoutes.TIDLIGERE_UTENLANDSOPPHOLD;\n            } else if (values.skalBoUtenforNorgeNeste12Mnd) {\n                return SøknadRoutes.SENERE_UTENLANDSOPPHOLD;\n            }\n            return SøknadRoutes.INNTEKTSINFORMASJON;\n        },\n        (state: ForeldrepengesøknadContextState) => storeAppState(state),\n    );\n\n    const goToPreviousStep = () => {\n        navigate(getPreviousStepHref('utenlandsopphold'));\n    };\n    const saveOnPrevious = () => {\n        // TODO Lagre uvalidert data i framtida\n    };\n\n    const stepConfig = createConfig(intl, false).map((config) => ({\n        ...config,\n        isSelected: config.id === 'utenlandsopphold',\n    }));\n\n    return (\n        <ContentWrapper>\n            <Heading size=\"large\">\n                <FormattedMessage id=\"søknad.pageheading\" />\n            </Heading>\n            <UtenlandsoppholdPanel\n                utenlandsopphold={utenlandsopphold}\n                saveOnNext={handleSubmit}\n                saveOnPrevious={saveOnPrevious}\n                cancelApplication={onAvbrytSøknad}\n                onContinueLater={onFortsettSøknadSenere}\n                goToPreviousStep={goToPreviousStep}\n                stepConfig={stepConfig}\n                stønadstype=\"Foreldrepenger\"\n                supportsTempSaving\n            />\n        </ContentWrapper>\n    );\n};\n\nexport default UtenlandsoppholdSteg;\n"],"names":["UtenlandsoppholdSteg","intl","useIntl","navigate","useNavigate","onAvbrytSøknad","useAvbrytSøknad","onFortsettSøknadSenere","useFortsettSøknadSenere","useSaveLoadedRoute","SøknadRoutes","informasjonOmUtenlandsopphold","useSøknad","utenlandsopphold","onValidSubmitHandler","values","utenlandsopphold2","actionCreator","handleSubmit","useOnValidSubmitNew","state","storeAppState","goToPreviousStep","getPreviousStepHref","saveOnPrevious","stepConfig","createConfig","config","jsxs","ContentWrapper","jsx","Heading","FormattedMessage","UtenlandsoppholdPanel","UtenlandsoppholdSteg$1"],"mappings":"2gBAiBA,MAAAA,EAAA,IAAA,CACI,MAAAC,EAAAC,IACAC,EAAAC,IACAC,EAAAC,IACAC,EAAAC,IAEAC,EAAAC,EAAA,gBAAA,EAEA,KAAA,CAAA,8BAAAC,GAAAC,IACAC,EAAAF,EAAA,mBAAA,OAAA,CAEU,8BAAA,CAAAA,EAAA,iBACkE,6BAAA,CAAAA,EAAA,gBACD,EAAA,OAI3EG,EAAAC,GAAA,CACI,MAAAC,EAAA,CAAyB,iBAAA,CAAAD,EAAA,8BACK,iBAAA,CAAAA,EAAA,4BACA,EAE9B,MAAA,CAAAE,EAAA,iCAAAD,CAAA,CAAA,CAAwE,EAG5E,CAAA,aAAAE,CAAA,EAAAC,EAAyBL,EACrBC,GAEIA,EAAA,8BACIL,EAAA,2BAAoBK,EAAA,6BAEpBL,EAAA,wBAEJA,EAAA,oBACJU,GAAAC,EAAAD,CAAA,CAC+D,EAGnEE,EAAA,IAAA,CACInB,EAAAoB,EAAA,kBAAA,CAAA,CAAgD,EAEpDC,EAAA,IAAA,CAA6B,EAI7BC,EAAAC,EAAAzB,EAAA,EAAA,EAAA,IAAA0B,IAAA,CAA8D,GAAAA,EACvD,WAAAA,EAAA,KAAA,kBACuB,EAAA,EAG9B,OAAAC,EAAA,KAAAC,EAAA,CAAA,SAAA,CAEQC,EAAAA,IAAAC,EAAA,CAAA,KAAA,QAAA,SAAAD,MAAAE,EAAA,CAAA,GAAA,oBAAA,CAAA,CAAA,CAAA,EAEAF,EAAA,IACAG,EAAC,CAAA,iBAAApB,EACG,WAAAK,EACY,eAAAM,EACZ,kBAAAnB,EACmB,gBAAAE,EACF,iBAAAe,EACjB,WAAAG,EACA,YAAA,iBACY,mBAAA,EACM,CAAA,CACtB,CAAA,CAAA,CAGZ,EAEAS,EAAAlC"}