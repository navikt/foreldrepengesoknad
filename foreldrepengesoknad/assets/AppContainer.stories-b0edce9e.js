import{j as t}from"./jsx-runtime-69eee039.js";import{b as Tn,u as Dn,a as Vn,s as Un,c as Mn,M as Ln}from"./useSaveLoadedRoute-03fa3834.js";import{r as o}from"./index-7c191284.js";import{f as Ye,d as P,bl as Xe,bm as U,H as ne,bn as v,A as re,bo as We,j as M,L as On,bp as Ft,bq as Bn,br as wn,n as Qe,bs as Cn,bt as Rn,bu as Gn,g as Gt,ab as Kt,aZ as Kn,l as qn,G as Jn,bv as Hn,u as ve,i as b,M as Me,B as V,_ as $n,Y as he,U as qt,a3 as Le,J as zn,b as jt,X as Ve,a2 as Yn,$ as Xn}from"./Tidsperioden-bc4aa89e.js";import"./_baseToString-4b695375.js";import"./_createSet-f4a01039.js";import{P as Jt,c as Wn,n as Qn,a as At,b as Zn}from"./app-7551b66e.js";import{B as ke,L as Ht}from"./Link-b834ea2b.js";import{w as $t,d as zt,Q as er,e as It,a as tr,s as te,F as nr}from"./submitUtils-3b298622.js";import"./index-e13aeee6.js";import{n as bt}from"./amplitude-e7683f28.js";import{S as u,u as Se,a as g,m as rr,F as ar}from"./mapSøkerinfoDTO-23fed2f2.js";import{u as Yt,b as sr,m as Xt,a as or,i as ir,g as lr,c as dr,L as pr,s as ur,R as gr,t as A,N as xt,B as cr}from"./useSøknad-26978d9c.js";import{A as w,R as Z}from"./api-32ec0d49.js";import{l as Wt}from"./links-b36d21ab.js";import{F as Qt}from"./Feilside-80be6d98.js";import{V as mr}from"./Velkommen-136d37aa.js";import{A as kr}from"./AnnenForelder-27b31d47.js";import{I as fr}from"./Inntektsinformasjon-bcda6b8b.js";import{O as vr}from"./OmBarnet-0ebdd7f5.js";import{c as hr,O as _t}from"./Oppsummering-ab9bb6c2.js";import{S as Sr}from"./Søkersituasjon-38ed145d.js";import{U as yr}from"./Utenlandsopphold-69521b64.js";import{g as Er,a as Fr,b as jr,c as Pt,d as Ar,U as Ir}from"./UttaksplanInfo-8cbd9c6f.js";import{i as ae,S as Oe,B as br,p as xr,q as Nt,r as _r,t as Pr,u as Nr,I as Tt,a as Tr,J as Dr,K as Vr,L as Ur,N as Mr}from"./Periodene-3e3b4ab3.js";import{f as Lr,s as Or,D as Ue}from"./leggTilPeriode-197d6712.js";import{g as Br,U as wr,a as Cr,u as Rr}from"./Uttaksplan-2cb6efb2.js";import{g as Gr}from"./arbeidsforholdUtils-5ef2b738.js";import{u as Kr}from"./useOnValidSubmit-1caa3e37.js";import{u as qr}from"./useSøkerinfo-417aa154.js";import{b as Jr,c as Hr}from"./dateUtils-9225f718.js";import{F as z}from"./message-0de53699.js";import{a as $r,c as zr}from"./formUtils-9352967f.js";import{c as Yr,g as Xr}from"./eksisterendeSakUtils-9faa4d73.js";import{g as Wr,I as Qr}from"./InfoOmSøknaden-72c7ff20.js";import{A as Zr}from"./FormikFileUploader-5c0e4e48.js";import{S as Dt,d as ea}from"./SøknadSendt-2bb2a937.js";import{B as ta}from"./ByttBrowserModal-44a129af.js";import{A as na}from"./apiInterceptor-565c1682.js";import"./index-b3a39e30.js";import"./v4-a960c1f4.js";import"./AttachmentType-f6ad37cf.js";import"./velkommenUtils-67ca2dfd.js";import"./DinePlikter-1887aa82.js";import"./DinePersonopplysningerModal-652f60cc.js";import"./validationUtil-873cc515.js";import"./RegistrertePersonalia-ca898edd.js";import"./InteractiveListElement-0c1bfa27.js";import"./Næring-9acd6a32.js";import"./LenkeKnapp-a5650a66.js";import"./_baseIteratee-9b4fb880.js";import"./_baseUniq-1bfab55f.js";import"./AttachmentList-6bd7cc9e.js";import"./Attachment-3a7d5334.js";import"./AdvarselIkon-93d01dab.js";import"./util-88d81413.js";const ra=[{arbeidsgiverId:"896929119",arbeidsgiverIdType:"orgnr",arbeidsgiverNavn:"SAUEFABRIKK",stillingsprosent:100,fom:"2018-03-01"}],aa={søker:{fnr:"06499121154",fornavn:"Tapper",etternavn:"Konvolutt",kjønn:"M",fødselsdato:"1991-09-06",bankkonto:{kontonummer:"",banknavn:""}},arbeidsforhold:ra},sa=[{fom:"2022-12-12",tom:"2023-02-17",kontoType:"FEDREKVOTE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},samtidigUttak:100,flerbarnsdager:!1},{fom:"2023-02-20",tom:"2023-03-05",kontoType:"FELLESPERIODE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},samtidigUttak:50,flerbarnsdager:!1},{fom:"2023-03-20",tom:"2023-03-31",kontoType:"FEDREKVOTE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},flerbarnsdager:!1}],oa="HUNDRE",ia={perioder:sa,dekningsgrad:oa},la=[{saksnummer:"352011594",sakAvsluttet:!1,sisteSøknadMottattDato:"2023-03-31",kanSøkeOmEndring:!1,sakTilhørerMor:!1,gjelderAdopsjon:!0,morUføretrygd:!1,harAnnenForelderTilsvarendeRettEØS:!1,ønskerJustertUttakVedFødsel:!1,rettighetType:"BEGGE_RETT",annenPart:{type:"person",fnr:"05489305072",fornavn:"Sentral",etternavn:"Tangent"},familiehendelse:{fødselsdato:"2023-02-01",antallBarn:1,omsorgsovertakelse:"2023-04-10"},åpenBehandling:{tilstand:"VENT_INNTEKTSMELDING",søknadsperioder:[{fom:"2023-04-10",tom:"2023-07-21",kontoType:"FEDREKVOTE",flerbarnsdager:!1},{fom:"2023-07-24",tom:"2023-09-15",kontoType:"FELLESPERIODE",morsAktivitet:"UTDANNING",flerbarnsdager:!1}]},barn:[],dekningsgrad:"HUNDRE"}],da=[],pa={foreldrepenger:la,engangsstønad:[],svangerskapspenger:da},ua="2019-02-01",ga="23123",ca={innsendingstidspunkt:ua,pdf:ga},ma={MØDREKVOTE:95,FEDREKVOTE:95,FELLESPERIODE:90,FORELDREPENGER_FØR_FØDSEL:15,FORELDREPENGER:80},ka={},fa={kontoer:ma,minsteretter:ka},Zt="selectedLocale",va=()=>sessionStorage.getItem(Zt)||"nb",ha=e=>{sessionStorage.setItem(Zt,e)};const fe=({children:e})=>{const n=Ye("content");return t.jsx("div",{className:n.block,children:e})};try{fe.displayName="ContentWrapper",fe.__docgenInfo={description:"",displayName:"ContentWrapper",props:{}}}catch{}const en={brukerprofil:"https://tjenester.nav.no/brukerprofil/",brukerstøtte:"https://www.nav.no/no/NAV+og+samfunn/Kontakt+NAV/Teknisk+brukerstotte/hjelp-til-personbruker?kap=398749",kontaktOss:"https://www.nav.no/person/kontakt-oss/nb/tilbakemeldinger/feil-og-mangler",dittNav:"https://tjenester.nav.no/dittnav/oversikt",foreldrepenger:"https://foreldrepenger.nav.no",nav:"https://www.nav.no",papirsøknad:"https://www.nav.no/soknader/nb/person/familie/foreldrepenger-og-engangsstonad",personvernerklæring:"https://www.nav.no/no/NAV+og+samfunn/Om+NAV/personvern-i-arbeids-og-velferdsetaten/personvernerkl%C3%A6ring-for-arbeids-og-velferdsetaten",plikter:"https://nav.no/rettOgPlikt",søknadsveileder:"https://www.nav.no/soknader/nb/person/familie/foreldrepenger-og-engangsstonad",veiviser:"https://familie.nav.no/veiviser",innsyn:"https://foreldrepenger.nav.no",engangsstonad:"https://www.nav.no/engangsstonad",farMedmor:"https://www.nav.no/engangsstonad#far_medmor",barn:"https://www.nav.no/barn",foreldrepengerUtland:"https://www.nav.no/foreldrepenger#utland",engangsstonadHvem:"https://www.nav.no/engangsstonad#hvem",scanneDokument:"https://www.nav.no/brukerstotte#bilde-vedlegg"};P("1000-01-01").toDate();P("9999-31-12").toDate();P().toDate();P().subtract(6,"month").startOf("day").toDate();P().add(1,"years").toDate();P().subtract(1,"years").toDate();const tn={"Umyndig.Pageheading.Engangsstonad":"Søknad om engangsstønad","Umyndig.Pageheading.Foreldrepenger":"Søknad om foreldrepenger","Umyndig.Pageheading.Svangerskapspenger":"Søknad om svangerskapspenger","Umyndig.Tittel":"Fordi du er under 18 år, må du sende papirsøknad","Umyndig.Tekst":"Fordi du er under 18 år, må en av foreldrene dine eller en foresatt skrive under på søknaden din sammen med deg. Derfor må du fylle ut søknaden på papir og sende den i posten til NAV.","Umyndig.Knapp.Papirsøknad":"Gå til papirsøknaden","ErrorSummaryFp.Tittel":"Du må rette opp i følgende feil:","FileInput.Vedlegg.Lastoppknapp":"Last opp fil","FileInput.Vedlegg.Lastoppknapp.Flere":"Last opp flere filer","Attachment.Vedlegg.Slett":"Fjern vedlegg {navn}","FailedAttachment.Vedlegg.Feilmelding.Opplasting.Feilet":"{filename} - Ops noe gikk galt prøv igjen","FailedAttachment.Vedlegg.Feilmelding.Ugyldig.Størrelse":"{filename} - Vedlegg er ikke av gyldig type","FailedAttachment.Vedlegg.Feilmelding.Ugyldig.Type":"{filename} - er for stor. Maksimal tillat filstørrelse er {maxStørrelse}KB.","FailedAttachment.Vedlegg.Feilmelding.Timeout":"{filename} - Det tok for lang tid å laste opp dokumentet ditt. Sjekk nettverket ditt eller prøv å laste opp færre dokumenter på en gang","StepButtons.Forrige":"Forrige steg","StepButtons.Neste":"Neste steg","ErrorPage.Engangsstønad":"Engangsstønad","ErrorPage.Foreldrepenger":"Foreldrepenger","ErrorPage.Svangerskapspenger":"Svangerskapspenger","ErrorPage.Heading":"Beklager, noe har gått galt med søknaden din på grunn av en teknisk feil hos oss","ErrorPage.Message":"Du kan vente litt og deretter prøve å søke på nytt.  Dersom det fortsatt er problemer kan du kontakte brukerstøtte for å få hjelp.","ErrorPage.Contact":"Kontakt brukerstøtte","ErrorPage.TryAgain":"Søk på nytt","ErrorPage.ErrorMessage":"Feilmelding","ScanDocumentInfo.Tittel":"Hvordan ta bilde av vedlegg med mobilen?","ScanDocumentInfo.Del1":"Har du et dokument på papir, kan du ta et bilde av dokumentet for å sende det til oss.","ScanDocumentInfo.Liste.Punkt1":"Ta bilde av dokumentet med smarttelefonen eller nettbrettet.","ScanDocumentInfo.Liste.Punkt2":"Sjekk at dokumentet er lett å lese.","ScanDocumentInfo.Liste.Punkt3":"Bruker du PC eller Mac, kan du sende bilde(ne) til din private e-postkonto og lagre bildet på enheten din.","ScanDocumentInfo.Liste.Punkt4":"Last opp bildene.","ScanDocumentInfo.Del2":"Har du skanner, kan du skanne dokumenter.","ScanDocumentInfo.Link":"Mer informasjon om å sende vedlegg på nav.no."},nn={"Umyndig.Pageheading.Engangsstonad":"Søknad om eingongsstønad","Umyndig.Pageheading.Foreldrepenger":"Søknad om foreldrepenger","Umyndig.Pageheading.Svangerskapspenger":"Søknad om svangerskapspenger","Umyndig.Tittel":"Fordi du er under 18 år, må du senda papirsøknad","Umyndig.Tekst":"Fordi du er under 18 år, må ein av foreldrene dine eller ein føresatt skrive under på søknaden din samen med deg. Derfor må du fylle ut søknaden på papir og sende den i posten til NAV.","Umyndig.Knapp.Papirsøknad":"Gå til papirsøknaden","ErrorSummaryFp.Tittel":"Du må rette opp i følgende feil:","FileInput.Vedlegg.Lastoppknapp":"Last opp fil","FileInput.Vedlegg.Lastoppknapp.Flere":"Last opp flere filer","Attachment.Vedlegg.Slett":"Fjern vedlegg {navn}","FailedAttachment.Vedlegg.Feilmelding.Opplasting.Feilet":"{filename} - Ops noko gjekk gale prøv igjen","FailedAttachment.Vedlegg.Feilmelding.Ugyldig.Størrelse":"{filename} - Vedlegg er ikkje av gyldig type","FailedAttachment.Vedlegg.Feilmelding.Ugyldig.Type":"{filename} - er for stor. Maksimal tillat filstørrelse er {maxStørrelse}KB.","FailedAttachment.Vedlegg.Feilmelding.Timeout":"{filename} - Det tok for lang tid å lasta opp dokumentet ditt. Sjekk nettverket ditt eller prøv å last opp færre dokument på ein gong","StepButtons.Forrige":"Forrige steg","StepButtons.Neste":"Neste steg","ErrorPage.Engangsstønad":"Eingongsstønad","ErrorPage.Foreldrepenger":"Foreldrepenger","ErrorPage.Svangerskapspenger":"Svangerskapspenger","ErrorPage.Heading":"Beklager, noko har gått feil med søknaden din på grunn av ein teknisk feil hjå oss","ErrorPage.Message":"Du kan venta litt og deretter prøva å søka på nytt. Dersom det fortsatt er problem kan du kontakta brukarstøtte for å få hjelp.","ErrorPage.Contact":"Kontakt brukerstøtte","ErrorPage.TryAgain":"Søk på nytt","ErrorPage.ErrorMessage":"Feilmelding","ScanDocumentInfo.Tittel":"Korleis ta bilde av vedlegg med mobilen?","ScanDocumentInfo.Del1":"Har du eit dokument på papir, kan du ta eit bilde av dokumentet for å sende det til oss.","ScanDocumentInfo.Liste.Punkt1":"Ta bilde av dokumentet med smarttelefonen eller nettbrettet.","ScanDocumentInfo.Liste.Punkt2":"Sjekk at dokumentet er lett å lese.","ScanDocumentInfo.Liste.Punkt3":"Bruker du PC eller Mac, kan du sende bilete(ne) til din private e-postkonto og lagra biletet på eininga di.","ScanDocumentInfo.Liste.Punkt4":"Last opp bilete(ne).","ScanDocumentInfo.Del2":"Har du skannar, kan du skanne dokument.","ScanDocumentInfo.Link":"Meir informasjon om å senda vedlegg på nav.no."},rn={"Umyndig.Pageheading.Engangsstonad":"Application for lump-sum grant","Umyndig.Pageheading.Foreldrepenger":"Application for parental benefit","Umyndig.Pageheading.Svangerskapspenger":"Application for pregnancy allowance","Umyndig.Tittel":"Because you are under 18 years of age, you must send a paper application","Umyndig.Tekst":"Because you are under 18, one of your parents or a guardian must sign your application with you. You must therefore complete the application on paper and send it by post to NAV.","Umyndig.Knapp.Papirsøknad":"Go to the paper application","ErrorSummaryFp.Tittel":"You have to correct the following errors:","FileInput.Vedlegg.Lastoppknapp":"Upload file","FileInput.Vedlegg.Lastoppknapp.Flere":"Upload more files","Attachment.Vedlegg.Slett":"Remove attachment {navn}","FailedAttachment.Vedlegg.Feilmelding.Opplasting.Feilet":"{filename} - Something went wrong. Try again.","FailedAttachment.Vedlegg.Feilmelding.Ugyldig.Størrelse":"{filename} - Attachment type is not valid","FailedAttachment.Vedlegg.Feilmelding.Ugyldig.Type":"{filename} - The attachment must be less than {maxStørrelse} KB.","FailedAttachment.Vedlegg.Feilmelding.Timeout":"{filename} - Your document took too long to upload. Check your network or try uploading fewer documents at once","StepButtons.Forrige":"Previous step","StepButtons.Neste":"Next step","ErrorPage.Engangsstønad":"Lump-sum grant","ErrorPage.Foreldrepenger":"Parental benefit","ErrorPage.Svangerskapspenger":"Pregnancy allowance","ErrorPage.Heading":"Sorry, something has gone wrong with your application due to a technical error on our part","ErrorPage.Message":"You can wait a while and then try to search again. If there are still problems, you can contact user support for help.","ErrorPage.Contact":"Contact user support","ErrorPage.TryAgain":"Search again","ErrorPage.ErrorMessage":"Error message","ScanDocumentInfo.Tittel":"How to take a picture of an attachment with your mobile phone?","ScanDocumentInfo.Del1":"If you have a document on paper, you can take a photo of the document and send it to us.","ScanDocumentInfo.Liste.Punkt1":"Take a picture of the document with your smartphone or tablet.","ScanDocumentInfo.Liste.Punkt2":"Check that the document is easy to read.","ScanDocumentInfo.Liste.Punkt3":"If you use a PC or Mac, you can send the image(s) to your private email account and save the image on your device.","ScanDocumentInfo.Liste.Punkt4":"Upload the images.","ScanDocumentInfo.Del2":"If you have a scanner, you can scan documents.","ScanDocumentInfo.Link":"More information about sending attachments at nav.no."},Sa=e=>e==="nb"?tn:e==="nn"?nn:rn,K=({children:e})=>{const{locale:n}=Xe(),r=o.useMemo(()=>Sa(n)||{},[n]);return t.jsx(Jt,{locale:n,messages:r,children:e})};try{K.displayName="UiIntlProvider",K.__docgenInfo={description:"",displayName:"UiIntlProvider",props:{}}}catch{}const Be=({appName:e,errorMessage:n,retryCallback:r})=>t.jsx(K,{children:t.jsx(fe,{children:t.jsxs(U,{gap:"20",children:[t.jsxs(ne,{size:"large",children:[e==="Engangsstønad"&&t.jsx(v,{id:"ErrorPage.Engangsstønad"}),e==="Foreldrepenger"&&t.jsx(v,{id:"ErrorPage.Foreldrepenger"}),e==="Svangerskapspenger"&&t.jsx(v,{id:"ErrorPage.Svangerskapspenger"})]}),t.jsxs(U,{gap:"10",children:[t.jsx(re,{variant:"warning",children:t.jsxs(U,{gap:"4",children:[t.jsx(ne,{size:"small",children:t.jsx(v,{id:"ErrorPage.Heading"})}),t.jsx(ke,{children:t.jsx(v,{id:"ErrorPage.Message"})})]})}),t.jsxs(We,{gap:"4",justify:"center",children:[t.jsx(Ht,{href:en.kontaktOss,target:"_blank",children:t.jsx(M,{type:"button",variant:"secondary",children:t.jsx(v,{id:"ErrorPage.Contact"})})}),t.jsx(M,{type:"button",variant:"primary",onClick:r,children:t.jsx(v,{id:"ErrorPage.TryAgain"})})]}),t.jsx("div",{style:{backgroundColor:"var(--a-gray-200)",padding:"16px",borderRadius:"4px"},children:t.jsxs(U,{gap:"2",children:[t.jsx(On,{children:t.jsx(v,{id:"ErrorPage.ErrorMessage"})}),t.jsxs(ke,{children:["Error: ",n]})]})})]})]})})});try{Be.displayName="ErrorPage",Be.__docgenInfo={description:"",displayName:"ErrorPage",props:{appName:{defaultValue:null,description:"",name:"appName",required:!0,type:{name:"enum",value:[{value:'"Foreldrepenger"'},{value:'"Engangsstønad"'},{value:'"Svangerskapspenger"'}]}},errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!0,type:{name:"string"}},retryCallback:{defaultValue:null,description:"",name:"retryCallback",required:!0,type:{name:"() => void"}}}}}catch{}let Vt=class extends o.Component{constructor(n){super(n),this.state={eventId:null,hasError:!1,errorInfo:null,errorMessage:void 0}}componentDidCatch(n,r){$t(a=>{a.setExtras(r);const s=zt(n);this.setState({eventId:s,errorInfo:r})}),this.setState({hasError:!0,errorMessage:n==null?void 0:n.message})}render(){const{appName:n,retryCallback:r}=this.props,{errorMessage:a,errorInfo:s}=this.state;return this.state.hasError?a?t.jsx(Be,{appName:n,errorMessage:a,retryCallback:r}):t.jsx("div",{children:a||s}):this.props.children}};try{Vt.displayName="ErrorBoundary",Vt.__docgenInfo={description:"",displayName:"ErrorBoundary",props:{appName:{defaultValue:null,description:"",name:"appName",required:!0,type:{name:"enum",value:[{value:'"Foreldrepenger"'},{value:'"Engangsstønad"'},{value:'"Svangerskapspenger"'}]}},retryCallback:{defaultValue:null,description:"",name:"retryCallback",required:!0,type:{name:"() => void"}}}}}catch{}const Ut=({errorRef:e,errors:n})=>t.jsx(K,{children:t.jsx(Ft,{size:"small",ref:e,heading:t.jsx(v,{id:"ErrorSummaryFp.Tittel"}),children:Object.values(n).map(r=>t.jsx(Ft.Item,{onClick:()=>{r.focus&&r.focus()},children:r.message},r.message))})});try{Ut.displayName="ErrorSummaryFp",Ut.__docgenInfo={description:"",displayName:"ErrorSummaryFp",props:{errorRef:{defaultValue:null,description:"",name:"errorRef",required:!0,type:{name:"RefObject<HTMLDivElement>"}},errors:{defaultValue:null,description:"",name:"errors",required:!0,type:{name:"ErrorSummaryError[]"}}}}}catch{}const we=({multiple:e,accept:n,onFilesSelect:r,hasUplodedAttachements:a})=>{const s=Ye("fileInput"),i=o.useCallback(k=>{if(k.target.files){const d=Array.from(k.target.files);r(d),k.target.value=""}},[r]),l=o.useRef(null),c=o.useCallback(()=>{l.current&&l.current.click()},[]);return t.jsxs(t.Fragment,{children:[t.jsx("input",{ref:l,className:s.element("input"),type:"file",accept:n,onChange:k=>i(k),multiple:e===!0,"data-testid":"file-upload"}),t.jsxs(M,{className:s.element("upload_button"),variant:a?"secondary":"primary",type:"button",onClick:c,icon:t.jsx(Bn,{}),iconPosition:"right",children:[a&&t.jsx(v,{id:"FileInput.Vedlegg.Lastoppknapp.Flere"}),!a&&t.jsx(v,{id:"FileInput.Vedlegg.Lastoppknapp"})]})]})};try{we.displayName="FileInput",we.__docgenInfo={description:"",displayName:"FileInput",props:{onFilesSelect:{defaultValue:null,description:"",name:"onFilesSelect",required:!0,type:{name:"(files: File[]) => void"}},multiple:{defaultValue:null,description:"",name:"multiple",required:!0,type:{name:"boolean"}},accept:{defaultValue:null,description:"",name:"accept",required:!0,type:{name:"string"}},hasUplodedAttachements:{defaultValue:null,description:"",name:"hasUplodedAttachements",required:!0,type:{name:"boolean"}}}}}catch{}const ya=()=>{const e=Xe();return{i18n:(n,r)=>e.formatMessage({id:n},r)}},B=()=>Math.floor((1+Math.random())*65536).toString().substring(1),Ea=()=>`${B()}${B()}-${B()}-${B()}-${B()}-${B()}${B()}${B()}`,Fa=e=>wn(e,{unitSeparator:" ",thousandsSeparator:" ",decimalPlaces:1,fixedDecimals:!1}),ja=()=>"V".concat(Ea().replace(/-/g,"")),Aa=(e,n,r)=>({id:ja(),file:e,filename:e.name,filesize:e.size,uploaded:!1,pending:!1,type:n,skjemanummer:r});const Ce=({attachment:e,showFileSize:n,onDelete:r})=>{const{i18n:a}=ya();return t.jsx("div",{className:"attachmentPanel",children:t.jsxs(We,{gap:"4",children:[e.pending&&t.jsx(Qe,{type:"S"}),!e.pending&&t.jsx(Cn,{width:24,height:24}),t.jsxs(U,{gap:"1",children:[e.url?t.jsx(Ht,{href:e.url,target:"_blank",children:e.filename}):t.jsx("span",{children:e.filename}),n&&t.jsx("div",{children:Fa(e.filesize)})]}),r&&t.jsxs(t.Fragment,{children:[t.jsx(Rn,{}),t.jsx(Gn,{onClick:()=>r(e),height:24,width:24,cursor:"pointer","aria-label":a("Attachment.Vedlegg.Slett",{navn:e.filename})})]})]})})};try{Ce.displayName="AttachmentInfo",Ce.__docgenInfo={description:"",displayName:"AttachmentInfo",props:{attachment:{defaultValue:null,description:"",name:"attachment",required:!0,type:{name:"Attachment"}},showFileSize:{defaultValue:null,description:"",name:"showFileSize",required:!1,type:{name:"boolean"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!1,type:{name:"((file: Attachment) => void)"}}}}}catch{}const Re=e=>{const{attachments:n,showFileSize:r,onDelete:a}=e;return t.jsx(t.Fragment,{children:n.length>0&&t.jsx(U,{gap:"2",children:n.map(s=>t.jsx(o.Fragment,{children:t.jsx(Ce,{attachment:s,onDelete:a,showFileSize:r})},Gt()))})})};try{Re.displayName="AttachmentList",Re.__docgenInfo={description:"",displayName:"AttachmentList",props:{attachments:{defaultValue:null,description:"",name:"attachments",required:!0,type:{name:"Attachment[]"}},showFileSize:{defaultValue:null,description:"",name:"showFileSize",required:!1,type:{name:"boolean"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!1,type:{name:"((file: Attachment) => void)"}}}}}catch{}var O=(e=>(e.GENERAL="GENERAL",e.TIMEOUT="TIMEOUT",e.VALID_EXTENSION="VALID_EXTENSION",e.MAX_SIZE="MAX_SIZE",e))(O||{});const Ia=16777,Ge=({failedAttachment:e,onDelete:n})=>t.jsxs(re,{variant:"warning",closeButton:!0,onClose:()=>n(e),children:[e.error===O.GENERAL&&t.jsx(v,{id:"FailedAttachment.Vedlegg.Feilmelding.Opplasting.Feilet",values:{filename:e.filename}}),e.error===O.TIMEOUT&&t.jsx(v,{id:"FailedAttachment.Vedlegg.Feilmelding.Timeout",values:{filename:e.filename}}),e.error===O.MAX_SIZE&&t.jsx(v,{id:"FailedAttachment.Vedlegg.Feilmelding.Ugyldig.Størrelse",values:{filename:e.filename,maxStørrelse:Ia}}),e.error===O.VALID_EXTENSION&&t.jsx(v,{id:"FailedAttachment.Vedlegg.Feilmelding.Ugyldig.Type",values:{filename:e.filename}})]});try{Ge.displayName="FailedAttachment",Ge.__docgenInfo={description:"",displayName:"FailedAttachment",props:{failedAttachment:{defaultValue:null,description:"",name:"failedAttachment",required:!0,type:{name:"Attachment"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!0,type:{name:"(file: Attachment) => void"}}}}}catch{}const Ke=e=>{const{failedAttachments:n,onDelete:r}=e;return t.jsx(t.Fragment,{children:n.length>0&&t.jsx(U,{gap:"2",children:n.map(a=>t.jsx(o.Fragment,{children:t.jsx(Ge,{failedAttachment:a,onDelete:r})},Gt()))})})};try{Ke.displayName="FailedAttachmentList",Ke.__docgenInfo={description:"",displayName:"FailedAttachmentList",props:{failedAttachments:{defaultValue:null,description:"",name:"failedAttachments",required:!0,type:{name:"Attachment[]"}},onDelete:{defaultValue:null,description:"",name:"onDelete",required:!0,type:{name:"(file: Attachment) => void"}}}}}catch{}const an=[".pdf",".jpeg",".jpg",".png"],ba=16777,xa=.0009765625,_a=(e,n,r)=>{const a=Aa(e,n,r);return a.pending=!0,a},Pa=e=>{const n=e.split(".").pop();return n?an.includes(`.${n.toLowerCase()}`):!1},Na=e=>e*xa<=ba,Ta=async(e,n)=>{var r;if(!Pa(e.file.name)){e.pending=!1,e.error=O.VALID_EXTENSION;return}if(!Na(e.filesize)){e.pending=!1,e.error=O.MAX_SIZE;return}try{const a=await n(e);e.pending=!1,e.url=a.headers.location,e.uploaded=!0,e.uuid=a.data}catch(a){e.pending=!1,((r=a==null?void 0:a.response)==null?void 0:r.status)===408?e.error=O.TIMEOUT:e.error=O.GENERAL}},Da=[],Mt=({existingAttachments:e=Da,updateAttachments:n,attachmentType:r,skjemanummer:a,saveAttachment:s,multiple:i=!0})=>{const[l,c]=o.useState(e);o.useEffect(()=>{n(l.filter(h=>!h.error&&h.pending===!1))},[l,n]);const k=o.useCallback(h=>{const N=async T=>{for(const q of T)await Ta(q,s),c(S=>S.map(J=>J.filename===q.filename?q:J))},I=h.map(T=>_a(T,r,a));c(T=>T.filter(S=>!I.some(J=>J.filename===S.filename)).concat(I)),N(I)},[r,a,s]),d=o.useCallback(h=>{c(N=>N.filter(I=>I.filename!==h.filename))},[]),f=o.useMemo(()=>l.filter(h=>!h.error),[l]),C=o.useMemo(()=>l.filter(h=>!!h.error),[l]);return t.jsx(K,{children:t.jsxs(U,{gap:"6",children:[t.jsx(Re,{attachments:f,showFileSize:!0,onDelete:d}),t.jsx(we,{accept:an.join(", "),onFilesSelect:k,hasUplodedAttachements:f.length>0,multiple:i}),t.jsx(Ke,{failedAttachments:C,onDelete:d})]})})};try{Mt.displayName="FileUploader",Mt.__docgenInfo={description:"",displayName:"FileUploader",props:{updateAttachments:{defaultValue:null,description:"",name:"updateAttachments",required:!0,type:{name:"(attachments: Attachment[]) => void"}},attachmentType:{defaultValue:null,description:"",name:"attachmentType",required:!0,type:{name:"enum",value:[{value:'"omsorgsovertakelse"'},{value:'"adopsjonsvedtak"'},{value:'"terminbekreftelse"'},{value:'"fødselsattest"'},{value:'"anneninntektDokumentasjon"'},{value:'"utsettelseSykdomUttaksplan"'},{value:'"morsaktivitetdokumentasjon"'},{value:'"dokumentasjonOverføringAvKvote"'},{value:'"dokumentasjonAvAleneomsorg"'},{value:'"senEndring"'},{value:'"hvØvelse"'},{value:'"navTiltak"'},{value:'"tilbakebetaling"'}]}},skjemanummer:{defaultValue:null,description:"",name:"skjemanummer",required:!0,type:{name:"enum",value:[{value:'"I000060"'},{value:'"I000062"'},{value:'"I000042"'},{value:'"I000051"'},{value:'"I000065"'},{value:'"I000061"'},{value:'"I000036"'},{value:'"I000110"'},{value:'"I000111"'},{value:'"I000112"'},{value:'"I000037"'},{value:'"I000039"'},{value:'"I000038"'},{value:'"I000023"'},{value:'"I000044"'},{value:'"I000063"'},{value:'"I000007"'},{value:'"I000109"'},{value:'"I000114"'},{value:'"I000116"'},{value:'"I000117"'},{value:'"I000032"'},{value:'"I000066"'}]}},existingAttachments:{defaultValue:{value:"[] as Attachment[]"},description:"",name:"existingAttachments",required:!1,type:{name:"Attachment[]"}},saveAttachment:{defaultValue:null,description:"",name:"saveAttachment",required:!0,type:{name:"SaveAttachment"}},multiple:{defaultValue:{value:"true"},description:"",name:"multiple",required:!1,type:{name:"boolean"}}}}}catch{}const Lt=({goToPreviousStep:e,nextButtonText:n,nextButtonOnClick:r})=>{const[a,s]=o.useState(!1),i=o.useCallback(()=>{r&&r(l=>s(l))},[r]);return t.jsx(K,{children:t.jsxs(Kt,{children:[t.jsx(M,{type:"button",variant:"secondary",onClick:e,children:t.jsx(v,{id:"StepButtons.Forrige"})}),t.jsxs(M,{type:"submit",onClick:i,disabled:a,children:[n!==void 0&&n,!n&&t.jsx(v,{id:"StepButtons.Neste"})]})]})})};try{Lt.displayName="StepButtons",Lt.__docgenInfo={description:"",displayName:"StepButtons",props:{goToPreviousStep:{defaultValue:null,description:"",name:"goToPreviousStep",required:!0,type:{name:"() => void"}},nextButtonText:{defaultValue:null,description:"",name:"nextButtonText",required:!1,type:{name:"string"}},nextButtonOnClick:{defaultValue:null,description:"",name:"nextButtonOnClick",required:!1,type:{name:"((setButtonsDisabled: (isDisabled: boolean) => void) => void)"}}}}}catch{}const Va=e=>e==="nb"?tn:e==="nn"?nn:rn,Ua=Kn(),Ma=(e,n)=>Wn({locale:e,messages:n},Ua),La=()=>{const{locale:e}=Xe();return o.useMemo(()=>{const r=Va(e)||{};return Ma(e,r)},[e])},Oa=(e,n,r=!1)=>{r||setTimeout(()=>{try{bt&&bt.getInstance().logEvent(e,n)}catch(a){console.error(a)}})},Ba=(e,n)=>{switch(e){case"Engangsstønad":return n.formatMessage({id:"Umyndig.Pageheading.Engangsstonad"});case"Foreldrepenger":return n.formatMessage({id:"Umyndig.Pageheading.Foreldrepenger"});case"Svangerskapspenger":return n.formatMessage({id:"Umyndig.Pageheading.Svangerskapspenger"})}},Ot=({appnavn:e})=>{const n=La(),r=Ba(e,n);return qn(r),Oa("sidevisning",{app:e,team:"foreldrepenger",pageKey:"umyndig"}),t.jsx(K,{children:t.jsx(fe,{children:t.jsxs(U,{gap:"10",children:[t.jsx(ne,{level:"1",size:"xlarge",children:r}),t.jsx(Jn,{poster:!0,children:t.jsxs(U,{gap:"8",children:[t.jsx(ne,{level:"2",size:"small",children:t.jsx(v,{id:"Umyndig.Tittel"})}),t.jsx(v,{id:"Umyndig.Tekst"})]})}),t.jsx(We,{justify:"center",children:t.jsx(M,{as:"a",icon:t.jsx(Hn,{}),iconPosition:"right",href:en.papirsøknad,children:t.jsx(v,{id:"Umyndig.Knapp.Papirsøknad"})})})]})})})};try{Ot.displayName="Umyndig",Ot.__docgenInfo={description:"",displayName:"Umyndig",props:{appnavn:{defaultValue:null,description:"",name:"appnavn",required:!0,type:{name:"enum",value:[{value:'"Foreldrepenger"'},{value:'"Engangsstønad"'},{value:'"Svangerskapspenger"'}]}}}}}catch{}const qe=({locale:e,messagesGroupedByLocale:n,children:r})=>{const a=n[e];return t.jsx(Jt,{locale:e,messages:a||{},children:r})};try{qe.displayName="IntlProvider",qe.__docgenInfo={description:"",displayName:"IntlProvider",props:{locale:{defaultValue:null,description:"",name:"locale",required:!0,type:{name:"enum",value:[{value:'"nb"'},{value:'"nn"'},{value:'"en"'}]}},messagesGroupedByLocale:{defaultValue:null,description:"",name:"messagesGroupedByLocale",required:!0,type:{name:"Record<T, Record<string, string>>"}}}}}catch{}const Je=({fornavn:e})=>{const n=ve();return t.jsx(Qt,{dokumenttittel:"NAV Foreldrepengesøknad",ingress:b(n,"velkommen.ingress"),tittel:b(n,"velkommen.tittel"),illustrasjon:{tittel:b(n,"velkommen.ikkeMyndig.tittel",{navn:e.toLowerCase()}),tekst:b(n,"velkommen.ikkeMyndig.ingress"),lenke:{tekst:b(n,"velkommen.ikkeMyndig.boblelenketekst"),url:Wt.papirsøknad}},skalKunneGåTilbakeTilSøknad:!1})};try{Je.displayName="IkkeMyndig",Je.__docgenInfo={description:"",displayName:"IkkeMyndig",props:{fornavn:{defaultValue:null,description:"",name:"fornavn",required:!0,type:{name:"string"}}}}}catch{}const wa=(e,n)=>{const[r,a]=o.useState(e);return o.useEffect(()=>{const s=setTimeout(()=>{a(e)},n);return()=>{clearTimeout(s)}},[e,n]),r};const Ca=({isOpen:e,setIsOpen:n})=>{const r=ve(),a=Ye("vilDuGåTilbakeModal"),s=Yt();return t.jsxs(Me,{className:a.block,"aria-label":"Vil du gå tilbake",closeButton:!1,open:e,onClose:()=>n(!1),children:[t.jsx(V,{padBottom:"l",children:t.jsx(ne,{size:"small",as:"h1",children:b(r,"uttaksplan.vilDuGåTilbakeModal.tittel")})}),t.jsx(V,{padBottom:"l",children:t.jsx(ke,{children:b(r,"uttaksplan.vilDuGåTilbakeModal.intro")})}),t.jsx(V,{padBottom:"l",children:t.jsx(ke,{children:b(r,"uttaksplan.vilDuGåTilbakeModal.spørsmål")})}),t.jsxs("div",{className:a.element("knapperad"),children:[t.jsx(M,{onClick:()=>{n(!1),s(u.UTTAKSPLAN_INFO)},children:t.jsx(z,{id:"uttaksplan.vilDuGåTilbakeModal.okLabel"})}),t.jsx(M,{variant:"secondary",onClick:()=>n(!1),children:t.jsx(z,{id:"uttaksplan.vilDuGåTilbakeModal.avbrytLabel"})})]})]})};try{VilDuGTilbakeModal.displayName="VilDuGTilbakeModal",VilDuGTilbakeModal.__docgenInfo={description:"",displayName:"VilDuGTilbakeModal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},setIsOpen:{defaultValue:null,description:"",name:"setIsOpen",required:!0,type:{name:"Dispatch<SetStateAction<boolean>>"}}}}}catch{}var se=(e=>(e.ønskerAutomatiskJustering="ønskerAutomatiskJustering",e))(se||{});const He=$n(),Ra=e=>$r(e),Ga=e=>({ønskerAutomatiskJustering:e!==void 0?zr(e):he.UNANSWERED}),sn=(e,n)=>n!==void 0&&ae(e)&&P(e.tidsperiode.fom).isSame(qt(n).denneEllerNeste(),"day")&&e.forelder===Le.farMedmor&&e.konto===Oe.Fedrekvote&&e.ønskerSamtidigUttak===!0&&e.ønskerFlerbarnsdager!==!0,Ka=(e,n,r,a)=>a.type===sr.UFØDT&&r&&e.length===1&&sn(e[0],n),qa=(e,n,r,a,s,i,l)=>e&&zn(n)&&r==="fødsel"&&a.length!==0&&Xt(s)&&i!==void 0&&!l,$e=({termindato:e,perioderMedUttakRundtFødsel:n,antallBarn:r,visibility:a})=>{const s=ve(),i=qt(e).denneEllerNeste(),{dispatch:l,state:c}=Se(),k=c.brukerSvarteJaPåAutoJustering&&n.length>1,d=c.brukerSvarteJaPåAutoJustering&&n.length===1&&!P(n[0].tidsperiode.fom).isSame(i,"day"),f=c.brukerSvarteJaPåAutoJustering&&n.length===1&&P(n[0].tidsperiode.fom).isSame(i,"day")&&(ae(n[0])&&(n[0].konto!==Oe.Fedrekvote||!n[0].ønskerSamtidigUttak)||br(n[0])),C=c.brukerSvarteJaPåAutoJustering&&n.length===1&&P(n[0].tidsperiode.fom).isSame(i,"day")&&ae(n[0])&&n[0].konto===Oe.Fedrekvote&&n[0].ønskerFlerbarnsdager===!0;let h="";k&&(h="uttaksplan.automatiskJustering.info.hvisFlerePerioder"),d&&(h="uttaksplan.automatiskJustering.info.hvisIkkeLengerStarterPåTermin"),f&&(h="uttaksplan.automatiskJustering.info.hvisEndretPeriodePåTermin"),C&&(h="uttaksplan.automatiskJustering.info.hvisEndretPeriodeTilØnskerFlerbarnsdager");const N=I=>{const T=Ra(I);l(g.setØnskerJustertUttakVedFødsel(T)),l(g.setBrukerSvarteJaPåAutoJustering(T))};return t.jsx(He.Form,{includeButtons:!1,children:t.jsxs("div",{style:{paddingTop:"1rem",paddingBottom:"1rem"},children:[h!==""&&t.jsx(V,{padBottom:"l",children:t.jsx(re,{variant:"info",children:t.jsx(z,{id:h})})}),t.jsx(V,{visible:a.isVisible(se.ønskerAutomatiskJustering),padBottom:"l",children:t.jsx(He.YesOrNoQuestion,{name:se.ønskerAutomatiskJustering,legend:b(s,"uttaksplan.automatiskJustering.spørsmål",{antallBarn:r}),validate:I=>{if(I===he.UNANSWERED)return b(s,"uttaksplan.automatiskJustering.svar.påkrevd")},afterOnChange:I=>N(I)})})]})})};try{$e.displayName="AutomatiskJusteringForm",$e.__docgenInfo={description:"",displayName:"AutomatiskJusteringForm",props:{termindato:{defaultValue:null,description:"",name:"termindato",required:!0,type:{name:"Date"}},perioderMedUttakRundtFødsel:{defaultValue:null,description:"",name:"perioderMedUttakRundtFødsel",required:!0,type:{name:"Periode[]"}},antallBarn:{defaultValue:null,description:"",name:"antallBarn",required:!0,type:{name:"number"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<UttaksplanFormField, undefined>"}}}}}catch{}const Ja=(e,n)=>e.length!==1||n===void 0?!1:sn(e[0],n),Ha={[se.ønskerAutomatiskJustering]:{isIncluded:({perioderMedUttakRundtFødsel:e,termindato:n})=>Ja(e,n),isAnswered:({ønskerAutomatiskJustering:e})=>e!==he.UNANSWERED}},$a=er(Ha),Bt=()=>{const e=ve(),n=qr(),r=or(),[a,s]=o.useState(!1),[i,l]=o.useState(!0),[c,k]=o.useState(!1),{dispatch:d,state:f}=Se(),[C,h]=o.useState(f.endringstidspunkt),[N,I]=o.useState(f.perioderSomSkalSendesInn),T=r.erEndringssøknad?u.OPPSUMMERING:u.UTENLANDSOPPHOLD,{uttaksplanInfo:q,eksisterendeSak:S,harUttaksplanBlittSlettet:J,annenPartsUttakErLagtTilIPlan:Ze}=f,{person:oe,arbeidsforhold:dn}=n,{annenForelder:E,søker:pn,barn:F,søkersituasjon:H,dekningsgrad:et,erEndringssøknad:L,tilleggsopplysninger:ie}=r,{erAleneOmOmsorg:tt}=pn,{situasjon:ye}=H,{rolle:nt}=H,{barnFraNesteSak:x}=f,rt=wa(f,3e3),un=xr(E),le=Nt(E)?!!E.harRettPåForeldrepengerINorge||!!E.harRettPåForeldrepengerIEØS:!1,m=ir(r.søkersituasjon.rolle),de=_r(!m,tt,E),pe=Pr(m,tt,E),Ee=de||pe,gn=le?void 0:m?Le.farMedmor:Le.mor,R=lr(F),Y=jt(R),cn=Br(E,m),mn=Nr(oe,E,m,e),at=F.antallBarn,kn=at>1,st=Tt(nt,m,E),_=S==null?void 0:S.uttaksplan,fn=S?S.uttaksplan!==void 0:!1,vn=!1,hn=Jr(q),$=dr(F),Fe=Nt(E)&&!E.utenlandskFnr?E.fnr:void 0,je=ye==="adopsjon",Ae=x!==void 0?x.annenForelderFnr:void 0,ot=x!==void 0&&x.fnr!==void 0&&x.fnr.length>0?x.fnr[0]:void 0,X=x!==void 0?x.familiehendelsesdato:void 0,G=x!==void 0?x.startdatoFørsteStønadsperiode:void 0,Ie=!Tt(H.rolle,m,E),it=!Xt(F)&&F.fnr!==void 0&&F.fnr.length>0?F.fnr[0]:void 0,ue=!(!Ee&&Fe!==void 0&&Fe!==""&&(it!==void 0||R!==void 0));Tn(u.UTTAKSPLAN);const{eksisterendeSakAnnenPartData:lt,eksisterendeSakAnnenPartError:be,eksisterendeSakAnnenPartRequestStatus:xe}=w.useGetAnnenPartsVedtak(Fe,it,R,ue),D=o.useMemo(()=>Yr(lt,F,m,R,G),[lt,F,m,R,G]),dt=Er(S==null?void 0:S.grunnlag.termindato,D==null?void 0:D.grunnlag.termindato),W=Fr(m,F.antallBarn,D==null?void 0:D.grunnlag.antallBarn);o.useEffect(()=>{if(m&&r.barn.antallBarn!==W){const p={...r,barn:{...r.barn,antallBarn:W}};d(g.setSøknad(p))}},[m,W,d,r]);const _e=!(Ae!==void 0&&Ae!==""&&(ot!==void 0||X!==void 0)&&(ue||xe===Z.FINISHED)),{eksisterendeSakAnnenPartData:Sn,eksisterendeSakAnnenPartError:Pe,eksisterendeSakAnnenPartRequestStatus:pt}=w.useGetAnnenPartsVedtak(Ae,ot,Ve(X),_e),ge=Xr(Sn);o.useEffect(()=>{if(ge!==void 0&&f.barnFraNesteSak!==void 0&&(P(ge).isBefore(f.barnFraNesteSak.startdatoFørsteStønadsperiode,"d")||f.barnFraNesteSak.startdatoFørsteStønadsperiode===void 0)){const p={...f.barnFraNesteSak,startdatoFørsteStønadsperiode:ge};d(g.setBarnFraNesteSak(p))}},[G,ge,x,d,f.barnFraNesteSak]);const ut=Cr({erDeltUttak:le,morHarRett:st,søkerErAleneOmOmsorg:Ee});o.useEffect(()=>{if(S!==void 0&&_!==void 0&&D!==void 0&&!Ze){_.forEach(y=>{if(ae(y)){const me=Tr(D.uttaksplan).finnOverlappendePerioder(y);me.length!==0&&me.find(Et=>Dr(Et)&&Et.ønskerSamtidigUttak===!0)&&(y.ønskerSamtidigUttak||(y.ønskerSamtidigUttak=!0,y.samtidigUttakProsent=jr(y.gradert,y.stillingsprosent)))}});const p=Lr(Or(_,D.uttaksplan,Y,G,!0),ut,Y,je,Ie,m,G),j={...S,uttaksplan:p};d(g.setUttaksplan(p)),d(g.setEksisterendeSak(j)),d(g.setAnnenPartsUttakErLagtTilIPlan(!0))}},[D,_,Y,ut,je,Ie,m,d,G,S,Ze]);const yn=()=>{k(!0);const p=hr(ie);return[g.setTilleggsopplysninger(p),g.setEndringstidspunkt(C),g.setPerioderSomSkalSendesInn(N)]},En=(p,j)=>{const y=p!==Ur.Ingen?p:void 0,me={...ie,begrunnelseForSenEndring:{...ie.begrunnelseForSenEndring,tekst:j,ekstraInformasjon:y}};d(g.setTilleggsopplysninger(me))};o.useEffect(()=>{const p=_==null?void 0:_.find(j=>ae(j)&&j.angittAvAnnenPart);if(p&&C===void 0){const j=p.tidsperiode.fom;d(g.setEndringstidspunkt(j));const y=It(r.uttaksplan,L,m,_,j);I(y),d(g.setPerioderSomSkalSendesInn(y))}},[_,d,C,m,r.uttaksplan,L]);const{handleSubmit:gt,isSubmitting:ct}=Kr(yn,T,p=>tr(p)),Q=Vr(r.uttaksplan,Y,$),ce=qa(m,Y,ye,Q,F,$,Ie),mt=Ka(Q,$,m,F),Fn=()=>{(ce||L)&&!mt&&d(g.setØnskerJustertUttakVedFødsel(void 0))},jn=p=>ce&&mt&&p!==void 0,Ne=o.useRef(null),An=p=>{k(!0),i&&!yt&&(Ne.current&&Ne.current.handleSubmit(),Fn(),jn(p.ønskerAutomatiskJustering)&&gt(p))},In=Dn(),bn=Vn();o.useEffect(()=>{w.storeAppState(rt,oe.fnr)},[oe.fnr,rt]);const xn=Yn(oe.kjønn,un,le,de,pe,nt),kt=(ue?!1:xe!==Z.FINISHED)||(_e?!1:pt!==Z.FINISHED),{tilgjengeligeStønadskontoerData:Te,tilgjengeligeStønadskontoerError:De}=w.useGetUttakskontoer(Pt(Ue.HUNDRE_PROSENT,F,E,H,pe,de,Ve(X),W,dt),kt),{tilgjengeligeStønadskontoerData:ft}=w.useGetUttakskontoer(Pt(Ue.ÅTTI_PROSENT,F,E,H,pe,de,Ve(X),W,dt),kt),_n=p=>{k(!1),d(g.setUttaksplan(p));const j=Hr(_,p,L);h(j);const y=It(p,L,m,_,j);I(y),d(g.setPerioderSomSkalSendesInn(y))};if(o.useEffect(()=>{if(De)throw te(De),new Error("Vi klarte ikke å hente opp stønadskontoer. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.");if(be)throw te(be),new Error("Vi klarte ikke å hente informasjon om saken til annen forelder. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.");if(Pe)throw te(Pe),new Error("Vi klarte ikke å hente informasjon om saken til annen forelder for neste barn. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.")},[De,be,Pe]),!Te||!ft||xe!==Z.FINISHED&&!ue||pt!==Z.FINISHED&&!_e)return t.jsx("div",{style:{textAlign:"center",padding:"12rem 0"},children:t.jsx(Qe,{size:"2xlarge"})});const vt=Ar(ft,Te),ht=Wr(Te.minsteretter.toTette),St=et===Ue.HUNDRE_PROSENT?vt[100]:vt[80],yt=L&&(N===void 0||N.length===0),Pn=()=>{const p=r.uttaksplan.filter(j=>Mr(j));d(g.slettUttaksplan(p)),d(g.setUttaksplanSlettet(!0))},Nn=()=>{f.eksisterendeSak&&(d(g.setUttaksplan(f.eksisterendeSak.uttaksplan)),d(g.setPerioderSomSkalSendesInn([])),I([]))};return t.jsx(He.FormikWrapper,{initialValues:Ga(f.søknad.ønskerJustertUttakVedFødsel),onSubmit:gt,innerRef:Ne,renderForm:({values:p})=>{const j=$a.getVisbility({ønskerAutomatiskJustering:p[se.ønskerAutomatiskJustering]??he.NO,termindato:$,perioderMedUttakRundtFødsel:Q});return t.jsxs(Xn,{bannerTitle:b(e,"søknad.pageheading"),activeStepId:"uttaksplan",pageTitle:b(e,"søknad.uttaksplan"),onCancel:In,onContinueLater:bn,steps:Un(e,L),children:[t.jsx(V,{padBottom:"l",children:t.jsx(Qr,{eksisterendeSak:S,erIUttaksplanenSteg:!0,tilgjengeligeStønadskontoer:St,minsterettUkerToTette:ht})}),t.jsx(wr,{foreldreSituasjon:xn,forelderVedAleneomsorg:gn,erDeltUttak:le,uttaksplan:r.uttaksplan,familiehendelsesdato:R,handleOnPlanChange:_n,stønadskontoer:St,navnPåForeldre:mn,annenForelder:E,arbeidsforhold:Gr(dn,je,m,jt(R)),erEndringssøknad:L,erFarEllerMedmor:m,erFlerbarnssøknad:kn,erAleneOmOmsorg:Ee,harMidlertidigOmsorg:vn,situasjon:ye,erMorUfør:cn,morHarRett:st,søkersituasjon:H,dekningsgrad:et,antallBarn:at,tilleggsopplysninger:ie,setUttaksplanErGyldig:l,handleBegrunnelseChange:En,eksisterendeSak:S,perioderSomSkalSendesInn:N,morsSisteDag:hn,harKomplettUttaksplan:fn,opprinneligPlan:J?void 0:_,handleSlettUttaksplan:Pn,handleResetUttaksplan:Nn,termindato:$,barn:F,saveAttachment:Zr.saveAttachment,visAutomatiskJusteringForm:ce,perioderMedUttakRundtFødsel:Q,barnFraNesteSak:x,familiehendelsesdatoNesteSak:X,førsteUttaksdagNesteBarnsSak:G,minsterettUkerToTette:ht}),ce&&t.jsx(V,{padBottom:"l",children:t.jsx($e,{termindato:$,perioderMedUttakRundtFødsel:Q,antallBarn:F.antallBarn,visibility:j})}),t.jsx(Ca,{isOpen:a,setIsOpen:s}),!i&&c&&t.jsx(V,{textAlignCenter:!0,padBottom:"l",children:t.jsx(re,{variant:"error",children:t.jsx(z,{id:"uttaksplan.validering.kanIkkeGåVidere"})})}),yt&&c&&t.jsx(V,{textAlignCenter:!0,padBottom:"l",children:t.jsx(re,{variant:"error",children:t.jsx(z,{id:"uttaksplan.validering.kanIkkeGåVidereEndringssøknad"})})}),t.jsx(V,{textAlignCenter:!0,padBottom:"l",children:t.jsxs(Kt,{children:[!L&&t.jsx(M,{variant:"secondary",as:pr,onClick:y=>{y.preventDefault(),s(!0)},to:Mn("uttaksplan"),children:t.jsx(z,{id:"backlink.label"})}),t.jsx(M,{type:"submit",onClick:An,disabled:ct,loading:ct,children:b(e,"søknad.gåVidere")})]})})]})}})},za=(e,n)=>{switch(e){case u.SØKERSITUASJON:return n.harGodkjentVilkår===!0;case u.OPPSUMMERING:return Rr(n.uttaksplan)===!1&&n.uttaksplan.length>0;default:return!0}},Ya=(e,n,r)=>e?r?n?t.jsxs(t.Fragment,{children:[t.jsx(A,{path:u.UTTAKSPLAN,element:t.jsx(Bt,{})}),t.jsx(A,{path:u.OPPSUMMERING,element:t.jsx(_t,{})}),t.jsx(A,{path:u.SØKNAD_SENDT,element:t.jsx(Dt,{})})]}):t.jsxs(t.Fragment,{children:[t.jsx(A,{path:u.SØKERSITUASJON,element:t.jsx(Sr,{})}),t.jsx(A,{path:u.OM_BARNET,element:t.jsx(vr,{})}),t.jsx(A,{path:u.ANNEN_FORELDER,element:t.jsx(kr,{})}),t.jsx(A,{path:u.UTTAKSPLAN_INFO,element:t.jsx(Ir,{})}),t.jsx(A,{path:u.UTTAKSPLAN,element:t.jsx(Bt,{})}),t.jsx(A,{path:u.UTENLANDSOPPHOLD,element:t.jsx(yr,{})}),t.jsx(A,{path:u.INNTEKTSINFORMASJON,element:t.jsx(fr,{})}),t.jsx(A,{path:u.OPPSUMMERING,element:t.jsx(_t,{})}),t.jsx(A,{path:u.SØKNAD_SENDT,element:t.jsx(Dt,{})})]}):t.jsx(A,{path:"*",element:t.jsx(xt,{to:u.IKKE_MYNDIG})}):t.jsx(A,{path:"*",element:t.jsx(xt,{to:u.VELKOMMEN})}),Xa=({fornavn:e,locale:n,onChangeLocale:r,currentRoute:a})=>{const{state:s}=Se(),i=Yt(),l=ur(),c=s.søknad.harGodkjentVilkår,k=s.søkerinfo.person.erMyndig,[d,f]=o.useState(!0);return o.useEffect(()=>{a&&k&&c&&d&&(f(!1),za(a,s.søknad)?i(a):l.pathname===u.OPPSUMMERING&&i(u.UTTAKSPLAN))},[a,k,c,i,d,s.søknad,l.pathname]),t.jsxs(gr,{children:[t.jsx(A,{path:u.VELKOMMEN,element:t.jsx(mr,{fornavn:e,locale:n,saker:s.saker,onChangeLocale:r,fnr:s.søkerinfo.person.fnr})}),t.jsx(A,{path:u.IKKE_MYNDIG,element:t.jsx(Je,{fornavn:s.søkerinfo.person.fornavn})}),Ya(c,s.søknad.erEndringssøknad,k)]})};try{ForeldrepengesknadRoutes.displayName="ForeldrepengesknadRoutes",ForeldrepengesknadRoutes.__docgenInfo={description:"",displayName:"ForeldrepengesknadRoutes",props:{fornavn:{defaultValue:null,description:"",name:"fornavn",required:!0,type:{name:"string"}},locale:{defaultValue:null,description:"",name:"locale",required:!0,type:{name:"enum",value:[{value:'"nb"'},{value:'"nn"'}]}},onChangeLocale:{defaultValue:null,description:"",name:"onChangeLocale",required:!0,type:{name:"(locale: LocaleNo) => void"}},currentRoute:{defaultValue:null,description:"",name:"currentRoute",required:!0,type:{name:"enum",value:[{value:'"/"'},{value:'"/soknad/sokersituasjon"'},{value:'"/soknad/om-barnet"'},{value:'"/soknad/annen-forelder"'},{value:'"/soknad/uttaksplan-info"'},{value:'"/soknad/uttaksplan"'},{value:'"/soknad/utenlandsopphold"'},{value:'"/soknad/inntektsinformasjon"'},{value:'"/soknad/manglende-vedlegg"'},{value:'"/soknad/oppsummering"'},{value:'"/soknad/soknad-sendt"'},{value:'"ikke-myndig"'}]}}}}}catch{}const Wa=e=>{switch(e){case u.UTTAKSPLAN:case u.OPPSUMMERING:case u.SØKNAD_SENDT:return!0;default:return!1}},Qa=e=>e.søknad&&e.søknad.erEndringssøknad&&!Wa(e.currentRoute)?!1:e.version===5,Za=()=>t.jsx("div",{style:{textAlign:"center",padding:"12rem 0"},children:t.jsx(Qe,{size:"2xlarge"})}),es=({locale:e,onChangeLocale:n})=>{const{søkerinfoData:r,søkerinfoError:a}=w.useSøkerinfo(),{sakerData:s,sakerError:i}=w.useGetSaker(),{storageData:l}=w.useStoredAppState(),{dispatch:c,state:k}=Se();return o.useEffect(()=>{l&&Qa(l)&&c(g.applyStoredState(l)),r&&c(g.setSøkerinfo(rr(r))),s&&c(g.setSaker(s.foreldrepenger))},[c,l,r,s]),o.useEffect(()=>{if(a)throw te(a),new Error("Vi klarte ikke å hente informasjon om deg. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.");if(i)throw te(i),new Error("Vi klarte ikke å hente informasjon om sakene dine. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.")},[a,i]),!k.søkerinfo||!s?Za():t.jsx(cr,{children:t.jsx(Xa,{fornavn:k.søkerinfo.person.fornavn,locale:e,onChangeLocale:n,currentRoute:l?l.currentRoute:u.VELKOMMEN})})};try{Foreldrepengesknad.displayName="Foreldrepengesknad",Foreldrepengesknad.__docgenInfo={description:"",displayName:"Foreldrepengesknad",props:{locale:{defaultValue:null,description:"",name:"locale",required:!0,type:{name:"enum",value:[{value:'"nb"'},{value:'"nn"'}]}},onChangeLocale:{defaultValue:null,description:"",name:"onChangeLocale",required:!0,type:{name:"any"}}}}}catch{}class ze extends o.Component{constructor(n){super(n),this.state={hasError:!1,error:null}}componentDidCatch(n,r){n&&n.message!=="window.hasFocus is not a function"&&(this.setState({...this.state,hasError:!0,error:n}),$t(a=>{a.setExtras(r),zt(n)}))}render(){var n;if(this.state.hasError){const r=!!this.state.error&&!!this.state.error.message&&this.state.error.message===nr,a=r?"Feil: for mange vedlegg":"Informasjon om feilen";return t.jsx(Qt,{dokumenttittel:"NAV Foreldrepengesøknad",ingress:`${(n=this.state.error)==null?void 0:n.message}`,tittel:a,illustrasjon:{tittel:"Hei!",tekst:"Noe har gått galt med søknaden.",lenke:{tekst:"Her finner du en lenke til brukerstøtte",url:Wt.brukerstøtte}},skalKunneGåTilbakeTilSøknad:r})}return this.props.children}}try{ze.displayName="ErrorBoundary",ze.__docgenInfo={description:"",displayName:"ErrorBoundary",props:{}}}catch{}const ts=()=>{const e=ea();return e?e.name==="ie":!1},on=va(),ns={nb:{...Qn,...At.nb},nn:{...Zn,...At.nn}};P.locale(on);const rs=()=>{const[e,n]=o.useState(on);return o.useEffect(()=>{Me.setAppElement&&Me.setAppElement("#app")}),t.jsx(ar,{children:t.jsx(ze,{children:t.jsxs(qe,{locale:e,messagesGroupedByLocale:ns,children:[t.jsx(ta,{skalEndreNettleser:ts()}),t.jsx(es,{locale:e,onChangeLocale:r=>{ha(r),n(r)}})]})})})},ln=rs;const lo={title:"AppContainer",component:ln},as=({søkerinfoData:e,sakerData:n,annenPartVedtakData:r,stønadskontoerData:a,storageKvitteringData:s})=>{const i=new Ln(na);return i.onGet("/sokerinfo").reply(200,e),i.onGet("/innsyn/v2/saker").reply(200,n),i.onGet("/innsyn/v2/annenPartVedtak").reply(200,r),i.onGet("/konto").reply(200,a),i.onGet("/storage/kvittering/foreldrepenger").reply(200,s),i.onPost("/storage").reply(200,{}),i.onPost("/soknad").reply(200,{}),i.onPost("/sendSøknadUrl").reply(200,{}),i.onDelete("/storage").reply(200,{}),t.jsx(ln,{})},ee=as.bind({});ee.args={søkerinfoData:aa,sakerData:pa,annenPartVedtakData:ia,stønadskontoerData:fa,storageKvitteringData:ca};var wt,Ct,Rt;ee.parameters={...ee.parameters,docs:{...(wt=ee.parameters)==null?void 0:wt.docs,source:{originalSource:`({
  søkerinfoData,
  sakerData,
  annenPartVedtakData,
  stønadskontoerData,
  storageKvitteringData
}) => {
  const apiMock = new MockAdapter(AxiosInstance);
  apiMock.onGet('/sokerinfo').reply(200, søkerinfoData);
  apiMock.onGet('/innsyn/v2/saker').reply(200, sakerData);
  apiMock.onGet('/innsyn/v2/annenPartVedtak').reply(200, annenPartVedtakData);
  apiMock.onGet('/konto').reply(200, stønadskontoerData);
  apiMock.onGet('/storage/kvittering/foreldrepenger').reply(200, storageKvitteringData);
  apiMock.onPost('/storage').reply(200, {});
  apiMock.onPost('/soknad').reply(200, {});
  apiMock.onPost('/sendSøknadUrl').reply(200, {});
  apiMock.onDelete('/storage').reply(200, {});
  return <AppContainer />;
}`,...(Rt=(Ct=ee.parameters)==null?void 0:Ct.docs)==null?void 0:Rt.source}}};const po=["VisApp"];export{ee as VisApp,po as __namedExportsOrder,lo as default};
//# sourceMappingURL=AppContainer.stories-b0edce9e.js.map
