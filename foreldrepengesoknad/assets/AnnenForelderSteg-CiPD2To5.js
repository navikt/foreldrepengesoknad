import{j as e}from"./jsx-runtime-Cw0GR0a5.js";import{a as D,R as c,D as J,b as A,T as u,c as G,u as H,F as K,E as q,S as z}from"./ErrorSummaryHookForm-BEAS1IP-.js";import{u as I}from"./index-DSgjoNiG.js";import{R as d,v as W}from"./Tidsperioden-Cw9xAJ1Y.js";import"./index-CCQ3W5xA.js";import{R as x,v as O,u as $,r as Q,w as R,x as k}from"./useFpNavigator-BZhZz5y3.js";import"./index-CTjT7uj6.js";import{d as X,g as Y}from"./Uttaksdagen-CXktmUXL.js";import"./_baseToString-Cq6MbKF_.js";import"./_createSet-D2BJ0WVx.js";import{A as P,S as Z}from"./ByttBrowserModal-50UgTbct.js";import{l as ee,n as E,u as S,C as j,a as re}from"./FpDataContext-DMa8S1I2.js";import{i as m,a as ne,b as ae}from"./dateFormValidation-CHGPS-b7.js";import{c as se,h as oe}from"./barnUtils-DRAg4Lca.js";import{R as le}from"./RegistrertePersonalia-DjYnPob7.js";import{L as te}from"./index-p-U_GQ8R.js";import{M as o}from"./message-CjkJih2D.js";import{V as M}from"./VStack-C22gJDrI.js";import{a as de,B as ie}from"./Label-C_UMiHsP.js";import{b as me}from"./bemUtils-DmNyTjfb.js";import{v as ge}from"./validationUtil-C-YUlksJ.js";const pe=s=>!s.kanIkkeOppgis,w=({rolle:s,barn:i})=>{const r=I(),a=se(i),n=D().watch();if(!pe(n))throw Error("Annen forelder skal alltid være oppgitt her");return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs(c,{name:"erAleneOmOmsorg",label:r.formatMessage({id:"annenForelder.aleneOmOmsorg"}),validate:[m(r.formatMessage({id:"valideringsfeil.annenForelder.harAleneOmsorgPåkrevd"}))],children:[e.jsx(d,{value:!1,children:e.jsx(o,{id:"annenForelder.aleneOmOmsorg.ja"})}),e.jsx(d,{value:!0,children:e.jsx(o,{id:"annenForelder.aleneOmOmsorg.nei"})})]}),e.jsx(x,{header:r.formatMessage({id:"annenForelder.aleneOmOmsorg.apneLabel"}),children:e.jsxs(M,{gap:"4",children:[e.jsx(de,{children:e.jsx(o,{id:"annenForelder.aleneOmOmsorg.del1"})}),e.jsx(ie,{children:e.jsx(o,{id:"annenForelder.aleneOmOmsorg.del2"})})]})})]}),!O(s)&&n.erAleneOmOmsorg===!0&&e.jsx(P,{variant:"info",children:e.jsx(o,{id:"annenForelder.veileder.aleneOmsorg.forBarnet"})}),n.erAleneOmOmsorg===!0&&O(s)&&e.jsx(J,{name:"datoForAleneomsorg",label:r.formatMessage({id:"annenForelder.datoForAleneomsorg"}),minDate:X(a).toDate(),validate:[m(r.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.duMåOppgi"})),ne(r.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.ugyldigDatoFormat"})),ae(r.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.førFamiliehendelsedato"},{dato:a}),a)]}),n.erAleneOmOmsorg!==!0&&e.jsxs("div",{children:[e.jsxs(c,{name:"harRettPåForeldrepengerINorge",label:r.formatMessage({id:"annenForelder.harRettPåForeldrepengerINorge"}),validate:[m(r.formatMessage({id:"valideringsfeil.annenForelder.harRettTilForeldrepengerPåkrevd"}))],children:[e.jsx(d,{value:!0,children:"Ja"}),e.jsx(d,{value:!1,children:"Nei"})]}),e.jsxs(x,{header:r.formatMessage({id:"annenForelder.harRettPåForeldrepengerINorge.veileder.apneLabel"}),children:[e.jsx(o,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder"}),e.jsxs("ul",{style:{margin:"0",padding:"1rem 2rem 0"},children:[e.jsx("li",{children:e.jsx(o,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt1"})}),e.jsx("li",{children:e.jsx(o,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt2"})}),e.jsx("li",{children:e.jsx(o,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt3"})})]})]})]}),n.erAleneOmOmsorg===!1&&n.harRettPåForeldrepengerINorge===!1&&e.jsxs("div",{children:[e.jsxs(c,{name:"harOppholdtSegIEØS",label:r.formatMessage({id:"annenForelder.harOppholdtSegIEØS"}),validate:[m(r.formatMessage({id:"valideringsfeil.annenForelder.harOppholdtSegIEØS"}))],children:[e.jsx(d,{value:!0,children:"Ja"}),e.jsx(d,{value:!1,children:"Nei"})]}),e.jsx(x,{header:r.formatMessage({id:"annenForelder.harOppholdtSegIEØS.veileder.apneLabel"}),children:e.jsx(o,{id:"annenForelder.harOppholdtSegIEØS.veileder"})})]}),n.erAleneOmOmsorg===!1&&n.harOppholdtSegIEØS===!0&&e.jsxs("div",{children:[e.jsxs(c,{name:"harRettPåForeldrepengerIEØS",label:r.formatMessage({id:"annenForelder.harRettPåForeldrepengerIEØS"}),validate:[m(r.formatMessage({id:"valideringsfeil.annenForelder.harRettPåForeldrepengerIEØS"}))],children:[e.jsx(d,{value:!0,children:"Ja"}),e.jsx(d,{value:!1,children:"Nei"})]}),e.jsx(x,{header:r.formatMessage({id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.apneLabel"}),children:e.jsxs(M,{gap:"4",children:[e.jsx("div",{children:e.jsx(o,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.del1"})}),e.jsx(o,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.del2"}),e.jsx(te,{to:"https://www.nav.no/foreldrepenger#utland",target:"_blank",children:e.jsx(o,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.link"})})]})})]}),n.erAleneOmOmsorg!==!0&&n.harRettPåForeldrepengerINorge!==!1&&e.jsxs(e.Fragment,{children:[e.jsxs(c,{name:"erInformertOmSøknaden",label:r.formatMessage({id:"annenForelder.spørsmål.erAnnenForelderInformert"}),validate:[m(r.formatMessage({id:"valideringsfeil.annenForelder.informertAnnenForelderPåkrevd"})),p=>p===!1?r.formatMessage({id:"annenForelder.erAnnenForelderInformert.veileder"}):null],children:[e.jsx(d,{value:!0,children:"Ja"}),e.jsx(d,{value:!1,children:"Nei"})]}),n.erInformertOmSøknaden===!1&&e.jsx(P,{variant:"warning",children:e.jsx(o,{id:"annenForelder.erAnnenForelderInformert.veileder"})})]}),n.erAleneOmOmsorg===!1&&n.harRettPåForeldrepengerINorge===!1&&(n.harOppholdtSegIEØS===!1||n.harRettPåForeldrepengerIEØS===!1)&&O(s)&&e.jsxs("div",{children:[e.jsxs(c,{name:"erMorUfør",label:r.formatMessage({id:"annenForelder.erMorUfør"}),validate:[m(r.formatMessage({id:"valideringsfeil.annenForelder.erMorUfør"}))],children:[e.jsx(d,{value:!0,children:"Ja"}),e.jsx(d,{value:!1,children:"Nei"})]}),e.jsx(x,{header:r.formatMessage({id:"annenForelder.erMorUfør.veileder.apneLabel"}),children:e.jsx(o,{id:"annenForelder.erMorUfør.veileder"})})]})]})};w.__docgenInfo={description:"",methods:[],displayName:"AnnenForelderOppgittPanel"};const N=(s,i)=>r=>W(r,i,s),fe=(s,i)=>i?!1:s!=="medmor",y=({søkersFødselsnummer:s,rolle:i,barn:r})=>{const a=I(),g=me("width"),n=D(),p=n.watch("fornavn"),h=n.watch("utenlandskFnr"),l=n.watch("kanIkkeOppgis");return e.jsxs(e.Fragment,{children:[fe(i,ee(r))&&e.jsx(A,{name:"kanIkkeOppgis",label:a.formatMessage({id:"annenForelder.spørsmål.kanOppgis"})}),!l&&e.jsxs(e.Fragment,{children:[e.jsx(u,{name:"fornavn",label:e.jsx(o,{id:"annenForelder.spørsmål.fornavn"}),validate:[m(a.formatMessage({id:"valideringsfeil.annenForelder.fornavnPåkrevd"})),N(a,"annenForelder.spørsmål.fornavn")],className:g.block}),e.jsx(u,{name:"etternavn",label:e.jsx(o,{id:"annenForelder.spørsmål.etternavn"}),validate:[m(a.formatMessage({id:"valideringsfeil.annenForelder.etternavnPåkrevd"})),N(a,"annenForelder.spørsmål.etternavn")],className:g.block})]}),!l&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(u,{name:"fnr",label:a.formatMessage({id:"annenForelder.spørsmål.fnr"},{navn:p}),validate:[m(a.formatMessage({id:"valideringsfeil.annenForelder.fnrPåkrevd"})),ge(a,s,a.formatMessage({id:"annenForelder.spørsmål.fnr"},{navn:p}),h)],className:g.block}),e.jsx(A,{name:"utenlandskFnr",label:a.formatMessage({id:"annenForelder.spørsmål.utenlandskFnr"})})]}),h&&e.jsx(G,{name:"bostedsland",label:a.formatMessage({id:"annenForelder.bostedsland"}),validate:[m(a.formatMessage({id:"valideringsfeil.annenForelder.bostedslandPåkrevd"}))],children:Y().map(F=>e.jsx("option",{value:F[0],children:F[1]},F[0]))})]})]})};y.__docgenInfo={description:"",methods:[],displayName:"OppgiPersonalia"};const he=(s,i)=>{const r=oe(s,i.barn),a=r===void 0||r.length===0?void 0:r.find(g=>g.annenForelder!==void 0);return a!==void 0?a.annenForelder:void 0},C=({søkerInfo:s,mellomlagreSøknadOgNaviger:i,avbrytSøknad:r})=>{const a=I(),g=$(s.arbeidsforhold),n=Q(s.arbeidsforhold,i),{rolle:p}=E(S(j.SØKERSITUASJON)),h=E(S(j.OM_BARNET)),l=S(j.ANNEN_FORELDER),F=re(j.ANNEN_FORELDER),t=he(h,s.søker),T=l!==void 0&&R(l)&&l.fnr!==(t==null?void 0:t.fnr),v=t===void 0||T,L=f=>{if(f.kanIkkeOppgis===!0)F({kanIkkeOppgis:!0});else{const B=!v&&t?t.fornavn:f.fornavn,U=!v&&t?t.etternavn:f.etternavn,V=!v&&t?t.fnr:f.fnr;F({...f,kanIkkeOppgis:!1,fornavn:k(B),etternavn:k(U),fnr:k(V.trim()),harRettPåForeldrepengerIEØS:f.harOppholdtSegIEØS?f.harRettPåForeldrepengerIEØS:!1})}return n.goToNextDefaultStep()},b=H({shouldUnregister:!0,defaultValues:l&&R(l)&&l.fornavn===a.formatMessage({id:"annen.forelder"})?{...l,fornavn:""}:l}),_=b.watch("kanIkkeOppgis");return e.jsx(Z,{bannerTitle:a.formatMessage({id:"søknad.pageheading"}),onCancel:r,onContinueLater:n.fortsettSøknadSenere,steps:g,children:e.jsx(K,{formMethods:b,onSubmit:L,children:e.jsxs(M,{gap:"10",children:[e.jsx(q,{}),v&&e.jsx(y,{rolle:p,barn:h,søkersFødselsnummer:s.søker.fnr}),!v&&e.jsx(le,{person:t,fødselsnummerForVisning:t.fnr,visEtternavn:!0}),_!==!0&&e.jsx(w,{rolle:p,barn:h,annenForelder:l,søker:s.søker}),e.jsx(z,{goToPreviousStep:n.goToPreviousDefaultStep})]})})})},Te=C;C.__docgenInfo={description:"",methods:[],displayName:"AnnenForelderSteg"};export{Te as A};
