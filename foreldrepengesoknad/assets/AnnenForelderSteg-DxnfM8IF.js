import{j as e}from"./tslib.es6-BMc9PpVS.js";import{f as C,R as h,h as x,A as P,D as G,o as N,T as k,e as W,u as Y,S as Q,F as X,E as Z,a as ee}from"./ErrorSummaryHookForm-CdkcT8AX.js";import{u as R,M as l,g as re,B as ne,d as O,h as ae}from"./Uttaksdagen-B0FM17qM.js";import{R as m,v as L}from"./Tidsperioden-DbKFRn-R.js";import{i as M,u as se,a as te,z as D,K as S}from"./useFpNavigator-BVwVhtUu.js";import"./index-BP8_t0zE.js";import"./_baseToString-7VaozA17.js";import"./_createSet-1Wr4uFiM.js";import{i as g,V as A,a as oe,h as le,n as T}from"./dateFormValidation-Dz9wII_h.js";import{m as de,u as I,C as b,a as ie}from"./FpDataContext-wT6-gpAc.js";import{g as me,j as fe}from"./barnUtils-BcuO7KJQ.js";import{R as ge}from"./RegistrertePersonalia-co8DQ7r1.js";import{L as ue}from"./index-Dh_lE5Vb.js";import{b as pe}from"./bemUtils-Cb0-YXpW.js";const ce=n=>!n.kanIkkeOppgis,B=({rolle:n,barn:r})=>{const a=R(),s=me(r),t=C().watch();if(!ce(t))throw Error("Annen forelder skal alltid være oppgitt her");return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs(h,{name:"erAleneOmOmsorg",label:a.formatMessage({id:"annenForelder.aleneOmOmsorg"}),validate:[g(a.formatMessage({id:"valideringsfeil.annenForelder.harAleneOmsorgPåkrevd"}))],children:[e.jsx(m,{value:!1,children:e.jsx(l,{id:"annenForelder.aleneOmOmsorg.ja"})}),e.jsx(m,{value:!0,children:e.jsx(l,{id:"annenForelder.aleneOmOmsorg.nei"})})]}),e.jsx(x,{header:a.formatMessage({id:"annenForelder.aleneOmOmsorg.apneLabel"}),children:e.jsxs(A,{gap:"4",children:[e.jsx(re,{children:e.jsx(l,{id:"annenForelder.aleneOmOmsorg.del1"})}),e.jsx(ne,{children:e.jsx(l,{id:"annenForelder.aleneOmOmsorg.del2"})})]})})]}),!M(n)&&t.erAleneOmOmsorg===!0&&e.jsx(P,{variant:"info",children:e.jsx(l,{id:"annenForelder.veileder.aleneOmsorg.forBarnet"})}),t.erAleneOmOmsorg===!0&&M(n)&&e.jsx(G,{name:"datoForAleneomsorg",label:a.formatMessage({id:"annenForelder.datoForAleneomsorg"}),minDate:O(s).toDate(),validate:[g(a.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.duMåOppgi"})),oe(a.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.ugyldigDatoFormat"})),le(a.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.førFamiliehendelsedato"},{dato:s}),s)]}),t.erAleneOmOmsorg!==!0&&e.jsxs("div",{children:[e.jsxs(h,{name:"harRettPåForeldrepengerINorge",label:a.formatMessage({id:"annenForelder.harRettPåForeldrepengerINorge"}),validate:[g(a.formatMessage({id:"valideringsfeil.annenForelder.harRettTilForeldrepengerPåkrevd"}))],children:[e.jsx(m,{value:!0,children:"Ja"}),e.jsx(m,{value:!1,children:"Nei"})]}),e.jsxs(x,{header:a.formatMessage({id:"annenForelder.harRettPåForeldrepengerINorge.veileder.apneLabel"}),children:[e.jsx(l,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder"}),e.jsxs("ul",{style:{margin:"0",padding:"1rem 2rem 0"},children:[e.jsx("li",{children:e.jsx(l,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt1"})}),e.jsx("li",{children:e.jsx(l,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt2"})}),e.jsx("li",{children:e.jsx(l,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt3"})})]})]})]}),t.erAleneOmOmsorg===!1&&t.harRettPåForeldrepengerINorge===!1&&e.jsxs("div",{children:[e.jsxs(h,{name:"harOppholdtSegIEØS",label:a.formatMessage({id:"annenForelder.harOppholdtSegIEØS"}),validate:[g(a.formatMessage({id:"valideringsfeil.annenForelder.harOppholdtSegIEØS"}))],children:[e.jsx(m,{value:!0,children:"Ja"}),e.jsx(m,{value:!1,children:"Nei"})]}),e.jsx(x,{header:a.formatMessage({id:"annenForelder.harOppholdtSegIEØS.veileder.apneLabel"}),children:e.jsx(l,{id:"annenForelder.harOppholdtSegIEØS.veileder"})})]}),t.erAleneOmOmsorg===!1&&t.harOppholdtSegIEØS===!0&&e.jsxs("div",{children:[e.jsxs(h,{name:"harRettPåForeldrepengerIEØS",label:a.formatMessage({id:"annenForelder.harRettPåForeldrepengerIEØS"}),validate:[g(a.formatMessage({id:"valideringsfeil.annenForelder.harRettPåForeldrepengerIEØS"}))],children:[e.jsx(m,{value:!0,children:"Ja"}),e.jsx(m,{value:!1,children:"Nei"})]}),e.jsx(x,{header:a.formatMessage({id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.apneLabel"}),children:e.jsxs(A,{gap:"4",children:[e.jsx("div",{children:e.jsx(l,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.del1"})}),e.jsx(l,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.del2"}),e.jsx(ue,{to:"https://www.nav.no/foreldrepenger#utland",target:"_blank",children:e.jsx(l,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.link"})})]})})]}),t.erAleneOmOmsorg!==!0&&t.harRettPåForeldrepengerINorge!==!1&&e.jsxs(e.Fragment,{children:[e.jsxs(h,{name:"erInformertOmSøknaden",label:a.formatMessage({id:"annenForelder.spørsmål.erAnnenForelderInformert"}),validate:[g(a.formatMessage({id:"valideringsfeil.annenForelder.informertAnnenForelderPåkrevd"})),f=>f===!1?a.formatMessage({id:"annenForelder.erAnnenForelderInformert.veileder"}):null],children:[e.jsx(m,{value:!0,children:"Ja"}),e.jsx(m,{value:!1,children:"Nei"})]}),t.erInformertOmSøknaden===!1&&e.jsx(P,{variant:"warning",children:e.jsx(l,{id:"annenForelder.erAnnenForelderInformert.veileder"})})]}),t.erAleneOmOmsorg===!1&&t.harRettPåForeldrepengerINorge===!1&&(t.harOppholdtSegIEØS===!1||t.harRettPåForeldrepengerIEØS===!1)&&M(n)&&e.jsxs("div",{children:[e.jsxs(h,{name:"erMorUfør",label:a.formatMessage({id:"annenForelder.erMorUfør"}),validate:[g(a.formatMessage({id:"valideringsfeil.annenForelder.erMorUfør"}))],children:[e.jsx(m,{value:!0,children:"Ja"}),e.jsx(m,{value:!1,children:"Nei"})]}),e.jsx(x,{header:a.formatMessage({id:"annenForelder.erMorUfør.veileder.apneLabel"}),children:e.jsx(l,{id:"annenForelder.erMorUfør.veileder"})})]})]})};B.__docgenInfo={description:"",methods:[],displayName:"AnnenForelderOppgittPanel"};var v={};function w(n){return xe(n)||Fe(n)||ve(n)||he()}function he(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ve(n,r){if(n){if(typeof n=="string")return y(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return y(n,r)}}function Fe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function xe(n){if(Array.isArray(n))return y(n)}function y(n,r){(r==null||r>n.length)&&(r=n.length);for(var a=0,s=new Array(r);a<r;a++)s[a]=n[a];return s}var je=new RegExp("^\\d{11}$"),be=function(r){return j(r)},Oe=function(r){return j(r)},ke=function(r){return j(r)},Me=function(r){return j(r)},Se=function(r){return r.substring(0,1)>=4?"dnr":r.substring(2,3)>=8?"tnr":r.substring(2,3)>=4?"hnr":"fnr"},j=function(r){var a=Se(r);return Ie(r,a)},Ie=function(r,a){if(!je.test(r))return{status:"invalid",reasons:["fnr, dnr or hnr must consist of 11 digits"]};var s=[].concat(w(Ae(r)),w(ye(r,a)));return s.length==0?{status:"valid",type:a}:{status:"invalid",reasons:s}},Ae=function(r){var a=11-(3*r[0]+7*r[1]+6*r[2]+1*r[3]+8*r[4]+9*r[5]+4*r[6]+5*r[7]+2*r[8])%11,s=11-(5*r[0]+4*r[1]+3*r[2]+2*r[3]+7*r[4]+6*r[5]+5*r[6]+4*r[7]+3*r[8]+2*a)%11;return a===11&&(a=0),s===11&&(s=0),a<10&&s<10&&a==r[9]&&s==r[10]?[]:["checksums don't match"]},ye=function(r,a){a==="dnr"?r=r.substring(0,1)-4+r.substring(1):a==="hnr"?r=r.substring(0,2)+(r.substring(2,3)-4)+r.substring(3):a==="tnr"&&(r=r.substring(0,2)+(r.substring(2,3)-8)+r.substring(3));var s=r.substring(0,2),o=r.substring(2,4),t=r.substring(4,6),f=new Date(t==="00"?"2000":t,o-1,s);return f&&f.getMonth()+1==o&&f.getDate()==s?[]:["invalid date"]};v.fnr=be;v.dnr=Oe;v.hnr=ke;v.tnr=Me;v.idnr=j;const Re=n=>{const r=v.idnr(n);return r.status!=="valid"?!1:r.type},Ee=(n,r)=>{const a=r==="dnr"?`${Number(n.substr(0,1))-4}${n.substr(1,1)}`:n.substr(0,2),s=n.substr(2,2),o=n.substr(4,2);let t=O(`${a}-${s}-${o}`,"DD-MM-YY");return t.get("year")>O().get("year")&&(t=t.subtract(100,"year")),t.isValid()?t.isBefore(O().subtract(16,"year"),"day"):!1},Pe=(n,r,a,s)=>o=>{if(s)return o===void 0||o.trim()===""?n.formatMessage({id:"valideringsfeil.fødselsnummer.required"}):o.length>50?n.formatMessage({id:"valideringsfeil.fødselsnummer.fødselsnummerForLangt"}):L(o,a,n);if(o===r)return n.formatMessage({id:"valideringsfeil.fødselsnummer.ugyldigEgetFødselsnummer"});const t=Re(o);return!s&&!Ee(o,t)&&t==="fnr"?n.formatMessage({id:"valideringsfeil.fødselsnummer.underSeksten"}):t==="fnr"||t==="dnr"||t==="hnr"?void 0:n.formatMessage({id:"valideringsfeil.fødselsnummer.ugyldigFødselsnummer"})},_=(n,r)=>a=>L(a,r,n),Ne=(n,r)=>r?!1:n!=="medmor",U=({søkersFødselsnummer:n,rolle:r,barn:a})=>{const s=R(),o=pe("width"),t=C(),f=t.watch("fornavn"),p=t.watch("utenlandskFnr"),d=t.watch("kanIkkeOppgis");return e.jsxs(e.Fragment,{children:[Ne(r,de(a))&&e.jsx(N,{name:"kanIkkeOppgis",label:s.formatMessage({id:"annenForelder.spørsmål.kanOppgis"})}),!d&&e.jsxs(e.Fragment,{children:[e.jsx(k,{name:"fornavn",label:e.jsx(l,{id:"annenForelder.spørsmål.fornavn"}),validate:[g(s.formatMessage({id:"valideringsfeil.annenForelder.fornavnPåkrevd"})),_(s,"annenForelder.spørsmål.fornavn")],className:o.block}),e.jsx(k,{name:"etternavn",label:e.jsx(l,{id:"annenForelder.spørsmål.etternavn"}),validate:[g(s.formatMessage({id:"valideringsfeil.annenForelder.etternavnPåkrevd"})),_(s,"annenForelder.spørsmål.etternavn")],className:o.block})]}),!d&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(k,{name:"fnr",label:s.formatMessage({id:"annenForelder.spørsmål.fnr"},{navn:f}),validate:[g(s.formatMessage({id:"valideringsfeil.annenForelder.fnrPåkrevd"})),Pe(s,n,s.formatMessage({id:"annenForelder.spørsmål.fnr"},{navn:f}),p)],className:o.block}),e.jsx(N,{name:"utenlandskFnr",label:s.formatMessage({id:"annenForelder.spørsmål.utenlandskFnr"})})]}),p&&e.jsx(W,{name:"bostedsland",label:s.formatMessage({id:"annenForelder.bostedsland"}),validate:[g(s.formatMessage({id:"valideringsfeil.annenForelder.bostedslandPåkrevd"}))],children:ae().map(c=>e.jsx("option",{value:c[0],children:c[1]},c[0]))})]})]})};U.__docgenInfo={description:"",methods:[],displayName:"OppgiPersonalia"};const De=(n,r)=>{const a=fe(n,r.barn),s=a===void 0||a.length===0?void 0:a.find(o=>o.annenForelder!==void 0);return s!==void 0?s.annenForelder:void 0},V=({søkerInfo:n,mellomlagreSøknadOgNaviger:r,avbrytSøknad:a})=>{const s=R(),o=se(n.arbeidsforhold),t=te(n.arbeidsforhold,r),{rolle:f}=T(I(b.SØKERSITUASJON)),p=T(I(b.OM_BARNET)),d=I(b.ANNEN_FORELDER),c=ie(b.ANNEN_FORELDER),i=De(p,n.søker),$=d!==void 0&&D(d)&&d.fnr!==(i==null?void 0:i.fnr),F=i===void 0||$,J=u=>{if(u.kanIkkeOppgis===!0)c({kanIkkeOppgis:!0});else{const K=!F&&i?i.fornavn:u.fornavn,q=!F&&i?i.etternavn:u.etternavn,z=!F&&i?i.fnr:u.fnr;c({...u,kanIkkeOppgis:!1,fornavn:S(K),etternavn:S(q),fnr:S(z.trim()),harRettPåForeldrepengerIEØS:u.harOppholdtSegIEØS?u.harRettPåForeldrepengerIEØS:!1})}return t.goToNextDefaultStep()},E=Y({shouldUnregister:!0,defaultValues:d&&D(d)&&d.fornavn===s.formatMessage({id:"annen.forelder"})?{...d,fornavn:""}:d}),H=E.watch("kanIkkeOppgis");return e.jsx(Q,{bannerTitle:s.formatMessage({id:"søknad.pageheading"}),onCancel:a,onContinueLater:t.fortsettSøknadSenere,steps:o,children:e.jsx(X,{formMethods:E,onSubmit:J,children:e.jsxs(A,{gap:"10",children:[e.jsx(Z,{}),F&&e.jsx(U,{rolle:f,barn:p,søkersFødselsnummer:n.søker.fnr}),!F&&e.jsx(ge,{person:i,fødselsnummerForVisning:i.fnr,visEtternavn:!0}),H!==!0&&e.jsx(B,{rolle:f,barn:p,annenForelder:d,søker:n.søker}),e.jsx(ee,{goToPreviousStep:t.goToPreviousDefaultStep})]})})})},Ge=V;V.__docgenInfo={description:"",methods:[],displayName:"AnnenForelderSteg"};export{Ge as A};
