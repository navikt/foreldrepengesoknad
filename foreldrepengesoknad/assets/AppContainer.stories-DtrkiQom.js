import{j as a}from"./jsx-runtime-_e34SzbC.js";import{g as dn,w as ln,h as un,A as ot,H as pn,j as kn,U as cn,I as gn,i as mn}from"./calendarLabel.module-Dbis9Riv.js";import{M as fn}from"./index-BjQL7UeC.js";import{ap as En,aj as vn,d as _,U,g as R,r as T,O as le,aM as Sn,aJ as xe,u as kt,b as se,i as _e,M as je,B as Me,aK as An,j as it,aD as M,ar as Q,T as ar,aN as Fn,e as bt,P as hn,q as Tn,L as dr,S as Pn,aO as Un,aP as lr}from"./Tidsperioden-CMQ6DXG2.js";import{r as A}from"./index-DVXBtNgz.js";import"./index--IHLcpuH.js";import{n as On,a as xt,u as Lt,b as Kt,o as wt,c as Nn}from"./app-V5GMN60a.js";import"./_baseToString-CUxX9raG.js";import"./_createSet-BJbToUt4.js";import{B as yn}from"./ByttBrowserModal-B9p5Xn5t.js";import{B as Rn}from"./index-CWJ9esZ2.js";import{E as nt}from"./Environment-O62Hvuhd.js";import{F as jn,l as In,A as ie}from"./Feilside-BzsRFNpn.js";import{a as Dn}from"./globalUtil-TxS5xpDG.js";import{J as me,x as ee,P as O,a7 as ur,a4 as fe,ad as _n,ae as Mn,_ as C,y as bn,a2 as xn,X as Ln,S as v,a9 as Bt,a as ct,Q as pr,af as kr,ag as Gt,ah as cr,$ as Kn,ai as wn,A as gr,aj as Bn,ak as Gn,al as at,am as Vn,W as qn,an as mr,I as Cn,K as Jn,L as Hn,O as Wn,ao as Vt,ap as $n,D as Yn,aq as Qn,H as Xn,ar as zn,b as Zn,as as es,at as x,au as qt}from"./index-GCNtJq5R.js";import{A as st,S as P,n as ts,f as be,s as fr,e as rs,h as ns,i as ss,j as os,k as is,l as Ct,d as X,c as dt,m as gt,Q as as,u as ds,a as ls,g as us,U as ps,o as ks,q as cs}from"./useFpNavigator-Wnp7Ko2q.js";import{n as I}from"./dateFormValidation-DaFK5-XB.js";import{C as g,c as gs,d as Er,u as q,a as Z,e as ms,F as fs}from"./FpDataContext-BcznBdmF.js";import{h as Le,g as vr,l as Sr}from"./barnUtils-CWB9RS4L.js";import{l as Es}from"./links-BFd19Kxc.js";import{r as Ar,R as oe}from"./useRequest-DWwoqryk.js";import{V as vs}from"./Velkommen-Bu4tsUYC.js";import{A as Ss}from"./AnnenForelderSteg-BbjRoN2H.js";import{a as Jt,O as ne,F as As}from"./FordelingSteg-D4h_35C0.js";import{I as Fs}from"./Inntektsinformasjon-DuufWI3j.js";import{M as Ht}from"./ManglendeVedlegg-yKbk0ATd.js";import{O as hs}from"./OmBarnetSteg-Cy_T4K4U.js";import{O as Wt}from"./Oppsummering-Owq0_Gue.js";import{P as Ts}from"./PeriodeMedForeldrepengerSteg-DkJFYwYm.js";import{S as Ps}from"./SøkersituasjonSteg-B1kuo_QZ.js";import{U as Us}from"./UtenlandsoppholdSteg-Boe6p7yD.js";import{S as Os}from"./SenereUtenlandsoppholdSteg-UePEZDiZ.js";import{T as Ns}from"./TidligereUtenlandsoppholdSteg-CZZxojFB.js";import{S as $}from"./skjemanummer-CSxM5qit.js";import{g as ys}from"./Næring-BVIRIuyN.js";import{u as $t,a as Ie,d as Rs,e as js,g as Is,b as Yt,c as Ds,F as _s}from"./uttaksplanInfoUtils-SnsON1iy.js";import{I as Ms}from"./InfoOmSøknaden-CgfoRuNg.js";import{c as bs}from"./dateUtils-0zG-6gBQ.js";import{c as xs,g as Ls}from"./eksisterendeSakUtils-sgtxdOBU.js";import{F as Y}from"./message-BD58Fkqk.js";import{H as Ks,B as Qt}from"./Link-DySpfMj5.js";import{g as Fr,b as ws,c as hr}from"./annenForelderUtils-Bx3llnnp.js";import{s as Bs,A as Gs}from"./apiInterceptor-D_vgNGab.js";import"./amplitude.esm-Ko43VyFv.js";import"./index-Dcs0RV0A.js";import"./index-Cbx7Fas8.js";import"./SøkerOppsummeringspunkt-BmnOemnR.js";import"./attachmentApi-BZLtCyR0.js";import"./axios-Cm0UX6qg.js";import"./Accordion-WogZGdsL.js";import"./TidligereUtenlandsoppholdPanel-Sog1X6Nn.js";import"./ErrorSummaryHookForm-ClTdhXAu.js";import"./DinePlikter-upiHIHQW.js";import"./DinePersonopplysningerModal-BGQb8XJz.js";import"./velkommenUtils-CCfjRSgh.js";import"./RegistrertePersonalia-CptrIaQG.js";import"./BabyWrapped-Bzy4dk_f.js";import"./validationUtil-maGkBpKj.js";import"./AttachmentMetadata-B9XvXCfe.js";import"./InteractiveListElement-uJG74xh4.js";import"./attachmentType-FTVsp6W6.js";import"./FormikFileUploader-BF65WwCP.js";import"./AttachmentList-DDuDIKW4.js";import"./Attachment-CSYp1dju.js";import"./util-LEGo84-Z.js";import"./File-CZAMqiIH.js";const Vs=[{fom:"2022-12-12",tom:"2023-02-17",kontoType:"FEDREKVOTE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},samtidigUttak:100,flerbarnsdager:!1},{fom:"2023-02-20",tom:"2023-03-05",kontoType:"FELLESPERIODE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},samtidigUttak:50,flerbarnsdager:!1},{fom:"2023-03-20",tom:"2023-03-31",kontoType:"FEDREKVOTE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},flerbarnsdager:!1}],qs="HUNDRE",Cs={perioder:Vs,dekningsgrad:qs},Js="2019-02-01",Hs="23123",Ws={innsendingstidspunkt:Js,pdf:Hs},$s=[{saksnummer:"352011594",sakAvsluttet:!1,sisteSøknadMottattDato:"2023-03-31",kanSøkeOmEndring:!1,sakTilhørerMor:!1,gjelderAdopsjon:!0,morUføretrygd:!1,harAnnenForelderTilsvarendeRettEØS:!1,ønskerJustertUttakVedFødsel:!1,rettighetType:"BEGGE_RETT",annenPart:{type:"person",fnr:"05489305072",fornavn:"Sentral",etternavn:"Tangent"},familiehendelse:{fødselsdato:"2023-02-01",antallBarn:1,omsorgsovertakelse:"2023-04-10"},åpenBehandling:{tilstand:"VENT_INNTEKTSMELDING",søknadsperioder:[{fom:"2023-04-10",tom:"2023-07-21",kontoType:"FEDREKVOTE",flerbarnsdager:!1},{fom:"2023-07-24",tom:"2023-09-15",kontoType:"FELLESPERIODE",morsAktivitet:"UTDANNING",flerbarnsdager:!1}]},barn:[],dekningsgrad:"HUNDRE"}],Ys=[],Qs={foreldrepenger:$s,engangsstønad:[],svangerskapspenger:Ys},Xs={MØDREKVOTE:75,FEDREKVOTE:75,FELLESPERIODE:80,FORELDREPENGER_FØR_FØDSEL:15},zs={farRundtFødsel:0,generellMinsterett:0,toTette:0},Zs={kontoer:Xs,minsteretter:zs},eo={MØDREKVOTE:95,FEDREKVOTE:95,FELLESPERIODE:90,FORELDREPENGER_FØR_FØDSEL:15},to={farRundtFødsel:0,generellMinsterett:0,toTette:0},ro={kontoer:eo,minsteretter:to},no={MØDREKVOTE:95,FEDREKVOTE:95,FELLESPERIODE:90,FORELDREPENGER_FØR_FØDSEL:15,FORELDREPENGER:80},so={},oo={kontoer:no,minsteretter:so};function io(e){A.useEffect(()=>{const t=document.title;return document.title=e,()=>{document.title=t}},[e])}var Xt=function(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))},ao=function(){function e(t,r,n){this.name=t,this.version=r,this.os=n,this.type="browser"}return e}(),lo=function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return e}(),uo=function(){function e(t,r,n,o){this.name=t,this.version=r,this.os=n,this.bot=o,this.type="bot-device"}return e}(),po=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),ko=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),co=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,go=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,zt=3,mo=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",co]],Zt=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function fo(e){return e?er(e):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new ko:typeof navigator<"u"?er(navigator.userAgent):So()}function Eo(e){return e!==""&&mo.reduce(function(t,r){var n=r[0],o=r[1];if(t)return t;var s=o.exec(e);return!!s&&[n,s]},!1)}function er(e){var t=Eo(e);if(!t)return null;var r=t[0],n=t[1];if(r==="searchbot")return new po;var o=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);o?o.length<zt&&(o=Xt(Xt([],o,!0),Ao(zt-o.length),!0)):o=[];var s=o.join("."),i=vo(e),l=go.exec(e);return l&&l[1]?new uo(r,s,i,l[1]):new ao(r,s,i)}function vo(e){for(var t=0,r=Zt.length;t<r;t++){var n=Zt[t],o=n[0],s=n[1],i=s.exec(e);if(i)return o}return null}function So(){var e=typeof process<"u"&&process.version;return e?new lo(process.version.slice(1)):null}function Ao(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}const Fo=e=>{window.location.href=e},Tr="selectedLocale",ho=()=>sessionStorage.getItem(Tr)||"nb",To=e=>{sessionStorage.setItem(Tr,e)},Pr="Søknaden kan ikke inneholde flere enn 40 vedlegg. Vennligst gå tilbake, slett noen vedlegg og prøv å sende inn søknaden på nytt. Du kan ettersende vedlegg senere.",Po="Det har oppstått et problem med innsending av søknaden. Vennligst prøv igjen senere. Hvis problemet vedvarer, kontakt oss og oppgi feil id: ",Ur="ukjent uuid",Uo=(e,t,r)=>{const n=bo(Oo(e));return _n(t,r,e.tidsperiode.fom)?{...n,justeresVedFødsel:!0}:n},Oo=e=>{const{erMorForSyk:t,...r}=e;return r},No=e=>e.type!==O.Hull,yo=e=>e.type!==O.Info,Ro=e=>e.type!==O.PeriodeUtenUttak,jo=e=>Mn(e)?!e.skalIkkeHaUttakFørTermin:No(e)&&yo(e)&&Ro(e)&&!(C(e)&&e.konto===void 0),Or=(e,t=!1)=>{if(ee(e)){const{erMorUfør:r,erForSyk:n,harRettPåForeldrepengerINorge:o,harRettPåForeldrepengerIEØS:s,harOppholdtSegIEØS:i,...l}=e,p={harMorUføretrygd:r,harRettPåForeldrepenger:o,...l};return o?{...p,erInformertOmSøknaden:!0}:i?{...p,harAnnenForelderOppholdtSegIEØS:i,harAnnenForelderTilsvarendeRettEØS:s}:t?{...p,harAnnenForelderTilsvarendeRettEØS:s}:{...p,harAnnenForelderOppholdtSegIEØS:i}}return e},Io=e=>{if(bn(e)){const{type:n,fnr:o,...s}=e;return s}if(xn(e)){const{type:n,fnr:o,...s}=e;return{adopsjonAvEktefellesBarn:Ln(e),...s}}const{type:t,...r}=e;return r},Do=e=>{switch(e){case"mor":return"MOR";case"far":return"FAR";case"medmor":return"MEDMOR";default:return Dn(e,"Søkerrolle er ikke satt")}},_o=(e,t,r,n,o)=>(C(e)&&(e.konto===v.Flerbarnsdager&&(e.konto=t?v.Fellesperiode:v.Foreldrepenger),e.konto===v.AktivitetsfriKvote&&(e.konto=v.Foreldrepenger,n&&!t&&le(o)?e.morsAktivitetIPerioden=Bt.IkkeOppgitt:r&&(e.morsAktivitetIPerioden=Bt.Uføre))),e),Mo=e=>{if(e!==void 0&&e.length>0){const t=e[0];return{erArbeidstaker:t===st.arbeidstaker,erFrilanser:t===st.frilans,erSelvstendig:t===st.selvstendignæringsdrivende}}else return{}},bo=e=>e.gradert?{...e,...Mo(e.arbeidsformer)}:e,Nr=(e,t,r,n,o,s,i)=>{const p=e.map(d=>({...d})).filter(d=>En(d.tidsperiode)).filter(jo).map(d=>s&&ee(s)?_o(d,!!s.harRettPåForeldrepengerINorge,!!s.erMorUfør,r,t):d).map(d=>d.type===O.Uttak?Uo(d,n,o):d);return i&&vn(t)&&!xo(p,i)?Lo(p,i):p},xo=(e,t)=>e.find(r=>_(t).isBetween(r.tidsperiode.fom,r.tidsperiode.tom,"day","[]")),Lo=(e,t)=>{const r=e.find(s=>_(s.tidsperiode.fom).isAfter(t,"day")),n=r?U(r.tidsperiode.fom).forrige():t,o={type:O.Utsettelse,årsak:ur.Fri,id:R(),tidsperiode:{fom:t,tom:n},erArbeidstaker:!1,forelder:T.farMedmor};return e.push(o),e.sort(fe),e},yr=e=>{if(!e)return[];const t=[];return Object.keys(e).forEach(r=>{const n=e[r];n&&n.length>0&&t.push(...n)}),t},Ko=(e,t,r)=>{const n=I(e(g.ANNEN_FORELDER)),o=I(e(g.OM_BARNET)),s=I(e(g.SØKER_DATA)),i=I(e(g.SØKERSITUASJON)),l=I(e(g.UTENLANDSOPPHOLD)),p=I(e(g.PERIODE_MED_FORELDREPENGER)),d=e(g.UTENLANDSOPPHOLD_SENERE),u=e(g.UTENLANDSOPPHOLD_TIDLIGERE),m=I(e(g.UTTAKSPLAN)),c=I(e(g.UTTAKSPLAN_METADATA)),k=e(g.EKSISTERENDE_SAK),f=e(g.VEDLEGG),E=Or(n),b=Rr(i,r,n,s),N=Io(o),h=me(i.rolle),F=Le(o),S=Nr(m,t,h,c.ønskerJustertUttakVedFødsel,F,n);return{type:"foreldrepenger",harGodkjentVilkår:!0,saksnummer:k==null?void 0:k.saksnummer,erEndringssøknad:!1,søker:b,barn:N,situasjon:i.situasjon,annenForelder:E,uttaksplan:S,informasjonOmUtenlandsopphold:{...l,...d||{senereOpphold:[]},...u||{tidligereOpphold:[]}},dekningsgrad:p.dekningsgrad,ønskerJustertUttakVedFødsel:c.ønskerJustertUttakVedFødsel,vedlegg:yr(f)}},Rr=(e,t,r,n)=>{const o=Do(e.rolle),s=ee(r),i={rolle:o,språkkode:t,erAleneOmOmsorg:s?r.erAleneOmOmsorg:!0};return n?{...i,andreInntekterSiste10Mnd:n.andreInntekterSiste10Mnd,frilansInformasjon:n.frilansInformasjon,selvstendigNæringsdrivendeInformasjon:n.selvstendigNæringsdrivendeInformasjon}:{...i,andreInntekterSiste10Mnd:[],selvstendigNæringsdrivendeInformasjon:[]}},wo=(e,t,r,n,o,s)=>e?Bo(t,r,n,o,s):Ko(t,n,o),Bo=(e,t,r,n,o)=>{const s=I(e(g.UTTAKSPLAN_METADATA)),i=I(e(g.ANNEN_FORELDER)),l=I(e(g.OM_BARNET)),p=e(g.SØKER_DATA),d=I(e(g.PERIODE_MED_FORELDREPENGER)),u=I(e(g.SØKERSITUASJON)),m=I(e(g.EKSISTERENDE_SAK)),c=me(u.rolle),k=Le(l),f=e(g.VEDLEGG);return{type:"foreldrepenger",erEndringssøknad:!0,saksnummer:m.saksnummer,uttaksplan:Nr(t,r,c,s.ønskerJustertUttakVedFødsel,k,i,o),søker:Rr(u,n,i,p),annenForelder:Or(i,!0),barn:l,dekningsgrad:d.dekningsgrad,situasjon:u.situasjon,ønskerJustertUttakVedFødsel:s.ønskerJustertUttakVedFødsel,vedlegg:yr(f)}},ae=e=>{const t=jr(e)+". ",r=Go(e)+". ",n=s=>s.replace(/\d/g,"*").slice(0,250)+"...";let o=t+r;e.request&&e.request.data&&e.request.data.messages?o=o+n(e.request.data.messages):e.response&&e.response.data&&e.response.data.messages&&(o=o+n(e.response.data.messages)),e.message&&(o=o+e.message),dn(o)},jr=e=>e.response&&e.response.data&&e.response.data.uuid?e.response.data.uuid:Ur,Go=e=>e.response&&e.response.data&&e.response.data.timestamp?e.response.data.timestamp:"",Vo=e=>{const t=e.søknad;return{[g.APP_ROUTE]:e.currentRoute,[g.EKSISTERENDE_SAK]:e.eksisterendeSak,[g.BARN_FRA_NESTE_SAK]:e.barnFraNesteSak,[g.SØKERSITUASJON]:t==null?void 0:t.søkersituasjon,[g.OM_BARNET]:t==null?void 0:t.barn,[g.ANNEN_FORELDER]:t==null?void 0:t.annenForelder,[g.SØKER_DATA]:t==null?void 0:t.søker,[g.UTENLANDSOPPHOLD]:t!=null&&t.informasjonOmUtenlandsopphold?{iNorgeNeste12Mnd:t.informasjonOmUtenlandsopphold.iNorgeNeste12Mnd,iNorgeSiste12Mnd:t.informasjonOmUtenlandsopphold.iNorgeSiste12Mnd}:void 0,[g.UTENLANDSOPPHOLD_SENERE]:t!=null&&t.informasjonOmUtenlandsopphold&&t.informasjonOmUtenlandsopphold.senereOpphold&&t.informasjonOmUtenlandsopphold.senereOpphold.length>0?{senereOpphold:t.informasjonOmUtenlandsopphold.senereOpphold}:void 0,[g.UTENLANDSOPPHOLD_TIDLIGERE]:t!=null&&t.informasjonOmUtenlandsopphold&&t.informasjonOmUtenlandsopphold.tidligereOpphold&&t.informasjonOmUtenlandsopphold.tidligereOpphold.length>0?{tidligereOpphold:t.informasjonOmUtenlandsopphold.tidligereOpphold}:void 0,[g.PERIODE_MED_FORELDREPENGER]:t!=null&&t.dekningsgrad?{dekningsgrad:t.dekningsgrad}:void 0,[g.FORDELING]:e.fordeling,[g.UTTAKSPLAN]:t==null?void 0:t.uttaksplan,[g.UTTAKSPLAN_METADATA]:{ønskerJustertUttakVedFødsel:t==null?void 0:t.ønskerJustertUttakVedFødsel,perioderSomSkalSendesInn:e.perioderSomSkalSendesInn,antallUkerIUttaksplan:e.antallUkerIUttaksplan,harUttaksplanBlittSlettet:e.harUttaksplanBlittSlettet,annenPartsUttakErLagtTilIPlan:e.annenPartsUttakErLagtTilIPlan,endringstidspunkt:e.endringstidspunkt},[g.VEDLEGG]:t==null?void 0:t.vedlegg}};class mt extends A.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}componentDidCatch(t,r){t&&t.message!=="window.hasFocus is not a function"&&(this.setState({...this.state,hasError:!0,error:t}),ln(n=>{n.setExtras(r),un(t)}))}render(){var t;if(this.state.hasError){const r=!!this.state.error&&!!this.state.error.message&&this.state.error.message===Pr,n=r?"Feil: for mange vedlegg":"Informasjon om feilen";return a.jsx(jn,{dokumenttittel:"NAV Foreldrepengesøknad",ingress:`${(t=this.state.error)==null?void 0:t.message}`,tittel:n,søker:this.props.søker,illustrasjon:{tittel:"Hei!",tekst:"Noe har gått galt med søknaden.",lenke:{tekst:"Her finner du en lenke til brukerstøtte",url:Es.brukerstøtte}},skalKunneGåTilbakeTilSøknad:r})}return this.props.children}}mt.__docgenInfo={description:"",methods:[],displayName:"ErrorBoundary",props:{søker:{required:!1,tsType:{name:"intersection",raw:`{
    fødselsdato: string;
    kjønn: Kjønn;
    bankkonto?: Bankkonto;
    sivilstand?: Sivilstand;
    barn: SøkerBarn[];
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    fødselsdato: string;
    kjønn: Kjønn;
    bankkonto?: Bankkonto;
    sivilstand?: Sivilstand;
    barn: SøkerBarn[];
}`,signature:{properties:[{key:"fødselsdato",value:{name:"string",required:!0}},{key:"kjønn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"bankkonto",value:{name:"Bankkonto",required:!1}},{key:"sivilstand",value:{name:"Sivilstand",required:!1}},{key:"barn",value:{name:"Array",elements:[{name:"intersection",raw:`{
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: SøkerAnnenForelder;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: SøkerAnnenForelder;
}`,signature:{properties:[{key:"kjønn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"dødsdato",value:{name:"string",required:!1}},{key:"annenForelder",value:{name:"intersection",raw:`{
    fødselsdato?: string;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    fødselsdato?: string;
}`,signature:{properties:[{key:"fødselsdato",value:{name:"string",required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}],required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}]}],raw:"SøkerBarn[]",required:!0}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}]},description:""},children:{required:!0,tsType:{name:"ReactElement"},description:""}}};const qo=(e,t,r,n)=>{const o=ct(),s=gs();return A.useCallback(async()=>{In("applikasjon-hendelse",{app:"foreldrepengesoknad",team:"foreldrepenger",hendelse:"avbrutt"}),s(),t(!1),r(!1),n(void 0);try{await ie.deleteMellomlagretSøknad(e)}catch{}o("/")},[e,o,s,t,r,n])},Ir=8,Co=e=>{switch(e){case P.UTTAKSPLAN:case P.OPPSUMMERING:return!0;default:return!1}},tr=e=>e.søknad&&e.søknad.erEndringssøknad&&!Co(e.currentRoute)?!1:e.version===Ir,Jo=(e,t,r,n,o,s)=>{const i=I(t(g.APP_ROUTE)),l=t(g.SØKERSITUASJON),p=t(g.OM_BARNET),d=t(g.ANNEN_FORELDER),u=t(g.SØKER_DATA),m=t(g.UTENLANDSOPPHOLD),c=t(g.UTENLANDSOPPHOLD_SENERE),k=t(g.UTENLANDSOPPHOLD_TIDLIGERE),f=t(g.UTTAKSPLAN_METADATA),E=t(g.BARN_FRA_NESTE_SAK),b=t(g.EKSISTERENDE_SAK),N=t(g.UTTAKSPLAN),h=t(g.FORDELING),F=t(g.PERIODE_MED_FORELDREPENGER),S=t(g.VEDLEGG),J={version:Ir,locale:e,currentRoute:i,søknadGjelderEtNyttBarn:s,søknad:{harGodkjentVilkår:o,søkersituasjon:l,barn:p,annenForelder:d,søker:u,informasjonOmUtenlandsopphold:m?{...m,senereOpphold:(c==null?void 0:c.senereOpphold)||[],tidligereOpphold:(k==null?void 0:k.tidligereOpphold)||[]}:void 0,erEndringssøknad:n,dekningsgrad:F==null?void 0:F.dekningsgrad,uttaksplan:N,vedlegg:S,ønskerJustertUttakVedFødsel:f==null?void 0:f.ønskerJustertUttakVedFødsel},eksisterendeSak:b,barnFraNesteSak:E,fordeling:h,endringstidspunkt:f==null?void 0:f.endringstidspunkt,antallUkerIUttaksplan:f==null?void 0:f.antallUkerIUttaksplan,perioderSomSkalSendesInn:f==null?void 0:f.perioderSomSkalSendesInn,harUttaksplanBlittSlettet:f==null?void 0:f.harUttaksplanBlittSlettet,annenPartsUttakErLagtTilIPlan:f==null?void 0:f.annenPartsUttakErLagtTilIPlan};return ie.storeAppState(J,r)},Ho=(e,t,r,n,o)=>{const s=ct(),i=Er(),[l,p]=A.useState(!1),d=A.useRef();return A.useEffect(()=>{if(l){const m=I(i(g.APP_ROUTE));(async()=>{p(!1),s(m),await Jo(e,i,t,r,n,o),d.current&&d.current()})().catch(k=>{k.response&&(k.response.status===401||k.response.status===403)?Ar():ae(k),d.current&&d.current()})}},[l]),A.useCallback(()=>(p(!0),new Promise(c=>{d.current=c})),[])},Wo=e=>!!(e&&typeof e=="object"&&"isAxiosError"in e),$o=(e,t,r,n)=>{const o=Er(),[s,i]=A.useState();return{sendSøknad:async p=>{const d=I(o(g.UTTAKSPLAN_METADATA)),u=I(o(g.OM_BARNET)),m=wo(t,o,d.perioderSomSkalSendesInn,vr(u),n,d.endringstidspunkt);m.uttaksplan.length===0&&m.erEndringssøknad&&i(new Error("Søknaden din inneholder ingen nye perioder."));let c;try{c=(await ie.sendSøknad(m,e,p)).data}catch(k){if(Wo(k)){k.response&&(k.response.status===401||k.response.status===403)&&Ar(),ae(k),k.response&&k.response.status===400&&k.response.data&&k.response.data.messages&&k.response.data.messages.includes("Vedleggslisten kan ikke inneholde flere enn 40 opplastede vedlegg")&&i(new Error(Pr));const f=jr(k),E=f!==Ur?f.slice(0,8):f;i(new Error(Po+E))}i(new Error(String(k)))}try{await ie.deleteMellomlagretSøknad(e,p)}catch{}r(c)},errorSendSøknad:s}},Yo=(e,t,r,n,o,s,i,l)=>{const{normaliserteEgnePerioder:p,normaliserteAnnenPartsPerioder:d}=ts(t,e);return d.length>0?(p.forEach(u=>{if(C(u)){const m=pr(d).finnOverlappendePerioder(u),c=m.length>0?m[0]:void 0;c!==void 0&&kr(c)&&(u.ønskerSamtidigUttak||(u.ønskerSamtidigUttak=!0,u.samtidigUttakProsent=Gt(u.gradert,u.stillingsprosent)),c.ønskerSamtidigUttak||(c.ønskerSamtidigUttak=!0,c.samtidigUttakProsent=Gt(c.gradert,c.stillingsprosent)))}}),be(fr(p,d,r,l),n,r,o,s,i,l)):t};var ge=(e=>(e.ønskerAutomatiskJustering="ønskerAutomatiskJustering",e))(ge||{});const lt=rs(),Qo=(e,t)=>{const[r,n]=A.useState(e);return A.useEffect(()=>{const o=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(o)}},[e,t]),r},De=e=>C(e)||cr(e)||Kn(e)||wn(e),rr=(e,t,r,n,o)=>n?t?zo(n,e,o,r):e.filter(De):e,Xo=(e,t,r,n)=>{const o=t.filter(s=>Sn(r,s.tidsperiode.fom,s.tidsperiode.tom)||_(s.tidsperiode.fom).isSameOrAfter(_(r),"day")).filter(De);if(o.length===0&&(e.length>t.length||e.filter(De).length>t.filter(De).length)){const s=e.find(l=>_(l.tidsperiode.fom).isSame(r,"day"));return[{id:R(),type:O.Utsettelse,tidsperiode:{fom:s.tidsperiode.fom,tom:s.tidsperiode.tom},årsak:ur.Fri,forelder:n?T.farMedmor:T.mor,erArbeidstaker:!1}]}else return o},zo=(e,t,r,n)=>r===void 0?[]:Xo(e,t,r,n),Zo=e=>ss(e),ei=(e,t)=>({ønskerAutomatiskJustering:e!==void 0&&t?ns(e):xe.UNANSWERED}),Dr=({termindato:e,perioderMedUttakRundtFødsel:t,antallBarn:r,visibility:n})=>{const o=kt(),s=U(e).denneEllerNeste(),i=q(g.UTTAKSPLAN_METADATA),l=Z(g.UTTAKSPLAN_METADATA),p=i==null?void 0:i.ønskerJustertUttakVedFødsel,d=p&&t.length>1,u=p&&t.length===1&&!_(t[0].tidsperiode.fom).isSame(s,"day"),m=p&&t.length===1&&_(t[0].tidsperiode.fom).isSame(s,"day")&&(C(t[0])&&(t[0].konto!==v.Fedrekvote||!t[0].ønskerSamtidigUttak)||cr(t[0])),c=p&&t.length===1&&_(t[0].tidsperiode.fom).isSame(s,"day")&&C(t[0])&&t[0].konto===v.Fedrekvote&&t[0].ønskerFlerbarnsdager===!0;let k="";d&&(k="uttaksplan.automatiskJustering.info.hvisFlerePerioder"),u&&(k="uttaksplan.automatiskJustering.info.hvisIkkeLengerStarterPåTermin"),m&&(k="uttaksplan.automatiskJustering.info.hvisEndretPeriodePåTermin"),c&&(k="uttaksplan.automatiskJustering.info.hvisEndretPeriodeTilØnskerFlerbarnsdager");const f=E=>{const b=Zo(E);l({...i,ønskerJustertUttakVedFødsel:b})};return a.jsx(lt.Form,{includeButtons:!1,children:a.jsxs("div",{style:{paddingTop:"1rem",paddingBottom:"1rem"},children:[k!==""&&a.jsx(se,{padBottom:"l",children:a.jsx(ot,{variant:"info",children:a.jsx(Y,{id:k})})}),a.jsx(se,{visible:n.isVisible(ge.ønskerAutomatiskJustering),padBottom:"l",children:a.jsx(lt.YesOrNoQuestion,{name:ge.ønskerAutomatiskJustering,legend:_e(o,"uttaksplan.automatiskJustering.spørsmål",{antallBarn:r}),validate:E=>{if(E===xe.UNANSWERED)return _e(o,"uttaksplan.automatiskJustering.svar.påkrevd")},afterOnChange:E=>f(E)})})]})})};Dr.__docgenInfo={description:"",methods:[],displayName:"AutomatiskJusteringForm",props:{termindato:{required:!0,tsType:{name:"Date"},description:""},perioderMedUttakRundtFødsel:{required:!0,tsType:{name:"Array",elements:[{name:"union",raw:`| Uttaksperiode
| Utsettelsesperiode
| Oppholdsperiode
| Overføringsperiode
| PeriodeHull
| PeriodeUtenUttakUtsettelse
| PeriodeUtenUttak
| InfoPeriode`,elements:[{name:"union",raw:"UttaksperiodeBase | ForeldrepengerFørFødselUttaksperiode",elements:[{name:"UttaksperiodeBase"},{name:"ForeldrepengerFørFødselUttaksperiode"}]},{name:"Utsettelsesperiode"},{name:"Oppholdsperiode"},{name:"Overføringsperiode"},{name:"PeriodeHull"},{name:"PeriodeUtenUttakUtsettelse"},{name:"PeriodeUtenUttak"},{name:"union",raw:"AvslåttPeriode | UttakAnnenPartInfoPeriode | UtsettelseAnnenPartInfoPeriode",elements:[{name:"AvslåttPeriode"},{name:"UttakAnnenPartInfoPeriode"},{name:"UtsettelseAnnenPartInfoPeriode"}]}]}],raw:"Periode[]"},description:""},antallBarn:{required:!0,tsType:{name:"number"},description:""},visibility:{required:!0,tsType:{name:"QuestionVisibility",elements:[{name:"UttaksplanFormField"},{name:"undefined"}],raw:"QuestionVisibility<UttaksplanFormField, undefined>"},description:""}}};const ti=(e,t)=>t!==void 0&&C(e)&&_(e.tidsperiode.fom).isSame(U(_(t).toDate()).denneEllerNeste(),"day")&&e.forelder===T.farMedmor&&e.konto===v.Fedrekvote&&e.ønskerSamtidigUttak===!0&&e.ønskerFlerbarnsdager!==!0,ri=(e,t,r)=>e&&t.length===1&&ti(t[0],r),ni=(e,t,r,n,o,s,i)=>e&&le(t)&&r==="fødsel"&&n.length!==0&&gr(o)&&s!==void 0&&!i,_r=({isOpen:e,setIsOpen:t,goToPreviousStep:r})=>a.jsxs(je,{"aria-label":"Vil du gå tilbake",open:e,onClose:()=>t(!1),children:[a.jsx(je.Header,{children:a.jsx(Ks,{size:"small",level:"1",children:a.jsx(Y,{id:"uttaksplan.vilDuGåTilbakeModal.tittel"})})}),a.jsx(je.Body,{children:a.jsxs(pn,{gap:"4",children:[a.jsx(Qt,{children:a.jsx(Y,{id:"uttaksplan.vilDuGåTilbakeModal.intro"})}),a.jsx(Qt,{children:a.jsx(Y,{id:"uttaksplan.vilDuGåTilbakeModal.spørsmål"})})]})}),a.jsxs(je.Footer,{children:[a.jsx(Me,{onClick:r,children:a.jsx(Y,{id:"uttaksplan.vilDuGåTilbakeModal.okLabel"})}),a.jsx(Me,{variant:"secondary",onClick:()=>t(!1),children:a.jsx(Y,{id:"uttaksplan.vilDuGåTilbakeModal.avbrytLabel"})})]})]});_r.__docgenInfo={description:"",methods:[],displayName:"VilDuGåTilbakeModal",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},setIsOpen:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"boolean"}],raw:"SetStateAction<boolean>"}],raw:"Dispatch<SetStateAction<boolean>>"},description:""},goToPreviousStep:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const si=e=>{if(!e)throw new Error("Mangler informasjon om annen forelders siste dag.");const t=U(e).denneEllerForrige();return U(t).neste()},oi=(e,t)=>{if(t.fordelingValg===Jt.ALT)return e;if(t.fordelingValg===Jt.VIL_VELGE)return An(t.antallUkerFellesperiodeTilSøker)},ii=(e,t,r,n,o,s,i)=>{if((!e||e===ne.ANNEN_DATO)&&t)return it(t);switch(e){case ne.TRE_UKER_FØR_TERMIN:return Ct(r);case ne.TRE_UKER_FØR_FØDSEL:return Ct(n);case ne.FAMILIEHENDELSESDATO:return n;case ne.ANKOMSTDATO_NORGE:return is(o);case ne.DAGEN_ETTER_ANNEN_FORELDER:return si(s);case ne.DATO_FOR_ALENEOMSORG:return os(i);default:throw new Error("Ukjent verdi på oppstartValg.")}},ai=(e,t,r,n,o,s,i)=>{if(s!==!0){const l=U(n||e).denneEllerNeste(),p=[],d=t?v.Fedrekvote:v.Mødrekvote,u=t?T.farMedmor:T.mor,m=r.find(k=>t?k.konto===v.Fedrekvote:k.konto===v.Mødrekvote);let c=l;if(m!==void 0){const k={id:R(),type:O.Uttak,forelder:u,konto:d,tidsperiode:M(c,m.dager),ønskerSamtidigUttak:!1,gradert:!1};c=U(k.tidsperiode.tom).neste(),i!==void 0&&Q(k.tidsperiode,i)?X(k,i).forEach(E=>p.push(E)):p.push(k)}if(o!==void 0&&o>0){const k={id:R(),type:O.Uttak,forelder:u,konto:v.Fellesperiode,tidsperiode:M(c,o*5),ønskerSamtidigUttak:!1,gradert:!1};i!==void 0&&Q(k.tidsperiode,i)?X(k,i).forEach(E=>p.push(E)):p.push(k)}return p.sort(fe)}else return[]},di=(e,t,r,n,o,s,i)=>r?ut(t,n,o,s,e,void 0,void 0,i,"adopsjon"):ut(t,n,o,s,e,void 0,void 0,i,"adopsjon").map(d=>C(d)&&(d.konto===v.Fedrekvote||d.konto===v.Fellesperiode)?d.konto===v.Fedrekvote?{...d,konto:v.Mødrekvote,forelder:T.mor}:{...d,forelder:T.mor}:d),li=(e,t,r,n,o,s,i,l,p,d)=>s?di(e,r,t,i,l,p,d):ai(e,t,r,n,o,s,d),ui=(e,t,r,n)=>{const o=U(e).denneEllerNeste(),s=[],i=_(r).isBefore(_(e),"d"),l=t.find(u=>u.konto===v.ForeldrepengerFørFødsel),p=t.find(u=>u.konto===v.Mødrekvote);let d=o;if(l!==void 0&&i&&r){const u=U(r).denneEllerNeste(),m=U(u).getUttaksdagerFremTilDato(d),c=m>15,k=U(o).trekkFra(c?15:m);if(c){const E={id:R(),type:O.Uttak,forelder:T.mor,konto:v.Fellesperiode,tidsperiode:M(u,m-15),vedlegg:[]};s.push(E)}const f={id:R(),type:O.Uttak,forelder:T.mor,konto:v.ForeldrepengerFørFødsel,tidsperiode:{fom:k,tom:U(d).forrige()}};s.push(f)}else{const u={id:R(),type:O.Uttak,forelder:T.mor,konto:v.ForeldrepengerFørFødsel,skalIkkeHaUttakFørTermin:!0,tidsperiode:{},vedlegg:[]};s.push(u)}if(p!==void 0){const u={id:R(),type:O.Uttak,forelder:T.mor,konto:v.Mødrekvote,tidsperiode:M(d,p.dager),ønskerSamtidigUttak:!1,gradert:!1};d=U(u.tidsperiode.tom).neste(),s.push(u)}if(n!==void 0&&n>0){const u=s.find(c=>C(c)&&c.konto===v.Fellesperiode);let m=0;if(u&&(m=ar(u.tidsperiode).getAntallUttaksdager()),n*5-m>0){const c={id:R(),type:O.Uttak,forelder:T.mor,konto:v.Fellesperiode,tidsperiode:M(d,n*5-m),ønskerSamtidigUttak:!1,gradert:!1};s.push(c)}}return s.sort(fe)},ut=(e,t,r,n,o,s,i,l,p="fødsel")=>{if(!le(o)&&Fn(r,n)&&!i)return[];const d=[],u=U(n).denneEllerNeste();let m=U(n).denneEllerNeste();const c=e.find(E=>E.konto===v.Fedrekvote),k=e.find(E=>E.konto===v.Fellesperiode),f=!0;if(c!==void 0){const E=p==="fødsel"&&le(o)&&Bn(M(u,1),o,s),b=E?Gn(o,u):c.dager,N={id:R(),type:O.Uttak,forelder:T.farMedmor,konto:v.Fedrekvote,tidsperiode:M(u,b),ønskerSamtidigUttak:E,samtidigUttakProsent:E?"100":void 0};m=U(N.tidsperiode.tom).neste(),at(N,o,f,s)?dt(N,o).forEach(F=>d.push(F)):l!==void 0&&Q(N.tidsperiode,l)?X(N,l).forEach(F=>d.push(F)):d.push(N)}if(k!==void 0){let E=0;if(t!==void 0&&t!==0&&(E=5*t),E>0){const b={id:R(),type:O.Uttak,forelder:T.farMedmor,konto:v.Fellesperiode,tidsperiode:M(m,E),ønskerSamtidigUttak:!1,gradert:!1};d.push(b)}}return d},pi=(e,t,r,n,o,s,i,l,p,d,u)=>{if(t){const m=r.filter(c=>c.konto!==v.ForeldrepengerFørFødsel);return ut(m,s,i,l,e,u,p,d)}else return ui(e,r,n,o)},ki=e=>e.situasjon==="adopsjon"?li(e.famDato,e.erFarEllerMedmor,e.tilgjengeligeStønadskontoer,e.startdatoPermisjon,e.fellesperiodeUkerMor,e.harAnnenForelderSøktFP,e.antallUkerFellesperiodeFarMedmor,e.morSinSisteUttaksdag,e.farSinFørsteUttaksdag,e.førsteUttaksdagNesteBarnsSak):e.situasjon==="fødsel"?pi(e.famDato,e.erFarEllerMedmor,e.tilgjengeligeStønadskontoer,e.startdatoPermisjon,e.fellesperiodeUkerMor,e.antallUkerFellesperiodeFarMedmor,e.morSinSisteUttaksdag,e.farSinFørsteUttaksdag,e.annenForelderHarRettPåForeldrepengerIEØS,e.førsteUttaksdagNesteBarnsSak,e.termindato):[],ci=(e,t,r,n,o,s,i)=>{const l=U(r||e).denneEllerNeste(),p=[];if(n!==!0){let d=l;if(le(e)&&s){const m={id:R(),type:O.Uttak,forelder:T.farMedmor,konto:v.AktivitetsfriKvote,tidsperiode:M(l,o.dager),vedlegg:[],gradert:!1,harIkkeAktivitetskrav:!0};i!==void 0&&Q(m.tidsperiode,i)?X(m,i).forEach(k=>p.push(k)):p.push(m),d=U(m.tidsperiode.tom).neste()}const u={id:R(),type:O.Uttak,forelder:T.farMedmor,konto:t.konto,tidsperiode:M(d,t.dager),vedlegg:[],gradert:!1};i!==void 0&&Q(u.tidsperiode,i)?X(u,i).forEach(c=>p.push(c)):p.push(u)}else{const d={id:R(),type:O.Uttak,forelder:T.farMedmor,konto:v.AktivitetsfriKvote,tidsperiode:M(l,o.dager),vedlegg:[],gradert:!1,harIkkeAktivitetskrav:!0};i!==void 0&&Q(d.tidsperiode,i)?X(d,i).forEach(c=>p.push(c)):p.push(d);const u={id:R(),type:O.Uttak,forelder:T.farMedmor,konto:v.Foreldrepenger,tidsperiode:M(U(d.tidsperiode.tom).neste(),t.dager),vedlegg:[],gradert:!1};i!==void 0&&Q(u.tidsperiode,i)?X(u,i).forEach(c=>p.push(c)):p.push(u)}return p},gi=(e,t,r,n)=>{const o=U(r||e).denneEllerNeste(),s={id:R(),type:O.Uttak,forelder:T.mor,konto:t.konto,tidsperiode:M(o,t.dager),vedlegg:[],gradert:!1};return n!==void 0&&Q(s.tidsperiode,n)?X(s,n):[s]},mi=(e,t,r,n,o,s,i,l)=>t?ci(e,r,n,o,s,i,l):gi(e,r,n,l),fi=(e,t,r,n)=>{const o=U(e).denneEllerNeste(),s=[],i=_(r).isBefore(_(e),"d");if(n!==void 0&&i&&r){const u=U(r).getUttaksdagerFremTilDato(o),m=u>15,c=U(o).trekkFra(m?15:u);if(m){const f={id:R(),type:O.Uttak,forelder:T.mor,konto:v.Foreldrepenger,tidsperiode:M(r,u-15),vedlegg:[]};s.push(f)}const k={id:R(),type:O.Uttak,forelder:T.mor,konto:n.konto,tidsperiode:{fom:c,tom:U(o).forrige()},vedlegg:[]};s.push(k)}else{const u={id:R(),type:O.Uttak,forelder:T.mor,konto:v.ForeldrepengerFørFødsel,skalIkkeHaUttakFørTermin:!0,tidsperiode:{},vedlegg:[]};s.push(u)}const l=s.find(u=>C(u)&&u.konto===v.Foreldrepenger),p=l?M(o,t.dager-ar(l.tidsperiode).getAntallUttaksdager()):M(o,t.dager),d={id:R(),type:O.Uttak,forelder:T.mor,konto:t.konto,tidsperiode:p,vedlegg:[],gradert:!1};return s.push(d),s.sort(fe)},Ei=(e,t,r,n,o,s,i,l)=>{const p=U(r||e).denneEllerNeste(),d=!1,u=[];if(n!==!0){let m=p;if(le(e)&&s){const k={id:R(),type:O.Uttak,forelder:T.farMedmor,konto:v.AktivitetsfriKvote,tidsperiode:M(p,o.dager),vedlegg:[],harIkkeAktivitetskrav:!0};at(k,e,d,i)?dt(k,e).forEach(E=>u.push(E)):l!==void 0&&Q(k.tidsperiode,l)?X(k,l).forEach(E=>u.push(E)):u.push(k),m=U(k.tidsperiode.tom).neste()}const c={id:R(),type:O.Uttak,forelder:T.farMedmor,konto:t.konto,tidsperiode:M(m,t.dager),vedlegg:[],gradert:!1};u.push(c)}else{const m={id:R(),type:O.Uttak,forelder:T.farMedmor,konto:v.AktivitetsfriKvote,tidsperiode:M(p,o.dager),vedlegg:[],gradert:!1,harIkkeAktivitetskrav:!0};at(m,e,d,i)?dt(m,e).forEach(f=>u.push(f)):u.push(m);const c={id:R(),type:O.Uttak,forelder:T.farMedmor,konto:v.Foreldrepenger,tidsperiode:M(U(m.tidsperiode.tom).neste(),t.dager),vedlegg:[],gradert:!1};u.push(c)}return u.sort(fe)},vi=(e,t,r,n,o,s,i,l,p,d)=>t?Ei(e,r,n,s,i,l,p,d):fi(e,r,n,o),Si=(e,t,r,n,o,s,i,l,p)=>{const d=n.find(c=>c.konto===v.Foreldrepenger),u=n.find(c=>c.konto===v.ForeldrepengerFørFødsel),m=n.find(c=>c.konto===v.AktivitetsfriKvote);return e==="adopsjon"?mi(t,r,d,o,s,m,i,p):e==="fødsel"?vi(t,r,d,o,u,s,m,i,l,p):[]},Ai=(e,t,r,n,o,s,i)=>{const l=me(e.rolle),p=Fr(n),d=e.situasjon,u=d==="adopsjon",m=Sr(t),c=Vn(r),k=it(ws(n)),f=it(Le(t)),E=qn(t)&&t.adoptertIUtlandet?_(t.ankomstdato).toDate():void 0,b=hr(n),N=o&&o.length>0?U(o[o.length-1].tidsperiode.tom).denneEllerForrige():void 0,h=ii(s.oppstartAvForeldrepengerValg,s.oppstartDato,f,m,E,N,k),F=l?N:void 0,S=mr(l,n,b),J=!l||!S,w=oi(c,s),j=l?void 0:w,L=l?w:void 0,Ke=l?h:void 0,we=ee(n)&&n.erMorUfør,Be=ee(n)&&n.harRettPåForeldrepengerIEØS,de=i==null?void 0:i.startdatoFørsteStønadsperiode,ue=gt({erDeltUttak:p,morHarRett:J,søkerErAleneOmOmsorg:b}),Ee=o!==void 0;if(p){const H=ki({situasjon:d,famDato:m,erFarEllerMedmor:l,tilgjengeligeStønadskontoer:r,startdatoPermisjon:h,fellesperiodeUkerMor:j,harAnnenForelderSøktFP:Ee,antallUkerFellesperiodeFarMedmor:L,morSinSisteUttaksdag:F,farSinFørsteUttaksdag:Ke,annenForelderHarRettPåForeldrepengerIEØS:Be,termindato:f,førsteUttaksdagNesteBarnsSak:de});return be(H,ue,m,u,!1,l,de)}else{const H=Si(d,m,l,r,h,we,S,f,de);return be(H,ue,m,u,S,l,de)}},Fi=(e,t,r,n,o,s,i,l)=>{const p=Sr(o),d=s.situasjon,u=me(s.rolle),m=hr(r),c=mr(u,r,m),k=!u||!c,f=Fr(r),E=d==="adopsjon";if(t&&t.length>0&&e.length>0){const b=gt({erDeltUttak:f,morHarRett:k,søkerErAleneOmOmsorg:m}),N=Yo(t,e,p,b,E,c,u,i==null?void 0:i.startdatoFørsteStønadsperiode);return l({...n,annenPartsUttakErLagtTilIPlan:!0}),N}else return t&&t.length>0?(l({...n,annenPartsUttakErLagtTilIPlan:!0}),t):e},hi=(e,t,r,n,o,s,i,l,p)=>{if(!i)throw new Error("Fordeling er undefined.");const d=Ai(r,n,e,s,t,i,o);return Fi(d,t,s,l,n,r,o,p)},Ti={[ge.ønskerAutomatiskJustering]:{isIncluded:({periodeRundtFødselKanAutomatiskJusteres:e})=>e,isAnswered:({ønskerAutomatiskJustering:e})=>e!==xe.UNANSWERED}},Pi=as(Ti),Ui=[],pt=({søkerInfo:e,erEndringssøknad:t,mellomlagreSøknadOgNaviger:r,avbrytSøknad:n})=>{const o=kt(),s=ds(e.arbeidsforhold,t),i=ls(e.arbeidsforhold,r,t),[l,p]=A.useState(!1),[d,u]=A.useState(!1),[m,c]=A.useState(!1),[k,f]=A.useState(!1),[E,b]=A.useState(!0),N=I(q(g.SØKERSITUASJON)),h=I(q(g.OM_BARNET)),F=I(q(g.ANNEN_FORELDER)),S=q(g.UTTAKSPLAN_METADATA),J=I(q(g.PERIODE_MED_FORELDREPENGER)),w=q(g.UTTAKSPLAN)||Ui,j=q(g.BARN_FRA_NESTE_SAK),L=q(g.EKSISTERENDE_SAK),Ke=q(g.VEDLEGG),we=q(g.FORDELING),[Be,de]=A.useState(t||w.length>0),ue=Z(g.OM_BARNET),Ee=Z(g.BARN_FRA_NESTE_SAK),H=Z(g.UTTAKSPLAN),ve=Z(g.EKSISTERENDE_SAK),W=Z(g.UTTAKSPLAN_METADATA),wr=Z(g.APP_ROUTE),Br=Z(g.VEDLEGG),[Se,Gr]=A.useState(S==null?void 0:S.endringstidspunkt),[Ae,Ge]=A.useState((S==null?void 0:S.perioderSomSkalSendesInn)||[]),ft=ee(F)?F:void 0,Et=ft?ft.erAleneOmOmsorg:!0,{situasjon:Ve}=N,{rolle:vt}=N,Vr=Cn(F),Fe=ee(F)?!!F.harRettPåForeldrepengerINorge||!!F.harRettPåForeldrepengerIEØS:!1,D=me(N.rolle),St=Jn(!D,Et,F),At=Hn(D,Et,F),he=St||At,qr=Fe?void 0:D?T.farMedmor:T.mor,te=vr(h),pe=bt(te),Cr=us(F,D),Jr=Wn(e.søker,F,D,o),Ft=h.antallBarn,Hr=Ft>1,ht=Vt(vt,D,F),V=L==null?void 0:L.uttaksplan,Wr=L?L.uttaksplan!==void 0:!1,$r=!1,z=Le(h),qe=ee(F)&&!F.utenlandskFnr?F.fnr:void 0,Ce=Ve==="adopsjon",Je=j!==void 0?j.annenForelderFnr:void 0,Tt=j!==void 0&&j.fnr!==void 0&&j.fnr.length>0?j.fnr[0]:void 0,He=j!==void 0?j.familiehendelsesdato:void 0,re=j!==void 0?j.startdatoFørsteStønadsperiode:void 0,We=!Vt(N.rolle,D,F)&&!he,Pt=!gr(h)&&h.fnr!==void 0&&h.fnr.length>0?h.fnr[0]:void 0,Te=!(!he&&qe!==void 0&&qe!==""&&(Pt!==void 0||te!==void 0)),Yr=Qo(ms(),3e3),Ut=A.useRef(!0);A.useEffect(()=>{Ut.current===!1&&r(),Ut.current=!1},[Yr,r]);const{data:$e,requestStatus:Ye,error:Qe}=$t(Ie.ANNEN_PART_VEDTAK,{annenPartFødselsnummer:qe,barnFødselsnummer:Pt,familiehendelse:te},Te),B=A.useMemo(()=>xs($e,h,D,te,re),[$e,h,D,te,re]),Ot=()=>{f(!1);const y={[$.BEKREFTELSE_DELTAR_KVALIFISERINGSPROGRAM]:[],[$.DOK_DELTAKELSE_I_INTRODUKSJONSPROGRAMMET]:[],[$.DOK_SYKDOM_MOR]:[],[$.DOK_SYKDOM_FAR]:[],[$.DOK_INNLEGGELSE_BARN]:[],[$.DOK_INNLEGGELSE_MOR]:[],[$.DOK_INNLEGGELSE_FAR]:[],[$.DOK_ARBEID_MOR]:[],[$.DOK_UTDANNING_MOR]:[],[$.DOK_UTDANNING_OG_ARBEID_MOR]:[]};W({...S,perioderSomSkalSendesInn:[],endringstidspunkt:void 0,ønskerJustertUttakVedFødsel:void 0}),H([]),Br({...Ke,...y}),wr(P.FORDELING),r(),i.goToPreviousDefaultStep()},Xe=Rs(D,h.antallBarn,B==null?void 0:B.grunnlag.antallBarn);A.useEffect(()=>{D&&h.antallBarn!==Xe&&ue({...h,antallBarn:Xe})},[D,Xe,h,ue]);const ze=!(Je!==void 0&&Je!==""&&(Tt!==void 0||He!==void 0)&&(Te||Ye===oe.FINISHED)),{data:Qr,requestStatus:Nt,error:Ze}=$t(Ie.NESTE_SAK_ANNEN_PART_VEDTAK,{annenPartFødselsnummer:Je,barnFødselsnummer:Tt,familiehendelse:hn(He)},ze),Pe=Ls(Qr);A.useEffect(()=>{if(Pe!==void 0&&j!==void 0&&(_(Pe).isBefore(j.startdatoFørsteStønadsperiode,"d")||j.startdatoFørsteStønadsperiode===void 0)){const y={...j,startdatoFørsteStønadsperiode:Pe};Ee(y)}},[re,Pe,j,Ee]);const yt=gt({erDeltUttak:Fe,morHarRett:ht,søkerErAleneOmOmsorg:he});A.useEffect(()=>{if(L!==void 0&&V!==void 0&&B!==void 0&&!(S!=null&&S.annenPartsUttakErLagtTilIPlan)){V.forEach(K=>{if(C(K)){const _t=pr(B.uttaksplan).finnOverlappendePerioder(K);_t.length!==0&&_t.find(Mt=>kr(Mt)&&Mt.ønskerSamtidigUttak===!0)&&(K.ønskerSamtidigUttak||(K.ønskerSamtidigUttak=!0,K.samtidigUttakProsent=js(K.gradert,K.stillingsprosent)))}});const y=be(fr(V,B.uttaksplan,pe,re,!0),yt,pe,Ce,We,D,re),G={...L,uttaksplan:y};H(y),ve(G),W({...S,annenPartsUttakErLagtTilIPlan:!0})}},[B,V,pe,yt,Ce,We,D,re,L,S,H,ve,W]),A.useEffect(()=>{const y=V==null?void 0:V.find(G=>C(G)&&G.angittAvAnnenPart);if(y&&Se===void 0){const G=y.tidsperiode.fom,K=rr(w,t,D,V,G);Ge(K),W({...S,perioderSomSkalSendesInn:K,endringstidspunkt:Se})}},[V,Se,D,w,t,W,S]);const Rt=async()=>{const y=ks(w,D,F,t,S==null?void 0:S.perioderSomSkalSendesInn);return p(!0),u(!0),W({...S,endringstidspunkt:Se,perioderSomSkalSendesInn:Ae,antallUkerIUttaksplan:an}),y?i.goToNextStep(P.DOKUMENTASJON):i.goToNextDefaultStep()},Ue=$n(w,pe,z?_(z).toDate():void 0),et=ni(D,pe,Ve,Ue,h,z,We),Oe=ri(et,Ue,z),Xr=()=>{Oe||W({...S,ønskerJustertUttakVedFødsel:void 0})},zr=y=>Oe&&y!==void 0,tt=A.useRef(null),Zr=async y=>{u(!0),E&&!Dt&&(p(!0),tt.current&&tt.current.handleSubmit(),Xr(),zr(y.ønskerAutomatiskJustering)&&await Rt())},en=Tn(e.søker.kjønn,Vr,Fe,St,At,vt),jt=(Te?!1:Ye!==oe.FINISHED)||(ze?!1:Nt!==oe.FINISHED),{stønadskontoParams100:tn,stønadskontoParams80:rn}=Is(h,F,N,j,$e,L),{data:Ne}=Yt(Ie.STØNADSKONTOER_80,rn,jt),{data:ke,error:rt}=Yt(Ie.STØNADSKONTOER_100,tn,jt),nn=y=>{u(!1),p(!1),c(!0),H(y);const G=bs(V,y,t);Gr(G);const K=rr(y,t,D,V,G);Ge(K),W({...S,perioderSomSkalSendesInn:K})},ye=A.useMemo(()=>{if(Ne&&ke)return Ds(Ne,ke)},[Ne,ke]),Re=A.useMemo(()=>ye?J.dekningsgrad===Yn.HUNDRE_PROSENT?ye[100]:ye[80]:[],[ye,J.dekningsgrad]);if(A.useEffect(()=>{if(w.length===0){const y=hi(Re,B==null?void 0:B.uttaksplan,N,h,j,F,we,S,W);H(y),de(!0),r()}},[]),A.useEffect(()=>{!L&&!t&&B!==void 0&&ve(B)},[t,B,L,ve]),A.useEffect(()=>{if(rt)throw ae(rt),new Error("Vi klarte ikke å hente opp stønadskontoer. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.");if(Qe)throw ae(Qe),new Error("Vi klarte ikke å hente informasjon om saken til annen forelder. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.");if(Ze)throw ae(Ze),new Error("Vi klarte ikke å hente informasjon om saken til annen forelder for neste barn. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.")},[rt,Qe,Ze]),!Be||!ke||!Ne||Ye!==oe.FINISHED&&!Te||Nt!==oe.FINISHED&&!ze)return a.jsx("div",{style:{textAlign:"center",padding:"12rem 0"},children:a.jsx(dr,{size:"2xlarge"})});const It=Qn(ke.minsteretter.toTette),Dt=t&&(Ae===void 0||Ae.length===0),sn=()=>{const y=w.filter(G=>zn(G));H(y),W({...S,harUttaksplanBlittSlettet:!0})},on=()=>{L&&(H(L.uttaksplan),W({...S,perioderSomSkalSendesInn:[]}),Ge([]))},an=Xn(Re);return a.jsx(lt.FormikWrapper,{initialValues:ei(S==null?void 0:S.ønskerJustertUttakVedFødsel,Oe),onSubmit:Rt,innerRef:tt,renderForm:({values:y})=>{const G=Pi.getVisbility({ønskerAutomatiskJustering:y[ge.ønskerAutomatiskJustering]??xe.NO,periodeRundtFødselKanAutomatiskJusteres:Oe});return a.jsxs(Pn,{bannerTitle:_e(o,"søknad.pageheading"),onCancel:n,onContinueLater:i.fortsettSøknadSenere,steps:s,children:[a.jsx(se,{padBottom:"l",children:a.jsx(Ms,{eksisterendeSak:L,erIUttaksplanenSteg:!0,tilgjengeligeStønadskontoer:Re,minsterettUkerToTette:It,søker:e.søker})}),a.jsx(ps,{foreldreSituasjon:en,forelderVedAleneomsorg:qr,erDeltUttak:Fe,uttaksplan:w,familiehendelsesdato:te,handleOnPlanChange:nn,stønadskontoer:Re,navnPåForeldre:Jr,annenForelder:F,arbeidsforhold:ys(e.arbeidsforhold,Ce,D,bt(te)),erEndringssøknad:t,erFarEllerMedmor:D,erFlerbarnssøknad:Hr,erAleneOmOmsorg:he,harMidlertidigOmsorg:$r,situasjon:Ve,erMorUfør:Cr,morHarRett:ht,søkersituasjon:N,dekningsgrad:J.dekningsgrad,antallBarn:Ft,setUttaksplanErGyldig:b,eksisterendeSak:L,perioderSomSkalSendesInn:Ae,harKomplettUttaksplan:Wr,opprinneligPlan:S!=null&&S.harUttaksplanBlittSlettet?void 0:V,handleSlettUttaksplan:sn,handleResetUttaksplan:on,termindato:z?_(z).toDate():void 0,barn:h,visAutomatiskJusteringForm:et,perioderMedUttakRundtFødsel:Ue,barnFraNesteSak:j,familiehendelsesdatoNesteSak:He,førsteUttaksdagNesteBarnsSak:re,minsterettUkerToTette:It}),et&&a.jsx(se,{padBottom:"l",children:a.jsx(Dr,{termindato:z?_(z).toDate():void 0,perioderMedUttakRundtFødsel:Ue,antallBarn:h.antallBarn,visibility:G})}),a.jsx(_r,{isOpen:k,setIsOpen:f,goToPreviousStep:Ot}),!E&&d&&a.jsx(se,{textAlignCenter:!0,padBottom:"l",children:a.jsx(ot,{variant:"error",children:a.jsx(Y,{id:"uttaksplan.validering.kanIkkeGåVidere"})})}),Dt&&d&&a.jsx(se,{textAlignCenter:!0,padBottom:"l",children:a.jsx(ot,{variant:"error",children:a.jsx(Y,{id:"uttaksplan.validering.kanIkkeGåVidereEndringssøknad"})})}),a.jsx(se,{textAlignCenter:!0,padBottom:"l",children:a.jsxs(Un,{singleButton:!0,children:[!t&&a.jsx(Me,{variant:"secondary",onClick:m?K=>{K.preventDefault(),f(!0)}:Ot,children:a.jsx(Y,{id:"backlink.label"})}),a.jsx(Me,{type:"submit",onClick:Zr,disabled:l,loading:l,children:_e(o,"søknad.gåVidere")})]})})]})}})};pt.__docgenInfo={description:"",methods:[],displayName:"UttaksplanStep"};const Oi=(e,t,r=[])=>{switch(e){case P.SØKERSITUASJON:return t===!0;case P.OPPSUMMERING:return cs(r)===!1&&r.length>0;default:return!0}},Ni=(e,t,r,n,o,s,i)=>!e||i===void 0?a.jsx(x,{path:"*",element:a.jsx(qt,{to:P.VELKOMMEN})}):lr(r.søker.fødselsdato)?t?a.jsxs(a.Fragment,{children:[a.jsx(x,{path:P.UTTAKSPLAN,element:a.jsx(pt,{søkerInfo:r,erEndringssøknad:t,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),a.jsx(x,{path:P.DOKUMENTASJON,element:a.jsx(Ht,{søkerInfo:r,erEndringssøknad:t,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),a.jsx(x,{path:P.OPPSUMMERING,element:a.jsx(Wt,{erEndringssøknad:t,søkerInfo:r,sendSøknad:o,avbrytSøknad:s,mellomlagreSøknadOgNaviger:n})})]}):a.jsxs(a.Fragment,{children:[a.jsx(x,{path:P.SØKERSITUASJON,element:a.jsx(Ps,{arbeidsforhold:r.arbeidsforhold,kjønn:r.søker.kjønn,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),a.jsx(x,{path:P.OM_BARNET,element:a.jsx(hs,{søkerInfo:r,søknadGjelderNyttBarn:i,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),a.jsx(x,{path:P.ANNEN_FORELDER,element:a.jsx(Ss,{søkerInfo:r,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),a.jsx(x,{path:P.PERIODE_MED_FORELDREPENGER,element:a.jsx(Ts,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),a.jsx(x,{path:P.FORDELING,element:a.jsx(As,{søker:r.søker,arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),a.jsx(x,{path:P.UTTAKSPLAN,element:a.jsx(pt,{søkerInfo:r,erEndringssøknad:t,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),a.jsx(x,{path:P.DOKUMENTASJON,element:a.jsx(Ht,{søkerInfo:r,erEndringssøknad:t,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),a.jsx(x,{path:P.UTENLANDSOPPHOLD,element:a.jsx(Us,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),a.jsx(x,{path:P.TIDLIGERE_UTENLANDSOPPHOLD,element:a.jsx(Ns,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),a.jsx(x,{path:P.SENERE_UTENLANDSOPPHOLD,element:a.jsx(Os,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),a.jsx(x,{path:P.INNTEKTSINFORMASJON,element:a.jsx(Fs,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),a.jsx(x,{path:P.OPPSUMMERING,element:a.jsx(Wt,{erEndringssøknad:t,søkerInfo:r,sendSøknad:o,avbrytSøknad:s,mellomlagreSøknadOgNaviger:n})})]}):a.jsx(x,{path:"*",element:a.jsx(qt,{to:P.IKKE_MYNDIG})}),Mr=({locale:e,onChangeLocale:t,currentRoute:r,søkerInfo:n,saker:o,lagretErEndringssøknad:s,lagretHarGodkjentVilkår:i,lagretSøknadGjelderNyttBarn:l,setKvittering:p})=>{const d=ct(),u=Zn(),[m,c]=A.useState(!0),[k,f]=A.useState(i||!1),[E,b]=A.useState(s||!1),[N,h]=A.useState(l),{sendSøknad:F,errorSendSøknad:S}=$o(n.søker.fnr,E,p,e),J=Ho(e,n.søker.fnr,E,k,N),w=qo(n.søker.fnr,b,f,h),j=q(g.UTTAKSPLAN);return A.useEffect(()=>{r&&lr(n.søker.fødselsdato)&&i&&m&&(c(!1),Oi(r,i,j)?d(r):u.pathname===P.OPPSUMMERING&&d(P.UTTAKSPLAN))},[r,n.søker.fødselsdato,i,d,m,u.pathname,j]),S?a.jsx(kn,{appName:"Foreldrepenger",errorMessage:S.message,retryCallback:()=>location.reload()}):a.jsxs(es,{children:[a.jsx(x,{path:P.VELKOMMEN,element:a.jsx(vs,{fornavn:n.søker.fornavn,locale:e,saker:o,onChangeLocale:t,fnr:n.søker.fnr,harGodkjentVilkår:k,søkerInfo:n,setHarGodkjentVilkår:f,setErEndringssøknad:b,setSøknadGjelderNyttBarn:h,mellomlagreSøknadOgNaviger:J})}),a.jsx(x,{path:P.IKKE_MYNDIG,element:a.jsx(cn,{appnavn:"Foreldrepenger"})}),Ni(k,E,n,J,F,w,N)]})};Mr.__docgenInfo={description:"",methods:[],displayName:"ForeldrepengesøknadRoutes",props:{locale:{required:!0,tsType:{name:"union",raw:"'nb' | 'nn'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"}]},description:""},onChangeLocale:{required:!0,tsType:{name:"signature",type:"function",raw:"(locale: LocaleNo) => void",signature:{arguments:[{type:{name:"union",raw:"'nb' | 'nn'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"}]},name:"locale"}],return:{name:"void"}}},description:""},currentRoute:{required:!0,tsType:{name:"SøknadRoutes"},description:""},søkerInfo:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    søker: Søker;
    arbeidsforhold: Arbeidsforhold[];
}`,signature:{properties:[{key:"søker",value:{name:"intersection",raw:`{
    fødselsdato: string;
    kjønn: Kjønn;
    bankkonto?: Bankkonto;
    sivilstand?: Sivilstand;
    barn: SøkerBarn[];
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    fødselsdato: string;
    kjønn: Kjønn;
    bankkonto?: Bankkonto;
    sivilstand?: Sivilstand;
    barn: SøkerBarn[];
}`,signature:{properties:[{key:"fødselsdato",value:{name:"string",required:!0}},{key:"kjønn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"bankkonto",value:{name:"Bankkonto",required:!1}},{key:"sivilstand",value:{name:"Sivilstand",required:!1}},{key:"barn",value:{name:"Array",elements:[{name:"intersection",raw:`{
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: SøkerAnnenForelder;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: SøkerAnnenForelder;
}`,signature:{properties:[{key:"kjønn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"dødsdato",value:{name:"string",required:!1}},{key:"annenForelder",value:{name:"intersection",raw:`{
    fødselsdato?: string;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    fødselsdato?: string;
}`,signature:{properties:[{key:"fødselsdato",value:{name:"string",required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}],required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}]}],raw:"SøkerBarn[]",required:!0}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}],required:!0}},{key:"arbeidsforhold",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverNavn: string;
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    fom: string;
    tom?: string;
    stillingsprosent: number;
}`,signature:{properties:[{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}},{key:"stillingsprosent",value:{name:"number",required:!0}}]}}],raw:"Arbeidsforhold[]",required:!0}}]}},description:""},saker:{required:!0,tsType:{name:"Array",elements:[{name:"Sak"}],raw:"Sak[]"},description:""},lagretErEndringssøknad:{required:!1,tsType:{name:"boolean"},description:""},lagretHarGodkjentVilkår:{required:!1,tsType:{name:"boolean"},description:""},lagretSøknadGjelderNyttBarn:{required:!1,tsType:{name:"boolean"},description:""},setKvittering:{required:!0,tsType:{name:"signature",type:"function",raw:"(kvittering: Kvittering) => void",signature:{arguments:[{type:{name:"Kvittering"},name:"kvittering"}],return:{name:"void"}}},description:""}}};const nr=()=>a.jsx("div",{style:{textAlign:"center",padding:"12rem 0"},children:a.jsx(dr,{size:"2xlarge"})}),br=({locale:e,onChangeLocale:t})=>{var k,f;const r=kt();io(r.formatMessage({id:"søknad.pagetitle"}));const{søkerinfoData:n,søkerinfoError:o}=ie.useSøkerinfo(),{sakerData:s,sakerError:i}=ie.useGetSaker(),{storageData:l,storageStatus:p}=ie.useStoredAppState(),[d,u]=A.useState();A.useEffect(()=>{if(o)throw ae(o),new Error("Vi klarte ikke å hente informasjon om deg. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.");if(i)throw ae(i),new Error("Vi klarte ikke å hente informasjon om sakene dine. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.")},[o,i]);const m=l&&tr(l)?Vo(l):void 0,c=l!==void 0&&tr(l);return A.useEffect(()=>{l!=null&&l.locale&&l.locale!==e&&t(l.locale)},[l]),d?nt.INNSYN?(Fo(d.saksNr?`${nt.INNSYN}/sak/${d.saksNr}/redirectFromSoknad`:`${nt.INNSYN}/redirectFromSoknad`),a.jsx(nr,{})):a.jsx("div",{children:"Redirected to Innsyn"}):!s||!n||p===oe.IN_PROGRESS?a.jsx(nr,{}):a.jsx(mt,{søker:n.søker,children:a.jsx(fs,{initialState:m,children:a.jsx(Rn,{children:a.jsx(Mr,{locale:e,onChangeLocale:t,søkerInfo:n,saker:s.foreldrepenger,currentRoute:c?l.currentRoute:P.VELKOMMEN,lagretErEndringssøknad:c?(k=l.søknad)==null?void 0:k.erEndringssøknad:!1,lagretHarGodkjentVilkår:c?(f=l.søknad)==null?void 0:f.harGodkjentVilkår:!1,lagretSøknadGjelderNyttBarn:c?l.søknadGjelderEtNyttBarn:!1,setKvittering:u})})})})};br.__docgenInfo={description:"",methods:[],displayName:"Foreldrepengesøknad"};const yi=()=>{const e=fo();return e?e.name==="ie":!1},xr=ho(),Ri={nb:{...On,...xt.nb,...Lt.nb,...Kt.nb,...wt.nb},nn:{...Nn,...xt.nn,...Lt.nn,...Kt.nn,...wt.nn}};_.locale(xr);const Lr=()=>{const[e,t]=A.useState(xr);return a.jsx(mt,{children:a.jsx(_s,{children:a.jsxs(gn,{locale:e,messagesGroupedByLocale:Ri,children:[a.jsx(yn,{skalEndreNettleser:yi()}),a.jsx(br,{locale:e,onChangeLocale:r=>{To(r),t(r),Bs(r),document.documentElement.setAttribute("lang",r)}})]})})})},Kr=Lr;Lr.__docgenInfo={description:"",methods:[],displayName:"AppContainer"};const ji={søker:{fnr:"06499121154",fornavn:"Tapper",etternavn:"Konvolutt",kjønn:"M",fødselsdato:"1991-09-06",bankkonto:{kontonummer:"",banknavn:""},barn:[]},arbeidsforhold:[{arbeidsgiverId:"896929119",arbeidsgiverIdType:"orgnr",arbeidsgiverNavn:"SAUEFABRIKK",stillingsprosent:100,fom:"2018-03-01"}]},Ca={title:"AppContainer",component:Kr},Ii=({søkerinfoData:e,sakerData:t,annenPartVedtakData:r,stønadskontoerData:n,storageKvitteringData:o})=>{mn();const s=new fn(Gs);return s.onGet("/sokerinfo").reply(200,e),s.onGet("/innsyn/v2/saker").reply(200,t),s.onGet("/innsyn/v2/annenPartVedtak").reply(200,r),s.onGet("/konto").reply(200,n),s.onGet("/storage/kvittering/foreldrepenger").reply(200,o),s.onGet("test/konto").replyOnce(200,ro),s.onGet("test/konto").replyOnce(200,Zs),s.onPost("/innsyn/v2/annenPartVedtak").replyOnce(200,void 0,oe.FINISHED),s.onPost("/storage/foreldrepenger").reply(200,{}),s.onPost("/soknad").reply(200,{}),s.onPost("/sendSøknadUrl").reply(200,{}),s.onDelete("/storage/foreldrepenger").reply(200,{}),a.jsx(Kr,{})},ce=Ii.bind({});ce.args={søkerinfoData:ji,sakerData:Qs,annenPartVedtakData:Cs,stønadskontoerData:oo,storageKvitteringData:Ws};var sr,or,ir;ce.parameters={...ce.parameters,docs:{...(sr=ce.parameters)==null?void 0:sr.docs,source:{originalSource:`({
  søkerinfoData,
  sakerData,
  annenPartVedtakData,
  stønadskontoerData,
  storageKvitteringData
}) => {
  initAmplitude();
  const apiMock = new MockAdapter(AxiosInstance);
  apiMock.onGet('/sokerinfo').reply(200, søkerinfoData);
  apiMock.onGet('/innsyn/v2/saker').reply(200, sakerData);
  apiMock.onGet('/innsyn/v2/annenPartVedtak').reply(200, annenPartVedtakData);
  apiMock.onGet('/konto').reply(200, stønadskontoerData);
  apiMock.onGet('/storage/kvittering/foreldrepenger').reply(200, storageKvitteringData);
  apiMock.onGet('test/konto').replyOnce(200, stønadskontoDeltUttak80);
  apiMock.onGet('test/konto').replyOnce(200, stønadskontoDeltUttak100);
  apiMock.onPost('/innsyn/v2/annenPartVedtak').replyOnce(200, undefined, RequestStatus.FINISHED);
  apiMock.onPost('/storage/foreldrepenger').reply(200, {});
  apiMock.onPost('/soknad').reply(200, {});
  apiMock.onPost('/sendSøknadUrl').reply(200, {});
  apiMock.onDelete('/storage/foreldrepenger').reply(200, {});
  return <AppContainer />;
}`,...(ir=(or=ce.parameters)==null?void 0:or.docs)==null?void 0:ir.source}}};const Ja=["SøkerErMann"];export{ce as SøkerErMann,Ja as __namedExportsOrder,Ca as default};
