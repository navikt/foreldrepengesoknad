import{Z as S,aX as B,_ as e,aY as v,aZ as u,a_ as m,a1 as o,br as h,$ as E,b7 as Q,a6 as W,a0 as N,bf as X,ba as Y,bs as $,J as ee,E as re,bt as T,bi as b,bg as ne,bh as ae,q as M,x as q,b1 as te,ar as se,as as le,b2 as oe,bn as ie,bo as de,bu as R}from"./iframe-DqUTJYq8.js";import{u as _}from"./api-DlsyE1_F.js";import{u as U}from"./queries-DGkvPQdN.js";import{b as I,C as j,c as me}from"./FpDataContext-DWl9nV1x.js";import{i as O,L as ge,a as ue,b as pe}from"./useFpNavigator-Dz_KNZO0.js";import{R as fe}from"./RegistrertePersonalia-CVZ4h-Y7.js";import{g as ve,v as ce,w as he,x as Fe}from"./annenForelderUtils-CLCUnmuV.js";import{L as x}from"./List-BUTmRkvA.js";const ke=s=>!s.kanIkkeOppgis,L=({rolle:s,barn:g})=>{const r=S(),n=ve(g),a=B(),p=U(),f=_({...p,select:l=>l==null?void 0:l.perioder.some(F=>{var i;return(i=F.resultat)==null?void 0:i.innvilget})}).data??!1,t=a.watch();if(!ke(t))throw Error("Annen forelder skal alltid være oppgitt her");return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs(v,{name:"erAleneOmOmsorg",control:a.control,label:r.formatMessage({id:"annenForelder.aleneOmOmsorg"}),validate:[u(r.formatMessage({id:"valideringsfeil.annenForelder.harAleneOmsorgPåkrevd"}))],children:[e.jsx(m,{value:!1,children:e.jsx(o,{id:"annenForelder.aleneOmOmsorg.ja"})}),e.jsx(m,{value:!0,children:e.jsx(o,{id:"annenForelder.aleneOmOmsorg.nei"})})]}),e.jsx(h,{header:r.formatMessage({id:"annenForelder.aleneOmOmsorg.apneLabel"}),children:e.jsxs(E,{gap:"4",children:[e.jsx(Q,{children:e.jsx(o,{id:"annenForelder.aleneOmOmsorg.del1"})}),e.jsx(W,{children:e.jsx(o,{id:"annenForelder.aleneOmOmsorg.del2"})})]})})]}),!O(s)&&t.erAleneOmOmsorg===!0&&e.jsx(N,{variant:"info",children:e.jsx(o,{id:"annenForelder.veileder.aleneOmsorg.forBarnet"})}),t.erAleneOmOmsorg===!0&&O(s)&&e.jsx(X,{name:"datoForAleneomsorg",control:a.control,label:r.formatMessage({id:"annenForelder.datoForAleneomsorg"}),minDate:ee(n).toDate(),validate:[u(r.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.duMåOppgi"})),Y(r.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.ugyldigDatoFormat"})),$(r.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.førFamiliehendelsedato"},{dato:n}),n)]}),t.erAleneOmOmsorg!==!0&&!f&&e.jsxs("div",{children:[e.jsxs(v,{name:"harRettPåForeldrepengerINorge",control:a.control,label:r.formatMessage({id:"annenForelder.harRettPåForeldrepengerINorge"}),validate:[u(r.formatMessage({id:"valideringsfeil.annenForelder.harRettTilForeldrepengerPåkrevd"}))],children:[e.jsx(m,{value:!0,children:"Ja"}),e.jsx(m,{value:!1,children:"Nei"})]}),e.jsxs(h,{header:r.formatMessage({id:"annenForelder.harRettPåForeldrepengerINorge.veileder.apneLabel"}),children:[e.jsx(o,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder"}),e.jsxs(x,{children:[e.jsx(x.Item,{children:e.jsx(o,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt1"})}),e.jsx(x.Item,{children:e.jsx(o,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt2"})}),e.jsx(x.Item,{children:e.jsx(o,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt3"})})]})]})]}),t.erAleneOmOmsorg===!1&&t.harRettPåForeldrepengerINorge===!1&&e.jsxs("div",{children:[e.jsxs(v,{name:"harOppholdtSegIEØS",control:a.control,label:r.formatMessage({id:"annenForelder.harOppholdtSegIEØS"}),validate:[u(r.formatMessage({id:"valideringsfeil.annenForelder.harOppholdtSegIEØS"}))],children:[e.jsx(m,{value:!0,children:"Ja"}),e.jsx(m,{value:!1,children:"Nei"})]}),e.jsx(h,{header:r.formatMessage({id:"annenForelder.harOppholdtSegIEØS.veileder.apneLabel"}),children:e.jsx(o,{id:"annenForelder.harOppholdtSegIEØS.veileder"})})]}),t.erAleneOmOmsorg===!1&&t.harOppholdtSegIEØS===!0&&e.jsxs("div",{children:[e.jsxs(v,{name:"harRettPåForeldrepengerIEØS",control:a.control,label:r.formatMessage({id:"annenForelder.harRettPåForeldrepengerIEØS"}),validate:[u(r.formatMessage({id:"valideringsfeil.annenForelder.harRettPåForeldrepengerIEØS"}))],children:[e.jsx(m,{value:!0,children:"Ja"}),e.jsx(m,{value:!1,children:"Nei"})]}),e.jsx(h,{header:r.formatMessage({id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.apneLabel"}),children:e.jsxs(E,{gap:"4",children:[e.jsx("div",{children:e.jsx(o,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.del1"})}),e.jsx(o,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.del2"}),e.jsx(ge,{to:"https://www.nav.no/foreldrepenger#utland",target:"_blank",children:e.jsx(o,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.link"})})]})})]}),t.erAleneOmOmsorg!==!0&&t.harRettPåForeldrepengerINorge!==!1&&e.jsxs(e.Fragment,{children:[e.jsxs(v,{name:"erInformertOmSøknaden",control:a.control,label:r.formatMessage({id:"annenForelder.spørsmål.erAnnenForelderInformert"}),validate:[u(r.formatMessage({id:"valideringsfeil.annenForelder.informertAnnenForelderPåkrevd"})),l=>l===!1?r.formatMessage({id:"annenForelder.erAnnenForelderInformert.veileder"}):null],children:[e.jsx(m,{value:!0,children:"Ja"}),e.jsx(m,{value:!1,children:"Nei"})]}),t.erInformertOmSøknaden===!1&&e.jsx(N,{variant:"warning",children:e.jsx(o,{id:"annenForelder.erAnnenForelderInformert.veileder"})})]}),t.erAleneOmOmsorg===!1&&t.harRettPåForeldrepengerINorge===!1&&(t.harOppholdtSegIEØS===!1||t.harRettPåForeldrepengerIEØS===!1)&&O(s)&&e.jsxs("div",{children:[e.jsxs(v,{name:"erMorUfør",control:a.control,label:r.formatMessage({id:"annenForelder.erMorUfør"}),validate:[u(r.formatMessage({id:"valideringsfeil.annenForelder.erMorUfør"}))],children:[e.jsx(m,{value:!0,children:"Ja"}),e.jsx(m,{value:!1,children:"Nei"})]}),e.jsx(h,{header:r.formatMessage({id:"annenForelder.erMorUfør.veileder.apneLabel"}),children:e.jsx(o,{id:"annenForelder.erMorUfør.veileder"})})]})]})};L.__docgenInfo={description:"",methods:[],displayName:"AnnenForelderOppgittPanel",props:{rolle:{required:!0,tsType:{name:"union",raw:"'far' | 'medmor' | 'mor'",elements:[{name:"literal",value:"'far'"},{name:"literal",value:"'medmor'"},{name:"literal",value:"'mor'"}]},description:""},barn:{required:!0,tsType:{name:"union",raw:"FødtBarn | UfødtBarn | AdoptertBarn | AdoptertStebarn | AdoptertAnnetBarn | IkkeUtfyltTypeBarn",elements:[{name:"FødtBarn"},{name:"UfødtBarn"},{name:"AdoptertBarn"},{name:"AdoptertStebarn"},{name:"AdoptertAnnetBarn"},{name:"IkkeUtfyltTypeBarn"}]},description:""}}};const je="_width_1h8vi_1",A={width:je},w=(s,g)=>r=>he(r,g,s),xe=(s,g)=>g?!1:s!=="medmor",D=({søkersFødselsnummer:s,rolle:g,barn:r})=>{const n=S(),a=B(),p=a.watch("fornavn"),f=a.watch("utenlandskFnr"),t=a.watch("kanIkkeOppgis");return e.jsxs(e.Fragment,{children:[xe(g,re(r))&&e.jsx(T,{name:"kanIkkeOppgis",control:a.control,label:n.formatMessage({id:"annenForelder.spørsmål.kanOppgis"})}),!t&&e.jsxs(e.Fragment,{children:[e.jsx(b,{name:"fornavn",control:a.control,label:e.jsx(o,{id:"annenForelder.spørsmål.fornavn"}),validate:[u(n.formatMessage({id:"valideringsfeil.annenForelder.fornavnPåkrevd"})),w(n,"annenForelder.spørsmål.fornavn")],className:A.width}),e.jsx(b,{name:"etternavn",control:a.control,label:e.jsx(o,{id:"annenForelder.spørsmål.etternavn"}),validate:[u(n.formatMessage({id:"valideringsfeil.annenForelder.etternavnPåkrevd"})),w(n,"annenForelder.spørsmål.etternavn")],className:A.width})]}),!t&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(b,{name:"fnr",control:a.control,label:n.formatMessage({id:"annenForelder.spørsmål.fnr"},{navn:p}),validate:[u(n.formatMessage({id:"valideringsfeil.annenForelder.fnrPåkrevd"})),ce(n,s,n.formatMessage({id:"annenForelder.spørsmål.fnr"},{navn:p}),f)],className:A.width}),e.jsx(T,{name:"utenlandskFnr",control:a.control,label:n.formatMessage({id:"annenForelder.spørsmål.utenlandskFnr"})})]}),f&&e.jsx(ne,{name:"bostedsland",control:a.control,label:n.formatMessage({id:"annenForelder.bostedsland"}),validate:[u(n.formatMessage({id:"valideringsfeil.annenForelder.bostedslandPåkrevd"}))],children:ae().map(l=>e.jsx("option",{value:l[0],children:l[1]},l[0]))})]})]})};D.__docgenInfo={description:"",methods:[],displayName:"OppgiPersonalia",props:{søkersFødselsnummer:{required:!0,tsType:{name:"string"},description:""},rolle:{required:!0,tsType:{name:"union",raw:"'far' | 'medmor' | 'mor'",elements:[{name:"literal",value:"'far'"},{name:"literal",value:"'medmor'"},{name:"literal",value:"'mor'"}]},description:""},barn:{required:!0,tsType:{name:"union",raw:"FødtBarn | UfødtBarn | AdoptertBarn | AdoptertStebarn | AdoptertAnnetBarn | IkkeUtfyltTypeBarn",elements:[{name:"FødtBarn"},{name:"UfødtBarn"},{name:"AdoptertBarn"},{name:"AdoptertStebarn"},{name:"AdoptertAnnetBarn"},{name:"IkkeUtfyltTypeBarn"}]},description:""}}};const ye=(s,g)=>{const r=Fe(s,g.barn),n=r===void 0||r.length===0?void 0:r.find(a=>a.annenForelder!==void 0);return n!==void 0?n.annenForelder:void 0},be=({søkerInfo:s,mellomlagreSøknadOgNaviger:g,avbrytSøknad:r})=>{const n=S(),a=ue(s.arbeidsforhold),p=pe(s.arbeidsforhold,g),{rolle:f}=M(I(j.SØKERSITUASJON)),t=M(I(j.OM_BARNET)),l=I(j.ANNEN_FORELDER),F=me(j.ANNEN_FORELDER),i=ye(t,s.søker),K=U(),V=_({...K,select:d=>d==null?void 0:d.perioder.some(c=>{var k;return(k=c.resultat)==null?void 0:k.innvilget})}).data??!1,G=l!==void 0&&q(l)&&l.fnr!==(i==null?void 0:i.fnr),y=i===void 0||G,C=d=>{if(d.kanIkkeOppgis===!0)return F({kanIkkeOppgis:!0}),p.goToNextDefaultStep();const c=!y&&i,k=c?i.fornavn:d.fornavn,H=c?i.etternavn:d.etternavn,Z=c?i.fnr:d.fnr,z=V||d.harRettPåForeldrepengerINorge;return F({...d,harRettPåForeldrepengerINorge:z,kanIkkeOppgis:!1,fornavn:R(k)??"",etternavn:R(H)??"",fnr:R(Z.trim())??"",harRettPåForeldrepengerIEØS:d.harOppholdtSegIEØS?d.harRettPåForeldrepengerIEØS:!1}),p.goToNextDefaultStep()},P=te({shouldUnregister:!0,defaultValues:l&&q(l)&&l.fornavn===n.formatMessage({id:"annen.forelder"})?{...l,fornavn:""}:l}),J=P.watch("kanIkkeOppgis");return e.jsx(se,{pageTitle:n.formatMessage({id:"søknad.pageheading"}),children:e.jsx(le,{steps:a,children:e.jsx(oe,{formMethods:P,onSubmit:C,children:e.jsxs(E,{gap:"10",children:[e.jsx(ie,{}),y&&e.jsx(D,{rolle:f,barn:t,søkersFødselsnummer:s.søker.fnr}),!y&&e.jsx(fe,{person:i,fødselsnummerForVisning:i.fnr,visEtternavn:!0}),J!==!0&&e.jsx(L,{rolle:f,barn:t}),e.jsx(de,{goToPreviousStep:p.goToPreviousDefaultStep,onAvsluttOgSlett:r,onFortsettSenere:p.fortsettSøknadSenere})]})})})})};be.__docgenInfo={description:"",methods:[],displayName:"AnnenForelderSteg",props:{søkerInfo:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    søker: PersonFrontend;
    arbeidsforhold: Arbeidsforhold[];
}`,signature:{properties:[{key:"søker",value:{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
    kjønn: Kjønn;
    fødselsdato: string;
    bankkonto?: Bankkonto;
    barn: BarnFrontend[];
    sivilstand?: Sivilstand;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}},{key:"kjønn",value:{name:"union",raw:"'M' | 'K' | 'U'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"},{name:"literal",value:"'U'"}],required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"bankkonto",value:{name:"signature",type:"object",raw:`{
    kontonummer?: string;
    banknavn?: string;
}`,signature:{properties:[{key:"kontonummer",value:{name:"string",required:!1}},{key:"banknavn",value:{name:"string",required:!1}}]},required:!1}},{key:"barn",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: AnnenForelderFrontend;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}},{key:"kjønn",value:{name:"union",raw:"'M' | 'K' | 'U'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"},{name:"literal",value:"'U'"}],required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"dødsdato",value:{name:"string",required:!1}},{key:"annenForelder",value:{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
    fødselsdato?: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}},{key:"fødselsdato",value:{name:"string",required:!1}}]},required:!1}}]}}],raw:"BarnFrontend[]",required:!0}},{key:"sivilstand",value:{name:"signature",type:"object",raw:`{
    type?: SivilstandType;
}`,signature:{properties:[{key:"type",value:{name:"union",raw:`| 'UOPPGITT'
| 'UGIFT'
| 'GIFT'
| 'ENKE_ELLER_ENKEMANN'
| 'SKILT'
| 'SEPARERT'
| 'REGISTRERT_PARTNER'
| 'SEPARERT_PARTNER'
| 'SKILT_PARTNER'
| 'GJENLEVENDE_PARTNER'`,elements:[{name:"literal",value:"'UOPPGITT'"},{name:"literal",value:"'UGIFT'"},{name:"literal",value:"'GIFT'"},{name:"literal",value:"'ENKE_ELLER_ENKEMANN'"},{name:"literal",value:"'SKILT'"},{name:"literal",value:"'SEPARERT'"},{name:"literal",value:"'REGISTRERT_PARTNER'"},{name:"literal",value:"'SEPARERT_PARTNER'"},{name:"literal",value:"'SKILT_PARTNER'"},{name:"literal",value:"'GJENLEVENDE_PARTNER'"}],required:!1}}]},required:!1}}]},required:!0}},{key:"arbeidsforhold",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    arbeidsgiverNavn: string;
    stillingsprosent: number;
    fom: string;
    tom?: string;
}`,signature:{properties:[{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"stillingsprosent",value:{name:"number",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}}]}}],raw:"Arbeidsforhold[]",required:!0}}]}},description:""},mellomlagreSøknadOgNaviger:{required:!0,tsType:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},avbrytSøknad:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};export{be as A};
