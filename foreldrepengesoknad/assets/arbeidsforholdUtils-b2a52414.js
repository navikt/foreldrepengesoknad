import{d as o}from"./validationUtils-00d66cf2.js";import{d as m}from"./_baseIteratee-c5cd7c61.js";import{_ as A}from"./_baseUniq-4a4d2a1a.js";import{n,g as _,A as v,d as I,a9 as F}from"./dateUtils-becbdc23.js";import{x as k}from"./periodeUtils-1a4dc73e.js";import{u as g}from"./constants-c4bc2eb8.js";var R=m,S=A;function b(t,r){return t&&t.length?S(t,R(r)):[]}var N=b;const O=(t,r,e)=>({førsteUttaksdagForeldrepengerFørFødsel:i(t),førsteUttaksdagPåEllerEtterFødsel:n(t).denneEllerNeste(),førsteMuligeUttaksdagFørTermin:l(t,r,e),sisteMuligeUttaksdagEtterTermin:c(t)}),P=(t,r,e)=>{const s=n(t).denneEllerNeste(),u=i(t),a=l(t,r,e),E=n(s).forrige(),U=c(t),f=_(s,30).tom;return{førsteUttaksdag:s,førFødsel:{førsteMuligeUttaksdag:a,sisteUttaksdagFørFødsel:E,førsteUttaksdagForeldrepengerFørFødsel:u},etterFødsel:{sisteUttaksdagInnenforSeksUker:f,førsteUttaksdagEtterSeksUker:n(f).neste(),sisteMuligeUttaksdag:U}}};function d(t){return n(t).denneEllerNeste()}function i(t){return n(d(t)).trekkFra(g.ANTALL_UKER_FORELDREPENGER_FØR_FØDSEL*5)}function l(t,r,e){return r?v(t)?k(t,e):n(t).denneEllerNeste():n(d(t)).trekkFra(g.MAKS_ANTALL_UKER_FORELDREPENGER_FØR_FØDSEL*5)}function c(t){return n(o(d(t)).add(g.MAKS_PERMISJONSLENGDE_I_ÅR,"year").subtract(1,"day").toDate()).denneEllerNeste()}const G=(t,r,e,s)=>r!=="fødsel"||!e||t===void 0||I(t)===!1?!1:o(t.fom).isBefore(o(s),"day"),p=(t,r,e)=>{if(e!==void 0)return t?e:r?k(e,void 0):i(e)},V=(t,r,e,s)=>{const u=p(r,e,s);return t.filter(a=>a.tom===void 0||a.tom===null||u!==void 0&&o(u).isSameOrBefore(a.tom,"days"))},M=t=>{if(t.length>1){const r=t.map(s=>s.arbeidsgiverId);return new Set(r).size!==r.length}return!1},D=t=>t.arbeidsgiverId,j=(t,r)=>{if(r.tom&&r.fom){const e=t.filter(s=>s.tom===void 0?!!o(r.fom).isSameOrAfter(o(s.fom),"day"):!!(F(r.fom,s.fom,s.tom)||F(r.tom,s.fom,s.tom)));return M(e)?N(e,D):e}return t};export{l as a,c as b,d as c,j as d,G as e,P as f,V as g,O as u};
//# sourceMappingURL=arbeidsforholdUtils-b2a52414.js.map
