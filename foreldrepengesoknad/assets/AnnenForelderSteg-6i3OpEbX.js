import{j as e}from"./jsx-runtime-Cw0GR0a5.js";import{u as M,C as O,a as H}from"./FpDataContext-BUlrLNeW.js";import{N as X,s as Q,b as Y,c as Z,d as $,h as ee,j as U,i as w,u as re,a as ne}from"./useFpNavigator-C1-_vw_o.js";import{h as W,b as j,a as ae,j as C,c as P,d as te,u as se,R as ie,E as le,S as oe}from"./ErrorSummaryHookForm-yr8kWjf1.js";import{u as q,M as d,a as de,B as me}from"./Label-Da2udS5t.js";import{g as ue,v as ge,l as pe,m as fe}from"./barnUtils-BXfzVz3o.js";import{c as f,R as g,p as y,A as L,d as ce,s as ve,K as he,n as _,M as K,b as ke,N as E}from"./Uttaksplan-D9R7MjfO.js";import{r as A}from"./index-CTjT7uj6.js";import{d as Fe,c as je,b as xe}from"./UttaksdagenString-BBvBeCjL.js";import{R as be}from"./RegistrertePersonalia-BUfoUZ0x.js";import"./index-BbmHap-z.js";import{V as B}from"./VStack-DPZ5Pzm1.js";/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function N(){return N=Object.assign?Object.assign.bind():function(r){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},N.apply(this,arguments)}function ye(r,s){if(r==null)return{};var n={},a=Object.keys(r),i,t;for(t=0;t<a.length;t++)i=a[t],!(s.indexOf(i)>=0)&&(n[i]=r[i]);return n}function Se(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Oe(r,s){return r.button===0&&(!s||s==="_self")&&!Se(r)}const Ae=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Re="6";try{window.__reactRouterVersion=Re}catch{}const Ie=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Me=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,we=A.forwardRef(function(s,n){let{onClick:a,relative:i,reloadDocument:t,replace:u,state:p,target:o,to:l,preventScrollReset:m,viewTransition:k}=s,h=ye(s,Ae),{basename:R}=A.useContext(X),x,S=!1;if(typeof l=="string"&&Me.test(l)&&(x=l,Ie))try{let v=new URL(window.location.href),F=l.startsWith("//")?new URL(v.protocol+l):new URL(l),T=Q(F.pathname,R);F.origin===v.origin&&T!=null?l=T+F.search+F.hash:S=!0}catch{}let c=Y(l,{relative:i}),b=Pe(l,{replace:u,state:p,target:o,preventScrollReset:m,relative:i,viewTransition:k});function I(v){a&&a(v),v.defaultPrevented||b(v)}return A.createElement("a",N({},h,{href:x||c,onClick:S||t?a:I,ref:n,target:o}))});var D;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(D||(D={}));var V;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(V||(V={}));function Pe(r,s){let{target:n,replace:a,state:i,preventScrollReset:t,relative:u,viewTransition:p}=s===void 0?{}:s,o=Z(),l=$(),m=ee(r,{relative:u});return A.useCallback(k=>{if(Oe(k,n)){k.preventDefault();let h=a!==void 0?a:U(l)===U(m);o(r,{replace:h,state:i,preventScrollReset:t,relative:u,viewTransition:p})}},[l,o,m,a,i,n,r,t,u,p])}const Ee=r=>!r.kanIkkeOppgis,z=({rolle:r,barn:s})=>{const n=q(),a=ue(s),t=W().watch();if(!Ee(t))throw Error("Annen forelder skal alltid være oppgitt her");return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs(j,{name:"erAleneOmOmsorg",label:n.formatMessage({id:"annenForelder.aleneOmOmsorg"}),validate:[f(n.formatMessage({id:"valideringsfeil.annenForelder.harAleneOmsorgPåkrevd"}))],children:[e.jsx(g,{value:!1,children:e.jsx(d,{id:"annenForelder.aleneOmOmsorg.ja"})}),e.jsx(g,{value:!0,children:e.jsx(d,{id:"annenForelder.aleneOmOmsorg.nei"})})]}),e.jsx(y,{header:n.formatMessage({id:"annenForelder.aleneOmOmsorg.apneLabel"}),children:e.jsxs(B,{gap:"4",children:[e.jsx(de,{children:e.jsx(d,{id:"annenForelder.aleneOmOmsorg.del1"})}),e.jsx(me,{children:e.jsx(d,{id:"annenForelder.aleneOmOmsorg.del2"})})]})})]}),!w(r)&&t.erAleneOmOmsorg===!0&&e.jsx(L,{variant:"info",children:e.jsx(d,{id:"annenForelder.veileder.aleneOmsorg.forBarnet"})}),t.erAleneOmOmsorg===!0&&w(r)&&e.jsx(ae,{name:"datoForAleneomsorg",label:n.formatMessage({id:"annenForelder.datoForAleneomsorg"}),minDate:Fe(a).toDate(),validate:[f(n.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.duMåOppgi"})),ce(n.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.ugyldigDatoFormat"})),ve(n.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.førFamiliehendelsedato"},{dato:a}),a)]}),t.erAleneOmOmsorg!==!0&&e.jsxs("div",{children:[e.jsxs(j,{name:"harRettPåForeldrepengerINorge",label:n.formatMessage({id:"annenForelder.harRettPåForeldrepengerINorge"}),validate:[f(n.formatMessage({id:"valideringsfeil.annenForelder.harRettTilForeldrepengerPåkrevd"}))],children:[e.jsx(g,{value:!0,children:"Ja"}),e.jsx(g,{value:!1,children:"Nei"})]}),e.jsxs(y,{header:n.formatMessage({id:"annenForelder.harRettPåForeldrepengerINorge.veileder.apneLabel"}),children:[e.jsx(d,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder"}),e.jsxs("ul",{style:{margin:"0",padding:"1rem 2rem 0"},children:[e.jsx("li",{children:e.jsx(d,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt1"})}),e.jsx("li",{children:e.jsx(d,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt2"})}),e.jsx("li",{children:e.jsx(d,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt3"})})]})]})]}),t.erAleneOmOmsorg===!1&&t.harRettPåForeldrepengerINorge===!1&&e.jsxs("div",{children:[e.jsxs(j,{name:"harOppholdtSegIEØS",label:n.formatMessage({id:"annenForelder.harOppholdtSegIEØS"}),validate:[f(n.formatMessage({id:"valideringsfeil.annenForelder.harOppholdtSegIEØS"}))],children:[e.jsx(g,{value:!0,children:"Ja"}),e.jsx(g,{value:!1,children:"Nei"})]}),e.jsx(y,{header:n.formatMessage({id:"annenForelder.harOppholdtSegIEØS.veileder.apneLabel"}),children:e.jsx(d,{id:"annenForelder.harOppholdtSegIEØS.veileder"})})]}),t.erAleneOmOmsorg===!1&&t.harOppholdtSegIEØS===!0&&e.jsxs("div",{children:[e.jsxs(j,{name:"harRettPåForeldrepengerIEØS",label:n.formatMessage({id:"annenForelder.harRettPåForeldrepengerIEØS"}),validate:[f(n.formatMessage({id:"valideringsfeil.annenForelder.harRettPåForeldrepengerIEØS"}))],children:[e.jsx(g,{value:!0,children:"Ja"}),e.jsx(g,{value:!1,children:"Nei"})]}),e.jsx(y,{header:n.formatMessage({id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.apneLabel"}),children:e.jsxs(B,{gap:"4",children:[e.jsx("div",{children:e.jsx(d,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.del1"})}),e.jsx(d,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.del2"}),e.jsx(we,{to:"https://www.nav.no/foreldrepenger#utland",target:"_blank",children:e.jsx(d,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.link"})})]})})]}),t.erAleneOmOmsorg!==!0&&t.harRettPåForeldrepengerINorge!==!1&&e.jsxs(e.Fragment,{children:[e.jsxs(j,{name:"erInformertOmSøknaden",label:n.formatMessage({id:"annenForelder.spørsmål.erAnnenForelderInformert"}),validate:[f(n.formatMessage({id:"valideringsfeil.annenForelder.informertAnnenForelderPåkrevd"})),u=>u===!1?n.formatMessage({id:"annenForelder.erAnnenForelderInformert.veileder"}):null],children:[e.jsx(g,{value:!0,children:"Ja"}),e.jsx(g,{value:!1,children:"Nei"})]}),t.erInformertOmSøknaden===!1&&e.jsx(L,{variant:"warning",children:e.jsx(d,{id:"annenForelder.erAnnenForelderInformert.veileder"})})]}),t.erAleneOmOmsorg===!1&&t.harRettPåForeldrepengerINorge===!1&&(t.harOppholdtSegIEØS===!1||t.harRettPåForeldrepengerIEØS===!1)&&w(r)&&e.jsxs("div",{children:[e.jsxs(j,{name:"erMorUfør",label:n.formatMessage({id:"annenForelder.erMorUfør"}),validate:[f(n.formatMessage({id:"valideringsfeil.annenForelder.erMorUfør"}))],children:[e.jsx(g,{value:!0,children:"Ja"}),e.jsx(g,{value:!1,children:"Nei"})]}),e.jsx(y,{header:n.formatMessage({id:"annenForelder.erMorUfør.veileder.apneLabel"}),children:e.jsx(d,{id:"annenForelder.erMorUfør.veileder"})})]})]})};z.__docgenInfo={description:"",methods:[],displayName:"AnnenForelderOppgittPanel",props:{rolle:{required:!0,tsType:{name:"union",raw:"'far' | 'medmor' | 'mor'",elements:[{name:"literal",value:"'far'"},{name:"literal",value:"'medmor'"},{name:"literal",value:"'mor'"}]},description:""},barn:{required:!0,tsType:{name:"union",raw:"FødtBarn | UfødtBarn | AdoptertBarn | AdoptertStebarn | AdoptertAnnetBarn | IkkeUtfyltTypeBarn",elements:[{name:"FødtBarn"},{name:"UfødtBarn"},{name:"AdoptertBarn"},{name:"AdoptertStebarn"},{name:"AdoptertAnnetBarn"},{name:"IkkeUtfyltTypeBarn"}]},description:""}}};const J=(r,s)=>n=>pe(n,s,r),Be=(r,s)=>s?!1:r!=="medmor",G=({søkersFødselsnummer:r,rolle:s,barn:n})=>{const a=q(),i=xe("width"),t=W(),u=t.watch("fornavn"),p=t.watch("utenlandskFnr"),o=t.watch("kanIkkeOppgis");return e.jsxs(e.Fragment,{children:[Be(s,he(n))&&e.jsx(C,{name:"kanIkkeOppgis",label:a.formatMessage({id:"annenForelder.spørsmål.kanOppgis"})}),!o&&e.jsxs(e.Fragment,{children:[e.jsx(P,{name:"fornavn",label:e.jsx(d,{id:"annenForelder.spørsmål.fornavn"}),validate:[f(a.formatMessage({id:"valideringsfeil.annenForelder.fornavnPåkrevd"})),J(a,"annenForelder.spørsmål.fornavn")],className:i.block}),e.jsx(P,{name:"etternavn",label:e.jsx(d,{id:"annenForelder.spørsmål.etternavn"}),validate:[f(a.formatMessage({id:"valideringsfeil.annenForelder.etternavnPåkrevd"})),J(a,"annenForelder.spørsmål.etternavn")],className:i.block})]}),!o&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(P,{name:"fnr",label:a.formatMessage({id:"annenForelder.spørsmål.fnr"},{navn:u}),validate:[f(a.formatMessage({id:"valideringsfeil.annenForelder.fnrPåkrevd"})),ge(a,r,a.formatMessage({id:"annenForelder.spørsmål.fnr"},{navn:u}),p)],className:i.block}),e.jsx(C,{name:"utenlandskFnr",label:a.formatMessage({id:"annenForelder.spørsmål.utenlandskFnr"})})]}),p&&e.jsx(te,{name:"bostedsland",label:a.formatMessage({id:"annenForelder.bostedsland"}),validate:[f(a.formatMessage({id:"valideringsfeil.annenForelder.bostedslandPåkrevd"}))],children:je().map(l=>e.jsx("option",{value:l[0],children:l[1]},l[0]))})]})]})};G.__docgenInfo={description:"",methods:[],displayName:"OppgiPersonalia",props:{søkersFødselsnummer:{required:!0,tsType:{name:"string"},description:""},rolle:{required:!0,tsType:{name:"union",raw:"'far' | 'medmor' | 'mor'",elements:[{name:"literal",value:"'far'"},{name:"literal",value:"'medmor'"},{name:"literal",value:"'mor'"}]},description:""},barn:{required:!0,tsType:{name:"union",raw:"FødtBarn | UfødtBarn | AdoptertBarn | AdoptertStebarn | AdoptertAnnetBarn | IkkeUtfyltTypeBarn",elements:[{name:"FødtBarn"},{name:"UfødtBarn"},{name:"AdoptertBarn"},{name:"AdoptertStebarn"},{name:"AdoptertAnnetBarn"},{name:"IkkeUtfyltTypeBarn"}]},description:""}}};const Ne=(r,s)=>{const n=fe(r,s.barn),a=n===void 0||n.length===0?void 0:n.find(i=>i.annenForelder!==void 0);return a!==void 0?a.annenForelder:void 0},qe=({søkerInfo:r,mellomlagreSøknadOgNaviger:s,avbrytSøknad:n})=>{const a=q(),i=re(r.arbeidsforhold),t=ne(r.arbeidsforhold,s),{rolle:u}=_(M(O.SØKERSITUASJON)),p=_(M(O.OM_BARNET)),o=M(O.ANNEN_FORELDER),l=H(O.ANNEN_FORELDER),m=Ne(p,r.søker),k=o!==void 0&&K(o)&&o.fnr!==(m==null?void 0:m.fnr),h=m===void 0||k,R=c=>{if(c.kanIkkeOppgis===!0)return l({kanIkkeOppgis:!0}),t.goToNextDefaultStep();const b=!h&&m,I=b?m.fornavn:c.fornavn,v=b?m.etternavn:c.etternavn,F=b?m.fnr:c.fnr;return l({...c,kanIkkeOppgis:!1,fornavn:E(I)??"",etternavn:E(v)??"",fnr:E(F.trim())??"",harRettPåForeldrepengerIEØS:c.harOppholdtSegIEØS?c.harRettPåForeldrepengerIEØS:!1}),t.goToNextDefaultStep()},x=se({shouldUnregister:!0,defaultValues:o&&K(o)&&o.fornavn===a.formatMessage({id:"annen.forelder"})?{...o,fornavn:""}:o}),S=x.watch("kanIkkeOppgis");return e.jsx(ke,{bannerTitle:a.formatMessage({id:"søknad.pageheading"}),onCancel:n,onContinueLater:t.fortsettSøknadSenere,steps:i,children:e.jsx(ie,{formMethods:x,onSubmit:R,children:e.jsxs(B,{gap:"10",children:[e.jsx(le,{}),h&&e.jsx(G,{rolle:u,barn:p,søkersFødselsnummer:r.søker.fnr}),!h&&e.jsx(be,{person:m,fødselsnummerForVisning:m.fnr,visEtternavn:!0}),S!==!0&&e.jsx(z,{rolle:u,barn:p}),e.jsx(oe,{goToPreviousStep:t.goToPreviousDefaultStep})]})})})};qe.__docgenInfo={description:"",methods:[],displayName:"AnnenForelderSteg",props:{søkerInfo:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    søker: Søker;
    arbeidsforhold: Arbeidsforhold[];
}`,signature:{properties:[{key:"søker",value:{name:"intersection",raw:`{
    fødselsdato: string;
    kjønn: Kjønn;
    bankkonto?: Bankkonto;
    sivilstand?: Sivilstand;
    barn: SøkerBarn[];
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    fødselsdato: string;
    kjønn: Kjønn;
    bankkonto?: Bankkonto;
    sivilstand?: Sivilstand;
    barn: SøkerBarn[];
}`,signature:{properties:[{key:"fødselsdato",value:{name:"string",required:!0}},{key:"kjønn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"bankkonto",value:{name:"Bankkonto",required:!1}},{key:"sivilstand",value:{name:"Sivilstand",required:!1}},{key:"barn",value:{name:"Array",elements:[{name:"intersection",raw:`{
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: SøkerAnnenForelder;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: SøkerAnnenForelder;
}`,signature:{properties:[{key:"kjønn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"dødsdato",value:{name:"string",required:!1}},{key:"annenForelder",value:{name:"intersection",raw:`{
    fødselsdato?: string;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    fødselsdato?: string;
}`,signature:{properties:[{key:"fødselsdato",value:{name:"string",required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}],required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}]}],raw:"SøkerBarn[]",required:!0}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}],required:!0}},{key:"arbeidsforhold",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverNavn: string;
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    fom: string;
    tom?: string;
    stillingsprosent: number;
}`,signature:{properties:[{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}},{key:"stillingsprosent",value:{name:"number",required:!0}}]}}],raw:"Arbeidsforhold[]",required:!0}}]}},description:""},mellomlagreSøknadOgNaviger:{required:!0,tsType:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},avbrytSøknad:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};export{qe as A};
