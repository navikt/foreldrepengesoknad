import{j as e}from"./jsx-runtime-69eee039.js";import{o,p as h,u as k,B as l,i as n,q as y,e as A}from"./validationUtils-52801e0e.js";import"./index-e13aeee6.js";import"./index-7c191284.js";import{S as p,a as F}from"./mapSøkerinfoDTO-3b9336f6.js";import{u as R}from"./useOnValidSubmit-afa78197.js";import{a as B}from"./useSøknad-d91e9ba5.js";import{u as C,a as V,b as _,s as I}from"./useSaveLoadedRoute-66d41ce7.js";import{Q as T}from"./index-47edccfa.js";import{u as Q}from"./useSøkerinfo-1c6ac28b.js";import{a as w}from"./submitUtils-11ed6e7a.js";var t=(s=>(s.situasjon="situasjon",s.rolle="rolle",s))(t||{});const d={situasjon:"",rolle:""},K=s=>s?{rolle:o(s.rolle)?s.rolle:d.rolle,situasjon:o(s.situasjon)?s.situasjon:d.situasjon}:d,u=h(),j=({kjønn:s})=>{const r=k();return s==="M"?null:e.jsx(l,{margin:"xl",children:e.jsx(u.RadioGroup,{name:t.rolle,radios:[{label:n(r,"søkersituasjon.radioButton.mor"),value:"mor"},{label:n(r,"søkersituasjon.radioButton.medmor"),value:"medmor"}],legend:n(r,"søkersituasjon.text.rolle")})})};try{j.displayName="VelgRolle",j.__docgenInfo={description:"",displayName:"VelgRolle",props:{kjønn:{defaultValue:null,description:"",name:"kjønn",required:!0,type:{name:"enum",value:[{value:'"M"'},{value:'"K"'}]}}}}}catch{}const N={[t.situasjon]:{isIncluded:()=>!0,isAnswered:({situasjon:s})=>o(s)},[t.rolle]:{isIncluded:({søkerKjønn:s})=>s==="K",isAnswered:({rolle:s})=>o(s),visibilityFilter:({situasjon:s})=>o(s)}},E=T(N),M=s=>({situasjon:s.situasjon,rolle:o(s.rolle)?s.rolle:"far"}),O=()=>{const s=k(),r=B(),S=Q(),{kjønn:m}=S.person,g=i=>{const a=M(i);return[F.setSøkersituasjon(a)]},{handleSubmit:f,isSubmitting:c}=R(g,p.OM_BARNET,i=>w(i)),b=C(),x=V();return _(p.SØKERSITUASJON),e.jsx(u.FormikWrapper,{initialValues:K(r.søkersituasjon),onSubmit:f,renderForm:({values:i})=>{const a=E.getVisbility({...i,søkerKjønn:m}),v=a.areAllQuestionsAnswered();return e.jsx(y,{bannerTitle:n(s,"søknad.pageheading"),activeStepId:"søkersituasjon",pageTitle:n(s,"søknad.søkersituasjon"),onCancel:b,onContinueLater:x,steps:I(s,!1),children:e.jsx(u.Form,{includeButtons:!1,children:e.jsxs("div",{children:[e.jsx(l,{children:e.jsx(u.RadioGroup,{name:t.situasjon,radios:[{label:n(s,"søkersituasjon.radioButton.fødsel"),value:"fødsel"},{label:n(s,"søkersituasjon.radioButton.adopsjon"),value:"adopsjon"}],legend:n(s,"søkersituasjon.text.situasjon")})}),e.jsx(l,{visible:a.isVisible(t.rolle),children:e.jsx(j,{kjønn:m})}),v&&e.jsx(l,{textAlignCenter:!0,margin:"l",children:e.jsx(A,{type:"submit",disabled:c,loading:c,children:n(s,"søknad.gåVidere")})})]})})})}})},Y=O;export{Y as S};
//# sourceMappingURL=Søkersituasjon-c14d97a3.js.map
