import{j as e}from"./jsx-runtime-Cw0GR0a5.js";import{c as G,R as j,D as q,f as _,T as A,b as Q,u as Y,F as Z,E as $,S as ee}from"./ErrorSummaryHookForm-DDDtvHTi.js";import{u as C,M as f,a as re,B as ne}from"./Label-DlDsESPM.js";import{c as g,R as u,U as k,K as L,d as ae,X as te,a3 as se,n as B,a0 as D,b as le}from"./Uttaksplan-BTl02Txt.js";import{r as x,a as oe}from"./index-CTjT7uj6.js";import{d as ie,e as de,b as ce}from"./Uttaksdagen-Uuolrvsk.js";import{u as P,C as b,a as fe}from"./FpDataContext-DbGuQRR8.js";import{c as me,R as ue,N as ge,s as pe,d as he,h as Fe,j as ve,k as xe,l as V,i as w,u as je,a as Oe}from"./useFpNavigator-DeeiwRwL.js";import{g as ke,v as Se,m as Re,n as be}from"./barnUtils-C4Rule8_.js";import{R as Ie}from"./RegistrertePersonalia-CQcstETT.js";import"./index-CYM-y3Gt.js";import{V as y}from"./VStack-CrTlUGgl.js";/**
 * React Router DOM v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function T(){return T=Object.assign?Object.assign.bind():function(r){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},T.apply(this,arguments)}function Me(r,s){if(r==null)return{};var n={},a=Object.keys(r),i,t;for(t=0;t<a.length;t++)i=a[t],!(s.indexOf(i)>=0)&&(n[i]=r[i]);return n}function Ee(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Ae(r,s){return r.button===0&&(!s||s==="_self")&&!Ee(r)}const Pe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],we="6";try{window.__reactRouterVersion=we}catch{}const Ne="startTransition",K=oe[Ne];function er(r){let{basename:s,children:n,future:a,window:i}=r,t=x.useRef();t.current==null&&(t.current=me({window:i,v5Compat:!0}));let c=t.current,[m,l]=x.useState({action:c.action,location:c.location}),{v7_startTransition:o}=a||{},d=x.useCallback(p=>{o&&K?K(()=>l(p)):l(p)},[l,o]);return x.useLayoutEffect(()=>c.listen(d),[c,d]),x.createElement(ue,{basename:s,children:n,location:m.location,navigationType:m.action,navigator:c,future:a})}const ye=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Te=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ce=x.forwardRef(function(s,n){let{onClick:a,relative:i,reloadDocument:t,replace:c,state:m,target:l,to:o,preventScrollReset:d,unstable_viewTransition:p}=s,h=Me(s,Pe),{basename:I}=x.useContext(ge),O,S=!1;if(typeof o=="string"&&Te.test(o)&&(O=o,ye))try{let v=new URL(window.location.href),R=o.startsWith("//")?new URL(v.protocol+o):new URL(o),U=pe(R.pathname,I);R.origin===v.origin&&U!=null?o=U+R.search+R.hash:S=!0}catch{}let F=he(o,{relative:i}),M=Ue(o,{replace:c,state:m,target:l,preventScrollReset:d,relative:i,unstable_viewTransition:p});function E(v){a&&a(v),v.defaultPrevented||M(v)}return x.createElement("a",T({},h,{href:O||F,onClick:S||t?a:E,ref:n,target:l}))});var J;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(J||(J={}));var W;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(W||(W={}));function Ue(r,s){let{target:n,replace:a,state:i,preventScrollReset:t,relative:c,unstable_viewTransition:m}=s===void 0?{}:s,l=Fe(),o=ve(),d=xe(r,{relative:c});return x.useCallback(p=>{if(Ae(p,n)){p.preventDefault();let h=a!==void 0?a:V(o)===V(d);l(r,{replace:h,state:i,preventScrollReset:t,relative:c,unstable_viewTransition:m})}},[o,l,d,a,i,n,r,t,c,m])}const _e=/[\u034f\t\u00a0\u00ad\u061c\u115f\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u200b\u200c\u200d\u200e\u200f\u202d\u202f\u205f\u2060\u2061\u2062\u2063\u2064\u206a\u206b\u206c\u206d\u206e\u206f\u3000\u2800\u3164\ufeff\uffa0\u1160]/g,N=r=>r.replace(_e," "),Le=r=>!r.kanIkkeOppgis,H=({rolle:r,barn:s})=>{const n=C(),a=ke(s),t=G().watch();if(!Le(t))throw Error("Annen forelder skal alltid være oppgitt her");return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs(j,{name:"erAleneOmOmsorg",label:n.formatMessage({id:"annenForelder.aleneOmOmsorg"}),validate:[g(n.formatMessage({id:"valideringsfeil.annenForelder.harAleneOmsorgPåkrevd"}))],children:[e.jsx(u,{value:!1,children:e.jsx(f,{id:"annenForelder.aleneOmOmsorg.ja"})}),e.jsx(u,{value:!0,children:e.jsx(f,{id:"annenForelder.aleneOmOmsorg.nei"})})]}),e.jsx(k,{header:n.formatMessage({id:"annenForelder.aleneOmOmsorg.apneLabel"}),children:e.jsxs(y,{gap:"4",children:[e.jsx(re,{children:e.jsx(f,{id:"annenForelder.aleneOmOmsorg.del1"})}),e.jsx(ne,{children:e.jsx(f,{id:"annenForelder.aleneOmOmsorg.del2"})})]})})]}),!w(r)&&t.erAleneOmOmsorg===!0&&e.jsx(L,{variant:"info",children:e.jsx(f,{id:"annenForelder.veileder.aleneOmsorg.forBarnet"})}),t.erAleneOmOmsorg===!0&&w(r)&&e.jsx(q,{name:"datoForAleneomsorg",label:n.formatMessage({id:"annenForelder.datoForAleneomsorg"}),minDate:ie(a).toDate(),validate:[g(n.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.duMåOppgi"})),ae(n.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.ugyldigDatoFormat"})),te(n.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.førFamiliehendelsedato"},{dato:a}),a)]}),t.erAleneOmOmsorg!==!0&&e.jsxs("div",{children:[e.jsxs(j,{name:"harRettPåForeldrepengerINorge",label:n.formatMessage({id:"annenForelder.harRettPåForeldrepengerINorge"}),validate:[g(n.formatMessage({id:"valideringsfeil.annenForelder.harRettTilForeldrepengerPåkrevd"}))],children:[e.jsx(u,{value:!0,children:"Ja"}),e.jsx(u,{value:!1,children:"Nei"})]}),e.jsxs(k,{header:n.formatMessage({id:"annenForelder.harRettPåForeldrepengerINorge.veileder.apneLabel"}),children:[e.jsx(f,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder"}),e.jsxs("ul",{style:{margin:"0",padding:"1rem 2rem 0"},children:[e.jsx("li",{children:e.jsx(f,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt1"})}),e.jsx("li",{children:e.jsx(f,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt2"})}),e.jsx("li",{children:e.jsx(f,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt3"})})]})]})]}),t.erAleneOmOmsorg===!1&&t.harRettPåForeldrepengerINorge===!1&&e.jsxs("div",{children:[e.jsxs(j,{name:"harOppholdtSegIEØS",label:n.formatMessage({id:"annenForelder.harOppholdtSegIEØS"}),validate:[g(n.formatMessage({id:"valideringsfeil.annenForelder.harOppholdtSegIEØS"}))],children:[e.jsx(u,{value:!0,children:"Ja"}),e.jsx(u,{value:!1,children:"Nei"})]}),e.jsx(k,{header:n.formatMessage({id:"annenForelder.harOppholdtSegIEØS.veileder.apneLabel"}),children:e.jsx(f,{id:"annenForelder.harOppholdtSegIEØS.veileder"})})]}),t.erAleneOmOmsorg===!1&&t.harOppholdtSegIEØS===!0&&e.jsxs("div",{children:[e.jsxs(j,{name:"harRettPåForeldrepengerIEØS",label:n.formatMessage({id:"annenForelder.harRettPåForeldrepengerIEØS"}),validate:[g(n.formatMessage({id:"valideringsfeil.annenForelder.harRettPåForeldrepengerIEØS"}))],children:[e.jsx(u,{value:!0,children:"Ja"}),e.jsx(u,{value:!1,children:"Nei"})]}),e.jsx(k,{header:n.formatMessage({id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.apneLabel"}),children:e.jsxs(y,{gap:"4",children:[e.jsx("div",{children:e.jsx(f,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.del1"})}),e.jsx(f,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.del2"}),e.jsx(Ce,{to:"https://www.nav.no/foreldrepenger#utland",target:"_blank",children:e.jsx(f,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.link"})})]})})]}),t.erAleneOmOmsorg!==!0&&t.harRettPåForeldrepengerINorge!==!1&&e.jsxs(e.Fragment,{children:[e.jsxs(j,{name:"erInformertOmSøknaden",label:n.formatMessage({id:"annenForelder.spørsmål.erAnnenForelderInformert"}),validate:[g(n.formatMessage({id:"valideringsfeil.annenForelder.informertAnnenForelderPåkrevd"})),c=>c===!1?n.formatMessage({id:"annenForelder.erAnnenForelderInformert.veileder"}):null],children:[e.jsx(u,{value:!0,children:"Ja"}),e.jsx(u,{value:!1,children:"Nei"})]}),t.erInformertOmSøknaden===!1&&e.jsx(L,{variant:"warning",children:e.jsx(f,{id:"annenForelder.erAnnenForelderInformert.veileder"})})]}),t.erAleneOmOmsorg===!1&&t.harRettPåForeldrepengerINorge===!1&&(t.harOppholdtSegIEØS===!1||t.harRettPåForeldrepengerIEØS===!1)&&w(r)&&e.jsxs("div",{children:[e.jsxs(j,{name:"erMorUfør",label:n.formatMessage({id:"annenForelder.erMorUfør"}),validate:[g(n.formatMessage({id:"valideringsfeil.annenForelder.erMorUfør"}))],children:[e.jsx(u,{value:!0,children:"Ja"}),e.jsx(u,{value:!1,children:"Nei"})]}),e.jsx(k,{header:n.formatMessage({id:"annenForelder.erMorUfør.veileder.apneLabel"}),children:e.jsx(f,{id:"annenForelder.erMorUfør.veileder"})})]})]})};H.__docgenInfo={description:"",methods:[],displayName:"AnnenForelderOppgittPanel"};const z=(r,s)=>n=>Re(n,s,r),Be=(r,s)=>s?!1:r!=="medmor",X=({søkersFødselsnummer:r,rolle:s,barn:n})=>{const a=C(),i=ce("width"),t=G(),c=t.watch("fornavn"),m=t.watch("utenlandskFnr"),l=t.watch("kanIkkeOppgis");return e.jsxs(e.Fragment,{children:[Be(s,se(n))&&e.jsx(_,{name:"kanIkkeOppgis",label:a.formatMessage({id:"annenForelder.spørsmål.kanOppgis"})}),!l&&e.jsxs(e.Fragment,{children:[e.jsx(A,{name:"fornavn",label:e.jsx(f,{id:"annenForelder.spørsmål.fornavn"}),validate:[g(a.formatMessage({id:"valideringsfeil.annenForelder.fornavnPåkrevd"})),z(a,"annenForelder.spørsmål.fornavn")],className:i.block}),e.jsx(A,{name:"etternavn",label:e.jsx(f,{id:"annenForelder.spørsmål.etternavn"}),validate:[g(a.formatMessage({id:"valideringsfeil.annenForelder.etternavnPåkrevd"})),z(a,"annenForelder.spørsmål.etternavn")],className:i.block})]}),!l&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(A,{name:"fnr",label:a.formatMessage({id:"annenForelder.spørsmål.fnr"},{navn:c}),validate:[g(a.formatMessage({id:"valideringsfeil.annenForelder.fnrPåkrevd"})),Se(a,r,a.formatMessage({id:"annenForelder.spørsmål.fnr"},{navn:c}),m)],className:i.block}),e.jsx(_,{name:"utenlandskFnr",label:a.formatMessage({id:"annenForelder.spørsmål.utenlandskFnr"})})]}),m&&e.jsx(Q,{name:"bostedsland",label:a.formatMessage({id:"annenForelder.bostedsland"}),validate:[g(a.formatMessage({id:"valideringsfeil.annenForelder.bostedslandPåkrevd"}))],children:de().map(o=>e.jsx("option",{value:o[0],children:o[1]},o[0]))})]})]})};X.__docgenInfo={description:"",methods:[],displayName:"OppgiPersonalia"};const De=(r,s)=>{const n=be(r,s.barn),a=n===void 0||n.length===0?void 0:n.find(i=>i.annenForelder!==void 0);return a!==void 0?a.annenForelder:void 0},Ve=({søkerInfo:r,mellomlagreSøknadOgNaviger:s,avbrytSøknad:n})=>{const a=C(),i=je(r.arbeidsforhold),t=Oe(r.arbeidsforhold,s),{rolle:c}=B(P(b.SØKERSITUASJON)),m=B(P(b.OM_BARNET)),l=P(b.ANNEN_FORELDER),o=fe(b.ANNEN_FORELDER),d=De(m,r.søker),p=l!==void 0&&D(l)&&l.fnr!==(d==null?void 0:d.fnr),h=d===void 0||p,I=F=>{if(F.kanIkkeOppgis===!0)o({kanIkkeOppgis:!0});else{const M=!h&&d?d.fornavn:F.fornavn,E=!h&&d?d.etternavn:F.etternavn,v=!h&&d?d.fnr:F.fnr;o({...F,kanIkkeOppgis:!1,fornavn:N(M),etternavn:N(E),fnr:N(v.trim()),harRettPåForeldrepengerIEØS:F.harOppholdtSegIEØS?F.harRettPåForeldrepengerIEØS:!1})}return t.goToNextDefaultStep()},O=Y({shouldUnregister:!0,defaultValues:l&&D(l)&&l.fornavn===a.formatMessage({id:"annen.forelder"})?{...l,fornavn:""}:l}),S=O.watch("kanIkkeOppgis");return e.jsx(le,{bannerTitle:a.formatMessage({id:"søknad.pageheading"}),onCancel:n,onContinueLater:t.fortsettSøknadSenere,steps:i,children:e.jsx(Z,{formMethods:O,onSubmit:I,children:e.jsxs(y,{gap:"10",children:[e.jsx($,{}),h&&e.jsx(X,{rolle:c,barn:m,søkersFødselsnummer:r.søker.fnr}),!h&&e.jsx(Ie,{person:d,fødselsnummerForVisning:d.fnr,visEtternavn:!0}),S!==!0&&e.jsx(H,{rolle:c,barn:m,annenForelder:l,søker:r.søker}),e.jsx(ee,{goToPreviousStep:t.goToPreviousDefaultStep})]})})})};Ve.__docgenInfo={description:"",methods:[],displayName:"AnnenForelderSteg"};export{Ve as A,er as B};
