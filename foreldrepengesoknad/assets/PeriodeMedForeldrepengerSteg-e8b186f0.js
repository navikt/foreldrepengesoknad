import{j as t}from"./jsx-runtime-d079401a.js";import{$ as X,u as C,T as oe,b as l,R as K,Z as le,H as M,U as Z,d as ie,k as Q,X as de,S as ge,q as ue}from"./Tidsperioden-2f191506.js";import{i as T,n as ee,o as te,h as ne,a as ce,j as pe,e as me}from"./barnUtils-42471e8d.js";import{D as m}from"./Periodene-93f75033.js";import{D as $}from"./eksisterendeSakUtils-e1f0846a.js";import"./index-d741deb4.js";import{r as k,R as ke}from"./index-f1f2c4b1.js";import"./_baseToString-375081cd.js";import"./_createSet-53ab95fd.js";import{n as _}from"./validation-631bcf6e.js";import{i as fe}from"./dateFormValidation-f3ff7428.js";import{s as ve,u as je}from"./stepsConfig-f1dbaf58.js";import{u as h,C as g,a as y}from"./FpDataContext-6d6d78b0.js";import{s as Se,u as xe,a as I,g as he,b as G,c as Ee}from"./useFpApiData-7196599a.js";import{R as Fe}from"./useRequest-1bc7422a.js";import{u as be,F as Pe,E as Re,R as _e,S as Oe,C as ye}from"./ErrorSummaryHookForm-9ac5db85.js";import{S as Ae}from"./Perioden-756f4214.js";import{c as w}from"./stringUtils-e263f9a0.js";import{a as z}from"./uttaksplanHarForMangeFlerbarnsuker-1b4dfbbf.js";import{g as O,V as P,l as Ne,H as V,S as Te}from"./IntlProvider-5022d65e.js";import"./dates-584a13c3.js";import{S as A}from"./routes-7ba66c63.js";import{g as N}from"./stønadskontoer-1088bac0.js";import{c as De,L as Ie,B as U}from"./Link-13f307fd.js";var we=globalThis&&globalThis.__rest||function(e,a){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]]);return s};const Me=k.forwardRef((e,a)=>{var{title:s,titleId:n}=e,r=we(e,["title","titleId"]);let o=X();return o=s?n||"title-"+o:void 0,k.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:a,"aria-labelledby":o},r),s?k.createElement("title",{id:o},s):null,k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.532 3.471A.748.748 0 0 1 20.75 4v7.5a.75.75 0 0 1-1.5 0V5.81l-8.72 8.72a.75.75 0 1 1-1.06-1.06l8.72-8.72H12.5a.75.75 0 0 1 0-1.5H20c.206 0 .393.083.529.218l.001.002.002.001ZM4.75 9A.25.25 0 0 1 5 8.75h7a.75.75 0 0 0 0-1.5H5A1.75 1.75 0 0 0 3.25 9v10c0 .966.784 1.75 1.75 1.75h10A1.75 1.75 0 0 0 16.75 19v-7a.75.75 0 0 0-1.5 0v7a.25.25 0 0 1-.25.25H5a.25.25 0 0 1-.25-.25V9Z",fill:"currentColor"}))}),Ve=Me;var Ue=globalThis&&globalThis.__rest||function(e,a){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]]);return s};const Be=k.forwardRef((e,a)=>{var{title:s,titleId:n}=e,r=Ue(e,["title","titleId"]);let o=X();return o=s?n||"title-"+o:void 0,k.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:a,"aria-labelledby":o},r),s?k.createElement("title",{id:o},s):null,k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.939 2.293a2.25 2.25 0 0 0-2.592 1.554 3.751 3.751 0 0 0-3.468.971l-.349-.348a.75.75 0 1 0-1.06 1.06l.216.217-2.127.912a2.75 2.75 0 0 0-.862.583l-6.02 6.02a1.75 1.75 0 0 0 0 2.475l4.586 4.586a1.75 1.75 0 0 0 2.474 0l6.021-6.02a2.75 2.75 0 0 0 .583-.862l.912-2.127.217.216a.75.75 0 1 0 1.06-1.06l-.348-.349a3.75 3.75 0 0 0 .971-3.468 2.249 2.249 0 0 0 .938-3.744 2.25 2.25 0 0 0-1.152-.616ZM19.5 5.25a.75.75 0 1 0-.75-.75 3.76 3.76 0 0 1 .75.75Zm-1.379 3.81A2.25 2.25 0 0 0 14.94 5.88L18.12 9.06ZM11.15 8.038l2.679-1.149 3.282 3.282-.034.079H8.81l1.947-1.947a1.25 1.25 0 0 1 .392-.265Zm-6.413 6.285 2.574-2.573h9.123l-.472 1.1a1.25 1.25 0 0 1-.265.392l-6.02 6.02a.25.25 0 0 1-.354 0l-4.586-4.585a.25.25 0 0 1 0-.354Z",fill:"currentColor"}))}),Y=Be;var He=globalThis&&globalThis.__rest||function(e,a){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]]);return s};const B=k.forwardRef((e,a)=>{var{as:s="div",background:n,borderColor:r,borderWidth:o,borderRadius:u,className:c,padding:i,paddingInline:f,paddingBlock:v,shadow:d,style:E}=e,S=He(e,["as","background","borderColor","borderWidth","borderRadius","className","padding","paddingInline","paddingBlock","shadow","style"]);const p=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},E),{"--__ac-box-background":n?`var(--a-${n})`:void 0,"--__ac-box-shadow":d?`var(--a-shadow-${d})`:void 0,"--__ac-box-border-color":r?`var(--a-${r})`:void 0,"--__ac-box-border-width":o?o.split(" ").map(F=>`${F}px`).join(" "):void 0}),O("box","border-radius","border-radius",u,!1,["0"])),O("box","padding","spacing",i)),O("box","padding-inline","spacing",f)),O("box","padding-block","spacing",v));return ke.createElement(s,Object.assign({},S,{className:De("navds-box",c),ref:a,style:p}))});const W=(e,a)=>{const s=ee(a),n=te(a),r=ne(a),o=s?a.adopsjonsdato:r;if(!s&&n||!o)return;const u=N(e.filter(f=>f.konto!==Ae.ForeldrepengerFørFødsel))*5,c=Z(o).denneEllerNeste(),i=Z(c).leggTil(u-1);return ie(i).format("dddd DD. MMMM YYYY")},J=(e,a,s,n,r)=>{if(!s&&a)return e.formatMessage({id:"uttaksplaninfo.Uker.beskrivelseOmsorgsovertakelse"},{dato:r});if(!s&&!n)return e.formatMessage({id:"uttaksplaninfo.Uker.beskrivelseTermin"},{dato:r})},qe=(e,a)=>a?e.formatMessage({id:"uttaksplaninfo.Uker.soker.dere"}):e.formatMessage({id:"uttaksplaninfo.Uker.soker.du"}),H=({mellomlagreSøknadOgNaviger:e,barn:a,søkersituasjon:s,stønadskonto100:n,stønadskonto80:r})=>{const o=C(),u=Q("circle"),c=h(g.PERIODE_MED_FORELDREPENGER),i=_(h(g.ANNEN_FORELDER)),f=y(g.PERIODE_MED_FORELDREPENGER),v=y(g.APP_ROUTE),d=be({defaultValues:c}),E=se=>(f(se),v(A.UTTAKSPLAN_INFO),e()),S=()=>{v(A.ANNEN_FORELDER),e()},p=T(i)&&(i.harRettPåForeldrepengerINorge===!0||i.harRettPåForeldrepengerIEØS===!0),F=ee(a),x=te(a),j=ne(a),R=Se(x,j,s.situasjon),D=R&&x&&j?oe({fom:x,tom:j}).getAntallUttaksdager()-1:void 0,ae=W(n,a),re=W(r,a),b=qe(o,p);return t.jsx(Pe,{formMethods:d,onSubmit:E,children:t.jsxs(P,{gap:"10",children:[t.jsx(Re,{}),t.jsxs(P,{gap:"4",children:[t.jsxs(_e,{name:"dekningsgrad",description:p?t.jsx(l,{id:"uttaksplaninfo.dekningsgrad.beskrivelse"}):t.jsx(l,{id:"uttaksplaninfo.dekningsgrad.beskrivelse.alene"}),label:p?t.jsx(l,{id:"uttaksplaninfo.dekningsgrad.label.deltUttak"}):t.jsx(l,{id:"uttaksplaninfo.dekningsgrad.label.ikkeDeltUttak"}),validate:[fe(o.formatMessage({id:"DekningsgradForm.MåOppgiDekningsgrad"},{soker:b}))],children:[t.jsx(K,{value:m.HUNDRE_PROSENT,description:J(o,F,s.rolle==="far",!!x,ae),children:t.jsx(l,{id:"uttaksplaninfo.49Uker",values:{antallUker:N(n)}})}),t.jsx(K,{value:m.ÅTTI_PROSENT,description:J(o,F,s.rolle==="far",!!x,re),children:t.jsx(l,{id:"uttaksplaninfo.59Uker",values:{antallUker:N(r)}})})]}),t.jsxs(le,{header:p?t.jsx(l,{id:"uttaksplaninfo.veileder.dekningsgrad.header"}):t.jsx(l,{id:"uttaksplaninfo.veileder.dekningsgrad.header.alene"}),children:[t.jsx(l,{id:"uttaksplaninfo.veileder.dekningsgrad"}),t.jsxs(Ie,{href:Ne.søknadsfrister,target:"_blank",children:[t.jsx(l,{id:"uttaksplaninfo.veileder.dekningsgrad.link"}),t.jsx(Ve,{title:"a11y-title",fontSize:"1.5rem"})]})]})]}),R&&!!D&&t.jsx(B,{padding:"4",background:"surface-action-subtle",children:t.jsxs(V,{justify:"space-between",align:"start",children:[t.jsxs(P,{gap:"2",style:{width:"85%"},children:[t.jsx(M,{size:"xsmall",children:t.jsx(l,{id:"DekningsgradForm.InformasjonPrematurukerHeader",values:{soker:w(b)}})}),t.jsx(U,{children:t.jsx(l,{id:"DekningsgradForm.InformasjonPrematuruker",values:{uker:Math.floor(D/5),dager:D%5,soker:p?o.formatMessage({id:"uttaksplaninfo.Uker.soker.dere"}):o.formatMessage({id:"uttaksplaninfo.Uker.soker.deg"})}})})]}),t.jsx("div",{className:u.block,children:t.jsx(Y,{height:24,width:24,color:"#3386E0"})})]})}),a.antallBarn>1&&t.jsx(B,{padding:"4",background:"surface-action-subtle",children:t.jsxs(V,{justify:"space-between",align:"start",children:[t.jsxs(P,{gap:"2",style:{width:"85%"},children:[t.jsxs(M,{size:"xsmall",children:[a.antallBarn===2&&t.jsx(l,{id:"DekningsgradForm.InformasjonToBarn",values:{sokerStorBokstav:w(b),soker:b}}),a.antallBarn>2&&t.jsx(l,{id:"DekningsgradForm.InformasjonFlereEnnToBarn",values:{sokerStorBokstav:w(b),soker:b}})]}),t.jsx(U,{children:t.jsx(l,{id:"DekningsgradForm.InformasjonFlerbarnUker",values:{uker80:z(m.ÅTTI_PROSENT,a.antallBarn),uker100:z(m.HUNDRE_PROSENT,a.antallBarn),soker:b}})})]}),t.jsx("div",{className:u.block,children:t.jsx(Y,{height:24,width:24,color:"#3386E0"})})]})}),t.jsx(Oe,{goToPreviousStep:S})]})})};try{H.displayName="DekningsgradForm",H.__docgenInfo={description:"",displayName:"DekningsgradForm",props:{mellomlagreSøknadOgNaviger:{defaultValue:null,description:"",name:"mellomlagreSøknadOgNaviger",required:!0,type:{name:"() => Promise<void>"}},barn:{defaultValue:null,description:"",name:"barn",required:!0,type:{name:"Barn"}},søkersituasjon:{defaultValue:null,description:"",name:"søkersituasjon",required:!0,type:{name:"SøkersituasjonFp"}},stønadskonto100:{defaultValue:null,description:"",name:"stønadskonto100",required:!0,type:{name:"TilgjengeligStønadskonto[]"}},stønadskonto80:{defaultValue:null,description:"",name:"stønadskonto80",required:!0,type:{name:"TilgjengeligStønadskonto[]"}}}}}catch{}const q=({mellomlagreSøknadOgNaviger:e,fornavnAnnenForelder:a,kjønnAnnenForelder:s,dekningsgrad:n,valgtStønadskonto:r})=>{const o=C(),u=Q("circle"),c=y(g.PERIODE_MED_FORELDREPENGER),i=y(g.APP_ROUTE),[f,v]=k.useState(!1),d=()=>(v(!0),c({dekningsgrad:n}),i(A.UTTAKSPLAN_INFO),e()),E=()=>{i(A.ANNEN_FORELDER),e()},S=N(r);return t.jsxs(P,{gap:"10",children:[t.jsx(B,{padding:"4",background:"surface-action-subtle",children:t.jsxs(V,{justify:"space-between",align:"start",children:[t.jsxs(P,{gap:"2",style:{width:"85%"},children:[t.jsx(M,{size:"xsmall",children:t.jsx(l,{id:"DekningsgradValgtAvAnnenPartPanel.Heading",values:{uker:de(S*5,o),dekningsgrad:n}})}),t.jsx(U,{children:s==="M"?t.jsx(l,{id:"DekningsgradValgtAvAnnenPartPanel.ValgtAvHans",values:{navn:a}}):t.jsx(l,{id:"DekningsgradValgtAvAnnenPartPanel.ValgtAvHennes",values:{navn:a}})})]}),t.jsx("div",{className:u.block,children:t.jsx(ye,{height:24,width:24,color:"#3386E0"})})]})}),t.jsx(Te,{isDisabledAndLoading:f,nextButtonOnClick:d,goToPreviousStep:E})]})};try{q.displayName="DekningsgradValgtAvAnnenPartPanel",q.__docgenInfo={description:"",displayName:"DekningsgradValgtAvAnnenPartPanel",props:{mellomlagreSøknadOgNaviger:{defaultValue:null,description:"",name:"mellomlagreSøknadOgNaviger",required:!0,type:{name:"() => Promise<void>"}},fornavnAnnenForelder:{defaultValue:null,description:"",name:"fornavnAnnenForelder",required:!0,type:{name:"string"}},kjønnAnnenForelder:{defaultValue:null,description:"",name:"kjønnAnnenForelder",required:!1,type:{name:"enum",value:[{value:'"M"'},{value:'"K"'}]}},dekningsgrad:{defaultValue:null,description:"",name:"dekningsgrad",required:!0,type:{name:"enum",value:[{value:'"80"'},{value:'"100"'}]}},valgtStønadskonto:{defaultValue:null,description:"",name:"valgtStønadskonto",required:!0,type:{name:"TilgjengeligStønadskonto[]"}}}}}catch{}const Le=(e,a)=>{var r;const s=T(e)&&e.utenlandskFnr===!1?e.fnr:void 0,n=pe(a)&&a.fnr!==void 0&&((r=a.fnr)==null?void 0:r.length)>0?a.fnr[0]:void 0;return{annenPartFødselsnummer:s,barnFødselsnummer:n,familiehendelse:me(a)}},Ce=e=>{const a=T(e)&&e.utenlandskFnr!==!0?e.fnr:void 0;return!(a!==void 0&&a!=="")},L=({mellomlagreSøknadOgNaviger:e,avbrytSøknad:a})=>{const s=C(),n=je(),r=_(h(g.ANNEN_FORELDER)),o=_(h(g.OM_BARNET)),u=_(h(g.SØKER)),c=_(h(g.SØKERSITUASJON)),i=h(g.BARN_FRA_NESTE_SAK),f=h(g.EKSISTERENDE_SAK),v=Ce(r),{data:d,requestStatus:E}=xe(I.ANNEN_PART_VEDTAK,Le(r,o),v),S=he(o,r,c,u,i,d,f),p=v?!1:E!==Fe.FINISHED,{data:F}=G(I.STØNADSKONTOER_80,S.stønadskontoParams80,p),{data:x}=G(I.STØNADSKONTOER_100,S.stønadskontoParams100,p),j=F&&x?Ee(F,x):void 0,R=d&&d.perioder.length>0;return t.jsxs(ge,{bannerTitle:s.formatMessage({id:"søknad.pageheading"}),activeStepId:"periodeMedForeldrepenger",onCancel:a,onContinueLater:n,steps:ve(s,!1),children:[!j&&t.jsx("div",{style:{textAlign:"center",padding:"12rem 0"},children:t.jsx(ue,{size:"2xlarge"})}),j&&t.jsxs(t.Fragment,{children:[R&&T(r)&&t.jsx(q,{mellomlagreSøknadOgNaviger:e,fornavnAnnenForelder:r.fornavn,kjønnAnnenForelder:ce(r),dekningsgrad:d.dekningsgrad===$.HUNDRE_PROSENT?m.HUNDRE_PROSENT:m.ÅTTI_PROSENT,valgtStønadskonto:j[d.dekningsgrad===$.HUNDRE_PROSENT?m.HUNDRE_PROSENT:m.ÅTTI_PROSENT]}),!R&&t.jsx(H,{mellomlagreSøknadOgNaviger:e,barn:o,søkersituasjon:c,stønadskonto100:j[m.HUNDRE_PROSENT],stønadskonto80:j[m.ÅTTI_PROSENT]})]})]})},mt=L;try{L.displayName="PeriodeMedForeldrepengerSteg",L.__docgenInfo={description:"",displayName:"PeriodeMedForeldrepengerSteg",props:{mellomlagreSøknadOgNaviger:{defaultValue:null,description:"",name:"mellomlagreSøknadOgNaviger",required:!0,type:{name:"() => Promise<void>"}},avbrytSøknad:{defaultValue:null,description:"",name:"avbrytSøknad",required:!0,type:{name:"() => void"}}}}}catch{}export{mt as P};
