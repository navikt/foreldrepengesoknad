{"version":3,"file":"util-d3347328.js","sources":["../../src/app/steps/manglende-vedlegg/util.ts"],"sourcesContent":["import { Attachment, InnsendingsType } from 'app/types/Attachment';\nimport { AttachmentType } from 'app/types/AttachmentType';\n\nconst isArrayOfAttachments = (object: any) => {\n    return (\n        Array.isArray(object) &&\n        object[0] !== null &&\n        object.some((element) => element && element.innsendingsType === InnsendingsType.SEND_SENERE)\n    );\n};\n\nexport const isAttachmentForPeriode = (type: AttachmentType) =>\n    type === AttachmentType.UTSETTELSE_SYKDOM ||\n    type === AttachmentType.MORS_AKTIVITET_DOKUMENTASJON ||\n    type === AttachmentType.HV_ØVELSE ||\n    type === AttachmentType.NAV_TILTAK ||\n    type === AttachmentType.OVERFØRING_KVOTE;\n\nexport const finnSendSenereVedlegg = (\n    object: any,\n    currentKey?: string,\n    previousEntries?: Map<string, Attachment[]>\n): Map<string, Attachment> => {\n    if (object === null || object === undefined) {\n        return new Map();\n    }\n\n    const path: string = currentKey || 'søknad';\n    let foundAttachments = previousEntries || new Map();\n    Object.keys(object).forEach((key: string) => {\n        if (typeof object[key] === 'object') {\n            if (isArrayOfAttachments(object[key])) {\n                foundAttachments.set(path + '.' + key, object[key][0]);\n            } else {\n                foundAttachments = finnSendSenereVedlegg(object[key], path + '.' + key, foundAttachments);\n            }\n        }\n    });\n    return foundAttachments;\n};\n"],"names":["isArrayOfAttachments","object","element","InnsendingsType","isAttachmentForPeriode","type","AttachmentType","finnSendSenereVedlegg","currentKey","previousEntries","path","foundAttachments","key"],"mappings":"sGAGA,MAAMA,EAAwBC,GAEtB,MAAM,QAAQA,CAAM,GACpBA,EAAO,CAAC,IAAM,MACdA,EAAO,KAAMC,GAAYA,GAAWA,EAAQ,kBAAoBC,EAAgB,WAAW,EAItFC,EAA0BC,GACnCA,IAASC,EAAe,mBACxBD,IAASC,EAAe,8BACxBD,IAASC,EAAe,WACxBD,IAASC,EAAe,YACxBD,IAASC,EAAe,iBAEfC,EAAwB,CACjCN,EACAO,EACAC,IAC0B,CACtB,GAAAR,GAAW,KACX,WAAW,IAGf,MAAMS,EAAeF,GAAc,SAC/B,IAAAG,EAAmBF,GAAmB,IAAI,IAC9C,cAAO,KAAKR,CAAM,EAAE,QAASW,GAAgB,CACrC,OAAOX,EAAOW,CAAG,GAAM,WACnBZ,EAAqBC,EAAOW,CAAG,CAAC,EACfD,EAAA,IAAID,EAAO,IAAME,EAAKX,EAAOW,CAAG,EAAE,CAAC,CAAC,EAErDD,EAAmBJ,EAAsBN,EAAOW,CAAG,EAAGF,EAAO,IAAME,EAAKD,CAAgB,EAEhG,CACH,EACMA,CACX"}