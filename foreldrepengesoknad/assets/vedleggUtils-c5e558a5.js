import{g as l}from"./validationUtils-00d66cf2.js";import"./jsx-runtime-670450c2.js";import"./index-7e4e529b.js";import"./index-f1f749bf.js";import{I as c}from"./Attachment-a8e5b8d1.js";const g=()=>"V".concat(l().replace(/-/g,"")),f=(e,t,i,r)=>({id:g(),file:e,filename:e.name,filesize:e.size,uploaded:!1,pending:!1,type:t,skjemanummer:i,innsendingsType:r}),d=({pending:e,uploaded:t,filesize:i})=>e===!1&&t===!1||i===0,p=(e,t)=>f({name:"",size:""},e,t,c.SEND_SENERE),N=(e,t,i)=>e.length===0?[p(t,i)]:e.length===1?e:e.filter(r=>r.innsendingsType!==c.SEND_SENERE),E=e=>Array.isArray(e)&&e[0]!==null&&e.every(t=>t&&(t.filename||t.innsendingsType===c.SEND_SENERE)),m=e=>e.filter(t=>!d(t)||t.innsendingsType===c.SEND_SENERE),u=e=>{if(e==null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t==null?!0:t===Object.prototype},a=(e,t)=>{if(Array.isArray(e))return e.map(r=>a(r,t));if(!u(e))return e;const i={};return Object.keys(e).forEach(r=>{const n=e[r];if(typeof n=="object")if(E(n)){const s=m(n);t.push(...s),i[r]=n.filter(o=>s.includes(o)).map(o=>o.id)}else Array.isArray(n)?i[r]=n.map(s=>a(s,t)):i[r]=a(n,t);else i[r]=n}),i},D=e=>{const t=[],i=a(e,t),r=t.reduce((n,s)=>(n.find(o=>o.id===s.id)||n.push(s),n),[]);return{...i,vedlegg:r}},O=e=>{e.forEach(t=>{if(t.vedlegg){const i=t.vedlegg.map(r=>r.id);e.forEach(r=>{t!==r&&t.vedlegg&&r.vedlegg&&r.vedlegg.forEach(n=>{i.includes(n.id)&&r.vedlegg.splice(r.vedlegg.indexOf(n),1)})})}})};export{p as a,m as b,d as c,f as d,E as i,N as l,D as m,O as r};
//# sourceMappingURL=vedleggUtils-c5e558a5.js.map
