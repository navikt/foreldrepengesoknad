{"version":3,"file":"index-47edccfa.js","sources":["../../../../node_modules/.pnpm/@navikt+sif-common-question-config@0.0.7/node_modules/@navikt/sif-common-question-config/lib/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.questionValueIsOk = (value) => {\n    return value !== undefined && value !== '';\n};\nconst isQuestionVisible = (questions, question, payload) => {\n    const config = questions[question];\n    if (!config) {\n        return false;\n    }\n    if (config.isIncluded && config.isIncluded(payload) === false) {\n        return false;\n    }\n    if (config.visibilityFilter && config.visibilityFilter(payload) === false) {\n        return false;\n    }\n    if (config.parentQuestion !== undefined) {\n        const parentQuestion = questions[config.parentQuestion];\n        return isQuestionVisible(questions, config.parentQuestion, payload) && parentQuestion.isAnswered(payload);\n    }\n    return true;\n};\nconst isQuestionAnswered = (questions, question, payload) => {\n    const config = questions[question];\n    if (!config || !config.isAnswered) {\n        return false;\n    }\n    return config.isAnswered(payload);\n};\nconst isQuestionIncluded = (questions, question, payload) => {\n    const config = questions[question];\n    if (!config) {\n        return false;\n    }\n    return config.isIncluded ? config.isIncluded(payload) : true;\n};\nconst areAllQuestionsAnswered = (questions, payload) => {\n    let allQuestionsHasAnswers = true;\n    Object.keys(questions).forEach((key) => {\n        const question = questions[key];\n        if (isQuestionVisible(questions, key, payload)) {\n            const isOptional = question.isOptional !== undefined ? question.isOptional(payload) === true : false;\n            allQuestionsHasAnswers = allQuestionsHasAnswers === true && (question.isAnswered(payload) || isOptional);\n        }\n    });\n    return allQuestionsHasAnswers;\n};\nconst getIncludedQuestions = (questions, payload) => {\n    const keys = Object.keys(questions).filter((key) => {\n        return isQuestionIncluded(questions, key, payload);\n    });\n    return keys;\n};\nconst validateQuestion = (value, questions, question, payload) => {\n    const config = questions[question];\n    if (!config || !config.validate) {\n        return undefined;\n    }\n    return config.validate(payload);\n};\nexports.Questions = (questions) => ({\n    getVisbility: (payload) => ({\n        validate: (key) => (value) => validateQuestion(value, questions, key, payload),\n        isVisible: (key) => isQuestionVisible(questions, key, payload),\n        isAnswered: (key) => isQuestionAnswered(questions, key, payload),\n        isIncluded: (key) => isQuestionIncluded(questions, key, payload),\n        areAllQuestionsAnswered: () => areAllQuestionsAnswered(questions, payload),\n        getIncludedQuestions: () => getIncludedQuestions(questions, payload),\n    }),\n    getQuestionVisbilityInfo: (key, payload) => {\n        const info = {\n            validate: (value) => validateQuestion(value, questions, key, payload),\n            isVisible: () => isQuestionVisible(questions, key, payload),\n            isAnswered: () => isQuestionAnswered(questions, key, payload),\n        };\n        return info;\n    },\n});\n"],"names":["lib","value","isQuestionVisible","questions","question","payload","config","parentQuestion","isQuestionAnswered","isQuestionIncluded","areAllQuestionsAnswered","allQuestionsHasAnswers","key","isOptional","getIncludedQuestions","validateQuestion","Questions"],"mappings":"SACA,OAAO,eAAeA,EAAS,aAAc,CAAE,MAAO,EAAI,CAAE,EACnCA,EAAA,kBAAIC,GAClBA,IAAU,QAAaA,IAAU,GAE5C,MAAMC,EAAoB,CAACC,EAAWC,EAAUC,IAAY,CACxD,MAAMC,EAASH,EAAUC,CAAQ,EAOjC,GANI,CAACE,GAGDA,EAAO,YAAcA,EAAO,WAAWD,CAAO,IAAM,IAGpDC,EAAO,kBAAoBA,EAAO,iBAAiBD,CAAO,IAAM,GAChE,MAAO,GAEX,GAAIC,EAAO,iBAAmB,OAAW,CACrC,MAAMC,EAAiBJ,EAAUG,EAAO,cAAc,EACtD,OAAOJ,EAAkBC,EAAWG,EAAO,eAAgBD,CAAO,GAAKE,EAAe,WAAWF,CAAO,EAE5G,MAAO,EACX,EACMG,EAAqB,CAACL,EAAWC,EAAUC,IAAY,CACzD,MAAMC,EAASH,EAAUC,CAAQ,EACjC,MAAI,CAACE,GAAU,CAACA,EAAO,WACZ,GAEJA,EAAO,WAAWD,CAAO,CACpC,EACMI,EAAqB,CAACN,EAAWC,EAAUC,IAAY,CACzD,MAAMC,EAASH,EAAUC,CAAQ,EACjC,OAAKE,EAGEA,EAAO,WAAaA,EAAO,WAAWD,CAAO,EAAI,GAF7C,EAGf,EACMK,EAA0B,CAACP,EAAWE,IAAY,CACpD,IAAIM,EAAyB,GAC7B,cAAO,KAAKR,CAAS,EAAE,QAASS,GAAQ,CACpC,MAAMR,EAAWD,EAAUS,CAAG,EAC9B,GAAIV,EAAkBC,EAAWS,EAAKP,CAAO,EAAG,CAC5C,MAAMQ,EAAaT,EAAS,aAAe,OAAYA,EAAS,WAAWC,CAAO,IAAM,GAAO,GAC/FM,EAAyBA,IAA2B,KAASP,EAAS,WAAWC,CAAO,GAAKQ,GAEzG,CAAK,EACMF,CACX,EACMG,EAAuB,CAACX,EAAWE,IACxB,OAAO,KAAKF,CAAS,EAAE,OAAQS,GACjCH,EAAmBN,EAAWS,EAAKP,CAAO,CACpD,EAGCU,EAAmB,CAACd,EAAOE,EAAWC,EAAUC,IAAY,CAC9D,MAAMC,EAASH,EAAUC,CAAQ,EACjC,GAAI,GAACE,GAAU,CAACA,EAAO,UAGvB,OAAOA,EAAO,SAASD,CAAO,CAClC,EACiB,IAAAW,EAAAhB,EAAA,UAAIG,IAAe,CAChC,aAAeE,IAAa,CACxB,SAAWO,GAASX,GAAUc,EAAiBd,EAAOE,EAAWS,EAAKP,CAAO,EAC7E,UAAYO,GAAQV,EAAkBC,EAAWS,EAAKP,CAAO,EAC7D,WAAaO,GAAQJ,EAAmBL,EAAWS,EAAKP,CAAO,EAC/D,WAAaO,GAAQH,EAAmBN,EAAWS,EAAKP,CAAO,EAC/D,wBAAyB,IAAMK,EAAwBP,EAAWE,CAAO,EACzE,qBAAsB,IAAMS,EAAqBX,EAAWE,CAAO,CAC3E,GACI,yBAA0B,CAACO,EAAKP,KACf,CACT,SAAWJ,GAAUc,EAAiBd,EAAOE,EAAWS,EAAKP,CAAO,EACpE,UAAW,IAAMH,EAAkBC,EAAWS,EAAKP,CAAO,EAC1D,WAAY,IAAMG,EAAmBL,EAAWS,EAAKP,CAAO,CACxE,EAGA","x_google_ignoreList":[0]}