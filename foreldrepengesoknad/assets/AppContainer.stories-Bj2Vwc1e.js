import{j as i}from"./jsx-runtime-CexXSJP5.js";import{M as sn}from"./index-DfkQcp4z.js";import{n as on,a as _t,u as bt,b as Mt,o as Lt,c as an}from"./app-BIvDkqRA.js";import{r as A}from"./index-BP8_t0zE.js";import{s as dn,g as ln}from"./apiInterceptor-D-WKbiXB.js";import{j as un,w as pn,k as kn,A as rt,f as mn,S as cn,m as gn,U as fn,I as En,B as vn,i as Sn}from"./ByttBrowserModal-B57CghBC.js";import{ad as An,a4 as Fn,d as b,U as T,aa as ue,aF as hn,aw as Ie,u as lt,B as le,i as De,M as Oe,v as ye,f as nt,aG as M,af as z,ah as sr,aH as Pn,b as Kt,ac as Tn,L as or,aI as ar}from"./Tidsperioden-CVu3e1Oj.js";import{c as Un}from"./index-CSpfAsmC.js";import"./_baseToString-7VaozA17.js";import"./_createSet-W-93wHM-.js";import{aw as Nn,L as H,ax as ir,ay as dr,az as xt,O as Re,Q as lr,w as ge,v as ee,W as O,_ as ur,Z as U,N as fe,av as On,aA as jn,T as v,a0 as Bt,a2 as Ze,S as N,a8 as Dn,aB as pr,M as yn,aC as Rn,a9 as In,aa as _n,aD as bn,aE as Mn,ad as Vt,V as Q,aF as Ln,aG as Kn,aH as st,U as ot,aj as xn,af as kr,aI as ut,ab as Bn,u as Vn,r as Gn,G as wn,y as qn,x as Hn,z as Jn,a7 as Cn,aJ as Gt,aK as Yn,aL as $n,D as wt,aM as Wn,C as zn,aN as Qn,aO as Zn,aP as Xn,aQ as es}from"./useFpNavigator-DfueqWWJ.js";import{B as ts}from"./index-B7mNXEx0.js";import{k as mr,j as rs,h as cr,m as ns,E as Xe}from"./dateUtils-DbdlEdh8.js";import{F as ss,l as os,A as oe}from"./Feilside-BcxOTnPu.js";import{g as y}from"./guid-CsArkN6i.js";import{n as I,i as as,k as is,j as ds,a as pt,g as gr,h as ls,b as us,l as ps,m as L,o as qt}from"./index-BiY12grZ.js";import{a as ks}from"./globalUtil-Ds9yPXt7.js";import"./dateFormValidation-CqgFG339.js";import{C as m,c as ms,d as fr,u as q,a as X,e as cs,F as gs}from"./FpDataContext-QYm6HSmG.js";import{j as _e,c as Er,l as vr}from"./barnUtils-dX2Mcj_O.js";import{l as fs}from"./links-BP9VcYJA.js";import{V as Es}from"./Velkommen-DmfzRUhU.js";import{A as vs}from"./AnnenForelderSteg-Cc_c4SUi.js";import{a as Ht,O as ne,F as Ss}from"./FordelingSteg-CiCAdled.js";import{I as As}from"./Inntektsinformasjon-CKWstlIY.js";import{M as Jt}from"./ManglendeVedlegg-FJrOkSQs.js";import{O as Fs}from"./OmBarnetSteg-DR6bji-V.js";import{O as Ct}from"./Oppsummering-5f8UjL0H.js";import{P as hs}from"./PeriodeMedForeldrepengerSteg-BOfreAzb.js";import{S as Ps}from"./SøkersituasjonSteg-DKJpvqn6.js";import{U as Ts}from"./UtenlandsoppholdSteg-tiAPcIaD.js";import{S as Us}from"./SenereUtenlandsoppholdSteg-D2I2-2Pk.js";import{T as Ns}from"./TidligereUtenlandsoppholdSteg-B83WV-1d.js";import{S as $}from"./innsendingsType-DprMYF-V.js";import{g as Os}from"./Næring-DTkFKy-x.js";import{u as et,a as tt,b as js,g as Ds,F as ys}from"./getStønadskontoParams-wBK7KAf5.js";import{I as Rs}from"./InfoOmNesteBarn-3amIUmxj.js";import{R as se}from"./useRequest-CFQAQyG8.js";import{c as Is,d as _s}from"./eksisterendeSakUtils-BlRm23RG.js";import{M as W}from"./message-Dwe4nq4q.js";import{H as bs,B as Yt}from"./Link-DYtqBS4e.js";import{H as Ms}from"./VStack-B0aVlvzw.js";import{g as $t}from"./numberUtils-DnoB-1sH.js";import"./BoIUtlandetOppsummeringspunkt-VpmB2wzH.js";import"./Accordion-CHRb_2cG.js";import"./TidligereUtenlandsoppholdPanel-CWXNkFCw.js";import"./ErrorSummaryHookForm-CyzaI7PF.js";import"./amplitude.esm-6vgTx8-c.js";import"./index-Snk9MO9S.js";import"./index-BxmsGmlx.js";import"./iframe-C2Yac_Cr.js";import"../sb-preview/runtime.js";import"./_baseForOwn-BL0n5IRD.js";import"./_baseUniq-DaL16s-J.js";import"./DinePlikter-DGYjawLz.js";import"./DinePersonopplysningerModal-DegurVrX.js";import"./velkommenUtils-BJfERGrn.js";import"./RegistrertePersonalia-CgGiTgAw.js";import"./BabyWrapped-BSSrKOGG.js";import"./validationUtil-B1Ni6_9v.js";import"./isString-8DPu1bN4.js";import"./attachmentMetadataType-B9XvXCfe.js";import"./InteractiveListElement-B4nUqWDk.js";import"./vedleggUtils-BXN25_YW.js";import"./FormikFileUploader-Xi0ZrGK7.js";import"./AttachmentList-Cv1_A8rv.js";import"./Attachment-MoCKs8kO.js";import"./util-4kAjwtpz.js";const Ls=[{fom:"2022-12-12",tom:"2023-02-17",kontoType:"FEDREKVOTE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},samtidigUttak:100,flerbarnsdager:!1},{fom:"2023-02-20",tom:"2023-03-05",kontoType:"FELLESPERIODE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},samtidigUttak:50,flerbarnsdager:!1},{fom:"2023-03-20",tom:"2023-03-31",kontoType:"FEDREKVOTE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},flerbarnsdager:!1}],Ks="HUNDRE",xs={perioder:Ls,dekningsgrad:Ks},Bs="2019-02-01",Vs="23123",Gs={innsendingstidspunkt:Bs,pdf:Vs},ws=[{saksnummer:"352011594",sakAvsluttet:!1,sisteSøknadMottattDato:"2023-03-31",kanSøkeOmEndring:!1,sakTilhørerMor:!1,gjelderAdopsjon:!0,morUføretrygd:!1,harAnnenForelderTilsvarendeRettEØS:!1,ønskerJustertUttakVedFødsel:!1,rettighetType:"BEGGE_RETT",annenPart:{type:"person",fnr:"05489305072",fornavn:"Sentral",etternavn:"Tangent"},familiehendelse:{fødselsdato:"2023-02-01",antallBarn:1,omsorgsovertakelse:"2023-04-10"},åpenBehandling:{tilstand:"VENT_INNTEKTSMELDING",søknadsperioder:[{fom:"2023-04-10",tom:"2023-07-21",kontoType:"FEDREKVOTE",flerbarnsdager:!1},{fom:"2023-07-24",tom:"2023-09-15",kontoType:"FELLESPERIODE",morsAktivitet:"UTDANNING",flerbarnsdager:!1}]},barn:[],dekningsgrad:"HUNDRE"}],qs=[],Hs={foreldrepenger:ws,engangsstønad:[],svangerskapspenger:qs},Js={MØDREKVOTE:95,FEDREKVOTE:95,FELLESPERIODE:90,FORELDREPENGER_FØR_FØDSEL:15},Cs={farRundtFødsel:0,generellMinsterett:0,toTette:0},Ys={kontoer:Js,minsteretter:Cs},$s={MØDREKVOTE:75,FEDREKVOTE:75,FELLESPERIODE:80,FORELDREPENGER_FØR_FØDSEL:15},Ws={farRundtFødsel:0,generellMinsterett:0,toTette:0},zs={kontoer:$s,minsteretter:Ws},Qs={MØDREKVOTE:95,FEDREKVOTE:95,FELLESPERIODE:90,FORELDREPENGER_FØR_FØDSEL:15,FORELDREPENGER:80},Zs={},Xs={kontoer:Qs,minsteretter:Zs},eo="From {fom} until {tom}",to={tidsperiode:eo,"tidsperiode.kort":"{fom} - {tom}"},ro="Fra {fom} til {tom}",no={tidsperiode:ro,"tidsperiode.kort":"{fom} - {tom}"},so="Frå {fom} til {tom}",oo={tidsperiode:so,"tidsperiode.kort":"{fom} - {tom}"},ao=e=>{window.location.href=e},Wt={nb:no,nn:oo,en:to};function io(e){A.useEffect(()=>{const t=document.title;return document.title=e,()=>{document.title=t}},[e])}const Sr="selectedLocale",lo=()=>sessionStorage.getItem(Sr)||"nb",uo=e=>{sessionStorage.setItem(Sr,e)},po={"uttaksplan.familiehendelsesdato.født":"{antallBarn, plural, one{Barnet} other {Barna}} er født {dato}","uttaksplan.familiehendelsesdato.termin":"Termin {dato}","uttaksplan.familiehendelsesdato.adopsjon":"{antallBarn, plural, one{Barnet} other {Barna}} er adoptert {dato}"},ko={"uttaksplan.familiehendelsesdato.født":"{antallBarn, plural, one{Barnet} other {Barna}} er født {dato}","uttaksplan.familiehendelsesdato.termin":"Termin {dato}","uttaksplan.familiehendelsesdato.adopsjon":"{antallBarn, plural, one{Barnet} other {Barna}} er adoptert {dato}"},mo={"uttaksplan.familiehendelsesdato.født":"{antallBarn, plural, one{Barnet} other {Barna}} er født {dato}","uttaksplan.familiehendelsesdato.termin":"Termin {dato}","uttaksplan.familiehendelsesdato.adopsjon":"{antallBarn, plural, one{Barnet} other {Barna}} er adoptert {dato}"},co={"kalender.fødsel":"Birth","kalender.termin":"Due date","kalender.adopsjon":"Adoption","kalender.avslåttePerioder":"Rejected periods are not displayed in the calendar.","kalender.dinPeriode":"Your period","kalender.dinPeriode.gradert":"You combine work and parental benefits","kalender.annenPartPeriode":"{navnAnnenPart} period","kalender.samtidigUttak":"You and {navnAnnenPart} are on leave at the same time","kalender.dinUtsettelse":"You postpone parental benefits","kalender.utsettelseAnnenPart":"{navnAnnenPart} postpones parental benefits","kalender.helg":"Weekend (not days with parental allowance)","kalender.tapteDager":"Days you can lose","kalender.utsettelse":"You postpone parental benefits due to {reason}","kalender.utsettelse.ARBEID":"because you are working","kalender.utsettelse.INSTITUSJONSOPPHOLD_BARNET":"because the child is hospitalized","kalender.utsettelse.INSTITUSJONSOPPHOLD_SØKER":"because you are hospitalized","kalender.utsettelse.LOVBESTEMT_FERIE":"because you are on statutory holiday","kalender.utsettelse.SYKDOM":"because you are ill","kalender.utsettelse.HV_OVELSE":"due to exercises or service in the Home Guard","kalender.utsettelse.NAV_TILTAK":"due to NAV measures that constitute 100% work","kalender.lastNed":"Download the calendar as PDF","kalender.skjermleser.familiehendelse":"{familiehendelsenavn} on {dato}","kalender.skjermleser.periode":"{periodeNavn} from the {fraDato} until the {tilDato}"},go={"kalender.fødsel":"Fødsel","kalender.termin":"Termin","kalender.adopsjon":"Adopsjon","kalender.avslåttePerioder":"Avslåtte perioder vises ikke i kalenderen.","kalender.dinPeriode":"Din periode","kalender.dinPeriode.gradert":"Du kombinerer jobb og foreldrepenger","kalender.annenPartPeriode":"{navnAnnenPart} periode","kalender.samtidigUttak":"Du og {navnAnnenPart} har permisjon samtidig","kalender.dinUtsettelse":"Du utsetter foreldrepenger","kalender.utsettelseAnnenPart":"{navnAnnenPart} utsetter foreldrepenger","kalender.helg":"Helg (er ikke dager med foreldrepenger)","kalender.tapteDager":"Dager du kan tape","kalender.utsettelse":"Du utsetter foreldrepenger {årsak}","kalender.utsettelse.ARBEID":"fordi du skal jobbe","kalender.utsettelse.INSTITUSJONSOPPHOLD_BARNET":"fordi barnet er innlagt","kalender.utsettelse.INSTITUSJONSOPPHOLD_SØKER":"fordi du er innlagt","kalender.utsettelse.LOVBESTEMT_FERIE":"fordi du er på ferie","kalender.utsettelse.SYKDOM":"fordi du er syk","kalender.utsettelse.HV_OVELSE":"pga. øvelse eller tjeneste i Heimevernet","kalender.utsettelse.NAV_TILTAK":"pga. NAV tiltak som utgjør 100% arbeid","kalender.lastNed":"Last ned kalender som PDF","kalender.skjermleser.familiehendelse":"{familiehendelsenavn} den {dato}","kalender.skjermleser.periode":"{periodeNavn} fra den {fraDato} til den {tilDato}"},fo={"kalender.fødsel":"Fødsel","kalender.termin":"Termin","kalender.adopsjon":"Adopsjon","kalender.avslåttePerioder":"Avslåtte periodar vises ikkje i kalenderen.","kalender.dinPeriode":"Din periode","kalender.dinPeriode.gradert":"Du kombinerer jobb og foreldrepengar","kalender.annenPartPeriode":"{navnAnnenPart} periode","kalender.samtidigUttak":"Du og {navnAnnenPart} har permisjon samtidig","kalender.dinUtsettelse":"Du utsetter foreldrepengar","kalender.utsettelseAnnenPart":"{navnAnnenPart} utsetter foreldrepengar","kalender.helg":"Helg (er ikkje dagar med foreldrepengar)","kalender.tapteDager":"Dagar du kan tape","kalender.utsettelse":"Du utsetter foreldrepengar {årsak}","kalender.utsettelse.ARBEID":"fordi du skal jobbe","kalender.utsettelse.INSTITUSJONSOPPHOLD_BARNET":"fordi barnet er innlagt","kalender.utsettelse.INSTITUSJONSOPPHOLD_SØKER":"fordi du er innlagt","kalender.utsettelse.LOVBESTEMT_FERIE":"fordi du er på ferie","kalender.utsettelse.SYKDOM":"fordi du er sjuk","kalender.utsettelse.HV_OVELSE":"pga. øving eller teneste i Heimevernet","kalender.utsettelse.NAV_TILTAK":"pga. NAV tiltak som utgjer 100% arbeid","kalender.lastNed":"Last ned kalender som PDF","kalender.skjermleser.familiehendelse":"{familiehendelsenavn} den {dato}","kalender.skjermleser.periode":"{periodeNavn} fra den {fraDato} til den {tilDato}"},zt={nb:go,nn:fo,en:co},Eo=(e,t,r,n,o,s,a,l)=>{const{normaliserteEgnePerioder:p,normaliserteAnnenPartsPerioder:d}=Nn(t,e);return d.length>0?(p.forEach(u=>{if(H(u)){const c=ir(d).finnOverlappendePerioder(u),k=c.length>0?c[0]:void 0;k!==void 0&&dr(k)&&(u.ønskerSamtidigUttak||(u.ønskerSamtidigUttak=!0,u.samtidigUttakProsent=xt(u.gradert,u.stillingsprosent)),k.ønskerSamtidigUttak||(k.ønskerSamtidigUttak=!0,k.samtidigUttakProsent=xt(k.gradert,k.stillingsprosent)))}}),Re(lr(p,d,r,l),n,r,o,s,a,l)):t},Qt={nb:ko,nn:mo,en:po},Ar="Søknaden kan ikke inneholde flere enn 40 vedlegg. Vennligst gå tilbake, slett noen vedlegg og prøv å sende inn søknaden på nytt. Du kan ettersende vedlegg senere.",vo="Det har oppstått et problem med innsending av søknaden. Vennligst prøv igjen senere. Hvis problemet vedvarer, kontakt oss og oppgi feil id: ",Fr="ukjent uuid",So=(e,t,r)=>{const n=Do(Ao(e));return On(t,r,e.tidsperiode.fom)?{...n,justeresVedFødsel:!0}:n},Ao=e=>{const{erMorForSyk:t,...r}=e;return r},Fo=e=>e.type!==O.Hull,ho=e=>e.type!==O.Info,Po=e=>e.type!==O.PeriodeUtenUttak,To=e=>jn(e)?!e.skalIkkeHaUttakFørTermin:Fo(e)&&ho(e)&&Po(e)&&!(H(e)&&e.konto===void 0),hr=(e,t=!1)=>{if(ee(e)){const{erMorUfør:r,erForSyk:n,harRettPåForeldrepengerINorge:o,harRettPåForeldrepengerIEØS:s,harOppholdtSegIEØS:a,...l}=e,p={harMorUføretrygd:r,harRettPåForeldrepenger:o,...l};return o?{...p,erInformertOmSøknaden:!0}:a?{...p,harAnnenForelderOppholdtSegIEØS:a,harAnnenForelderTilsvarendeRettEØS:s}:t?{...p,harAnnenForelderTilsvarendeRettEØS:s}:{...p,harAnnenForelderOppholdtSegIEØS:a}}return e},Uo=e=>{if(as(e)){const{type:n,fnr:o,...s}=e;return s}if(is(e)){const{type:n,fnr:o,...s}=e;return{adopsjonAvEktefellesBarn:ds(e),...s}}const{type:t,...r}=e;return r},No=e=>{switch(e){case"mor":return"MOR";case"far":return"FAR";case"medmor":return"MEDMOR";default:return ks(e,"Søkerrolle er ikke satt")}},Oo=(e,t,r,n,o)=>(H(e)&&(e.konto===v.Flerbarnsdager&&(e.konto=t?v.Fellesperiode:v.Foreldrepenger),e.konto===v.AktivitetsfriKvote&&(e.konto=v.Foreldrepenger,n&&!t&&ue(o)?e.morsAktivitetIPerioden=Bt.IkkeOppgitt:r&&(e.morsAktivitetIPerioden=Bt.Uføre))),e),jo=e=>{if(e!==void 0&&e.length>0){const t=e[0];return{erArbeidstaker:t===Ze.arbeidstaker,erFrilanser:t===Ze.frilans,erSelvstendig:t===Ze.selvstendignæringsdrivende}}else return{}},Do=e=>e.gradert?{...e,...jo(e.arbeidsformer)}:e,Pr=(e,t,r,n,o,s,a)=>{const p=e.map(d=>({...d})).filter(d=>An(d.tidsperiode)).filter(To).map(d=>s&&ee(s)?Oo(d,!!s.harRettPåForeldrepengerINorge,!!s.erMorUfør,r,t):d).map(d=>d.type===O.Uttak?So(d,n,o):d);return a&&Fn(t)&&!yo(p,a)?Ro(p,a):p},yo=(e,t)=>e.find(r=>b(t).isBetween(r.tidsperiode.fom,r.tidsperiode.tom,"day","[]")),Ro=(e,t)=>{const r=e.find(s=>b(s.tidsperiode.fom).isAfter(t,"day")),n=r?T(r.tidsperiode.fom).forrige():t,o={type:O.Utsettelse,årsak:ur.Fri,id:y(),tidsperiode:{fom:t,tom:n},erArbeidstaker:!1,forelder:U.farMedmor};return e.push(o),e.sort(fe),e},Tr=e=>{if(!e)return[];const t=[];return Object.keys(e).forEach(r=>{const n=e[r];n&&n.length>0&&t.push(...n)}),t},Io=(e,t,r)=>{const n=I(e(m.ANNEN_FORELDER)),o=I(e(m.OM_BARNET)),s=I(e(m.SØKER_DATA)),a=I(e(m.SØKERSITUASJON)),l=I(e(m.UTENLANDSOPPHOLD)),p=I(e(m.PERIODE_MED_FORELDREPENGER)),d=e(m.UTENLANDSOPPHOLD_SENERE),u=e(m.UTENLANDSOPPHOLD_TIDLIGERE),c=I(e(m.UTTAKSPLAN)),k=I(e(m.UTTAKSPLAN_METADATA)),g=e(m.EKSISTERENDE_SAK),f=e(m.VEDLEGG),E=hr(n),R=Ur(a,r,n,s),F=Uo(o),h=ge(a.rolle),P=_e(o),S=Pr(c,t,h,k.ønskerJustertUttakVedFødsel,P,n);return{type:"foreldrepenger",harGodkjentVilkår:!0,saksnummer:g==null?void 0:g.saksnummer,erEndringssøknad:!1,søker:R,barn:F,situasjon:a.situasjon,annenForelder:E,uttaksplan:S,informasjonOmUtenlandsopphold:{...l,...d||{senereOpphold:[]},...u||{tidligereOpphold:[]}},dekningsgrad:p.dekningsgrad,ønskerJustertUttakVedFødsel:k.ønskerJustertUttakVedFødsel,vedlegg:Tr(f)}},Ur=(e,t,r,n)=>{const o=No(e.rolle),s=ee(r),a={rolle:o,språkkode:t,erAleneOmOmsorg:s?r.erAleneOmOmsorg:!0};return n?{...a,andreInntekterSiste10Mnd:n.andreInntekterSiste10Mnd,frilansInformasjon:n.frilansInformasjon,selvstendigNæringsdrivendeInformasjon:n.selvstendigNæringsdrivendeInformasjon}:{...a,andreInntekterSiste10Mnd:[],selvstendigNæringsdrivendeInformasjon:[]}},_o=(e,t,r,n,o,s)=>e?bo(t,r,n,o,s):Io(t,n,o),bo=(e,t,r,n,o)=>{const s=I(e(m.UTTAKSPLAN_METADATA)),a=I(e(m.ANNEN_FORELDER)),l=I(e(m.OM_BARNET)),p=e(m.SØKER_DATA),d=I(e(m.PERIODE_MED_FORELDREPENGER)),u=I(e(m.SØKERSITUASJON)),c=I(e(m.EKSISTERENDE_SAK)),k=ge(u.rolle),g=_e(l),f=e(m.VEDLEGG);return{type:"foreldrepenger",erEndringssøknad:!0,saksnummer:c.saksnummer,uttaksplan:Pr(t,r,k,s.ønskerJustertUttakVedFødsel,g,a,o),søker:Ur(u,n,a,p),annenForelder:hr(a,!0),barn:l,dekningsgrad:d.dekningsgrad,situasjon:u.situasjon,ønskerJustertUttakVedFødsel:s.ønskerJustertUttakVedFødsel,vedlegg:Tr(f)}},ae=e=>{var s,a,l,p;const t=Nr(e)+". ",r=Mo(e)+". ",n=d=>d.replace(/\d/g,"*").slice(0,250)+"...";let o=t+r;(a=(s=e.request)==null?void 0:s.data)!=null&&a.messages?o=o+n(e.request.data.messages):(p=(l=e.response)==null?void 0:l.data)!=null&&p.messages&&(o=o+n(e.response.data.messages)),e.message&&(o=o+e.message),un(o)},Nr=e=>{var t,r;return(r=(t=e.response)==null?void 0:t.data)!=null&&r.uuid?e.response.data.uuid:Fr},Mo=e=>{var t,r;return(r=(t=e.response)==null?void 0:t.data)!=null&&r.timestamp?e.response.data.timestamp:""},Lo=e=>{const t=e.søknad;return{[m.APP_ROUTE]:e.currentRoute,[m.EKSISTERENDE_SAK]:e.eksisterendeSak,[m.BARN_FRA_NESTE_SAK]:e.barnFraNesteSak,[m.SØKERSITUASJON]:t==null?void 0:t.søkersituasjon,[m.OM_BARNET]:t==null?void 0:t.barn,[m.ANNEN_FORELDER]:t==null?void 0:t.annenForelder,[m.SØKER_DATA]:t==null?void 0:t.søker,[m.UTENLANDSOPPHOLD]:t!=null&&t.informasjonOmUtenlandsopphold?{iNorgeNeste12Mnd:t.informasjonOmUtenlandsopphold.iNorgeNeste12Mnd,iNorgeSiste12Mnd:t.informasjonOmUtenlandsopphold.iNorgeSiste12Mnd}:void 0,[m.UTENLANDSOPPHOLD_SENERE]:t!=null&&t.informasjonOmUtenlandsopphold&&t.informasjonOmUtenlandsopphold.senereOpphold&&t.informasjonOmUtenlandsopphold.senereOpphold.length>0?{senereOpphold:t.informasjonOmUtenlandsopphold.senereOpphold}:void 0,[m.UTENLANDSOPPHOLD_TIDLIGERE]:t!=null&&t.informasjonOmUtenlandsopphold&&t.informasjonOmUtenlandsopphold.tidligereOpphold&&t.informasjonOmUtenlandsopphold.tidligereOpphold.length>0?{tidligereOpphold:t.informasjonOmUtenlandsopphold.tidligereOpphold}:void 0,[m.PERIODE_MED_FORELDREPENGER]:t!=null&&t.dekningsgrad?{dekningsgrad:t.dekningsgrad}:void 0,[m.FORDELING]:e.fordeling,[m.UTTAKSPLAN]:t==null?void 0:t.uttaksplan,[m.UTTAKSPLAN_METADATA]:{ønskerJustertUttakVedFødsel:t==null?void 0:t.ønskerJustertUttakVedFødsel,perioderSomSkalSendesInn:e.perioderSomSkalSendesInn,antallUkerIUttaksplan:e.antallUkerIUttaksplan,harUttaksplanBlittSlettet:e.harUttaksplanBlittSlettet,annenPartsUttakErLagtTilIPlan:e.annenPartsUttakErLagtTilIPlan,endringstidspunkt:e.endringstidspunkt},[m.VEDLEGG]:t==null?void 0:t.vedlegg}};class kt extends A.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}componentDidCatch(t,r){t&&t.message!=="window.hasFocus is not a function"&&(this.setState(n=>({...n,hasError:!0,error:t})),pn(n=>{n.setExtras(r),kn(t)}))}render(){var t;if(this.state.hasError){const r=!!this.state.error&&!!this.state.error.message&&this.state.error.message===Ar,n=r?"Feil: for mange vedlegg":"Informasjon om feilen";return i.jsx(ss,{dokumenttittel:"NAV Foreldrepengesøknad",ingress:`${(t=this.state.error)==null?void 0:t.message}`,tittel:n,søker:this.props.søker,illustrasjon:{tittel:"Hei!",tekst:"Noe har gått galt med søknaden.",lenke:{tekst:"Her finner du en lenke til brukerstøtte",url:fs.brukerstøtte}},skalKunneGåTilbakeTilSøknad:r})}return this.props.children}}kt.__docgenInfo={description:"",methods:[],displayName:"ErrorBoundary",props:{søker:{required:!1,tsType:{name:"intersection",raw:`{
    fødselsdato: string;
    kjønn: Kjønn;
    bankkonto?: Bankkonto;
    sivilstand?: Sivilstand;
    barn: SøkerBarn[];
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    fødselsdato: string;
    kjønn: Kjønn;
    bankkonto?: Bankkonto;
    sivilstand?: Sivilstand;
    barn: SøkerBarn[];
}`,signature:{properties:[{key:"fødselsdato",value:{name:"string",required:!0}},{key:"kjønn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"bankkonto",value:{name:"Bankkonto",required:!1}},{key:"sivilstand",value:{name:"Sivilstand",required:!1}},{key:"barn",value:{name:"Array",elements:[{name:"intersection",raw:`{
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: SøkerAnnenForelder;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: SøkerAnnenForelder;
}`,signature:{properties:[{key:"kjønn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"dødsdato",value:{name:"string",required:!1}},{key:"annenForelder",value:{name:"intersection",raw:`{
    fødselsdato?: string;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    fødselsdato?: string;
}`,signature:{properties:[{key:"fødselsdato",value:{name:"string",required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}],required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}]}],raw:"SøkerBarn[]",required:!0}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}]},description:""},children:{required:!0,tsType:{name:"ReactElement"},description:""}}};const Ko=(e,t,r,n)=>{const o=pt(),s=ms();return A.useCallback(async()=>{os("applikasjon-hendelse",{app:"foreldrepengesoknad",team:"foreldrepenger",hendelse:"avbrutt"}),s(),t(!1),r(!1),n(void 0);try{await oe.deleteMellomlagretSøknad(e)}catch{}o("/")},[e,o,s,t,r,n])},Or=9,xo=e=>{switch(e){case N.UTTAKSPLAN:case N.OPPSUMMERING:return!0;default:return!1}},Zt=e=>{var t;return(t=e.søknad)!=null&&t.erEndringssøknad&&!xo(e.currentRoute)?!1:e.version===Or},Bo=(e,t,r,n,o,s)=>{const a=I(t(m.APP_ROUTE)),l=t(m.SØKERSITUASJON),p=t(m.OM_BARNET),d=t(m.ANNEN_FORELDER),u=t(m.SØKER_DATA),c=t(m.UTENLANDSOPPHOLD),k=t(m.UTENLANDSOPPHOLD_SENERE),g=t(m.UTENLANDSOPPHOLD_TIDLIGERE),f=t(m.UTTAKSPLAN_METADATA),E=t(m.BARN_FRA_NESTE_SAK),R=t(m.EKSISTERENDE_SAK),F=t(m.UTTAKSPLAN),h=t(m.FORDELING),P=t(m.PERIODE_MED_FORELDREPENGER),S=t(m.VEDLEGG),J={version:Or,locale:e,currentRoute:a,søknadGjelderEtNyttBarn:s,søknad:{harGodkjentVilkår:o,søkersituasjon:l,barn:p,annenForelder:d,søker:u,informasjonOmUtenlandsopphold:c?{...c,senereOpphold:(k==null?void 0:k.senereOpphold)||[],tidligereOpphold:(g==null?void 0:g.tidligereOpphold)||[]}:void 0,erEndringssøknad:n,dekningsgrad:P==null?void 0:P.dekningsgrad,uttaksplan:F,vedlegg:S,ønskerJustertUttakVedFødsel:f==null?void 0:f.ønskerJustertUttakVedFødsel},eksisterendeSak:R,barnFraNesteSak:E,fordeling:h,endringstidspunkt:f==null?void 0:f.endringstidspunkt,antallUkerIUttaksplan:f==null?void 0:f.antallUkerIUttaksplan,perioderSomSkalSendesInn:f==null?void 0:f.perioderSomSkalSendesInn,harUttaksplanBlittSlettet:f==null?void 0:f.harUttaksplanBlittSlettet,annenPartsUttakErLagtTilIPlan:f==null?void 0:f.annenPartsUttakErLagtTilIPlan};return oe.storeAppState(J,r)},Vo=(e,t,r,n,o)=>{const s=pt(),a=fr(),[l,p]=A.useState(!1),d=A.useRef();return A.useEffect(()=>{if(l){const c=I(a(m.APP_ROUTE));(async()=>{p(!1),s(c),await Bo(e,a,t,r,n,o),d.current&&d.current()})().catch(g=>{ae(g),d.current&&d.current()})}},[l]),A.useCallback(()=>(p(!0),new Promise(k=>{d.current=k})),[])},Go=e=>!!(e&&typeof e=="object"&&"isAxiosError"in e),wo=(e,t,r,n)=>{const o=fr(),[s,a]=A.useState();return{sendSøknad:async p=>{var g,f,E,R;const d=I(o(m.UTTAKSPLAN_METADATA)),u=I(o(m.OM_BARNET)),c=_o(t,o,d.perioderSomSkalSendesInn,Er(u),n,d.endringstidspunkt);c.uttaksplan.length===0&&c.erEndringssøknad&&a(new Error("Søknaden din inneholder ingen nye perioder."));let k;try{k=(await oe.sendSøknad(c,e,p)).data}catch(F){if(Go(F)){ae(F),((g=F.response)==null?void 0:g.status)===400&&((R=(E=(f=F.response)==null?void 0:f.data)==null?void 0:E.messages)!=null&&R.includes("Vedleggslisten kan ikke inneholde flere enn 40 opplastede vedlegg"))&&a(new Error(Ar));const h=Nr(F),P=h!==Fr?h.slice(0,8):h;a(new Error(vo+P))}a(new Error(String(F)))}try{await oe.deleteMellomlagretSøknad(e,p)}catch{}r(k)},errorSendSøknad:s}};var ce=(e=>(e.ønskerAutomatiskJustering="ønskerAutomatiskJustering",e))(ce||{});const at=Dn(),qo=(e,t)=>{const[r,n]=A.useState(e);return A.useEffect(()=>{const o=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(o)}},[e,t]),r},je=e=>H(e)||pr(e)||yn(e)||Rn(e),Xt=(e,t,r,n,o)=>n?t?Jo(n,e,o,r):e.filter(je):e,Ho=(e,t,r,n)=>{const o=t.filter(s=>hn(r,s.tidsperiode.fom,s.tidsperiode.tom)||b(s.tidsperiode.fom).isSameOrAfter(b(r),"day")).filter(je);if(o.length===0&&(e.length>t.length||e.filter(je).length>t.filter(je).length)){const s=e.find(l=>b(l.tidsperiode.fom).isSame(r,"day"));return[{id:y(),type:O.Utsettelse,tidsperiode:{fom:s.tidsperiode.fom,tom:s.tidsperiode.tom},årsak:ur.Fri,forelder:n?U.farMedmor:U.mor,erArbeidstaker:!1}]}else return o},Jo=(e,t,r,n)=>r===void 0?[]:Ho(e,t,r,n),Co=(e,t)=>e&&t?(100-parseInt(t,10)).toString():"100",Yo=e=>_n(e),$o=(e,t)=>({ønskerAutomatiskJustering:e!==void 0&&t?In(e):Ie.UNANSWERED}),jr=({termindato:e,perioderMedUttakRundtFødsel:t,antallBarn:r,visibility:n})=>{const o=lt(),s=T(e).denneEllerNeste(),a=q(m.UTTAKSPLAN_METADATA),l=X(m.UTTAKSPLAN_METADATA),p=a==null?void 0:a.ønskerJustertUttakVedFødsel,d=p&&t.length>1,u=p&&t.length===1&&!b(t[0].tidsperiode.fom).isSame(s,"day"),c=p&&t.length===1&&b(t[0].tidsperiode.fom).isSame(s,"day")&&(H(t[0])&&(t[0].konto!==v.Fedrekvote||!t[0].ønskerSamtidigUttak)||pr(t[0])),k=p&&t.length===1&&b(t[0].tidsperiode.fom).isSame(s,"day")&&H(t[0])&&t[0].konto===v.Fedrekvote&&t[0].ønskerFlerbarnsdager===!0;let g="";d&&(g="uttaksplan.automatiskJustering.info.hvisFlerePerioder"),u&&(g="uttaksplan.automatiskJustering.info.hvisIkkeLengerStarterPåTermin"),c&&(g="uttaksplan.automatiskJustering.info.hvisEndretPeriodePåTermin"),k&&(g="uttaksplan.automatiskJustering.info.hvisEndretPeriodeTilØnskerFlerbarnsdager");const f=E=>{const R=Yo(E);l({...a,ønskerJustertUttakVedFødsel:R})};return i.jsx(at.Form,{includeButtons:!1,children:i.jsxs("div",{style:{paddingTop:"1rem",paddingBottom:"1rem"},children:[g!==""&&i.jsx(le,{padBottom:"l",children:i.jsx(rt,{variant:"info",children:i.jsx(W,{id:g})})}),i.jsx(le,{visible:n.isVisible(ce.ønskerAutomatiskJustering),padBottom:"l",children:i.jsx(at.YesOrNoQuestion,{name:ce.ønskerAutomatiskJustering,legend:De(o,"uttaksplan.automatiskJustering.spørsmål",{antallBarn:r}),validate:E=>{if(E===Ie.UNANSWERED)return De(o,"uttaksplan.automatiskJustering.svar.påkrevd")},afterOnChange:E=>f(E)})})]})})};jr.__docgenInfo={description:"",methods:[],displayName:"AutomatiskJusteringForm",props:{termindato:{required:!0,tsType:{name:"Date"},description:""},perioderMedUttakRundtFødsel:{required:!0,tsType:{name:"Array",elements:[{name:"union",raw:`| Uttaksperiode
| Utsettelsesperiode
| Oppholdsperiode
| Overføringsperiode
| PeriodeHull
| PeriodeUtenUttakUtsettelse
| PeriodeUtenUttak
| InfoPeriode`,elements:[{name:"union",raw:"UttaksperiodeBase | ForeldrepengerFørFødselUttaksperiode",elements:[{name:"UttaksperiodeBase"},{name:"ForeldrepengerFørFødselUttaksperiode"}]},{name:"Utsettelsesperiode"},{name:"Oppholdsperiode"},{name:"Overføringsperiode"},{name:"PeriodeHull"},{name:"PeriodeUtenUttakUtsettelse"},{name:"PeriodeUtenUttak"},{name:"union",raw:"AvslåttPeriode | UttakAnnenPartInfoPeriode | UtsettelseAnnenPartInfoPeriode",elements:[{name:"AvslåttPeriode"},{name:"UttakAnnenPartInfoPeriode"},{name:"UtsettelseAnnenPartInfoPeriode"}]}]}],raw:"Periode[]"},description:""},antallBarn:{required:!0,tsType:{name:"number"},description:""},visibility:{required:!0,tsType:{name:"QuestionVisibility",elements:[{name:"UttaksplanFormField"},{name:"undefined"}],raw:"QuestionVisibility<UttaksplanFormField, undefined>"},description:""}}};const Wo=(e,t)=>t!==void 0&&H(e)&&b(e.tidsperiode.fom).isSame(T(b(t).toDate()).denneEllerNeste(),"day")&&e.forelder===U.farMedmor&&e.konto===v.Fedrekvote&&e.ønskerSamtidigUttak===!0&&e.ønskerFlerbarnsdager!==!0,zo=(e,t,r)=>e&&t.length===1&&Wo(t[0],r),Qo=(e,t,r,n,o,s,a)=>e&&ue(t)&&r==="fødsel"&&n.length!==0&&gr(o)&&s!==void 0&&!a,Dr=({children:e,lastStep:t=!1,singleButton:r=!1})=>{const n=mn("step-button-wrapper");return i.jsx("div",{className:Un(n.block,t?n.modifier("last-step"):void 0,r?n.modifier("single-button"):void 0),children:e})};Dr.__docgenInfo={description:"",methods:[],displayName:"StepButtonWrapper",props:{lastStep:{defaultValue:{value:"false",computed:!1},required:!1},singleButton:{defaultValue:{value:"false",computed:!1},required:!1}}};const yr=({isOpen:e,setIsOpen:t,goToPreviousStep:r})=>i.jsxs(Oe,{"aria-label":"Vil du gå tilbake",open:e,onClose:()=>t(!1),children:[i.jsx(Oe.Header,{children:i.jsx(bs,{size:"small",level:"1",children:i.jsx(W,{id:"uttaksplan.vilDuGåTilbakeModal.tittel"})})}),i.jsx(Oe.Body,{children:i.jsxs(Ms,{gap:"4",children:[i.jsx(Yt,{children:i.jsx(W,{id:"uttaksplan.vilDuGåTilbakeModal.intro"})}),i.jsx(Yt,{children:i.jsx(W,{id:"uttaksplan.vilDuGåTilbakeModal.spørsmål"})})]})}),i.jsxs(Oe.Footer,{children:[i.jsx(ye,{onClick:r,children:i.jsx(W,{id:"uttaksplan.vilDuGåTilbakeModal.okLabel"})}),i.jsx(ye,{variant:"secondary",onClick:()=>t(!1),children:i.jsx(W,{id:"uttaksplan.vilDuGåTilbakeModal.avbrytLabel"})})]})]});yr.__docgenInfo={description:"",methods:[],displayName:"VilDuGåTilbakeModal",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},setIsOpen:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"boolean"}],raw:"SetStateAction<boolean>"}],raw:"Dispatch<SetStateAction<boolean>>"},description:""},goToPreviousStep:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const Zo=e=>{if(!e)throw new Error("Mangler informasjon om annen forelders siste dag.");const t=T(e).denneEllerForrige();return T(t).neste()},Xo=(e,t)=>{if(t.fordelingValg===Ht.ALT)return e*5;if(t.fordelingValg===Ht.VIL_VELGE){const r=$t(t.antallDagerFellesperiodeTilSøker)??0;return($t(t.antallUkerFellesperiodeTilSøker)??0)*5+r}},ea=(e,t,r,n,o,s,a)=>{if((!e||e===ne.ANNEN_DATO)&&t)return nt(t);switch(e){case ne.TRE_UKER_FØR_TERMIN:return Vt(r);case ne.TRE_UKER_FØR_FØDSEL:return Vt(n);case ne.FAMILIEHENDELSESDATO:return n;case ne.ANKOMSTDATO_NORGE:return Mn(o);case ne.DAGEN_ETTER_ANNEN_FORELDER:return Zo(s);case ne.DATO_FOR_ALENEOMSORG:return bn(a);default:throw new Error("Ukjent verdi på oppstartValg.")}},ta=(e,t,r,n,o,s,a)=>{if(s!==!0){const l=T(n||e).denneEllerNeste(),p=[],d=t?v.Fedrekvote:v.Mødrekvote,u=t?U.farMedmor:U.mor,c=r.find(g=>t?g.konto===v.Fedrekvote:g.konto===v.Mødrekvote);let k=l;if(c!==void 0){const g={id:y(),type:O.Uttak,forelder:u,konto:d,tidsperiode:M(k,c.dager),ønskerSamtidigUttak:!1,gradert:!1};k=T(g.tidsperiode.tom).neste(),a!==void 0&&z(g.tidsperiode,a)?Q(g,a).forEach(E=>p.push(E)):p.push(g)}if(o!==void 0&&o>0){const g={id:y(),type:O.Uttak,forelder:u,konto:v.Fellesperiode,tidsperiode:M(k,o),ønskerSamtidigUttak:!1,gradert:!1};a!==void 0&&z(g.tidsperiode,a)?Q(g,a).forEach(E=>p.push(E)):p.push(g)}return p.sort(fe)}else return[]},ra=(e,t,r,n,o,s,a)=>r?it(t,n,o,s,e,void 0,void 0,a,"adopsjon"):it(t,n,o,s,e,void 0,void 0,a,"adopsjon").map(d=>H(d)&&(d.konto===v.Fedrekvote||d.konto===v.Fellesperiode)?d.konto===v.Fedrekvote?{...d,konto:v.Mødrekvote,forelder:U.mor}:{...d,forelder:U.mor}:d),na=(e,t,r,n,o,s,a,l,p,d)=>s?ra(e,r,t,a,l,p,d):ta(e,t,r,n,o,s,d),sa=(e,t,r,n)=>{const o=T(e).denneEllerNeste(),s=[],a=b(r).isBefore(b(e),"d"),l=t.find(u=>u.konto===v.ForeldrepengerFørFødsel),p=t.find(u=>u.konto===v.Mødrekvote);let d=o;if(l!==void 0&&a&&r){const u=T(r).denneEllerNeste(),c=T(u).getUttaksdagerFremTilDato(d),k=c>15,g=T(o).trekkFra(k?15:c);if(k){const E={id:y(),type:O.Uttak,forelder:U.mor,konto:v.Fellesperiode,tidsperiode:M(u,c-15),vedlegg:[]};s.push(E)}const f={id:y(),type:O.Uttak,forelder:U.mor,konto:v.ForeldrepengerFørFødsel,tidsperiode:{fom:g,tom:T(d).forrige()}};s.push(f)}else{const u={id:y(),type:O.Uttak,forelder:U.mor,konto:v.ForeldrepengerFørFødsel,skalIkkeHaUttakFørTermin:!0,tidsperiode:{fom:T(d).trekkFra(15),tom:T(d).forrige()},vedlegg:[]};s.push(u)}if(p!==void 0){const u={id:y(),type:O.Uttak,forelder:U.mor,konto:v.Mødrekvote,tidsperiode:M(d,p.dager),ønskerSamtidigUttak:!1,gradert:!1};d=T(u.tidsperiode.tom).neste(),s.push(u)}if(n!==void 0&&n>0){const u=s.find(k=>H(k)&&k.konto===v.Fellesperiode);let c=0;if(u&&(c=sr(u.tidsperiode).getAntallUttaksdager()),n-c>0){const k={id:y(),type:O.Uttak,forelder:U.mor,konto:v.Fellesperiode,tidsperiode:M(d,n-c),ønskerSamtidigUttak:!1,gradert:!1};s.push(k)}}return s.sort(fe)},it=(e,t,r,n,o,s,a,l,p="fødsel")=>{if(!ue(o)&&Pn(r,n)&&!a)return[];const d=[],u=T(n).denneEllerNeste();let c=T(n).denneEllerNeste();const k=e.find(E=>E.konto===v.Fedrekvote),g=e.find(E=>E.konto===v.Fellesperiode),f=!0;if(k!==void 0){const E=p==="fødsel"&&ue(o)&&Ln(M(u,1),o,s),R=E?Kn(o,u):k.dager,F={id:y(),type:O.Uttak,forelder:U.farMedmor,konto:v.Fedrekvote,tidsperiode:M(u,R),ønskerSamtidigUttak:E,samtidigUttakProsent:E?"100":void 0};c=T(F.tidsperiode.tom).neste(),st(F,o,f,s)?ot(F,o).forEach(P=>d.push(P)):l!==void 0&&z(F.tidsperiode,l)?Q(F,l).forEach(P=>d.push(P)):d.push(F)}if(g!==void 0){let E=0;if(t!==void 0&&t!==0&&(E=5*t),E>0){const R={id:y(),type:O.Uttak,forelder:U.farMedmor,konto:v.Fellesperiode,tidsperiode:M(c,E),ønskerSamtidigUttak:!1,gradert:!1};d.push(R)}}return d},oa=(e,t,r,n,o,s,a,l,p,d,u)=>{if(t){const c=r.filter(k=>k.konto!==v.ForeldrepengerFørFødsel);return it(c,s,a,l,e,u,p,d)}else return sa(e,r,n,o)},aa=e=>e.situasjon==="adopsjon"?na(e.famDato,e.erFarEllerMedmor,e.tilgjengeligeStønadskontoer,e.startdatoPermisjon,e.fellesperiodeDagerMor,e.harAnnenForelderSøktFP,e.antallUkerFellesperiodeFarMedmor,e.morSinSisteUttaksdag,e.farSinFørsteUttaksdag,e.førsteUttaksdagNesteBarnsSak):e.situasjon==="fødsel"?oa(e.famDato,e.erFarEllerMedmor,e.tilgjengeligeStønadskontoer,e.startdatoPermisjon,e.fellesperiodeDagerMor,e.antallUkerFellesperiodeFarMedmor,e.morSinSisteUttaksdag,e.farSinFørsteUttaksdag,e.annenForelderHarRettPåForeldrepengerIEØS,e.førsteUttaksdagNesteBarnsSak,e.termindato):[],ia=(e,t,r,n,o,s,a)=>{const l=T(r||e).denneEllerNeste(),p=[];if(n!==!0){let d=l;if(ue(e)&&s){const c={id:y(),type:O.Uttak,forelder:U.farMedmor,konto:v.AktivitetsfriKvote,tidsperiode:M(l,o.dager),vedlegg:[],gradert:!1,harIkkeAktivitetskrav:!0};a!==void 0&&z(c.tidsperiode,a)?Q(c,a).forEach(g=>p.push(g)):p.push(c),d=T(c.tidsperiode.tom).neste()}const u={id:y(),type:O.Uttak,forelder:U.farMedmor,konto:t.konto,tidsperiode:M(d,t.dager),vedlegg:[],gradert:!1};a!==void 0&&z(u.tidsperiode,a)?Q(u,a).forEach(k=>p.push(k)):p.push(u)}else{const d={id:y(),type:O.Uttak,forelder:U.farMedmor,konto:v.AktivitetsfriKvote,tidsperiode:M(l,o.dager),vedlegg:[],gradert:!1,harIkkeAktivitetskrav:!0};a!==void 0&&z(d.tidsperiode,a)?Q(d,a).forEach(k=>p.push(k)):p.push(d);const u={id:y(),type:O.Uttak,forelder:U.farMedmor,konto:v.Foreldrepenger,tidsperiode:M(T(d.tidsperiode.tom).neste(),t.dager),vedlegg:[],gradert:!1};a!==void 0&&z(u.tidsperiode,a)?Q(u,a).forEach(k=>p.push(k)):p.push(u)}return p},da=(e,t,r,n)=>{const o=T(r||e).denneEllerNeste(),s={id:y(),type:O.Uttak,forelder:U.mor,konto:t.konto,tidsperiode:M(o,t.dager),vedlegg:[],gradert:!1};return n!==void 0&&z(s.tidsperiode,n)?Q(s,n):[s]},la=(e,t,r,n,o,s,a,l)=>t?ia(e,r,n,o,s,a,l):da(e,r,n,l),ua=(e,t,r,n)=>{const o=T(e).denneEllerNeste(),s=[],a=b(r).isBefore(b(e),"d");if(n!==void 0&&a&&r){const u=T(r).getUttaksdagerFremTilDato(o),c=u>15,k=T(o).trekkFra(c?15:u);if(c){const f={id:y(),type:O.Uttak,forelder:U.mor,konto:v.Foreldrepenger,tidsperiode:M(r,u-15),vedlegg:[]};s.push(f)}const g={id:y(),type:O.Uttak,forelder:U.mor,konto:n.konto,tidsperiode:{fom:k,tom:T(o).forrige()},vedlegg:[]};s.push(g)}else{const u={id:y(),type:O.Uttak,forelder:U.mor,konto:v.ForeldrepengerFørFødsel,skalIkkeHaUttakFørTermin:!0,tidsperiode:{fom:T(o).trekkFra(15),tom:T(o).forrige()},vedlegg:[]};s.push(u)}const l=s.find(u=>H(u)&&u.konto===v.Foreldrepenger),p=l?M(o,t.dager-sr(l.tidsperiode).getAntallUttaksdager()):M(o,t.dager),d={id:y(),type:O.Uttak,forelder:U.mor,konto:t.konto,tidsperiode:p,vedlegg:[],gradert:!1};return s.push(d),s.sort(fe)},pa=(e,t,r,n,o,s,a,l)=>{const p=T(r||e).denneEllerNeste(),d=!1,u=[];if(n!==!0){let c=p;if(ue(e)&&s){const g={id:y(),type:O.Uttak,forelder:U.farMedmor,konto:v.AktivitetsfriKvote,tidsperiode:M(p,o.dager),vedlegg:[],harIkkeAktivitetskrav:!0};st(g,e,d,a)?ot(g,e).forEach(E=>u.push(E)):l!==void 0&&z(g.tidsperiode,l)?Q(g,l).forEach(E=>u.push(E)):u.push(g),c=T(g.tidsperiode.tom).neste()}const k={id:y(),type:O.Uttak,forelder:U.farMedmor,konto:t.konto,tidsperiode:M(c,t.dager),vedlegg:[],gradert:!1};u.push(k)}else{const c={id:y(),type:O.Uttak,forelder:U.farMedmor,konto:v.AktivitetsfriKvote,tidsperiode:M(p,o.dager),vedlegg:[],gradert:!1,harIkkeAktivitetskrav:!0};st(c,e,d,a)?ot(c,e).forEach(f=>u.push(f)):u.push(c);const k={id:y(),type:O.Uttak,forelder:U.farMedmor,konto:v.Foreldrepenger,tidsperiode:M(T(c.tidsperiode.tom).neste(),t.dager),vedlegg:[],gradert:!1};u.push(k)}return u.sort(fe)},ka=(e,t,r,n,o,s,a,l,p,d)=>t?pa(e,r,n,s,a,l,p,d):ua(e,r,n,o),ma=(e,t,r,n,o,s,a,l,p)=>{const d=n.find(k=>k.konto===v.Foreldrepenger),u=n.find(k=>k.konto===v.ForeldrepengerFørFødsel),c=n.find(k=>k.konto===v.AktivitetsfriKvote);return e==="adopsjon"?la(t,r,d,o,s,c,a,p):e==="fødsel"?ka(t,r,d,o,u,s,c,a,l,p):[]},ca=(e,t,r,n,o,s,a)=>{const l=ge(e.rolle),p=mr(n),d=e.situasjon,u=d==="adopsjon",c=vr(t),k=xn(r),g=nt(rs(n)),f=nt(_e(t)),E=ls(t)&&t.adoptertIUtlandet?b(t.ankomstdato).toDate():void 0,R=cr(n),F=o&&o.length>0?T(o[o.length-1].tidsperiode.tom).denneEllerForrige():void 0,h=ea(s.oppstartAvForeldrepengerValg,s.oppstartDato,f,c,E,F,g),P=l?F:void 0,S=kr(l,n,R),J=!l||!S,B=Xo(k,s),j=l?void 0:B,K=l?B:void 0,be=l?h:void 0,Me=ee(n)&&n.erMorUfør,Le=ee(n)&&n.harRettPåForeldrepengerIEØS,ie=a==null?void 0:a.startdatoFørsteStønadsperiode,pe=ut({erDeltUttak:p,morHarRett:J,søkerErAleneOmOmsorg:R}),Ee=o!==void 0;if(p){const C=aa({situasjon:d,famDato:c,erFarEllerMedmor:l,tilgjengeligeStønadskontoer:r.kontoer,startdatoPermisjon:h,fellesperiodeDagerMor:j,harAnnenForelderSøktFP:Ee,antallUkerFellesperiodeFarMedmor:K,morSinSisteUttaksdag:P,farSinFørsteUttaksdag:be,annenForelderHarRettPåForeldrepengerIEØS:Le,termindato:f,førsteUttaksdagNesteBarnsSak:ie});return Re(C,pe,c,u,!1,l,ie)}else{const C=ma(d,c,l,r.kontoer,h,Me,S,f,ie);return Re(C,pe,c,u,S,l,ie)}},ga=(e,t,r,n,o,s,a,l)=>{const p=vr(o),d=s.situasjon,u=ge(s.rolle),c=cr(r),k=kr(u,r,c),g=!u||!k,f=mr(r),E=d==="adopsjon";if(t&&t.length>0&&e.length>0){const R=ut({erDeltUttak:f,morHarRett:g,søkerErAleneOmOmsorg:c}),F=Eo(t,e,p,R,E,k,u,a==null?void 0:a.startdatoFørsteStønadsperiode);return l({...n,annenPartsUttakErLagtTilIPlan:!0}),F}else return t&&t.length>0?(l({...n,annenPartsUttakErLagtTilIPlan:!0}),t):e},fa=(e,t,r,n,o,s,a,l,p)=>{if(!a)throw new Error("Fordeling er undefined.");const d=ca(r,n,e,s,t,a,o);return ga(d,t,s,l,n,r,o,p)},Ea={[ce.ønskerAutomatiskJustering]:{isIncluded:({periodeRundtFødselKanAutomatiskJusteres:e})=>e,isAnswered:({ønskerAutomatiskJustering:e})=>e!==Ie.UNANSWERED}},va=Bn(Ea),Sa=[],dt=({søkerInfo:e,erEndringssøknad:t,mellomlagreSøknadOgNaviger:r,avbrytSøknad:n})=>{const o=lt(),s=Vn(e.arbeidsforhold,t),a=Gn(e.arbeidsforhold,r,t),[l,p]=A.useState(!1),[d,u]=A.useState(!1),[c,k]=A.useState(!1),[g,f]=A.useState(!1),[E,R]=A.useState(!0),F=I(q(m.SØKERSITUASJON)),h=I(q(m.OM_BARNET)),P=I(q(m.ANNEN_FORELDER)),S=q(m.UTTAKSPLAN_METADATA),J=I(q(m.PERIODE_MED_FORELDREPENGER)),B=q(m.UTTAKSPLAN)||Sa,j=q(m.BARN_FRA_NESTE_SAK),K=q(m.EKSISTERENDE_SAK),be=q(m.VEDLEGG),Me=q(m.FORDELING),[Le,ie]=A.useState(t||B.length>0),pe=X(m.OM_BARNET),Ee=X(m.BARN_FRA_NESTE_SAK),C=X(m.UTTAKSPLAN),ve=X(m.EKSISTERENDE_SAK),Y=X(m.UTTAKSPLAN_METADATA),Lr=X(m.APP_ROUTE),Kr=X(m.VEDLEGG),[Se,xr]=A.useState(S==null?void 0:S.endringstidspunkt),[Ae,Ke]=A.useState((S==null?void 0:S.perioderSomSkalSendesInn)||[]),mt=ee(P)?P:void 0,ct=mt?mt.erAleneOmOmsorg:!0,{situasjon:xe}=F,{rolle:gt}=F,Br=wn(P),Fe=ee(P)?!!P.harRettPåForeldrepengerINorge||!!P.harRettPåForeldrepengerIEØS:!1,_=ge(F.rolle),ft=qn(!_,ct,P),Et=Hn(_,ct,P),he=ft||Et,Vr=Fe?void 0:_?U.farMedmor:U.mor,te=Er(h),ke=Kt(te),Gr=Jn(P,_),wr=Cn(e.søker,P,_,o),vt=h.antallBarn,qr=vt>1,St=Gt(gt,_,P),w=K==null?void 0:K.uttaksplan,Hr=K?K.uttaksplan!==void 0:!1,Jr=!1,Z=_e(h),At=ee(P)&&!P.utenlandskFnr?P.fnr:void 0,Be=xe==="adopsjon",Ft=j!==void 0?j.annenForelderFnr:void 0,ht=j!==void 0&&j.fnr!==void 0&&j.fnr.length>0?j.fnr[0]:void 0,Ve=j!==void 0?j.familiehendelsesdato:void 0,re=j!==void 0?j.startdatoFørsteStønadsperiode:void 0,Ge=!Gt(F.rolle,_,P)&&!he,Pt=!gr(h)&&h.fnr!==void 0&&h.fnr.length>0?h.fnr[0]:void 0,Pe=he||!At||Pt===void 0&&te===void 0,Cr=j!==void 0?j.startdatoFørsteStønadsperiode:void 0,Yr=qo(cs(),3e3),Tt=A.useRef(!0);A.useEffect(()=>{Tt.current===!1&&r(),Tt.current=!1},[Yr,r]);const{data:we,requestStatus:qe,error:He}=et(tt.ANNEN_PART_VEDTAK,{annenPartFødselsnummer:At,barnFødselsnummer:Pt,familiehendelse:te},Pe),V=A.useMemo(()=>Is(we,h,_,te,re),[we,h,_,te,re]),Ut=()=>{f(!1);const D={[$.BEKREFTELSE_DELTAR_KVALIFISERINGSPROGRAM]:[],[$.DOK_DELTAKELSE_I_INTRODUKSJONSPROGRAMMET]:[],[$.DOK_SYKDOM_MOR]:[],[$.DOK_SYKDOM_FAR]:[],[$.DOK_INNLEGGELSE_BARN]:[],[$.DOK_INNLEGGELSE_MOR]:[],[$.DOK_INNLEGGELSE_FAR]:[],[$.DOK_ARBEID_MOR]:[],[$.DOK_UTDANNING_MOR]:[],[$.DOK_UTDANNING_OG_ARBEID_MOR]:[]};Y({...S,perioderSomSkalSendesInn:[],endringstidspunkt:void 0,ønskerJustertUttakVedFødsel:void 0}),C([]),Kr({...be,...D}),Lr(N.FORDELING),r(),a.goToPreviousDefaultStep()},Je=js(_,h.antallBarn,V==null?void 0:V.grunnlag.antallBarn);A.useEffect(()=>{_&&h.antallBarn!==Je&&pe({...h,antallBarn:Je})},[_,Je,h,pe]);const Ce=!Ft||ht===void 0&&Ve===void 0||!Pe&&qe!==se.FINISHED,{data:$r,requestStatus:Nt,error:Ye}=et(tt.NESTE_SAK_ANNEN_PART_VEDTAK,{annenPartFødselsnummer:Ft,barnFødselsnummer:ht,familiehendelse:Tn(Ve)},Ce),Te=_s($r);A.useEffect(()=>{if(Te!==void 0&&j!==void 0&&(b(Te).isBefore(j.startdatoFørsteStønadsperiode,"d")||j.startdatoFørsteStønadsperiode===void 0)){const D={...j,startdatoFørsteStønadsperiode:Te};Ee(D)}},[re,Te,j,Ee]);const Ot=ut({erDeltUttak:Fe,morHarRett:St,søkerErAleneOmOmsorg:he});A.useEffect(()=>{if(K!==void 0&&w!==void 0&&V!==void 0&&!(S!=null&&S.annenPartsUttakErLagtTilIPlan)){w.forEach(x=>{if(H(x)){const Rt=ir(V.uttaksplan).finnOverlappendePerioder(x);Rt.length!==0&&Rt.find(It=>dr(It)&&It.ønskerSamtidigUttak===!0)&&(x.ønskerSamtidigUttak||(x.ønskerSamtidigUttak=!0,x.samtidigUttakProsent=Co(x.gradert,x.stillingsprosent)))}});const D=Re(lr(w,V.uttaksplan,ke,re,!0),Ot,ke,Be,Ge,_,re),G={...K,uttaksplan:D};C(D),ve(G),Y({...S,annenPartsUttakErLagtTilIPlan:!0})}},[V,w,ke,Ot,Be,Ge,_,re,K,S,C,ve,Y]),A.useEffect(()=>{const D=w==null?void 0:w.find(G=>H(G)&&G.angittAvAnnenPart);if(D&&Se===void 0){const G=D.tidsperiode.fom,x=Xt(B,t,_,w,G);Ke(x),Y({...S,perioderSomSkalSendesInn:x,endringstidspunkt:Se})}},[w,Se,_,B,t,Y,S]);const jt=async()=>{const D=Zn(B,_,P,t,S==null?void 0:S.perioderSomSkalSendesInn);return p(!0),u(!0),Y({...S,endringstidspunkt:Se,perioderSomSkalSendesInn:Ae,antallUkerIUttaksplan:nn}),D?a.goToNextStep(N.DOKUMENTASJON):a.goToNextDefaultStep()},Ue=Yn(B,ke,Z?b(Z).toDate():void 0),$e=Qo(_,ke,xe,Ue,h,Z,Ge),Ne=zo($e,Ue,Z),Wr=()=>{Ne||Y({...S,ønskerJustertUttakVedFødsel:void 0})},zr=D=>Ne&&D!==void 0,We=A.useRef(null),Qr=async D=>{u(!0),E&&!yt&&(p(!0),We.current&&We.current.handleSubmit(),Wr(),zr(D.ønskerAutomatiskJustering)&&await jt())},Zr=$n(e.søker.kjønn,Br,Fe,ft,Et,gt),Xr=(Pe?!1:qe!==se.FINISHED)||(Ce?!1:Nt!==se.FINISHED),{data:de,error:ze}=et(tt.STØNADSKONTOER,Ds(h,P,F,j,we,K),Xr),en=D=>{u(!1),p(!1),k(!0),C(D);const G=ns(w,D,t);xr(G);const x=Xt(D,t,_,w,G);Ke(x),Y({...S,perioderSomSkalSendesInn:x})},Qe=A.useMemo(()=>{if(de)return J.dekningsgrad===wt.HUNDRE_PROSENT?de[100]:de[80]},[de,J.dekningsgrad]);if(A.useEffect(()=>{if(B.length===0){const D=fa(Qe,V==null?void 0:V.uttaksplan,F,h,j,P,Me,S,Y);C(D),ie(!0),r()}},[]),A.useEffect(()=>{!K&&!t&&V!==void 0&&ve(V)},[t,V,K,ve]),A.useEffect(()=>{if(ze)throw ae(ze),new Error("Vi klarte ikke å hente opp stønadskontoer. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.");if(He)throw ae(He),new Error("Vi klarte ikke å hente informasjon om saken til annen forelder. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.");if(Ye)throw ae(Ye),new Error("Vi klarte ikke å hente informasjon om saken til annen forelder for neste barn. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.")},[ze,He,Ye]),!Le||!de||qe!==se.FINISHED&&!Pe||Nt!==se.FINISHED&&!Ce)return i.jsx("div",{style:{textAlign:"center",padding:"12rem 0"},children:i.jsx(or,{size:"2xlarge"})});const Dt=Wn(de[wt.HUNDRE_PROSENT].minsteretter.toTette),yt=t&&(Ae===void 0||Ae.length===0),tn=()=>{const D=B.filter(G=>Xn(G));C(D),Y({...S,harUttaksplanBlittSlettet:!0})},rn=()=>{K&&(C(K.uttaksplan),Y({...S,perioderSomSkalSendesInn:[]}),Ke([]))},nn=zn(Qe);return i.jsx(at.FormikWrapper,{initialValues:$o(S==null?void 0:S.ønskerJustertUttakVedFødsel,Ne),onSubmit:jt,innerRef:We,renderForm:({values:D})=>{const G=va.getVisbility({ønskerAutomatiskJustering:D[ce.ønskerAutomatiskJustering]??Ie.NO,periodeRundtFødselKanAutomatiskJusteres:Ne});return i.jsxs(cn,{bannerTitle:De(o,"søknad.pageheading"),onCancel:n,onContinueLater:a.fortsettSøknadSenere,steps:s,children:[Cr&&i.jsx(Rs,{minsterettUkerToTette:Dt}),i.jsx(Qn,{foreldreSituasjon:Zr,forelderVedAleneomsorg:Vr,erDeltUttak:Fe,uttaksplan:B,familiehendelsesdato:te,handleOnPlanChange:en,stønadskontoer:Qe,navnPåForeldre:wr,annenForelder:P,arbeidsforhold:Os(e.arbeidsforhold,Be,_,Kt(te)),erEndringssøknad:t,erFarEllerMedmor:_,erFlerbarnssøknad:qr,erAleneOmOmsorg:he,harMidlertidigOmsorg:Jr,situasjon:xe,erMorUfør:Gr,morHarRett:St,søkersituasjon:F,dekningsgrad:J.dekningsgrad,antallBarn:vt,setUttaksplanErGyldig:R,eksisterendeSak:K,perioderSomSkalSendesInn:Ae,harKomplettUttaksplan:Hr,opprinneligPlan:S!=null&&S.harUttaksplanBlittSlettet?void 0:w,handleSlettUttaksplan:tn,handleResetUttaksplan:rn,termindato:Z?b(Z).toDate():void 0,barn:h,visAutomatiskJusteringForm:$e,perioderMedUttakRundtFødsel:Ue,barnFraNesteSak:j,familiehendelsesdatoNesteSak:Ve,førsteUttaksdagNesteBarnsSak:re,minsterettUkerToTette:Dt}),$e&&i.jsx(le,{padBottom:"l",children:i.jsx(jr,{termindato:Z?b(Z).toDate():void 0,perioderMedUttakRundtFødsel:Ue,antallBarn:h.antallBarn,visibility:G})}),i.jsx(yr,{isOpen:g,setIsOpen:f,goToPreviousStep:Ut}),!E&&d&&i.jsx(le,{textAlignCenter:!0,padBottom:"l",children:i.jsx(rt,{variant:"error",children:i.jsx(W,{id:"uttaksplan.validering.kanIkkeGåVidere"})})}),yt&&d&&i.jsx(le,{textAlignCenter:!0,padBottom:"l",children:i.jsx(rt,{variant:"error",children:i.jsx(W,{id:"uttaksplan.validering.kanIkkeGåVidereEndringssøknad"})})}),i.jsx(le,{textAlignCenter:!0,padBottom:"l",children:i.jsxs(Dr,{singleButton:!0,children:[!t&&i.jsx(ye,{variant:"secondary",onClick:c?x=>{x.preventDefault(),f(!0)}:Ut,children:i.jsx(W,{id:"backlink.label"})}),i.jsx(ye,{type:"submit",onClick:Qr,disabled:l,loading:l,children:De(o,"søknad.gåVidere")})]})})]})}})};dt.__docgenInfo={description:"",methods:[],displayName:"UttaksplanStep"};const Aa=(e,t,r=[])=>{switch(e){case N.SØKERSITUASJON:return t===!0;case N.OPPSUMMERING:return es(r)===!1&&r.length>0;default:return!0}},Fa=(e,t,r,n,o,s,a)=>!e||a===void 0?i.jsx(L,{path:"*",element:i.jsx(qt,{to:N.VELKOMMEN})}):ar(r.søker.fødselsdato)?t?i.jsxs(i.Fragment,{children:[i.jsx(L,{path:N.UTTAKSPLAN,element:i.jsx(dt,{søkerInfo:r,erEndringssøknad:t,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(L,{path:N.DOKUMENTASJON,element:i.jsx(Jt,{søkerInfo:r,erEndringssøknad:t,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(L,{path:N.OPPSUMMERING,element:i.jsx(Ct,{erEndringssøknad:t,søkerInfo:r,sendSøknad:o,avbrytSøknad:s,mellomlagreSøknadOgNaviger:n})})]}):i.jsxs(i.Fragment,{children:[i.jsx(L,{path:N.SØKERSITUASJON,element:i.jsx(Ps,{arbeidsforhold:r.arbeidsforhold,kjønn:r.søker.kjønn,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(L,{path:N.OM_BARNET,element:i.jsx(Fs,{søkerInfo:r,søknadGjelderNyttBarn:a,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(L,{path:N.ANNEN_FORELDER,element:i.jsx(vs,{søkerInfo:r,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(L,{path:N.PERIODE_MED_FORELDREPENGER,element:i.jsx(hs,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(L,{path:N.FORDELING,element:i.jsx(Ss,{søker:r.søker,arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(L,{path:N.UTTAKSPLAN,element:i.jsx(dt,{søkerInfo:r,erEndringssøknad:t,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(L,{path:N.DOKUMENTASJON,element:i.jsx(Jt,{søkerInfo:r,erEndringssøknad:t,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(L,{path:N.UTENLANDSOPPHOLD,element:i.jsx(Ts,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(L,{path:N.TIDLIGERE_UTENLANDSOPPHOLD,element:i.jsx(Ns,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(L,{path:N.SENERE_UTENLANDSOPPHOLD,element:i.jsx(Us,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(L,{path:N.INNTEKTSINFORMASJON,element:i.jsx(As,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(L,{path:N.OPPSUMMERING,element:i.jsx(Ct,{erEndringssøknad:t,søkerInfo:r,sendSøknad:o,avbrytSøknad:s,mellomlagreSøknadOgNaviger:n})})]}):i.jsx(L,{path:"*",element:i.jsx(qt,{to:N.IKKE_MYNDIG})}),Rr=({locale:e,onChangeLocale:t,currentRoute:r,søkerInfo:n,saker:o,lagretErEndringssøknad:s,lagretHarGodkjentVilkår:a,lagretSøknadGjelderNyttBarn:l,setKvittering:p})=>{const d=pt(),u=us(),[c,k]=A.useState(!0),[g,f]=A.useState(a||!1),[E,R]=A.useState(s||!1),[F,h]=A.useState(l),{sendSøknad:P,errorSendSøknad:S}=wo(n.søker.fnr,E,p,e),J=Vo(e,n.søker.fnr,E,g,F),B=Ko(n.søker.fnr,R,f,h),j=q(m.UTTAKSPLAN);return A.useEffect(()=>{r&&ar(n.søker.fødselsdato)&&a&&c&&(k(!1),Aa(r,a,j)?d(r):u.pathname===N.OPPSUMMERING&&d(N.UTTAKSPLAN))},[r,n.søker.fødselsdato,a,d,c,u.pathname,j]),S?i.jsx(gn,{appName:"Foreldrepenger",errorMessage:S.message,retryCallback:()=>location.reload()}):i.jsxs(ps,{children:[i.jsx(L,{path:N.VELKOMMEN,element:i.jsx(Es,{fornavn:n.søker.fornavn,locale:e,saker:o,onChangeLocale:t,fnr:n.søker.fnr,harGodkjentVilkår:g,søkerInfo:n,setHarGodkjentVilkår:f,setErEndringssøknad:R,setSøknadGjelderNyttBarn:h,mellomlagreSøknadOgNaviger:J})}),i.jsx(L,{path:N.IKKE_MYNDIG,element:i.jsx(fn,{appnavn:"Foreldrepenger"})}),Fa(g,E,n,J,P,B,F)]})};Rr.__docgenInfo={description:"",methods:[],displayName:"ForeldrepengesøknadRoutes",props:{locale:{required:!0,tsType:{name:"union",raw:"'nb' | 'nn'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"}]},description:""},onChangeLocale:{required:!0,tsType:{name:"signature",type:"function",raw:"(locale: LocaleNo) => void",signature:{arguments:[{type:{name:"union",raw:"'nb' | 'nn'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"}]},name:"locale"}],return:{name:"void"}}},description:""},currentRoute:{required:!0,tsType:{name:"SøknadRoutes"},description:""},søkerInfo:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    søker: Søker;
    arbeidsforhold: Arbeidsforhold[];
}`,signature:{properties:[{key:"søker",value:{name:"intersection",raw:`{
    fødselsdato: string;
    kjønn: Kjønn;
    bankkonto?: Bankkonto;
    sivilstand?: Sivilstand;
    barn: SøkerBarn[];
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    fødselsdato: string;
    kjønn: Kjønn;
    bankkonto?: Bankkonto;
    sivilstand?: Sivilstand;
    barn: SøkerBarn[];
}`,signature:{properties:[{key:"fødselsdato",value:{name:"string",required:!0}},{key:"kjønn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"bankkonto",value:{name:"Bankkonto",required:!1}},{key:"sivilstand",value:{name:"Sivilstand",required:!1}},{key:"barn",value:{name:"Array",elements:[{name:"intersection",raw:`{
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: SøkerAnnenForelder;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: SøkerAnnenForelder;
}`,signature:{properties:[{key:"kjønn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"dødsdato",value:{name:"string",required:!1}},{key:"annenForelder",value:{name:"intersection",raw:`{
    fødselsdato?: string;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    fødselsdato?: string;
}`,signature:{properties:[{key:"fødselsdato",value:{name:"string",required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}],required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}]}],raw:"SøkerBarn[]",required:!0}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}],required:!0}},{key:"arbeidsforhold",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverNavn: string;
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    fom: string;
    tom?: string;
    stillingsprosent: number;
}`,signature:{properties:[{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}},{key:"stillingsprosent",value:{name:"number",required:!0}}]}}],raw:"Arbeidsforhold[]",required:!0}}]}},description:""},saker:{required:!0,tsType:{name:"Array",elements:[{name:"Sak"}],raw:"Sak[]"},description:""},lagretErEndringssøknad:{required:!1,tsType:{name:"boolean"},description:""},lagretHarGodkjentVilkår:{required:!1,tsType:{name:"boolean"},description:""},lagretSøknadGjelderNyttBarn:{required:!1,tsType:{name:"boolean"},description:""},setKvittering:{required:!0,tsType:{name:"signature",type:"function",raw:"(kvittering: Kvittering) => void",signature:{arguments:[{type:{name:"Kvittering"},name:"kvittering"}],return:{name:"void"}}},description:""}}};const er=()=>i.jsx("div",{style:{textAlign:"center",padding:"12rem 0"},children:i.jsx(or,{size:"2xlarge"})}),Ir=({locale:e,onChangeLocale:t})=>{var g,f;const r=lt();io(r.formatMessage({id:"søknad.pagetitle"}));const{søkerinfoData:n,søkerinfoError:o}=oe.useSøkerinfo(),{sakerData:s,sakerError:a}=oe.useGetSaker(),{storageData:l,storageStatus:p}=oe.useStoredAppState(),[d,u]=A.useState();A.useEffect(()=>{if(o)throw ae(o),new Error("Vi klarte ikke å hente informasjon om deg. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.");if(a)throw ae(a),new Error("Vi klarte ikke å hente informasjon om sakene dine. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.")},[o,a]);const c=l&&Zt(l)?Lo(l):void 0,k=l!==void 0&&Zt(l);return A.useEffect(()=>{l!=null&&l.locale&&l.locale!==e&&t(l.locale)},[l]),d?Xe.INNSYN?(ao(d.saksNr?`${Xe.INNSYN}/sak/${d.saksNr}/redirectFromSoknad`:`${Xe.INNSYN}/redirectFromSoknad`),i.jsx(er,{})):i.jsx("div",{children:"Redirected to Innsyn"}):!s||!n||p===se.IN_PROGRESS?i.jsx(er,{}):i.jsx(kt,{søker:n.søker,children:i.jsx(gs,{initialState:c,children:i.jsx(ts,{children:i.jsx(Rr,{locale:e,onChangeLocale:t,søkerInfo:n,saker:s.foreldrepenger,currentRoute:k?l.currentRoute:N.VELKOMMEN,lagretErEndringssøknad:k?(g=l.søknad)==null?void 0:g.erEndringssøknad:!1,lagretHarGodkjentVilkår:k?(f=l.søknad)==null?void 0:f.harGodkjentVilkår:!1,lagretSøknadGjelderNyttBarn:k?l.søknadGjelderEtNyttBarn:!1,setKvittering:u})})})})};Ir.__docgenInfo={description:"",methods:[],displayName:"Foreldrepengesøknad"};const _r=lo(),ha={nb:{...on,..._t.nb,...bt.nb,...Mt.nb,...Lt.nb,...Qt.nb,...Wt.nb,...zt.nb},nn:{...an,..._t.nn,...bt.nn,...Mt.nn,...Lt.nn,...Qt.nn,...Wt.nn,...zt.nn}};b.locale(_r);const br=()=>{const[e,t]=A.useState(_r);return i.jsx(kt,{children:i.jsx(ys,{children:i.jsxs(En,{locale:e,messagesGroupedByLocale:ha,children:[i.jsx(vn,{}),i.jsx(Ir,{locale:e,onChangeLocale:r=>{uo(r),t(r),dn(r),document.documentElement.setAttribute("lang",r)}})]})})})},Mr=br;br.__docgenInfo={description:"",methods:[],displayName:"AppContainer"};const Pa={søker:{fnr:"06499121154",fornavn:"Tapper",etternavn:"Konvolutt",kjønn:"M",fødselsdato:"1991-09-06",bankkonto:{kontonummer:"",banknavn:""},barn:[]},arbeidsforhold:[{arbeidsgiverId:"896929119",arbeidsgiverIdType:"orgnr",arbeidsgiverNavn:"SAUEFABRIKK",stillingsprosent:100,fom:"2018-03-01"}]},Bi={title:"AppContainer",component:Mr},Ta=({søkerinfoData:e,sakerData:t,annenPartVedtakData:r,stønadskontoerData:n,storageKvitteringData:o})=>{Sn();const s=new sn(ln());return s.onGet("/rest/sokerinfo").reply(200,e),s.onGet("/rest/innsyn/v2/saker").reply(200,t),s.onGet("/rest/innsyn/v2/annenPartVedtak").reply(200,r),s.onGet("/rest/konto").reply(200,n),s.onGet("/rest/storage/kvittering/foreldrepenger").reply(200,o),s.onGet("test/rest/konto").replyOnce(200,Ys),s.onGet("test/rest/konto").replyOnce(200,zs),s.onPost("/rest/innsyn/v2/annenPartVedtak").replyOnce(200,void 0,se.FINISHED),s.onPost("/rest/storage/foreldrepenger").reply(200,{}),s.onPost("/rest/soknad").reply(200,{}),s.onPost("/rest/sendSøknadUrl").reply(200,{}),s.onDelete("/rest/storage/foreldrepenger").reply(200,{}),i.jsx(Mr,{})},me=Ta.bind({});me.args={søkerinfoData:Pa,sakerData:Hs,annenPartVedtakData:xs,stønadskontoerData:Xs,storageKvitteringData:Gs};var tr,rr,nr;me.parameters={...me.parameters,docs:{...(tr=me.parameters)==null?void 0:tr.docs,source:{originalSource:`({
  søkerinfoData,
  sakerData,
  annenPartVedtakData,
  stønadskontoerData,
  storageKvitteringData
}) => {
  initAmplitude();
  const apiMock = new MockAdapter(getAxiosInstance());
  apiMock.onGet('/rest/sokerinfo').reply(200, søkerinfoData);
  apiMock.onGet('/rest/innsyn/v2/saker').reply(200, sakerData);
  apiMock.onGet('/rest/innsyn/v2/annenPartVedtak').reply(200, annenPartVedtakData);
  apiMock.onGet('/rest/konto').reply(200, stønadskontoerData);
  apiMock.onGet('/rest/storage/kvittering/foreldrepenger').reply(200, storageKvitteringData);
  apiMock.onGet('test/rest/konto').replyOnce(200, stønadskontoDeltUttak80);
  apiMock.onGet('test/rest/konto').replyOnce(200, stønadskontoDeltUttak100);
  apiMock.onPost('/rest/innsyn/v2/annenPartVedtak').replyOnce(200, undefined, RequestStatus.FINISHED);
  apiMock.onPost('/rest/storage/foreldrepenger').reply(200, {});
  apiMock.onPost('/rest/soknad').reply(200, {});
  apiMock.onPost('/rest/sendSøknadUrl').reply(200, {});
  apiMock.onDelete('/rest/storage/foreldrepenger').reply(200, {});
  return <AppContainer />;
}`,...(nr=(rr=me.parameters)==null?void 0:rr.docs)==null?void 0:nr.source}}};const Vi=["SøkerErMann"];export{me as SøkerErMann,Vi as __namedExportsOrder,Bi as default};
