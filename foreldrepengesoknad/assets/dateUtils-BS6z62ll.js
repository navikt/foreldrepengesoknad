import{d as o,h as Z,Q as H,ac as I,y as A,C as F,a0 as b,c as B,U as R}from"./Tidsperioden-DFNhTsrb.js";import{c as Y,g as T}from"./index-Cu9bd8lq.js";import"./jsx-runtime-DoxjgJx5.js";import"./index-C-6Uy6j4.js";import{Q as G,Z as E,_ as Q,$ as C,a0 as N}from"./index-B9A3zV3L.js";import"./_baseToString-yTMKM5a7.js";import"./_createSet-BNfKGSGn.js";var W={exports:{}};(function(e,t){(function(m,f){e.exports=f()})(Y,function(){return function(m,f){var S=f.prototype,c=S.format;S.format=function(i){var r=this,D=this.$locale();if(!this.isValid())return c.bind(this)(i);var a=this.$utils(),l=(i||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((r.$M+1)/3);case"Do":return D.ordinal(r.$D);case"gggg":return r.weekYear();case"GGGG":return r.isoWeekYear();case"wo":return D.ordinal(r.week(),"W");case"w":case"ww":return a.s(r.week(),d==="w"?1:2,"0");case"W":case"WW":return a.s(r.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return a.s(String(r.$H===0?24:r.$H),d==="k"?1:2,"0");case"X":return Math.floor(r.$d.getTime()/1e3);case"x":return r.$d.getTime();case"z":return"["+r.offsetName()+"]";case"zzz":return"["+r.offsetName("long")+"]";default:return d}});return c.bind(this)(l)}}})})(W);var V=W.exports;const X=T(V);var j={exports:{}};(function(e,t){(function(m,f){e.exports=f()})(Y,function(){var m={year:0,month:1,day:2,hour:3,minute:4,second:5},f={};return function(S,c,i){var r,D=function(s,h,u){u===void 0&&(u={});var n=new Date(s),g=function(p,v){v===void 0&&(v={});var z=v.timeZoneName||"short",$=p+"|"+z,x=f[$];return x||(x=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:p,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:z}),f[$]=x),x}(h,u);return g.formatToParts(n)},a=function(s,h){for(var u=D(s,h),n=[],g=0;g<u.length;g+=1){var p=u[g],v=p.type,z=p.value,$=m[v];$>=0&&(n[$]=parseInt(z,10))}var x=n[3],y=x===24?0:x,w=n[0]+"-"+n[1]+"-"+n[2]+" "+y+":"+n[4]+":"+n[5]+":000",k=+s;return(i.utc(w).valueOf()-(k-=k%1e3))/6e4},l=c.prototype;l.tz=function(s,h){s===void 0&&(s=r);var u=this.utcOffset(),n=this.toDate(),g=n.toLocaleString("en-US",{timeZone:s}),p=Math.round((n-new Date(g))/1e3/60),v=i(g,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(15*-Math.round(n.getTimezoneOffset()/15)-p,!0);if(h){var z=v.utcOffset();v=v.add(u-z,"minute")}return v.$x.$timezone=s,v},l.offsetName=function(s){var h=this.$x.$timezone||i.tz.guess(),u=D(this.valueOf(),h,{timeZoneName:s}).find(function(n){return n.type.toLowerCase()==="timezonename"});return u&&u.value};var d=l.startOf;l.startOf=function(s,h){if(!this.$x||!this.$x.$timezone)return d.call(this,s,h);var u=i(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return d.call(u,s,h).tz(this.$x.$timezone,!0)},i.tz=function(s,h,u){var n=u&&h,g=u||h||r,p=a(+i(),g);if(typeof s!="string")return i(s).tz(g);var v=function(y,w,k){var M=y-60*w*1e3,O=a(M,k);if(w===O)return[M,w];var U=a(M-=60*(O-w)*1e3,k);return O===U?[M,O]:[y-60*Math.min(O,U)*1e3,Math.max(O,U)]}(i.utc(s,n).valueOf(),p,g),z=v[0],$=v[1],x=i(z).utcOffset($);return x.$x.$timezone=g,x},i.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},i.tz.setDefault=function(s){r=s}}})})(j);var _=j.exports;const q=T(_),J=e=>"morsSisteDag"in e;o.extend(Z);o.extend(H);o.extend(I);o.extend(q);o.extend(X);const ae=o().subtract(4,"year").startOf("day").toDate(),L=(e,t)=>!A(e)||!A(t)||!F(e)||!F(t)?!1:!!o(e).isBefore(t,"day"),ne=e=>[...e].sort((t,m)=>L(t.fødselsdato,m.fødselsdato)?1:-1)[e.length-1],fe=e=>[...e].map(m=>b(m)).sort((m,f)=>L(m,f)?-1:1),de=(e,t)=>e&&t?o(e).isSameOrAfter(t,"day"):!0,ue=e=>{if(e.length>0)return o.min(e.map(t=>o(t))).toDate()},me=(e,t,m)=>{if(m!==void 0)return m;if(t!==void 0)return t;if(e!==void 0)return e;throw new Error("Mangler fødselsdato/termindato/adopsjonsdato for barnet.")},ce=e=>{const t=new Date("2021-10-01");return o(e).isSameOrAfter(t,"day")&&o(new Date).isSameOrAfter(t,"day")},le=e=>{const t=new Date("2022-08-02");return o(e).isSameOrAfter(t,"day")&&o(new Date).isSameOrAfter(t,"day")},ve=(e,t)=>o(e).isAfter(R(t).neste(),"day"),he=(e,t,m)=>{if(!m)return;const f=e===void 0?void 0:e.filter(r=>!G(r)),S=t.filter(r=>!G(r));let c,i;if(f)S.forEach((r,D)=>{if(c)return;const{fom:a}=r.tidsperiode,l=f.find(d=>o(d.tidsperiode.fom).isSame(a,"day"));if(l!==void 0){const d=E(r).erLik(l,!1,!0);(!d||d&&E(r).slutterEtter(l.tidsperiode.tom))&&(c=a)}if(l===void 0&&(c=a),l!==void 0&&S.length-1===D&&(E(r).erLik(l,!0,!0)||(c=a)),c&&Q(r)&&o(c).isAfter(f[f.length-1].tidsperiode.tom)){const d=S.find(s=>(C(s)||N(s))&&o(s.tidsperiode.fom).isAfter(c));c=d!==void 0?d.tidsperiode.fom:c}}),f.forEach(r=>{if(i)return;const{fom:D}=r.tidsperiode,a=S.find(l=>o(l.tidsperiode.fom).isSame(D,"day"));a!==void 0&&!E(r).erLik(a,!1,!0)&&(i=a.tidsperiode.fom),a===void 0&&(i=D)});else if(S.length>0)return S[0].tidsperiode.fom;return K(c,i)},K=(e,t)=>{if(!(e===void 0&&t===void 0))return e!==void 0&&t===void 0?e:e===void 0&&t!==void 0?t:o(e).isSameOrBefore(o(t))?e:t},ge=e=>{if(e&&J(e))return B(e.morsSisteDag)};export{ne as a,ge as b,he as c,ae as d,ve as e,ce as f,me as g,le as h,L as i,ue as j,de as k,fe as s,q as t};
