import{j as n}from"./jsx-runtime-69eee039.js";import{p as te,u as _,i,Y as a,o as l,r as U,M as ke,B as o,H as ve,b as c,d as F,G as Ie,e as K,c as je,R as X,l as J,au as Be,Z as _e,av as Me,$ as G,h as M,q as Re,t as Le}from"./validationUtils-52801e0e.js";import"./index-e13aeee6.js";import{r as P}from"./index-7c191284.js";import{S as be,a as Ye}from"./mapSøkerinfoDTO-fba55ae3.js";import{u as Pe}from"./useOnValidSubmit-44488e46.js";import{a as Ue,j as qe,i as Ce,L as we}from"./useSøknad-298af852.js";import{u as We}from"./useSøkerinfo-51e3a0e2.js";import{u as Je,a as Ke,b as Qe,s as He,c as $e}from"./useSaveLoadedRoute-c0ec6c65.js";import{V as Ge,O as W,z as w,q as ie,W as ze,I as B}from"./dateUtils-a4ce83a0.js";import{I as Ne}from"./InteractiveListElement-c8c0cb44.js";import{A as h,H as Ze,a as Xe,N as ne}from"./Næring-62b00a9a.js";import{A as Fe}from"./Environment-07523402.js";import{S as ae}from"./Skjemanummer-77149054.js";import{c as D,a as V}from"./formUtils-3000cdf9.js";import{a as en}from"./vedleggUtils-fe89b468.js";import{Q as se}from"./index-47edccfa.js";import{F as nn}from"./FormikFileUploader-30550ca1.js";import{n as he,o as rn,v as ye,r as ee}from"./periodeUtils-1f66382d.js";import{L as z}from"./Label-2ad8abda.js";import{B as L,L as De}from"./Link-00530630.js";import{l as Z}from"./links-b36d21ab.js";import{a as tn}from"./submitUtils-e43e4b36.js";import{g as sn}from"./arbeidsforholdUtils-b8f13914.js";var v=(e=>(e.hattInntektSomFrilans="hattInntektSomFrilans",e.hattInntektSomNæringsdrivende="hattInntektSomNæringsdrivende",e.hattAndreInntekter="hattAndreInntekter",e.frilansOppstartsDato="frilansOppstartsDato",e.jobberFremdelesSomFrilanser="jobberFremdelesSomFrilanser",e.oppdragForNæreVennerEllerFamilie="oppdragForNæreVennerEllerFamilie",e.inntektSomFosterforelder="inntektSomFosterforelder",e))(v||{});const Y=te(),an=(e,r)=>e===h.JOBB_I_UTLANDET?i(r,"inntektsinformasjon.andreInntekter.inntektsliste.jobbIUtlandet"):e===h.MILITÆRTJENESTE?i(r,"inntektsinformasjon.andreInntekter.inntektsliste.førstegangstjeneste"):e===h.SLUTTPAKKE?i(r,"inntektsinformasjon.andreInntekter.inntektsliste.sluttpakke"):i(r,"inntektsinformasjon.andreInntekter.inntektsliste.ventelønn"),oe=({andreInntekter:e,deleteAnnenInntekt:r,selectAnnenInntekt:s})=>{const g=_();return e.length===0?null:n.jsx("ul",{style:{margin:0,padding:0,listStyle:"none"},children:e.map((m,A)=>n.jsx(Ne,{deleteLinkText:"Slett annen inntekt",onDelete:()=>r(m),onEdit:()=>s(m),text:Ge(m.tidsperiode),title:an(m.type,g),deleteButtonAriaText:"Slett annen inntekt",editButtonAriaText:"Rediger annen inntekt",missingDocumentation:m.vedlegg.length===0&&m.type!==h.JOBB_I_UTLANDET},`${m.type}${m.tidsperiode.fom}${A}`))})};try{oe.displayName="AndreInntekterListe",oe.__docgenInfo={description:"",displayName:"AndreInntekterListe",props:{andreInntekter:{defaultValue:null,description:"",name:"andreInntekter",required:!0,type:{name:"AnnenInntekt[]"}},deleteAnnenInntekt:{defaultValue:null,description:"",name:"deleteAnnenInntekt",required:!0,type:{name:"(oppdrag: AnnenInntekt) => void"}},selectAnnenInntekt:{defaultValue:null,description:"",name:"selectAnnenInntekt",required:!0,type:{name:"(oppdrag: AnnenInntekt) => void"}}}}}catch{}var u=(e=>(e.type="type",e.navnPåArbeidsgiver="navnPåArbeidsgiver",e.land="land",e.fom="fom",e.tom="tom",e.pågående="pågående",e.dokumentasjon="dokumentasjon",e))(u||{});const C=te(),R={[u.type]:void 0,[u.fom]:"",[u.tom]:"",[u.pågående]:a.UNANSWERED,[u.navnPåArbeidsgiver]:"",[u.land]:"",[u.dokumentasjon]:[]},Ve=e=>e.type===h.MILITÆRTJENESTE?ae.DOK_MILITÆR_SILVIL_TJENESTE:e.type===h.SLUTTPAKKE?ae.ETTERLØNN_ELLER_SLUTTVEDERLAG:ae.ANNET,on=(e,r)=>({type:r.isVisible(u.type)?e.type:R.type,dokumentasjon:r.isVisible(u.dokumentasjon)?en(e.dokumentasjon,Fe.ANNEN_INNTEKT,Ve(e)):R.dokumentasjon,fom:r.isVisible(u.fom)?e.fom:R.fom,tom:r.isVisible(u.tom)?e.tom:R.tom,pågående:r.isVisible(u.pågående)?e.pågående:R.pågående,navnPåArbeidsgiver:r.isVisible(u.navnPåArbeidsgiver)?e.navnPåArbeidsgiver:R.navnPåArbeidsgiver,land:r.isVisible(u.land)?e.land:R.land}),dn=e=>e?e.type===h.JOBB_I_UTLANDET?{...R,navnPåArbeidsgiver:e.arbeidsgiverNavn,land:e.land,fom:e.tidsperiode.fom,tom:e.tidsperiode.tom||"",dokumentasjon:e.vedlegg,pågående:D(e.pågående),type:e.type}:{...R,fom:e.tidsperiode.fom,tom:e.tidsperiode.tom||"",dokumentasjon:e.vedlegg,pågående:D(e.pågående),type:e.type}:{...R},Ee=e=>e.type===h.JOBB_I_UTLANDET?{arbeidsgiverNavn:e.navnPåArbeidsgiver,land:e.land,pågående:V(e.pågående),tidsperiode:{fom:e.fom,tom:e.tom},type:e.type,vedlegg:[]}:{pågående:V(e.pågående),tidsperiode:{fom:e.fom,tom:e.tom},type:e.type,vedlegg:e.dokumentasjon||[]},ln={[u.type]:{isIncluded:()=>!0,isAnswered:({type:e})=>l(e)},[u.land]:{isIncluded:({type:e})=>e===h.JOBB_I_UTLANDET,isAnswered:({land:e})=>l(e),visibilityFilter:({type:e})=>e===h.JOBB_I_UTLANDET},[u.navnPåArbeidsgiver]:{isIncluded:({type:e})=>e===h.JOBB_I_UTLANDET,isAnswered:({navnPåArbeidsgiver:e})=>l(e),visibilityFilter:({land:e})=>l(e)},[u.fom]:{isIncluded:()=>!0,isAnswered:({fom:e})=>l(e),visibilityFilter:({type:e,navnPåArbeidsgiver:r,land:s})=>e===h.JOBB_I_UTLANDET&&l(r)&&l(s)||e!==h.JOBB_I_UTLANDET&&l(e)},[u.pågående]:{isIncluded:()=>!0,isAnswered:({pågående:e})=>e!==a.UNANSWERED,visibilityFilter:({fom:e})=>l(e)},[u.tom]:{isIncluded:({pågående:e})=>e===a.NO,isAnswered:({tom:e})=>l(e),visibilityFilter:({pågående:e})=>e===a.NO},[u.dokumentasjon]:{isIncluded:({type:e})=>e!==h.JOBB_I_UTLANDET,isAnswered:()=>!0,visibilityFilter:({pågående:e,tom:r})=>e===a.YES||e===a.NO&&l(r)}},gn=se(ln),mn=(e,r)=>s=>{if(!l(s))return i(e,"valideringsfeil.fraOgMedDato.påkrevd");if(!U(s))return i(e,"valideringsfeil.fraOgMedDato.gyldigDato");if(W(s))return i(e,"valideringsfeil.fraOgMedDato.erIFremtiden");if(w(r,s))return i(e,"valideringsfeil.fraOgMedDato.førTilDato")},pn=(e,r)=>s=>{if(!l(s))return i(e,"valideringsfeil.tilOgMedDato.påkrevd");if(!U(s))return i(e,"valideringsfeil.tilOgMedDato.gyldigDato");if(W(s))return i(e,"valideringsfeil.tilOgMedDato.erIFremtiden");if(w(s,r))return i(e,"valideringsfeil.tilOgMedDato.etterFraDato")};const de=({isOpen:e,contentLabel:r,onRequestClose:s,selectedAnnenInntekt:g,addAnnenInntekt:m,editAnnenInntekt:A})=>{const d=_(),S=je("andreInntekterModal"),j=p=>{g?A(Ee(p)):m(Ee(p)),s()},O=p=>p.type===h.MILITÆRTJENESTE?"inntektsinformasjon.andreInntekterModal.veileder.militær":p.type===h.SLUTTPAKKE?"inntektsinformasjon.andreInntekterModal.veileder.sluttpakke":"inntektsinformasjon.andreInntekterModal.veileder.ventelønn",I=i(d,"annenInntekt.spørsmål.arbeidsgiver");return n.jsx(ke,{open:e,"aria-label":r,onClose:s,closeButton:!0,shouldCloseOnOverlayClick:!1,className:S.block,children:n.jsx(C.FormikWrapper,{initialValues:dn(g),onSubmit:j,renderForm:({values:p})=>{const f=gn.getVisbility(p);return n.jsxs(C.Form,{includeButtons:!1,cleanup:y=>on(y,f),children:[n.jsx(o,{padBottom:"l",children:n.jsx(ve,{size:"small",className:S.element("tittel"),children:n.jsx(c,{id:"inntektsinformasjon.andreInntekterModal.tittel"})})}),n.jsx(o,{padBottom:"l",visible:f.isVisible(u.type),children:n.jsx(C.RadioGroup,{legend:"Andre inntekter",name:u.type,radios:[{label:"Jobb i utlandet",value:h.JOBB_I_UTLANDET},{label:"Vartpenger og ventelønn",value:h.VENTELØNN},{label:"Sluttvederlag",value:h.SLUTTPAKKE},{label:"Førstegangstjeneste",value:h.MILITÆRTJENESTE}]})}),n.jsx(o,{padBottom:"l",visible:f.isVisible(u.land),children:n.jsx(C.CountrySelect,{name:u.land,label:i(d,"annenInntekt.spørsmål.land"),useAlpha3Code:!1})}),n.jsx(o,{padBottom:"l",visible:f.isVisible(u.navnPåArbeidsgiver),children:n.jsx(C.TextField,{name:u.navnPåArbeidsgiver,label:I,validate:he(I,d)})}),n.jsx(o,{padBottom:"l",visible:f.isVisible(u.fom),children:n.jsx(C.DatePicker,{name:u.fom,label:i(d,"fom"),placeholder:"dd.mm.åååå",fullscreenOverlay:!0,showYearSelector:!0,validate:mn(d,p.tom),maxDate:F().toDate()})}),n.jsx(o,{padBottom:"l",visible:f.isVisible(u.pågående),children:n.jsx(C.YesOrNoQuestion,{name:u.pågående,legend:i(d,"pågående")})}),n.jsx(o,{padBottom:"l",visible:f.isVisible(u.tom),children:n.jsx(C.DatePicker,{name:u.tom,label:i(d,"tom"),placeholder:"dd.mm.åååå",fullscreenOverlay:!0,showYearSelector:!0,validate:pn(d,p.fom),maxDate:F().toDate()})}),n.jsx(o,{padBottom:"l",visible:f.isVisible(u.dokumentasjon),children:n.jsx(Ie,{children:n.jsx(c,{id:O(p)})})}),n.jsx(o,{padBottom:"l",visible:f.isVisible(u.dokumentasjon),children:n.jsx(nn,{legend:"Dokumentasjon av andre inntekter",name:u.dokumentasjon,label:"Last opp dokumentasjon",attachments:p.dokumentasjon,attachmentType:Fe.ANNEN_INNTEKT,skjemanummer:Ve(p)})}),n.jsx(o,{visible:f.areAllQuestionsAnswered(),textAlignCenter:!0,children:n.jsx(K,{children:i(d,"søknad.gåVidere")})})]})}})})};try{de.displayName="AndreInntekterModal",de.__docgenInfo={description:"",displayName:"AndreInntekterModal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},contentLabel:{defaultValue:null,description:"",name:"contentLabel",required:!0,type:{name:"string"}},onRequestClose:{defaultValue:null,description:"",name:"onRequestClose",required:!0,type:{name:"() => void"}},addAnnenInntekt:{defaultValue:null,description:"",name:"addAnnenInntekt",required:!0,type:{name:"(annenInntekt: AnnenInntekt) => void"}},editAnnenInntekt:{defaultValue:null,description:"",name:"editAnnenInntekt",required:!0,type:{name:"(annenInntekt: AnnenInntekt) => void"}},selectedAnnenInntekt:{defaultValue:null,description:"",name:"selectedAnnenInntekt",required:!0,type:{name:"AnnenInntekt | undefined"}}}}}catch{}const le=({andreInntekterInformasjon:e,setAndreInntekterInformasjon:r,visibility:s,formValues:g})=>{const m=_(),[A,d]=P.useState(!1),[S,j]=P.useState(),O=()=>{d(!0)},I=k=>{const x=e.concat(k);r(x)},p=k=>{const x=e.filter(T=>T!==k);r(x)},f=k=>{const x=e.filter(T=>T!==S).concat(k);r(x)},y=k=>{j(k),d(!0)};return n.jsxs(n.Fragment,{children:[n.jsx(o,{padBottom:"l",visible:s.isVisible(v.hattAndreInntekter),children:n.jsx(Y.YesOrNoQuestion,{name:v.hattAndreInntekter,legend:i(m,"inntektsinformasjon.annenInntekt"),validate:k=>{if(k===a.YES&&e.length===0)return i(m,"valideringsfeil.inntektsinformasjon.andreInntekter.måHaOppdrag")}})}),g.hattAndreInntekter===a.YES&&n.jsxs("div",{style:{backgroundColor:"#f1f1f1",marginBottom:"1rem",padding:"1rem"},children:[n.jsx(de,{isOpen:A,contentLabel:i(m,"inntektsinformasjon.andreInntekterModal.contentLabel"),onRequestClose:()=>d(!1),selectedAnnenInntekt:S,addAnnenInntekt:I,editAnnenInntekt:f}),n.jsx(o,{padBottom:"l",visible:e.length>0,children:n.jsx(oe,{andreInntekter:e,deleteAnnenInntekt:p,selectAnnenInntekt:y})}),n.jsx(K,{type:"button",onClick:O,children:n.jsx(c,{id:"inntektsinformasjon.leggTilOppdrag"})})]})]})};try{le.displayName="AndreInntekter",le.__docgenInfo={description:"",displayName:"AndreInntekter",props:{andreInntekterInformasjon:{defaultValue:null,description:"",name:"andreInntekterInformasjon",required:!0,type:{name:"AnnenInntekt[]"}},setAndreInntekterInformasjon:{defaultValue:null,description:"",name:"setAndreInntekterInformasjon",required:!0,type:{name:"any"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<InntektsinformasjonFormField, undefined>"}},formValues:{defaultValue:null,description:"",name:"formValues",required:!0,type:{name:"InntektsinformasjonFormData"}}}}}catch{}const ge=({arbeidsforhold:e})=>{const r=e!==void 0&&e.length>0;return n.jsxs(o,{padBottom:"xl",children:[n.jsx(z,{children:"Dine arbeidsforhold"}),n.jsx(Ze,{harArbeidsforhold:r}),n.jsx(Xe,{harArbeidsforhold:r,arbeidsforhold:e}),n.jsx(X,{header:"Finner du feil eller mangler?",children:n.jsx(L,{children:"Informasjonen er hentet fra Arbeidsgiver- og arbeidstakerregisteret. Derfor må du be din arbeidsgiver oppdatere med riktig informasjon i Arbeidsgiver- og arbeidstakerregisteret."})})]})};try{ge.displayName="ArbeidsforholdInformasjon",ge.__docgenInfo={description:"",displayName:"ArbeidsforholdInformasjon",props:{arbeidsforhold:{defaultValue:null,description:"",name:"arbeidsforhold",required:!0,type:{name:"Arbeidsforhold[]"}}}}}catch{}const fn=({næringsInformasjon:e,deleteNæring:r,selectNæring:s})=>e.length===0?null:n.jsx("ul",{style:{margin:0,padding:0,listStyle:"none"},children:e.map((g,m)=>n.jsx(Ne,{deleteLinkText:"Slett næring",onDelete:()=>r(g),onEdit:()=>s(g),text:`${ie(g.tidsperiode.fom)} - ${g.tidsperiode.tom?ie(g.tidsperiode.tom):"pågående"}`,title:g.navnPåNæringen,deleteButtonAriaText:"Slett næring",editButtonAriaText:"Rediger næring"},`${g.navnPåNæringen}${m}`))});try{EgenNringListe.displayName="EgenNringListe",EgenNringListe.__docgenInfo={description:"",displayName:"EgenNringListe",props:{næringsInformasjon:{defaultValue:null,description:"",name:"næringsInformasjon",required:!0,type:{name:"Næring[]"}},deleteNæring:{defaultValue:null,description:"",name:"deleteNæring",required:!0,type:{name:"(oppdrag: Næring) => void"}},selectNæring:{defaultValue:null,description:"",name:"selectNæring",required:!0,type:{name:"(oppdrag: Næring) => void"}}}}}catch{}const un=()=>{const e=_();return n.jsx(X,{header:i(e,"inntektsinformasjon.harJobbetSomSelvstendigNæringsdrivendeSiste10Mnd.apneLabel"),children:n.jsxs("div",{children:[n.jsx(o,{padBottom:"l",children:n.jsx(L,{children:n.jsx(c,{id:"inntektsinformasjon.harJobbetSomSelvstendigNæringsdrivendeSiste10Mnd.infoboks.del1"})})}),n.jsx(L,{children:n.jsx(c,{id:"inntektsinformasjon.harJobbetSomSelvstendigNæringsdrivendeSiste10Mnd.infoboks.del2",values:{a:r=>n.jsx(De,{href:Z.næringsdrivendeInfoBoks,rel:"noreferrer",target:"_blank",children:r})}})})]})})};var t=(e=>(e.type="type",e.navnPåNæringen="navnPåNæringen",e.registrertINorge="registrertINorge",e.orgnr="orgnr",e.land="land",e.fom="fom",e.tom="tom",e.pågående="pågående",e.yrkesAktivDato="yrkesAktivDato",e.næringsresultat="næringsresultat",e.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene="harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene",e.hattVarigEndringAvNæringsinntektSiste4Kalenderår="hattVarigEndringAvNæringsinntektSiste4Kalenderår",e.datoForEndring="datoForEndring",e.inntektEtterEndring="inntektEtterEndring",e.forklaringEndring="forklaringEndring",e.harRegnskapsfører="harRegnskapsfører",e.navnRegnskapsfører="navnRegnskapsfører",e.telefonRegnskapsfører="telefonRegnskapsfører",e.regnskapsførerNærVennEllerFamilie="regnskapsførerNærVennEllerFamilie",e))(t||{});const N=te(),b={[t.type]:void 0,[t.navnPåNæringen]:"",[t.registrertINorge]:a.UNANSWERED,[t.orgnr]:"",[t.land]:"",[t.tom]:"",[t.fom]:"",[t.pågående]:a.UNANSWERED,[t.næringsresultat]:"",[t.hattVarigEndringAvNæringsinntektSiste4Kalenderår]:a.UNANSWERED,[t.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene]:a.UNANSWERED,[t.yrkesAktivDato]:"",[t.datoForEndring]:"",[t.inntektEtterEndring]:"",[t.forklaringEndring]:"",[t.harRegnskapsfører]:a.UNANSWERED,[t.navnRegnskapsfører]:"",[t.telefonRegnskapsfører]:"",[t.regnskapsførerNærVennEllerFamilie]:a.UNANSWERED},cn=(e,r)=>({type:r.isVisible(t.type)?e.type:void 0,navnPåNæringen:r.isVisible(t.navnPåNæringen)?e.navnPåNæringen:b.navnPåNæringen,registrertINorge:r.isVisible(t.registrertINorge)?e.registrertINorge:b.registrertINorge,orgnr:r.isVisible(t.orgnr)?e.orgnr:b.orgnr,land:r.isVisible(t.land)?e.land:b.land,tom:r.isVisible(t.tom)?e.tom:b.tom,fom:r.isVisible(t.fom)?e.fom:b.fom,pågående:r.isVisible(t.pågående)?e.pågående:b.pågående,næringsresultat:r.isVisible(t.næringsresultat)?e.næringsresultat:b.næringsresultat,hattVarigEndringAvNæringsinntektSiste4Kalenderår:r.isVisible(t.hattVarigEndringAvNæringsinntektSiste4Kalenderår)?e.hattVarigEndringAvNæringsinntektSiste4Kalenderår:b.hattVarigEndringAvNæringsinntektSiste4Kalenderår,harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene:r.isVisible(t.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene)?e.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene:b.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene,yrkesAktivDato:r.isVisible(t.yrkesAktivDato)?e.yrkesAktivDato:b.yrkesAktivDato,datoForEndring:r.isVisible(t.datoForEndring)?e.datoForEndring:b.datoForEndring,inntektEtterEndring:r.isVisible(t.inntektEtterEndring)?e.inntektEtterEndring:b.inntektEtterEndring,forklaringEndring:r.isVisible(t.forklaringEndring)?e.forklaringEndring:b.forklaringEndring,harRegnskapsfører:r.isVisible(t.harRegnskapsfører)?e.harRegnskapsfører:b.harRegnskapsfører,navnRegnskapsfører:r.isVisible(t.navnRegnskapsfører)?e.navnRegnskapsfører:b.navnRegnskapsfører,telefonRegnskapsfører:r.isVisible(t.telefonRegnskapsfører)?e.telefonRegnskapsfører:b.telefonRegnskapsfører,regnskapsførerNærVennEllerFamilie:r.isVisible(t.regnskapsførerNærVennEllerFamilie)?e.regnskapsførerNærVennEllerFamilie:b.regnskapsførerNærVennEllerFamilie}),kn=e=>{var r;return e?{...b,type:e.næringstyper.length>0?e.næringstyper[0]:void 0,navnPåNæringen:e.navnPåNæringen,registrertINorge:D(e.registrertINorge),land:e.registrertILand||"",fom:J(e.tidsperiode.fom),tom:J(e.tidsperiode.tom)||"",orgnr:e.organisasjonsnummer||"",pågående:D(e.pågående),næringsresultat:((r=e.næringsinntekt)==null?void 0:r.toString())||"",hattVarigEndringAvNæringsinntektSiste4Kalenderår:D(e.hattVarigEndringAvNæringsinntektSiste4Kalenderår),harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene:D(e.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene),yrkesAktivDato:J(e.oppstartsdato)||"",datoForEndring:e.endringAvNæringsinntektInformasjon?J(e.endringAvNæringsinntektInformasjon.dato):"",inntektEtterEndring:e.endringAvNæringsinntektInformasjon?e.endringAvNæringsinntektInformasjon.næringsinntektEtterEndring.toString():"",forklaringEndring:e.endringAvNæringsinntektInformasjon?e.endringAvNæringsinntektInformasjon.forklaring:"",harRegnskapsfører:D(e.harRegnskapsfører),navnRegnskapsfører:e.regnskapsfører?e.regnskapsfører.navn:"",telefonRegnskapsfører:e.regnskapsfører?e.regnskapsfører.telefonnummer:"",regnskapsførerNærVennEllerFamilie:D(e.regnskapsfører?e.regnskapsfører.erNærVennEllerFamilie:void 0)}:{...b}},Se=e=>{let r,s;return e.hattVarigEndringAvNæringsinntektSiste4Kalenderår===a.YES&&(r={dato:B(e.datoForEndring),forklaring:e.forklaringEndring,næringsinntektEtterEndring:parseInt(e.inntektEtterEndring)}),e.harRegnskapsfører===a.YES&&(s={navn:e.navnRegnskapsfører,telefonnummer:e.telefonRegnskapsfører,erNærVennEllerFamilie:V(e.regnskapsførerNærVennEllerFamilie)}),{næringstyper:[e.type],navnPåNæringen:e.navnPåNæringen,registrertINorge:V(e.registrertINorge),organisasjonsnummer:l(e.orgnr)?e.orgnr:void 0,registrertILand:l(e.land)?e.land:void 0,tidsperiode:{fom:B(e.fom),tom:B(e.tom)},pågående:V(e.pågående),næringsinntekt:l(e.næringsresultat)?parseInt(e.næringsresultat,10):void 0,hattVarigEndringAvNæringsinntektSiste4Kalenderår:V(e.hattVarigEndringAvNæringsinntektSiste4Kalenderår),harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene:V(e.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene),oppstartsdato:l(e.yrkesAktivDato)?B(e.yrkesAktivDato):void 0,endringAvNæringsinntektInformasjon:r,harRegnskapsfører:V(e.harRegnskapsfører),regnskapsfører:s}},re=e=>e?F(e).startOf("day").isAfter(ze,"day"):!0,vn={[t.type]:{isIncluded:()=>!0,isAnswered:({type:e})=>e!==void 0},[t.navnPåNæringen]:{isIncluded:()=>!0,isAnswered:({navnPåNæringen:e})=>l(e),visibilityFilter:({type:e})=>e!==void 0},[t.registrertINorge]:{isIncluded:()=>!0,isAnswered:({registrertINorge:e})=>e!==a.UNANSWERED,visibilityFilter:({navnPåNæringen:e})=>l(e)},[t.orgnr]:{isIncluded:({registrertINorge:e})=>e===a.YES,isAnswered:({orgnr:e})=>l(e),visibilityFilter:({registrertINorge:e})=>e===a.YES},[t.land]:{isIncluded:({registrertINorge:e})=>e===a.NO,isAnswered:({land:e})=>l(e),visibilityFilter:({registrertINorge:e})=>e===a.NO},[t.fom]:{isIncluded:()=>!0,isAnswered:({fom:e})=>l(e),visibilityFilter:({orgnr:e,land:r})=>l(e)||l(r)},[t.pågående]:{isIncluded:()=>!0,isAnswered:({pågående:e})=>e!==a.UNANSWERED,visibilityFilter:({fom:e})=>l(e)},[t.tom]:{isIncluded:({pågående:e})=>e===a.NO,isAnswered:({tom:e})=>l(e),visibilityFilter:({pågående:e})=>e===a.NO},[t.næringsresultat]:{isIncluded:({fom:e})=>re(B(e)),isAnswered:({næringsresultat:e})=>l(e),visibilityFilter:({pågående:e,tom:r})=>e===a.YES||l(r)},[t.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene]:{isIncluded:({fom:e})=>re(B(e)),isAnswered:({harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene:e})=>e!==a.UNANSWERED,visibilityFilter:({næringsresultat:e})=>l(e)},[t.yrkesAktivDato]:{isIncluded:({fom:e})=>re(B(e)),isAnswered:({yrkesAktivDato:e})=>l(e),visibilityFilter:({harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene:e})=>e===a.YES},[t.hattVarigEndringAvNæringsinntektSiste4Kalenderår]:{isIncluded:({fom:e})=>!re(B(e)),isAnswered:({hattVarigEndringAvNæringsinntektSiste4Kalenderår:e})=>e!==a.UNANSWERED,visibilityFilter:({pågående:e,tom:r})=>e===a.YES||l(r)},[t.datoForEndring]:{isIncluded:({hattVarigEndringAvNæringsinntektSiste4Kalenderår:e})=>e===a.YES,isAnswered:({datoForEndring:e})=>l(e),visibilityFilter:({hattVarigEndringAvNæringsinntektSiste4Kalenderår:e})=>e===a.YES},[t.inntektEtterEndring]:{isIncluded:({hattVarigEndringAvNæringsinntektSiste4Kalenderår:e})=>e===a.YES,isAnswered:({inntektEtterEndring:e})=>l(e),visibilityFilter:({datoForEndring:e})=>l(e)},[t.forklaringEndring]:{isIncluded:({hattVarigEndringAvNæringsinntektSiste4Kalenderår:e})=>e===a.YES,isAnswered:({forklaringEndring:e})=>l(e),visibilityFilter:({inntektEtterEndring:e})=>l(e)},[t.harRegnskapsfører]:{isIncluded:()=>!0,isAnswered:({harRegnskapsfører:e})=>e!==a.UNANSWERED,visibilityFilter:({yrkesAktivDato:e,forklaringEndring:r,harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene:s,hattVarigEndringAvNæringsinntektSiste4Kalenderår:g})=>l(e)||l(r)||s===a.NO||g===a.NO},[t.navnRegnskapsfører]:{isIncluded:({harRegnskapsfører:e})=>e===a.YES,isAnswered:({navnRegnskapsfører:e})=>l(e),visibilityFilter:({harRegnskapsfører:e})=>e===a.YES},[t.telefonRegnskapsfører]:{isIncluded:({harRegnskapsfører:e})=>e===a.YES,isAnswered:({telefonRegnskapsfører:e})=>l(e),visibilityFilter:({navnRegnskapsfører:e})=>l(e)},[t.regnskapsførerNærVennEllerFamilie]:{isIncluded:({harRegnskapsfører:e})=>e===a.YES,isAnswered:({regnskapsførerNærVennEllerFamilie:e})=>e!==a.UNANSWERED,visibilityFilter:({telefonRegnskapsfører:e})=>l(e)}},jn=se(vn),Nn=(e,r)=>s=>{if(!l(s))return i(e,"valideringsfeil.fraOgMedDato.påkrevd");if(!U(s))return i(e,"valideringsfeil.fraOgMedDato.gyldigDato");if(W(s))return i(e,"valideringsfeil.fraOgMedDato.erIFremtiden");if(w(r,s))return i(e,"valideringsfeil.fraOgMedDato.førTilDato")},hn=(e,r)=>s=>{if(!l(s))return i(e,"valideringsfeil.tilOgMedDato.påkrevd");if(!U(s))return i(e,"valideringsfeil.tilOgMedDato.gyldigDato");if(W(s))return i(e,"valideringsfeil.fraOgMedDato.erIFremtiden");if(w(s,r))return i(e,"valideringsfeil.fraOgMedDato.førTilDato")},bn=e=>r=>{if(!rn(r))return i(e,"valideringsfeil.inntektsinformasjon.orgnr.ugyldigFormat")},En=(e,r)=>s=>s.length<25?i(e,"valideringsfeil.inntektsinformasjon.forklaringTilEndring.forKort"):s.length>1e3?i(e,"valideringsfeil.inntektsinformasjon.forklaringTilEndring.forLang"):ye(s,r,e),Sn=e=>r=>{if(!l(r))return i(e,"valideringsfeil.tilOgMedDato.påkrevd");if(!U(r))return i(e,"valideringsfeil.tilOgMedDato.gyldigDato");if(W(r))return i(e,"valideringsfeil.fraOgMedDato.erIFremtiden")},xn=e=>r=>{if(!l(r))return i(e,"valideringsfeil.tilOgMedDato.påkrevd");if(!U(r))return i(e,"valideringsfeil.tilOgMedDato.gyldigDato");if(W(r))return i(e,"valideringsfeil.fraOgMedDato.erIFremtiden")},me=(e,r)=>s=>{const g=Be(s);if(!g||Math.round(g)!==g)return i(e,r)},pe=({visibility:e})=>{const r=_();return n.jsxs(n.Fragment,{children:[n.jsx(o,{padBottom:"l",visible:e.isVisible(t.orgnr),children:n.jsx(N.NumberInput,{name:t.orgnr,label:i(r,"inntektsinformasjon.egenNæringModal.orgnr"),validate:bn(r)})}),n.jsx(o,{padBottom:"l",visible:e.isVisible(t.land),children:n.jsx(N.CountrySelect,{name:t.land,label:i(r,"inntektsinformasjon.egenNæringModal.registrertILand"),useAlpha3Code:!1,validate:s=>{if(!l(s))return i(r,"valideringsfeil.inntektsinformasjon.egenNæring.land")}})})]})};try{pe.displayName="OrgnummerEllerLand",pe.__docgenInfo={description:"",displayName:"OrgnummerEllerLand",props:{visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<EgenNæringModalFormField, undefined>"}}}}}catch{}const An=({visibility:e})=>{const r=_(),s=i(r,"inntektsinformasjon.egenNæringModal.regnskapsførerNavn");return n.jsxs(n.Fragment,{children:[n.jsx(o,{padBottom:"l",visible:e.isVisible(t.harRegnskapsfører),children:n.jsx(N.YesOrNoQuestion,{name:t.harRegnskapsfører,legend:i(r,"inntektsinformasjon.egenNæringModal.harRegnskapsfører")})}),n.jsx(o,{padBottom:"l",visible:e.isVisible(t.navnRegnskapsfører),children:n.jsx(N.TextField,{name:t.navnRegnskapsfører,maxLength:100,label:s,validate:he(s,r)})}),n.jsx(o,{padBottom:"l",visible:e.isVisible(t.telefonRegnskapsfører),children:n.jsx(N.NumberInput,{name:t.telefonRegnskapsfører,label:i(r,"inntektsinformasjon.egenNæringModal.regnskapsførerTlf"),validate:me(r,"valideringsfeil.inntektsinformasjon.regnskapsførerTelefonnummer.ugyldigFormat")})}),n.jsx(o,{padBottom:"l",visible:e.isVisible(t.regnskapsførerNærVennEllerFamilie),children:n.jsx(N.YesOrNoQuestion,{name:t.regnskapsførerNærVennEllerFamilie,legend:i(r,"inntektsinformasjon.egenNæringModal.regnskapsførerNærVennEllerFamilie")})}),n.jsx(o,{padBottom:"l",visible:e.isVisible(t.regnskapsførerNærVennEllerFamilie),children:n.jsx(Ie,{children:n.jsx(L,{children:n.jsx(c,{id:"inntektsinformasjon.egenNæringModal.regnskapsførerVeileder"})})})})]})};try{Regnskapsfrer.displayName="Regnskapsfrer",Regnskapsfrer.__docgenInfo={description:"",displayName:"Regnskapsfrer",props:{visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<EgenNæringModalFormField, undefined>"}}}}}catch{}const In=({isOpen:e,title:r,onRequestClose:s,selectedNæring:g,addNæring:m,editNæring:A})=>{const d=_(),S=je("egenNæringModal"),j=p=>{g?A(Se(p)):m(Se(p)),s()},O=i(d,"inntektsinformasjon.egenNæringModal.navnPåNæring"),I=i(d,"inntektsinformasjon.egenNæringModal.varigEndringAvNæringsinntektForklaring");return n.jsx(ke,{open:e,"aria-label":r,onClose:s,closeButton:!0,shouldCloseOnOverlayClick:!1,className:S.block,children:n.jsx(N.FormikWrapper,{initialValues:kn(g),onSubmit:p=>j(p),renderForm:({values:p})=>{const f=jn.getVisbility(p);return n.jsxs(N.Form,{includeButtons:!1,cleanup:y=>cn(y,f),includeValidationSummary:!0,children:[n.jsx(o,{padBottom:"l",children:n.jsx(ve,{size:"small",className:S.element("tittel"),children:n.jsx(c,{id:"inntektsinformasjon.egenNæringModal.tittel"})})}),n.jsx(o,{padBottom:"l",visible:f.isVisible(t.type),children:n.jsx(N.RadioGroup,{name:t.type,legend:i(d,"inntektsinformasjon.egenNæringModal.næringstype"),radios:[{label:i(d,"inntektsinformasjon.egenNæringModal.næringstype.dagmamma"),value:ne.DAGMAMMA},{label:i(d,"inntektsinformasjon.egenNæringModal.næringstype.fiske"),value:ne.FISKER},{label:i(d,"inntektsinformasjon.egenNæringModal.næringstype.jordbrukSkogbruk"),value:ne.JORDBRUK},{label:i(d,"inntektsinformasjon.egenNæringModal.næringstype.annen"),value:ne.ANNET}]})}),n.jsx(o,{padBottom:"l",visible:f.isVisible(t.navnPåNæringen),children:n.jsx(N.TextField,{name:t.navnPåNæringen,label:O,maxLength:100,validate:he(O,d)})}),n.jsx(o,{padBottom:"l",visible:f.isVisible(t.registrertINorge),children:n.jsx(N.YesOrNoQuestion,{name:t.registrertINorge,legend:i(d,"inntektsinformasjon.egenNæringModal.erNæringenRegistrertINorge",{navnPåNæringen:p.navnPåNæringen}),validate:y=>{if(y===a.UNANSWERED)return i(d,"valideringsfeil.inntektsinformasjon.egenNæring.registrertINorge")}})}),n.jsx(pe,{visibility:f}),n.jsx(o,{padBottom:"l",visible:f.isVisible(t.fom),children:n.jsx(N.DatePicker,{name:t.fom,label:i(d,"inntektsinformasjon.egenNæringModal.startetNæring.fom",{navnPåNæringen:p.navnPåNæringen}),placeholder:"dd.mm.åååå",fullscreenOverlay:!0,showYearSelector:!0,validate:Nn(d,p.tom),maxDate:F().toDate()})}),n.jsx(o,{padBottom:"l",visible:f.isVisible(t.pågående),children:n.jsx(N.YesOrNoQuestion,{name:t.pågående,legend:i(d,"inntektsinformasjon.egenNæringModal.startetNæring.pågående",{navnPåNæringen:p.navnPåNæringen})})}),n.jsx(o,{padBottom:"l",visible:f.isVisible(t.tom),children:n.jsx(N.DatePicker,{name:t.tom,label:i(d,"inntektsinformasjon.egenNæringModal.startetNæring.tom",{navnPåNæringen:p.navnPåNæringen}),placeholder:"dd.mm.åååå",fullscreenOverlay:!0,showYearSelector:!0,validate:hn(d,p.fom),maxDate:F().toDate(),minDate:F(p.fom).toDate()})}),n.jsxs(o,{padBottom:"l",visible:f.isVisible(t.næringsresultat),children:[n.jsx(N.NumberInput,{name:t.næringsresultat,label:i(d,"inntektsinformasjon.egenNæringModal.næringsinntekt"),validate:me(d,"valideringsfeil.inntektsinformasjon.næringsinntekt.ugyldigFormat")}),n.jsx(X,{header:i(d,"inntektsinformasjon.egenNæringModal.næringsinntekt.info.apneLabel"),children:n.jsx(L,{children:n.jsx(c,{id:"inntektsinformasjon.egenNæringModal.næringsinntekt.info"})})})]}),n.jsxs(o,{padBottom:"l",visible:f.isVisible(t.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene),children:[n.jsx(N.YesOrNoQuestion,{name:t.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene,legend:i(d,"inntektsinformasjon.egenNæringModal.blittYrkesaktivSiste3År")}),n.jsx(X,{header:i(d,"inntektsinformasjon.egenNæringModal.blittYrkesaktivSiste3År.info.apneLabel"),children:n.jsx(L,{children:n.jsx(c,{id:"inntektsinformasjon.egenNæringModal.blittYrkesaktivSiste3År.info"})})})]}),n.jsx(o,{padBottom:"l",visible:f.isVisible(t.yrkesAktivDato),children:n.jsx(N.DatePicker,{name:t.yrkesAktivDato,label:i(d,"inntektsinformasjon.egenNæringModal.yrkesaktivDato"),placeholder:"dd.mm.åååå",fullscreenOverlay:!0,showYearSelector:!0,validate:xn(d),maxDate:F().toDate()})}),n.jsx(o,{padBottom:"l",visible:f.isVisible(t.hattVarigEndringAvNæringsinntektSiste4Kalenderår),children:n.jsx(N.YesOrNoQuestion,{name:t.hattVarigEndringAvNæringsinntektSiste4Kalenderår,legend:i(d,"inntektsinformasjon.egenNæringModal.varigEndringAvNæringsinntekt")})}),n.jsx(o,{padBottom:"l",visible:f.isVisible(t.datoForEndring),children:n.jsx(N.DatePicker,{name:t.datoForEndring,label:i(d,"inntektsinformasjon.egenNæringModal.varigEndringAvNæringsinntektDato"),placeholder:"dd.mm.åååå",fullscreenOverlay:!0,showYearSelector:!0,validate:Sn(d),maxDate:F().toDate()})}),n.jsx(o,{padBottom:"l",visible:f.isVisible(t.inntektEtterEndring),children:n.jsx(N.NumberInput,{name:t.inntektEtterEndring,label:i(d,"inntektsinformasjon.egenNæringModal.inntektEtterEndring"),validate:me(d,"valideringsfeil.inntektsinformasjon.varigEndringAvInntekt.ugyldigFormat")})}),n.jsx(o,{padBottom:"l",visible:f.isVisible(t.forklaringEndring),children:n.jsx(N.Textarea,{name:t.forklaringEndring,label:I,maxLength:1e3,validate:En(d,I)})}),n.jsx(An,{visibility:f}),n.jsx(o,{visible:f.areAllQuestionsAnswered(),textAlignCenter:!0,children:n.jsx(K,{children:i(d,"søknad.gåVidere")})})]})}})})};try{EgenNringModal.displayName="EgenNringModal",EgenNringModal.__docgenInfo={description:"",displayName:"EgenNringModal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},onRequestClose:{defaultValue:null,description:"",name:"onRequestClose",required:!0,type:{name:"() => void"}},selectedNæring:{defaultValue:null,description:"",name:"selectedNæring",required:!1,type:{name:"Næring"}},addNæring:{defaultValue:null,description:"",name:"addNæring",required:!0,type:{name:"(næring: Næring) => void"}},editNæring:{defaultValue:null,description:"",name:"editNæring",required:!0,type:{name:"(næring: Næring) => void"}}}}}catch{}const Fn=({egenNæringInformasjon:e,setEgenNæringsInformasjon:r,visibility:s,formValues:g})=>{const m=_(),[A,d]=P.useState(!1),[S,j]=P.useState(),O=()=>{d(!0),j(void 0)},I=k=>{const x=e.concat(k);r(x)},p=k=>{const x=e.filter(T=>T!==k);r(x)},f=k=>{const x=e.filter(T=>T!==S).concat(k);r(x)},y=k=>{j(k),d(!0)};return n.jsxs(n.Fragment,{children:[n.jsx(o,{visible:s.isVisible(v.hattInntektSomNæringsdrivende),children:n.jsxs(o,{padBottom:"l",children:[n.jsx(Y.YesOrNoQuestion,{name:v.hattInntektSomNæringsdrivende,legend:i(m,"inntektsinformasjon.harJobbetSomSelvstendigNæringsdrivendeSiste10Mnd"),validate:k=>{if(k===a.YES&&e.length===0)return i(m,"valideringsfeil.inntektsinformasjon.andreInntekter.måHaVirksomhet")}}),n.jsx(un,{})]})}),g.hattInntektSomNæringsdrivende===a.YES&&n.jsxs("div",{style:{backgroundColor:"#f1f1f1",marginBottom:"1rem",padding:"1rem"},children:[n.jsx(In,{isOpen:A,title:"Næringsinformasjon",onRequestClose:()=>d(!1),selectedNæring:S,addNæring:I,editNæring:f}),n.jsx(o,{padBottom:"l",visible:e.length>0,children:n.jsx(fn,{næringsInformasjon:e,deleteNæring:p,selectNæring:y})}),n.jsx(K,{type:"button",onClick:O,children:n.jsx(c,{id:"inntektsinformasjon.leggTilVirksomhet"})})]})]})};try{EgenNring.displayName="EgenNring",EgenNring.__docgenInfo={description:"",displayName:"EgenNring",props:{egenNæringInformasjon:{defaultValue:null,description:"",name:"egenNæringInformasjon",required:!0,type:{name:"Næring[]"}},setEgenNæringsInformasjon:{defaultValue:null,description:"",name:"setEgenNæringsInformasjon",required:!0,type:{name:"(oppdrag: Næring[]) => void"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<InntektsinformasjonFormField, undefined>"}},formValues:{defaultValue:null,description:"",name:"formValues",required:!0,type:{name:"InntektsinformasjonFormData"}}}}}catch{}const yn=e=>r=>{if(!l(r))return i(e,"valideringsfeil.inntektsinformasjon.frilansoppstartsDato.påkrevd");if(!U(r))return i(e,"valideringsfeil.inntektsinformasjon.frilansoppstartsDato.ugyldigDatoFormat");if(F().isBefore(F(r),"day"))return i(e,"valideringsfeil.inntektsinformasjon.frilansoppstartsDato.kanIkkeVæreFremITid")},fe=({frilansoppdrag:e,deleteFrilansoppdrag:r,selectOppdrag:s})=>e.length===0?null:n.jsx("ul",{style:{margin:0,padding:0,listStyle:"none"},children:e.map((g,m)=>n.jsx(Ne,{deleteLinkText:"Slett oppdrag",onDelete:()=>r(g),onEdit:()=>s(g),text:`${ie(g.tidsperiode.fom)} - ${g.tidsperiode.tom?ie(g.tidsperiode.tom):"pågående"}`,title:g.navnPåArbeidsgiver,deleteButtonAriaText:`Slett oppdrag for ${g.navnPåArbeidsgiver}`,editButtonAriaText:`Rediger oppdrag for ${g.navnPåArbeidsgiver}`},`${g.navnPåArbeidsgiver}+${m}`))});try{fe.displayName="FrilansoppdragListe",fe.__docgenInfo={description:"",displayName:"FrilansoppdragListe",props:{frilansoppdrag:{defaultValue:null,description:"",name:"frilansoppdrag",required:!0,type:{name:"FrilansOppdrag[]"}},deleteFrilansoppdrag:{defaultValue:null,description:"",name:"deleteFrilansoppdrag",required:!0,type:{name:"(oppdrag: FrilansOppdrag) => void"}},selectOppdrag:{defaultValue:null,description:"",name:"selectOppdrag",required:!0,type:{name:"(oppdrag: FrilansOppdrag) => void"}}}}}catch{}const Dn=()=>{const e=_();return n.jsx(X,{header:i(e,"inntektsinformasjon.harDuJobbetSomFrilansSiste10Mnd.apneLabel"),children:n.jsxs("div",{children:[n.jsx(o,{padBottom:"l",children:n.jsx(L,{children:n.jsx(c,{id:"inntektsinformasjon.harDuJobbetSomFrilansSiste10Mnd.infoboksTekst.del1"})})}),n.jsx(o,{padBottom:"l",children:n.jsx(L,{children:n.jsx(c,{id:"inntektsinformasjon.harDuJobbetSomFrilansSiste10Mnd.infoboksTekst.del2"})})}),n.jsx(L,{children:n.jsx(c,{id:"inntektsinformasjon.harDuJobbetSomFrilansSiste10Mnd.infoboksTekst.del3",values:{a:r=>n.jsx(De,{href:Z.frilanserInfoBoks,rel:"noreferrer",target:"_blank",children:r})}})})]})})};var E=(e=>(e.navnOppdragsgiver="navnOppdragsgiver",e.fom="fom",e.tom="tom",e.pågående="pågående",e))(E||{});const H=te(),$={[E.navnOppdragsgiver]:"",[E.fom]:"",[E.tom]:"",[E.pågående]:a.UNANSWERED},Vn=(e,r)=>({navnOppdragsgiver:r.isVisible(E.navnOppdragsgiver)?e.navnOppdragsgiver:$.navnOppdragsgiver,fom:r.isVisible(E.fom)?e.fom:$.fom,tom:r.isVisible(E.tom)?e.tom:$.tom,pågående:r.isVisible(E.pågående)?e.pågående:$.pågående}),xe=e=>({navnPåArbeidsgiver:e.navnOppdragsgiver,pågående:V(e.pågående),tidsperiode:{fom:B(e.fom),tom:l(e.tom)?B(e.tom):void 0}}),On=e=>e?{...$,fom:J(e.tidsperiode.fom),tom:J(e.tidsperiode.tom)||"",navnOppdragsgiver:e.navnPåArbeidsgiver,pågående:D(e.pågående)}:{...$},Tn={[E.navnOppdragsgiver]:{isIncluded:()=>!0,isAnswered:({navnOppdragsgiver:e})=>l(e)},[E.fom]:{isIncluded:()=>!0,isAnswered:({fom:e})=>l(e),visibilityFilter:({navnOppdragsgiver:e})=>l(e)},[E.pågående]:{isIncluded:()=>!0,isAnswered:({pågående:e})=>e!==a.UNANSWERED,visibilityFilter:({fom:e})=>l(e)},[E.tom]:{isIncluded:({pågående:e})=>e===a.NO,isAnswered:({tom:e})=>l(e),visibilityFilter:({pågående:e})=>e===a.NO}},Bn=se(Tn),_n=(e,r)=>s=>!l(s)||s.trim()===""?i(e,"valideringsfeil.inntektsinformasjon.frilansoppdrag.navnPåOppdragsgiver.påkrevd"):s.length>100?i(e,"valideringsfeil.inntektsinformasjon.frilansoppdrag.navnPåOppdragsgiver.lengde"):ye(s,r,e),Mn=(e,r,s)=>g=>{if(!l(g))return i(e,"valideringsfeil.fraOgMedDato.påkrevd");if(!U(g))return i(e,"valideringsfeil.fraOgMedDato.gyldigDato");if(W(g))return i(e,"valideringsfeil.fraOgMedDato.erIFremtiden");if(w(g,s))return i(e,"valideringsfeil.inntektsinformasjon.frilansoppdrag.fom.førOppstartsdato");if(w(r,g))return i(e,"valideringsfeil.fraOgMedDato.førTilDato")},Rn=e=>r=>{if(r===a.UNANSWERED)return i(e,"valideringsfeil.inntektsinformasjon.frilansoppdrag.pågående.påkrevd")},Ln=(e,r,s,g)=>m=>{if(r!==a.YES){if(!l(m))return i(e,"valideringsfeil.tilOgMedDato.påkrevd");if(!U(m))return i(e,"valideringsfeil.tilOgMedDato.gyldigDato");if(W(m))return i(e,"valideringsfeil.tilOgMedDato.erIFremtiden");if(w(m,g))return i(e,"valideringsfeil.inntektsinformasjon.frilansoppdrag.tom.førOppstartsdato");if(w(m,s))return i(e,"valideringsfeil.tilOgMedDato.etterFraDato")}};const Yn=e=>F(e).year()<F().year(),ue=({isOpen:e,title:r,onRequestClose:s,selectedFrilansoppdrag:g,addFrilansoppdrag:m,editFrilansoppdrag:A,oppstartsdato:d})=>{const S=je("frilansoppdragModal"),j=_(),O=p=>{g?A(xe(p)):m(xe(p)),s()},I=i(j,"inntektsinformasjon.frilansOppdrag.oppdragsgiver");return n.jsx(ke,{open:e,"aria-label":r,onClose:s,closeButton:!0,shouldCloseOnOverlayClick:!1,className:S.block,children:n.jsx(H.FormikWrapper,{initialValues:On(g),onSubmit:p=>O(p),renderForm:({values:p})=>{const f=Bn.getVisbility(p);return n.jsxs(H.Form,{cleanup:y=>Vn(y,f),children:[n.jsx(ve,{size:"small",className:S.element("tittel"),children:n.jsx(c,{id:"inntektsinformasjon.frilansOppdrag.tittel"})}),n.jsx(o,{padBottom:"l",children:n.jsx(H.TextField,{name:E.navnOppdragsgiver,label:I,validate:_n(j,I)})}),n.jsx(o,{padBottom:"l",visible:f.isVisible(E.fom),children:n.jsx(H.DatePicker,{name:E.fom,label:i(j,"fom"),placeholder:"dd.mm.åååå",fullscreenOverlay:!0,validate:Mn(j,p.tom,d),minDate:F(d).toDate(),maxDate:F().toDate(),showYearSelector:Yn(d)})}),n.jsx(o,{padBottom:"l",visible:f.isVisible(E.pågående),children:n.jsx(H.YesOrNoQuestion,{name:E.pågående,legend:i(j,"inntektsinformasjon.frilansOppdrag.pågående"),validate:Rn(j)})}),n.jsx(o,{padBottom:"l",visible:f.isVisible(E.tom),children:n.jsx(H.DatePicker,{name:E.tom,label:i(j,"tom"),placeholder:"dd.mm.åååå",fullscreenOverlay:!0,validate:Ln(j,p.pågående,p.fom,d),minDate:F(p.fom).toDate(),maxDate:F().toDate(),showYearSelector:!0})})]})}})})};try{ue.displayName="FrilansoppdragModal",ue.__docgenInfo={description:"",displayName:"FrilansoppdragModal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},onRequestClose:{defaultValue:null,description:"",name:"onRequestClose",required:!0,type:{name:"() => void"}},selectedFrilansoppdrag:{defaultValue:null,description:"",name:"selectedFrilansoppdrag",required:!1,type:{name:"FrilansOppdrag"}},addFrilansoppdrag:{defaultValue:null,description:"",name:"addFrilansoppdrag",required:!0,type:{name:"(oppdrag: FrilansOppdrag) => void"}},editFrilansoppdrag:{defaultValue:null,description:"",name:"editFrilansoppdrag",required:!0,type:{name:"(oppdrag: FrilansOppdrag) => void"}},oppstartsdato:{defaultValue:null,description:"",name:"oppstartsdato",required:!0,type:{name:"string"}}}}}catch{}const ce=({frilansoppdrag:e,setFrilansoppdrag:r,visibility:s,formValues:g})=>{const m=_(),[A,d]=P.useState(!1),[S,j]=P.useState(),O=k=>{const x=e.concat(k);r(x)},I=k=>{const x=e.filter(T=>T!==k);r(x)},p=k=>{const x=e.filter(T=>T!==S).concat(k);r(x)},f=k=>{j(k),d(!0)},y=()=>{d(!0),j(void 0)};return n.jsxs(n.Fragment,{children:[n.jsxs(o,{padBottom:"l",visible:s.isVisible(v.hattInntektSomFrilans),children:[n.jsx(Y.YesOrNoQuestion,{name:v.hattInntektSomFrilans,legend:i(m,"inntektsinformasjon.harDuJobbetSomFrilansSiste10Mnd")}),n.jsx(Dn,{})]}),g.hattInntektSomFrilans===a.YES&&n.jsxs("div",{style:{backgroundColor:"#f1f1f1",marginBottom:"1rem",padding:"1rem"},children:[n.jsx(o,{padBottom:"l",visible:s.isVisible(v.frilansOppstartsDato),children:n.jsx(Y.DatePicker,{name:v.frilansOppstartsDato,label:i(m,"inntektsinformasjon.frilans.oppstart"),validate:yn(m),maxDate:_e,minDate:Me,showYearSelector:!0,placeholder:"dd.mm.åååå"})}),n.jsx(o,{padBottom:"l",visible:s.isVisible(v.jobberFremdelesSomFrilanser),children:n.jsx(Y.YesOrNoQuestion,{name:v.jobberFremdelesSomFrilanser,legend:i(m,"inntektsinformasjon.frilans.jobberFremdelesSomFrilans")})}),n.jsx(o,{padBottom:"l",visible:s.isVisible(v.oppdragForNæreVennerEllerFamilie),children:n.jsx(Y.YesOrNoQuestion,{name:v.oppdragForNæreVennerEllerFamilie,legend:i(m,"inntektsinformasjon.harJobbetForNærVennEllerFamilieSiste10Mnd"),validate:k=>{if(k===a.YES&&e.length===0)return i(m,"valideringsfeil.inntektsinformasjon.andreInntekter.måHaFrilansOppdrag")}})}),n.jsxs(o,{padBottom:"l",visible:g.oppdragForNæreVennerEllerFamilie===a.YES,children:[n.jsx(ue,{isOpen:A,title:i(m,"inntektsinformasjon.frilansOppdrag.tittel"),onRequestClose:()=>d(!1),selectedFrilansoppdrag:S,addFrilansoppdrag:O,editFrilansoppdrag:p,oppstartsdato:g.frilansOppstartsDato}),n.jsx(o,{padBottom:"l",visible:e.length>0,children:n.jsx(fe,{frilansoppdrag:e,deleteFrilansoppdrag:I,selectOppdrag:f})}),n.jsx(K,{type:"button",variant:"secondary",onClick:y,children:n.jsx(c,{id:"inntektsinformasjon.leggTilOppdrag"})})]}),n.jsx(o,{padBottom:"l",visible:s.isVisible(v.inntektSomFosterforelder),children:n.jsx(Y.YesOrNoQuestion,{name:v.inntektSomFosterforelder,legend:i(m,"inntektsinformasjon.driverFosterhjem")})})]})]})};try{ce.displayName="Frilans",ce.__docgenInfo={description:"",displayName:"Frilans",props:{frilansoppdrag:{defaultValue:null,description:"",name:"frilansoppdrag",required:!0,type:{name:"FrilansOppdrag[]"}},setFrilansoppdrag:{defaultValue:null,description:"",name:"setFrilansoppdrag",required:!0,type:{name:"(oppdrag: FrilansOppdrag[]) => void"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<InntektsinformasjonFormField, undefined>"}},formValues:{defaultValue:null,description:"",name:"formValues",required:!0,type:{name:"InntektsinformasjonFormData"}}}}}catch{}const Pn=()=>n.jsxs(G,{"aria-label":"Info til fiskere",children:[n.jsxs(G.Header,{children:[n.jsx(G.Title,{as:"h2",children:n.jsx(c,{id:"inntektsinformasjon.infoTilFiskere.tittel"})}),n.jsx(G.Description,{children:n.jsx(c,{id:"inntektsinformasjon.infoTilFiskere.description"})})]}),n.jsxs(G.Content,{children:[n.jsx(o,{padBottom:"l",children:n.jsx(M,{children:n.jsx(c,{id:"inntektsinformasjon.infoTilFiskere.del1"})})}),n.jsx(z,{as:"h3",style:{marginBottom:".5rem"},children:n.jsx(c,{id:"inntektsinformasjon.infoTilFiskere.hyre"})}),n.jsx(o,{padBottom:"l",children:n.jsx(M,{children:n.jsx(c,{id:"inntektsinformasjon.infoTilFiskere.del2"})})}),n.jsx(o,{padBottom:"l",children:n.jsx(M,{children:n.jsx(c,{id:"inntektsinformasjon.infoTilFiskere.del3",values:{a:e=>n.jsx("a",{href:Z.hvordanSendeInntektsmelding,target:"_blank",rel:"noreferrer",className:"lenke",children:e})}})})}),n.jsx(z,{as:"h3",style:{marginBottom:".5rem"},children:n.jsx(c,{id:"inntektsinformasjon.infoTilFiskere.lott"})}),n.jsx(o,{padBottom:"l",children:n.jsx(M,{children:n.jsx(c,{id:"inntektsinformasjon.infoTilFiskere.del4"})})}),n.jsx(o,{padBottom:"l",children:n.jsx(M,{children:n.jsx(c,{id:"inntektsinformasjon.infoTilFiskere.del5",values:{a:e=>n.jsx("a",{href:Z.omLottOgHyre,target:"_blank",rel:"noreferrer",className:"lenke",children:e})}})})}),n.jsx(z,{as:"h3",style:{marginBottom:".5rem"},children:n.jsx(c,{id:"inntektsinformasjon.infoTilFiskere.egenBåt"})}),n.jsx(o,{padBottom:"l",children:n.jsx(M,{children:n.jsx(c,{id:"inntektsinformasjon.infoTilFiskere.del6"})})}),n.jsx(z,{as:"h3",style:{marginBottom:".5rem"},children:n.jsx(c,{id:"inntektsinformasjon.infoTilFiskere.lottOgHyre"})}),n.jsx(o,{padBottom:"l",children:n.jsx(M,{children:n.jsx(c,{id:"inntektsinformasjon.infoTilFiskere.del7"})})}),n.jsx(o,{padBottom:"l",children:n.jsx(M,{children:n.jsx(c,{id:"inntektsinformasjon.infoTilFiskere.del8"})})}),n.jsx(o,{padBottom:"l",children:n.jsx(M,{children:n.jsx(c,{id:"inntektsinformasjon.infoTilFiskere.del9"})})}),n.jsx(o,{margin:"none",children:n.jsx(M,{children:n.jsx(c,{id:"inntektsinformasjon.infoTilFiskere.del5",values:{a:e=>n.jsx("a",{href:Z.omLottOgHyre,target:"_blank",rel:"noreferrer",className:"lenke",children:e})}})})})]})]}),Un={[v.hattInntektSomFrilans]:a.UNANSWERED,[v.hattInntektSomNæringsdrivende]:a.UNANSWERED,[v.hattAndreInntekter]:a.UNANSWERED,[v.frilansOppstartsDato]:"",[v.oppdragForNæreVennerEllerFamilie]:a.UNANSWERED,[v.inntektSomFosterforelder]:a.UNANSWERED,[v.jobberFremdelesSomFrilanser]:a.UNANSWERED},Ae=e=>e.harRegnskapsfører?{...e,regnskapsfører:{...e.regnskapsfører,navn:ee(e.regnskapsfører.navn)}}:e,qn=e=>{const r=ee(e.navnPåNæringen);if(e.hattVarigEndringAvNæringsinntektSiste4Kalenderår){const s={...e.endringAvNæringsinntektInformasjon,forklaring:ee(e.endringAvNæringsinntektInformasjon.forklaring)};return{...Ae(e),navnPåNæringen:r,endringAvNæringsinntektInformasjon:s}}return{...Ae(e),navnPåNæringen:r}},Cn=e=>e.map(r=>({...r,navnPåArbeidsgiver:ee(r.navnPåArbeidsgiver)})),wn=e=>e.map(r=>r.type===h.JOBB_I_UTLANDET?{...r,arbeidsgiverNavn:ee(r.arbeidsgiverNavn)}:r),Wn=(e,r,s,g,m)=>{let A;return e.hattInntektSomFrilans===a.YES&&(A={oppstart:B(e.frilansOppstartsDato),jobberFremdelesSomFrilans:V(e.jobberFremdelesSomFrilanser),harJobbetForNærVennEllerFamilieSiste10Mnd:V(e.oppdragForNæreVennerEllerFamilie),driverFosterhjem:V(e.inntektSomFosterforelder),oppdragForNæreVennerEllerFamilieSiste10Mnd:Cn(g)}),{erAleneOmOmsorg:r.erAleneOmOmsorg,språkkode:r.språkkode,harHattAnnenInntektSiste10Mnd:V(e.hattAndreInntekter),harJobbetSomFrilansSiste10Mnd:V(e.hattInntektSomFrilans),harJobbetSomSelvstendigNæringsdrivendeSiste10Mnd:V(e.hattInntektSomNæringsdrivende),andreInntekterSiste10Mnd:e.hattAndreInntekter===a.YES?wn(s):[],selvstendigNæringsdrivendeInformasjon:e.hattInntektSomNæringsdrivende===a.YES?m.map(d=>qn(d)):[],frilansInformasjon:e.hattInntektSomFrilans===a.YES?A:void 0}},Jn=e=>({...Un,hattAndreInntekter:D(e.harHattAnnenInntektSiste10Mnd),hattInntektSomNæringsdrivende:D(e.harJobbetSomSelvstendigNæringsdrivendeSiste10Mnd),hattInntektSomFrilans:D(e.harJobbetSomFrilansSiste10Mnd),frilansOppstartsDato:e.frilansInformasjon?J(e.frilansInformasjon.oppstart):"",inntektSomFosterforelder:e.frilansInformasjon?D(e.frilansInformasjon.driverFosterhjem):a.UNANSWERED,jobberFremdelesSomFrilanser:e.frilansInformasjon?D(e.frilansInformasjon.jobberFremdelesSomFrilans):a.UNANSWERED,oppdragForNæreVennerEllerFamilie:e.frilansInformasjon?D(e.frilansInformasjon.harJobbetForNærVennEllerFamilieSiste10Mnd):a.UNANSWERED}),Kn={[v.hattInntektSomFrilans]:{isIncluded:()=>!0,isAnswered:({hattInntektSomFrilans:e})=>e!==a.UNANSWERED},[v.frilansOppstartsDato]:{isIncluded:({hattInntektSomFrilans:e})=>e===a.YES,isAnswered:({frilansOppstartsDato:e})=>l(e),visibilityFilter:({hattInntektSomFrilans:e})=>e===a.YES},[v.jobberFremdelesSomFrilanser]:{isIncluded:({hattInntektSomFrilans:e})=>e===a.YES,isAnswered:({jobberFremdelesSomFrilanser:e})=>e!==a.UNANSWERED,visibilityFilter:({frilansOppstartsDato:e})=>l(e)},[v.oppdragForNæreVennerEllerFamilie]:{isIncluded:({hattInntektSomFrilans:e})=>e===a.YES,isAnswered:({oppdragForNæreVennerEllerFamilie:e})=>e!==a.UNANSWERED,visibilityFilter:({jobberFremdelesSomFrilanser:e})=>e!==a.UNANSWERED},[v.inntektSomFosterforelder]:{isIncluded:({hattInntektSomFrilans:e})=>e===a.YES,isAnswered:({inntektSomFosterforelder:e})=>e!==a.UNANSWERED,visibilityFilter:({oppdragForNæreVennerEllerFamilie:e})=>e!==a.UNANSWERED},[v.hattInntektSomNæringsdrivende]:{isIncluded:()=>!0,isAnswered:({hattInntektSomNæringsdrivende:e})=>e!==a.UNANSWERED,visibilityFilter:({hattInntektSomFrilans:e})=>e!==a.UNANSWERED},[v.hattAndreInntekter]:{isIncluded:()=>!0,isAnswered:({hattAndreInntekter:e})=>e!==a.UNANSWERED,visibilityFilter:({hattInntektSomNæringsdrivende:e})=>e!==a.UNANSWERED}},Qn=se(Kn),Hn=()=>{const e=_(),{arbeidsforhold:r}=We(),{søker:s,barn:g,søkersituasjon:m}=Ue(),A=qe(g),d=m.situasjon==="adopsjon",S=Ce(m.rolle),[j,O]=P.useState(s.frilansInformasjon?s.frilansInformasjon.oppdragForNæreVennerEllerFamilieSiste10Mnd:[]),[I,p]=P.useState(s.selvstendigNæringsdrivendeInformasjon?s.selvstendigNæringsdrivendeInformasjon:[]),[f,y]=P.useState(s.andreInntekterSiste10Mnd?s.andreInntekterSiste10Mnd:[]),k=q=>{const Q=Wn(q,s,f,j,I);return[Ye.setSøker(Q)]},{handleSubmit:x,isSubmitting:T}=Pe(k,be.OPPSUMMERING,q=>tn(q)),Oe=Je(),Te=Ke();return Qe(be.INNTEKTSINFORMASJON),n.jsx(Y.FormikWrapper,{initialValues:Jn(s),onSubmit:x,renderForm:({values:q})=>{const Q=Qn.getVisbility(q);return n.jsx(Re,{bannerTitle:i(e,"søknad.pageheading"),activeStepId:"inntektsinformasjon",pageTitle:i(e,"søknad.inntektsinformasjon"),onCancel:Oe,onContinueLater:Te,steps:He(e,!1),children:n.jsxs(Y.Form,{includeButtons:!1,includeValidationSummary:!0,children:[n.jsx(o,{padBottom:"l",children:n.jsx(L,{children:"Hvis du får utbetalinger fra NAV, trenger du ikke å opplyse om det i søknaden"})}),n.jsx(ge,{arbeidsforhold:sn(r,d,S,B(A))}),n.jsx(o,{padBottom:"l",children:n.jsx(ce,{frilansoppdrag:j,setFrilansoppdrag:O,visibility:Q,formValues:q})}),n.jsx(o,{padBottom:"l",children:n.jsx(Fn,{egenNæringInformasjon:I,setEgenNæringsInformasjon:p,visibility:Q,formValues:q})}),n.jsx(o,{padBottom:"l",children:n.jsx(le,{andreInntekterInformasjon:f,setAndreInntekterInformasjon:y,visibility:Q,formValues:q})}),n.jsx(o,{padBottom:"l",children:n.jsx(Pn,{})}),n.jsx(o,{margin:"xl",children:n.jsxs(Le,{children:[n.jsx(K,{variant:"secondary",as:we,to:$e("inntektsinformasjon"),children:n.jsx(c,{id:"backlink.label"})}),Q.areAllQuestionsAnswered()&&n.jsx(K,{type:"submit",disabled:T,loading:T,children:i(e,"søknad.gåVidere")})]})})]})})}})},Nr=Hn;export{Nr as I};
//# sourceMappingURL=Inntektsinformasjon-3ac1cd24.js.map
