{"version":3,"file":"SøkersituasjonSteg-c0db7fab.js","sources":["../../src/app/steps/søkersituasjon/SøkersituasjonSteg.tsx"],"sourcesContent":["import { useState } from 'react';\nimport { useIntl, FormattedMessage } from 'react-intl';\nimport { useForm } from 'react-hook-form';\nimport { Button, HStack, Radio, VStack } from '@navikt/ds-react';\nimport { Step } from '@navikt/fp-common';\nimport { isRequired } from '@navikt/fp-validation';\nimport { Kjønn, SøkersituasjonFp } from '@navikt/fp-types';\nimport { RadioGroup, Form, ErrorSummaryHookForm } from '@navikt/fp-form-hooks';\nimport SøknadRoutes from 'app/routes/routes';\nimport useFortsettSøknadSenere from 'app/utils/hooks/useFortsettSøknadSenere';\nimport { ContextDataType, useContextGetData, useContextSaveData } from 'app/context/FpDataContext';\nimport stepConfig from '../stepsConfig';\n\ntype Props = {\n    kjønn: Kjønn;\n    mellomlagreSøknadOgNaviger: () => void;\n    avbrytSøknad: () => void;\n};\n\nconst SøkersituasjonSteg: React.FunctionComponent<Props> = ({ kjønn, mellomlagreSøknadOgNaviger, avbrytSøknad }) => {\n    const intl = useIntl();\n    const onFortsettSøknadSenere = useFortsettSøknadSenere();\n    const [isSubmitting, setIsSubmitting] = useState(false);\n\n    const søkersituasjon = useContextGetData(ContextDataType.SØKERSITUASJON);\n    const oppdaterSøkersituasjon = useContextSaveData(ContextDataType.SØKERSITUASJON);\n    const oppdaterAppRoute = useContextSaveData(ContextDataType.APP_ROUTE);\n\n    const formMethods = useForm<SøkersituasjonFp>({\n        defaultValues: søkersituasjon\n            ? {\n                  ...søkersituasjon,\n              }\n            : undefined,\n    });\n\n    const onSubmit = (values: SøkersituasjonFp) => {\n        setIsSubmitting(true);\n\n        oppdaterSøkersituasjon({\n            situasjon: values.situasjon,\n            rolle: values.rolle || 'far',\n        });\n        oppdaterAppRoute(SøknadRoutes.OM_BARNET);\n\n        mellomlagreSøknadOgNaviger();\n    };\n\n    return (\n        <Step\n            bannerTitle={intl.formatMessage({ id: 'søknad.pageheading' })}\n            activeStepId=\"søkersituasjon\"\n            pageTitle={intl.formatMessage({ id: 'søknad.søkersituasjon' })}\n            onCancel={avbrytSøknad}\n            onContinueLater={onFortsettSøknadSenere}\n            steps={stepConfig(intl, false)}\n        >\n            <Form formMethods={formMethods} onSubmit={onSubmit}>\n                <VStack gap=\"10\">\n                    <ErrorSummaryHookForm />\n                    <RadioGroup\n                        name=\"situasjon\"\n                        label={<FormattedMessage id=\"søkersituasjon.text.situasjon\" />}\n                        validate={[\n                            isRequired(\n                                intl.formatMessage({ id: 'søkersituasjon.validering.oppgiFodselEllerAdopsjon' }),\n                            ),\n                        ]}\n                    >\n                        <Radio value=\"fødsel\">\n                            <FormattedMessage id=\"søkersituasjon.radioButton.fødsel\" />\n                        </Radio>\n                        <Radio value=\"adopsjon\">\n                            <FormattedMessage id=\"søkersituasjon.radioButton.adopsjon\" />\n                        </Radio>\n                    </RadioGroup>\n                    {kjønn === 'K' && (\n                        <RadioGroup\n                            name=\"rolle\"\n                            label={<FormattedMessage id=\"søkersituasjon.text.rolle\" />}\n                            validate={[\n                                isRequired(\n                                    intl.formatMessage({\n                                        id: 'søkersituasjon.validering.oppgiHvaDuSokerSom',\n                                    }),\n                                ),\n                            ]}\n                        >\n                            <Radio value=\"mor\">\n                                <FormattedMessage id=\"søkersituasjon.radioButton.mor\" />\n                            </Radio>\n                            <Radio value=\"medmor\">\n                                <FormattedMessage id=\"søkersituasjon.radioButton.medmor\" />\n                            </Radio>\n                        </RadioGroup>\n                    )}\n                    <HStack justify=\"center\">\n                        <Button type=\"submit\" disabled={isSubmitting} loading={isSubmitting}>\n                            <FormattedMessage id=\"søknad.gåVidere\" />\n                        </Button>\n                    </HStack>\n                </VStack>\n            </Form>\n        </Step>\n    );\n};\n\nexport default SøkersituasjonSteg;\n"],"names":["SøkersituasjonSteg","kjønn","mellomlagreSøknadOgNaviger","avbrytSøknad","intl","useIntl","onFortsettSøknadSenere","useFortsettSøknadSenere","isSubmitting","setIsSubmitting","useState","søkersituasjon","useContextGetData","ContextDataType","oppdaterSøkersituasjon","useContextSaveData","oppdaterAppRoute","formMethods","useForm","onSubmit","values","SøknadRoutes","jsx","Step","stepConfig","Form","jsxs","VStack","ErrorSummaryHookForm","RadioGroup","FormattedMessage","isRequired","Radio","HStack","Button","SøkersituasjonSteg$1"],"mappings":"glBAmBA,MAAAA,EAAA,CAAA,CAAA,MAAAC,EAAA,2BAAAC,EAAA,aAAAC,CAAA,IAAA,CACI,MAAAC,EAAAC,IACAC,EAAAC,IACA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAA,EAAA,EAEAC,EAAAC,EAAAC,EAAA,cAAA,EACAC,EAAAC,EAAAF,EAAA,cAAA,EACAG,EAAAD,EAAAF,EAAA,SAAA,EAEAI,EAAAC,EAAA,CAA8C,cAAAP,EAAA,CAEpC,GAAAA,CACO,EAAA,MAEP,CAAA,EAGVQ,EAAAC,GAAA,CACIX,EAAA,EAAA,EAEAK,EAAA,CAAuB,UAAAM,EAAA,UACD,MAAAA,EAAA,OAAA,KACK,CAAA,EAE3BJ,EAAAK,EAAA,SAAA,EAEAnB,GAA2B,EAG/B,OAAAoB,EAAA,IACIC,EAAC,CAAA,YAAAnB,EAAA,cAAA,CAAA,GAAA,oBAAA,CAAA,EAC+D,aAAA,iBAC/C,UAAAA,EAAA,cAAA,CAAA,GAAA,uBAAA,CAAA,EACgD,SAAAD,EACnD,gBAAAG,EACO,MAAAkB,EAAApB,EAAA,EAAA,EACY,SAAAkB,EAAA,IAAAG,EAAA,CAAA,YAAAR,EAAA,SAAAE,EAAA,SAAAO,EAAAA,KAAAC,EAAA,CAAA,IAAA,KAAA,SAAA,CAIrBL,EAAA,IAAAM,EAAA,EAAA,EAAsBF,EAAA,KACtBG,EAAC,CAAA,KAAA,YACQ,MAAAP,EAAAA,IAAAQ,EAAA,CAAA,GAAA,+BAAA,CAAA,EACuD,SAAA,CAClDC,EACN3B,EAAA,cAAA,CAAA,GAAA,oDAAA,CAAA,CACmF,CACnF,EACJ,SAAA,CAEAkB,EAAAA,IAAAU,EAAA,CAAA,MAAA,SAAA,SAAAV,MAAAQ,EAAA,CAAA,GAAA,mCAAA,CAAA,CAAA,CAAA,EAEAR,EAAAA,IAAAU,EAAA,CAAA,MAAA,WAAA,SAAAV,MAAAQ,EAAA,CAAA,GAAA,qCAAA,CAAA,CAAA,CAAA,CAGA,CAAA,CAAA,EACJ7B,IAAA,KAAAyB,EAAA,KAEIG,EAAC,CAAA,KAAA,QACQ,MAAAP,EAAAA,IAAAQ,EAAA,CAAA,GAAA,2BAAA,CAAA,EACmD,SAAA,CAC9CC,EACN3B,EAAA,cAAA,CACuB,GAAA,8CACX,CAAA,CACP,CACL,EACJ,SAAA,CAEAkB,EAAAA,IAAAU,EAAA,CAAA,MAAA,MAAA,SAAAV,MAAAQ,EAAA,CAAA,GAAA,gCAAA,CAAA,CAAA,CAAA,EAEAR,EAAAA,IAAAU,EAAA,CAAA,MAAA,SAAA,SAAAV,MAAAQ,EAAA,CAAA,GAAA,mCAAA,CAAA,CAAA,CAAA,CAGA,CAAA,CAAA,EACJR,MAAAW,EAAA,CAAA,QAAA,SAAA,SAAAX,EAAAA,IAAAY,EAAA,CAAA,KAAA,SAAA,SAAA1B,EAAA,QAAAA,EAAA,SAAAc,MAAAQ,EAAA,CAAA,GAAA,iBAAA,CAAA,CAAA,CAAA,EAAA,CAMJ,CAAA,CAAA,CAAA,CAAA,CAER,CAAA,CAGZ,EAEAK,EAAAnC"}