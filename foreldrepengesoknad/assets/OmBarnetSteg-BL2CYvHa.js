import{j as t}from"./jsx-runtime-Cw0GR0a5.js";import{d,t as P,v as A,w as q}from"./Uttaksdagen-C7qvZjyy.js";import{r as R}from"./index-CTjT7uj6.js";import{D as v,c as F,d as de,R as y,b as V,e as L,u as ie,F as le,E as me,S as fe}from"./ErrorSummaryHookForm-D14xGqJh.js";import{u as x}from"./index-DSgjoNiG.js";import{R as p,q as ge,r as w,s as ue,t as pe,w as ce,B as Be,x as ve,y as C,z as je}from"./Tidsperioden-BBrWkrto.js";import"./index-CCQ3W5xA.js";import{i as H,j as I,l as he,m as xe,B,u as N,C as D,a as ke}from"./FpDataContext-7C49oNtd.js";import{v as T,u as Me,a as ye}from"./useFpNavigator-BpJPmo6p.js";import"./_baseToString-Cq6MbKF_.js";import"./_createSet-D2BJ0WVx.js";import{b as Fe,A as Te,S as Se}from"./ByttBrowserModal-B_8YCR86.js";import{i as u,a as j,b as K,d as be,q as De,n as Ae}from"./dateFormValidation-DamLOwkK.js";import{b as Ie,c as Ee}from"./velkommenUtils-Ct-zPe2I.js";import{e as U,k as Oe,c as qe}from"./barnUtils-B98nIsJr.js";import{c as we}from"./dateUtils-v-hMz4ke.js";import{R as _}from"./RegistrertePersonalia-li7a7Wsp.js";import{V as h,B as Ne,H as Ue}from"./VStack-DmKyg8-d.js";import{L as _e,a as Pe,H as Re,B as Ve}from"./Label-C_UMiHsP.js";import{M as f}from"./message-CjkJih2D.js";d.extend(P);d.extend(A);const G=({valgteRegistrerteBarn:e,skalInkludereTermindato:a})=>{const r=x(),n=e.every(s=>!s.dødsdato),l=[...e].sort(Ie),o=l.map(s=>s.fødselsdato),i=l[0].fødselsdato;return t.jsxs(t.Fragment,{children:[t.jsxs(h,{gap:"2",children:[t.jsx(_e,{children:t.jsx(f,{id:"omBarnet.valgteBarn.tittel",values:{antallBarn:l.length}})}),n?l.map(s=>t.jsx(_,{person:s,fødselsdatoForVisning:U([s.fødselsdato]),visEtternavn:!1},s.fnr)):t.jsx(_,{person:l[0],fødselsdatoForVisning:U(o),altTekstHvisUkjentNavn:Oe(void 0,o,l.length,r),visEtternavn:!1})]}),a&&t.jsx(v,{name:"termindato",label:r.formatMessage({id:"omBarnet.termindato.født"}),defaultMonth:i,minDate:d(i).subtract(1,"months").toDate(),maxDate:d(i).add(6,"months").toDate(),validate:[u(r.formatMessage({id:"valideringsfeil.omBarnet.termindato.duMåOppgi"})),j(r.formatMessage({id:"valideringsfeil.omBarnet.termindato.ugyldigDatoFormat"})),s=>{if(!d(s).subtract(6,"months").isSameOrBefore(d(i),"day"))return r.formatMessage({id:"valideringsfeil.omBarnet.termindato.forLangtFremITid"});if(!d(s).add(1,"months").isSameOrAfter(d(i),"day"))return r.formatMessage({id:"valideringsfeil.omBarnet.termindato.forLangtTilbakeITid"})}]})]})};G.__docgenInfo={description:"",methods:[],displayName:"ValgteRegistrerteBarn",props:{valgteRegistrerteBarn:{required:!0,tsType:{name:"Array",elements:[{name:"intersection",raw:`{
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: SøkerAnnenForelder;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: SøkerAnnenForelder;
}`,signature:{properties:[{key:"kjønn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"dødsdato",value:{name:"string",required:!1}},{key:"annenForelder",value:{name:"intersection",raw:`{
    fødselsdato?: string;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    fødselsdato?: string;
}`,signature:{properties:[{key:"fødselsdato",value:{name:"string",required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}],required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}]}],raw:"SøkerBarn[]"},description:""},skalInkludereTermindato:{required:!0,tsType:{name:"boolean"},description:""}}};const Le=(e,a)=>r=>{if(!a)return;const n=d(r).startOf("day").add(15,"year");return d(a).isBetween(r,n,null,"[]")?void 0:e},J=({adopsjonsdato:e,antallBarn:a,antallBarnDropDown:r})=>{const n=x(),{control:l}=F(),{fields:o,remove:i,append:s}=de({control:l,name:"fødselsdatoer"});return R.useEffect(()=>{if(!a||a===3&&!r)return;const m=a<3||!r?a:Number.parseInt(r,10),g=o.length-m;g>0&&[...new Array(g)].forEach((c,S)=>{i(o.length-S-1)}),g<0&&[...new Array(m-o.length)].forEach(()=>{s({dato:void 0})})},[a,r,s,o.length,i]),t.jsx(h,{gap:"10",children:o.map((m,g)=>t.jsx(v,{name:`fødselsdatoer.${g}.dato`,minDate:d(e).subtract(15,"years").toDate(),maxDate:e&&q(e)?d(e).toDate():d(),defaultMonth:e&&q(e)?e:d(),label:o.length===1?n.formatMessage({id:"omBarnet.fødselsdato"}):n.formatMessage({id:`omBarnet.fødselsdato.adopsjon.${g+1}`}),validate:[u(n.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.duMåOppgi"})),j(n.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.ugyldigDatoFormat"})),K(n.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.måVæreIdagEllerTidligere"})),be(n.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.måVæreFørAdopsjonsdato"}),e),Le(n.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.ikkeMerEnn15År3MndTilbake"}),e)]},m.id))})};J.__docgenInfo={description:"",methods:[],displayName:"FødselsdatoerFieldArray"};d.extend(A);const $=({søknadGjelderEtNyttBarn:e})=>{const a=x(),r=F(),n=r.watch("adopsjonAvEktefellesBarn"),l=r.watch("antallBarn"),o=r.watch("antallBarnSelect"),i=r.watch("adopsjonsdato"),s=r.watch("adoptertIUtlandet"),m=r.watch("fødselsdatoer");return t.jsxs(t.Fragment,{children:[t.jsxs(y,{name:"adopsjonAvEktefellesBarn",label:a.formatMessage({id:"omBarnet.adopsjonGjelder"}),validate:[u(a.formatMessage({id:"valideringsfeil.omBarnet.adopsjonGjelder.duMåOppgi"}))],children:[t.jsx(p,{value:!0,children:"Ja"}),t.jsx(p,{value:!1,children:"Nei"})]}),t.jsxs(h,{gap:"4",children:[t.jsx(v,{name:"adopsjonsdato",label:n?a.formatMessage({id:"omBarnet.adopsjonsdato.stebarn"}):a.formatMessage({id:"omBarnet.adopsjonsdato.annetBarn"}),validate:[u(a.formatMessage({id:"valideringsfeil.omBarnet.adopsjonsdato.duMåOppgi"})),j(a.formatMessage({id:"valideringsfeil.omBarnet.adopsjonsdato.ugyldigDatoFormat"}))]}),t.jsx(Ne,{padding:"4",background:"surface-alt-3-subtle",borderRadius:"medium",children:t.jsxs(Ue,{gap:"2",children:[t.jsx(Fe,{height:24,width:24,color:"#005B82"}),t.jsx(h,{gap:"2",style:{width:"85%"},children:t.jsx(Pe,{children:t.jsx(f,{id:"omBarnet.opplaste.bekreftelse"})})})]})})]}),e&&t.jsxs(t.Fragment,{children:[t.jsxs(y,{name:"antallBarn",label:a.formatMessage({id:"omBarnet.antallBarn.adopsjon.født"}),validate:[u(a.formatMessage({id:"valideringsfeil.omBarnet.adopsjon.født.duMåOppgi"}))],children:[t.jsx(p,{value:1,children:t.jsx(f,{id:"omBarnet.radiobutton.ettBarn"})}),t.jsx(p,{value:2,children:t.jsx(f,{id:"omBarnet.radiobutton.toBarn"})}),t.jsx(p,{value:3,children:t.jsx(f,{id:"omBarnet.radiobutton.flere"})})]}),l===3&&t.jsxs(V,{name:"antallBarnSelect",label:"Antall barn",children:[t.jsx("option",{value:"3",children:"3"}),t.jsx("option",{value:"4",children:"4"}),t.jsx("option",{value:"5",children:"5"}),t.jsx("option",{value:"6",children:"6"}),t.jsx("option",{value:"7",children:"7"}),t.jsx("option",{value:"8",children:"8"}),t.jsx("option",{value:"9",children:"9"})]}),t.jsx(J,{adopsjonsdato:i,antallBarn:l,antallBarnDropDown:o})]}),n===!1&&!ge(i)&&t.jsxs(t.Fragment,{children:[t.jsxs(y,{name:"adoptertIUtlandet",label:a.formatMessage({id:"omBarnet.adopteresFraUtlandet"}),validate:[u(a.formatMessage({id:"valideringsfeil.omBarnet.adopteresFraUtlandet.duMåOppgi"}))],children:[t.jsx(p,{value:!0,children:"Ja"}),t.jsx(p,{value:!1,children:"Nei"})]}),s===!0&&t.jsx(v,{name:"ankomstdato",minDate:m?d(m[0].dato).toDate():void 0,maxDate:d().add(6,"months").toDate(),label:a.formatMessage({id:"omBarnet.ankomstDato"}),validate:[u(a.formatMessage({id:"valideringsfeil.omBarnet.adopsjonsdato.duMåOppgi"})),j(a.formatMessage({id:"valideringsfeil.omBarnet.adopsjonsdato.ugyldigDatoFormat"})),g=>{var c;return((c=m[0])==null?void 0:c.dato)!==void 0&&!d(m[0].dato).isSameOrBefore(g,"day")?a.formatMessage({id:"valideringsfeil.omBarnet.ankomstDato.førFødselsdato"}):void 0}]})]})]})};$.__docgenInfo={description:"",methods:[],displayName:"AdopsjonPanel",props:{søknadGjelderEtNyttBarn:{required:!0,tsType:{name:"boolean"},description:""}}};d.extend(P);d.extend(A);const z=()=>{const e=x(),a=F(),{antallBarn:r,erBarnetFødt:n,fødselsdatoer:l}=a.watch(),o=r>1?"omBarnet.fødselsdato.flereBarn":"omBarnet.fødselsdato",i=l?l[0].dato:void 0;return t.jsxs(t.Fragment,{children:[t.jsx(v,{name:"termindato",minDate:i?d(i).subtract(1,"months").toDate():void 0,maxDate:i?d(i).add(6,"months").toDate():void 0,label:e.formatMessage({id:"omBarnet.termindato.født"}),validate:[u(e.formatMessage({id:"valideringsfeil.omBarnet.termindato.duMåOppgi"})),j(e.formatMessage({id:"valideringsfeil.omBarnet.termindato.ugyldigDatoFormat"})),s=>{if(i){if(!d(s).subtract(6,"months").isSameOrBefore(d(i),"day"))return e.formatMessage({id:"valideringsfeil.omBarnet.termindato.forLangtFremITid"});if(!d(s).add(1,"months").isSameOrAfter(d(i),"day"))return e.formatMessage({id:"valideringsfeil.omBarnet.termindato.forLangtTilbakeITid"})}}]}),n&&t.jsx(v,{name:"fødselsdatoer.0.dato",label:e.formatMessage({id:o}),minDate:d().subtract(3,"years").toDate(),maxDate:d().toDate(),validate:[u(e.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.duMåOppgi"})),j(e.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.ugyldigDatoFormat"})),K(e.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.måVæreIdagEllerTidligere"})),s=>d(s).isBefore(d().subtract(3,"years").subtract(4,"months"),"day")?e.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.ikkeMerEnn3År3MndTilbake"}):void 0]})]})};z.__docgenInfo={description:"",methods:[],displayName:"ErFødtPanel"};const Ce=(e,a)=>T(e)?a?C(a):!1:!0,W=({søkersituasjon:e,arbeidsforhold:a,søknadGjelderEtNyttBarn:r})=>{const n=x(),o=F().watch("termindato"),i=o?!w(o):!1,s=T(e.rolle),m=s&&o,g=Ce(e.rolle,o);return t.jsxs(t.Fragment,{children:[r&&t.jsxs(h,{gap:"2",children:[t.jsx(v,{name:"termindato",label:n.formatMessage({id:"omBarnet.termindato.termin"}),minDate:ue,maxDate:pe,validate:[u(n.formatMessage({id:"valideringsfeil.omBarnet.termindato.duMåOppgi"})),j(n.formatMessage({id:"valideringsfeil.omBarnet.termindato.ugyldigDatoFormat"})),c=>{if(!ce(c))return n.formatMessage({id:"valideringsfeil.omBarnet.termindato.forTidlig"});if(!w(c))return n.formatMessage({id:"valideringsfeil.omBarnet.termindato.duMåVæreIUke22"})}]}),!s&&t.jsxs(L,{header:n.formatMessage({id:"omBarnet.termindato.åpneLabel"}),children:[t.jsx(Be,{padBottom:"m",children:t.jsx(f,{id:"omBarnet.termindato.innhold.del1"})}),t.jsx(f,{id:"omBarnet.termindato.innhold.del2"})]})]}),r&&a.length===0&&g&&t.jsx(v,{name:"terminbekreftelsedato",label:n.formatMessage({id:"omBarnet.terminbekreftelseDato"}),maxDate:ve,validate:[u(n.formatMessage({id:"valideringsfeil.omBarnet.terminbekreftelseDato.duMåOppgi"})),j(n.formatMessage({id:"valideringsfeil.omBarnet.terminbekreftelseDato.ugyldigDatoFormat"})),De(n.formatMessage({id:"valideringsfeil.omBarnet.terminbekreftelseDato.kanIkkeVæreFremITid"}))]}),(i||m&&!g)&&t.jsx(Te,{variant:"warning",children:t.jsxs(h,{gap:"4",children:[t.jsx(Re,{level:"3",size:"small",children:t.jsx(f,{id:"omBarnet.termindato.erForTidligTilÅSøkePåTermin.heading"})}),t.jsx(Ve,{children:t.jsx(f,{id:"omBarnet.termindato.erForTidligTilÅSøkePåTermin.innhold"})})]})})]})};W.__docgenInfo={description:"",methods:[],displayName:"TerminPanel",props:{søkersituasjon:{required:!0,tsType:{name:"Søkersituasjon"},description:""},arbeidsforhold:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverNavn: string;
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    fom: string;
    tom?: string;
    stillingsprosent: number;
}`,signature:{properties:[{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}},{key:"stillingsprosent",value:{name:"number",required:!0}}]}}],raw:"Arbeidsforhold[]"},description:""},søknadGjelderEtNyttBarn:{required:!1,tsType:{name:"boolean"},description:""}}};const He=(e,a,r)=>r===!0?e.formatMessage({id:"omBarnet.antallBarn.født"}):a?e.formatMessage({id:"omBarnet.antallBarn.termin.far"}):e.formatMessage({id:"omBarnet.antallBarn.termin"}),Ke=(e,a,r)=>r!==!1?e.formatMessage({id:"valideringsfeil.omBarnet.antallFått.duMåOppgi"}):a?e.formatMessage({id:"valideringsfeil.omBarnet.antallVenter.duMåOppgi"}):e.formatMessage({id:"valideringsfeil.omBarnet.antallVenterDu.duMåOppgi"}),Q=({søkersituasjon:e,erFarEllerMedmor:a,søknadGjelderEtNyttBarn:r,arbeidsforhold:n})=>{const l=x(),o=F(),i=o.watch("erBarnetFødt"),s=o.watch("antallBarn"),m=T(e.rolle);return t.jsxs(t.Fragment,{children:[r&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsxs(y,{name:"erBarnetFødt",label:l.formatMessage({id:"omBarnet.erBarnetFødt"}),validate:[u(l.formatMessage({id:"valideringsfeil.omBarnet.erBarnetFødt.duMåOppgi"}))],children:[t.jsx(p,{value:!0,children:"Ja"}),t.jsx(p,{value:!1,children:"Nei"})]}),!a&&t.jsx(L,{header:l.formatMessage({id:"omBarnet.erBarnetFødt.readMore.header"}),children:t.jsxs(h,{gap:"4",children:[t.jsx("div",{children:t.jsx(f,{id:"omBarnet.erBarnetFødt.readMore.innhold.del1"})}),t.jsx(f,{id:"omBarnet.erBarnetFødt.readMore.innhold.del2"})]})})]}),t.jsxs(y,{name:"antallBarn",label:He(l,m,i),validate:[u(Ke(l,m,i))],children:[t.jsx(p,{value:1,children:t.jsx(f,{id:"omBarnet.radiobutton.ettBarn"})}),t.jsx(p,{value:2,children:t.jsx(f,{id:"omBarnet.radiobutton.tvillinger"})}),t.jsx(p,{value:3,children:t.jsx(f,{id:"omBarnet.radiobutton.flere"})})]}),s!==void 0&&s===3&&t.jsxs(V,{name:"antallBarnSelect",label:"Antall barn",children:[t.jsx("option",{value:"3",children:"3"}),t.jsx("option",{value:"4",children:"4"}),t.jsx("option",{value:"5",children:"5"}),t.jsx("option",{value:"6",children:"6"}),t.jsx("option",{value:"7",children:"7"}),t.jsx("option",{value:"8",children:"8"}),t.jsx("option",{value:"9",children:"9"})]})]}),i!==!0&&t.jsx(W,{søkersituasjon:e,arbeidsforhold:n,søknadGjelderEtNyttBarn:r}),i===!0&&r&&t.jsx(z,{})]})};Q.__docgenInfo={description:"",methods:[],displayName:"FødselPanel",props:{søkersituasjon:{required:!0,tsType:{name:"Søkersituasjon"},description:""},erFarEllerMedmor:{required:!0,tsType:{name:"boolean"},description:""},søknadGjelderEtNyttBarn:{required:!0,tsType:{name:"boolean"},description:""},arbeidsforhold:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverNavn: string;
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    fom: string;
    tom?: string;
    stillingsprosent: number;
}`,signature:{properties:[{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}},{key:"stillingsprosent",value:{name:"number",required:!0}}]}}],raw:"Arbeidsforhold[]"},description:""}}};const Ge=e=>e.erBarnetFødt,Je=e=>e.erBarnetFødt===!1,X=e=>e.adopsjonAvEktefellesBarn,Y=e=>e.adopsjonAvEktefellesBarn===!1,$e=(e,a,r,n)=>{if(e!==void 0&&a==="fødsel")return{...e,type:n?B.UFØDT:B.FØDT,termindato:r.termindato,fødselsdatoer:e.fødselsdatoer,antallBarn:e.antallBarn};if(X(r))return{...e,type:B.ADOPTERT_STEBARN,adopsjonsdato:r.adopsjonsdato};if(Y(r))return{...e,type:B.ADOPTERT_ANNET_BARN,adopsjonsdato:r.adopsjonsdato,adoptertIUtlandet:r.adoptertIUtlandet,ankomstdato:r.adoptertIUtlandet===!0?r.ankomstdato:void 0};throw new Error("Unreachable code")},ze=(e,a,r,n,l)=>{if(r!==void 0)return $e(r,n,e,l);if(Ge(e))return{type:B.FØDT,fødselsdatoer:e.fødselsdatoer.map(o=>o.dato),antallBarn:e.antallBarn<3?e.antallBarn:parseInt(e.antallBarnSelect,10),termindato:je(e.termindato)?e.termindato:void 0};if(Je(e))return a.length===0?{type:B.UFØDT,terminbekreftelsedato:e.terminbekreftelsedato,antallBarn:e.antallBarn<3?e.antallBarn:parseInt(e.antallBarnSelect,10),termindato:e.termindato}:{type:B.UFØDT,antallBarn:e.antallBarn<3?e.antallBarn:parseInt(e.antallBarnSelect,10),termindato:e.termindato};if(X(e))return{type:B.ADOPTERT_STEBARN,adopsjonsdato:e.adopsjonsdato,antallBarn:e.antallBarn<3?e.antallBarn:parseInt(e.antallBarnSelect,10),fødselsdatoer:e.fødselsdatoer.map(o=>o.dato)};if(Y(e))return{type:B.ADOPTERT_ANNET_BARN,fødselsdatoer:e.fødselsdatoer.map(o=>o.dato),adopsjonsdato:e.adopsjonsdato,antallBarn:e.antallBarn<3?e.antallBarn:parseInt(e.antallBarnSelect,10),adoptertIUtlandet:e.adoptertIUtlandet,ankomstdato:e.adoptertIUtlandet===!0?e.ankomstdato:void 0};throw new Error("Unreachable code")},We=(e,a)=>{if(!a)return{fødselsdatoer:[{dato:void 0}]};const r=a.antallBarn>2;return H(a)?{erBarnetFødt:!0,antallBarn:r?3:a.antallBarn,antallBarnSelect:r?a.antallBarn.toString():void 0,fødselsdatoer:a.fødselsdatoer.map(n=>({dato:n})),termindato:a.termindato}:I(a)?e.length===0?{erBarnetFødt:!1,antallBarn:r?3:a.antallBarn,antallBarnSelect:r?a.antallBarn.toString():void 0,terminbekreftelsedato:a.terminbekreftelsedato,termindato:a.termindato}:{erBarnetFødt:!1,antallBarn:r?3:a.antallBarn,antallBarnSelect:r?a.antallBarn.toString():void 0,termindato:a.termindato}:he(a)?{adopsjonAvEktefellesBarn:!1,adopsjonsdato:a.adopsjonsdato,antallBarn:r?3:a.antallBarn,antallBarnSelect:r?a.antallBarn.toString():void 0,fødselsdatoer:a.fødselsdatoer.map(n=>({dato:n})),adoptertIUtlandet:a.adoptertIUtlandet,ankomstdato:a.ankomstdato}:xe(a)?{adopsjonAvEktefellesBarn:!0,adopsjonsdato:a.adopsjonsdato,antallBarn:r?3:a.antallBarn,antallBarnSelect:r?a.antallBarn.toString():void 0,fødselsdatoer:a.fødselsdatoer.map(n=>({dato:n}))}:{fødselsdatoer:[{dato:void 0}]}},Qe=e=>{const a=d(e).add(12,"weeks");return d(a).isAfter(new Date,"day")},Xe=(e,a)=>a&&!I(a)&&a.fnr!==void 0&&a.fnr.length>0?a.fnr.includes(e.fnr):!1,Ye=(e,a,r,n)=>{if(n==="adopsjon")return!1;let l;if(r!==void 0&&r.length>0&&(l=we(r).fødselsdato),!a&&!l)return!1;const o=l||a;return T(e)?C(o)?!0:Qe(o):!0},Z=({søkerInfo:e,søknadGjelderNyttBarn:a,mellomlagreSøknadOgNaviger:r,avbrytSøknad:n})=>{const l=x(),o=Me(e.arbeidsforhold),i=ye(e.arbeidsforhold,r),s=Ae(N(D.SØKERSITUASJON)),m=N(D.OM_BARNET),g=ke(D.OM_BARNET),{arbeidsforhold:c,søker:S}=e,ee=T(s.rolle),te=m?qe(m):void 0,ae=m&&H(m)?S.barn.filter(M=>M.fnr===void 0&&Ee(M.fødselsdato,te)):[],k=!a&&m&&!I(m)?S.barn.filter(M=>Xe(M,m)).concat(ae):void 0,b=!a&&(k===void 0||k.length===0),re=M=>{const oe=ze(M,c,!a&&!b?m:void 0,s.situasjon,b);return g(oe),i.goToNextDefaultStep()},ne=R.useMemo(()=>We(c,m),[c,m]),E=ie({shouldUnregister:!0,defaultValues:ne}),O=E.watch("fødselsdatoer"),se=Ye(s.rolle,O?O[0].dato:void 0,k,s.situasjon);return t.jsx(Se,{bannerTitle:l.formatMessage({id:"søknad.pageheading"}),onCancel:n,onContinueLater:i.fortsettSøknadSenere,steps:o,children:t.jsx(le,{formMethods:E,onSubmit:re,children:t.jsxs(h,{gap:"10",children:[t.jsx(me,{}),k&&k.length>0&&t.jsx(G,{valgteRegistrerteBarn:k,skalInkludereTermindato:se}),s.situasjon==="fødsel"&&t.jsx(Q,{erFarEllerMedmor:ee,søknadGjelderEtNyttBarn:b||a,søkersituasjon:s,arbeidsforhold:c}),s.situasjon==="adopsjon"&&t.jsx($,{søknadGjelderEtNyttBarn:b||a}),t.jsx(fe,{goToPreviousStep:i.goToPreviousDefaultStep})]})})})},xt=Z;Z.__docgenInfo={description:"",methods:[],displayName:"OmBarnetSteg"};export{xt as O};
