{"version":3,"file":"Feilside-ed3febf5.js","sources":["../../src/app/pages/feilside/Feilside.tsx"],"sourcesContent":["import { BodyShort, Button, Heading, Link } from '@navikt/ds-react';\nimport { LocaleNo } from '@navikt/fp-types';\nimport { bemUtils, Block, LanguageToggle, Sidebanner, Søkerinfo, useDocumentTitle } from '@navikt/fp-common';\nimport { logAmplitudeEvent } from 'app/amplitude/amplitude';\nimport Api from 'app/api/api';\nimport { useContextReset } from 'app/context/FpDataContext';\n\nimport './feilside.less';\n\nexport interface FeilsideProps {\n    containerId?: string;\n    dokumenttittel: string;\n    illustrasjon?: {\n        tittel: string;\n        tekst: React.ReactNode;\n        lenke?: {\n            url: string;\n            tekst: string;\n        };\n    };\n    tittel: React.ReactNode;\n    ingress: React.ReactNode;\n    skalKunneGåTilbakeTilSøknad: boolean;\n    språkkode?: LocaleNo;\n    setLanguage?: (languageCode: string) => void;\n    søkerInfo?: Søkerinfo;\n}\n\nconst Feilside: React.FunctionComponent<FeilsideProps> = ({\n    containerId,\n    dokumenttittel,\n    illustrasjon,\n    tittel,\n    ingress,\n    skalKunneGåTilbakeTilSøknad,\n    språkkode,\n    setLanguage,\n    søkerInfo,\n}) => {\n    const bem = bemUtils('feilside');\n    const reset = useContextReset();\n\n    const avbrytSøknadHandler = async () => {\n        if (!søkerInfo) {\n            return;\n        }\n\n        logAmplitudeEvent('applikasjon-hendelse', {\n            app: 'foreldrepengesoknad',\n            team: 'foreldrepenger',\n            hendelse: 'avbrutt',\n        });\n\n        reset();\n\n        try {\n            await Api.deleteMellomlagretSøknad(søkerInfo.person.fnr);\n        } catch (error) {\n            // Vi bryr oss ikke om feil her. Logges bare i backend\n        }\n\n        window.location.href = 'https://nav.no';\n    };\n\n    const gåTilbakeTilSøknadenHandler = () => {\n        window.location.reload();\n    };\n\n    useDocumentTitle(dokumenttittel);\n\n    return (\n        <>\n            {setLanguage && språkkode && (\n                <LanguageToggle locale={språkkode} availableLocales={['en', 'nb', 'nn']} toggle={setLanguage} />\n            )}\n            {illustrasjon && (\n                <Sidebanner\n                    dialog={{\n                        title: illustrasjon.tittel,\n                        text: (\n                            <>\n                                <Block padBottom=\"m\">{illustrasjon.tekst}</Block>\n                                {illustrasjon.lenke && (\n                                    <Link href={illustrasjon.lenke.url}>{illustrasjon.lenke.tekst}</Link>\n                                )}\n                            </>\n                        ),\n                    }}\n                />\n            )}\n            <div id={containerId} className={bem.block}>\n                <Block padBottom=\"l\">\n                    <Heading size=\"large\">{tittel}</Heading>\n                </Block>\n                <Block padBottom=\"l\">\n                    <BodyShort>{ingress}</BodyShort>\n                </Block>\n                {søkerInfo !== undefined && !skalKunneGåTilbakeTilSøknad && (\n                    <div className={bem.element('avbrytKnapp')}>\n                        <Button variant=\"primary\" onClick={avbrytSøknadHandler}>\n                            Start søknaden på nytt\n                        </Button>\n                    </div>\n                )}\n                {søkerInfo !== undefined && skalKunneGåTilbakeTilSøknad && (\n                    <div className={bem.element('avbrytKnapp')}>\n                        <Button variant=\"primary\" onClick={gåTilbakeTilSøknadenHandler}>\n                            Gå tilbake til søknaden\n                        </Button>\n                    </div>\n                )}\n            </div>\n        </>\n    );\n};\n\nexport default Feilside;\n"],"names":["Feilside","containerId","dokumenttittel","illustrasjon","tittel","ingress","skalKunneGåTilbakeTilSøknad","språkkode","setLanguage","søkerInfo","bem","bemUtils","reset","useContextReset","avbrytSøknadHandler","logAmplitudeEvent","Api","gåTilbakeTilSøknadenHandler","useDocumentTitle","jsxs","Fragment","jsx","LanguageToggle","Sidebanner","Block","Link","Heading","BodyShort","Button"],"mappings":"mZA4BA,MAAAA,EAAA,CAAA,CAA0D,YAAAC,EACtD,eAAAC,EACA,aAAAC,EACA,OAAAC,EACA,QAAAC,EACA,4BAAAC,EACA,UAAAC,EACA,YAAAC,EACA,UAAAC,CAEJ,IAAA,CACI,MAAAC,EAAAC,EAAA,UAAA,EACAC,EAAAC,IAEAC,EAAA,SAAA,CACI,GAAAL,EAIA,CAAAM,EAAA,uBAAA,CAA0C,IAAA,sBACjC,KAAA,iBACC,SAAA,SACI,CAAA,EAGdH,IAEA,GAAA,CACI,MAAAI,EAAA,yBAAAP,EAAA,OAAA,GAAA,CAAuD,MAAA,CAC3C,CAIhB,OAAA,SAAA,KAAA,iBAAuB,EAG3BQ,EAAA,IAAA,CACI,OAAA,SAAA,QAAuB,EAG3B,OAAAC,EAAAhB,CAAA,EAEAiB,EAAA,KAAAC,WAAA,CAAA,SAAA,CAESZ,GAAAD,GAAAc,EAAAA,IAAAC,EAAA,CAAA,OAAAf,EAAA,iBAAA,CAAA,KAAA,KAAA,IAAA,EAAA,OAAAC,CAAA,CAAA,EACiGL,GAAAkB,EAAA,IAG9FE,EAAC,CAAA,OAAA,CACW,MAAApB,EAAA,OACgB,KAAAgB,EAAA,KAAAC,WAAA,CAAA,SAAA,CAGZC,EAAA,IAAAG,EAAA,CAAA,UAAA,IAAA,SAAArB,EAAA,MAAA,EAAyCA,EAAA,OAAAkB,EAAAA,IAAAI,EAAA,CAAA,KAAAtB,EAAA,MAAA,IAAA,SAAAA,EAAA,MAAA,KAAA,CAAA,CAEyB,EAAA,CAEtE,CAER,CAAA,EACJgB,OAAA,MAAA,CAAA,GAAAlB,EAAA,UAAAS,EAAA,MAAA,SAAA,CAGAW,EAAAA,IAAAG,EAAA,CAAA,UAAA,IAAA,SAAAH,EAAA,IAAAK,EAAA,CAAA,KAAA,QAAA,SAAAtB,CAAA,CAAA,CAAA,CAAA,EAEAiB,EAAAA,IAAAG,EAAA,CAAA,UAAA,IAAA,SAAAH,MAAAM,EAAA,CAAA,SAAAtB,CAAA,CAAA,CAAA,CAAA,EAGAI,IAAA,QAAA,CAAAH,GAAAe,EAAAA,IAAA,MAAA,CAAA,UAAAX,EAAA,QAAA,aAAA,EAAA,SAAAW,MAAAO,EAAA,CAAA,QAAA,UAAA,QAAAd,EAAA,SAAA,wBAAA,CAAA,EAAA,EAMIL,IAAA,QAAAH,GAAAe,EAAA,IAAA,MAAA,CAAA,UAAAX,EAAA,QAAA,aAAA,EAAA,SAAAW,MAAAO,EAAA,CAAA,QAAA,UAAA,QAAAX,EAAA,SAAA,yBAAA,CAAA,EAAA,CAOA,EAAA,CAER,CAAA,CAAA,CAGZ"}