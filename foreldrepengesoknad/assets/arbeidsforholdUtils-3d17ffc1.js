import{d as o}from"./validationUtils-0c7fa3e5.js";import{g as m}from"./index-7c191284.js";import{_}from"./_baseIteratee-ea1a760a.js";import{_ as v}from"./_baseUniq-dc2d012e.js";import{U as n,o as A,n as R,i as p,p as F}from"./dateUtils-2cd75fe4.js";import{i as k}from"./periodeUtils-07636938.js";import{u as g}from"./constants-c4bc2eb8.js";var I=_,S=v;function b(t,r){return t&&t.length?S(t,I(r)):[]}var N=b;const D=m(N),j=(t,r,e)=>({førsteUttaksdagForeldrepengerFørFødsel:d(t),førsteUttaksdagPåEllerEtterFødsel:n(t).denneEllerNeste(),førsteMuligeUttaksdagFørTermin:l(t,r,e),sisteMuligeUttaksdagEtterTermin:c(t)}),V=(t,r,e)=>{const s=n(t).denneEllerNeste(),u=d(t),a=l(t,r,e),E=n(s).forrige(),U=c(t),f=A(s,30).tom;return{førsteUttaksdag:s,førFødsel:{førsteMuligeUttaksdag:a,sisteUttaksdagFørFødsel:E,førsteUttaksdagForeldrepengerFørFødsel:u},etterFødsel:{sisteUttaksdagInnenforSeksUker:f,førsteUttaksdagEtterSeksUker:n(f).neste(),sisteMuligeUttaksdag:U}}};function i(t){return n(t).denneEllerNeste()}function d(t){return n(i(t)).trekkFra(g.ANTALL_UKER_FORELDREPENGER_FØR_FØDSEL*5)}function l(t,r,e){return r?R(t)?k(t,e):n(t).denneEllerNeste():n(i(e!==void 0?e:t)).trekkFra(g.MAKS_ANTALL_UKER_FORELDREPENGER_FØR_FØDSEL*5)}function c(t){return n(o(i(t)).add(g.MAKS_PERMISJONSLENGDE_I_ÅR,"year").subtract(1,"day").toDate()).denneEllerNeste()}const w=(t,r,e,s)=>r!=="fødsel"||!e||t===void 0||p(t)===!1?!1:o(t.fom).isBefore(o(s),"day"),M=(t,r,e)=>{if(e!==void 0)return t?e:r?k(e,void 0):d(e)},x=(t,r,e,s)=>{const u=M(r,e,s);return t.filter(a=>a.tom===void 0||a.tom===null||u!==void 0&&o(u).isSameOrBefore(a.tom,"days"))},L=t=>{if(t.length>1){const r=t.map(s=>s.arbeidsgiverId);return new Set(r).size!==r.length}return!1},T=t=>t.arbeidsgiverId,C=(t,r)=>{if(r.tom&&r.fom){const e=t.filter(s=>s.tom===void 0?!!o(r.fom).isSameOrAfter(o(s.fom),"day"):!!(F(r.fom,s.fom,s.tom)||F(r.tom,s.fom,s.tom)));return L(e)?D(e,T):e}return t};export{l as a,c as b,i as c,C as d,w as e,V as f,x as g,j as u};
//# sourceMappingURL=arbeidsforholdUtils-3d17ffc1.js.map
