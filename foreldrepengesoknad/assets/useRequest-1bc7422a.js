import{r as n}from"./index-f1f2c4b1.js";import{E as D,g as f}from"./apiInterceptor-716e24db.js";const I=()=>{window.location.href=D.LOGIN_URL+"?redirect="+window.location.origin};var t=(e=>(e.UNFETCHED="Unfetched",e.IN_PROGRESS="InProgress",e.FINISHED="Finished",e))(t||{});const N={config:{},isSuspended:!1},R=(e,a=N)=>{const[r,S]=n.useState(),[i,d]=n.useState(null),[E,o]=n.useState(t.UNFETCHED),u=a.fnr?f(a.fnr):f();return n.useEffect(()=>{!a.isSuspended&&E===t.UNFETCHED&&(o(t.IN_PROGRESS),u.get(e,a.config).then(s=>{s.data===""?S(void 0):S(s.data),o(t.FINISHED)}).catch(s=>{s.response&&(s.response.status===401||s.response.status===403)?I():d(s),o(t.FINISHED)}))},[a,e,u,E]),{data:r,error:i,requestStatus:E}},g=(e,a,r=N)=>{const[S,i]=n.useState(),[d,E]=n.useState(null),[o,u]=n.useState(t.UNFETCHED),s=r.fnr?f(r.fnr):f();return n.useEffect(()=>{!r.isSuspended&&o===t.UNFETCHED&&(u(t.IN_PROGRESS),s.post(e,a,r.config).then(c=>{c.data===""?i(void 0):i(c.data),u(t.FINISHED)}).catch(c=>{c.response&&(c.response.status===401||c.response.status===403)?I():E(c),u(t.FINISHED)}))},[r,e,s,o,a]),{data:S,error:d,requestStatus:o}};export{t as R,g as a,I as r,R as u};
