import{j as t}from"./jsx-runtime-69eee039.js";import{r as A}from"./index-7c191284.js";import{ad as o,n as d,u as F,ae as V,a as f,af as K,ag as h,ah as j,ai as k,i as m}from"./Tidsperioden-d85ef78f.js";import"./index-e13aeee6.js";import"./_baseToString-4b695375.js";import"./_createSet-a6e67bdd.js";import{g as y,E as G}from"./apiInterceptor-cff81df8.js";import{A as M}from"./AttachmentList-44783354.js";import{U,u as B,V as P,l as b}from"./IntlProvider-788f10d0.js";import"./dates-6a016f0f.js";import{E as I}from"./ExpansionCard-24c428ff.js";import{L as C,B as q}from"./Link-11d7c909.js";var z=(e=>(e.OMSORGSOVERTAKELSE="omsorgsovertakelse",e.ADOPSJONSVEDTAK="adopsjonsvedtak",e.TERMINBEKREFTELSE="terminbekreftelse",e.FØDSELSATTEST="fødselsattest",e.ANNEN_INNTEKT="anneninntektDokumentasjon",e.UTSETTELSE_SYKDOM="utsettelseSykdomUttaksplan",e.MORS_AKTIVITET_DOKUMENTASJON="morsaktivitetdokumentasjon",e.OVERFØRING_KVOTE="dokumentasjonOverføringAvKvote",e.ALENEOMSORG="dokumentasjonAvAleneomsorg",e.SEN_ENDRING="senEndring",e.HV_ØVELSE="hvØvelse",e.NAV_TILTAK="navTiltak",e))(z||{}),Y=(e=>(e.ANNET="I000060",e.BEKREFTELSE_DELTAR_KVALIFISERINGSPROGRAM="I000051",e.BEKREFTELSE_FRA_STUDIESTED="I000061",e.DOKUMENTASJON_AV_TERMIN_ELLER_FØDSEL="I000041",e.DOK_AV_ALENEOMSORG="I000110",e.DOK_BEGRUNNELSE_SØKE_TILBAKE_I_TID="I000111",e.DOK_DELTAKELSE_I_INTRODUKSJONSPROGRAMMET="I000112",e.DOK_INNLEGGELSE="I000037",e.DOK_MILITÆR_SILVIL_TJENESTE="I000039",e.DOK_MORS_UTDANNING_ARBEID_SYKDOM="I000038",e.DOK_OVERFØRING_FOR_SYK="I000023",e.ETTERLØNN_ELLER_SLUTTVEDERLAG="I000044",e.INNTEKTSOPPLYSNINGER_FRILANS_ELLER_SELVSTENDIG="I000007",e.OMSORGSOVERTAKELSESDATO="I000042",e.TERMINBEKREFTELSE="I000062",e.HV_ØVELSE="I000116",e.NAV_TILTAK="I000117",e))(Y||{});const w=()=>t.jsx(U,{children:t.jsxs(I,{size:"small","aria-label":B().formatMessage({id:"ScanDocumentInfo.Tittel"}),children:[t.jsx(I.Header,{children:t.jsx(I.Title,{size:"small",as:"h2",children:t.jsx(o,{id:"ScanDocumentInfo.Tittel"})})}),t.jsx(I.Content,{children:t.jsxs(P,{gap:"5",children:[t.jsx(d,{children:t.jsx(o,{id:"ScanDocumentInfo.Del1"})}),t.jsxs("ul",{children:[t.jsx(d,{children:t.jsx(o,{tagName:"li",id:"ScanDocumentInfo.Liste.Punkt1"})}),t.jsx(d,{children:t.jsx(o,{tagName:"li",id:"ScanDocumentInfo.Liste.Punkt2"})}),t.jsx(d,{children:t.jsx(o,{tagName:"li",id:"ScanDocumentInfo.Liste.Punkt3"})}),t.jsx(d,{children:t.jsx(o,{tagName:"li",id:"ScanDocumentInfo.Liste.Punkt4"})}),t.jsx(d,{children:t.jsx(o,{tagName:"li",id:"ScanDocumentInfo.Liste.Punkt5"})})]}),t.jsx(d,{children:t.jsx(o,{id:"ScanDocumentInfo.Del2"})}),t.jsx(d,{children:t.jsx(C,{href:b.scanneDokument,target:"_blank",children:t.jsx(o,{id:"ScanDocumentInfo.Link"})})})]})})]})});function J(e){const n={withCredentials:!0,timeout:45e3,headers:{"content-type":"multipart/form-data"}},l=new FormData;l.append("id",e.id),l.append("vedlegg",e.file,e.filename);const s=`${G.REST_API_URL}/storage/foreldrepenger/vedlegg`;return y().post(s,l,n)}const H={saveAttachment:J},L=[".pdf",".jpeg",".jpg",".png"],N=16777,$=.0009765625,X=(e,n,l)=>e.map(s=>{const i=k(s,n,l);return i.pending=!0,i}),W=e=>{const n=e.split(".").pop();return L.includes(`.${n.toLowerCase()}`)},Q=e=>e*$<=N,Z=(e,n,l)=>e.filter(s=>{const i=W(s.filename);i||n(a=>a.concat(m(l,"vedlegg.feilmelding.ugyldig.type",{filename:s.filename})));const u=Q(s.filesize);return u||n(a=>a.concat(m(l,"vedlegg.feilmelding.ugyldig.størrelse",{filename:s.filename,maxStørrelse:N}))),i&&u}),ee=(e,n,l,s,i,u)=>{e.forEach(async(a,E)=>{try{const c=await H.saveAttachment(a);a.pending=!1,a.url=c.headers.location,a.uploaded=!0,a.uuid=c.data,n(i+E,a)}catch{l(i+E),s(p=>p.concat(m(u,"vedlegg.feilmelding.opplasting.feilet",{filename:a.filename})))}})},_=({attachments:e,name:n,onFileInputClick:l,attachmentType:s,skjemanummer:i,label:u,legend:a,...E})=>{const c=F(),{setFieldValue:p}=V(),[S,v]=A.useState([]);return t.jsxs(t.Fragment,{children:[t.jsx(f,{padBottom:"xl",children:t.jsx(K,{legend:a,buttonLabel:u,name:n,accept:L.join(", "),onFilesSelect:(r,{push:T,replace:D,remove:x})=>{const R=X(r,s,i),g=Z(R,v,c);g.forEach(O=>T(O)),ee(g,D,x,v,e.length,c)},onClick:l,error:S.length>0?S.map(r=>t.jsx(q,{children:r},r)):void 0,...E})}),t.jsx(f,{padBottom:"xl",visible:e.length>0,children:t.jsx(M,{attachments:e.filter(r=>!h(r)),showFileSize:!0,onDelete:r=>{p(n,j(e,r))}})}),t.jsx(f,{padBottom:"l",children:t.jsx(w,{})})]})},Ie=_;try{_.displayName="FormikFileUploader",_.__docgenInfo={description:"",displayName:"FormikFileUploader",props:{attachments:{defaultValue:null,description:"",name:"attachments",required:!0,type:{name:"Attachment[]"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"any"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},attachmentType:{defaultValue:null,description:"",name:"attachmentType",required:!0,type:{name:"enum",value:[{value:'"omsorgsovertakelse"'},{value:'"adopsjonsvedtak"'},{value:'"terminbekreftelse"'},{value:'"fødselsattest"'},{value:'"anneninntektDokumentasjon"'},{value:'"utsettelseSykdomUttaksplan"'},{value:'"morsaktivitetdokumentasjon"'},{value:'"dokumentasjonOverføringAvKvote"'},{value:'"dokumentasjonAvAleneomsorg"'},{value:'"senEndring"'},{value:'"hvØvelse"'},{value:'"navTiltak"'}]}},skjemanummer:{defaultValue:null,description:"",name:"skjemanummer",required:!0,type:{name:"enum",value:[{value:'"I000060"'},{value:'"I000051"'},{value:'"I000061"'},{value:'"I000041"'},{value:'"I000110"'},{value:'"I000111"'},{value:'"I000112"'},{value:'"I000037"'},{value:'"I000039"'},{value:'"I000038"'},{value:'"I000023"'},{value:'"I000044"'},{value:'"I000007"'},{value:'"I000042"'},{value:'"I000062"'},{value:'"I000116"'},{value:'"I000117"'}]}},legend:{defaultValue:null,description:"",name:"legend",required:!0,type:{name:"string"}},onFileInputClick:{defaultValue:null,description:"",name:"onFileInputClick",required:!1,type:{name:"(() => void)"}}}}}catch{}export{z as A,Ie as F,Y as S,H as a};
//# sourceMappingURL=FormikFileUploader-5a8cca88.js.map
