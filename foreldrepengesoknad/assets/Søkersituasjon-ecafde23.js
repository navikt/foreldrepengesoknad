import{j as e}from"./jsx-runtime-69eee039.js";import{z as o,Z as h,u as k,B as l,i as n,_ as y,k as A}from"./validationUtils-481ea31b.js";import"./index-e13aeee6.js";import"./index-7c191284.js";import"./_baseToString-4b695375.js";import"./_createSet-a53deccd.js";import{S as p,a as F}from"./mapSøkerinfoDTO-dbaf167a.js";import{u as R}from"./useOnValidSubmit-626a50a3.js";import{a as _}from"./useSøknad-5c5bca2e.js";import{u as B,a as C,b as V,s as I}from"./useSaveLoadedRoute-aa81b91f.js";import{Q as T,a as Q}from"./submitUtils-3b67bade.js";import{u as w}from"./useSøkerinfo-d70607f2.js";var t=(s=>(s.situasjon="situasjon",s.rolle="rolle",s))(t||{});const d={situasjon:"",rolle:""},K=s=>s?{rolle:o(s.rolle)?s.rolle:d.rolle,situasjon:o(s.situasjon)?s.situasjon:d.situasjon}:d,u=h(),j=({kjønn:s})=>{const r=k();return s==="M"?null:e.jsx(l,{margin:"xl",children:e.jsx(u.RadioGroup,{name:t.rolle,radios:[{label:n(r,"søkersituasjon.radioButton.mor"),value:"mor"},{label:n(r,"søkersituasjon.radioButton.medmor"),value:"medmor"}],legend:n(r,"søkersituasjon.text.rolle")})})};try{j.displayName="VelgRolle",j.__docgenInfo={description:"",displayName:"VelgRolle",props:{kjønn:{defaultValue:null,description:"",name:"kjønn",required:!0,type:{name:"enum",value:[{value:'"M"'},{value:'"K"'}]}}}}}catch{}const N={[t.situasjon]:{isIncluded:()=>!0,isAnswered:({situasjon:s})=>o(s)},[t.rolle]:{isIncluded:({søkerKjønn:s})=>s==="K",isAnswered:({rolle:s})=>o(s),visibilityFilter:({situasjon:s})=>o(s)}},E=T(N),M=s=>({situasjon:s.situasjon,rolle:o(s.rolle)?s.rolle:"far"}),O=()=>{const s=k(),r=_(),S=w(),{kjønn:m}=S.person,g=i=>{const a=M(i);return[F.setSøkersituasjon(a)]},{handleSubmit:b,isSubmitting:c}=R(g,p.OM_BARNET,i=>Q(i)),f=B(),x=C();return V(p.SØKERSITUASJON),e.jsx(u.FormikWrapper,{initialValues:K(r.søkersituasjon),onSubmit:b,renderForm:({values:i})=>{const a=E.getVisbility({...i,søkerKjønn:m}),v=a.areAllQuestionsAnswered();return e.jsx(y,{bannerTitle:n(s,"søknad.pageheading"),activeStepId:"søkersituasjon",pageTitle:n(s,"søknad.søkersituasjon"),onCancel:f,onContinueLater:x,steps:I(s,!1),children:e.jsx(u.Form,{includeButtons:!1,children:e.jsxs("div",{children:[e.jsx(l,{children:e.jsx(u.RadioGroup,{name:t.situasjon,radios:[{label:n(s,"søkersituasjon.radioButton.fødsel"),value:"fødsel"},{label:n(s,"søkersituasjon.radioButton.adopsjon"),value:"adopsjon"}],legend:n(s,"søkersituasjon.text.situasjon")})}),e.jsx(l,{visible:a.isVisible(t.rolle),children:e.jsx(j,{kjønn:m})}),v&&e.jsx(l,{textAlignCenter:!0,margin:"l",children:e.jsx(A,{type:"submit",disabled:c,loading:c,children:n(s,"søknad.gåVidere")})})]})})})}})},Y=O;export{Y as S};
//# sourceMappingURL=Søkersituasjon-ecafde23.js.map
