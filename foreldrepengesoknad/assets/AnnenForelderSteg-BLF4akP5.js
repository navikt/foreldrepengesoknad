import{j as e}from"./jsx-runtime-CexXSJP5.js";import{c as D,R as F,D as J,f as A,T as j,b as K,u as G,F as H,E as q,S as z}from"./ErrorSummaryHookForm-CVY6T7Su.js";import{u as I,M as l,a as W,B as X}from"./Label-D9yH3wXA.js";import{c as m,R as t,U as v,K as R,d as $,X as Q,a3 as Y,n as P,a0 as E,b as Z}from"./Uttaksplan-CIx8nvnt.js";import"./index-BP8_t0zE.js";import{d as ee,e as re,b as ne}from"./Uttaksdagen-3vFTugDi.js";import{u as O,C as x,a as ae}from"./FpDataContext-CLfRphv-.js";import{i as k,u as se,a as le}from"./useFpNavigator-CX4xXzw_.js";import{g as oe,v as de,m as te,n as ie}from"./barnUtils-D6v-3sw-.js";import{R as me}from"./RegistrertePersonalia-DzFFWC1p.js";import{L as ge}from"./index-Dr8ohPV0.js";import{V as M}from"./VStack-BiLf-1IQ.js";const fe=/[\u034f\t\u00a0\u00ad\u061c\u115f\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u200b\u200c\u200d\u200e\u200f\u202d\u202f\u205f\u2060\u2061\u2062\u2063\u2064\u206a\u206b\u206c\u206d\u206e\u206f\u3000\u2800\u3164\ufeff\uffa0\u1160]/g,S=s=>s.replace(fe," "),pe=s=>!s.kanIkkeOppgis,y=({rolle:s,barn:i})=>{const r=I(),a=oe(i),n=D().watch();if(!pe(n))throw Error("Annen forelder skal alltid være oppgitt her");return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs(F,{name:"erAleneOmOmsorg",label:r.formatMessage({id:"annenForelder.aleneOmOmsorg"}),validate:[m(r.formatMessage({id:"valideringsfeil.annenForelder.harAleneOmsorgPåkrevd"}))],children:[e.jsx(t,{value:!1,children:e.jsx(l,{id:"annenForelder.aleneOmOmsorg.ja"})}),e.jsx(t,{value:!0,children:e.jsx(l,{id:"annenForelder.aleneOmOmsorg.nei"})})]}),e.jsx(v,{header:r.formatMessage({id:"annenForelder.aleneOmOmsorg.apneLabel"}),children:e.jsxs(M,{gap:"4",children:[e.jsx(W,{children:e.jsx(l,{id:"annenForelder.aleneOmOmsorg.del1"})}),e.jsx(X,{children:e.jsx(l,{id:"annenForelder.aleneOmOmsorg.del2"})})]})})]}),!k(s)&&n.erAleneOmOmsorg===!0&&e.jsx(R,{variant:"info",children:e.jsx(l,{id:"annenForelder.veileder.aleneOmsorg.forBarnet"})}),n.erAleneOmOmsorg===!0&&k(s)&&e.jsx(J,{name:"datoForAleneomsorg",label:r.formatMessage({id:"annenForelder.datoForAleneomsorg"}),minDate:ee(a).toDate(),validate:[m(r.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.duMåOppgi"})),$(r.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.ugyldigDatoFormat"})),Q(r.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.førFamiliehendelsedato"},{dato:a}),a)]}),n.erAleneOmOmsorg!==!0&&e.jsxs("div",{children:[e.jsxs(F,{name:"harRettPåForeldrepengerINorge",label:r.formatMessage({id:"annenForelder.harRettPåForeldrepengerINorge"}),validate:[m(r.formatMessage({id:"valideringsfeil.annenForelder.harRettTilForeldrepengerPåkrevd"}))],children:[e.jsx(t,{value:!0,children:"Ja"}),e.jsx(t,{value:!1,children:"Nei"})]}),e.jsxs(v,{header:r.formatMessage({id:"annenForelder.harRettPåForeldrepengerINorge.veileder.apneLabel"}),children:[e.jsx(l,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder"}),e.jsxs("ul",{style:{margin:"0",padding:"1rem 2rem 0"},children:[e.jsx("li",{children:e.jsx(l,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt1"})}),e.jsx("li",{children:e.jsx(l,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt2"})}),e.jsx("li",{children:e.jsx(l,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt3"})})]})]})]}),n.erAleneOmOmsorg===!1&&n.harRettPåForeldrepengerINorge===!1&&e.jsxs("div",{children:[e.jsxs(F,{name:"harOppholdtSegIEØS",label:r.formatMessage({id:"annenForelder.harOppholdtSegIEØS"}),validate:[m(r.formatMessage({id:"valideringsfeil.annenForelder.harOppholdtSegIEØS"}))],children:[e.jsx(t,{value:!0,children:"Ja"}),e.jsx(t,{value:!1,children:"Nei"})]}),e.jsx(v,{header:r.formatMessage({id:"annenForelder.harOppholdtSegIEØS.veileder.apneLabel"}),children:e.jsx(l,{id:"annenForelder.harOppholdtSegIEØS.veileder"})})]}),n.erAleneOmOmsorg===!1&&n.harOppholdtSegIEØS===!0&&e.jsxs("div",{children:[e.jsxs(F,{name:"harRettPåForeldrepengerIEØS",label:r.formatMessage({id:"annenForelder.harRettPåForeldrepengerIEØS"}),validate:[m(r.formatMessage({id:"valideringsfeil.annenForelder.harRettPåForeldrepengerIEØS"}))],children:[e.jsx(t,{value:!0,children:"Ja"}),e.jsx(t,{value:!1,children:"Nei"})]}),e.jsx(v,{header:r.formatMessage({id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.apneLabel"}),children:e.jsxs(M,{gap:"4",children:[e.jsx("div",{children:e.jsx(l,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.del1"})}),e.jsx(l,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.del2"}),e.jsx(ge,{to:"https://www.nav.no/foreldrepenger#utland",target:"_blank",children:e.jsx(l,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.link"})})]})})]}),n.erAleneOmOmsorg!==!0&&n.harRettPåForeldrepengerINorge!==!1&&e.jsxs(e.Fragment,{children:[e.jsxs(F,{name:"erInformertOmSøknaden",label:r.formatMessage({id:"annenForelder.spørsmål.erAnnenForelderInformert"}),validate:[m(r.formatMessage({id:"valideringsfeil.annenForelder.informertAnnenForelderPåkrevd"})),f=>f===!1?r.formatMessage({id:"annenForelder.erAnnenForelderInformert.veileder"}):null],children:[e.jsx(t,{value:!0,children:"Ja"}),e.jsx(t,{value:!1,children:"Nei"})]}),n.erInformertOmSøknaden===!1&&e.jsx(R,{variant:"warning",children:e.jsx(l,{id:"annenForelder.erAnnenForelderInformert.veileder"})})]}),n.erAleneOmOmsorg===!1&&n.harRettPåForeldrepengerINorge===!1&&(n.harOppholdtSegIEØS===!1||n.harRettPåForeldrepengerIEØS===!1)&&k(s)&&e.jsxs("div",{children:[e.jsxs(F,{name:"erMorUfør",label:r.formatMessage({id:"annenForelder.erMorUfør"}),validate:[m(r.formatMessage({id:"valideringsfeil.annenForelder.erMorUfør"}))],children:[e.jsx(t,{value:!0,children:"Ja"}),e.jsx(t,{value:!1,children:"Nei"})]}),e.jsx(v,{header:r.formatMessage({id:"annenForelder.erMorUfør.veileder.apneLabel"}),children:e.jsx(l,{id:"annenForelder.erMorUfør.veileder"})})]})]})};y.__docgenInfo={description:"",methods:[],displayName:"AnnenForelderOppgittPanel"};const N=(s,i)=>r=>te(r,i,s),he=(s,i)=>i?!1:s!=="medmor",C=({søkersFødselsnummer:s,rolle:i,barn:r})=>{const a=I(),g=ne("width"),n=D(),f=n.watch("fornavn"),h=n.watch("utenlandskFnr"),o=n.watch("kanIkkeOppgis");return e.jsxs(e.Fragment,{children:[he(i,Y(r))&&e.jsx(A,{name:"kanIkkeOppgis",label:a.formatMessage({id:"annenForelder.spørsmål.kanOppgis"})}),!o&&e.jsxs(e.Fragment,{children:[e.jsx(j,{name:"fornavn",label:e.jsx(l,{id:"annenForelder.spørsmål.fornavn"}),validate:[m(a.formatMessage({id:"valideringsfeil.annenForelder.fornavnPåkrevd"})),N(a,"annenForelder.spørsmål.fornavn")],className:g.block}),e.jsx(j,{name:"etternavn",label:e.jsx(l,{id:"annenForelder.spørsmål.etternavn"}),validate:[m(a.formatMessage({id:"valideringsfeil.annenForelder.etternavnPåkrevd"})),N(a,"annenForelder.spørsmål.etternavn")],className:g.block})]}),!o&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(j,{name:"fnr",label:a.formatMessage({id:"annenForelder.spørsmål.fnr"},{navn:f}),validate:[m(a.formatMessage({id:"valideringsfeil.annenForelder.fnrPåkrevd"})),de(a,s,a.formatMessage({id:"annenForelder.spørsmål.fnr"},{navn:f}),h)],className:g.block}),e.jsx(A,{name:"utenlandskFnr",label:a.formatMessage({id:"annenForelder.spørsmål.utenlandskFnr"})})]}),h&&e.jsx(K,{name:"bostedsland",label:a.formatMessage({id:"annenForelder.bostedsland"}),validate:[m(a.formatMessage({id:"valideringsfeil.annenForelder.bostedslandPåkrevd"}))],children:re().map(u=>e.jsx("option",{value:u[0],children:u[1]},u[0]))})]})]})};C.__docgenInfo={description:"",methods:[],displayName:"OppgiPersonalia"};const ue=(s,i)=>{const r=ie(s,i.barn),a=r===void 0||r.length===0?void 0:r.find(g=>g.annenForelder!==void 0);return a!==void 0?a.annenForelder:void 0},T=({søkerInfo:s,mellomlagreSøknadOgNaviger:i,avbrytSøknad:r})=>{const a=I(),g=se(s.arbeidsforhold),n=le(s.arbeidsforhold,i),{rolle:f}=P(O(x.SØKERSITUASJON)),h=P(O(x.OM_BARNET)),o=O(x.ANNEN_FORELDER),u=ae(x.ANNEN_FORELDER),d=ue(h,s.søker),w=o!==void 0&&E(o)&&o.fnr!==(d==null?void 0:d.fnr),c=d===void 0||w,L=p=>{if(p.kanIkkeOppgis===!0)u({kanIkkeOppgis:!0});else{const U=!c&&d?d.fornavn:p.fornavn,B=!c&&d?d.etternavn:p.etternavn,V=!c&&d?d.fnr:p.fnr;u({...p,kanIkkeOppgis:!1,fornavn:S(U),etternavn:S(B),fnr:S(V.trim()),harRettPåForeldrepengerIEØS:p.harOppholdtSegIEØS?p.harRettPåForeldrepengerIEØS:!1})}return n.goToNextDefaultStep()},b=G({shouldUnregister:!0,defaultValues:o&&E(o)&&o.fornavn===a.formatMessage({id:"annen.forelder"})?{...o,fornavn:""}:o}),_=b.watch("kanIkkeOppgis");return e.jsx(Z,{bannerTitle:a.formatMessage({id:"søknad.pageheading"}),onCancel:r,onContinueLater:n.fortsettSøknadSenere,steps:g,children:e.jsx(H,{formMethods:b,onSubmit:L,children:e.jsxs(M,{gap:"10",children:[e.jsx(q,{}),c&&e.jsx(C,{rolle:f,barn:h,søkersFødselsnummer:s.søker.fnr}),!c&&e.jsx(me,{person:d,fødselsnummerForVisning:d.fnr,visEtternavn:!0}),_!==!0&&e.jsx(y,{rolle:f,barn:h,annenForelder:o,søker:s.søker}),e.jsx(z,{goToPreviousStep:n.goToPreviousDefaultStep})]})})})},Re=T;T.__docgenInfo={description:"",methods:[],displayName:"AnnenForelderSteg"};export{Re as A};
