import{d as r,s as Z,r as H,u as _,x as C,i as Y,I as X,c as R}from"./Uttaksdagen-DrQ0Oxxl.js";import{D as x,E as z,X as q,Y as Q,K as N,P as B,Z as K,L as b,_ as ee,$ as te,I as U}from"./FpDataContext-BW_0HfWx.js";import{o as re,D as L}from"./dateFormValidation-DXkRFCUV.js";import{c as j,g as G}from"./index-BP8_t0zE.js";var w=(e=>(e.test1Juli2024Regler="FEATURE_TEST_1JULI2024_REGLER",e))(w||{});const se=()=>{const e=document.getElementById("nav:appSettings"),t=JSON.parse(e.text);return{APP_VERSION:t.APP_VERSION,INNSYN:t.INNSYN,[w.test1Juli2024Regler]:t[w.test1Juli2024Regler]}},P=se();var V={exports:{}};(function(e,t){(function(s,o){e.exports=o()})(j,function(){return function(s,o){var a=o.prototype,i=a.format;a.format=function(u){var n=this,D=this.$locale();if(!this.isValid())return i.bind(this)(u);var c=this.$utils(),m=(u||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(l){switch(l){case"Q":return Math.ceil((n.$M+1)/3);case"Do":return D.ordinal(n.$D);case"gggg":return n.weekYear();case"GGGG":return n.isoWeekYear();case"wo":return D.ordinal(n.week(),"W");case"w":case"ww":return c.s(n.week(),l==="w"?1:2,"0");case"W":case"WW":return c.s(n.isoWeek(),l==="W"?1:2,"0");case"k":case"kk":return c.s(String(n.$H===0?24:n.$H),l==="k"?1:2,"0");case"X":return Math.floor(n.$d.getTime()/1e3);case"x":return n.$d.getTime();case"z":return"["+n.offsetName()+"]";case"zzz":return"["+n.offsetName("long")+"]";default:return l}});return i.bind(this)(m)}}})})(V);var oe=V.exports;const ne=G(oe);var W={exports:{}};(function(e,t){(function(s,o){e.exports=o()})(j,function(){var s={year:0,month:1,day:2,hour:3,minute:4,second:5},o={};return function(a,i,u){var n,D=function(d,g,f){f===void 0&&(f={});var v=new Date(d),h=function(S,p){p===void 0&&(p={});var k=p.timeZoneName||"short",O=S+"|"+k,E=o[O];return E||(E=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:S,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:k}),o[O]=E),E}(g,f);return h.formatToParts(v)},c=function(d,g){for(var f=D(d,g),v=[],h=0;h<f.length;h+=1){var S=f[h],p=S.type,k=S.value,O=s[p];O>=0&&(v[O]=parseInt(k,10))}var E=v[3],y=E===24?0:E,M=v[0]+"-"+v[1]+"-"+v[2]+" "+y+":"+v[4]+":"+v[5]+":000",$=+d;return(u.utc(M).valueOf()-($-=$%1e3))/6e4},m=i.prototype;m.tz=function(d,g){d===void 0&&(d=n);var f,v=this.utcOffset(),h=this.toDate(),S=h.toLocaleString("en-US",{timeZone:d}),p=Math.round((h-new Date(S))/1e3/60),k=15*-Math.round(h.getTimezoneOffset()/15)-p;if(!Number(k))f=this.utcOffset(0,g);else if(f=u(S,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(k,!0),g){var O=f.utcOffset();f=f.add(v-O,"minute")}return f.$x.$timezone=d,f},m.offsetName=function(d){var g=this.$x.$timezone||u.tz.guess(),f=D(this.valueOf(),g,{timeZoneName:d}).find(function(v){return v.type.toLowerCase()==="timezonename"});return f&&f.value};var l=m.startOf;m.startOf=function(d,g){if(!this.$x||!this.$x.$timezone)return l.call(this,d,g);var f=u(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return l.call(f,d,g).tz(this.$x.$timezone,!0)},u.tz=function(d,g,f){var v=f&&g,h=f||g||n,S=c(+u(),h);if(typeof d!="string")return u(d).tz(h);var p=function(y,M,$){var A=y-60*M*1e3,F=c(A,$);if(M===F)return[A,M];var T=c(A-=60*(F-M)*1e3,$);return F===T?[A,F]:[y-60*Math.min(F,T)*1e3,Math.max(F,T)]}(u.utc(d,v).valueOf(),S,h),k=p[0],O=p[1],E=u(k).utcOffset(O);return E.$x.$timezone=h,E},u.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},u.tz.setDefault=function(d){n=d}}})})(W);var ae=W.exports;const ie=G(ae),Fe=e=>x(e)?e.erAleneOmOmsorg:!0,xe=e=>x(e)?e.datoForAleneomsorg:void 0,$e=(e,t)=>{var a;const s=x(e)&&e.utenlandskFnr!==!0?e.fnr:void 0,o=z(t)&&t.fnr!==void 0&&((a=t.fnr)==null?void 0:a.length)>0?t.fnr[0]:void 0;return{annenPartFødselsnummer:s,barnFødselsnummer:o,familiehendelse:I(t)}},ye=e=>{const t=x(e)&&e.utenlandskFnr!==!0?e.fnr:void 0;return!(t!==void 0&&t!=="")},de=e=>x(e)?!!e.harRettPåForeldrepengerINorge||!!e.harRettPåForeldrepengerIEØS:!1,Ae=(e,t)=>x(e)&&t?!!e.erMorUfør:!1,fe=e=>!!(P[e]&&P[e].toLowerCase()==="on"),ue={isFeatureEnabled:fe};r.extend(Z);r.extend(H);r.extend(_);r.extend(C);r.extend(re);r.extend(ie);r.extend(ne);const ce="YYYY-MM-DD",le=e=>e?r(e).format(ce):"",me=(e="")=>ve(e),ve=e=>{if(e!==void 0&&Y(e)&&r(e,"YYYY-MM-DD",!0).isValid())return new Date(e)};r().subtract(4,"year").startOf("day").toDate();const J=(e,t)=>!L(e)||!L(t)||!Y(e)||!Y(t)?!1:!!r(e).isBefore(t,"day"),Be=e=>[...e].sort((t,s)=>J(t.fødselsdato,s.fødselsdato)?1:-1)[e.length-1],we=e=>[...e].map(t=>le(t)).sort((t,s)=>J(t,s)?-1:1),ze=(e,t,s)=>{if(s!==void 0)return s;if(t!==void 0)return t;if(e!==void 0)return e;throw new Error("Mangler fødselsdato/termindato/adopsjonsdato for barnet.")},Ie=e=>{const t=new Date("2021-10-01");return r(e).isSameOrAfter(t,"day")&&r(new Date).isSameOrAfter(t,"day")},Te=e=>{let t="2024-07-01";if(ue.isFeatureEnabled(w.test1Juli2024Regler)&&(t="2024-06-18"),r().isBefore(r(t),"day"))return!1;const s=I(e);return!((q(e)||Q(e))&&r(s).isBefore(t,"day"))},Ye=(e,t,s)=>{if(!s)return;const o=e===void 0?void 0:e.filter(n=>!N(n)),a=t.filter(n=>!N(n));let i,u;if(o)a.forEach((n,D)=>{if(i)return;const{fom:c}=n.tidsperiode,m=o.find(l=>r(l.tidsperiode.fom).isSame(c,"day"));if(m!==void 0){const l=B(n).erLik(m,!1,!0);(!l||l&&B(n).slutterEtter(m.tidsperiode.tom))&&(i=c)}if(m===void 0&&(i=c),m!==void 0&&a.length-1===D&&(B(n).erLik(m,!0,!0)||(i=c)),i&&K(n)&&r(i).isAfter(o[o.length-1].tidsperiode.tom)){const l=a.find(d=>(b(d)||ee(d))&&r(d.tidsperiode.fom).isAfter(i));i=l!==void 0?l.tidsperiode.fom:i}}),o.forEach(n=>{if(u)return;const{fom:D}=n.tidsperiode,c=a.find(m=>r(m.tidsperiode.fom).isSame(D,"day"));c!==void 0&&!B(n).erLik(c,!1,!0)&&(u=c.tidsperiode.fom),c===void 0&&(u=D)});else if(a.length>0)return a[0].tidsperiode.fom;return ge(i,u)},ge=(e,t)=>{if(!(e===void 0&&t===void 0))return e!==void 0&&t===void 0?e:e===void 0&&t!==void 0?t:r(e).isSameOrBefore(r(t))?e:t},Re=(e,t)=>{const s=I(e),o=de(t);return r(s).isSameOrAfter(r("2024-07-01"),"d")&&r().isBefore(r("2024-07-01"),"d")&&o&&e.antallBarn===1},Ue=(e,t)=>e===void 0||t===void 0?!1:r.utc(e).isSameOrAfter(r(t).subtract(1,"day"),"day")&&r.utc(e).isSameOrBefore(r(t).add(1,"day"),"day");r.extend(_);const I=e=>z(e)||te(e)?e.fødselsdatoer[0]:U(e)?e.termindato:e.adopsjonsdato,Ne=e=>{const t=I(e);return me(t)},he=(e,t)=>e!==void 0&&t!==void 0?e.find(s=>r(s).isSame(t))!==void 0:!1,Le=(e,t)=>t.length>0&&!U(e)?t.filter(s=>{var o;return((o=e.fnr)==null?void 0:o.includes(s.fnr))||he(e.fødselsdatoer,s.fødselsdato)}):void 0,Pe=e=>z(e)||U(e)?e.termindato:void 0,_e=e=>z(e)?e.fødselsdatoer[0]:void 0,je=e=>{const t=r(new Date).subtract(3,"month");return e.dødsdato!==void 0&&r.utc(e.dødsdato).isBefore(t,"day")},De=(e,t)=>e===1?t.formatMessage({id:"barn"}):e===2?t.formatMessage({id:"tvillinger"}):e===3?t.formatMessage({id:"trillinger"}):t.formatMessage({id:"flerlinger"}),Ge=e=>!e.dødsdato,Ve=(e,t,s)=>{const o=r.utc(t).subtract(1,"day"),a=r.utc(t).add(1,"day");return s.filter(i=>i.fnr!==e&&r.utc(i.fødselsdato).isSameOrAfter(o,"day")&&r.utc(i.fødselsdato).isSameOrBefore(a,"day"))},Se=(e,t,s,o)=>{if(e!==void 0)return o.formatMessage({id:"velkommen.barnVelger.adoptertBarn"},{adopsjonsdato:r(e).format(R)});{const a=pe(t),i=De(s,o);return t!==void 0&&t.length>0?o.formatMessage({id:"velkommen.barnVelger.fødtBarn.barn"},{barnTekst:i,fødselsdato:a}):""}},We=(e,t,s,o,a,i)=>{if(e===void 0||e.length===0||!o)return Se(s,t,a,i);if(e.length>1){const u=e.slice(0,-1).join(", "),n=e[e.length-1];return`${u} og ${n}`}return`${e[0]}`},pe=e=>{if(e===void 0)return;const t=[];if(e.forEach(s=>{if(t.find(a=>r(a).isSame(s,"day"))===void 0){const a=r(s).format(X);t.push(a)}}),t.length>1){const s=t.map(i=>r(i).format(R)),o=s.slice(0,-1).join(", "),a=s[s.length-1];return`${o} og ${a}`}return r(t[0]).format(R)},Je=(e,t)=>r(e.fødselsdato).isAfter(t.fødselsdato,"d")?1:r(e.fødselsdato).isBefore(t.fødselsdato,"d")||e.fornavn<t.fornavn?-1:1;export{de as A,Ie as B,Ye as C,P as E,me as I,De as a,pe as b,Ue as c,Ve as d,je as e,We as f,I as g,ze as h,Ge as i,Ae as j,_e as k,Pe as l,Te as m,Re as n,ye as o,$e as p,Se as q,Be as r,Je as s,ie as t,Le as u,le as v,we as w,Ne as x,Fe as y,xe as z};
