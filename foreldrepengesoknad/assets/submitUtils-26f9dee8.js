import{aL as G,aM as _t,K as ft,E as gt,d as m,U as ht,g as j,a3 as N,aN as pt,aO as mt,aK as St,J as Et,aP as kt}from"./Tidsperioden-4a2706b8.js";import{i as Y,c as x,l as yt,n as bt,p as Tt}from"./useSøknad-04b7b25e.js";import"./jsx-runtime-69eee039.js";import{q as C,P as h,U as H,s as Nt,A as Rt,k as Ut,i as v,S as p,M as P,B as At,j as It,C as vt}from"./Periodene-c0dd0109.js";import"./index-e13aeee6.js";import"./index-7c191284.js";import"./_baseToString-4b695375.js";import"./_createSet-f4a01039.js";import{A as Dt}from"./api-ddd1803f.js";var k=(e=>(e.arbeidstaker="ARBEIDSTAKER",e.frilans="FRILANS",e.selvstendignæringsdrivende="SELVSTENDIG_NÆRINGSDRIVENDE",e))(k||{});const Ot=Object.prototype.toString;function Ft(e,t){return Ot.call(e)===`[object ${t}]`}function q(e){return Ft(e,"Object")}function V(e){return!!(e&&e.then&&typeof e.then=="function")}function E(e){return e&&e.Math==Math?e:void 0}const u=typeof globalThis=="object"&&E(globalThis)||typeof window=="object"&&E(window)||typeof self=="object"&&E(self)||typeof global=="object"&&E(global)||function(){return this}()||{};function Pt(){return u}function D(e,t,s){const n=s||u,r=n.__SENTRY__=n.__SENTRY__||{};return r[e]||(r[e]=t())}const wt="Sentry Logger ",R=["debug","info","warn","error","log","assert","trace"];function J(e){if(!("console"in u))return e();const t=u.console,s={};R.forEach(n=>{const r=t[n]&&t[n].__sentry_original__;n in t&&r&&(s[n]=t[n],t[n]=r)});try{return e()}finally{Object.keys(s).forEach(n=>{t[n]=s[n]})}}function w(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1}};return typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?R.forEach(s=>{t[s]=(...n)=>{e&&J(()=>{u.console[s](`${wt}[${s}]:`,...n)})}}):R.forEach(s=>{t[s]=()=>{}}),t}let S;typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?S=D("logger",w):S=w();function Lt(e){return U(e,new Map)}function U(e,t){if(q(e)){const s=t.get(e);if(s!==void 0)return s;const n={};t.set(e,n);for(const r of Object.keys(e))typeof e[r]<"u"&&(n[r]=U(e[r],t));return n}if(Array.isArray(e)){const s=t.get(e);if(s!==void 0)return s;const n=[];return t.set(e,n),e.forEach(r=>{n.push(U(r,t))}),n}return e}function f(){const e=u,t=e.crypto||e.msCrypto;if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");const s=t&&t.getRandomValues?()=>t.getRandomValues(new Uint8Array(1))[0]:()=>Math.random()*16;return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,n=>(n^(s()&15)>>n/4).toString(16))}function Bt(e){return Array.isArray(e)?e:[e]}function Mt(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function Gt(){return!Mt()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function jt(e,t){return e.require(t)}var l;(function(e){e[e.PENDING=0]="PENDING";const s=1;e[e.RESOLVED=s]="RESOLVED";const n=2;e[e.REJECTED=n]="REJECTED"})(l||(l={}));class _{constructor(t){_.prototype.__init.call(this),_.prototype.__init2.call(this),_.prototype.__init3.call(this),_.prototype.__init4.call(this),this._state=l.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(s){this._reject(s)}}then(t,s){return new _((n,r)=>{this._handlers.push([!1,i=>{if(!t)n(i);else try{n(t(i))}catch(o){r(o)}},i=>{if(!s)r(i);else try{n(s(i))}catch(o){r(o)}}]),this._executeHandlers()})}catch(t){return this.then(s=>s,t)}finally(t){return new _((s,n)=>{let r,i;return this.then(o=>{i=!1,r=o,t&&t()},o=>{i=!0,r=o,t&&t()}).then(()=>{if(i){n(r);return}s(r)})})}__init(){this._resolve=t=>{this._setResult(l.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(l.REJECTED,t)}}__init3(){this._setResult=(t,s)=>{if(this._state===l.PENDING){if(V(s)){s.then(this._resolve,this._reject);return}this._state=t,this._value=s,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===l.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(s=>{s[0]||(this._state===l.RESOLVED&&s[1](this._value),this._state===l.REJECTED&&s[2](this._value),s[0]=!0)})}}}const K=Pt(),A={nowSeconds:()=>Date.now()/1e3};function Yt(){const{performance:e}=K;if(!e||!e.now)return;const t=Date.now()-e.now();return{now:()=>e.now(),timeOrigin:t}}function xt(){try{return jt(module,"perf_hooks").performance}catch{return}}const T=Gt()?xt():Yt(),L=T===void 0?A:{nowSeconds:()=>(T.timeOrigin+T.now())/1e3},W=A.nowSeconds.bind(A),$=L.nowSeconds.bind(L);(()=>{const{performance:e}=K;if(!e||!e.now)return;const t=3600*1e3,s=e.now(),n=Date.now(),r=e.timeOrigin?Math.abs(e.timeOrigin+s-n):t,i=r<t,o=e.timing&&e.timing.navigationStart,d=typeof o=="number"?Math.abs(o+s-n):t,c=d<t;return i||c?r<=d?e.timeOrigin:o:n})();const Ct="production";function Ht(e){const t=$(),s={sid:f(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Vt(s)};return e&&y(s,e),s}function y(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||$(),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:f()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const s=e.timestamp-e.started;e.duration=s>=0?s:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function qt(e,t){let s={};t?s={status:t}:e.status==="ok"&&(s={status:"exited"}),y(e,s)}function Vt(e){return Lt({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}const Jt=100;class g{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=B()}static clone(t){const s=new g;return t&&(s._breadcrumbs=[...t._breadcrumbs],s._tags={...t._tags},s._extra={...t._extra},s._contexts={...t._contexts},s._user=t._user,s._level=t._level,s._span=t._span,s._session=t._session,s._transactionName=t._transactionName,s._fingerprint=t._fingerprint,s._eventProcessors=[...t._eventProcessors],s._requestSession=t._requestSession,s._attachments=[...t._attachments],s._sdkProcessingMetadata={...t._sdkProcessingMetadata},s._propagationContext={...t._propagationContext}),s}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{},this._session&&y(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,s){return this._tags={...this._tags,[t]:s},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,s){return this._extra={...this._extra,[t]:s},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,s){return s===null?delete this._contexts[t]:this._contexts[t]=s,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this.getSpan();return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;if(typeof t=="function"){const s=t(this);return s instanceof g?s:this}return t instanceof g?(this._tags={...this._tags,...t._tags},this._extra={...this._extra,...t._extra},this._contexts={...this._contexts,...t._contexts},t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession),t._propagationContext&&(this._propagationContext=t._propagationContext)):q(t)&&(t=t,this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession),t.propagationContext&&(this._propagationContext=t.propagationContext)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=B(),this}addBreadcrumb(t,s){const n=typeof s=="number"?s:Jt;if(n<=0)return this;const r={timestamp:W(),...t};return this._breadcrumbs=[...this._breadcrumbs,r].slice(-n),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(t,s={}){if(this._extra&&Object.keys(this._extra).length&&(t.extra={...this._extra,...t.extra}),this._tags&&Object.keys(this._tags).length&&(t.tags={...this._tags,...t.tags}),this._user&&Object.keys(this._user).length&&(t.user={...this._user,...t.user}),this._contexts&&Object.keys(this._contexts).length&&(t.contexts={...this._contexts,...t.contexts}),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts={trace:this._span.getTraceContext(),...t.contexts};const n=this._span.transaction;if(n){t.sdkProcessingMetadata={dynamicSamplingContext:n.getDynamicSamplingContext(),...t.sdkProcessingMetadata};const r=n.name;r&&(t.tags={transaction:r,...t.tags})}}return this._applyFingerprint(t),t.breadcrumbs=[...t.breadcrumbs||[],...this._breadcrumbs],t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...this._sdkProcessingMetadata,propagationContext:this._propagationContext},this._notifyEventProcessors([...Kt(),...this._eventProcessors],t,s)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}_notifyEventProcessors(t,s,n,r=0){return new _((i,o)=>{const a=t[r];if(s===null||typeof a!="function")i(s);else{const d=a({...s},n);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&a.id&&d===null&&S.log(`Event processor "${a.id}" dropped event`),V(d)?d.then(c=>this._notifyEventProcessors(t,c,n,r+1).then(i)).then(null,o):this._notifyEventProcessors(t,d,n,r+1).then(i).then(null,o)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}_applyFingerprint(t){t.fingerprint=t.fingerprint?Bt(t.fingerprint):[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}}function Kt(){return D("globalEventProcessors",()=>[])}function B(){return{traceId:f(),spanId:f().substring(16),sampled:!1}}const X=4,Wt=100;class Q{constructor(t,s=new g,n=X){this._version=n,this._stack=[{scope:s}],t&&this.bindClient(t)}isOlderThan(t){return this._version<t}bindClient(t){const s=this.getStackTop();s.client=t,t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=g.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){const s=this.pushScope();try{t(s)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,s){const n=this._lastEventId=s&&s.event_id?s.event_id:f(),r=new Error("Sentry syntheticException");return this._withClient((i,o)=>{i.captureException(t,{originalException:t,syntheticException:r,...s,event_id:n},o)}),n}captureMessage(t,s,n){const r=this._lastEventId=n&&n.event_id?n.event_id:f(),i=new Error(t);return this._withClient((o,a)=>{o.captureMessage(t,s,{originalException:t,syntheticException:i,...n,event_id:r},a)}),r}captureEvent(t,s){const n=s&&s.event_id?s.event_id:f();return t.type||(this._lastEventId=n),this._withClient((r,i)=>{r.captureEvent(t,{...s,event_id:n},i)}),n}lastEventId(){return this._lastEventId}addBreadcrumb(t,s){const{scope:n,client:r}=this.getStackTop();if(!r)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=Wt}=r.getOptions&&r.getOptions()||{};if(o<=0)return;const d={timestamp:W(),...t},c=i?J(()=>i(d,s)):d;c!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",c,s),n.addBreadcrumb(c,o))}setUser(t){this.getScope().setUser(t)}setTags(t){this.getScope().setTags(t)}setExtras(t){this.getScope().setExtras(t)}setTag(t,s){this.getScope().setTag(t,s)}setExtra(t,s){this.getScope().setExtra(t,s)}setContext(t,s){this.getScope().setContext(t,s)}configureScope(t){const{scope:s,client:n}=this.getStackTop();n&&t(s)}run(t){const s=M(this);try{t(this)}finally{M(s)}}getIntegration(t){const s=this.getClient();if(!s)return null;try{return s.getIntegration(t)}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&S.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,s){const n=this._callExtensionMethod("startTransaction",t,s);return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&!n&&console.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`),n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){const s=this.getStackTop().scope,n=s.getSession();n&&qt(n),this._sendSessionUpdate(),s.setSession()}startSession(t){const{scope:s,client:n}=this.getStackTop(),{release:r,environment:i=Ct}=n&&n.getOptions()||{},{userAgent:o}=u.navigator||{},a=Ht({release:r,environment:i,user:s.getUser(),...o&&{userAgent:o},...t}),d=s.getSession&&s.getSession();return d&&d.status==="ok"&&y(d,{status:"exited"}),this.endSession(),s.setSession(a),a}shouldSendDefaultPii(){const t=this.getClient(),s=t&&t.getOptions();return!!(s&&s.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:s}=this.getStackTop(),n=t.getSession();n&&s&&s.captureSession&&s.captureSession(n)}_withClient(t){const{scope:s,client:n}=this.getStackTop();n&&t(n,s)}_callExtensionMethod(t,...s){const r=b().__SENTRY__;if(r&&r.extensions&&typeof r.extensions[t]=="function")return r.extensions[t].apply(this,s);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&S.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function b(){return u.__SENTRY__=u.__SENTRY__||{extensions:{},hub:void 0},u}function M(e){const t=b(),s=I(t);return Z(t,e),s}function O(){const e=b();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return $t(e)}function $t(e=b()){return(!Xt(e)||I(e).isOlderThan(X))&&Z(e,new Q),I(e)}function Xt(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function I(e){return D("hub",()=>new Q,e)}function Z(e,t){if(!e)return!1;const s=e.__SENTRY__=e.__SENTRY__||{};return s.hub=t,!0}function Ae(e,t){return O().captureException(e,{captureContext:t})}function Qt(e,t){const s=typeof t=="string"?t:void 0,n=typeof t!="string"?{captureContext:t}:void 0;return O().captureMessage(e,s,n)}function Ie(e){O().withScope(e)}const ve="Søknaden kan ikke inneholde flere enn 40 vedlegg. Vennligst gå tilbake, slett noen vedlegg og prøv å sende inn søknaden på nytt. Du kan ettersende vedlegg senere.",De="Det har oppstått et problem med innsending av søknaden. Vennligst prøv igjen senere. Hvis problemet vedvarer, kontakt oss og oppgi feil id: ",Zt="ukjent uuid",zt=(e,t,s)=>{const n=ce(te(e));return Rt(t,s,e.tidsperiode.fom)?{...n,justeresVedFødsel:!0}:n},te=e=>{const{erMorForSyk:t,...s}=e;return s},ee=e=>e.type!==h.Hull,se=e=>e.type!==h.Info,ne=e=>e.type!==h.PeriodeUtenUttak,re=e=>Ut(e)?!e.skalIkkeHaUttakFørTermin:ee(e)&&se(e)&&ne(e)&&!(v(e)&&e.konto===void 0),z=(e,t=!1)=>{if(C(e)){const{erUfør:s,erForSyk:n,harRettPåForeldrepengerINorge:r,harRettPåForeldrepengerIEØS:i,harOppholdtSegIEØS:o,...a}=e,d={harMorUføretrygd:s,harRettPåForeldrepenger:r,...a};return r?{...d,erInformertOmSøknaden:!0}:o?{...d,harAnnenForelderOppholdtSegIEØS:o,harAnnenForelderTilsvarendeRettEØS:i}:t?{...d,harAnnenForelderTilsvarendeRettEØS:i}:{...d,harAnnenForelderOppholdtSegIEØS:o}}return e},ie=e=>{if(yt(e)){const{datoForAleneomsorg:r,type:i,fnr:o,...a}=e;return a}if(bt(e)){const{datoForAleneomsorg:r,type:i,fnr:o,...a}=e;return{adopsjonAvEktefellesBarn:Tt(e),...a}}const{datoForAleneomsorg:t,type:s,...n}=e;return n},oe=e=>{switch(e){case"mor":return"MOR";case"far":return"FAR";case"medmor":return"MEDMOR";default:return St(e,"Søkerrolle er ikke satt")}},ae=(e,t,s,n,r)=>(v(e)&&(e.konto===p.Flerbarnsdager&&(e.konto=t?p.Fellesperiode:p.Foreldrepenger),e.konto===p.AktivitetsfriKvote&&(e.konto=p.Foreldrepenger,n&&!t&&Et(r)?e.morsAktivitetIPerioden=P.IkkeOppgitt:s&&(e.morsAktivitetIPerioden=P.Uføre))),e),de=e=>{if(e!==void 0&&e.length>0){const t=e[0];return{erArbeidstaker:t===k.arbeidstaker,erFrilanser:t===k.frilans,erSelvstendig:t===k.selvstendignæringsdrivende}}else return{}},ce=e=>e.gradert?{...e,...de(e.arbeidsformer)}:e,tt=(e,t,s,n,r,i,o)=>{const d=e.map(c=>({...c})).filter(c=>ft(c.tidsperiode)).filter(re).map(c=>i&&C(i)?ae(c,!!i.harRettPåForeldrepengerINorge,!!i.erUfør,s,t):c).map(c=>c.type===h.Uttak?zt(c,n,r):c);return o&&gt(t)&&!ue(d,o)?le(d,o):d},ue=(e,t)=>e.find(s=>m(t).isBetween(s.tidsperiode.fom,s.tidsperiode.tom,"day","[]")),le=(e,t)=>{const s=e.find(i=>m(i.tidsperiode.fom).isAfter(t,"day")),n=s?ht(s.tidsperiode.fom).forrige():t,r={type:h.Utsettelse,årsak:H.Fri,id:j(),tidsperiode:{fom:t,tom:n},erArbeidstaker:!1,forelder:N.farMedmor};return e.push(r),e.sort(Nt),e},_e=(e,t)=>{const{søker:s,barn:n,annenForelder:r,søkersituasjon:i,tilleggsopplysninger:o,uttaksplan:a,...d}=e,c=z(r),ot=et(s,e.søkersituasjon),at=ie(n),dt=Y(e.søkersituasjon.rolle),ct=x(e.barn),ut=tt(a,t,dt,e.ønskerJustertUttakVedFødsel,ct,r),lt=nt(e.tilleggsopplysninger),F={søker:ot,barn:at,situasjon:e.søkersituasjon.situasjon,annenForelder:c,uttaksplan:ut,tilleggsopplysninger:lt,...d};return G(F.uttaksplan),rt(F)},et=(e,t)=>{const s=e.språkkode==="nb"?"NB":"NN",n=oe(t.rolle);return{...e,rolle:n,språkkode:s}},Oe=(e,t,s,n)=>{const r=JSON.parse(JSON.stringify(e));return r.erEndringssøknad?fe(r,t,s,r.ønskerJustertUttakVedFødsel,n):_e(r,s)},st=e=>{const t=[];return e==null||Object.keys(e).forEach(s=>{if(typeof e[s]=="object")if(pt(e[s])){const n=[...mt(e[s])];t.push(...n),e[s]=e[s].filter(r=>n.includes(r)).map(r=>r.id)}else t.push(...st(e[s]))}),t},fe=(e,t,s,n,r)=>{const i=Y(e.søkersituasjon.rolle),o=x(e.barn),a={erEndringssøknad:!0,saksnummer:e.saksnummer,type:e.type,uttaksplan:tt(t,s,i,n,o,e.annenForelder,r),vedlegg:st({søknad:e}),søker:et(e.søker,e.søkersituasjon),annenForelder:z(e.annenForelder,!0),barn:e.barn,dekningsgrad:e.dekningsgrad,situasjon:e.søkersituasjon.situasjon,tilleggsopplysninger:nt(e.tilleggsopplysninger),ønskerJustertUttakVedFødsel:e.ønskerJustertUttakVedFødsel};return G(a.uttaksplan),rt(a)},nt=e=>{var s;const t=(s=e.begrunnelseForSenEndring)==null?void 0:s.tekst;if(t!==void 0&&t.length>0)return t},Fe=e=>{const t=ge(e)+". ",s=he(e)+". ",n=i=>i.replace(/\d/g,"*").slice(0,250)+"...";let r=t+s;e.request&&e.request.data&&e.request.data.messages?r=r+n(e.request.data.messages):e.response&&e.response.data&&e.response.data.messages&&(r=r+n(e.response.data.messages)),e.message&&(r=r+e.message),Qt(r)},ge=e=>e.response&&e.response.data&&e.response.data.uuid?e.response.data.uuid:Zt,he=e=>e.response&&e.response.data&&e.response.data.timestamp?e.response.data.timestamp:"",rt=e=>{const t=[],s=_t(e,t),n=t.reduce((r,i)=>(r.find(o=>o.id===i.id)||r.push(i),r),[]);return{...s,vedlegg:n}},Pe=e=>Dt.storeAppState(e,e.søkerinfo.person.fnr),it=e=>v(e)||At(e)||It(e)||vt(e),we=(e,t,s,n,r)=>n?t?me(n,e,r,s):e.filter(it):e,pe=(e,t,s,n)=>{const r=t.filter(i=>kt(s,i.tidsperiode.fom,i.tidsperiode.tom)||m(i.tidsperiode.fom).isSameOrAfter(m(s),"day")).filter(it);if(r.length===0&&e.length>t.length){const i=e.find(a=>m(a.tidsperiode.fom).isSame(s,"day"));return[{id:j(),type:h.Utsettelse,tidsperiode:{fom:i.tidsperiode.fom,tom:i.tidsperiode.tom},årsak:H.Fri,forelder:n?N.farMedmor:N.mor,erArbeidstaker:!1}]}else return r},me=(e,t,s,n)=>s===void 0?[]:pe(e,t,s,n);export{k as A,ve as F,Zt as U,Fe as a,Oe as b,Ae as c,ge as d,De as e,we as g,Pe as s,Ie as w};
//# sourceMappingURL=submitUtils-26f9dee8.js.map
