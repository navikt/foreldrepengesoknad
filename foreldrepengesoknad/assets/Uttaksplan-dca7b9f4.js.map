{"version":3,"file":"Uttaksplan-dca7b9f4.js","sources":["../../../../packages/fp-common/src/common/types/UttakRundtFødselÅrsak.ts","../../../../packages/fp-common/src/common/utils/annenForelderUtils.ts","../../../../packages/fp-common/src/common/utils/morsAktivitetUtils.ts","../../../../packages/fp-common/src/common/utils/minsterettUtils.ts","../../../../packages/fp-common/src/common/utils/uttaksplanHarForMangeFlerbarnsuker.ts","../../../../packages/fp-common/src/common/utils/uttaksplanDatoavgrensninger.ts","../../../../node_modules/.pnpm/react-intl@6.4.4_react@18.2.0_typescript@5.2.2/node_modules/react-intl/lib/src/components/message.js","../../../../packages/uttaksplan/src/components/uttaks-forms/periode-uttak-form/periodeUttakFormConfig.ts","../../../../packages/uttaksplan/src/components/uttaks-forms/spørsmål/er-mor-for-syk-dokumentasjon/MorErForSykDokumentasjonOpplastning.tsx","../../../../packages/uttaksplan/src/components/uttaks-forms/spørsmål/er-mor-for-syk/ErMorForSykSpørsmål.tsx","../../../../packages/uttaksplan/src/components/uttaks-forms/spørsmål/flerbarnsdager/FlerbarnsdagerSpørsmål.tsx","../../../../packages/uttaksplan/src/components/uttaks-forms/spørsmål/hvem-skal-ha-uttak/HvemSkalHaUttakSpørsmål.tsx","../../../../packages/uttaksplan/src/components/uttaks-forms/spørsmål/hvilken-konto/HvilkenKontoSpørsmål.tsx","../../../../packages/uttaksplan/src/components/uttaks-forms/spørsmål/uttak-rundt-fødsel-årsak/UttakRundtFødselÅrsakSpørsmål.tsx","../../../../packages/uttaksplan/src/components/uttaks-forms/spørsmål/overføringsårsak/OverføringsårsakSpørsmål.tsx","../../../../packages/uttaksplan/src/utils/prosentValidering.ts","../../../../packages/uttaksplan/src/components/uttaks-forms/spørsmål/samtidig-uttak/SamtidigUttakSpørsmål.tsx","../../../../packages/uttaksplan/src/components/uttaks-forms/spørsmål/skal-ha-gradering/SkalHaGraderingSpørsmål.tsx","../../../../packages/uttaksplan/src/components/uttaks-forms/submit-listener/SubmitListener.tsx","../../../../packages/uttaksplan/src/utils/uttaksdatoerUtils.ts","../../../../packages/uttaksplan/src/utils/datoAvgrensningerUtils.ts","../../../../packages/uttaksplan/src/components/uttaks-forms/tidsperiode-form/TidsperiodeForm.tsx","../../../../packages/uttaksplan/src/utils/uttaksskjema/kontoSkalBesvarer.ts","../../../../packages/uttaksplan/src/utils/uttaksskjema/uttakRundtFødselÅrsakSpørsmålSkalBesvares.ts","../../../../packages/uttaksplan/src/utils/uttaksskjema/aktivitetskravMorSkalBesvares.ts","../../../../packages/uttaksplan/src/utils/uttaksskjema/erMorForSykSkalBesvares.ts","../../../../packages/uttaksplan/src/utils/uttaksskjema/graderingSkalBesvares.ts","../../../../packages/uttaksplan/src/utils/uttaksskjema/graderingSkalBesvaresPgaWLBUttakRundtFødsel.ts","../../../../packages/uttaksplan/src/utils/uttaksskjema/samtidigUttakSkalBesvares.ts","../../../../packages/uttaksplan/src/utils/uttaksskjema/ønskerFlerbarnsdagerSkalBesvares.ts","../../../../packages/uttaksplan/src/utils/uttaksskjema/hvemSkalTaUttakSkalBesvares.ts","../../../../packages/uttaksplan/src/utils/uttaksskjema/overføringsårsakSkalBesvares.ts","../../../../packages/uttaksplan/src/utils/uttaksskjema/uttakSkjemaregler.ts","../../../../packages/uttaksplan/src/components/uttaks-forms/periode-uttak-form/periodeUttakFormQuestionsConfig.ts","../../../../packages/uttaksplan/src/components/uttaks-forms/spørsmål/aktivitetskrav/AktivitetskravSpørsmål.tsx","../../../../packages/uttaksplan/src/components/uttaks-forms/periode-uttak-form/periodeUttakFormUtils.ts","../../../../packages/uttaksplan/src/components/tidsperiode-display/TidsperiodeDisplay.tsx","../../../../packages/uttaksplan/src/assets/RangeIcon.tsx","../../../../packages/uttaksplan/src/components/aria-text/AriaText.tsx","../../../../packages/uttaksplan/src/utils/preventDoubleTapZoom.ts","../../../../packages/uttaksplan/src/components/sirkelknapp/Sirkelknapp.tsx","../../../../packages/uttaksplan/src/components/number-stepper/StepperKnapp.tsx","../../../../packages/uttaksplan/src/components/number-stepper/NumberStepper.tsx","../../../../packages/uttaksplan/src/components/uker-dager-teller/UkerDagerTeller.tsx","../../../../packages/uttaksplan/src/components/uttak-endre-tidsperiode-spørsmål/UttakEndreTidsperiodeSpørsmål.tsx","../../../../packages/uttaksplan/src/components/uttaks-forms/periode-uttak-form/PeriodeUttakForm.tsx","../../../../packages/uttaksplan/src/components/uttaks-forms/periode-utsettelse-form/periodeUtsettelseFormConfig.ts","../../../../packages/uttaksplan/src/components/uttaks-forms/periode-utsettelse-form/periodeUtsettelseFormUtils.ts","../../../../packages/uttaksplan/src/components/uttaks-forms/periode-utsettelse-form/periodeUtsettelseFormQuestionsConfig.ts","../../../../packages/uttaksplan/src/components/uttaks-forms/spørsmål/utsettelse-årsak/UtsettelseÅrsakSpørsmål.tsx","../../../../packages/uttaksplan/src/components/utsettelse-tidsperiode-spørsmål/UtsettelseTidsperiodeSpørsmål.tsx","../../../../packages/uttaksplan/src/components/uttaks-forms/periode-utsettelse-form/PeriodeUtsettelseForm.tsx","../../../../packages/uttaksplan/src/components/uttaks-forms/ny-periode/NyPeriode.tsx","../../../../packages/uttaksplan/src/components/icon-box/IconBox.tsx","../../../../packages/uttaksplan/src/assets/ArbeidIkon.tsx","../../../../packages/uttaksplan/src/assets/FerieIkon.tsx","../../../../packages/uttaksplan/src/assets/SykdomIkon.tsx","../../../../packages/uttaksplan/src/assets/TerminIkon.tsx","../../../../packages/uttaksplan/src/assets/UttakIkon.tsx","../../../../packages/uttaksplan/src/components/uttaksplan-ikon/UttaksplanIkon.tsx","../../../../packages/uttaksplan/src/types/UttaksplanColor.ts","../../../../packages/uttaksplan/src/utils/styleUtils.ts","../../../../packages/uttaksplan/src/components/stønadskonto-ikon/StønadskontoIkon.tsx","../../../../packages/uttaksplan/src/components/utsettelse-ikon/UtsettelseIkon.tsx","../../../../packages/uttaksplan/src/assets/UttaksplanAdvarselIkon.tsx","../../../../packages/uttaksplan/src/validering/veilederInfo/components/VeilederMelding.tsx","../../../../packages/uttaksplan/src/components/periodeliste-item-header/PeriodelisteItemHeader.tsx","../../../../packages/uttaksplan/src/components/perioder/PeriodeHull.tsx","../../../../packages/uttaksplan/src/components/perioder/PeriodeInfo.tsx","../../../../packages/uttaksplan/src/components/perioder/PeriodeUtenUttak.tsx","../../../../packages/uttaksplan/src/components/uttaks-forms/periode-før-fødsel-form/periodeFørFødselFormConfig.ts","../../../../packages/uttaksplan/src/components/uttaks-forms/periode-før-fødsel-form/periodeFørFødselFormQuestionsConfig.ts","../../../../packages/uttaksplan/src/components/uttaks-forms/periode-før-fødsel-form/periodeFørFødselFormUtils.ts","../../../../packages/uttaksplan/src/components/uttaks-forms/periode-før-fødsel-form/PeriodeFørFødselForm.tsx","../../../../packages/uttaksplan/src/components/perioder/SlettbarAvslåttPeriode.tsx","../../../../packages/uttaksplan/src/validering/veilederInfo/VeilederMeldinger.tsx","../../../../packages/uttaksplan/src/components/periodeliste-item/PeriodelisteItem.tsx","../../../../packages/uttaksplan/src/assets/HjerteIkon.tsx","../../../../packages/uttaksplan/src/components/familiehendelsedato-display/FamiliehendelsedatoDisplay.tsx","../../../../packages/uttaksplan/src/components/periodeliste/Periodeliste.tsx","../../../../packages/uttaksplan/src/components/planlegger/Planlegger.tsx","../../../../packages/uttaksplan/src/components/oversikt-kvoter/konto-status/Kontostatus.tsx","../../../../packages/uttaksplan/src/components/oversikt-kvoter/tilesList/TilesList.tsx","../../../../packages/uttaksplan/src/utils/brukteDagerUtils.ts","../../../../packages/uttaksplan/src/utils/uttaksstatus.ts","../../../../packages/uttaksplan/src/components/oversikt-kvoter/OversiktKvoter.tsx","../../../../packages/uttaksplan/src/validering/tester/inneholderUttaksplanPerioderTest.ts","../../../../packages/uttaksplan/src/validering/utils/uttakValideringUtils.ts","../../../../packages/uttaksplan/src/validering/tester/harMorSøktUgyldigUttakFørsteSeksUkerTest.ts","../../../../packages/uttaksplan/src/validering/tester/stønadskontoInneholderForMyeUttakKunSøkerTest.ts","../../../../packages/uttaksplan/src/validering/tester/harFarMedmorSøktUgyldigUttakEllerUtsettelseFørsteSeksUkerTest.ts","../../../../packages/uttaksplan/src/validering/tester/erUttaksplanBareOppholdTest.ts","../../../../packages/uttaksplan/src/validering/tester/slutterUttaksplanMedOppholdTest.ts","../../../../packages/uttaksplan/src/validering/tester/starterUttaksplanMedOppholdTest.ts","../../../../packages/uttaksplan/src/validering/tester/erUttaksplanGraderingStørreEnnSamtidigUttakTest.ts","../../../../packages/uttaksplan/src/validering/tester/erTilleggsopplysningerGyldigTest.ts","../../../../packages/uttaksplan/src/validering/tester/harTilleggsopplysningerGyldigeCharsTest.ts","../../../../packages/uttaksplan/src/validering/tester/harUttaksplanForMangeFlerbarnsdagerTest.ts","../../../../packages/uttaksplan/src/validering/tester/inneholderUttaksplanDatoSomIkkeErUttaksdagTest.ts","../../../../packages/uttaksplan/src/utils/manglendeVedleggUtils.ts","../../../../packages/uttaksplan/src/validering/tester/harPerioderManglendeVedleggTest.ts","../../../../packages/uttaksplan/src/validering/tester/inneholderSenUtsettelsePgaFerieTest.ts","../../../../packages/uttaksplan/src/validering/tester/inneholderTapteDagerTest.ts","../../../../packages/uttaksplan/src/validering/tester/inneholderBareUtsettelserTest.ts","../../../../packages/uttaksplan/src/validering/tester/inneholderSenUtsettelsePgaArbeidTest.ts","../../../../packages/uttaksplan/src/validering/tester/overskriverEndringerAnnenPartsPerioder.ts","../../../../packages/uttaksplan/src/validering/tester/overlapperPeriodeAndrePerioderTest.ts","../../../../packages/uttaksplan/src/validering/utils/types/regelTypes.ts","../../../../packages/uttaksplan/src/validering/utils/regelUtils.ts","../../../../packages/uttaksplan/src/validering/utils/stillingsprosentValideringUtils.ts","../../../../packages/uttaksplan/src/validering/utils/periodeValideringUtils.ts","../../../../packages/uttaksplan/src/validering/tester/periodevalideringstester/harUttaksperiodeGyldigGradering.ts","../../../../packages/uttaksplan/src/validering/utils/validatorUtils.ts","../../../../packages/uttaksplan/src/validering/utils/tidsperiodeValideringUtils.ts","../../../../packages/uttaksplan/src/validering/tester/periodevalideringstester/harPeriodeGyldigTidsperiode.ts","../../../../packages/uttaksplan/src/validering/tester/periodevalideringstester/harUttaksperiodeStønadskonto.ts","../../../../packages/uttaksplan/src/validering/tester/periodevalideringstester/erSamtidigUttakGyldig.ts","../../../../packages/uttaksplan/src/validering/tester/periodevalideringstester/erUtsettelseEtterFamiliehendelsesdato.ts","../../../../packages/uttaksplan/src/validering/tester/periodevalideringstester/starterUttaksperiodeRundtFødselEtter2UkerFørFødsel.ts","../../../../packages/uttaksplan/src/validering/tester/periodevalideringstester/slutterUttaksperiodeRundtFødselInnen6UkerEtterFødsel.ts","../../../../packages/uttaksplan/src/validering/tester/periodevalideringstester/periodeDeFørsteSeksUkeneHarUlovligUttakBFHR.ts","../../../../packages/uttaksplan/src/validering/tester/periodevalideringstester/harBekreftet100ProsentArbeidIUtsettelsePgaArbeid.ts","../../../../packages/uttaksplan/src/validering/tester/periodevalideringstester/forSenUttakVedPåfølgendeBarn.ts","../../../../packages/uttaksplan/src/validering/tester/periodevalideringstester/index.ts","../../../../packages/uttaksplan/src/validering/tester/harSøktOmFerieUtenArbeidsforholdTest.ts","../../../../packages/uttaksplan/src/validering/tester/inneholderForMyeFerie.ts","../../../../packages/uttaksplan/src/validering/tester/kanIkkeSlutteMedUtsettelseDersomStønadsdagerErTomme.ts","../../../../packages/uttaksplan/src/validering/tester/erUttaksmengdeForFarMedmorForHøyTest.ts","../../../../packages/uttaksplan/src/validering/tester/burdeKanskjeSøkeGraderingTest.tsx","../../../../packages/uttaksplan/src/validering/tester/ferieEllerArbeidInnenforDeFørsteÅtteUkeneEtterTermindatoTest.ts","../../../../packages/uttaksplan/src/validering/tester/inneholderPerioderUtenAktivitetskrav.ts","../../../../packages/uttaksplan/src/validering/tester/inneholderUtsettelserUtenÅrsak.ts","../../../../packages/uttaksplan/src/validering/tester/farMedmorHarSøktUgyldigAntallDagerUttakRundtFødselTest.ts","../../../../packages/uttaksplan/src/validering/tester/harMorSøktMindreEnn100ProsentSamtidigUttakDeFørsteSeksUkerTest.ts","../../../../packages/uttaksplan/src/validering/tester/farMedMorHarRettPåUttakRundtFødselTest.ts","../../../../packages/uttaksplan/src/validering/tester/farMedmorHarRettPåForeldrepengerUtenAktivitetskravTest.tsx","../../../../packages/uttaksplan/src/validering/tester/inneholderUttaksperioderMedUbesvartGradering.ts","../../../../packages/uttaksplan/src/validering/tester/inneholderUttaksperiodeMedUbservartSpmOmFlerbarnsdagerTest.ts","../../../../packages/uttaksplan/src/validering/tester/farMedmorHarRettPåFlerbarnsdagerTest.tsx","../../../../packages/uttaksplan/src/validering/tester/overstigerMinsterettVedToTette.ts","../../../../packages/uttaksplan/src/validering/tester/harPerioderEtterFørsteStønadsdagNesteBarnDerToTette.ts","../../../../packages/uttaksplan/src/validering/index.ts","../../../../packages/uttaksplan/src/validering/validerUttaksplan.ts","../../../../packages/uttaksplan/src/validering/veilederInfo/VeilederInfo.tsx","../../../../packages/uttaksplan/src/validering/veilederInfo/utils.ts","../../../../node_modules/.pnpm/lodash.throttle@4.1.1/node_modules/lodash.throttle/index.js","../../../../packages/uttaksplan/src/components/oppgi-tilleggsopplysninger/OppgiTilleggsopplysninger.tsx","../../../../packages/uttaksplan/src/components/slett-uttaksplan-modal/SlettUttaksplanModal.tsx","../../../../packages/uttaksplan/src/builder/slettPeriode.ts","../../../../packages/uttaksplan/src/builder/oppdaterPeriode.ts","../../../../packages/uttaksplan/src/builder/Uttaksplanbuilder.ts","../../../../packages/uttaksplan/src/components/reset-uttaksplan-modal/ResetUttaksplanModal.tsx","../../../../packages/uttaksplan/src/utils/uttaksplanUtils.ts","../../../../packages/uttaksplan/src/Uttaksplan.tsx"],"sourcesContent":["export enum UttakRundtFødselÅrsak {\n    samtidigUttak = 'Samtidig Uttak',\n    morErForSyk = 'Mor er for syk',\n}\n","import { IntlShape } from 'react-intl';\nimport { AnnenForelder, AnnenForelderOppgitt, Sak, isAnnenForelderOppgitt } from '../types';\nimport intlUtils from './intlUtils';\nimport { RettighetType } from '../types/RettighetType';\n\nexport const getErMorUfør = (annenForelder: AnnenForelder, erFarEllerMedmor: boolean) => {\n    if (isAnnenForelderOppgitt(annenForelder) && erFarEllerMedmor) {\n        return !!annenForelder.erUfør;\n    }\n\n    return false;\n};\n\nexport const harAnnenForelderRettIEØS = (annenForelder: AnnenForelder): boolean => {\n    return isAnnenForelderOppgitt(annenForelder) && !!annenForelder.harRettPåForeldrepengerIEØS;\n};\n\nexport const getMockAnnenForelder = (sak: Sak, intl: IntlShape): AnnenForelderOppgitt => {\n    return {\n        fornavn: intlUtils(intl, 'annen.forelder'),\n        etternavn: '',\n        fnr: '',\n        harRettPåForeldrepengerINorge:\n            sak.rettighetType === RettighetType.BEGGE_RETT && !sak.harAnnenForelderTilsvarendeRettEØS,\n        harRettPåForeldrepengerIEØS: sak.harAnnenForelderTilsvarendeRettEØS,\n        erUfør: (!sak.sakTilhørerMor && sak.morUføretrygd) || undefined,\n        kanIkkeOppgis: false,\n    };\n};\n","import dayjs from 'dayjs';\nimport { hasValue } from './validationUtils';\nimport { isAnnenForelderOppgitt, AnnenForelder, MorsAktivitet, Skjemanummer } from '../types';\n\nexport const aktivitetskravMorUtil = {\n    skalBesvaresVedUtsettelse(søkerErFarEllerMedmor: boolean, annenForelder: AnnenForelder): boolean {\n        const reglerFørFørsteOkt2021 = dayjs(new Date()).isBefore(new Date('2021-10-01'), 'day');\n        const annenForelderErUfør = isAnnenForelderOppgitt(annenForelder) ? annenForelder.erUfør : undefined;\n        const annenForelderHarRett = isAnnenForelderOppgitt(annenForelder)\n            ? annenForelder.harRettPåForeldrepengerINorge || annenForelder.harRettPåForeldrepengerIEØS\n            : undefined;\n\n        return !søkerErFarEllerMedmor ||\n            (annenForelderHarRett === false && annenForelderErUfør === true && !reglerFørFørsteOkt2021)\n            ? false\n            : annenForelderHarRett === false;\n    },\n};\n\nexport const getMorsAktivitetSkjemanummer = (morsAktivitet?: MorsAktivitet): Skjemanummer => {\n    switch (morsAktivitet) {\n        case MorsAktivitet.Innlagt:\n            return Skjemanummer.DOK_INNLEGGELSE;\n        case MorsAktivitet.Kvalifiseringsprogrammet:\n            return Skjemanummer.BEKREFTELSE_DELTAR_KVALIFISERINGSPROGRAM;\n        case MorsAktivitet.Introduksjonsprogrammet:\n            return Skjemanummer.DOK_DELTAKELSE_I_INTRODUKSJONSPROGRAMMET;\n        case MorsAktivitet.ArbeidOgUtdanning:\n        case MorsAktivitet.Arbeid:\n        case MorsAktivitet.TrengerHjelp:\n            return Skjemanummer.DOK_MORS_UTDANNING_ARBEID_SYKDOM;\n        case MorsAktivitet.Utdanning:\n            return Skjemanummer.BEKREFTELSE_FRA_STUDIESTED;\n        default:\n            return Skjemanummer.ANNET;\n    }\n};\n\nexport const getMorsAktivitet = (\n    aktivitetskravMorValue: string | undefined,\n    erMorForSykValue: boolean | undefined,\n): MorsAktivitet | undefined => {\n    if (hasValue(aktivitetskravMorValue)) {\n        return aktivitetskravMorValue as MorsAktivitet;\n    }\n    if (erMorForSykValue) {\n        return MorsAktivitet.TrengerHjelp;\n    }\n    return undefined;\n};\n","import uttaksConstants from '../constants/constants';\nimport { Dekningsgrad } from '../types';\nimport { andreAugust2022ReglerGjelder } from './dateUtils';\n\nexport const getBareFarHarRettKontoUtenAktivitetskravUker = (\n    antallBarn: number,\n    morErUfør: boolean,\n    familiehendelsesdato: Date,\n    dekningsgrad: Dekningsgrad,\n    bareFarHarRett: boolean,\n): number => {\n    if (!bareFarHarRett) {\n        return 0;\n    }\n\n    if (andreAugust2022ReglerGjelder(familiehendelsesdato) && antallBarn === 1 && !morErUfør) {\n        return 8;\n    }\n    let morUførUker = 0;\n    let flerbarnsukerSomDelAvMinsterett = 0;\n\n    if (morErUfør) {\n        morUførUker = dekningsgrad === Dekningsgrad.HUNDRE_PROSENT ? 15 : 19;\n    }\n\n    if (andreAugust2022ReglerGjelder(familiehendelsesdato)) {\n        if (antallBarn === 2) {\n            flerbarnsukerSomDelAvMinsterett = dekningsgrad === Dekningsgrad.HUNDRE_PROSENT ? 17 : 21;\n        } else if (antallBarn > 2) {\n            flerbarnsukerSomDelAvMinsterett = dekningsgrad === Dekningsgrad.HUNDRE_PROSENT ? 46 : 56;\n        }\n    }\n\n    return flerbarnsukerSomDelAvMinsterett + morUførUker;\n};\n\nexport const getBareFarHarRettFlerbarnsdagerUker = (\n    antallBarn: number,\n    familiehendelsesdato: Date,\n    dekningsgrad: Dekningsgrad,\n    bareFarHarRett: boolean,\n): number => {\n    if (!bareFarHarRett || antallBarn === 1) {\n        return 0;\n    }\n\n    //Flerbarnsdager regnes som en del av minsteretten når WLB Regler gjelder, og blir med i kontoen uten aktivitetskrav\n    if (andreAugust2022ReglerGjelder(familiehendelsesdato)) {\n        return 0;\n    }\n\n    let flerbarnsUker = 0;\n\n    if (antallBarn === 2) {\n        flerbarnsUker =\n            dekningsgrad === Dekningsgrad.HUNDRE_PROSENT\n                ? uttaksConstants.ANTALL_UKER_2_BARN_100_PROSENT_UTTAK\n                : uttaksConstants.ANTALL_UKER_2_BARN_80_PROSENT_UTTAK;\n    } else if (antallBarn > 2) {\n        flerbarnsUker =\n            dekningsgrad === Dekningsgrad.HUNDRE_PROSENT\n                ? uttaksConstants.ANTALL_UKER_3_ELLER_FLERE_BARN_100_PROSENT_UTTAK\n                : uttaksConstants.ANTALL_UKER_3_ELLER_FLERE_BARN_80_PROSENT_UTTAK;\n    }\n\n    return flerbarnsUker;\n};\n\nexport const getBareFarHarRettAntallUkerPåÅTaUtDagerUtenAktivitetskravFørWLB = (\n    antallBarn: number,\n    familiehendelsesdato: Date,\n    dekningsgrad: Dekningsgrad,\n    bareFarHarRett: boolean,\n) => {\n    if (!bareFarHarRett) {\n        return 0;\n    }\n    const antallUkerEtterFødselMor = uttaksConstants.ANTALL_UKER_MØDREKVOTE_ETTER_FØDSEL;\n    const antallUkerForeldrepengerFar =\n        dekningsgrad === Dekningsgrad.HUNDRE_PROSENT\n            ? uttaksConstants.ANTALL_UKER_FORELDREPENGER_BARE_FAR_HAR_RETT_100_PROSENT\n            : uttaksConstants.ANTALL_UKER_FORELDREPENGER_BARE_FAR_HAR_RETT_80_PROSENT;\n    const flerbarnsUker = getBareFarHarRettFlerbarnsdagerUker(\n        antallBarn,\n        familiehendelsesdato,\n        dekningsgrad,\n        bareFarHarRett,\n    );\n\n    return antallUkerEtterFødselMor + antallUkerForeldrepengerFar + flerbarnsUker;\n};\n","import { Dekningsgrad, Periode, isUttaksperiode } from '../types';\nimport { finnAntallDagerÅTrekke } from './uttaksPlanStatus';\n\nexport const getFlerbarnsuker = (dekningsgrad: string, antallBarn: number): number => {\n    if (antallBarn === 2) {\n        if (dekningsgrad === Dekningsgrad.HUNDRE_PROSENT) {\n            return 17;\n        } else {\n            return 21;\n        }\n    } else {\n        if (dekningsgrad === Dekningsgrad.HUNDRE_PROSENT) {\n            return 46;\n        } else {\n            return 56;\n        }\n    }\n};\n\nexport const uttaksplanHarForMangeFlerbarnsdager = (\n    uttaksplan: Periode[],\n    dekningsgrad: Dekningsgrad,\n    antallBarn: number,\n) => {\n    const result: number = uttaksplan\n        .slice()\n        .filter((periode) => isUttaksperiode(periode) && periode.ønskerFlerbarnsdager === true)\n        .reduce((sum: number, periode: Periode) => {\n            if (isUttaksperiode(periode)) {\n                return finnAntallDagerÅTrekke(periode) + sum;\n            } else {\n                return sum;\n            }\n        }, 0);\n\n    return result > getFlerbarnsuker(dekningsgrad, antallBarn) * 5;\n};\n","import dayjs from 'dayjs';\nimport { Uttaksdagen } from './Uttaksdagen';\nimport { dateToISOString } from '@navikt/sif-common-formik-ds/lib';\nimport { DatepickerLimitations } from '@navikt/ds-datepicker';\nimport uttaksConstants from '../constants/constants';\nimport { Situasjon } from '../types';\nimport { andreAugust2022ReglerGjelder } from './dateUtils';\nimport { getFørsteUttaksdag2UkerFørFødsel } from './wlbUtils';\n\nfunction sisteMuligePermisjonsdag(familiehendelsedato: Date): Date {\n    const startDato = Uttaksdagen(familiehendelsedato).denneEllerNeste();\n    return Uttaksdagen(\n        dayjs(startDato).add(uttaksConstants.MAKS_PERMISJONSLENGDE_I_ÅR, 'years').toDate(),\n    ).denneEllerNeste();\n}\n\nconst konverterMinOgMaxDatoerTilString = (minDate: Date, maxDate: Date) => ({\n    minDate: dateToISOString(minDate),\n    maxDate: dateToISOString(maxDate),\n});\n\nconst defaultPermisjonsperiodeAvgrensning = (familiehendelsesdato: Date): DatepickerLimitations => {\n    const minDato = Uttaksdagen(familiehendelsesdato).denneEllerNeste();\n    const maksDato = sisteMuligePermisjonsdag(familiehendelsesdato);\n    return {\n        ...konverterMinOgMaxDatoerTilString(minDato, maksDato),\n        weekendsNotSelectable: true,\n    };\n};\n\nconst startdatoFørTermin = (familiehendelsesdato: Date, termindato: Date | undefined): DatepickerLimitations => {\n    const termindatoMinus12Uker =\n        termindato !== undefined\n            ? dayjs(termindato).subtract(uttaksConstants.MAKS_ANTALL_UKER_FORELDREPENGER_FØR_FØDSEL * 5 - 1, 'weeks')\n            : undefined;\n    const erFødselsdatoFørTermindatoMinus12Uker =\n        termindato !== undefined ? dayjs(familiehendelsesdato).isBefore(termindatoMinus12Uker) : false;\n\n    if (erFødselsdatoFørTermindatoMinus12Uker) {\n        const maksDato = Uttaksdagen(dayjs(termindato).toDate()).forrige();\n        const minDato = Uttaksdagen(familiehendelsesdato).denneEllerForrige();\n        return {\n            ...konverterMinOgMaxDatoerTilString(minDato, maksDato),\n            weekendsNotSelectable: true,\n        };\n    } else {\n        const datoÅRegneFra = termindato !== undefined ? termindato : familiehendelsesdato;\n        const maksDato = Uttaksdagen(dayjs(datoÅRegneFra).toDate()).forrige();\n        const minDato = Uttaksdagen(maksDato).trekkFra(\n            uttaksConstants.MAKS_ANTALL_UKER_FORELDREPENGER_FØR_FØDSEL * 5 - 1,\n        );\n        return {\n            ...konverterMinOgMaxDatoerTilString(minDato, maksDato),\n            weekendsNotSelectable: true,\n        };\n    }\n};\n\nconst startdatoFørTerminForeldrepengerFørFødselKonto = (familiehendelsesdato: string): DatepickerLimitations => {\n    const maksDato = Uttaksdagen(dayjs(familiehendelsesdato).toDate()).forrige();\n    const minDato = Uttaksdagen(maksDato).trekkFra(uttaksConstants.ANTALL_UKER_FORELDREPENGER_FØR_FØDSEL * 5 - 1);\n    return {\n        ...konverterMinOgMaxDatoerTilString(minDato, maksDato),\n        weekendsNotSelectable: true,\n    };\n};\n\nconst ekstrauttakFørFødsel = (familiehendelsesdato: string): DatepickerLimitations => {\n    const sisteDagFørFødsel = Uttaksdagen(dayjs(familiehendelsesdato).toDate()).forrige();\n    const minDato = Uttaksdagen(sisteDagFørFødsel).trekkFra(\n        uttaksConstants.MAKS_ANTALL_UKER_FORELDREPENGER_FØR_FØDSEL * 5 - 1,\n    );\n    const maksDato = Uttaksdagen(sisteDagFørFødsel).trekkFra(\n        uttaksConstants.ANTALL_UKER_FORELDREPENGER_FØR_FØDSEL * 5 - 1,\n    );\n    return {\n        ...konverterMinOgMaxDatoerTilString(minDato, maksDato),\n        weekendsNotSelectable: true,\n    };\n};\n\nconst startdatoPermisjonAleneomsorgFarMedmor = (\n    datoForAleneomsorg: string,\n    familiehendelsesdato: string,\n): DatepickerLimitations => {\n    const minDato = Uttaksdagen(dayjs(datoForAleneomsorg).toDate()).denneEllerNeste();\n    const maksDato = sisteMuligePermisjonsdag(dayjs(familiehendelsesdato).toDate());\n    return {\n        ...konverterMinOgMaxDatoerTilString(minDato, maksDato),\n        weekendsNotSelectable: true,\n    };\n};\n\nconst startdatoPermisjonAdopsjon = (familiehendelsesdato: string): DatepickerLimitations => {\n    return defaultPermisjonsperiodeAvgrensning(dayjs(familiehendelsesdato).toDate());\n};\n\nconst morsSisteUttaksdag = (familiehendelsesdato: string): DatepickerLimitations => {\n    return defaultPermisjonsperiodeAvgrensning(dayjs(familiehendelsesdato).toDate());\n};\n\nconst startdatoPermisjonFarMedmor = (\n    familiehendelsesdato: Date,\n    termindato: Date | undefined,\n    situasjon: Situasjon,\n): DatepickerLimitations => {\n    const defaultAvgrensning = defaultPermisjonsperiodeAvgrensning(familiehendelsesdato);\n    if (situasjon === 'fødsel' && andreAugust2022ReglerGjelder(familiehendelsesdato)) {\n        return {\n            ...defaultAvgrensning,\n            minDate: dateToISOString(getFørsteUttaksdag2UkerFørFødsel(familiehendelsesdato, termindato)),\n        };\n    }\n    return defaultAvgrensning;\n};\n\nexport const uttaksplanDatoavgrensninger = {\n    startdatoFørTermin,\n    morsSisteUttaksdag,\n    startdatoPermisjonFarMedmor,\n    startdatoPermisjonAdopsjon,\n    startdatoPermisjonAleneomsorgFarMedmor,\n    startdatoFørTerminForeldrepengerFørFødselKonto,\n    ekstrauttakFørFødsel,\n};\n","/*\n * Copyright 2015, Yahoo Inc.\n * Copyrights licensed under the New BSD License.\n * See the accompanying LICENSE file for terms.\n */\nimport { __rest } from \"tslib\";\nimport * as React from 'react';\nimport useIntl from './useIntl';\nimport { shallowEqual } from '../utils';\nfunction areEqual(prevProps, nextProps) {\n    var values = prevProps.values, otherProps = __rest(prevProps, [\"values\"]);\n    var nextValues = nextProps.values, nextOtherProps = __rest(nextProps, [\"values\"]);\n    return (shallowEqual(nextValues, values) &&\n        shallowEqual(otherProps, nextOtherProps));\n}\nfunction FormattedMessage(props) {\n    var intl = useIntl();\n    var formatMessage = intl.formatMessage, _a = intl.textComponent, Text = _a === void 0 ? React.Fragment : _a;\n    var id = props.id, description = props.description, defaultMessage = props.defaultMessage, values = props.values, children = props.children, _b = props.tagName, Component = _b === void 0 ? Text : _b, ignoreTag = props.ignoreTag;\n    var descriptor = { id: id, description: description, defaultMessage: defaultMessage };\n    var nodes = formatMessage(descriptor, values, {\n        ignoreTag: ignoreTag,\n    });\n    if (typeof children === 'function') {\n        return children(Array.isArray(nodes) ? nodes : [nodes]);\n    }\n    if (Component) {\n        return React.createElement(Component, null, React.Children.toArray(nodes));\n    }\n    return React.createElement(React.Fragment, null, nodes);\n}\nFormattedMessage.displayName = 'FormattedMessage';\nvar MemoizedFormattedMessage = React.memo(FormattedMessage, areEqual);\nMemoizedFormattedMessage.displayName = 'MemoizedFormattedMessage';\nexport default MemoizedFormattedMessage;\n","import {\n    Attachment,\n    Forelder,\n    MorsAktivitet,\n    StønadskontoType,\n    OverføringÅrsakType,\n    Arbeidsform,\n    UttakRundtFødselÅrsak,\n} from '@navikt/fp-common';\nimport { YesOrNo, getTypedFormComponents } from '@navikt/sif-common-formik-ds/lib';\n\nexport enum PeriodeUttakFormField {\n    fom = 'fom',\n    tom = 'tom',\n    konto = 'konto',\n    samtidigUttak = 'samtidigUttak',\n    aktivitetskravMor = 'aktivitetskravMor',\n    aktivitetskravMorDokumentasjon = 'aktivitetskravMorDokumentasjon',\n    overføringsårsak = 'overføringsårsak',\n    overføringsdokumentasjon = 'overføringsdokumentasjon',\n    skalHaGradering = 'skalHaGradering',\n    stillingsprosent = 'stillingsprosent',\n    arbeidsformer = 'arbeidsformer',\n    erMorForSyk = 'erMorForSyk',\n    erMorForSykDokumentasjon = 'erMorForSykDokumentasjon',\n    uttakRundtFødselÅrsak = 'uttakRundtFødselÅrsak',\n    samtidigUttakProsent = 'samtidigUttakProsent',\n    hvemSkalTaUttak = 'hvemSkalTaUttak',\n    ønskerFlerbarnsdager = 'ønskerFlerbarnsdager',\n}\n\nexport interface PeriodeUttakFormData {\n    [PeriodeUttakFormField.fom]: Date | undefined;\n    [PeriodeUttakFormField.tom]: Date | undefined;\n    [PeriodeUttakFormField.konto]: StønadskontoType | '';\n    [PeriodeUttakFormField.samtidigUttak]: YesOrNo;\n    [PeriodeUttakFormField.aktivitetskravMor]: MorsAktivitet | '';\n    [PeriodeUttakFormField.aktivitetskravMorDokumentasjon]: Attachment[];\n    [PeriodeUttakFormField.overføringsårsak]: OverføringÅrsakType | '';\n    [PeriodeUttakFormField.overføringsdokumentasjon]: Attachment[];\n    [PeriodeUttakFormField.skalHaGradering]: YesOrNo;\n    [PeriodeUttakFormField.stillingsprosent]: string;\n    [PeriodeUttakFormField.arbeidsformer]: Arbeidsform | '';\n    [PeriodeUttakFormField.erMorForSyk]: YesOrNo;\n    [PeriodeUttakFormField.erMorForSykDokumentasjon]: Attachment[];\n    [PeriodeUttakFormField.uttakRundtFødselÅrsak]: UttakRundtFødselÅrsak | '';\n    [PeriodeUttakFormField.samtidigUttakProsent]: string;\n    [PeriodeUttakFormField.hvemSkalTaUttak]: Forelder | '';\n    [PeriodeUttakFormField.ønskerFlerbarnsdager]: YesOrNo;\n}\n\nexport const PeriodeUttakFormComponents = getTypedFormComponents<PeriodeUttakFormField, PeriodeUttakFormData>();\n","import { Attachment, AttachmentType, Block, Skjemanummer } from '@navikt/fp-common';\nimport FormikFileUploader from 'app/components/formik-file-uploader/FormikFileUploader';\nimport { FunctionComponent } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { PeriodeUttakFormField } from '../../periode-uttak-form/periodeUttakFormConfig';\nimport { GuidePanel } from '@navikt/ds-react';\n\ninterface Props {\n    vedlegg: Attachment[];\n    navnMor: string;\n    isOpen: boolean;\n}\n\nconst MorErForSykDokumentasjonOpplastning: FunctionComponent<Props> = ({ navnMor, vedlegg, isOpen }) => {\n    return (\n        <>\n            <Block padBottom=\"l\">\n                <GuidePanel>\n                    <FormattedMessage id=\"uttaksplan.erMorForSykVeileder\" values={{ navn: navnMor }} />\n                </GuidePanel>\n            </Block>\n            <Block visible={isOpen}>\n                <FormikFileUploader\n                    legend=\"Dokumentasjon for mors sykdom\"\n                    label=\"Last opp dokumentasjon for mors sykdom\"\n                    name={PeriodeUttakFormField.erMorForSykDokumentasjon}\n                    attachmentType={AttachmentType.UTSETTELSE_SYKDOM}\n                    skjemanummer={Skjemanummer.DOK_MORS_UTDANNING_ARBEID_SYKDOM}\n                    attachments={vedlegg}\n                />\n            </Block>\n        </>\n    );\n};\n\nexport default MorErForSykDokumentasjonOpplastning;\n","import { Attachment, Block, intlUtils } from '@navikt/fp-common';\nimport { FunctionComponent } from 'react';\nimport { useIntl } from 'react-intl';\nimport { PeriodeUttakFormComponents, PeriodeUttakFormField } from '../../periode-uttak-form/periodeUttakFormConfig';\nimport MorErForSykDokumentasjonOpplastning from '../er-mor-for-syk-dokumentasjon/MorErForSykDokumentasjonOpplastning';\nimport { YesOrNo } from '@navikt/sif-common-formik-ds/lib';\n\ninterface Props {\n    fieldName: PeriodeUttakFormField;\n    erMorForSyk: YesOrNo;\n    vedlegg: Attachment[];\n    navnMor: string;\n    isOpen: boolean;\n}\n\nconst ErMorForSykSpørsmål: FunctionComponent<Props> = ({ fieldName, erMorForSyk, navnMor, vedlegg, isOpen }) => {\n    const intl = useIntl();\n\n    return (\n        <>\n            <Block padBottom=\"l\">\n                <PeriodeUttakFormComponents.YesOrNoQuestion\n                    name={fieldName}\n                    legend={intlUtils(intl, 'uttaksplan.erMorForSyk')}\n                    validate={(value: YesOrNo) => {\n                        if (value === YesOrNo.UNANSWERED) {\n                            return intlUtils(intl, 'uttaksplan.validering.erMorForSyk');\n                        }\n\n                        return undefined;\n                    }}\n                />\n            </Block>\n            <Block padBottom=\"l\" visible={erMorForSyk === YesOrNo.YES}>\n                <MorErForSykDokumentasjonOpplastning navnMor={navnMor} vedlegg={vedlegg} isOpen={isOpen} />\n            </Block>\n        </>\n    );\n};\n\nexport default ErMorForSykSpørsmål;\n","import { intlUtils } from '@navikt/fp-common';\nimport { FunctionComponent } from 'react';\nimport { useIntl } from 'react-intl';\nimport { PeriodeUttakFormComponents, PeriodeUttakFormField } from '../../periode-uttak-form/periodeUttakFormConfig';\nimport { YesOrNo } from '@navikt/sif-common-formik-ds/lib';\n\ninterface Props {\n    fieldName: PeriodeUttakFormField;\n}\n\nconst FlerbarnsdagerSpørsmål: FunctionComponent<Props> = ({ fieldName }) => {\n    const intl = useIntl();\n\n    return (\n        <PeriodeUttakFormComponents.YesOrNoQuestion\n            name={fieldName}\n            legend={intlUtils(intl, 'uttaksplan.flerbarnsdager')}\n            validate={(value: YesOrNo) => {\n                if (value === YesOrNo.UNANSWERED) {\n                    return intlUtils(intl, 'uttaksplan.validering.flerbarnsdager');\n                }\n\n                return undefined;\n            }}\n        />\n    );\n};\n\nexport default FlerbarnsdagerSpørsmål;\n","import { Forelder, NavnPåForeldre, hasValue, intlUtils } from '@navikt/fp-common';\nimport { FunctionComponent } from 'react';\nimport { useIntl } from 'react-intl';\nimport { PeriodeUttakFormComponents, PeriodeUttakFormField } from '../../periode-uttak-form/periodeUttakFormConfig';\nimport { capitalizeFirstLetter } from '@navikt/fp-common/src/common/utils/stringUtils';\n\ninterface Props {\n    fieldName: PeriodeUttakFormField;\n    navnPåForeldre: NavnPåForeldre;\n    erFarEllerMedmor: boolean;\n}\n\nconst HvemSkalHaUttakSpørsmål: FunctionComponent<Props> = ({ fieldName, navnPåForeldre, erFarEllerMedmor }) => {\n    const intl = useIntl();\n\n    return (\n        <PeriodeUttakFormComponents.RadioGroup\n            legend={intlUtils(intl, 'uttaksplan.hvemSkalHaUttak')}\n            name={fieldName}\n            radios={[\n                {\n                    label: erFarEllerMedmor\n                        ? capitalizeFirstLetter(navnPåForeldre.farMedmor)\n                        : capitalizeFirstLetter(navnPåForeldre.mor),\n                    value: erFarEllerMedmor ? Forelder.farMedmor : Forelder.mor,\n                },\n                {\n                    label: erFarEllerMedmor\n                        ? capitalizeFirstLetter(navnPåForeldre.mor)\n                        : capitalizeFirstLetter(navnPåForeldre.farMedmor),\n                    value: erFarEllerMedmor ? Forelder.mor : Forelder.farMedmor,\n                },\n            ]}\n            validate={(value) => {\n                if (!hasValue(value)) {\n                    return intlUtils(intl, 'uttaksplan.validering.hvemSkalHaUttak');\n                }\n\n                return undefined;\n            }}\n        />\n    );\n};\n\nexport default HvemSkalHaUttakSpørsmål;\n","import { NavnPåForeldre, StønadskontoType, getStønadskontoNavn, hasValue, intlUtils } from '@navikt/fp-common';\nimport { FunctionComponent } from 'react';\nimport { IntlShape, useIntl } from 'react-intl';\nimport { PeriodeUttakFormComponents, PeriodeUttakFormField } from '../../periode-uttak-form/periodeUttakFormConfig';\nimport { FormikRadioProp } from '@navikt/sif-common-formik-ds/lib/components/formik-radio-group/FormikRadioGroup';\n\ninterface Props {\n    velgbareStønadskontoer: StønadskontoType[];\n    erOppholdsperiode: boolean;\n    navnPåForeldre: NavnPåForeldre;\n    fieldName: PeriodeUttakFormField;\n    erFarEllerMedmor: boolean;\n    erAleneOmOmsorg: boolean;\n}\n\nconst getSpørsmålsTekst = (\n    erOppholdsperiode: boolean,\n    intl: IntlShape,\n    navnPåForeldre: NavnPåForeldre,\n    erFarEllerMedmor: boolean,\n): string => {\n    if (erOppholdsperiode) {\n        const navnAnnenForelder = erFarEllerMedmor ? navnPåForeldre.mor : navnPåForeldre.farMedmor;\n        return intlUtils(intl, 'uttaksplan.hvilkenKvote.annenForelder', {\n            navnAnnenForelder,\n        });\n    } else {\n        return intlUtils(intl, 'uttaksplan.hvilkenKvote');\n    }\n};\n\nconst HvilkenKontoSpørsmål: FunctionComponent<Props> = ({\n    velgbareStønadskontoer,\n    erOppholdsperiode,\n    navnPåForeldre,\n    fieldName,\n    erFarEllerMedmor,\n    erAleneOmOmsorg,\n}) => {\n    const intl = useIntl();\n    const legend = getSpørsmålsTekst(erOppholdsperiode, intl, navnPåForeldre, erFarEllerMedmor);\n\n    const radios = velgbareStønadskontoer.map(\n        (konto): FormikRadioProp => ({\n            label: getStønadskontoNavn(intl, konto, navnPåForeldre, erFarEllerMedmor, erAleneOmOmsorg),\n            value: `${konto}`,\n        }),\n    );\n\n    return (\n        <PeriodeUttakFormComponents.RadioGroup\n            name={fieldName}\n            radios={radios}\n            legend={legend}\n            validate={(value) => {\n                if (!hasValue(value)) {\n                    return intlUtils(intl, 'uttaksplan.validering.hvilkenKonto');\n                }\n\n                return undefined;\n            }}\n        />\n    );\n};\n\nexport default HvilkenKontoSpørsmål;\n","import { Attachment, Block, UttakRundtFødselÅrsak, hasValue, intlUtils } from '@navikt/fp-common';\nimport { FunctionComponent } from 'react';\nimport { useIntl } from 'react-intl';\nimport { PeriodeUttakFormComponents, PeriodeUttakFormField } from '../../periode-uttak-form/periodeUttakFormConfig';\nimport MorErForSykDokumentasjonOpplastning from '../er-mor-for-syk-dokumentasjon/MorErForSykDokumentasjonOpplastning';\n\ninterface Props {\n    fieldName: PeriodeUttakFormField;\n    uttakRundtFødselÅrsak: UttakRundtFødselÅrsak | '';\n    vedlegg: Attachment[];\n    navnMor: string;\n    isOpen: boolean;\n}\n\nconst UttakRundtFødselÅrsakSpørsmål: FunctionComponent<Props> = ({\n    fieldName,\n    uttakRundtFødselÅrsak,\n    navnMor,\n    vedlegg,\n    isOpen,\n}) => {\n    const intl = useIntl();\n    const radios = [\n        {\n            label: intlUtils(intl, 'ja'),\n            value: UttakRundtFødselÅrsak.samtidigUttak,\n        },\n        {\n            label: intlUtils(intl, 'uttaksplan.uttakrundtFødselÅrsak.nei.morErForSyk'),\n            value: UttakRundtFødselÅrsak.morErForSyk,\n        },\n    ];\n\n    return (\n        <>\n            <Block padBottom=\"l\">\n                <PeriodeUttakFormComponents.RadioGroup\n                    legend={intlUtils(intl, 'uttaksplan.uttakrundtFødselÅrsak.spørsmål')}\n                    name={fieldName}\n                    radios={radios}\n                    validate={(value) => {\n                        if (!hasValue(value)) {\n                            return intlUtils(intl, 'uttaksplan.validering.uttakRundtFødselFarMedmorWLB');\n                        }\n\n                        return undefined;\n                    }}\n                />\n            </Block>\n            <Block padBottom=\"l\" visible={uttakRundtFødselÅrsak === UttakRundtFødselÅrsak.morErForSyk}>\n                <MorErForSykDokumentasjonOpplastning navnMor={navnMor} vedlegg={vedlegg} isOpen={isOpen} />\n            </Block>\n        </>\n    );\n};\n\nexport default UttakRundtFødselÅrsakSpørsmål;\n","import {\n    intlUtils,\n    Block,\n    hasValue,\n    Attachment,\n    OverføringÅrsakType,\n    AttachmentType,\n    Skjemanummer,\n    getNavnGenitivEierform,\n} from '@navikt/fp-common';\nimport FormikFileUploader from 'app/components/formik-file-uploader/FormikFileUploader';\nimport { FunctionComponent } from 'react';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { PeriodeUttakFormComponents, PeriodeUttakFormField } from '../../periode-uttak-form/periodeUttakFormConfig';\nimport { GuidePanel } from '@navikt/ds-react';\nimport { capitalizeFirstLetter } from '@navikt/fp-common/src/common/utils/stringUtils';\ninterface Props {\n    vedlegg: Attachment[];\n    navnAnnenForelder: string;\n    erEndringssøknad: boolean;\n    valgtOverføringsårsak: OverføringÅrsakType | '';\n    isOpen: boolean;\n}\n\nconst OverføringsårsakSpørsmål: FunctionComponent<Props> = ({\n    vedlegg,\n    navnAnnenForelder,\n    erEndringssøknad,\n    valgtOverføringsårsak,\n    isOpen,\n}) => {\n    const intl = useIntl();\n    const navn = capitalizeFirstLetter(navnAnnenForelder);\n    const radios = [\n        {\n            label: intlUtils(intl, 'uttaksplan.overføringsårsaktype.INSTITUSJONSOPPHOLD_ANNEN_FORELDER', {\n                navnAnnenForelder: navn,\n            }),\n            value: OverføringÅrsakType.institusjonsoppholdAnnenForelder,\n        },\n        {\n            label: intlUtils(intl, 'uttaksplan.overføringsårsaktype.SYKDOM_ANNEN_FORELDER', {\n                navnAnnenForelder: navn,\n            }),\n            value: OverføringÅrsakType.sykdomAnnenForelder,\n        },\n    ];\n\n    if (erEndringssøknad) {\n        radios.push({\n            label: intlUtils(intl, 'uttaksplan.overføringsårsaktype.ALENEOMSORG'),\n            value: OverføringÅrsakType.aleneomsorg,\n        });\n        radios.push({\n            label: intlUtils(intl, 'uttaksplan.overføringsårsaktype.IKKE_RETT_ANNEN_FORELDER', {\n                navnAnnenForelder: navn,\n            }),\n            value: OverføringÅrsakType.ikkeRettAnnenForelder,\n        });\n    }\n\n    const beOmDokumentasjon =\n        valgtOverføringsårsak !== '' &&\n        valgtOverføringsårsak !== OverføringÅrsakType.aleneomsorg &&\n        valgtOverføringsårsak !== OverføringÅrsakType.ikkeRettAnnenForelder;\n\n    return (\n        <>\n            <Block padBottom=\"l\">\n                <PeriodeUttakFormComponents.RadioGroup\n                    name={PeriodeUttakFormField.overføringsårsak}\n                    legend={intlUtils(intl, 'uttaksplan.overføringsårsak', {\n                        navnAnnenForelder: getNavnGenitivEierform(navnAnnenForelder, intl.locale),\n                    })}\n                    radios={radios}\n                    validate={(value) => {\n                        if (!hasValue(value)) {\n                            return intlUtils(intl, 'uttaksplan.validering.overføringsårsak');\n                        }\n\n                        return undefined;\n                    }}\n                />\n            </Block>\n            {beOmDokumentasjon && (\n                <Block padBottom=\"l\">\n                    <GuidePanel>\n                        <FormattedMessage\n                            id=\"uttaksplan.overføringsårsak.informasjonVedSykdomAnnenForelder\"\n                            values={{ navnAnnenForelder }}\n                        />\n                    </GuidePanel>\n                </Block>\n            )}\n            {beOmDokumentasjon && isOpen && (\n                <Block padBottom=\"l\">\n                    <FormikFileUploader\n                        legend=\"Dokumentasjon for overføringsårsak\"\n                        label={intlUtils(intl, 'uttaksplan.overføringsårsak.dokumentasjon')}\n                        name={PeriodeUttakFormField.overføringsdokumentasjon}\n                        attachments={vedlegg || []}\n                        attachmentType={AttachmentType.OVERFØRING_KVOTE}\n                        skjemanummer={Skjemanummer.DOK_OVERFØRING_FOR_SYK}\n                    />\n                </Block>\n            )}\n        </>\n    );\n};\n\nexport default OverføringsårsakSpørsmål;\n","import { getFloatFromString, hasValue, intlUtils } from '@navikt/fp-common';\nimport { IntlShape } from 'react-intl';\n\nexport const prosentValideringSamtidigUttak = (intl: IntlShape) => (value: string) => {\n    const samtidigUttakProsent = getFloatFromString(value);\n\n    if (!hasValue(value)) {\n        return intlUtils(intl, 'uttaksplan.validering.samtidigUttaksprosent.required');\n    }\n\n    if (samtidigUttakProsent === undefined) {\n        return intlUtils(intl, 'uttaksplan.validering.samtidigUttaksprosent.måVæreEtTall');\n    }\n\n    if (samtidigUttakProsent < 0) {\n        return intlUtils(intl, 'uttaksplan.validering.samtidigUttaksprosent.måVæreStørreEnn0');\n    }\n\n    if (samtidigUttakProsent > 100) {\n        return intlUtils(intl, 'uttaksplan.validering.samtidigUttaksprosent.måVæreMindreEnn100');\n    }\n\n    return undefined;\n};\n\nexport const prosentValideringGradering = (intl: IntlShape) => (value: string) => {\n    const stillingsprosent = getFloatFromString(value);\n\n    if (!hasValue(value) || value.trim() === '') {\n        return intlUtils(intl, 'uttaksplan.validering.stillingsprosent.required');\n    }\n\n    if (stillingsprosent === undefined) {\n        return intlUtils(intl, 'uttaksplan.validering.stillingsprosent.måVæreEtTall');\n    }\n\n    if (stillingsprosent < 0) {\n        return intlUtils(intl, 'uttaksplan.validering.stillingsprosent.måVæreStørreEnn0');\n    }\n\n    if (stillingsprosent > 100) {\n        return intlUtils(intl, 'uttaksplan.validering.stillingsprosent.måVæreMindreEnn100');\n    }\n\n    return undefined;\n};\n","import { FunctionComponent } from 'react';\nimport { Block, NavnPåForeldre, Situasjon, andreAugust2022ReglerGjelder, intlUtils, links } from '@navikt/fp-common';\nimport { PeriodeUttakFormComponents, PeriodeUttakFormField } from '../../periode-uttak-form/periodeUttakFormConfig';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { YesOrNo } from '@navikt/sif-common-formik-ds/lib';\nimport { GuidePanel, Link } from '@navikt/ds-react';\nimport { prosentValideringSamtidigUttak } from '../../../../utils/prosentValidering';\n\ninterface Props {\n    erFlerbarnssøknad: boolean;\n    navnPåForeldre: NavnPåForeldre;\n    navnPåAnnenForelder: string | undefined;\n    samtidigUttakProsentVisible: boolean;\n    familiehendelsesdato: Date;\n    situasjon: Situasjon;\n}\n\nconst SamtidigUttakSpørsmål: FunctionComponent<Props> = ({\n    erFlerbarnssøknad,\n    navnPåForeldre,\n    navnPåAnnenForelder,\n    samtidigUttakProsentVisible,\n    familiehendelsesdato,\n    situasjon,\n}) => {\n    const intl = useIntl();\n    let samtidigUttakInfoTekst;\n    if (erFlerbarnssøknad) {\n        samtidigUttakInfoTekst = 'uttaksplan.samtidigUttak.flerBarnsuker.veiledertekst';\n    } else if (andreAugust2022ReglerGjelder(familiehendelsesdato) && situasjon === 'fødsel') {\n        samtidigUttakInfoTekst = 'uttaksplan.samtidigUttak.veiledertekst.etterWLB';\n    } else {\n        samtidigUttakInfoTekst = 'uttaksplan.samtidigUttak.veiledertekst.førWLB';\n    }\n\n    return (\n        <>\n            <Block padBottom={samtidigUttakProsentVisible ? 'l' : 'none'}>\n                <PeriodeUttakFormComponents.YesOrNoQuestion\n                    name={PeriodeUttakFormField.samtidigUttak}\n                    legend={intlUtils(intl, 'uttaksplan.samtidigUttak', { navnAnnenForelder: navnPåAnnenForelder })}\n                    validate={(value: YesOrNo) => {\n                        if (value === YesOrNo.UNANSWERED) {\n                            return intlUtils(intl, 'uttaksplan.validering.samtidigUttak');\n                        }\n\n                        return undefined;\n                    }}\n                />\n            </Block>\n            <Block visible={samtidigUttakProsentVisible} padBottom=\"l\">\n                <GuidePanel>\n                    <FormattedMessage\n                        id={samtidigUttakInfoTekst}\n                        values={{\n                            link: (\n                                <Link href={links.fleksibeltuttak} target=\"_blank\">\n                                    <FormattedMessage id=\"uttaksplan.samtidigUttak.veiledertekst.lenke\" />\n                                </Link>\n                            ),\n                            navnMor: navnPåForeldre.mor,\n                            navnFar: navnPåForeldre.farMedmor,\n                        }}\n                    />\n                </GuidePanel>\n            </Block>\n            <Block visible={samtidigUttakProsentVisible}>\n                <PeriodeUttakFormComponents.NumberInput\n                    name={PeriodeUttakFormField.samtidigUttakProsent}\n                    label={intlUtils(intl, 'uttaksplan.samtidigUttakProsent')}\n                    maxLength={5}\n                    validate={prosentValideringSamtidigUttak(intl)}\n                />\n            </Block>\n        </>\n    );\n};\n\nexport default SamtidigUttakSpørsmål;\n","import {\n    intlUtils,\n    Block,\n    hasValue,\n    TidsperiodeDate,\n    Arbeidsforhold,\n    Arbeidsform,\n    getKunArbeidsforholdForValgtTidsperiode,\n} from '@navikt/fp-common';\nimport { FunctionComponent } from 'react';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { PeriodeUttakFormComponents, PeriodeUttakFormField } from '../../periode-uttak-form/periodeUttakFormConfig';\nimport { BodyShort, ReadMore } from '@navikt/ds-react';\nimport { FormikRadioProp } from '@navikt/sif-common-formik-ds/lib/components/formik-radio-group/FormikRadioGroup';\nimport { YesOrNo } from '@navikt/sif-common-formik-ds/lib';\nimport { prosentValideringGradering } from '../../../../utils/prosentValidering';\n\ninterface Props {\n    graderingsprosentVisible: boolean;\n    arbeidsforhold: Arbeidsforhold[];\n    tidsperiode: TidsperiodeDate;\n}\n\nexport const getArbeidsOptions = (\n    arbeidsforhold: Arbeidsforhold[],\n    tidsperiode: TidsperiodeDate,\n): FormikRadioProp[] => {\n    const aktiveArbeidsforholdIPerioden = getKunArbeidsforholdForValgtTidsperiode(arbeidsforhold, tidsperiode);\n\n    const defaultOptions: FormikRadioProp[] = [\n        {\n            label: 'Selvstendig næringsdrivende',\n            value: Arbeidsform.selvstendignæringsdrivende,\n        },\n        {\n            label: 'Frilans',\n            value: Arbeidsform.frilans,\n        },\n    ];\n    const eksisterendeArbeidsforhold: FormikRadioProp[] = [];\n\n    if (aktiveArbeidsforholdIPerioden.length > 0) {\n        aktiveArbeidsforholdIPerioden.forEach((arb) =>\n            eksisterendeArbeidsforhold.push({ label: `${arb.arbeidsgiverNavn}`, value: `${arb.arbeidsgiverId}` }),\n        );\n    }\n\n    return [...eksisterendeArbeidsforhold, ...defaultOptions];\n};\n\nconst SkalHaGraderingSpørsmål: FunctionComponent<Props> = ({\n    graderingsprosentVisible,\n    arbeidsforhold,\n    tidsperiode,\n}) => {\n    const intl = useIntl();\n\n    return (\n        <>\n            <Block padBottom=\"l\">\n                <PeriodeUttakFormComponents.YesOrNoQuestion\n                    name={PeriodeUttakFormField.skalHaGradering}\n                    legend={intlUtils(intl, 'uttaksplan.skalHaGradering')}\n                    validate={(value: YesOrNo) => {\n                        if (value === YesOrNo.UNANSWERED) {\n                            return intlUtils(intl, 'uttaksplan.validering.skalHaGradering');\n                        }\n\n                        return undefined;\n                    }}\n                />\n            </Block>\n            <Block padBottom=\"l\" visible={graderingsprosentVisible}>\n                <Block padBottom=\"s\">\n                    <PeriodeUttakFormComponents.NumberInput\n                        name={PeriodeUttakFormField.stillingsprosent}\n                        label={intlUtils(intl, 'uttaksplan.stillingsprosent')}\n                        maxLength={5}\n                        validate={prosentValideringGradering(intl)}\n                    />\n                </Block>\n                <ReadMore header={intlUtils(intl, 'uttaksplan.stillingsprosent.lesMer.tittel')}>\n                    <BodyShort>\n                        <FormattedMessage id=\"uttaksplan.stillingsprosent.lesMer.innhold\" />\n                    </BodyShort>\n                </ReadMore>\n            </Block>\n            <Block visible={graderingsprosentVisible}>\n                <PeriodeUttakFormComponents.RadioGroup\n                    name={PeriodeUttakFormField.arbeidsformer}\n                    legend={intlUtils(intl, 'uttaksplan.arbeidsformer')}\n                    radios={getArbeidsOptions(arbeidsforhold, tidsperiode)}\n                    validate={(value) => {\n                        if (!hasValue(value)) {\n                            return intlUtils(intl, 'uttaksplan.validering.arbeidsformer');\n                        }\n\n                        return undefined;\n                    }}\n                />\n                <ReadMore header={intlUtils(intl, 'uttaksplan.arbeidsformer.lesMer.tittel')}>\n                    <BodyShort>\n                        <FormattedMessage id=\"uttaksplan.arbeidsformer.lesMer.innhold\" />\n                    </BodyShort>\n                </ReadMore>\n            </Block>\n        </>\n    );\n};\n\nexport default SkalHaGraderingSpørsmål;\n","import { FunctionComponent, useEffect, useRef } from 'react';\nimport { useFormikContext } from 'formik';\nimport { PeriodeUttakFormData } from '../periode-uttak-form/periodeUttakFormConfig';\nimport { PeriodeUtsettelseFormData } from '../periode-utsettelse-form/periodeUtsettelseFormConfig';\nimport { PeriodeFørFødselFormData } from '../periode-før-fødsel-form/periodeFørFødselFormConfig';\n\ninterface Props {\n    cleanup: () => PeriodeUttakFormData | PeriodeUtsettelseFormData | PeriodeFørFødselFormData;\n}\n\nexport const jsonSort = (json: any): string => {\n    function isObject(v: any) {\n        return '[object Object]' === Object.prototype.toString.call(v);\n    }\n\n    const sort = (o: any): any => {\n        if (Array.isArray(o)) {\n            return o.sort().map(sort);\n        } else if (isObject(o)) {\n            return Object.keys(o)\n                .sort((a, b) => a.localeCompare(b))\n                .reduce((a: any, k) => {\n                    a[k] = sort(o[k]);\n                    return a;\n                }, {});\n        }\n\n        return o;\n    };\n    return sort(json);\n};\n\nexport const SubmitListener: FunctionComponent<Props> = ({ cleanup }) => {\n    const formik = useFormikContext<PeriodeUttakFormData | PeriodeUtsettelseFormData | PeriodeFørFødselFormData>();\n    const { isSubmitting, isValidating, submitForm, setValues } = formik;\n    const cleanedValues = cleanup();\n    const ref = useRef(cleanedValues);\n\n    useEffect(() => {\n        if (!isSubmitting && !isValidating) {\n            const currentValuesJSONString = JSON.stringify(jsonSort(ref.current));\n            const previousValuesJSONString = JSON.stringify(jsonSort(cleanedValues));\n            const valuesEqualLastValues = previousValuesJSONString === currentValuesJSONString;\n\n            if (!valuesEqualLastValues) {\n                ref.current = cleanedValues;\n            }\n\n            if (!valuesEqualLastValues) {\n                setValues(cleanedValues);\n                setTimeout(() => submitForm(), 0);\n            }\n        }\n    }, [isSubmitting, isValidating, submitForm, setValues, cleanedValues, cleanup]);\n\n    return null;\n};\n","import {\n    Situasjon,\n    TidsperiodeDate,\n    Uttaksdagen,\n    andreAugust2022ReglerGjelder,\n    getFørsteUttaksdag2UkerFørFødsel,\n    getTidsperiode,\n    isValidTidsperiode,\n    uttaksConstants,\n} from '@navikt/fp-common';\nimport dayjs from 'dayjs';\n\nexport interface Uttaksdatoer {\n    førsteUttaksdag: Date;\n    førFødsel: {\n        førsteMuligeUttaksdag: Date;\n        førsteUttaksdagForeldrepengerFørFødsel: Date;\n        sisteUttaksdagFørFødsel: Date;\n    };\n    etterFødsel: {\n        sisteUttaksdagInnenforSeksUker: Date;\n        førsteUttaksdagEtterSeksUker: Date;\n        sisteMuligeUttaksdag: Date;\n    };\n}\n\nexport const uttaksdatoer = (familiehendelsesdato: Date, erFarEllerMedmor: boolean, termindato: Date | undefined) => ({\n    førsteUttaksdagForeldrepengerFørFødsel: getFørsteUttaksdagForeldrepengerFørFødsel(familiehendelsesdato),\n    førsteUttaksdagPåEllerEtterFødsel: Uttaksdagen(familiehendelsesdato).denneEllerNeste(),\n    førsteMuligeUttaksdagFørTermin: getFørsteMuligeUttaksdag(familiehendelsesdato, erFarEllerMedmor, termindato),\n    sisteMuligeUttaksdagEtterTermin: getSisteMuligeUttaksdag(familiehendelsesdato),\n});\n\nexport const getUttaksdatoer = (\n    familiehendelsesdato: Date,\n    erFarEllerMedmor: boolean,\n    termindato: Date | undefined,\n): Uttaksdatoer => {\n    const førsteUttaksdag = Uttaksdagen(familiehendelsesdato).denneEllerNeste();\n\n    const førsteUttaksdagForeldrepengerFørFødsel = getFørsteUttaksdagForeldrepengerFørFødsel(familiehendelsesdato);\n    const førsteMuligeUttaksdag = getFørsteMuligeUttaksdag(familiehendelsesdato, erFarEllerMedmor, termindato);\n    const sisteUttaksdagFørFødsel = Uttaksdagen(førsteUttaksdag).forrige();\n    const sisteMuligeUttaksdag = getSisteMuligeUttaksdag(familiehendelsesdato);\n\n    const sisteUttaksdagInnenforSeksUker = getTidsperiode(førsteUttaksdag, 30).tom;\n    return {\n        førsteUttaksdag,\n        førFødsel: {\n            førsteMuligeUttaksdag,\n            sisteUttaksdagFørFødsel,\n            førsteUttaksdagForeldrepengerFørFødsel,\n        },\n        etterFødsel: {\n            sisteUttaksdagInnenforSeksUker,\n            førsteUttaksdagEtterSeksUker: Uttaksdagen(sisteUttaksdagInnenforSeksUker).neste(),\n            sisteMuligeUttaksdag,\n        },\n    };\n};\n\nexport function getFørsteUttaksdagPåEllerEtterFødsel(familiehendelsesdato: Date) {\n    return Uttaksdagen(familiehendelsesdato).denneEllerNeste();\n}\n\nexport function getFørsteUttaksdagForeldrepengerFørFødsel(familiehendelsesdato: Date): Date {\n    return Uttaksdagen(getFørsteUttaksdagPåEllerEtterFødsel(familiehendelsesdato)).trekkFra(\n        uttaksConstants.ANTALL_UKER_FORELDREPENGER_FØR_FØDSEL * 5,\n    );\n}\n\nexport function getFørsteMuligeUttaksdag(\n    familiehendelsesdato: Date,\n    erFarEllerMedmor: boolean,\n    termindato: Date | undefined,\n): Date {\n    if (erFarEllerMedmor) {\n        if (andreAugust2022ReglerGjelder(familiehendelsesdato)) {\n            return getFørsteUttaksdag2UkerFørFødsel(familiehendelsesdato, termindato);\n        } else {\n            return Uttaksdagen(familiehendelsesdato).denneEllerNeste();\n        }\n    }\n\n    const termindatoMinus12Uker =\n        termindato !== undefined\n            ? dayjs(termindato).subtract(uttaksConstants.MAKS_ANTALL_UKER_FORELDREPENGER_FØR_FØDSEL * 5 - 1, 'weeks')\n            : undefined;\n    const erFødselsdatoFørTermindatoMinus12Uker =\n        termindato !== undefined ? dayjs(familiehendelsesdato).isBefore(termindatoMinus12Uker) : false;\n\n    if (erFødselsdatoFørTermindatoMinus12Uker) {\n        return Uttaksdagen(familiehendelsesdato).denneEllerForrige();\n    }\n\n    const datoÅRegneFra = termindato !== undefined ? termindato : familiehendelsesdato;\n\n    return Uttaksdagen(getFørsteUttaksdagPåEllerEtterFødsel(datoÅRegneFra)).trekkFra(\n        uttaksConstants.MAKS_ANTALL_UKER_FORELDREPENGER_FØR_FØDSEL * 5,\n    );\n}\n\nexport function getSisteMuligeUttaksdag(familiehendelsesdato: Date): Date {\n    return Uttaksdagen(\n        dayjs(getFørsteUttaksdagPåEllerEtterFødsel(familiehendelsesdato))\n            .add(uttaksConstants.MAKS_PERMISJONSLENGDE_I_ÅR, 'year')\n            .subtract(1, 'day')\n            .toDate(),\n    ).denneEllerNeste();\n}\n\nexport const erInnenFørsteSeksUkerFødselFarMedmor = (\n    tidsperiode: TidsperiodeDate,\n    situasjon: Situasjon,\n    søkerErFarEllerMedmor: boolean,\n    førsteUttaksdagEtterSeksUker: Date,\n): boolean => {\n    if (\n        situasjon !== 'fødsel' ||\n        !søkerErFarEllerMedmor ||\n        tidsperiode === undefined ||\n        isValidTidsperiode(tidsperiode) === false\n    ) {\n        return false;\n    }\n    return dayjs(tidsperiode.fom).isBefore(dayjs(førsteUttaksdagEtterSeksUker), 'day');\n};\n","import {\n    ISOStringToDate,\n    StønadskontoType,\n    Tidsperiode,\n    TidsperiodeDate,\n    Tidsperioden,\n    Uttaksdagen,\n    getFørsteUttaksdag2UkerFørFødsel,\n    getSisteUttaksdag6UkerEtterFødsel,\n    isValidTidsperiode,\n    uttaksplanDatoavgrensninger,\n} from '@navikt/fp-common';\nimport { getFørsteMuligeUttaksdag, getSisteMuligeUttaksdag } from './uttaksdatoerUtils';\nimport { DatepickerLimitations } from '@navikt/ds-datepicker';\nimport { dateToISOString } from '@navikt/sif-common-formik-ds/lib';\n\nexport interface DatoAvgrensninger {\n    fra: Avgrensninger;\n    til: Avgrensninger;\n}\n\nexport interface Avgrensninger {\n    minDato: Date;\n    maksDato: Date;\n    ugyldigeTidsperioder?: Tidsperiode[];\n    helgedagerIkkeTillatt: boolean;\n}\n\nexport const getDatoavgrensningerForFarMedmorPeriodeRundtFødselWLB = (\n    familiehendelsesdato: Date,\n    termindato: Date | undefined,\n    ugyldigeTidsperioder: Tidsperiode[] | undefined,\n): DatoAvgrensninger => {\n    const minDato = getFørsteUttaksdag2UkerFørFødsel(familiehendelsesdato, termindato);\n    const maksDato = getSisteUttaksdag6UkerEtterFødsel(familiehendelsesdato);\n    return {\n        fra: {\n            minDato,\n            maksDato,\n            helgedagerIkkeTillatt: true,\n            ugyldigeTidsperioder,\n        },\n        til: {\n            minDato,\n            maksDato,\n            helgedagerIkkeTillatt: true,\n            ugyldigeTidsperioder,\n        },\n    };\n};\n\nexport const getDatoavgrensningerForStønadskonto = (\n    konto: StønadskontoType | undefined,\n    familiehendelsesdato: Date,\n    tidsperiode: Partial<TidsperiodeDate> | undefined,\n    ugyldigeTidsperioder: Tidsperiode[] | undefined,\n    erFarEllerMedmor: boolean,\n    termindato: Date | undefined,\n): DatoAvgrensninger => {\n    if (konto === undefined) {\n        return getDatoavgrensningerForPeriodeUtenKonto(\n            familiehendelsesdato,\n            ugyldigeTidsperioder,\n            erFarEllerMedmor,\n            termindato,\n        );\n    }\n    if (konto === StønadskontoType.ForeldrepengerFørFødsel) {\n        return getDatoavgrensningerForForeldrepengerFørFødsel(familiehendelsesdato);\n    }\n    if (isValidTidsperiode(tidsperiode) && Tidsperioden(tidsperiode).erFørDato(familiehendelsesdato)) {\n        return getDatoavgrensningerForEkstrauttakFørTermin(familiehendelsesdato, termindato);\n    }\n\n    const standardAvgrensninger = standardAvgrensningerForUttakEtterFødsel(familiehendelsesdato);\n\n    return {\n        fra: {\n            ...standardAvgrensninger,\n            ugyldigeTidsperioder,\n        },\n        til: {\n            ...standardAvgrensninger,\n            ugyldigeTidsperioder,\n        },\n    };\n};\n\nconst getDatoavgrensningerForPeriodeUtenKonto = (\n    familiehendelsesdato: Date,\n    ugyldigeTidsperioder: Tidsperiode[] | undefined,\n    erFarEllerMedmor: boolean,\n    termindato: Date | undefined,\n) => {\n    const minDato = getFørsteMuligeUttaksdag(familiehendelsesdato, erFarEllerMedmor, termindato);\n\n    return {\n        fra: {\n            minDato,\n            maksDato: getSisteMuligeUttaksdag(familiehendelsesdato),\n            ugyldigeTidsperioder,\n            helgedagerIkkeTillatt: true,\n        },\n        til: {\n            minDato,\n            maksDato: getSisteMuligeUttaksdag(familiehendelsesdato),\n            ugyldigeTidsperioder,\n            helgedagerIkkeTillatt: true,\n        },\n    };\n};\n\nconst standardAvgrensningerForUttakEtterFødsel = (familiehendelsesdato: Date): Avgrensninger => {\n    return {\n        helgedagerIkkeTillatt: true,\n        minDato: Uttaksdagen(familiehendelsesdato).denneEllerNeste(),\n        maksDato: getSisteMuligeUttaksdag(familiehendelsesdato),\n    };\n};\n\nconst getDatoavgrensningerForForeldrepengerFørFødsel = (familiehendelsesdato: Date): DatoAvgrensninger => {\n    const avgrensninger: DatepickerLimitations = {\n        ...standardAvgrensningerForUttakEtterFødsel,\n        ...uttaksplanDatoavgrensninger.startdatoFørTerminForeldrepengerFørFødselKonto(\n            dateToISOString(familiehendelsesdato),\n        ),\n    };\n\n    return {\n        fra: {\n            helgedagerIkkeTillatt: !!avgrensninger.weekendsNotSelectable,\n            minDato: ISOStringToDate(avgrensninger.minDate)!,\n            maksDato: ISOStringToDate(avgrensninger.maxDate)!,\n        },\n        til: {\n            helgedagerIkkeTillatt: !!avgrensninger.weekendsNotSelectable,\n            minDato: ISOStringToDate(avgrensninger.minDate)!,\n            maksDato: ISOStringToDate(avgrensninger.maxDate)!,\n        },\n    };\n};\n\nconst getDatoavgrensningerForEkstrauttakFørTermin = (\n    familiehendelsesdato: Date,\n    termindato: Date | undefined,\n): DatoAvgrensninger => {\n    const datoÅRegneFra = termindato !== undefined ? termindato : familiehendelsesdato;\n    const avgrensninger: DatepickerLimitations = {\n        ...standardAvgrensningerForUttakEtterFødsel,\n        ...uttaksplanDatoavgrensninger.ekstrauttakFørFødsel(dateToISOString(datoÅRegneFra)),\n    };\n\n    return {\n        fra: {\n            helgedagerIkkeTillatt: !!avgrensninger.weekendsNotSelectable,\n            minDato: ISOStringToDate(avgrensninger.minDate)!,\n            maksDato: ISOStringToDate(avgrensninger.maxDate)!,\n        },\n        til: {\n            helgedagerIkkeTillatt: !!avgrensninger.weekendsNotSelectable,\n            minDato: ISOStringToDate(avgrensninger.minDate)!,\n            maksDato: ISOStringToDate(avgrensninger.maxDate)!,\n        },\n    };\n};\n\nexport const getDatoavgrensningerForBareFarMedmorHarRettWLB = (\n    familiehendelsesdato: Date,\n    termindato: Date | undefined,\n    ugyldigeTidsperioder: Tidsperiode[] | undefined,\n): DatoAvgrensninger => {\n    const minDato = getFørsteUttaksdag2UkerFørFødsel(familiehendelsesdato, termindato);\n    const maksDato = getSisteMuligeUttaksdag(familiehendelsesdato);\n    return {\n        fra: {\n            minDato,\n            maksDato,\n            helgedagerIkkeTillatt: true,\n            ugyldigeTidsperioder,\n        },\n        til: {\n            minDato,\n            maksDato,\n            helgedagerIkkeTillatt: true,\n            ugyldigeTidsperioder,\n        },\n    };\n};\n","import {\n    intlUtils,\n    Tidsperiode,\n    Block,\n    TidsperiodeDate,\n    Situasjon,\n    Periode,\n    Utsettelsesperiode,\n    isUtsettelsesperiode,\n    isUttaksperiodeFarMedmorPgaFødsel,\n    andreAugust2022ReglerGjelder,\n    isUttaksperiodeBareFarMedmorHarRett,\n    isUttaksperiode,\n    mapTidsperiodeStringToTidsperiode,\n    ISOStringToDate,\n    dateRangeValidation,\n    getFørsteUttaksdagPåEllerEtterFødsel,\n} from '@navikt/fp-common';\nimport dayjs from 'dayjs';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { dateToISOString, getTypedFormComponents } from '@navikt/sif-common-formik-ds/lib';\nimport { Button } from '@navikt/ds-react';\nimport { getFørsteMuligeUttaksdag } from '../../../utils/uttaksdatoerUtils';\nimport {\n    DatoAvgrensninger,\n    getDatoavgrensningerForBareFarMedmorHarRettWLB,\n    getDatoavgrensningerForFarMedmorPeriodeRundtFødselWLB,\n    getDatoavgrensningerForStønadskonto,\n} from '../../../utils/datoAvgrensningerUtils';\n\ninterface Props {\n    periode?: Periode;\n    tidsperiode: TidsperiodeDate;\n    familiehendelsesdato: Date;\n    ugyldigeTidsperioder: Tidsperiode[] | undefined;\n    utsettelserIPlan: Utsettelsesperiode[];\n    erFarEllerMedmor: boolean;\n    morHarRett: boolean;\n    onBekreft: (tidsperiode: Partial<Tidsperiode>) => void;\n    onCancel?: () => void;\n    initialMonth?: Date;\n    termindato?: Date;\n    situasjon: Situasjon;\n    erFarMedmorOgHarAleneomsorg: boolean;\n}\n\nenum TidsperiodeFormFields {\n    fom = 'fom',\n    tom = 'tom',\n}\n\nexport type TidsperiodeFormValues = Partial<Tidsperiode>;\n\nconst Form = getTypedFormComponents<TidsperiodeFormFields, TidsperiodeFormValues>();\n\nconst getDatoAvgrensninger = (\n    periode: Periode | undefined,\n    familiehendelsesdato: Date,\n    fom: string | undefined,\n    tom: string | undefined,\n    tidsperiode: Partial<TidsperiodeDate>,\n    ugyldigeTidsperioder: Tidsperiode[] | undefined,\n    termindato: Date | undefined,\n    erFarEllerMedmor: boolean,\n    morHarRett: boolean,\n    situasjon: Situasjon,\n    erFarMedmorOgHarAleneomsorg: boolean,\n): DatoAvgrensninger => {\n    if (periode && !isUtsettelsesperiode(periode)) {\n        if (\n            isUttaksperiodeFarMedmorPgaFødsel(periode, familiehendelsesdato, termindato) &&\n            andreAugust2022ReglerGjelder(familiehendelsesdato) &&\n            situasjon === 'fødsel'\n        ) {\n            return getDatoavgrensningerForFarMedmorPeriodeRundtFødselWLB(\n                familiehendelsesdato,\n                termindato,\n                ugyldigeTidsperioder,\n            );\n        }\n        if (\n            isUttaksperiodeBareFarMedmorHarRett(periode, morHarRett) &&\n            andreAugust2022ReglerGjelder(familiehendelsesdato) &&\n            situasjon === 'fødsel'\n        ) {\n            return getDatoavgrensningerForBareFarMedmorHarRettWLB(\n                familiehendelsesdato,\n                termindato,\n                ugyldigeTidsperioder,\n            );\n        }\n        return getDatoavgrensningerForStønadskonto(\n            isUttaksperiode(periode) ? periode.konto : undefined,\n            familiehendelsesdato,\n            mapTidsperiodeStringToTidsperiode({ fom, tom }),\n            ugyldigeTidsperioder,\n            erFarEllerMedmor,\n            termindato,\n        );\n    }\n\n    const førsteMuligeUttaksdag = erFarMedmorOgHarAleneomsorg\n        ? getFørsteUttaksdagPåEllerEtterFødsel(familiehendelsesdato)\n        : getFørsteMuligeUttaksdag(familiehendelsesdato, erFarEllerMedmor, termindato);\n\n    return {\n        fra: {\n            minDato: førsteMuligeUttaksdag,\n            maksDato: tidsperiode\n                ? ISOStringToDate(tom)!\n                : dayjs(familiehendelsesdato).add(3, 'years').subtract(1, 'day').toDate(),\n            ugyldigeTidsperioder,\n            helgedagerIkkeTillatt: true,\n        },\n        til: {\n            minDato: tidsperiode ? ISOStringToDate(fom)! : førsteMuligeUttaksdag,\n            maksDato: dayjs(familiehendelsesdato).add(3, 'years').subtract(1, 'day').toDate(),\n            ugyldigeTidsperioder,\n            helgedagerIkkeTillatt: true,\n        },\n    };\n};\n\nconst TidsperiodeForm: React.FunctionComponent<Props> = ({\n    periode,\n    tidsperiode,\n    familiehendelsesdato,\n    ugyldigeTidsperioder,\n    utsettelserIPlan,\n    initialMonth,\n    termindato,\n    erFarEllerMedmor,\n    morHarRett,\n    situasjon,\n    onBekreft,\n    onCancel,\n    erFarMedmorOgHarAleneomsorg,\n}) => {\n    const intl = useIntl();\n\n    return (\n        <Form.FormikWrapper\n            initialValues={{ fom: dateToISOString(tidsperiode.fom), tom: dateToISOString(tidsperiode.tom) }}\n            onSubmit={onBekreft}\n            enableReinitialize={true}\n            renderForm={({ values }) => {\n                const datoAvgrensninger = getDatoAvgrensninger(\n                    periode,\n                    familiehendelsesdato,\n                    values.fom,\n                    values.tom,\n                    tidsperiode,\n                    ugyldigeTidsperioder,\n                    termindato,\n                    erFarEllerMedmor,\n                    morHarRett,\n                    situasjon,\n                    erFarMedmorOgHarAleneomsorg,\n                );\n\n                return (\n                    <Form.Form onCancel={onCancel} includeButtons={false}>\n                        <Block>\n                            <Form.DateIntervalPicker\n                                legend={intlUtils(intl, 'utenlandsopphold.leggTilUtenlandsopphold.tidsrom')}\n                                fromDatepickerProps={{\n                                    name: TidsperiodeFormFields.fom,\n                                    disableWeekend: true,\n                                    label: intlUtils(intl, 'utenlandsopphold.leggTilUtenlandsopphold.fraogmed'),\n                                    fullscreenOverlay: true,\n                                    placeholder: 'dd.mm.åååå',\n                                    minDate: datoAvgrensninger.fra.minDato,\n                                    maxDate: datoAvgrensninger.fra.maksDato,\n                                    validate: (value) =>\n                                        dateRangeValidation.validateFromDateInRange({\n                                            intl,\n                                            date: ISOStringToDate(value),\n                                            minDate: datoAvgrensninger.fra.minDato,\n                                            maxDate: datoAvgrensninger.fra.maksDato,\n                                            errorKey: 'valideringsfeil.fraOgMedDato.førTilDato',\n                                            toDate: ISOStringToDate(values.tom),\n                                            disableWeekend: datoAvgrensninger.fra.helgedagerIkkeTillatt,\n                                            utsettelserIPlan: utsettelserIPlan,\n                                            periodeId: periode !== undefined ? periode.id : undefined,\n                                        }),\n                                    dayPickerProps: {\n                                        defaultMonth: initialMonth || familiehendelsesdato,\n                                    },\n                                }}\n                                toDatepickerProps={{\n                                    name: TidsperiodeFormFields.tom,\n                                    disableWeekend: true,\n                                    label: intlUtils(intl, 'utenlandsopphold.leggTilUtenlandsopphold.tilogmed'),\n                                    fullscreenOverlay: true,\n                                    placeholder: 'dd.mm.åååå',\n                                    minDate: ISOStringToDate(values.fom) || familiehendelsesdato,\n                                    maxDate: datoAvgrensninger.til.maksDato,\n                                    validate: (value) =>\n                                        dateRangeValidation.validateToDateInRange({\n                                            intl,\n                                            date: ISOStringToDate(value),\n                                            minDate: datoAvgrensninger.til.minDato,\n                                            maxDate: datoAvgrensninger.til.maksDato,\n                                            errorKey: 'valideringsfeil.tilOgMedDato.etterFraDato',\n                                            fromDate: ISOStringToDate(values.fom),\n                                            disableWeekend: datoAvgrensninger.til.helgedagerIkkeTillatt,\n                                            utsettelserIPlan: utsettelserIPlan,\n                                            periodeId: periode !== undefined ? periode.id : undefined,\n                                        }),\n                                    dayPickerProps: {\n                                        defaultMonth: ISOStringToDate(values.fom),\n                                    },\n                                }}\n                            />\n                        </Block>\n                        <Button type=\"submit\">\n                            <FormattedMessage id=\"uttaksplan.gåVidere\" />\n                        </Button>\n                    </Form.Form>\n                );\n            }}\n        />\n    );\n};\n\nexport default TidsperiodeForm;\n","import {\n    Periodetype,\n    StønadskontoUttak,\n    TidsperiodeDate,\n    andreAugust2022ReglerGjelder,\n    isValidTidsperiode,\n} from '@navikt/fp-common';\nimport dayjs from 'dayjs';\n\nconst kontoSkalBesvares = (\n    periodetype: Periodetype,\n    tidsperiode: TidsperiodeDate,\n    stønadskontoer: StønadskontoUttak[],\n    familiehendelsesdato: Date,\n    erFarEllerMedmor: boolean,\n): boolean => {\n    if (\n        !isValidTidsperiode(tidsperiode) ||\n        stønadskontoer.length === 0 ||\n        (andreAugust2022ReglerGjelder(familiehendelsesdato) &&\n            periodetype === Periodetype.Uttak &&\n            erFarEllerMedmor &&\n            dayjs(tidsperiode.fom).isBefore(familiehendelsesdato, 'day'))\n    ) {\n        return false;\n    }\n\n    return true;\n};\n\nexport default kontoSkalBesvares;\n","import {\n    Periodetype,\n    Situasjon,\n    StønadskontoType,\n    TidsperiodeDate,\n    andreAugust2022ReglerGjelder,\n    erFarMedmorSinWLBTidsperiodeRundtFødsel,\n} from '@navikt/fp-common';\nimport dayjs from 'dayjs';\n\nexport const uttakRundtFødselÅrsakSpørsmålSkalBesvares = (\n    periodetype: Periodetype,\n    konto: StønadskontoType,\n    tidsperiode: TidsperiodeDate,\n    søkerErFarEllerMedmor: boolean,\n    erAleneOmOmsorg: boolean,\n    annenForelderKanIkkeOppgis: boolean,\n    søkerHarMidlertidigOmsorg: boolean,\n    familiehendelsesdato: Date,\n    termindato: Date | undefined,\n    situasjon: Situasjon,\n    bareFarMedmorHarRett: boolean,\n): boolean => {\n    if (\n        erAleneOmOmsorg ||\n        annenForelderKanIkkeOppgis ||\n        søkerHarMidlertidigOmsorg ||\n        !søkerErFarEllerMedmor ||\n        bareFarMedmorHarRett ||\n        !andreAugust2022ReglerGjelder(familiehendelsesdato) ||\n        situasjon !== 'fødsel' ||\n        dayjs(tidsperiode.fom).isBefore(familiehendelsesdato, 'day')\n    ) {\n        return false;\n    }\n\n    if (periodetype === Periodetype.Uttak) {\n        if (\n            erFarMedmorSinWLBTidsperiodeRundtFødsel(\n                tidsperiode,\n                familiehendelsesdato,\n                periodetype,\n                konto,\n                søkerErFarEllerMedmor,\n                termindato,\n                situasjon,\n            )\n        ) {\n            return true;\n        }\n        return false;\n    }\n    return false;\n};\n\nexport default uttakRundtFødselÅrsakSpørsmålSkalBesvares;\n","import {\n    Periodetype,\n    Situasjon,\n    StønadskontoType,\n    StønadskontoUttak,\n    TidsperiodeDate,\n    getSisteUttaksdag6UkerEtterFødsel,\n} from '@navikt/fp-common';\nimport dayjs from 'dayjs';\nimport kontoSkalBesvares from './kontoSkalBesvarer';\nimport uttakRundtFødselÅrsakSpørsmålSkalBesvares from './uttakRundtFødselÅrsakSpørsmålSkalBesvares';\n\nexport const farMedmorBrukerForeldrepengerMedAktivitetskravRundtFødselOgMorIkkeErSyk = (\n    famDato: Date,\n    erFarEllerMedmor: boolean,\n    konto: StønadskontoType | undefined,\n    erMorForSyk: boolean | undefined,\n    tidsperiode: TidsperiodeDate,\n    situasjon: Situasjon,\n) => {\n    const sisteUttaksdag6UkerEtterFødsel = getSisteUttaksdag6UkerEtterFødsel(famDato);\n    return (\n        erFarEllerMedmor &&\n        konto === StønadskontoType.Foreldrepenger &&\n        erMorForSyk === false &&\n        situasjon === 'fødsel' &&\n        dayjs(tidsperiode.fom).isSameOrBefore(sisteUttaksdag6UkerEtterFødsel, 'day')\n    );\n};\n\nexport const aktivitetskravMorSkalBesvares = (\n    ønskerFlerbarnsdager: boolean | undefined,\n    samtidigUttak: boolean | undefined,\n    erMorForSyk: boolean | undefined,\n    periodetype: Periodetype,\n    kontotype: StønadskontoType | undefined,\n    søkerErMor: boolean,\n    erAleneOmOmsorg: boolean,\n    annenForelderKanIkkeOppgis: boolean,\n    søkerHarMidlertidigOmsorg: boolean,\n    tidsperiode: TidsperiodeDate,\n    familiehendelsesdato: Date,\n    termindato: Date | undefined,\n    situasjon: Situasjon,\n    stønadskontoer: StønadskontoUttak[],\n    bareFarMedmorHarRett: boolean,\n): boolean => {\n    if (\n        søkerErMor ||\n        erAleneOmOmsorg ||\n        periodetype !== Periodetype.Uttak ||\n        annenForelderKanIkkeOppgis ||\n        søkerHarMidlertidigOmsorg ||\n        uttakRundtFødselÅrsakSpørsmålSkalBesvares(\n            periodetype,\n            kontotype as StønadskontoType,\n            tidsperiode,\n            !søkerErMor,\n            erAleneOmOmsorg,\n            annenForelderKanIkkeOppgis,\n            søkerHarMidlertidigOmsorg,\n            familiehendelsesdato,\n            termindato,\n            situasjon,\n            bareFarMedmorHarRett,\n        ) ||\n        !kontoSkalBesvares(periodetype, tidsperiode, stønadskontoer, familiehendelsesdato, !søkerErMor) ||\n        farMedmorBrukerForeldrepengerMedAktivitetskravRundtFødselOgMorIkkeErSyk(\n            familiehendelsesdato,\n            !søkerErMor,\n            kontotype,\n            erMorForSyk,\n            tidsperiode,\n            situasjon,\n        )\n    ) {\n        return false;\n    }\n\n    if (\n        !erAleneOmOmsorg &&\n        (kontotype === StønadskontoType.Fellesperiode || kontotype === StønadskontoType.Foreldrepenger)\n    ) {\n        if (ønskerFlerbarnsdager || samtidigUttak || (erMorForSyk && kontotype === StønadskontoType.Fellesperiode)) {\n            return false;\n        }\n\n        return true;\n    }\n\n    return false;\n};\n","import { Periodetype, Situasjon, StønadskontoType, TidsperiodeDate } from '@navikt/fp-common';\nimport dayjs from 'dayjs';\nimport { erInnenFørsteSeksUkerFødselFarMedmor, Uttaksdatoer } from '../uttaksdatoerUtils';\nimport uttakRundtFødselÅrsakSpørsmålSkalBesvares from './uttakRundtFødselÅrsakSpørsmålSkalBesvares';\n\nconst erMorForForSykSkalBesvares = (\n    periodetype: Periodetype,\n    konto: StønadskontoType,\n    tidsperiode: TidsperiodeDate,\n    situasjon: Situasjon,\n    søkerErFarEllerMedmor: boolean,\n    uttaksdatoer: Uttaksdatoer,\n    erFlerbarnssøknad: boolean,\n    erAleneOmOmsorg: boolean,\n    annenForelderKanIkkeOppgis: boolean,\n    ønskerFlerbarnsdager: boolean | undefined,\n    søkerHarMidlertidigOmsorg: boolean,\n    familiehendelsesdato: Date,\n    termindato: Date | undefined,\n    bareFarMedmorHarRett: boolean,\n): boolean => {\n    const årsakTilUttakRundtFødselSkalBesvares = uttakRundtFødselÅrsakSpørsmålSkalBesvares(\n        periodetype,\n        konto as StønadskontoType,\n        tidsperiode,\n        søkerErFarEllerMedmor,\n        erAleneOmOmsorg,\n        annenForelderKanIkkeOppgis,\n        søkerHarMidlertidigOmsorg,\n        familiehendelsesdato,\n        termindato,\n        situasjon,\n        bareFarMedmorHarRett,\n    );\n\n    if (\n        erAleneOmOmsorg ||\n        annenForelderKanIkkeOppgis ||\n        søkerHarMidlertidigOmsorg ||\n        årsakTilUttakRundtFødselSkalBesvares ||\n        dayjs(tidsperiode.fom).isBefore(familiehendelsesdato, 'day') ||\n        konto === StønadskontoType.AktivitetsfriKvote\n    ) {\n        return false;\n    }\n\n    if (periodetype === Periodetype.Uttak && søkerErFarEllerMedmor) {\n        if (\n            (konto === StønadskontoType.Fedrekvote || konto === StønadskontoType.Foreldrepenger) &&\n            erInnenFørsteSeksUkerFødselFarMedmor(\n                tidsperiode,\n                situasjon,\n                søkerErFarEllerMedmor,\n                uttaksdatoer.etterFødsel.førsteUttaksdagEtterSeksUker,\n            )\n        ) {\n            if (erFlerbarnssøknad) {\n                return ønskerFlerbarnsdager !== undefined && ønskerFlerbarnsdager === false;\n            }\n\n            return true;\n        }\n        return false;\n    }\n\n    return false;\n};\n\nexport default erMorForForSykSkalBesvares;\n","import {\n    Periodetype,\n    StønadskontoType,\n    TidsperiodeDate,\n    andreAugust2022ReglerGjelder,\n    getSisteUttaksdag6UkerEtterFødsel,\n} from '@navikt/fp-common';\nimport dayjs from 'dayjs';\n\nexport const graderingSkalBesvares = (\n    periodetype: Periodetype,\n    konto: StønadskontoType,\n    familiehendelsesdato: Date,\n    erFarMedmor: boolean,\n    morErForSyk: boolean | undefined,\n    tidsperiode: TidsperiodeDate,\n): boolean => {\n    const farMedmorSøkerDeFørsteSeksUkeneFørWLBOgMorErIkkeSyk =\n        !andreAugust2022ReglerGjelder(familiehendelsesdato) && erFarMedmor && morErForSyk === false;\n    const sisteUttaksdagInnenSeksUkerEtterFødsel = getSisteUttaksdag6UkerEtterFødsel(familiehendelsesdato);\n    const bareFarHarRettSøkerAktivitetsKravKontoDeFørsteSeksUkeneOgMorErIkkeSyk =\n        erFarMedmor &&\n        konto === StønadskontoType.Foreldrepenger &&\n        morErForSyk === false &&\n        dayjs(tidsperiode.fom).isSameOrBefore(sisteUttaksdagInnenSeksUkerEtterFødsel, 'day');\n    if (\n        periodetype === Periodetype.Uttak &&\n        konto !== StønadskontoType.ForeldrepengerFørFødsel &&\n        !farMedmorSøkerDeFørsteSeksUkeneFørWLBOgMorErIkkeSyk &&\n        !bareFarHarRettSøkerAktivitetsKravKontoDeFørsteSeksUkeneOgMorErIkkeSyk\n    ) {\n        return true;\n    }\n    return false;\n};\n","import {\n    Periodetype,\n    Situasjon,\n    StønadskontoType,\n    TidsperiodeDate,\n    erFarMedmorSinWLBTidsperiodeRundtFødsel,\n} from '@navikt/fp-common';\n\nexport const graderingSkalBesvaresPgaWLBUttakRundtFødsel = (\n    tidperiode: TidsperiodeDate,\n    periodetype: Periodetype,\n    konto: StønadskontoType,\n    erFarEllerMedmor: boolean,\n    familiehendelsesdato: Date,\n    termindato: Date | undefined,\n    situasjon: Situasjon,\n): boolean => {\n    return erFarMedmorSinWLBTidsperiodeRundtFødsel(\n        tidperiode,\n        familiehendelsesdato,\n        periodetype,\n        konto,\n        erFarEllerMedmor,\n        termindato,\n        situasjon,\n    );\n};\n","import { Periodetype, Situasjon, StønadskontoType, TidsperiodeDate } from '@navikt/fp-common';\nimport dayjs from 'dayjs';\nimport { uttakRundtFødselÅrsakSpørsmålSkalBesvares } from './uttakRundtFødselÅrsakSpørsmålSkalBesvares';\n\nconst samtidigUttakSkalBesvares = (\n    periodetype: Periodetype,\n    konto: StønadskontoType,\n    erUttakInnenFørsteSeksUkerFødselFarMedmor: boolean,\n    erUttakFørFødsel: boolean,\n    erAleneOmsorg: boolean,\n    erDeltUttakINorge: boolean,\n    søkerHarMidlertidigOmsorg: boolean,\n    erMorForSyk: boolean | undefined,\n    ønskerFlerbarnsdager: boolean | undefined,\n    tidsperiode: TidsperiodeDate,\n    søkerErFarEllerMedmor: boolean,\n    annenforelderKanIkkeOppgis: boolean,\n    familiehendelsesdato: Date,\n    termindato: Date | undefined,\n    situasjon: Situasjon,\n    bareFarMedmorHarRett: boolean,\n): boolean => {\n    if (erAleneOmsorg || !erDeltUttakINorge || søkerHarMidlertidigOmsorg) {\n        return false;\n    }\n    if (søkerErFarEllerMedmor && dayjs(tidsperiode.fom).isBefore(familiehendelsesdato, 'd')) {\n        return false;\n    }\n    if (\n        uttakRundtFødselÅrsakSpørsmålSkalBesvares(\n            periodetype,\n            konto,\n            tidsperiode,\n            søkerErFarEllerMedmor,\n            erAleneOmsorg,\n            annenforelderKanIkkeOppgis,\n            søkerHarMidlertidigOmsorg,\n            familiehendelsesdato,\n            termindato,\n            situasjon,\n            bareFarMedmorHarRett,\n        )\n    ) {\n        return false;\n    }\n\n    if (periodetype === Periodetype.Uttak) {\n        if (erMorForSyk) {\n            return false;\n        }\n\n        const erUttakEgenKvoteFarMedmorFørsteSeksUkerUtenFlerbarnsdager: boolean =\n            erUttakInnenFørsteSeksUkerFødselFarMedmor &&\n            (konto === StønadskontoType.Fedrekvote || konto === StønadskontoType.Foreldrepenger) &&\n            ønskerFlerbarnsdager !== true;\n\n        return !(erUttakFørFødsel || erUttakEgenKvoteFarMedmorFørsteSeksUkerUtenFlerbarnsdager);\n    }\n\n    return false;\n};\n\nexport default samtidigUttakSkalBesvares;\n","import {\n    Periodetype,\n    StønadskontoType,\n    TidsperiodeDate,\n    UttakRundtFødselÅrsak,\n    andreAugust2022ReglerGjelder,\n} from '@navikt/fp-common';\nimport dayjs from 'dayjs';\n\nexport const ønskerFlerbarnsdagerSkalBesvares = (\n    periodetype: Periodetype,\n    erFlerbarnssøknad: boolean,\n    søkerErFarEllerMedmor: boolean,\n    familiehendelsesdato: Date,\n    tidsperiode: TidsperiodeDate,\n    stønadskontoType: StønadskontoType,\n    bareFarHarRett: boolean,\n    antallBarn: number,\n    erAleneOmOmsorg: boolean,\n    erDeltUttakINorge: boolean,\n    uttakRundtFødselÅrsak: UttakRundtFødselÅrsak | undefined,\n): boolean => {\n    if (dayjs(tidsperiode.fom).isBefore(familiehendelsesdato, 'day')) {\n        return false;\n    }\n\n    if (\n        stønadskontoType === StønadskontoType.AktivitetsfriKvote ||\n        uttakRundtFødselÅrsak === UttakRundtFødselÅrsak.morErForSyk\n    ) {\n        return false;\n    }\n    if (søkerErFarEllerMedmor && (bareFarHarRett || erAleneOmOmsorg) && antallBarn > 1) {\n        if (andreAugust2022ReglerGjelder(familiehendelsesdato)) {\n            return false;\n        }\n        return true;\n    }\n    if (!erDeltUttakINorge && stønadskontoType !== StønadskontoType.Fellesperiode) {\n        return false;\n    }\n    return periodetype === Periodetype.Uttak && erFlerbarnssøknad && søkerErFarEllerMedmor;\n};\n","import { Situasjon, TidsperiodeDate } from '@navikt/fp-common';\nimport { erSamtidigUttakFarMedmorFørFørsteSeksUkerWLB } from '../../components/uttaks-forms/periode-uttak-form/periodeUttakFormQuestionsConfig';\n\nconst hvemSkalTaUttakSkalBesvares = (\n    tidsperiode: TidsperiodeDate,\n    erDeltUttakINorge: boolean,\n    familiehendelsesdato: Date,\n    erFarEllerMedmor: boolean,\n    situasjon: Situasjon,\n): boolean => {\n    if (erFarEllerMedmor) {\n        if (\n            erSamtidigUttakFarMedmorFørFørsteSeksUkerWLB(\n                { fom: tidsperiode.fom },\n                familiehendelsesdato,\n                erFarEllerMedmor,\n                erDeltUttakINorge,\n                situasjon,\n            )\n        ) {\n            return false;\n        }\n    }\n    return erDeltUttakINorge;\n};\n\nexport default hvemSkalTaUttakSkalBesvares;\n","import { AnnenForelder, Periodetype, StønadskontoType, harAnnenForelderRettIEØS } from '@navikt/fp-common';\n\nconst overføringsårsakSkalBesvares = (\n    periodetype: Periodetype,\n    erFarEllerMedmor: boolean,\n    kontoValue: StønadskontoType,\n    annenForelder: AnnenForelder,\n): boolean => {\n    const annenForelderHarRettIEØS = harAnnenForelderRettIEØS(annenForelder);\n    return (\n        periodetype === Periodetype.Overføring ||\n        (annenForelderHarRettIEØS && erFarEllerMedmor && kontoValue === StønadskontoType.Mødrekvote) ||\n        (annenForelderHarRettIEØS && !erFarEllerMedmor && kontoValue === StønadskontoType.Fedrekvote)\n    );\n};\n\nexport default overføringsårsakSkalBesvares;\n","import {\n    AnnenForelder,\n    Periodetype,\n    Situasjon,\n    StønadskontoType,\n    StønadskontoUttak,\n    TidsperiodeDate,\n    Tidsperioden,\n    convertYesOrNoOrUndefinedToBoolean,\n} from '@navikt/fp-common';\nimport { getUttaksdatoer } from '../uttaksdatoerUtils';\nimport { aktivitetskravMorSkalBesvares } from './aktivitetskravMorSkalBesvares';\nimport erMorForForSykSkalBesvares from './erMorForSykSkalBesvares';\nimport { graderingSkalBesvares } from './graderingSkalBesvares';\nimport { graderingSkalBesvaresPgaWLBUttakRundtFødsel } from './graderingSkalBesvaresPgaWLBUttakRundtFødsel';\nimport samtidigUttakSkalBesvares from './samtidigUttakSkalBesvares';\nimport { ønskerFlerbarnsdagerSkalBesvares } from './ønskerFlerbarnsdagerSkalBesvares';\nimport uttakRundtFødselÅrsakSpørsmålSkalBesvares from './uttakRundtFødselÅrsakSpørsmålSkalBesvares';\nimport kontoSkalBesvares from './kontoSkalBesvarer';\nimport hvemSkalTaUttakSkalBesvares from './hvemSkalTaUttakSkalBesvares';\nimport overføringsårsakSkalBesvares from './overføringsårsakSkalBesvares';\nimport { PeriodeUttakFormData } from '../../components/uttaks-forms/periode-uttak-form/periodeUttakFormConfig';\nexport interface UttakSkjemaregler {\n    aktivitetskravMorSkalBesvares: () => boolean;\n    erMorForSykSkalBesvares: () => boolean;\n    uttakRundtFødselÅrsakSpørsmålSkalBesvares: () => boolean;\n    samtidigUttakSkalBesvares: () => boolean;\n    kontoSkalBesvares: () => boolean;\n    hvemSkalTaUttakSkalBesvares: () => boolean;\n    overføringsårsakSkalBesvares: () => boolean;\n    ønskerFlerbarnsdagerSkalBesvares: () => boolean;\n    graderingSkalBesvares: () => boolean;\n    graderingSkalBesvaresPgaWLBUttakRundtFødsel: () => boolean;\n}\n\nexport interface UttakSkjemaReglerProps {\n    erFarEllerMedmor: boolean;\n    erAleneOmOmsorg: boolean;\n    annenForelder: AnnenForelder;\n    situasjon: Situasjon;\n    erFlerbarnssøknad: boolean;\n    erDeltUttakINorge: boolean;\n    familiehendelsesdato: Date;\n    periodetype: Periodetype;\n    termindato: Date | undefined;\n    morHarRett: boolean;\n    stønadskontoer: StønadskontoUttak[];\n    antallBarn: number;\n}\n\nexport const getUttakSkjemaregler = (\n    formValues: PeriodeUttakFormData,\n    regelProps: UttakSkjemaReglerProps,\n): UttakSkjemaregler => {\n    const {\n        erFarEllerMedmor,\n        erAleneOmOmsorg,\n        annenForelder,\n        situasjon,\n        erFlerbarnssøknad,\n        erDeltUttakINorge,\n        familiehendelsesdato,\n        periodetype,\n        termindato,\n        stønadskontoer,\n        morHarRett,\n        antallBarn,\n    } = regelProps;\n\n    const { konto } = formValues;\n\n    const uttaksdatoer = getUttaksdatoer(familiehendelsesdato, erFarEllerMedmor, termindato);\n    const tidsperiode: TidsperiodeDate = { fom: formValues.fom!, tom: formValues.tom! };\n\n    return {\n        aktivitetskravMorSkalBesvares: () =>\n            aktivitetskravMorSkalBesvares(\n                convertYesOrNoOrUndefinedToBoolean(formValues.ønskerFlerbarnsdager),\n                convertYesOrNoOrUndefinedToBoolean(formValues.samtidigUttak),\n                convertYesOrNoOrUndefinedToBoolean(formValues.erMorForSyk),\n                periodetype,\n                konto as StønadskontoType,\n                !erFarEllerMedmor,\n                erAleneOmOmsorg,\n                annenForelder.kanIkkeOppgis,\n                false, // TODO Midlertidig omsorg,\n                tidsperiode,\n                familiehendelsesdato,\n                termindato,\n                situasjon,\n                stønadskontoer,\n                !morHarRett,\n            ),\n        erMorForSykSkalBesvares: (): boolean =>\n            erMorForForSykSkalBesvares(\n                periodetype,\n                konto as StønadskontoType,\n                tidsperiode,\n                situasjon,\n                erFarEllerMedmor,\n                uttaksdatoer,\n                erFlerbarnssøknad,\n                erAleneOmOmsorg,\n                annenForelder.kanIkkeOppgis,\n                convertYesOrNoOrUndefinedToBoolean(formValues.ønskerFlerbarnsdager),\n                false, // TODO Midlertidig omsorg,\n                familiehendelsesdato,\n                termindato,\n                !morHarRett,\n            ),\n        samtidigUttakSkalBesvares: (): boolean =>\n            samtidigUttakSkalBesvares(\n                periodetype,\n                konto as StønadskontoType,\n                Tidsperioden(tidsperiode).erInnenforFørsteSeksUker(familiehendelsesdato) && situasjon === 'fødsel',\n                periodetype === Periodetype.Uttak && konto === StønadskontoType.ForeldrepengerFørFødsel,\n                erAleneOmOmsorg,\n                erDeltUttakINorge,\n                false, // TODO Midlertidig omsorg,\n                convertYesOrNoOrUndefinedToBoolean(formValues.erMorForSyk),\n                convertYesOrNoOrUndefinedToBoolean(formValues.ønskerFlerbarnsdager),\n                tidsperiode,\n                erFarEllerMedmor,\n                annenForelder.kanIkkeOppgis,\n                familiehendelsesdato,\n                termindato,\n                situasjon,\n                !morHarRett,\n            ),\n        kontoSkalBesvares: (): boolean =>\n            kontoSkalBesvares(periodetype, tidsperiode, stønadskontoer, familiehendelsesdato, erFarEllerMedmor),\n        ønskerFlerbarnsdagerSkalBesvares: (): boolean => {\n            return ønskerFlerbarnsdagerSkalBesvares(\n                periodetype,\n                erFlerbarnssøknad,\n                erFarEllerMedmor,\n                familiehendelsesdato,\n                tidsperiode,\n                konto as StønadskontoType,\n                !morHarRett,\n                antallBarn,\n                erAleneOmOmsorg,\n                erDeltUttakINorge,\n                formValues.uttakRundtFødselÅrsak === '' ? undefined : formValues.uttakRundtFødselÅrsak,\n            );\n        },\n        hvemSkalTaUttakSkalBesvares: (): boolean =>\n            hvemSkalTaUttakSkalBesvares(\n                tidsperiode,\n                erDeltUttakINorge,\n                familiehendelsesdato,\n                erFarEllerMedmor,\n                situasjon,\n            ),\n        graderingSkalBesvares: (): boolean => {\n            return graderingSkalBesvares(\n                periodetype,\n                konto as StønadskontoType,\n                familiehendelsesdato,\n                erFarEllerMedmor,\n                convertYesOrNoOrUndefinedToBoolean(formValues.erMorForSyk),\n                tidsperiode,\n            );\n        },\n        graderingSkalBesvaresPgaWLBUttakRundtFødsel: (): boolean => {\n            return graderingSkalBesvaresPgaWLBUttakRundtFødsel(\n                tidsperiode,\n                periodetype,\n                konto as StønadskontoType,\n                erFarEllerMedmor,\n                familiehendelsesdato,\n                termindato,\n                situasjon,\n            );\n        },\n        overføringsårsakSkalBesvares: (): boolean => {\n            return overføringsårsakSkalBesvares(\n                periodetype,\n                erFarEllerMedmor,\n                konto as StønadskontoType,\n                annenForelder,\n            );\n        },\n        uttakRundtFødselÅrsakSpørsmålSkalBesvares: () => {\n            return uttakRundtFødselÅrsakSpørsmålSkalBesvares(\n                periodetype,\n                konto as StønadskontoType,\n                tidsperiode,\n                erFarEllerMedmor,\n                erAleneOmOmsorg,\n                annenForelder.kanIkkeOppgis,\n                false, //TODO: midlertidig omsorg\n                familiehendelsesdato,\n                termindato,\n                situasjon,\n                !morHarRett,\n            );\n        },\n    };\n};\n\nexport default getUttakSkjemaregler;\n","import {\n    andreAugust2022ReglerGjelder,\n    AnnenForelder,\n    erFarMedmorSinWLBTidsperiodeRundtFødsel,\n    getSisteUttaksdag6UkerEtterFødsel,\n    harAnnenForelderRettIEØS,\n    hasValue,\n    isValidTidsperiode,\n    Periodetype,\n    Situasjon,\n    StønadskontoType,\n    TidsperiodeDate,\n    UttakRundtFødselÅrsak,\n} from '@navikt/fp-common';\nimport { QuestionConfig, Questions } from '@navikt/sif-common-question-config/lib';\nimport dayjs from 'dayjs';\nimport { PeriodeUttakFormData, PeriodeUttakFormField } from './periodeUttakFormConfig';\nimport { YesOrNo } from '@navikt/sif-common-formik-ds/lib';\nimport getUttakSkjemaregler, {\n    UttakSkjemaregler,\n    UttakSkjemaReglerProps,\n} from '../../../utils/uttaksskjema/uttakSkjemaregler';\nimport hvemSkalTaUttakSkalBesvares from '../../../utils/uttaksskjema/hvemSkalTaUttakSkalBesvares';\nexport interface PeriodeUttakFormQuestionsPayload {\n    values: PeriodeUttakFormData;\n    regelProps: UttakSkjemaReglerProps;\n    isOpen: boolean;\n}\n\nexport const erSamtidigUttakFarMedmorFørFødselWLB = (\n    values: Partial<PeriodeUttakFormData>,\n    familiehendelsesdato: Date,\n    erFarEllerMedmor: boolean,\n    erDeltUttak: boolean,\n    situasjon: Situasjon,\n) => {\n    return (\n        andreAugust2022ReglerGjelder(familiehendelsesdato) &&\n        erFarEllerMedmor &&\n        erDeltUttak &&\n        situasjon === 'fødsel' &&\n        hasValue(values.fom) &&\n        dayjs(values.fom).isBefore(familiehendelsesdato, 'day')\n    );\n};\n\nexport const erSamtidigUttakFarMedmorFørFørsteSeksUkerWLB = (\n    values: Partial<PeriodeUttakFormData>,\n    familiehendelsesdato: Date,\n    erFarEllerMedmor: boolean,\n    erDeltUttak: boolean,\n    situasjon: Situasjon,\n) => {\n    const sisteUttaksdag6UkerEtterFødsel = getSisteUttaksdag6UkerEtterFødsel(familiehendelsesdato);\n\n    return (\n        andreAugust2022ReglerGjelder(familiehendelsesdato) &&\n        erFarEllerMedmor &&\n        erDeltUttak &&\n        situasjon === 'fødsel' &&\n        hasValue(values.fom) &&\n        dayjs(values.fom).isSameOrBefore(sisteUttaksdag6UkerEtterFødsel, 'day')\n    );\n};\n\nexport const skalViseWLBInfoOmSamtidigUttakRundtFødsel = (\n    values: PeriodeUttakFormData,\n    familiehendelsesdato: Date,\n    erFarEllerMedmor: boolean,\n    erDeltUttak: boolean,\n    situasjon: Situasjon,\n) => {\n    return (\n        values.uttakRundtFødselÅrsak === UttakRundtFødselÅrsak.samtidigUttak ||\n        erSamtidigUttakFarMedmorFørFødselWLB(values, familiehendelsesdato, erFarEllerMedmor, erDeltUttak, situasjon)\n    );\n};\n\nconst skalViseGradering = (\n    regler: UttakSkjemaregler,\n    values: PeriodeUttakFormData,\n    familiehendelsesdato: Date,\n    erDeltUttakINorge: boolean,\n    annenForelder: AnnenForelder,\n): boolean => {\n    if (!isValidTidsperiode({ fom: values.fom, tom: values.tom })) {\n        return false;\n    }\n\n    if (regler.overføringsårsakSkalBesvares() && !hasValue(values.overføringsårsak)) {\n        return false;\n    }\n\n    if (\n        regler.graderingSkalBesvaresPgaWLBUttakRundtFødsel() &&\n        dayjs(values.fom).isSameOrAfter(familiehendelsesdato, 'd') &&\n        (erDeltUttakINorge || harAnnenForelderRettIEØS(annenForelder)) &&\n        !hasValue(values.uttakRundtFødselÅrsak)\n    ) {\n        return false;\n    }\n\n    if (\n        values.konto === '' ||\n        (regler.samtidigUttakSkalBesvares() && values.samtidigUttak === YesOrNo.UNANSWERED) ||\n        (regler.ønskerFlerbarnsdagerSkalBesvares() && values.ønskerFlerbarnsdager === YesOrNo.UNANSWERED) ||\n        (regler.aktivitetskravMorSkalBesvares() &&\n            values.aktivitetskravMor === '' &&\n            values.erMorForSyk !== YesOrNo.YES) ||\n        (regler.erMorForSykSkalBesvares() && values.erMorForSyk !== YesOrNo.YES)\n    ) {\n        return false;\n    }\n\n    return true;\n};\n\nconst skalViseAktivitetskrav = (regler: UttakSkjemaregler, values: PeriodeUttakFormData): boolean => {\n    if (!isValidTidsperiode({ fom: values.fom, tom: values.tom })) {\n        return false;\n    }\n\n    if (regler.erMorForSykSkalBesvares() && values.erMorForSyk !== YesOrNo.NO) {\n        return false;\n    }\n\n    if (regler.ønskerFlerbarnsdagerSkalBesvares() && values.ønskerFlerbarnsdager === YesOrNo.UNANSWERED) {\n        return false;\n    }\n\n    return regler.samtidigUttakSkalBesvares()\n        ? values.samtidigUttak !== YesOrNo.UNANSWERED\n        : values.konto !== undefined;\n};\n\nconst skalViseSamtidigUttak = (regler: UttakSkjemaregler, values: PeriodeUttakFormData): boolean => {\n    if (!isValidTidsperiode({ fom: values.fom, tom: values.tom })) {\n        return false;\n    }\n\n    if (values.konto === StønadskontoType.Foreldrepenger) {\n        return false;\n    }\n\n    if (values.konto === '') {\n        return false;\n    }\n\n    if (regler.ønskerFlerbarnsdagerSkalBesvares() && values.ønskerFlerbarnsdager === YesOrNo.UNANSWERED) {\n        return false;\n    }\n\n    if (regler.erMorForSykSkalBesvares() && values.erMorForSyk === YesOrNo.NO) {\n        return false;\n    }\n\n    return true;\n};\n\nconst skalViseFlerbarnsdager = (\n    values: PeriodeUttakFormData,\n    tidsperiode: TidsperiodeDate,\n    familiehendelsesdato: Date,\n    periodetype: Periodetype,\n    kontoValue: StønadskontoType | '',\n    erFarEllerMedmor: boolean,\n    termindato: Date | undefined,\n    situasjon: Situasjon,\n): boolean => {\n    if (!isValidTidsperiode({ fom: values.fom, tom: values.tom })) {\n        return false;\n    }\n    if (\n        kontoValue !== '' &&\n        erFarMedmorSinWLBTidsperiodeRundtFødsel(\n            tidsperiode,\n            familiehendelsesdato,\n            periodetype,\n            kontoValue,\n            erFarEllerMedmor,\n            termindato,\n            situasjon,\n        ) &&\n        values.uttakRundtFødselÅrsak === ''\n    ) {\n        return false;\n    }\n\n    return (\n        values.konto === StønadskontoType.Fellesperiode ||\n        values.konto === StønadskontoType.Fedrekvote ||\n        values.konto === StønadskontoType.Foreldrepenger\n    );\n};\n\nconst skalViseKonto = (\n    values: PeriodeUttakFormData,\n    familiehendelsesdato: Date,\n    erDeltUttakINorge: boolean,\n    erFarEllerMedmor: boolean,\n    situasjon: Situasjon,\n): boolean => {\n    const tidsperiode = { fom: values.fom, tom: values.tom };\n    if (!isValidTidsperiode(tidsperiode)) {\n        return false;\n    }\n    if (\n        hvemSkalTaUttakSkalBesvares(\n            tidsperiode as TidsperiodeDate,\n            erDeltUttakINorge,\n            familiehendelsesdato,\n            erFarEllerMedmor,\n            situasjon,\n        ) &&\n        !hasValue(values.hvemSkalTaUttak)\n    ) {\n        return false;\n    }\n    return true;\n};\n\nconst PeriodeUttakFormConfig: QuestionConfig<PeriodeUttakFormQuestionsPayload, PeriodeUttakFormField> = {\n    [PeriodeUttakFormField.fom]: {\n        isAnswered: ({ values }) => hasValue(values.fom),\n        isIncluded: () => true,\n    },\n    [PeriodeUttakFormField.tom]: {\n        isAnswered: ({ values }) => hasValue(values.tom),\n        isIncluded: () => true,\n    },\n    [PeriodeUttakFormField.hvemSkalTaUttak]: {\n        isAnswered: ({ values }) => hasValue(values.hvemSkalTaUttak),\n        isIncluded: ({ regelProps, values }) => getUttakSkjemaregler(values, regelProps).hvemSkalTaUttakSkalBesvares(),\n        visibilityFilter: ({ values }) => isValidTidsperiode({ fom: values.fom, tom: values.tom }),\n    },\n    [PeriodeUttakFormField.konto]: {\n        isAnswered: ({ values }) => hasValue(values.konto),\n        isIncluded: ({ regelProps, values }) => getUttakSkjemaregler(values, regelProps).kontoSkalBesvares(),\n        visibilityFilter: ({ regelProps, values }) =>\n            skalViseKonto(\n                values,\n                regelProps.familiehendelsesdato,\n                regelProps.erDeltUttakINorge,\n                regelProps.erFarEllerMedmor,\n                regelProps.situasjon,\n            ),\n    },\n    [PeriodeUttakFormField.ønskerFlerbarnsdager]: {\n        isAnswered: ({ values }) => values.ønskerFlerbarnsdager !== YesOrNo.UNANSWERED,\n        isIncluded: ({ values, regelProps }) =>\n            getUttakSkjemaregler(values, regelProps).ønskerFlerbarnsdagerSkalBesvares(),\n        visibilityFilter: ({ values, regelProps }) =>\n            skalViseFlerbarnsdager(\n                values,\n                { fom: values.fom!, tom: values.tom! },\n                regelProps.familiehendelsesdato,\n                regelProps.periodetype,\n                values.konto,\n                regelProps.erFarEllerMedmor,\n                regelProps.termindato,\n                regelProps.situasjon,\n            ),\n    },\n    [PeriodeUttakFormField.erMorForSyk]: {\n        isAnswered: ({ values }) => values.erMorForSyk !== YesOrNo.UNANSWERED,\n        isIncluded: ({ values, regelProps }) => getUttakSkjemaregler(values, regelProps).erMorForSykSkalBesvares(),\n        visibilityFilter: ({ values }) => values.ønskerFlerbarnsdager !== YesOrNo.UNANSWERED || hasValue(values.konto),\n    },\n    [PeriodeUttakFormField.uttakRundtFødselÅrsak]: {\n        isAnswered: ({ values }) => hasValue(values.uttakRundtFødselÅrsak),\n        isIncluded: ({ values, regelProps }) =>\n            getUttakSkjemaregler(values, regelProps).uttakRundtFødselÅrsakSpørsmålSkalBesvares(),\n        visibilityFilter: ({ values }) => values.ønskerFlerbarnsdager !== YesOrNo.UNANSWERED || hasValue(values.konto),\n    },\n    [PeriodeUttakFormField.samtidigUttak]: {\n        isAnswered: ({ values }) => values.samtidigUttak !== YesOrNo.UNANSWERED,\n        isIncluded: ({ values, regelProps }) => getUttakSkjemaregler(values, regelProps).samtidigUttakSkalBesvares(),\n        visibilityFilter: ({ values, regelProps }) =>\n            skalViseSamtidigUttak(getUttakSkjemaregler(values, regelProps), values),\n    },\n    [PeriodeUttakFormField.samtidigUttakProsent]: {\n        isAnswered: ({ values }) => hasValue(values.samtidigUttakProsent),\n        isIncluded: ({ values, regelProps }) => getUttakSkjemaregler(values, regelProps).samtidigUttakSkalBesvares(),\n        visibilityFilter: ({ values }) => values.samtidigUttak === YesOrNo.YES,\n    },\n    [PeriodeUttakFormField.skalHaGradering]: {\n        isAnswered: ({ values }) => values.skalHaGradering !== YesOrNo.UNANSWERED,\n        isIncluded: ({ values, regelProps }) => getUttakSkjemaregler(values, regelProps).graderingSkalBesvares(),\n        visibilityFilter: ({ values, regelProps }) =>\n            skalViseGradering(\n                getUttakSkjemaregler(values, regelProps),\n                values,\n                regelProps.familiehendelsesdato,\n                regelProps.erDeltUttakINorge,\n                regelProps.annenForelder,\n            ),\n    },\n    [PeriodeUttakFormField.stillingsprosent]: {\n        isAnswered: ({ values }) => hasValue(values.stillingsprosent),\n        isIncluded: ({ values, regelProps }) => getUttakSkjemaregler(values, regelProps).graderingSkalBesvares(),\n        visibilityFilter: ({ values }) => values.skalHaGradering === YesOrNo.YES,\n    },\n    [PeriodeUttakFormField.arbeidsformer]: {\n        isAnswered: ({ values }) => values.arbeidsformer.length > 0,\n        isIncluded: ({ values, regelProps }) => getUttakSkjemaregler(values, regelProps).graderingSkalBesvares(),\n        visibilityFilter: ({ values }) => values.skalHaGradering === YesOrNo.YES,\n    },\n    [PeriodeUttakFormField.overføringsårsak]: {\n        isAnswered: ({ values }) => hasValue(values.overføringsårsak),\n        isIncluded: ({ values, regelProps }) => getUttakSkjemaregler(values, regelProps).overføringsårsakSkalBesvares(),\n        visibilityFilter: ({ values }) => hasValue(values.konto),\n    },\n    [PeriodeUttakFormField.overføringsdokumentasjon]: {\n        isAnswered: ({ values }) => values.overføringsdokumentasjon.length >= 0,\n        isIncluded: ({ values, regelProps }) => getUttakSkjemaregler(values, regelProps).overføringsårsakSkalBesvares(),\n        visibilityFilter: ({ values }) => hasValue(values.overføringsårsak),\n    },\n    [PeriodeUttakFormField.aktivitetskravMor]: {\n        isAnswered: ({ values }) => hasValue(values.aktivitetskravMor),\n        isIncluded: ({ values, regelProps }) =>\n            getUttakSkjemaregler(values, regelProps).aktivitetskravMorSkalBesvares(),\n        visibilityFilter: ({ values, regelProps }) =>\n            skalViseAktivitetskrav(getUttakSkjemaregler(values, regelProps), values),\n    },\n    [PeriodeUttakFormField.aktivitetskravMorDokumentasjon]: {\n        isAnswered: ({ values }) => values.aktivitetskravMorDokumentasjon.length >= 0,\n        isIncluded: ({ values, regelProps, isOpen }) =>\n            getUttakSkjemaregler(values, regelProps).aktivitetskravMorSkalBesvares() && isOpen,\n        visibilityFilter: ({ values, regelProps }) =>\n            skalViseAktivitetskrav(getUttakSkjemaregler(values, regelProps), values),\n    },\n};\n\nexport const periodeUttakFormQuestionsConfig = Questions<PeriodeUttakFormQuestionsPayload, PeriodeUttakFormField>(\n    PeriodeUttakFormConfig,\n);\n","import {\n    Attachment,\n    AttachmentType,\n    Block,\n    FormikFileUploader,\n    MorsAktivitet,\n    NavnPåForeldre,\n    Skjemanummer,\n    getNavnGenitivEierform,\n    hasValue,\n    intlUtils,\n    links,\n} from '@navikt/fp-common';\nimport { FunctionComponent } from 'react';\nimport { FormattedMessage, IntlShape, useIntl } from 'react-intl';\nimport { PeriodeUtsettelseFormField } from '../../periode-utsettelse-form/periodeUtsettelseFormConfig';\nimport { PeriodeUttakFormField } from '../../periode-uttak-form/periodeUttakFormConfig';\nimport { BodyShort, GuidePanel } from '@navikt/ds-react';\n\ninterface Props {\n    fieldName: PeriodeUttakFormField | PeriodeUtsettelseFormField;\n    vedleggFieldName:\n        | PeriodeUttakFormField.aktivitetskravMorDokumentasjon\n        | PeriodeUtsettelseFormField.morsAktivitetIPeriodenDokumentasjon;\n    FormComponents: any;\n    navnPåForeldre: NavnPåForeldre;\n    aktivitetskravMorValue: MorsAktivitet | '';\n    aktivitetskravVedlegg: Attachment[];\n    isOpen: boolean;\n    saveAttachment: (vedlegg: Attachment) => void;\n}\n\nconst getVeilederTekst = (\n    intl: IntlShape,\n    morsAktivitetIPerioden: MorsAktivitet | '',\n    navnPåForeldre: NavnPåForeldre,\n) => {\n    if (morsAktivitetIPerioden === MorsAktivitet.Arbeid) {\n        return (\n            <BodyShort>\n                <FormattedMessage\n                    id=\"uttaksplan.morsAktivitet.veileder.arbeid\"\n                    values={{ navnMor: getNavnGenitivEierform(navnPåForeldre.mor, intl.locale) }}\n                />\n            </BodyShort>\n        );\n    } else if (morsAktivitetIPerioden === MorsAktivitet.ArbeidOgUtdanning) {\n        const listData = [\n            intlUtils(intl, 'uttaksplan.morsAktivitet.veileder.arbeidOgUtdanning.punkt1'),\n            intlUtils(intl, 'uttaksplan.morsAktivitet.veileder.arbeidOgUtdanning.punkt2'),\n            intlUtils(intl, 'uttaksplan.morsAktivitet.veileder.arbeidOgUtdanning.punkt3'),\n            intlUtils(intl, 'uttaksplan.morsAktivitet.veileder.arbeidOgUtdanning.punkt4'),\n        ];\n\n        return (\n            <>\n                <BodyShort>\n                    <FormattedMessage\n                        id=\"uttaksplan.morsAktivitet.veileder.arbeidOgUtdanning\"\n                        values={{ navnMor: navnPåForeldre.mor }}\n                    />\n                </BodyShort>\n                <ul>\n                    {listData.map((listItem, index) => (\n                        <li key={`arbeidOgUtdanning${index}`}>{listItem}</li>\n                    ))}\n                </ul>\n            </>\n        );\n    } else if (\n        morsAktivitetIPerioden === MorsAktivitet.Innlagt ||\n        morsAktivitetIPerioden === MorsAktivitet.TrengerHjelp\n    ) {\n        return (\n            <BodyShort>\n                <FormattedMessage\n                    id=\"uttaksplan.morsAktivitet.veileder.informasjonVedSykdomAnnenForelder\"\n                    values={{ navn: navnPåForeldre.mor }}\n                />\n            </BodyShort>\n        );\n    } else if (morsAktivitetIPerioden === MorsAktivitet.Introduksjonsprogrammet) {\n        return (\n            <BodyShort>\n                <FormattedMessage\n                    id=\"uttaksplan.morsAktivitet.veileder.introduksjonsprogrammet\"\n                    values={{ navnMor: navnPåForeldre.mor }}\n                />\n            </BodyShort>\n        );\n    } else if (morsAktivitetIPerioden === MorsAktivitet.Kvalifiseringsprogrammet) {\n        return (\n            <BodyShort>\n                <FormattedMessage\n                    id=\"uttaksplan.morsAktivitet.veileder.kvalifiseringsprogrammet\"\n                    values={{ navnMor: navnPåForeldre.mor }}\n                />\n            </BodyShort>\n        );\n    } else if (morsAktivitetIPerioden === MorsAktivitet.Utdanning) {\n        const listData = [\n            intlUtils(intl, 'uttaksplan.morsAktivitet.veileder.utdanning.punkt1'),\n            intlUtils(intl, 'uttaksplan.morsAktivitet.veileder.utdanning.punkt2'),\n            intlUtils(intl, 'uttaksplan.morsAktivitet.veileder.utdanning.punkt3'),\n            intlUtils(intl, 'uttaksplan.morsAktivitet.veileder.utdanning.punkt4'),\n        ];\n\n        return (\n            <>\n                <BodyShort>\n                    <FormattedMessage\n                        id=\"uttaksplan.morsAktivitet.veileder.utdanning\"\n                        values={{ navnMor: navnPåForeldre.mor }}\n                    />\n                </BodyShort>\n                <ul>\n                    {listData.map((listItem, index) => (\n                        <li key={`trengerhjelp${index}`}>{listItem}</li>\n                    ))}\n                </ul>\n            </>\n        );\n    } else {\n        return '';\n    }\n};\n\nconst renderOptions = (intl: IntlShape) => {\n    return Object.keys(MorsAktivitet)\n        .filter(\n            (aktivitetsid) =>\n                (MorsAktivitet as any)[aktivitetsid] !== MorsAktivitet.Uføre &&\n                (MorsAktivitet as any)[aktivitetsid] !== MorsAktivitet.IkkeOppgitt,\n        )\n        .map((aktivitetsid) => (\n            <option value={(MorsAktivitet as any)[aktivitetsid]} key={(MorsAktivitet as any)[aktivitetsid]}>\n                {intlUtils(intl, `uttaksplan.morsAktivitet.${aktivitetsid}`)}\n            </option>\n        ));\n};\n\nexport const getMorsAktivitetSkjemanummer = (morsAktivitet?: MorsAktivitet): Skjemanummer => {\n    switch (morsAktivitet) {\n        case MorsAktivitet.Innlagt:\n            return Skjemanummer.DOK_INNLEGGELSE;\n        case MorsAktivitet.Kvalifiseringsprogrammet:\n            return Skjemanummer.BEKREFTELSE_DELTAR_KVALIFISERINGSPROGRAM;\n        case MorsAktivitet.Introduksjonsprogrammet:\n            return Skjemanummer.DOK_DELTAKELSE_I_INTRODUKSJONSPROGRAMMET;\n        case MorsAktivitet.ArbeidOgUtdanning:\n        case MorsAktivitet.Arbeid:\n        case MorsAktivitet.TrengerHjelp:\n            return Skjemanummer.DOK_MORS_UTDANNING_ARBEID_SYKDOM;\n        case MorsAktivitet.Utdanning:\n            return Skjemanummer.BEKREFTELSE_FRA_STUDIESTED;\n        default:\n            return Skjemanummer.ANNET;\n    }\n};\n\nconst AktivitetskravSpørsmål: FunctionComponent<Props> = ({\n    fieldName,\n    vedleggFieldName,\n    navnPåForeldre,\n    aktivitetskravMorValue,\n    aktivitetskravVedlegg,\n    FormComponents,\n    isOpen,\n    saveAttachment,\n}) => {\n    const intl = useIntl();\n\n    return (\n        <>\n            <Block padBottom=\"l\">\n                <FormComponents.Select\n                    name={fieldName}\n                    label={intlUtils(intl, 'uttaksplan.aktivitetskrav', { navnMor: navnPåForeldre.mor })}\n                    validate={(value: MorsAktivitet | '') => {\n                        if (!hasValue(value)) {\n                            return intlUtils(intl, 'uttaksplan.validering.aktivitetskrav');\n                        }\n\n                        return undefined;\n                    }}\n                >\n                    <option value=\"\" />\n                    {renderOptions(intl)}\n                </FormComponents.Select>\n            </Block>\n            <Block padBottom=\"l\" visible={hasValue(aktivitetskravMorValue)}>\n                <GuidePanel>\n                    {getVeilederTekst(intl, aktivitetskravMorValue, navnPåForeldre)}\n                    <BodyShort>\n                        <FormattedMessage\n                            id=\"uttaksplan.morsAktivitet.lesmer\"\n                            values={{\n                                a: (msg: any) => (\n                                    <a\n                                        href={links.morsAktivitetskrav}\n                                        className=\"lenke\"\n                                        rel=\"noreferrer\"\n                                        target=\"_blank\"\n                                    >\n                                        {msg}\n                                    </a>\n                                ),\n                            }}\n                        />\n                    </BodyShort>\n                </GuidePanel>\n            </Block>\n\n            <Block padBottom=\"l\" visible={hasValue(aktivitetskravMorValue) && isOpen}>\n                <FormikFileUploader\n                    legend=\"Dokumentasjon for mors aktivitet\"\n                    label=\"Last opp dokumentasjon for mors aktivitet\"\n                    name={vedleggFieldName}\n                    attachmentType={AttachmentType.MORS_AKTIVITET_DOKUMENTASJON}\n                    skjemanummer={getMorsAktivitetSkjemanummer(aktivitetskravMorValue as MorsAktivitet)}\n                    attachments={aktivitetskravVedlegg}\n                    saveAttachment={saveAttachment}\n                />\n            </Block>\n        </>\n    );\n};\n\nexport default AktivitetskravSpørsmål;\n","import {\n    Attachment,\n    AttachmentType,\n    Forelder,\n    MorsAktivitet,\n    Situasjon,\n    Skjemanummer,\n    StønadskontoType,\n    OverføringÅrsakType,\n    hasValue,\n    Periode,\n    isUttaksperiode,\n    isOverføringsperiode,\n    isOppholdsperiode,\n    getStønadskontoFromOppholdsårsak,\n    Arbeidsform,\n    trimNumberValue,\n    Periodetype,\n    Overføringsperiode,\n    Oppholdsperiode,\n    getOppholdsÅrsakFromStønadskonto,\n    Uttaksperiode,\n    convertBooleanOrUndefinedToYesOrNo,\n    convertYesOrNoOrUndefinedToBoolean,\n    lagSendSenereDokumentNårIngenAndreFinnes,\n    getMorsAktivitet,\n    UttakRundtFødselÅrsak,\n} from '@navikt/fp-common';\nimport { QuestionVisibility } from '@navikt/sif-common-question-config/lib';\nimport dayjs from 'dayjs';\nimport { PeriodeUttakFormData, PeriodeUttakFormField } from './periodeUttakFormConfig';\nimport {\n    erSamtidigUttakFarMedmorFørFødselWLB,\n    erSamtidigUttakFarMedmorFørFørsteSeksUkerWLB,\n} from './periodeUttakFormQuestionsConfig';\nimport { YesOrNo } from '@navikt/sif-common-formik-ds/lib';\nimport { getMorsAktivitetSkjemanummer } from '../spørsmål/aktivitetskrav/AktivitetskravSpørsmål';\n\nconst getInitialKonto = (\n    erDeltUttak: boolean,\n    erMorUfør: boolean,\n    periodenStarterFørFamdato: boolean,\n    erFarEllerMedmor: boolean,\n) => {\n    if (erDeltUttak) {\n        if (periodenStarterFørFamdato && erFarEllerMedmor) {\n            return StønadskontoType.Fedrekvote;\n        }\n\n        return '';\n    }\n\n    if (erFarEllerMedmor && periodenStarterFørFamdato) {\n        return StønadskontoType.AktivitetsfriKvote;\n    }\n\n    if (erMorUfør) {\n        return '';\n    }\n\n    return StønadskontoType.Foreldrepenger;\n};\n\nconst getHvemSkalTaUttak = (\n    erDeltUttak: boolean,\n    forelder: Forelder,\n    periodenStarterFørFamdato: boolean,\n    erFarEllerMedmor: boolean,\n    annenForelderHarRettIEØS: boolean,\n) => {\n    if (erDeltUttak) {\n        if ((periodenStarterFørFamdato || annenForelderHarRettIEØS) && erFarEllerMedmor) {\n            return Forelder.farMedmor;\n        }\n        if (annenForelderHarRettIEØS) {\n            return erFarEllerMedmor ? Forelder.farMedmor : Forelder.mor;\n        }\n\n        return '';\n    }\n\n    return forelder;\n};\n\nconst getInitialValues = (\n    erDeltUttak: boolean,\n    forelder: Forelder,\n    erMorUfør: boolean,\n    familiehendelsesdato: Date,\n    startdatoPeriode: Date | undefined,\n    erFarEllerMedmor: boolean,\n    annenForelderHarRettIEØS: boolean,\n): PeriodeUttakFormData => {\n    const periodenStarterFørFamdato = startdatoPeriode\n        ? dayjs(startdatoPeriode).isBefore(familiehendelsesdato, 'day')\n        : false;\n    const hvemSkalTaUttak = getHvemSkalTaUttak(\n        erDeltUttak,\n        forelder,\n        periodenStarterFørFamdato,\n        erFarEllerMedmor,\n        annenForelderHarRettIEØS,\n    );\n    const konto = getInitialKonto(erDeltUttak, erMorUfør, periodenStarterFørFamdato, erFarEllerMedmor);\n\n    return {\n        [PeriodeUttakFormField.fom]: undefined,\n        [PeriodeUttakFormField.tom]: undefined,\n        [PeriodeUttakFormField.konto]: konto,\n        [PeriodeUttakFormField.samtidigUttak]: YesOrNo.UNANSWERED,\n        [PeriodeUttakFormField.aktivitetskravMor]: '',\n        [PeriodeUttakFormField.aktivitetskravMorDokumentasjon]: [],\n        [PeriodeUttakFormField.overføringsårsak]: '',\n        [PeriodeUttakFormField.overføringsdokumentasjon]: [],\n        [PeriodeUttakFormField.skalHaGradering]: YesOrNo.UNANSWERED,\n        [PeriodeUttakFormField.stillingsprosent]: '',\n        [PeriodeUttakFormField.arbeidsformer]: '',\n        [PeriodeUttakFormField.erMorForSyk]: YesOrNo.UNANSWERED,\n        [PeriodeUttakFormField.erMorForSykDokumentasjon]: [],\n        [PeriodeUttakFormField.uttakRundtFødselÅrsak]: '',\n        [PeriodeUttakFormField.samtidigUttakProsent]: '',\n        [PeriodeUttakFormField.hvemSkalTaUttak]: hvemSkalTaUttak,\n        [PeriodeUttakFormField.ønskerFlerbarnsdager]: YesOrNo.UNANSWERED,\n    };\n};\n\nexport const cleanPeriodeUttakFormData = (\n    values: PeriodeUttakFormData,\n    visibility: QuestionVisibility<PeriodeUttakFormField, undefined>,\n    erDeltUttak: boolean,\n    forelder: Forelder,\n    erMorUfør: boolean,\n    familiehendelsesdato: Date,\n    erFarEllerMedmor: boolean,\n    annenForelderHarRettIEØS: boolean,\n): PeriodeUttakFormData => {\n    const initialValues = getInitialValues(\n        erDeltUttak,\n        forelder,\n        erMorUfør,\n        familiehendelsesdato,\n        values.fom,\n        erFarEllerMedmor,\n        annenForelderHarRettIEØS,\n    );\n\n    const cleanedData: PeriodeUttakFormData = {\n        fom: values.fom,\n        tom: values.tom,\n        hvemSkalTaUttak: values.hvemSkalTaUttak,\n        aktivitetskravMor: visibility.isVisible(PeriodeUttakFormField.aktivitetskravMor)\n            ? values.aktivitetskravMor\n            : '',\n        aktivitetskravMorDokumentasjon: visibility.isVisible(PeriodeUttakFormField.aktivitetskravMorDokumentasjon)\n            ? values.aktivitetskravMorDokumentasjon\n            : [],\n        erMorForSyk: visibility.isVisible(PeriodeUttakFormField.erMorForSyk)\n            ? values.erMorForSyk\n            : initialValues.erMorForSyk,\n        erMorForSykDokumentasjon:\n            visibility.isVisible(PeriodeUttakFormField.erMorForSyk) ||\n            values.uttakRundtFødselÅrsak === UttakRundtFødselÅrsak.morErForSyk\n                ? values.erMorForSykDokumentasjon\n                : initialValues.erMorForSykDokumentasjon,\n        uttakRundtFødselÅrsak: visibility.isVisible(PeriodeUttakFormField.uttakRundtFødselÅrsak)\n            ? values.uttakRundtFødselÅrsak\n            : initialValues.uttakRundtFødselÅrsak,\n        arbeidsformer: visibility.isVisible(PeriodeUttakFormField.arbeidsformer) ? values.arbeidsformer : '',\n        konto: values.konto,\n        overføringsdokumentasjon: visibility.isVisible(PeriodeUttakFormField.overføringsdokumentasjon)\n            ? values.overføringsdokumentasjon\n            : [],\n        overføringsårsak: visibility.isVisible(PeriodeUttakFormField.overføringsårsak)\n            ? values.overføringsårsak\n            : initialValues.overføringsårsak,\n        samtidigUttak: visibility.isVisible(PeriodeUttakFormField.samtidigUttak)\n            ? values.samtidigUttak\n            : initialValues.samtidigUttak,\n        samtidigUttakProsent: visibility.isVisible(PeriodeUttakFormField.samtidigUttakProsent)\n            ? values.samtidigUttakProsent\n            : initialValues.samtidigUttakProsent,\n        skalHaGradering: visibility.isVisible(PeriodeUttakFormField.skalHaGradering)\n            ? values.skalHaGradering\n            : initialValues.skalHaGradering,\n        stillingsprosent: visibility.isVisible(PeriodeUttakFormField.stillingsprosent)\n            ? values.stillingsprosent\n            : initialValues.stillingsprosent,\n        ønskerFlerbarnsdager: visibility.isVisible(PeriodeUttakFormField.ønskerFlerbarnsdager)\n            ? values.ønskerFlerbarnsdager\n            : initialValues.ønskerFlerbarnsdager,\n    };\n\n    return cleanedData;\n};\n\nconst getInitialÅrsakForUttakRundtFødsel = (\n    erMorForSyk: boolean | undefined,\n    ønskerSamtidigUttak: boolean | undefined,\n    erDeltUttak: boolean,\n): UttakRundtFødselÅrsak | undefined => {\n    if (!erDeltUttak) {\n        return undefined;\n    }\n    if (erMorForSyk) {\n        return UttakRundtFødselÅrsak.morErForSyk;\n    }\n    if (ønskerSamtidigUttak) {\n        return UttakRundtFødselÅrsak.samtidigUttak;\n    }\n    return undefined;\n};\n\nexport const getPeriodeUttakFormInitialValues = (\n    periode: Periode,\n    erDeltUttak: boolean,\n    forelder: Forelder,\n    erMorUfør: boolean,\n    familiehendelsesdato: Date,\n    erFarEllerMedmor: boolean,\n    annenForelderHarRettIEØS: boolean,\n): PeriodeUttakFormData => {\n    const initialValues = getInitialValues(\n        erDeltUttak,\n        forelder,\n        erMorUfør,\n        familiehendelsesdato,\n        periode.tidsperiode.fom,\n        erFarEllerMedmor,\n        annenForelderHarRettIEØS,\n    );\n\n    if (periode !== undefined) {\n        if (isUttaksperiode(periode)) {\n            return {\n                ...initialValues,\n                fom: periode.tidsperiode.fom,\n                tom: periode.tidsperiode.tom,\n                aktivitetskravMor: periode.morsAktivitetIPerioden || '',\n                aktivitetskravMorDokumentasjon: periode.vedlegg || [],\n                erMorForSyk: convertBooleanOrUndefinedToYesOrNo(periode.erMorForSyk),\n                erMorForSykDokumentasjon: periode.vedlegg || [],\n                hvemSkalTaUttak: periode.forelder || initialValues.hvemSkalTaUttak,\n                arbeidsformer:\n                    periode.arbeidsformer && periode.arbeidsformer.length > 0\n                        ? getFrilansSNEllerOrgnr(periode.arbeidsformer, periode.orgnumre)\n                        : '',\n                konto: periode.konto || initialValues.konto,\n                samtidigUttak: convertBooleanOrUndefinedToYesOrNo(periode.ønskerSamtidigUttak),\n                samtidigUttakProsent: periode.samtidigUttakProsent || '',\n                skalHaGradering: convertBooleanOrUndefinedToYesOrNo(periode.gradert),\n                stillingsprosent: periode.stillingsprosent || '',\n                ønskerFlerbarnsdager: convertBooleanOrUndefinedToYesOrNo(periode.ønskerFlerbarnsdager),\n                uttakRundtFødselÅrsak:\n                    getInitialÅrsakForUttakRundtFødsel(periode.erMorForSyk, periode.ønskerSamtidigUttak, erDeltUttak) ||\n                    initialValues.uttakRundtFødselÅrsak,\n            };\n        }\n\n        if (isOverføringsperiode(periode)) {\n            return {\n                ...initialValues,\n                hvemSkalTaUttak: periode.forelder,\n                konto: periode.konto,\n                fom: periode.tidsperiode.fom,\n                tom: periode.tidsperiode.tom,\n                overføringsårsak: periode.årsak,\n                overføringsdokumentasjon: periode.vedlegg || [],\n            };\n        }\n\n        if (isOppholdsperiode(periode)) {\n            return {\n                ...initialValues,\n                hvemSkalTaUttak: periode.forelder,\n                konto: getStønadskontoFromOppholdsårsak(periode.årsak),\n                fom: periode.tidsperiode.fom,\n                tom: periode.tidsperiode.tom,\n            };\n        }\n\n        return {\n            ...initialValues,\n            fom: periode.tidsperiode.fom,\n            tom: periode.tidsperiode.tom,\n        };\n    }\n\n    return {\n        ...initialValues,\n    };\n};\n\nconst getFrilansSNEllerOrgnr = (arbeidsformer: Arbeidsform[], orgnumre?: string[]): Arbeidsform => {\n    if (arbeidsformer.includes(Arbeidsform.frilans) || arbeidsformer.includes(Arbeidsform.selvstendignæringsdrivende)) {\n        return arbeidsformer[0];\n    }\n\n    return orgnumre![0] as Arbeidsform;\n};\n\nconst getArbeidsform = (arbeidsformer: Arbeidsform[]): Arbeidsform[] => {\n    return arbeidsformer.includes(Arbeidsform.frilans) || arbeidsformer.includes(Arbeidsform.selvstendignæringsdrivende)\n        ? arbeidsformer\n        : [Arbeidsform.arbeidstaker];\n};\n\nconst getOrgnummer = (arbeidsformer: Arbeidsform[]): string[] => {\n    return arbeidsformer.includes(Arbeidsform.frilans) || arbeidsformer.includes(Arbeidsform.selvstendignæringsdrivende)\n        ? []\n        : arbeidsformer;\n};\n\nconst getErArbeidstaker = (arbeidsformer: Arbeidsform[]): boolean => {\n    return (\n        arbeidsformer.includes(Arbeidsform.frilans) || arbeidsformer.includes(Arbeidsform.selvstendignæringsdrivende)\n    );\n};\n\nconst getSamtidigUttaksProsentWLB = (\n    ønskerGradering: boolean | undefined,\n    dekningsgrad: string | undefined,\n): string => {\n    return ønskerGradering && dekningsgrad !== undefined\n        ? (100 - parseFloat(trimNumberValue(dekningsgrad))).toString()\n        : '100';\n};\n\nconst velgVedleggSomSkalBrukes = (\n    aktivitetskravMorDokumentasjon: Attachment[],\n    erMorForSykDokumentasjon: Attachment[],\n): Attachment[] => {\n    if (aktivitetskravMorDokumentasjon.length > 0) {\n        return aktivitetskravMorDokumentasjon;\n    }\n\n    return erMorForSykDokumentasjon;\n};\n\nconst skalVedleggPåkreves = (\n    morsAktivitetIPerioden: '' | MorsAktivitet | undefined,\n    erMorForSyk: boolean,\n    uttakRundtFødselÅrsak: UttakRundtFødselÅrsak | '' | undefined,\n): boolean => {\n    if (\n        hasValue(morsAktivitetIPerioden) ||\n        erMorForSyk ||\n        (uttakRundtFødselÅrsak !== undefined && uttakRundtFødselÅrsak === UttakRundtFødselÅrsak.morErForSyk)\n    ) {\n        return true;\n    }\n\n    return false;\n};\n\nconst getKontoVerdi = (\n    samtidigWLBUttakFørFødselFarMedmor: boolean,\n    erFarEllerMedmor: boolean,\n    erDeltUttak: boolean,\n    startDato: Date,\n    inputKonto: StønadskontoType,\n    familiehendelsesdato: Date,\n): StønadskontoType => {\n    if (samtidigWLBUttakFørFødselFarMedmor) {\n        return StønadskontoType.Fedrekvote;\n    }\n    if (!erDeltUttak && erFarEllerMedmor && dayjs(startDato).isBefore(familiehendelsesdato, 'day')) {\n        return StønadskontoType.AktivitetsfriKvote;\n    }\n\n    return inputKonto;\n};\n\nexport const mapPeriodeUttakFormToPeriode = (\n    values: Partial<PeriodeUttakFormData>,\n    id: string,\n    type: Periodetype,\n    familiehendelsesdato: Date,\n    erFarEllerMedmor: boolean,\n    erDeltUttak: boolean,\n    situasjon: Situasjon,\n): Periode => {\n    if (type === Periodetype.Overføring) {\n        const overføringTrengerDokumentasjon =\n            values.overføringsårsak !== OverføringÅrsakType.aleneomsorg &&\n            values.overføringsårsak !== OverføringÅrsakType.ikkeRettAnnenForelder;\n        const vedlegg = overføringTrengerDokumentasjon\n            ? lagSendSenereDokumentNårIngenAndreFinnes(\n                  values.overføringsdokumentasjon!,\n                  AttachmentType.OVERFØRING_KVOTE,\n                  Skjemanummer.DOK_OVERFØRING_FOR_SYK,\n              )\n            : undefined;\n        const periode: Overføringsperiode = {\n            id,\n            type,\n            forelder: values.hvemSkalTaUttak as Forelder,\n            konto: values.konto as StønadskontoType,\n            tidsperiode: {\n                fom: values.fom!,\n                tom: values.tom!,\n            },\n            årsak: values.overføringsårsak as OverføringÅrsakType,\n            vedlegg,\n        };\n\n        return periode;\n    }\n\n    if (type === Periodetype.Opphold) {\n        const periode: Oppholdsperiode = {\n            id,\n            type,\n            forelder: values.hvemSkalTaUttak as Forelder,\n            årsak: getOppholdsÅrsakFromStønadskonto(values.konto as StønadskontoType)!,\n            tidsperiode: {\n                fom: values.fom!,\n                tom: values.tom!,\n            },\n        };\n\n        return periode;\n    }\n    const samtidigWLBUttakFørFødselFarMedmor = erSamtidigUttakFarMedmorFørFødselWLB(\n        values,\n        familiehendelsesdato,\n        erFarEllerMedmor,\n        erDeltUttak,\n        situasjon,\n    );\n    const samtidigWLBUttakFørFørsteSeksUkerFarMedmor = erSamtidigUttakFarMedmorFørFørsteSeksUkerWLB(\n        values,\n        familiehendelsesdato,\n        erFarEllerMedmor,\n        erDeltUttak,\n        situasjon,\n    );\n    const attachmentType = hasValue(values.aktivitetskravMor)\n        ? AttachmentType.MORS_AKTIVITET_DOKUMENTASJON\n        : AttachmentType.UTSETTELSE_SYKDOM;\n\n    const skjemanummer = hasValue(values.aktivitetskravMor)\n        ? getMorsAktivitetSkjemanummer(values.aktivitetskravMor as MorsAktivitet)\n        : Skjemanummer.DOK_MORS_UTDANNING_ARBEID_SYKDOM;\n\n    const relevantVedlegg = velgVedleggSomSkalBrukes(\n        values.aktivitetskravMorDokumentasjon!,\n        values.erMorForSykDokumentasjon!,\n    );\n\n    const morErForSyk =\n        hasValue(values.uttakRundtFødselÅrsak) && values.uttakRundtFødselÅrsak === UttakRundtFødselÅrsak.morErForSyk\n            ? true\n            : convertYesOrNoOrUndefinedToBoolean(values.erMorForSyk);\n\n    const erSamtidigUttak =\n        values.uttakRundtFødselÅrsak === UttakRundtFødselÅrsak.samtidigUttak || samtidigWLBUttakFørFødselFarMedmor\n            ? true\n            : convertYesOrNoOrUndefinedToBoolean(values.samtidigUttak);\n\n    const samtidigUttakProsentInputVerdi = hasValue(values.samtidigUttakProsent)\n        ? trimNumberValue(values.samtidigUttakProsent!)\n        : undefined;\n\n    const samtidigUttakProsentVerdi =\n        values.uttakRundtFødselÅrsak === UttakRundtFødselÅrsak.samtidigUttak || samtidigWLBUttakFørFødselFarMedmor\n            ? getSamtidigUttaksProsentWLB(\n                  convertYesOrNoOrUndefinedToBoolean(values.skalHaGradering),\n                  values.stillingsprosent,\n              )\n            : samtidigUttakProsentInputVerdi;\n\n    const forelderVerdi = samtidigWLBUttakFørFørsteSeksUkerFarMedmor\n        ? Forelder.farMedmor\n        : (values.hvemSkalTaUttak as Forelder);\n\n    const kontoVerdi = getKontoVerdi(\n        samtidigWLBUttakFørFødselFarMedmor,\n        erFarEllerMedmor,\n        erDeltUttak,\n        values.fom!,\n        values.konto as StønadskontoType,\n        familiehendelsesdato,\n    );\n\n    const periode: Uttaksperiode = {\n        id,\n        forelder: forelderVerdi,\n        konto: kontoVerdi,\n        tidsperiode: {\n            fom: values.fom!,\n            tom: values.tom!,\n        },\n        type: Periodetype.Uttak,\n        arbeidsformer: hasValue(values.arbeidsformer)\n            ? getArbeidsform([values.arbeidsformer as Arbeidsform])\n            : undefined,\n        morsAktivitetIPerioden: getMorsAktivitet(\n            values.aktivitetskravMor,\n            convertYesOrNoOrUndefinedToBoolean(values.erMorForSyk),\n        ),\n\n        erArbeidstaker: getErArbeidstaker(\n            hasValue(values.arbeidsformer) ? getArbeidsform([values.arbeidsformer as Arbeidsform]) : [],\n        ),\n        erMorForSyk: morErForSyk,\n        gradert: convertYesOrNoOrUndefinedToBoolean(values.skalHaGradering),\n        harIkkeAktivitetskrav: values.konto === StønadskontoType.AktivitetsfriKvote ? true : undefined,\n        orgnumre: getOrgnummer(hasValue(values.arbeidsformer) ? [values.arbeidsformer as Arbeidsform] : []),\n        stillingsprosent: hasValue(values.stillingsprosent) ? trimNumberValue(values.stillingsprosent!) : undefined,\n        ønskerFlerbarnsdager: convertYesOrNoOrUndefinedToBoolean(values.ønskerFlerbarnsdager),\n        ønskerSamtidigUttak: erSamtidigUttak,\n        samtidigUttakProsent: samtidigUttakProsentVerdi,\n        vedlegg: skalVedleggPåkreves(\n            values.aktivitetskravMor,\n            convertYesOrNoOrUndefinedToBoolean(values.erMorForSyk) || false,\n            values.uttakRundtFødselÅrsak,\n        )\n            ? lagSendSenereDokumentNårIngenAndreFinnes(relevantVedlegg, attachmentType, skjemanummer)\n            : [],\n    };\n\n    return periode;\n};\n","import { IntlShape, useIntl } from 'react-intl';\nimport { formatDate, Block, intlUtils, TidsperiodeDate, bemUtils } from '@navikt/fp-common';\nimport { BodyShort, Label, Link } from '@navikt/ds-react';\n\nimport './tidsperiodeDisplay.less';\n\ninterface Props {\n    tidsperiode: Partial<TidsperiodeDate> | undefined;\n    toggleVisTidsperiode: () => void;\n}\n\nconst bem = bemUtils('tidsperiodeDisplay');\n\nconst formaterTidsperiodeDato = (dato: Date | undefined) => {\n    if (dato) {\n        return formatDate(dato);\n    }\n\n    return 'Ingen valgt dato';\n};\n\nconst renderTidsperiode = (tidsperiode: Partial<TidsperiodeDate> | undefined, intl: IntlShape) => {\n    if (tidsperiode) {\n        return (\n            <div className={bem.element('dato-container')}>\n                <div className={bem.element('dato')}>\n                    <Label>{`${intlUtils(intl, 'fraogmed')}:`}</Label>\n                    <BodyShort>{formaterTidsperiodeDato(tidsperiode.fom)}</BodyShort>\n                </div>\n                <div className={bem.element('dato')}>\n                    <Label>{`${intlUtils(intl, 'tilogmed')}:`}</Label>\n                    <BodyShort>{formaterTidsperiodeDato(tidsperiode.tom)}</BodyShort>\n                </div>\n            </div>\n        );\n    }\n\n    return 'Ingen valgt tidsperiode';\n};\n\nconst TidsperiodeDisplay: React.FunctionComponent<Props> = ({ tidsperiode, toggleVisTidsperiode }) => {\n    const intl = useIntl();\n\n    return (\n        <Block padBottom=\"l\">\n            <Label>Tidsrom</Label>\n            <div className={bem.block}>\n                {renderTidsperiode(tidsperiode, intl)}\n                <Link\n                    href=\"#\"\n                    onClick={(e: React.MouseEvent<HTMLAnchorElement, MouseEvent>) => {\n                        e.preventDefault();\n                        e.stopPropagation();\n                        toggleVisTidsperiode();\n                    }}\n                >\n                    <BodyShort>Endre tidsrom</BodyShort>\n                </Link>\n            </div>\n        </Block>\n    );\n};\n\nexport default TidsperiodeDisplay;\n","import { Component } from 'react';\n\ninterface RangeIconProps {\n    type: 'plus' | 'minus';\n}\n\nexport default class RangeIcon extends Component<RangeIconProps> {\n    renderPlusIcon() {\n        return (\n            <path\n                d=\"M18.2616283,12.5217391 L12.5222595,12.5217391 L12.5222595,18.2608696 C12.5222595,18.5488696 12.2874672,18.7826087 12.0004988,18.7826087 C11.7124868,18.7826087 11.478738,18.5488696 11.478738,18.2608696 L11.478738,12.5217391 L5.73936926,12.5217391 C5.4513573,12.5206957 5.21656494,12.288 5.21760846,12 C5.21760846,11.7130435 5.4513573,11.4782609 5.73936926,11.4782609 L11.478738,11.4782609 L11.478738,5.73913043 C11.478738,5.45113043 11.7124868,5.2173913 12.0004988,5.2173913 C12.2874672,5.2173913 12.5222595,5.45113043 12.5222595,5.73913043 L12.5222595,11.4782609 L18.2616283,11.4782609 C18.5485967,11.4782609 18.7844326,11.712 18.783389,12 C18.783389,12.288 18.5496402,12.5217391 18.2616283,12.5217391 Z\"\n                id=\"Inner\"\n                fill=\"#FFFFFF\"\n            />\n        );\n    }\n\n    renderMinusIcon() {\n        return (\n            <path\n                d=\"M18.2616283,12.5217391 L5.73936926,12.5217391 C5.4513573,12.5206957 5.21656494,12.288 5.21760846,12 C5.21760846,11.7130435 5.4513573,11.4782609 5.73936926,11.4782609 L18.2616283,11.4782609 C18.5485967,11.4782609 18.7844326,11.712 18.783389,12 C18.783389,12.288 18.5496402,12.5217391 18.2616283,12.5217391 Z\"\n                id=\"Inner\"\n                fill=\"#FFFFFF\"\n            />\n        );\n    }\n\n    render() {\n        const { type } = this.props;\n        const icon = type === 'minus' ? this.renderMinusIcon() : this.renderPlusIcon();\n\n        return (\n            <svg\n                focusable=\"false\"\n                role=\"img\"\n                aria-hidden=\"true\"\n                width=\"24px\"\n                height=\"24px\"\n                viewBox=\"0 0 24 24\"\n                className=\"rangeIcon\"\n            >\n                <g id=\"Icons/subtract/default\" stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\n                    {icon}\n                </g>\n            </svg>\n        );\n    }\n}\n","import { FunctionComponent, ReactNode, createElement } from 'react';\n\n/**\n *  Skjuler tekst slik at den ikke er synlig på skjerm, men leses av skjermleser\n */\nexport interface AriaTextProps {\n    id?: string;\n    children?: ReactNode;\n    tag?: string;\n}\n\nconst AriaText: FunctionComponent<AriaTextProps> = ({ id, children, tag }) => {\n    const tagName = tag || 'span';\n    return createElement(tagName, { id, className: 'sr-only' }, children);\n};\n\nexport default AriaText;\n","// Ensure touches occur rapidly\nconst delay = 500;\n// Sequential touches must be in close vicinity\nconst minZoomTouchDelta = 10;\n\n// Track state of the last touch\nlet lastTapAt = 0;\nlet lastClientX = 0;\nlet lastClientY = 0;\n\nexport default function preventDoubleTapZoom(event: React.TouchEvent<any>) {\n    // Exit early if this involves more than one finger (e.g. pinch to zoom)\n    if (event.touches.length > 1) {\n        return;\n    }\n\n    const tapAt = new Date().getTime();\n    const timeDiff = tapAt - lastTapAt;\n    const { clientX, clientY } = event.touches[0];\n    const xDiff = Math.abs(lastClientX - clientX);\n    const yDiff = Math.abs(lastClientY - clientY);\n    if (xDiff < minZoomTouchDelta && yDiff < minZoomTouchDelta && event.touches.length === 1 && timeDiff < delay) {\n        event.preventDefault();\n        // Trigger a fake click for the tap we just prevented\n        (event.target as any).click();\n    }\n    lastClientX = clientX;\n    lastClientY = clientY;\n    lastTapAt = tapAt;\n}\n","import classnames from 'classnames';\nimport AriaText from '../aria-text/AriaText';\nimport { guid } from '@navikt/fp-common';\n\nimport './sirkelknapp.less';\nimport preventDoubleTapZoom from '../../utils/preventDoubleTapZoom';\n\nexport type Stil = 'hvit' | 'bla' | 'info';\n\nexport interface SirkelknappProps {\n    /** Tekst som blir lest opp og satt som tittel på knappen */\n    ariaLabel: string;\n    /** Ikon som brukes inne i knappen */\n    ikon: React.ReactNode;\n    /** Funksjon som kalles knappen klikkes på */\n    onClick: () => void;\n    /** Om knappen er disabled eller ikke. Default false. */\n    disabled?: boolean;\n    /** Om knappen skal ha tilstanded pressed/valgt. Default false. */\n    toggle?: {\n        pressed: boolean;\n    };\n    /** Layout varianter */\n    stil?: Stil;\n    /** Størrelse - default normal */\n    size?: 'normal' | 'stor';\n    posisjoneringFraHøyre?: number;\n}\n\nconst Sirkelknapp: React.FunctionComponent<SirkelknappProps> = ({\n    onClick,\n    ariaLabel,\n    ikon,\n    toggle,\n    disabled,\n    stil = 'info',\n    size = 'normal',\n    posisjoneringFraHøyre,\n}) => {\n    const labelId = guid();\n    return (\n        <button\n            style={{ left: posisjoneringFraHøyre }}\n            type=\"button\"\n            onClick={() => onClick()}\n            onTouchStart={preventDoubleTapZoom}\n            aria-labelledby={labelId}\n            className={classnames(`sirkelknapp`, `sirkelknapp--${stil}`, `sirkelknapp--${size}`, {\n                'sirkelknapp--pressed': toggle && toggle.pressed,\n                'sirkelknapp--disabled': disabled,\n            })}\n            disabled={disabled}\n            aria-pressed={toggle ? toggle.pressed : undefined}\n        >\n            <span className=\"sirkelknapp__ikon\" role=\"presentation\">\n                {ikon}\n            </span>\n            <AriaText id={labelId}>{ariaLabel}</AriaText>\n        </button>\n    );\n};\n\nexport default Sirkelknapp;\n","import RangeIcon from '../../assets/RangeIcon';\nimport Sirkelknapp from '../sirkelknapp/Sirkelknapp';\n\nexport type Direction = 'next' | 'previous';\n\nexport interface Props {\n    onClick: () => void;\n    direction: Direction;\n    label: string;\n    disabled?: boolean;\n}\n\nconst StepperKnapp: React.FunctionComponent<Props> = ({ direction, onClick, label, disabled }) => (\n    <Sirkelknapp\n        stil=\"hvit\"\n        onClick={() => onClick()}\n        ariaLabel={label}\n        disabled={disabled}\n        ikon={direction === 'previous' ? <RangeIcon type=\"minus\" /> : <RangeIcon type=\"plus\" />}\n    />\n);\n\nexport default StepperKnapp;\n","import StepperKnapp from './StepperKnapp';\nimport { bemUtils } from '@navikt/fp-common';\n\nimport './numberStepper.less';\n\nexport interface Props {\n    value: number;\n    increaseAriaLabel: string;\n    decreaseAriaLabel: string;\n    stepSize?: number;\n    max?: number;\n    min?: number;\n    onChange: (value: number) => void;\n    legendId?: string;\n}\n\nconst bem = bemUtils('numberStepper');\n\nconst NumberStepper: React.FunctionComponent<Props> = ({\n    value,\n    min,\n    max,\n    stepSize = 1,\n    legendId,\n    onChange,\n    increaseAriaLabel,\n    decreaseAriaLabel,\n}) => {\n    const canDecrease = min === undefined || value > min;\n    const canIncrease = max === undefined || value < max;\n    return (\n        <div className={bem.block}>\n            <div className={bem.element('decrease')}>\n                <StepperKnapp\n                    direction=\"previous\"\n                    disabled={canDecrease === false}\n                    onClick={() => onChange(value - stepSize)}\n                    label={decreaseAriaLabel}\n                />\n            </div>\n            <div className={bem.element('input')}>\n                <input\n                    type=\"number\"\n                    value={value}\n                    onChange={(evt) => onChange(parseInt(evt.target.value, 10))}\n                    aria-labelledby={legendId}\n                />\n            </div>\n            <div className={bem.element('increase')}>\n                <StepperKnapp\n                    direction=\"next\"\n                    disabled={canIncrease === false}\n                    onClick={() => onChange(value + stepSize)}\n                    label={increaseAriaLabel}\n                />\n            </div>\n        </div>\n    );\n};\n\nexport default NumberStepper;\n","import { Label } from '@navikt/ds-react';\nimport { Block, Fieldset, bemUtils, guid } from '@navikt/fp-common';\nimport NumberStepper, { Props as NumberStepperProps } from './../number-stepper/NumberStepper';\n\nimport './ukerDagerTeller.less';\n\nexport interface Props {\n    ukeLegend: string;\n    dagLegend: string;\n    ukeStepper: NumberStepperProps;\n    dagStepper: NumberStepperProps;\n}\n\nconst UkerDagerTeller: React.FunctionComponent<Props> = ({ ukeStepper, dagStepper, ukeLegend, dagLegend }) => {\n    const bem = bemUtils('ukerDagerTeller');\n    const ukeLegendId = guid();\n    const dagLegendId = guid();\n    return (\n        <>\n            <legend>\n                <Label as=\"span\">Varighet på perioden</Label>\n            </legend>\n            <div className={bem.block}>\n                <div className={bem.element('ukerFelt')}>\n                    <Block padBottom=\"l\">\n                        <Fieldset legend={<span id={ukeLegendId}>{ukeLegend}</span>}>\n                            <NumberStepper {...ukeStepper} legendId={ukeLegendId} />\n                        </Fieldset>\n                    </Block>\n                </div>\n                <Fieldset legend={<span id={dagLegendId}>{dagLegend}</span>}>\n                    <NumberStepper {...dagStepper} legendId={dagLegendId} />\n                </Fieldset>\n            </div>\n        </>\n    );\n};\n\nexport default UkerDagerTeller;\n","import { useIntl } from 'react-intl';\nimport dayjs from 'dayjs';\nimport TidsperiodeForm, { TidsperiodeFormValues } from '../uttaks-forms/tidsperiode-form/TidsperiodeForm';\nimport {\n    Block,\n    getTidsperiode,\n    getUkerOgDagerFromDager,\n    intlUtils,\n    isForeldrepengerFørFødselUttaksperiode,\n    Periode,\n    Situasjon,\n    Tidsperiode,\n    TidsperiodeDate,\n    Tidsperioden,\n    Utsettelsesperiode,\n} from '@navikt/fp-common';\nimport UkerDagerTeller from './../uker-dager-teller/UkerDagerTeller';\nimport { Modal } from '@navikt/ds-react';\n\ninterface Props {\n    periode: Periode;\n    tidsperiode: TidsperiodeDate;\n    familiehendelsesdato: Date;\n    ugyldigeTidsperioder: Tidsperiode[] | undefined;\n    utsettelserIPlan: Utsettelsesperiode[];\n    visible: boolean;\n    onAvbryt: () => void;\n    onBekreft: (tidsperiode: TidsperiodeFormValues) => void;\n    changeTidsperiode: (tidsperiode: Partial<TidsperiodeDate>) => void;\n    erFarEllerMedmor: boolean;\n    morHarRett: boolean;\n    situasjon: Situasjon;\n    erFarMedmorOgHarAleneomsorg: boolean;\n    termindato?: Date;\n}\n\nconst UttakEndreTidsperiodeSpørsmål: React.FunctionComponent<Props> = ({\n    onBekreft,\n    onAvbryt,\n    changeTidsperiode,\n    visible,\n    periode,\n    tidsperiode,\n    familiehendelsesdato,\n    ugyldigeTidsperioder,\n    utsettelserIPlan,\n    termindato,\n    erFarEllerMedmor,\n    morHarRett,\n    situasjon,\n    erFarMedmorOgHarAleneomsorg,\n}) => {\n    const intl = useIntl();\n    const erForeldrepengerFørFødsel = isForeldrepengerFørFødselUttaksperiode(periode);\n    const initialMonth = erForeldrepengerFørFødsel ? familiehendelsesdato : undefined;\n    const varighetIDager = dayjs(tidsperiode.fom).isSameOrBefore(tidsperiode.tom, 'day')\n        ? Tidsperioden({\n              fom: tidsperiode.fom,\n              tom: tidsperiode.tom,\n          }).getAntallUttaksdager()\n        : undefined;\n    const { uker, dager } = varighetIDager ? getUkerOgDagerFromDager(Math.abs(varighetIDager)) : { uker: 0, dager: 0 };\n    const handleOnSubmit = (values: TidsperiodeFormValues) => {\n        onBekreft(values);\n    };\n\n    const getDagValue = (uker: number, dager: number): number => {\n        if (dager >= 5) {\n            return 0;\n        }\n\n        if (uker === 0 && dager === 0) {\n            return 1;\n        }\n\n        return dager;\n    };\n\n    return (\n        <>\n            <Modal open={visible} closeButton={true} onClose={onAvbryt} aria-label=\"Endre tidsperiode\">\n                <Modal.Content>\n                    <TidsperiodeForm\n                        familiehendelsesdato={familiehendelsesdato}\n                        onBekreft={handleOnSubmit}\n                        periode={periode}\n                        tidsperiode={tidsperiode}\n                        ugyldigeTidsperioder={ugyldigeTidsperioder}\n                        utsettelserIPlan={utsettelserIPlan}\n                        initialMonth={initialMonth}\n                        termindato={termindato}\n                        erFarEllerMedmor={erFarEllerMedmor}\n                        morHarRett={morHarRett}\n                        situasjon={situasjon}\n                        erFarMedmorOgHarAleneomsorg={erFarMedmorOgHarAleneomsorg}\n                    />\n                </Modal.Content>\n            </Modal>\n            <Block padBottom=\"m\">\n                <UkerDagerTeller\n                    ukeLegend={intlUtils(intl, 'uker.label')}\n                    dagLegend={intlUtils(intl, 'dager.label')}\n                    ukeStepper={{\n                        value: uker !== undefined ? uker : 0,\n                        min: 0,\n                        max: 100,\n                        onChange: (nyUker: number) => {\n                            const date = tidsperiode.fom;\n                            if (date) {\n                                changeTidsperiode({\n                                    fom: date,\n                                    tom: getTidsperiode(date, Math.min(nyUker, 200) * 5 + getDagValue(nyUker, dager))\n                                        .tom,\n                                });\n                            }\n                        },\n                        increaseAriaLabel: 'Øk antall uker med en uke',\n                        decreaseAriaLabel: 'Mink antall uker med en uke',\n                    }}\n                    dagStepper={{\n                        value: getDagValue(uker, dager),\n                        min: uker === 0 ? 1 : 0,\n                        max: 5,\n                        onChange: (nyDager: number) => {\n                            const date = tidsperiode.fom;\n                            const ekstraUke = nyDager === 5 ? 1 : 0;\n\n                            if (date) {\n                                changeTidsperiode({\n                                    fom: date,\n                                    tom: getTidsperiode(date, (uker + ekstraUke) * 5 + getDagValue(uker, nyDager)).tom,\n                                });\n                            }\n                        },\n                        increaseAriaLabel: 'Øk antall dager med en dag',\n                        decreaseAriaLabel: 'Mink antall dager med en dag',\n                    }}\n                />\n            </Block>\n        </>\n    );\n};\n\nexport default UttakEndreTidsperiodeSpørsmål;\n","import {\n    ActionLink,\n    andreAugust2022ReglerGjelder,\n    AnnenForelder,\n    Arbeidsforhold,\n    Attachment,\n    bemUtils,\n    Block,\n    Forelder,\n    formaterDatoKompakt,\n    getFørsteUttaksdag2UkerFørFødsel,\n    getIsValidStateForPerioder,\n    getSisteUttaksdag6UkerEtterFødsel,\n    getSlettPeriodeTekst,\n    getVelgbareStønadskontotyper,\n    guid,\n    intlUtils,\n    isAnnenForelderOppgitt,\n    ISOStringToDate,\n    isValidTidsperiode,\n    NavnPåForeldre,\n    Periode,\n    Periodetype,\n    PeriodeValidState,\n    Situasjon,\n    starterTidsperiodeInnenforToUkerFørFødselTilSeksUkerEtterFødsel,\n    StønadskontoType,\n    TidsperiodeDate,\n    TilgjengeligStønadskonto,\n    Utsettelsesperiode,\n} from '@navikt/fp-common';\nimport { Dispatch, FunctionComponent, SetStateAction, useEffect, useState } from 'react';\nimport ErMorForSykSpørsmål from '../spørsmål/er-mor-for-syk/ErMorForSykSpørsmål';\nimport FlerbarnsdagerSpørsmål from '../spørsmål/flerbarnsdager/FlerbarnsdagerSpørsmål';\nimport HvemSkalHaUttakSpørsmål from '../spørsmål/hvem-skal-ha-uttak/HvemSkalHaUttakSpørsmål';\nimport HvilkenKontoSpørsmål from '../spørsmål/hvilken-konto/HvilkenKontoSpørsmål';\nimport UttakRundtFødselÅrsakSpørsmål from '../spørsmål/uttak-rundt-fødsel-årsak/UttakRundtFødselÅrsakSpørsmål';\nimport OverføringsårsakSpørsmål from '../spørsmål/overføringsårsak/OverføringsårsakSpørsmål';\nimport SamtidigUttakSpørsmål from '../spørsmål/samtidig-uttak/SamtidigUttakSpørsmål';\nimport SkalHaGraderingSpørsmål from '../spørsmål/skal-ha-gradering/SkalHaGraderingSpørsmål';\nimport { SubmitListener } from '../submit-listener/SubmitListener';\nimport TidsperiodeForm from '../tidsperiode-form/TidsperiodeForm';\nimport { PeriodeUttakFormComponents, PeriodeUttakFormData, PeriodeUttakFormField } from './periodeUttakFormConfig';\nimport {\n    periodeUttakFormQuestionsConfig,\n    PeriodeUttakFormQuestionsPayload,\n    skalViseWLBInfoOmSamtidigUttakRundtFødsel,\n} from './periodeUttakFormQuestionsConfig';\nimport {\n    cleanPeriodeUttakFormData,\n    getPeriodeUttakFormInitialValues,\n    mapPeriodeUttakFormToPeriode,\n} from './periodeUttakFormUtils';\nimport { FormattedMessage, IntlShape } from 'react-intl';\nimport { QuestionVisibility } from '@navikt/sif-common-question-config/lib';\nimport AktivitetskravSpørsmål from '../spørsmål/aktivitetskrav/AktivitetskravSpørsmål';\nimport { Button, GuidePanel } from '@navikt/ds-react';\nimport TidsperiodeDisplay from '../../tidsperiode-display/TidsperiodeDisplay';\nimport UttakEndreTidsperiodeSpørsmål from '../../uttak-endre-tidsperiode-spørsmål/UttakEndreTidsperiodeSpørsmål';\n\nimport './periodeUttakForm.less';\n\ninterface Props {\n    periode: Periode;\n    erEndringssøknad: boolean;\n    familiehendelsesdato: Date;\n    stønadskontoer: TilgjengeligStønadskonto[];\n    navnPåForeldre: NavnPåForeldre;\n    annenForelder: AnnenForelder;\n    arbeidsforhold: Arbeidsforhold[];\n    erFarEllerMedmor: boolean;\n    erFlerbarnssøknad: boolean;\n    erAleneOmOmsorg: boolean;\n    erDeltUttak: boolean;\n    situasjon: Situasjon;\n    handleUpdatePeriode: (periode: Periode, familiehendelsedato: Date) => void;\n    handleAddPeriode?: (nyPeriode: Periode, familiehendelsedato: Date) => void;\n    setNyPeriodeFormIsVisible?: Dispatch<SetStateAction<boolean>>;\n    toggleIsOpen?: (id: string) => void;\n    handleDeletePeriode?: (periodeId: string) => void;\n    isNyPeriode?: boolean;\n    erMorUfør: boolean;\n    setPerioderErGyldige: React.Dispatch<React.SetStateAction<PeriodeValidState[]>>;\n    termindato: Date | undefined;\n    morHarRett: boolean;\n    antallBarn: number;\n    utsettelserIPlan: Utsettelsesperiode[];\n    intl: IntlShape;\n    isOpen: boolean;\n    saveAttachment: (vedlegg: Attachment) => void;\n}\n\nconst periodenGjelderAnnenForelder = (erFarEllerMedmor: boolean, forelder: Forelder): boolean => {\n    return (erFarEllerMedmor && forelder === Forelder.farMedmor) || (!erFarEllerMedmor && forelder === Forelder.mor)\n        ? false\n        : true;\n};\n\nconst erUttakAvAnnenForeldersKvote = (konto: StønadskontoType | '', søkerErFarEllerMedmor: boolean): boolean => {\n    return (\n        (konto === StønadskontoType.Mødrekvote && søkerErFarEllerMedmor === true) ||\n        (konto === StønadskontoType.Fedrekvote && søkerErFarEllerMedmor === false)\n    );\n};\n\nconst getPeriodeType = (\n    periodenGjelder: Forelder | '',\n    erFarEllerMedmor: boolean,\n    konto: StønadskontoType | '',\n    familiehendelsedato: Date,\n    termindato: Date | undefined,\n    tidsperiode: TidsperiodeDate,\n): Periodetype => {\n    if (\n        erFarEllerMedmor &&\n        erUttakAvAnnenForeldersKvote(konto, erFarEllerMedmor) &&\n        starterTidsperiodeInnenforToUkerFørFødselTilSeksUkerEtterFødsel(tidsperiode, familiehendelsedato, termindato)\n    ) {\n        return Periodetype.Overføring;\n    }\n    if (periodenGjelder === '' || konto === '') {\n        return Periodetype.Uttak;\n    }\n\n    if (periodenGjelderAnnenForelder(erFarEllerMedmor, periodenGjelder)) {\n        return Periodetype.Opphold;\n    }\n\n    if (erUttakAvAnnenForeldersKvote(konto, erFarEllerMedmor)) {\n        return Periodetype.Overføring;\n    }\n\n    return Periodetype.Uttak;\n};\n\nconst PeriodeUttakForm: FunctionComponent<Props> = ({\n    familiehendelsesdato,\n    periode,\n    handleUpdatePeriode,\n    stønadskontoer,\n    navnPåForeldre,\n    annenForelder,\n    toggleIsOpen,\n    arbeidsforhold,\n    handleDeletePeriode,\n    setNyPeriodeFormIsVisible,\n    handleAddPeriode,\n    isNyPeriode = false,\n    erFarEllerMedmor,\n    erFlerbarnssøknad,\n    erAleneOmOmsorg,\n    erDeltUttak,\n    situasjon,\n    erMorUfør,\n    erEndringssøknad,\n    setPerioderErGyldige,\n    termindato,\n    morHarRett,\n    antallBarn,\n    utsettelserIPlan,\n    intl,\n    isOpen,\n    saveAttachment,\n}) => {\n    const [tidsperiodeIsOpen, setTidsperiodeIsOpen] = useState(false);\n    const [periodeIsValid, setPeriodeIsValid] = useState(true);\n    const bem = bemUtils('periodeUttakForm');\n    const toggleVisTidsperiode = () => {\n        setTidsperiodeIsOpen(!tidsperiodeIsOpen);\n    };\n    const forelder = erFarEllerMedmor ? Forelder.farMedmor : Forelder.mor;\n    const annenForelderHarRettIEØS =\n        isAnnenForelderOppgitt(annenForelder) && !!annenForelder.harRettPåForeldrepengerIEØS;\n\n    useEffect(() => {\n        setPerioderErGyldige((previousState: PeriodeValidState[]) => {\n            return getIsValidStateForPerioder(previousState, periode, periodeIsValid);\n        });\n    }, [periodeIsValid, periode, setPerioderErGyldige]);\n\n    const handleCleanup = (\n        values: PeriodeUttakFormData,\n        visibility: QuestionVisibility<PeriodeUttakFormField, undefined>,\n    ): PeriodeUttakFormData => {\n        return cleanPeriodeUttakFormData(\n            values,\n            visibility,\n            erDeltUttak,\n            forelder,\n            erMorUfør,\n            familiehendelsesdato,\n            erFarEllerMedmor,\n            annenForelderHarRettIEØS,\n        );\n    };\n    const erDeltUttakINorge = erDeltUttak && !annenForelderHarRettIEØS;\n    const velgbareStønadskontoer = getVelgbareStønadskontotyper(stønadskontoer);\n    const navnPåAnnenForelder =\n        isAnnenForelderOppgitt(annenForelder) && annenForelder.fornavn !== undefined && annenForelder.fornavn !== ''\n            ? annenForelder.fornavn\n            : intlUtils(intl, 'annen.forelder');\n\n    const startDatoPeriodeRundtFødselFarMedmor =\n        erFarEllerMedmor && andreAugust2022ReglerGjelder(familiehendelsesdato)\n            ? getFørsteUttaksdag2UkerFørFødsel(familiehendelsesdato, termindato)\n            : undefined;\n    const sluttDatoPeriodeRundtFødselFarMedmor =\n        erFarEllerMedmor && andreAugust2022ReglerGjelder(familiehendelsesdato)\n            ? getSisteUttaksdag6UkerEtterFødsel(familiehendelsesdato)\n            : undefined;\n\n    const erFarMedmorOgHarAleneomsorg = erFarEllerMedmor && erAleneOmOmsorg;\n\n    if (!isOpen) {\n        return null;\n    }\n\n    return (\n        <PeriodeUttakFormComponents.FormikWrapper\n            initialValues={getPeriodeUttakFormInitialValues(\n                periode,\n                erDeltUttak,\n                forelder,\n                erMorUfør,\n                familiehendelsesdato,\n                erFarEllerMedmor,\n                annenForelderHarRettIEØS,\n            )}\n            enableReinitialize={false}\n            onSubmit={(values: Partial<PeriodeUttakFormData>) => {\n                if (isNyPeriode) {\n                    const periodetype = getPeriodeType(\n                        values.hvemSkalTaUttak!,\n                        erFarEllerMedmor,\n                        values.konto!,\n                        familiehendelsesdato,\n                        termindato,\n                        { fom: values.fom, tom: values.tom } as TidsperiodeDate,\n                    );\n                    setNyPeriodeFormIsVisible!(false);\n                    handleAddPeriode!(\n                        mapPeriodeUttakFormToPeriode(\n                            values,\n                            guid(),\n                            periodetype,\n                            familiehendelsesdato,\n                            erFarEllerMedmor,\n                            erDeltUttak,\n                            situasjon,\n                        ),\n                        familiehendelsesdato,\n                    );\n                } else {\n                    return handleUpdatePeriode(\n                        mapPeriodeUttakFormToPeriode(\n                            values,\n                            periode.id,\n                            getPeriodeType(\n                                values.hvemSkalTaUttak!,\n                                erFarEllerMedmor,\n                                values.konto!,\n                                familiehendelsesdato,\n                                termindato,\n                                { fom: values.fom, tom: values.tom } as TidsperiodeDate,\n                            ),\n                            familiehendelsesdato,\n                            erFarEllerMedmor,\n                            erDeltUttak,\n                            situasjon,\n                        ),\n                        familiehendelsesdato,\n                    );\n                }\n            }}\n            renderForm={({ setFieldValue, values, isValid }) => {\n                const periodetype = getPeriodeType(\n                    values.hvemSkalTaUttak!,\n                    erFarEllerMedmor,\n                    values.konto!,\n                    familiehendelsesdato,\n                    termindato,\n                    { fom: values.fom, tom: values.tom } as TidsperiodeDate,\n                );\n                const søkerOppgirAnnenForeldersPeriode =\n                    (values.hvemSkalTaUttak === 'mor' && erFarEllerMedmor) ||\n                    (values.hvemSkalTaUttak === 'farMedmor' && !erFarEllerMedmor);\n\n                if (isValid !== periodeIsValid) {\n                    setPeriodeIsValid(isValid);\n                }\n                const visibility = periodeUttakFormQuestionsConfig.getVisbility({\n                    values,\n                    regelProps: {\n                        annenForelder,\n                        erAleneOmOmsorg,\n                        erDeltUttakINorge,\n                        erFarEllerMedmor,\n                        erFlerbarnssøknad,\n                        familiehendelsesdato,\n                        periodetype,\n                        situasjon,\n                        termindato,\n                        morHarRett,\n                        stønadskontoer,\n                        antallBarn,\n                    },\n                } as PeriodeUttakFormQuestionsPayload);\n\n                return (\n                    <>\n                        <Block visible={!isValidTidsperiode({ fom: values.fom!, tom: values.tom! })} padBottom=\"xl\">\n                            <TidsperiodeForm\n                                tidsperiode={{ fom: values.fom!, tom: values.tom! }}\n                                familiehendelsesdato={familiehendelsesdato}\n                                periode={periode}\n                                onBekreft={(values) => {\n                                    setFieldValue(PeriodeUttakFormField.fom, ISOStringToDate(values.fom));\n                                    setFieldValue(PeriodeUttakFormField.tom, ISOStringToDate(values.tom));\n                                }}\n                                ugyldigeTidsperioder={undefined}\n                                utsettelserIPlan={utsettelserIPlan}\n                                termindato={termindato}\n                                erFarEllerMedmor={erFarEllerMedmor}\n                                morHarRett={morHarRett}\n                                situasjon={situasjon}\n                                erFarMedmorOgHarAleneomsorg={erFarMedmorOgHarAleneomsorg}\n                            />\n                        </Block>\n                        <PeriodeUttakFormComponents.Form includeButtons={false}>\n                            {!isNyPeriode && (\n                                <SubmitListener\n                                    cleanup={() => handleCleanup(values as PeriodeUttakFormData, visibility)}\n                                />\n                            )}\n\n                            <Block visible={isValidTidsperiode({ fom: values.fom!, tom: values.tom! })} padBottom=\"xl\">\n                                <TidsperiodeDisplay\n                                    tidsperiode={{ fom: values.fom!, tom: values.tom! }}\n                                    toggleVisTidsperiode={toggleVisTidsperiode}\n                                />\n                                <UttakEndreTidsperiodeSpørsmål\n                                    periode={periode}\n                                    familiehendelsesdato={familiehendelsesdato}\n                                    ugyldigeTidsperioder={undefined}\n                                    utsettelserIPlan={utsettelserIPlan}\n                                    onBekreft={(values) => {\n                                        toggleVisTidsperiode();\n                                        setFieldValue(PeriodeUttakFormField.fom, ISOStringToDate(values.fom));\n                                        setFieldValue(PeriodeUttakFormField.tom, ISOStringToDate(values.tom));\n                                    }}\n                                    changeTidsperiode={(values) => {\n                                        setTimeout(() => {\n                                            setFieldValue(PeriodeUttakFormField.fom, values.fom);\n                                            setFieldValue(PeriodeUttakFormField.tom, values.tom);\n                                        }, 0);\n                                    }}\n                                    tidsperiode={{ fom: values.fom!, tom: values.tom! }}\n                                    onAvbryt={() => toggleVisTidsperiode()}\n                                    visible={tidsperiodeIsOpen}\n                                    termindato={termindato}\n                                    erFarEllerMedmor={erFarEllerMedmor}\n                                    morHarRett={morHarRett}\n                                    situasjon={situasjon}\n                                    erFarMedmorOgHarAleneomsorg={erFarMedmorOgHarAleneomsorg}\n                                />\n                            </Block>\n                            <Block padBottom=\"xl\" visible={visibility.isVisible(PeriodeUttakFormField.hvemSkalTaUttak)}>\n                                <HvemSkalHaUttakSpørsmål\n                                    fieldName={PeriodeUttakFormField.hvemSkalTaUttak}\n                                    erFarEllerMedmor={false}\n                                    navnPåForeldre={navnPåForeldre}\n                                />\n                            </Block>\n                            <Block padBottom=\"xl\" visible={visibility.isVisible(PeriodeUttakFormField.konto)}>\n                                <HvilkenKontoSpørsmål\n                                    fieldName={PeriodeUttakFormField.konto}\n                                    velgbareStønadskontoer={velgbareStønadskontoer}\n                                    erOppholdsperiode={søkerOppgirAnnenForeldersPeriode}\n                                    navnPåForeldre={navnPåForeldre}\n                                    erFarEllerMedmor={erFarEllerMedmor}\n                                    erAleneOmOmsorg={erAleneOmOmsorg}\n                                />\n                            </Block>\n                            <Block\n                                padBottom=\"xl\"\n                                visible={visibility.isVisible(PeriodeUttakFormField.overføringsårsak)}\n                            >\n                                <OverføringsårsakSpørsmål\n                                    vedlegg={values.overføringsdokumentasjon!}\n                                    navnAnnenForelder={navnPåAnnenForelder}\n                                    erEndringssøknad={erEndringssøknad}\n                                    valgtOverføringsårsak={values.overføringsårsak!}\n                                    isOpen={isOpen}\n                                />\n                            </Block>\n                            <Block\n                                padBottom=\"xl\"\n                                visible={visibility.isVisible(PeriodeUttakFormField.uttakRundtFødselÅrsak)}\n                            >\n                                <UttakRundtFødselÅrsakSpørsmål\n                                    fieldName={PeriodeUttakFormField.uttakRundtFødselÅrsak}\n                                    uttakRundtFødselÅrsak={values.uttakRundtFødselÅrsak!}\n                                    navnMor={navnPåForeldre.mor}\n                                    vedlegg={values.erMorForSykDokumentasjon!}\n                                    isOpen={isOpen}\n                                />\n                            </Block>\n                            {startDatoPeriodeRundtFødselFarMedmor !== undefined &&\n                                sluttDatoPeriodeRundtFødselFarMedmor !== undefined && (\n                                    <Block\n                                        padBottom=\"xl\"\n                                        visible={skalViseWLBInfoOmSamtidigUttakRundtFødsel(\n                                            values as PeriodeUttakFormData,\n                                            familiehendelsesdato,\n                                            erFarEllerMedmor,\n                                            erDeltUttak,\n                                            situasjon,\n                                        )}\n                                    >\n                                        <GuidePanel>\n                                            <FormattedMessage\n                                                id=\"uttaksplan.samtidigUttakVeileder\"\n                                                values={{\n                                                    fomDato: formaterDatoKompakt(startDatoPeriodeRundtFødselFarMedmor),\n                                                    tomDato: formaterDatoKompakt(sluttDatoPeriodeRundtFødselFarMedmor),\n                                                }}\n                                            />\n                                        </GuidePanel>\n                                    </Block>\n                                )}\n                            <Block\n                                padBottom=\"xl\"\n                                visible={visibility.isVisible(PeriodeUttakFormField.ønskerFlerbarnsdager)}\n                            >\n                                <FlerbarnsdagerSpørsmål fieldName={PeriodeUttakFormField.ønskerFlerbarnsdager} />\n                            </Block>\n                            <Block padBottom=\"xl\" visible={visibility.isVisible(PeriodeUttakFormField.erMorForSyk)}>\n                                <ErMorForSykSpørsmål\n                                    fieldName={PeriodeUttakFormField.erMorForSyk}\n                                    erMorForSyk={values.erMorForSyk!}\n                                    navnMor={navnPåForeldre.mor}\n                                    vedlegg={values.erMorForSykDokumentasjon!}\n                                    isOpen={isOpen}\n                                />\n                            </Block>\n                            <Block padBottom=\"xl\" visible={visibility.isVisible(PeriodeUttakFormField.samtidigUttak)}>\n                                <SamtidigUttakSpørsmål\n                                    erFlerbarnssøknad={erFlerbarnssøknad}\n                                    navnPåForeldre={navnPåForeldre}\n                                    navnPåAnnenForelder={navnPåAnnenForelder}\n                                    samtidigUttakProsentVisible={visibility.isVisible(\n                                        PeriodeUttakFormField.samtidigUttakProsent,\n                                    )}\n                                    familiehendelsesdato={familiehendelsesdato}\n                                    situasjon={situasjon}\n                                />\n                            </Block>\n                            <Block\n                                padBottom=\"xl\"\n                                visible={visibility.isVisible(PeriodeUttakFormField.aktivitetskravMor)}\n                            >\n                                <AktivitetskravSpørsmål\n                                    fieldName={PeriodeUttakFormField.aktivitetskravMor}\n                                    navnPåForeldre={navnPåForeldre}\n                                    aktivitetskravMorValue={values.aktivitetskravMor!}\n                                    aktivitetskravVedlegg={values.aktivitetskravMorDokumentasjon!}\n                                    FormComponents={PeriodeUttakFormComponents}\n                                    vedleggFieldName={PeriodeUttakFormField.aktivitetskravMorDokumentasjon}\n                                    isOpen={isOpen}\n                                    saveAttachment={saveAttachment}\n                                />\n                            </Block>\n                            <Block padBottom=\"xl\" visible={visibility.isVisible(PeriodeUttakFormField.skalHaGradering)}>\n                                <SkalHaGraderingSpørsmål\n                                    graderingsprosentVisible={visibility.isVisible(\n                                        PeriodeUttakFormField.stillingsprosent,\n                                    )}\n                                    arbeidsforhold={arbeidsforhold}\n                                    tidsperiode={{ fom: values.fom!, tom: values.tom! }}\n                                />\n                            </Block>\n                            <Block\n                                visible={\n                                    !isNyPeriode && handleDeletePeriode !== undefined && toggleIsOpen !== undefined\n                                }\n                            >\n                                <div className={bem.element('knapperad-endre')}>\n                                    <Button type=\"button\" variant=\"secondary\" onClick={() => toggleIsOpen!(periode.id)}>\n                                        <FormattedMessage id=\"uttaksplan.lukk\" />\n                                    </Button>\n                                    <div className={bem.element('slettPeriodeWrapper')}>\n                                        <ActionLink\n                                            onClick={() => handleDeletePeriode!(periode.id)}\n                                            className={bem.element('slettPeriode')}\n                                        >\n                                            <FormattedMessage id={getSlettPeriodeTekst(periode.type)} />\n                                        </ActionLink>\n                                    </div>\n                                </div>\n                            </Block>\n                            <Block\n                                visible={\n                                    isNyPeriode &&\n                                    setNyPeriodeFormIsVisible !== undefined &&\n                                    handleAddPeriode !== undefined\n                                }\n                            >\n                                <div className={bem.element('knapperad-legg-til')}>\n                                    <Button\n                                        type=\"button\"\n                                        variant=\"secondary\"\n                                        onClick={() => setNyPeriodeFormIsVisible!(false)}\n                                    >\n                                        <FormattedMessage id=\"uttaksplan.avbryt\" />\n                                    </Button>\n                                    {visibility.areAllQuestionsAnswered() ? (\n                                        <Button type=\"submit\">\n                                            <FormattedMessage id=\"uttaksplan.leggTil\" />\n                                        </Button>\n                                    ) : null}\n                                </div>\n                            </Block>\n                        </PeriodeUttakFormComponents.Form>\n                    </>\n                );\n            }}\n        />\n    );\n};\n\nexport default PeriodeUttakForm;\n","import { Arbeidsform, Attachment, MorsAktivitet, UtsettelseÅrsakType } from '@navikt/fp-common';\nimport { getTypedFormComponents } from '@navikt/sif-common-formik-ds/lib';\n\nexport enum PeriodeUtsettelseFormField {\n    fom = 'fom',\n    tom = 'tom',\n    årsak = 'årsak',\n    vedlegg = 'vedlegg',\n    morsAktivitetIPeriodenDokumentasjon = 'morsAktivitetIPeriodenDokumentasjon',\n    morsAktivitetIPerioden = 'morsAktivitetIPerioden',\n    bekrefterArbeidIPerioden = 'bekrefterArbeidIPerioden',\n}\n\nexport type ArbeidUnderUtsettelse = Arbeidsform | string;\n\nexport interface PeriodeUtsettelseFormData {\n    [PeriodeUtsettelseFormField.fom]: Date | undefined;\n    [PeriodeUtsettelseFormField.tom]: Date | undefined;\n    [PeriodeUtsettelseFormField.årsak]: UtsettelseÅrsakType | '';\n    [PeriodeUtsettelseFormField.morsAktivitetIPerioden]: MorsAktivitet | '';\n    [PeriodeUtsettelseFormField.morsAktivitetIPeriodenDokumentasjon]: Attachment[];\n    [PeriodeUtsettelseFormField.vedlegg]: Attachment[];\n    [PeriodeUtsettelseFormField.bekrefterArbeidIPerioden]: boolean | undefined;\n}\n\nexport const PeriodeUtsettelseFormComponents = getTypedFormComponents<\n    PeriodeUtsettelseFormField,\n    PeriodeUtsettelseFormData\n>();\n","import { PeriodeUtsettelseFormData, PeriodeUtsettelseFormField } from './periodeUtsettelseFormConfig';\nimport {\n    Attachment,\n    AttachmentType,\n    Forelder,\n    Periode,\n    Periodetype,\n    UtsettelseÅrsakType,\n    isUtsettelsePgaArbeid,\n    isUtsettelsesperiode,\n} from '@navikt/fp-common';\n\nexport const initialValues: PeriodeUtsettelseFormData = {\n    [PeriodeUtsettelseFormField.fom]: undefined,\n    [PeriodeUtsettelseFormField.tom]: undefined,\n    [PeriodeUtsettelseFormField.årsak]: '',\n    [PeriodeUtsettelseFormField.morsAktivitetIPerioden]: '',\n    [PeriodeUtsettelseFormField.morsAktivitetIPeriodenDokumentasjon]: [],\n    [PeriodeUtsettelseFormField.vedlegg]: [],\n    [PeriodeUtsettelseFormField.bekrefterArbeidIPerioden]: undefined,\n};\n\nconst getFormStateFraVedlegg = (vedlegg: Attachment[], gjelderMorsAktivitet: boolean): Attachment[] => {\n    return gjelderMorsAktivitet\n        ? vedlegg.filter((v) => v.type === AttachmentType.MORS_AKTIVITET_DOKUMENTASJON)\n        : vedlegg.filter((v) => v.type !== AttachmentType.MORS_AKTIVITET_DOKUMENTASJON);\n};\n\nexport const getPeriodeUtsettelseFormInitialValues = (periode: Periode): PeriodeUtsettelseFormData => {\n    if (isUtsettelsesperiode(periode)) {\n        return {\n            ...initialValues,\n            fom: periode.tidsperiode.fom,\n            tom: periode.tidsperiode.tom,\n            årsak: periode.årsak,\n            morsAktivitetIPerioden: periode.morsAktivitetIPerioden ? periode.morsAktivitetIPerioden : '',\n            morsAktivitetIPeriodenDokumentasjon: getFormStateFraVedlegg(periode.vedlegg || [], true),\n            vedlegg: getFormStateFraVedlegg(periode.vedlegg || [], false),\n            bekrefterArbeidIPerioden: isUtsettelsePgaArbeid(periode) ? periode.bekrefterArbeidIPerioden : undefined,\n        };\n    }\n\n    return initialValues;\n};\n\nconst getVedleggFraFormState = (\n    morsAktivitetIPeriodenDokumentasjon: Attachment[],\n    vedlegg: Attachment[],\n): Attachment[] => {\n    return [...morsAktivitetIPeriodenDokumentasjon, ...vedlegg];\n};\n\nexport const mapPeriodeUtsettelseFormToPeriode = (\n    values: Partial<PeriodeUtsettelseFormData>,\n    id: string,\n    erFarEllerMedmor: boolean,\n): Periode => {\n    return {\n        id,\n        type: Periodetype.Utsettelse,\n        årsak: values.årsak as UtsettelseÅrsakType,\n        morsAktivitetIPerioden: values.morsAktivitetIPerioden ? values.morsAktivitetIPerioden : undefined,\n        forelder: erFarEllerMedmor ? Forelder.farMedmor : Forelder.mor,\n        tidsperiode: {\n            fom: values.fom!,\n            tom: values.tom!,\n        },\n        vedlegg: getVedleggFraFormState(values.morsAktivitetIPeriodenDokumentasjon || [], values.vedlegg || []),\n        bekrefterArbeidIPerioden: values.bekrefterArbeidIPerioden,\n        erArbeidstaker: !!values.bekrefterArbeidIPerioden,\n    };\n};\n\nexport const cleanupPeriodeUtsettelseFormData = (values: PeriodeUtsettelseFormData): PeriodeUtsettelseFormData => {\n    if (values.årsak !== UtsettelseÅrsakType.Arbeid) {\n        return {\n            ...values,\n            bekrefterArbeidIPerioden: undefined,\n        };\n    }\n    return values;\n};\n","import { hasValue, isValidTidsperiode, UtsettelseÅrsakType } from '@navikt/fp-common';\nimport { QuestionConfig, Questions } from '@navikt/sif-common-question-config/lib';\nimport { PeriodeUtsettelseFormData, PeriodeUtsettelseFormField } from './periodeUtsettelseFormConfig';\n\nexport interface PeriodeUtsettelseFormConfigPayload {\n    values: PeriodeUtsettelseFormData;\n    erFarEllerMedmor: boolean;\n    erAleneOmOmsorg: boolean;\n    søkerErFarEllerMedmorOgKunDeHarRett: boolean;\n}\n\nconst PeriodeUtsettelseFormConfig: QuestionConfig<PeriodeUtsettelseFormConfigPayload, PeriodeUtsettelseFormField> = {\n    [PeriodeUtsettelseFormField.fom]: {\n        isAnswered: ({ values }) => hasValue(values.fom),\n        isIncluded: () => true,\n    },\n    [PeriodeUtsettelseFormField.tom]: {\n        isAnswered: ({ values }) => hasValue(values.tom),\n        isIncluded: () => true,\n    },\n    [PeriodeUtsettelseFormField.årsak]: {\n        isAnswered: ({ values }) => hasValue(values.årsak),\n        isIncluded: () => true,\n        visibilityFilter: ({ values }) => isValidTidsperiode({ fom: values.fom, tom: values.tom }),\n    },\n    [PeriodeUtsettelseFormField.bekrefterArbeidIPerioden]: {\n        isAnswered: ({ values }) =>\n            values.årsak !== UtsettelseÅrsakType.Arbeid ||\n            (hasValue(values.bekrefterArbeidIPerioden) && values.bekrefterArbeidIPerioden !== undefined),\n        isIncluded: ({ values }) => hasValue(values.årsak) && values.årsak === UtsettelseÅrsakType.Arbeid,\n        visibilityFilter: ({ values }) => hasValue(values.årsak),\n    },\n    [PeriodeUtsettelseFormField.vedlegg]: {\n        isAnswered: () => true,\n        isIncluded: ({ values }) => hasValue(values.årsak),\n        visibilityFilter: ({ values }) => hasValue(values.årsak),\n    },\n    [PeriodeUtsettelseFormField.morsAktivitetIPerioden]: {\n        isAnswered: ({ values, søkerErFarEllerMedmorOgKunDeHarRett }) =>\n            hasValue(values.morsAktivitetIPerioden) || !søkerErFarEllerMedmorOgKunDeHarRett,\n        isIncluded: ({ søkerErFarEllerMedmorOgKunDeHarRett }) => søkerErFarEllerMedmorOgKunDeHarRett,\n        visibilityFilter: ({ values }) => hasValue(values.årsak),\n    },\n};\n\nexport const periodeUtsettelseFormQuestionsConfig = Questions<\n    PeriodeUtsettelseFormConfigPayload,\n    PeriodeUtsettelseFormField\n>(PeriodeUtsettelseFormConfig);\n","import { Attachment, AttachmentType, Block, intlUtils, Skjemanummer, UtsettelseÅrsakType } from '@navikt/fp-common';\nimport FormikFileUploader from 'app/components/formik-file-uploader/FormikFileUploader';\nimport { FunctionComponent } from 'react';\nimport { FormattedMessage, IntlShape, useIntl } from 'react-intl';\nimport {\n    PeriodeUtsettelseFormComponents,\n    PeriodeUtsettelseFormField,\n} from '../../periode-utsettelse-form/periodeUtsettelseFormConfig';\nimport { BodyShort, GuidePanel } from '@navikt/ds-react';\nimport { FormikRadioProp } from '@navikt/sif-common-formik-ds/lib/components/formik-radio-group/FormikRadioGroup';\n\ninterface Props {\n    periodenErKunHelligdager: boolean;\n    skalViseGamleUtsettelseÅrsaker: boolean;\n    erFarEllerMedmor: boolean;\n    tidsperiodenErInnenforFørsteSeksUker: boolean;\n    utsettelseårsak: UtsettelseÅrsakType | '';\n    vedlegg: Attachment[];\n    erMorUfør: boolean;\n    søkerErFarEllerMedmorOgKunDeHarRett: boolean;\n    isOpen: boolean;\n}\n\nconst getUtsettelseÅrsakOptions = (\n    intl: IntlShape,\n    periodenErKunHelligdager: boolean,\n    skalViseGamleUtsettelseÅrsaker: boolean,\n    erFarEllerMedmor: boolean,\n    tidsperiodenErInnenforFørsteSeksUker: boolean,\n    erMorUfør: boolean,\n    søkerErFarEllerMedmorOgKunDeHarRett: boolean,\n) => {\n    const allRadios: FormikRadioProp[] = [\n        {\n            label: intlUtils(intl, 'uttaksplan.utsettelseårsak.jegskalhaferie'),\n            value: UtsettelseÅrsakType.Ferie,\n            disabled: periodenErKunHelligdager === true,\n        },\n        {\n            label: intlUtils(intl, 'uttaksplan.utsettelseårsak.jegskaljobbeheltid'),\n            value: UtsettelseÅrsakType.Arbeid,\n        },\n        {\n            label: intlUtils(intl, 'uttaksplan.utsettelseårsak.pgasykdom'),\n            value: UtsettelseÅrsakType.Sykdom,\n        },\n        {\n            label: intlUtils(intl, 'uttaksplan.utsettelseårsak.institusjonBarn'),\n            value: UtsettelseÅrsakType.InstitusjonBarnet,\n        },\n        {\n            label: intlUtils(intl, 'uttaksplan.utsettelseårsak.institusjonSøker'),\n            value: UtsettelseÅrsakType.InstitusjonSøker,\n        },\n        {\n            label: intlUtils(intl, 'uttaksplan.utsettelseårsak.hv_øvelse'),\n            value: UtsettelseÅrsakType.HvØvelse,\n        },\n        {\n            label: intlUtils(intl, 'uttaksplan.utsettelseårsak.navtiltak'),\n            value: UtsettelseÅrsakType.NavTiltak,\n        },\n        {\n            label: intlUtils(intl, 'uttaksplan.utsettelseårsak.fri'),\n            value: UtsettelseÅrsakType.Fri,\n        },\n    ];\n\n    const defaultRadios = allRadios.filter((option) => {\n        if (skalViseGamleUtsettelseÅrsaker) {\n            if (option.value === UtsettelseÅrsakType.Fri) {\n                return false;\n            }\n\n            return true;\n        }\n\n        if (!skalViseGamleUtsettelseÅrsaker && !erFarEllerMedmor) {\n            if (tidsperiodenErInnenforFørsteSeksUker) {\n                return (\n                    option.value === UtsettelseÅrsakType.Sykdom ||\n                    option.value === UtsettelseÅrsakType.InstitusjonBarnet ||\n                    option.value === UtsettelseÅrsakType.InstitusjonSøker\n                );\n            }\n\n            return false;\n        }\n\n        if (!skalViseGamleUtsettelseÅrsaker && erFarEllerMedmor) {\n            if (!erMorUfør) {\n                if (option.value === UtsettelseÅrsakType.Fri && søkerErFarEllerMedmorOgKunDeHarRett) {\n                    return true;\n                }\n\n                return false;\n            }\n\n            if (tidsperiodenErInnenforFørsteSeksUker) {\n                return (\n                    option.value === UtsettelseÅrsakType.Sykdom ||\n                    option.value === UtsettelseÅrsakType.InstitusjonBarnet ||\n                    option.value === UtsettelseÅrsakType.InstitusjonSøker\n                );\n            }\n\n            return option.value === UtsettelseÅrsakType.Fri;\n        }\n\n        return option.value === UtsettelseÅrsakType.Sykdom || option.value === UtsettelseÅrsakType.Fri;\n    });\n\n    return defaultRadios;\n};\n\nconst getUtsettelseårsakSkjemanummer = (årsak: UtsettelseÅrsakType | '') => {\n    switch (årsak) {\n        case UtsettelseÅrsakType.Sykdom:\n            return Skjemanummer.DOK_OVERFØRING_FOR_SYK;\n        case UtsettelseÅrsakType.InstitusjonSøker:\n        case UtsettelseÅrsakType.InstitusjonBarnet:\n            return Skjemanummer.DOK_INNLEGGELSE;\n        case UtsettelseÅrsakType.HvØvelse:\n            return Skjemanummer.HV_ØVELSE;\n        case UtsettelseÅrsakType.NavTiltak:\n            return Skjemanummer.NAV_TILTAK;\n        default:\n            return Skjemanummer.ANNET;\n    }\n};\n\nconst showAttachmentUploader = (årsak: UtsettelseÅrsakType | ''): boolean => {\n    switch (årsak) {\n        case UtsettelseÅrsakType.Sykdom:\n        case UtsettelseÅrsakType.InstitusjonSøker:\n        case UtsettelseÅrsakType.InstitusjonBarnet:\n        case UtsettelseÅrsakType.HvØvelse:\n        case UtsettelseÅrsakType.NavTiltak:\n            return true;\n        default:\n            return false;\n    }\n};\n\nconst getAttachmentUploaderLabel = (årsak: UtsettelseÅrsakType | ''): string => {\n    switch (årsak) {\n        case UtsettelseÅrsakType.Sykdom:\n        case UtsettelseÅrsakType.InstitusjonSøker:\n        case UtsettelseÅrsakType.InstitusjonBarnet:\n            return 'Last opp dokumentasjon for sykdom';\n        case UtsettelseÅrsakType.HvØvelse:\n            return 'Last opp dokumentasjon for HV-øvelse';\n        case UtsettelseÅrsakType.NavTiltak:\n            return 'Last opp dokumentasjon for NAV tiltak';\n        default:\n            return '';\n    }\n};\n\nconst getAttachmentUploaderType = (årsak: UtsettelseÅrsakType | ''): AttachmentType => {\n    switch (årsak) {\n        case UtsettelseÅrsakType.Sykdom:\n        case UtsettelseÅrsakType.InstitusjonSøker:\n        case UtsettelseÅrsakType.InstitusjonBarnet:\n            return AttachmentType.UTSETTELSE_SYKDOM;\n        case UtsettelseÅrsakType.HvØvelse:\n            return AttachmentType.HV_ØVELSE;\n        case UtsettelseÅrsakType.NavTiltak:\n            return AttachmentType.NAV_TILTAK;\n        default:\n            return AttachmentType.UTSETTELSE_SYKDOM; // Should never happen\n    }\n};\n\nconst getVeilederTekst = (årsak: UtsettelseÅrsakType | ''): React.ReactElement => {\n    switch (årsak) {\n        case UtsettelseÅrsakType.Sykdom:\n        case UtsettelseÅrsakType.InstitusjonSøker:\n        case UtsettelseÅrsakType.InstitusjonBarnet:\n            return <FormattedMessage id=\"uttaksplan.veileder.sykdom\" />;\n        case UtsettelseÅrsakType.HvØvelse:\n            return <FormattedMessage id=\"uttaksplan.veileder.hvØvelse\" />;\n        case UtsettelseÅrsakType.NavTiltak:\n            return <FormattedMessage id=\"uttaksplan.veileder.navTiltak\" />;\n        default:\n            return <FormattedMessage id=\"uttaksplan.veileder.sykdom\" />; // Should never happen\n    }\n};\n\nconst UtsettelseÅrsakSpørsmål: FunctionComponent<Props> = ({\n    periodenErKunHelligdager,\n    skalViseGamleUtsettelseÅrsaker,\n    erFarEllerMedmor,\n    tidsperiodenErInnenforFørsteSeksUker,\n    utsettelseårsak,\n    vedlegg,\n    erMorUfør,\n    søkerErFarEllerMedmorOgKunDeHarRett,\n    isOpen,\n}) => {\n    const intl = useIntl();\n    const årsakOptions = getUtsettelseÅrsakOptions(\n        intl,\n        periodenErKunHelligdager,\n        skalViseGamleUtsettelseÅrsaker,\n        erFarEllerMedmor,\n        tidsperiodenErInnenforFørsteSeksUker,\n        erMorUfør,\n        søkerErFarEllerMedmorOgKunDeHarRett,\n    );\n\n    if (årsakOptions.length === 0) {\n        return (\n            <GuidePanel>\n                <Block padBottom=\"l\">\n                    <BodyShort>\n                        <b>\n                            <FormattedMessage id=\"uttaksplan.veileder.trengerIkkeUtsettelse.del1\" />\n                        </b>\n                    </BodyShort>\n                </Block>\n                <Block padBottom=\"l\">\n                    <BodyShort>\n                        <FormattedMessage id=\"uttaksplan.veileder.trengerIkkeUtsettelse.del2\" />\n                    </BodyShort>\n                </Block>\n                <Block padBottom=\"l\">\n                    <BodyShort>\n                        <FormattedMessage id=\"uttaksplan.veileder.trengerIkkeUtsettelse.del3\" />\n                    </BodyShort>\n                </Block>\n            </GuidePanel>\n        );\n    }\n\n    return (\n        <>\n            <Block padBottom=\"l\">\n                <PeriodeUtsettelseFormComponents.RadioGroup\n                    legend=\"Velg årsak for utsettelse\"\n                    name={PeriodeUtsettelseFormField.årsak}\n                    radios={årsakOptions}\n                    validate={(value) => {\n                        if (value === '') {\n                            return 'Årsak må fylles ut';\n                        }\n                        return undefined;\n                    }}\n                />\n            </Block>\n            <Block padBottom=\"l\" visible={showAttachmentUploader(utsettelseårsak)}>\n                <GuidePanel>{getVeilederTekst(utsettelseårsak)}</GuidePanel>\n            </Block>\n            <Block padBottom=\"l\" visible={showAttachmentUploader(utsettelseårsak) && isOpen}>\n                <FormikFileUploader\n                    legend=\"Dokumentasjon for utsettelsesårsak\"\n                    label={getAttachmentUploaderLabel(utsettelseårsak)}\n                    name={PeriodeUtsettelseFormField.vedlegg}\n                    attachments={vedlegg || []}\n                    attachmentType={getAttachmentUploaderType(utsettelseårsak)}\n                    skjemanummer={getUtsettelseårsakSkjemanummer(utsettelseårsak)}\n                />\n            </Block>\n        </>\n    );\n};\n\nexport default UtsettelseÅrsakSpørsmål;\n","import {\n    getTidsperiode,\n    getUkerOgDagerFromDager,\n    intlUtils,\n    isForeldrepengerFørFødselUttaksperiode,\n    Periode,\n    Situasjon,\n    Tidsperiode,\n    TidsperiodeDate,\n    Tidsperioden,\n    Utsettelsesperiode,\n} from '@navikt/fp-common';\nimport UkerDagerTeller from './../uker-dager-teller/UkerDagerTeller';\nimport dayjs from 'dayjs';\n\nimport { useIntl } from 'react-intl';\nimport TidsperiodeForm, { TidsperiodeFormValues } from '../uttaks-forms/tidsperiode-form/TidsperiodeForm';\nimport { Modal } from '@navikt/ds-react';\n\ninterface Props {\n    periode: Periode;\n    tidsperiode: TidsperiodeDate;\n    familiehendelsesdato: Date;\n    ugyldigeTidsperioder: Tidsperiode[] | undefined;\n    utsettelserIPlan: Utsettelsesperiode[];\n    visible: boolean;\n    erFarEllerMedmor: boolean;\n    morHarRett: boolean;\n    situasjon: Situasjon;\n    erFarMedmorOgHarAleneomsorg: boolean;\n    onAvbryt: () => void;\n    onBekreft: (tidsperiode: TidsperiodeFormValues) => void;\n    changeTidsperiode: (tidsperiode: Partial<TidsperiodeDate>) => void;\n}\n\nconst UtsettelseEndreTidsperiodeSpørsmål: React.FunctionComponent<Props> = ({\n    onBekreft,\n    onAvbryt,\n    changeTidsperiode,\n    visible,\n    periode,\n    tidsperiode,\n    familiehendelsesdato,\n    ugyldigeTidsperioder,\n    utsettelserIPlan,\n    erFarEllerMedmor,\n    morHarRett,\n    situasjon,\n    erFarMedmorOgHarAleneomsorg,\n}) => {\n    const intl = useIntl();\n    const erForeldrepengerFørFødsel = isForeldrepengerFørFødselUttaksperiode(periode);\n    const initialMonth = erForeldrepengerFørFødsel ? familiehendelsesdato : undefined;\n    const varighetIDager =\n        tidsperiode &&\n        tidsperiode.fom &&\n        tidsperiode.tom &&\n        dayjs(tidsperiode.fom).isSameOrBefore(tidsperiode.tom, 'day')\n            ? Tidsperioden({\n                  fom: tidsperiode.fom,\n                  tom: tidsperiode.tom,\n              }).getAntallUttaksdager()\n            : undefined;\n    const { uker, dager } = varighetIDager ? getUkerOgDagerFromDager(Math.abs(varighetIDager)) : { uker: 0, dager: 0 };\n    const handleOnSubmit = (values: TidsperiodeFormValues) => {\n        onBekreft(values);\n    };\n\n    const getDagValue = (uker: number, dager: number): number => {\n        if (dager >= 5) {\n            return 0;\n        }\n\n        if (uker === 0 && dager === 0) {\n            return 1;\n        }\n\n        return dager;\n    };\n\n    return (\n        <>\n            <Modal open={visible} closeButton={true} onClose={onAvbryt} aria-label=\"Endre tidsperiode\">\n                <Modal.Content>\n                    <TidsperiodeForm\n                        familiehendelsesdato={familiehendelsesdato}\n                        onBekreft={handleOnSubmit}\n                        periode={periode}\n                        tidsperiode={tidsperiode}\n                        ugyldigeTidsperioder={ugyldigeTidsperioder}\n                        utsettelserIPlan={utsettelserIPlan}\n                        initialMonth={initialMonth}\n                        erFarEllerMedmor={erFarEllerMedmor}\n                        morHarRett={morHarRett}\n                        situasjon={situasjon}\n                        erFarMedmorOgHarAleneomsorg={erFarMedmorOgHarAleneomsorg}\n                    />\n                </Modal.Content>\n            </Modal>\n            <UkerDagerTeller\n                ukeLegend={intlUtils(intl, 'uker.label')}\n                dagLegend={intlUtils(intl, 'dager.label')}\n                ukeStepper={{\n                    value: uker !== undefined ? uker : 0,\n                    min: 0,\n                    max: 100,\n                    onChange: (nyUker: number) => {\n                        const date = tidsperiode.fom;\n                        if (date) {\n                            changeTidsperiode({\n                                fom: date,\n                                tom: getTidsperiode(date, Math.min(nyUker, 200) * 5 + getDagValue(nyUker, dager)).tom,\n                            });\n                        }\n                    },\n                    increaseAriaLabel: 'Øk antall uker med en uke',\n                    decreaseAriaLabel: 'Mink antall uker med en uke',\n                }}\n                dagStepper={{\n                    value: getDagValue(uker, dager),\n                    min: uker === 0 ? 1 : 0,\n                    max: 5,\n                    onChange: (nyDager: number) => {\n                        const date = tidsperiode.fom;\n                        const ekstraUke = nyDager === 5 ? 1 : 0;\n\n                        if (date) {\n                            changeTidsperiode({\n                                fom: date,\n                                tom: getTidsperiode(date, (uker + ekstraUke) * 5 + getDagValue(uker, nyDager)).tom,\n                            });\n                        }\n                    },\n                    increaseAriaLabel: 'Øk antall dager med en dag',\n                    decreaseAriaLabel: 'Mink antall dager med en dag',\n                }}\n            />\n        </>\n    );\n};\n\nexport default UtsettelseEndreTidsperiodeSpørsmål;\n","import {\n    bemUtils,\n    Block,\n    guid,\n    hasValue,\n    intlUtils,\n    ActionLink,\n    NavnPåForeldre,\n    Situasjon,\n    Arbeidsforhold,\n    Periode,\n    Utsettelsesperiode,\n    førsteOktober2021ReglerGjelder,\n    getIsValidStateForPerioder,\n    Tidsperioden,\n    isValidTidsperiode,\n    ISOStringToDate,\n    getSlettPeriodeTekst,\n    Attachment,\n    PeriodeValidState,\n} from '@navikt/fp-common';\nimport { Dispatch, FunctionComponent, useEffect, useState } from 'react';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { SubmitListener } from '../submit-listener/SubmitListener';\nimport TidsperiodeForm from '../tidsperiode-form/TidsperiodeForm';\nimport {\n    PeriodeUtsettelseFormComponents,\n    PeriodeUtsettelseFormData,\n    PeriodeUtsettelseFormField,\n} from './periodeUtsettelseFormConfig';\nimport {\n    cleanupPeriodeUtsettelseFormData,\n    getPeriodeUtsettelseFormInitialValues,\n    mapPeriodeUtsettelseFormToPeriode,\n} from './periodeUtsettelseFormUtils';\n\nimport {\n    PeriodeUtsettelseFormConfigPayload,\n    periodeUtsettelseFormQuestionsConfig,\n} from './periodeUtsettelseFormQuestionsConfig';\nimport UtsettelseÅrsakSpørsmål from '../spørsmål/utsettelse-årsak/UtsettelseÅrsakSpørsmål';\nimport AktivitetskravSpørsmål from '../spørsmål/aktivitetskrav/AktivitetskravSpørsmål';\nimport { Button } from '@navikt/ds-react';\nimport TidsperiodeDisplay from '../../tidsperiode-display/TidsperiodeDisplay';\nimport UtsettelseEndreTidsperiodeSpørsmål from '../../utsettelse-tidsperiode-spørsmål/UtsettelseTidsperiodeSpørsmål';\n\nimport './periodeUtsettelseForm.less';\n\ninterface Props {\n    periode: Periode;\n    familiehendelsesdato: Date;\n    erFarEllerMedmor: boolean;\n    erAleneOmOmsorg: boolean;\n    handleUpdatePeriode: (periode: Periode, familiehendelsedato: Date) => void;\n    handleAddPeriode?: (nyPeriode: Periode, familiehendelsedato: Date) => void;\n    setNyPeriodeFormIsVisible?: Dispatch<React.SetStateAction<boolean>>;\n    toggleIsOpen?: (id: string) => void;\n    handleDeletePeriode?: (periodeId: string) => void;\n    isNyPeriode?: boolean;\n    navnPåForeldre: NavnPåForeldre;\n    erMorUfør: boolean;\n    søkerErFarEllerMedmorOgKunDeHarRett: boolean;\n    arbeidsforhold: Arbeidsforhold[];\n    situasjon: Situasjon;\n    utsettelserIPlan: Utsettelsesperiode[];\n    setPerioderErGyldige: React.Dispatch<React.SetStateAction<PeriodeValidState[]>>;\n    isOpen: boolean;\n    saveAttachment: (vedlegg: Attachment) => void;\n}\n\nconst PeriodeUtsettelseForm: FunctionComponent<Props> = ({\n    periode,\n    familiehendelsesdato,\n    handleUpdatePeriode,\n    erFarEllerMedmor,\n    erAleneOmOmsorg,\n    handleAddPeriode,\n    handleDeletePeriode,\n    toggleIsOpen,\n    isNyPeriode = false,\n    setNyPeriodeFormIsVisible,\n    navnPåForeldre,\n    erMorUfør,\n    søkerErFarEllerMedmorOgKunDeHarRett,\n    situasjon,\n    utsettelserIPlan,\n    setPerioderErGyldige,\n    isOpen,\n    saveAttachment,\n}) => {\n    const intl = useIntl();\n    const [periodeIsValid, setPeriodeIsValid] = useState(true);\n    const { id } = periode;\n    const [tidsperiodeIsOpen, setTidsperiodeIsOpen] = useState(false);\n    const bem = bemUtils('periodeUtsettelseForm');\n    const skalViseGamleUtsettelseÅrsaker = førsteOktober2021ReglerGjelder(familiehendelsesdato) === false; // Utsettelseårsaker som gjelder for søknader sendt før 1. oktober 2021\n    const erFarMedmorOgHarAleneomsorg = erFarEllerMedmor && erAleneOmOmsorg;\n\n    const toggleVisTidsperiode = () => {\n        setTidsperiodeIsOpen(!tidsperiodeIsOpen);\n    };\n\n    useEffect(() => {\n        setPerioderErGyldige((previousState: PeriodeValidState[]) => {\n            return getIsValidStateForPerioder(previousState, periode, periodeIsValid);\n        });\n    }, [periodeIsValid, periode, setPerioderErGyldige]);\n\n    return (\n        <PeriodeUtsettelseFormComponents.FormikWrapper\n            initialValues={getPeriodeUtsettelseFormInitialValues(periode)}\n            onSubmit={(values) => {\n                if (!isNyPeriode) {\n                    handleUpdatePeriode(\n                        mapPeriodeUtsettelseFormToPeriode(values, id, erFarEllerMedmor),\n                        familiehendelsesdato,\n                    );\n                } else {\n                    setNyPeriodeFormIsVisible!(false);\n                    handleAddPeriode!(\n                        mapPeriodeUtsettelseFormToPeriode(values, guid(), erFarEllerMedmor),\n                        familiehendelsesdato,\n                    );\n                }\n            }}\n            renderForm={({ setFieldValue, values, isValid }) => {\n                const visibility = periodeUtsettelseFormQuestionsConfig.getVisbility({\n                    values,\n                    erFarEllerMedmor,\n                    erAleneOmOmsorg,\n                    søkerErFarEllerMedmorOgKunDeHarRett,\n                } as PeriodeUtsettelseFormConfigPayload);\n                if (isValid !== periodeIsValid) {\n                    setPeriodeIsValid(isValid);\n                }\n                const antallHelligdager = Tidsperioden({ fom: values.fom!, tom: values.tom! }).getAntallFridager();\n                const antallUttaksdager = Tidsperioden({ fom: values.fom!, tom: values.tom! }).getAntallUttaksdager();\n                const periodenErKunHelligdager = antallHelligdager === antallUttaksdager;\n                return (\n                    <>\n                        <Block visible={!isValidTidsperiode({ fom: values.fom!, tom: values.tom! })} padBottom=\"xl\">\n                            <TidsperiodeForm\n                                tidsperiode={{ fom: values.fom!, tom: values.tom! }}\n                                familiehendelsesdato={familiehendelsesdato}\n                                onBekreft={(values) => {\n                                    setFieldValue(PeriodeUtsettelseFormField.fom, ISOStringToDate(values.fom));\n                                    setFieldValue(PeriodeUtsettelseFormField.tom, ISOStringToDate(values.tom));\n                                }}\n                                ugyldigeTidsperioder={undefined}\n                                utsettelserIPlan={utsettelserIPlan}\n                                erFarEllerMedmor={erFarEllerMedmor}\n                                morHarRett={!søkerErFarEllerMedmorOgKunDeHarRett}\n                                situasjon={situasjon}\n                                erFarMedmorOgHarAleneomsorg={erFarMedmorOgHarAleneomsorg}\n                            />\n                        </Block>\n                        <PeriodeUtsettelseFormComponents.Form includeButtons={false}>\n                            {!isNyPeriode && (\n                                <SubmitListener\n                                    cleanup={() =>\n                                        cleanupPeriodeUtsettelseFormData(values as PeriodeUtsettelseFormData)\n                                    }\n                                />\n                            )}\n\n                            <Block visible={isValidTidsperiode({ fom: values.fom!, tom: values.tom! })} padBottom=\"xl\">\n                                <TidsperiodeDisplay\n                                    tidsperiode={{ fom: values.fom!, tom: values.tom! }}\n                                    toggleVisTidsperiode={toggleVisTidsperiode}\n                                />\n                                <UtsettelseEndreTidsperiodeSpørsmål\n                                    periode={periode}\n                                    familiehendelsesdato={familiehendelsesdato}\n                                    ugyldigeTidsperioder={undefined}\n                                    utsettelserIPlan={utsettelserIPlan}\n                                    onBekreft={(values) => {\n                                        toggleVisTidsperiode();\n                                        setFieldValue(PeriodeUtsettelseFormField.fom, ISOStringToDate(values.fom));\n                                        setFieldValue(PeriodeUtsettelseFormField.tom, ISOStringToDate(values.tom));\n                                    }}\n                                    changeTidsperiode={(values) => {\n                                        setTimeout(() => {\n                                            setFieldValue(PeriodeUtsettelseFormField.fom, values.fom);\n                                            setFieldValue(PeriodeUtsettelseFormField.tom, values.tom);\n                                        }, 0);\n                                    }}\n                                    tidsperiode={{ fom: values.fom!, tom: values.tom! }}\n                                    onAvbryt={() => toggleVisTidsperiode()}\n                                    visible={tidsperiodeIsOpen}\n                                    erFarEllerMedmor={erFarEllerMedmor}\n                                    morHarRett={!søkerErFarEllerMedmorOgKunDeHarRett}\n                                    situasjon={situasjon}\n                                    erFarMedmorOgHarAleneomsorg={erFarMedmorOgHarAleneomsorg}\n                                />\n                            </Block>\n                            <Block visible={visibility.isVisible(PeriodeUtsettelseFormField.årsak)} padBottom=\"xl\">\n                                <UtsettelseÅrsakSpørsmål\n                                    periodenErKunHelligdager={periodenErKunHelligdager}\n                                    skalViseGamleUtsettelseÅrsaker={skalViseGamleUtsettelseÅrsaker}\n                                    erFarEllerMedmor={erFarEllerMedmor}\n                                    tidsperiodenErInnenforFørsteSeksUker={Tidsperioden({\n                                        fom: values.fom!,\n                                        tom: values.tom!,\n                                    }).erInnenforFørsteSeksUker(familiehendelsesdato)}\n                                    utsettelseårsak={values.årsak!}\n                                    vedlegg={values.vedlegg!}\n                                    erMorUfør={erMorUfør}\n                                    søkerErFarEllerMedmorOgKunDeHarRett={søkerErFarEllerMedmorOgKunDeHarRett}\n                                    isOpen={isOpen}\n                                />\n                            </Block>\n                            <Block\n                                visible={visibility.isVisible(PeriodeUtsettelseFormField.bekrefterArbeidIPerioden)}\n                                padBottom=\"xl\"\n                            >\n                                <PeriodeUtsettelseFormComponents.Checkbox\n                                    name={PeriodeUtsettelseFormField.bekrefterArbeidIPerioden}\n                                    label={intlUtils(intl, 'uttaksplan.bekrefterArbeidIPerioden')}\n                                    validate={(value) => {\n                                        if (!hasValue(value) || value === undefined || value === false) {\n                                            return intlUtils(intl, 'uttaksplan.validering.bekrefterArbeidIPerioden');\n                                        }\n\n                                        return undefined;\n                                    }}\n                                />\n                            </Block>\n                            <Block\n                                visible={visibility.isVisible(PeriodeUtsettelseFormField.morsAktivitetIPerioden)}\n                                padBottom=\"xl\"\n                            >\n                                <AktivitetskravSpørsmål\n                                    aktivitetskravMorValue={values.morsAktivitetIPerioden!}\n                                    aktivitetskravVedlegg={values.morsAktivitetIPeriodenDokumentasjon!}\n                                    fieldName={PeriodeUtsettelseFormField.morsAktivitetIPerioden}\n                                    navnPåForeldre={navnPåForeldre}\n                                    FormComponents={PeriodeUtsettelseFormComponents}\n                                    vedleggFieldName={PeriodeUtsettelseFormField.morsAktivitetIPeriodenDokumentasjon}\n                                    isOpen={isOpen}\n                                    saveAttachment={saveAttachment}\n                                />\n                            </Block>\n                            <Block\n                                visible={\n                                    !isNyPeriode && handleDeletePeriode !== undefined && toggleIsOpen !== undefined\n                                }\n                            >\n                                <div style={{ textAlign: 'center', position: 'relative' }}>\n                                    <Button variant=\"secondary\" onClick={() => toggleIsOpen!(periode.id)}>\n                                        <FormattedMessage id=\"uttaksplan.lukk\" />\n                                    </Button>\n                                    <div className={bem.element('slettPeriodeWrapper')}>\n                                        <ActionLink\n                                            onClick={() => handleDeletePeriode!(periode.id)}\n                                            className={bem.element('slettPeriode')}\n                                        >\n                                            <FormattedMessage id={getSlettPeriodeTekst(periode.type)} />\n                                        </ActionLink>\n                                    </div>\n                                </div>\n                            </Block>\n                            <Block\n                                visible={\n                                    isNyPeriode &&\n                                    setNyPeriodeFormIsVisible !== undefined &&\n                                    handleAddPeriode !== undefined\n                                }\n                            >\n                                <div className={bem.element('knapperad')}>\n                                    <Button variant=\"secondary\" onClick={() => setNyPeriodeFormIsVisible!(false)}>\n                                        <FormattedMessage id=\"uttaksplan.avbryt\" />\n                                    </Button>\n                                    {visibility.areAllQuestionsAnswered() ? (\n                                        <Button type=\"submit\">\n                                            <FormattedMessage id=\"uttaksplan.leggTil\" />\n                                        </Button>\n                                    ) : null}\n                                </div>\n                            </Block>\n                        </PeriodeUtsettelseFormComponents.Form>\n                    </>\n                );\n            }}\n        />\n    );\n};\n\nexport default PeriodeUtsettelseForm;\n","import {\n    AnnenForelder,\n    Arbeidsforhold,\n    Attachment,\n    Block,\n    NavnPåForeldre,\n    Periode,\n    PeriodeValidState,\n    Periodetype,\n    Situasjon,\n    TilgjengeligStønadskonto,\n    Utsettelsesperiode,\n} from '@navikt/fp-common';\nimport { Dispatch, FunctionComponent, SetStateAction, useState } from 'react';\nimport PeriodeUttakForm from '../periode-uttak-form/PeriodeUttakForm';\nimport PeriodeUtsettelseForm from '../periode-utsettelse-form/PeriodeUtsettelseForm';\nimport { FormattedMessage, IntlShape } from 'react-intl';\nimport { Heading } from '@navikt/ds-react';\n\ninterface Props {\n    familiehendelsesdato: Date;\n    stønadskontoer: TilgjengeligStønadskonto[];\n    navnPåForeldre: NavnPåForeldre;\n    annenForelder: AnnenForelder;\n    setNyPeriodeFormIsVisible: Dispatch<SetStateAction<boolean>>;\n    arbeidsforhold: Arbeidsforhold[];\n    isUtsettelse: boolean;\n    handleAddPeriode: (nyPeriode: Periode, familiehendelsedato: Date) => void;\n    erFarEllerMedmor: boolean;\n    erFlerbarnssøknad: boolean;\n    erAleneOmOmsorg: boolean;\n    erDeltUttak: boolean;\n    situasjon: Situasjon;\n    erMorUfør: boolean;\n    setPerioderErGyldige: React.Dispatch<React.SetStateAction<PeriodeValidState[]>>;\n    nesteLedigeUttaksdato: Date | undefined;\n    søkerErFarEllerMedmorOgKunDeHarRett: boolean;\n    erEndringssøknad: boolean;\n    termindato: Date | undefined;\n    antallBarn: number;\n    utsettelserIPlan: Utsettelsesperiode[];\n    intl: IntlShape;\n    saveAttachment: (vedlegg: Attachment) => void;\n}\n\nconst NyPeriode: FunctionComponent<Props> = ({\n    setNyPeriodeFormIsVisible,\n    isUtsettelse,\n    annenForelder,\n    arbeidsforhold,\n    navnPåForeldre,\n    stønadskontoer,\n    familiehendelsesdato,\n    handleAddPeriode,\n    erFarEllerMedmor,\n    erFlerbarnssøknad,\n    erAleneOmOmsorg,\n    erDeltUttak,\n    situasjon,\n    erMorUfør,\n    setPerioderErGyldige,\n    nesteLedigeUttaksdato,\n    søkerErFarEllerMedmorOgKunDeHarRett,\n    erEndringssøknad,\n    termindato,\n    antallBarn,\n    utsettelserIPlan,\n    intl,\n    saveAttachment,\n}) => {\n    const [periode, setPeriode] = useState<Periode>({\n        type: isUtsettelse ? Periodetype.Utsettelse : Periodetype.Uttak,\n        tidsperiode: { fom: isUtsettelse ? undefined : nesteLedigeUttaksdato },\n    } as Periode);\n\n    return !isUtsettelse ? (\n        <>\n            <Block padBottom=\"xl\">\n                <Heading size=\"small\">\n                    <FormattedMessage id=\"uttaksplan.nyPeriode.tittel\" />\n                </Heading>\n            </Block>\n            <PeriodeUttakForm\n                periode={periode}\n                handleUpdatePeriode={setPeriode}\n                handleAddPeriode={handleAddPeriode}\n                annenForelder={annenForelder}\n                arbeidsforhold={arbeidsforhold}\n                familiehendelsesdato={familiehendelsesdato}\n                navnPåForeldre={navnPåForeldre}\n                stønadskontoer={stønadskontoer}\n                setNyPeriodeFormIsVisible={setNyPeriodeFormIsVisible}\n                isNyPeriode={true}\n                erFarEllerMedmor={erFarEllerMedmor}\n                erFlerbarnssøknad={erFlerbarnssøknad}\n                erAleneOmOmsorg={erAleneOmOmsorg}\n                erDeltUttak={erDeltUttak}\n                situasjon={situasjon}\n                erMorUfør={erMorUfør}\n                setPerioderErGyldige={setPerioderErGyldige}\n                erEndringssøknad={erEndringssøknad}\n                termindato={termindato}\n                morHarRett={!søkerErFarEllerMedmorOgKunDeHarRett}\n                antallBarn={antallBarn}\n                utsettelserIPlan={utsettelserIPlan}\n                intl={intl}\n                isOpen={true}\n                saveAttachment={saveAttachment}\n            />\n        </>\n    ) : (\n        <PeriodeUtsettelseForm\n            periode={periode}\n            familiehendelsesdato={familiehendelsesdato}\n            handleUpdatePeriode={setPeriode}\n            erFarEllerMedmor={erFarEllerMedmor}\n            erAleneOmOmsorg={erAleneOmOmsorg}\n            handleAddPeriode={handleAddPeriode}\n            setNyPeriodeFormIsVisible={setNyPeriodeFormIsVisible}\n            isNyPeriode={true}\n            navnPåForeldre={navnPåForeldre}\n            erMorUfør={erMorUfør}\n            søkerErFarEllerMedmorOgKunDeHarRett={søkerErFarEllerMedmorOgKunDeHarRett}\n            arbeidsforhold={arbeidsforhold}\n            situasjon={situasjon}\n            utsettelserIPlan={utsettelserIPlan}\n            setPerioderErGyldige={setPerioderErGyldige}\n            isOpen={true}\n            saveAttachment={saveAttachment}\n        />\n    );\n};\n\nexport default NyPeriode;\n","import classnames from 'classnames';\nimport { bemUtils } from '@navikt/fp-common';\nimport { UttaksplanColor } from '../../types/UttaksplanColor';\n\nimport './iconBox.less';\n\nexport interface Props {\n    color: UttaksplanColor;\n    stripes?: boolean;\n    children?: React.ReactNode;\n}\n\nconst IconBox: React.FunctionComponent<Props> = ({ children, color, stripes }) => {\n    const bem = bemUtils('iconBox');\n\n    return (\n        <div className={classnames(bem.block, bem.modifier(`${color}${stripes ? '--striped' : ''}`))}>{children}</div>\n    );\n};\n\nexport default IconBox;\n","import { UttaksplanIkonProps } from '../components/uttaksplan-ikon/UttaksplanIkon';\n\nconst ArbeidIkon = (props: UttaksplanIkonProps) => {\n    const { title, ...rest } = props;\n    return (\n        <svg\n            focusable=\"false\"\n            role=\"img\"\n            aria-hidden=\"true\"\n            xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n            width={32}\n            height={32}\n            {...rest}\n        >\n            <title>{props.title}</title>\n            <defs>\n                <rect id=\"a\" width={32} height={32} rx={10} />\n            </defs>\n            <g fill=\"none\" fillRule=\"evenodd\">\n                <path\n                    fill=\"#FFF\"\n                    fillRule=\"nonzero\"\n                    d=\"M23.378 7.79l-.001-.002-1.666-1.665A.413.413 0 0 0 21.417 6H10.583a.417.417 0 0 0-.295.123L8.622 7.788l-.002.002a.463.463 0 0 0-.12.293v17.5c0 .23.187.417.417.417h5.416v-3.75c0-.23.187-.417.417-.417h2.5c.23 0 .417.187.417.417V26h5.416c.23 0 .417-.187.417-.417v-17.5a.46.46 0 0 0-.122-.293zM12.667 20.167h-2.5v-2.5h2.5v2.5zm0-4.167h-2.5v-2.5h2.5V16zm0-4.167h-2.5v-2.5h2.5v2.5zm5 8.334h-3.334v-2.5h3.334v2.5zm0-4.167h-3.334v-2.5h3.334V16zm0-4.167h-3.334v-2.5h3.334v2.5zm4.166 8.334h-2.5v-2.5h2.5v2.5zm0-4.167h-2.5v-2.5h2.5V16zm0-4.167h-2.5v-2.5h2.5v2.5zM9.923 7.667l.833-.834h10.488l.834.834H9.923z\"\n                />\n            </g>\n        </svg>\n    );\n};\n\nexport default ArbeidIkon;\n","import { UttaksplanIkonProps } from '../components/uttaksplan-ikon/UttaksplanIkon';\n\nconst FerieIkon = (props: UttaksplanIkonProps) => {\n    const { title, ...rest } = props;\n    return (\n        <svg\n            focusable=\"false\"\n            role=\"img\"\n            aria-hidden=\"true\"\n            xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n            width={32}\n            height={32}\n            {...rest}\n        >\n            <title>{props.title}</title>\n            <defs>\n                <rect id=\"a\" width={32} height={32} rx={10} />\n            </defs>\n            <g fill=\"none\" fillRule=\"evenodd\">\n                <g stroke=\"#FFF\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                    <path d=\"M25.583 19.737h-5c-2.042 0-3.85.657-4.991 1.667m4.991-1.654l-2.763-6.973m-2.149-5.423l-.307-.774\" />\n                    <path\n                        fill=\"#FFF\"\n                        d=\"M15.671 7.354c-4.065 1.61-6.704 4.571-5.517 7.566l.306.775 1.937-.769.468-1.081 1.082.468 7.747-3.07.467-1.082 1.082.467 1.937-.768-.307-.775c-1.188-2.995-5.138-3.342-9.202-1.731z\"\n                    />\n                    <path d=\"M25.583 24.75c-.833 0-1.666-.747-1.666-1.667 0 .92-.834 1.667-1.667 1.667-.833 0-1.667-.747-1.667-1.667 0 .92-.833 1.667-1.666 1.667-.834 0-1.667-.747-1.667-1.667 0 .92-.833 1.667-1.667 1.667-.833 0-1.666-.747-1.666-1.667 0 .92-.834 1.667-1.667 1.667-.833 0-1.667-.747-1.667-1.667 0 .92-.833 1.667-1.666 1.667-.834 0-1.667-.747-1.667-1.667 0 .575-.386 1.083-.833 1.383\" />\n                </g>\n            </g>\n        </svg>\n    );\n};\n\nexport default FerieIkon;\n","import { UttaksplanIkonProps } from '../components/uttaksplan-ikon/UttaksplanIkon';\n\nconst SykdomIkon = (props: UttaksplanIkonProps) => {\n    const { title, ...rest } = props;\n    return (\n        <svg\n            focusable=\"false\"\n            role=\"img\"\n            aria-hidden=\"true\"\n            xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n            width={32}\n            height={32}\n            {...rest}\n        >\n            <title>{props.title}</title>\n            <defs>\n                <rect id=\"a\" width={32} height={32} rx={10} />\n                <path\n                    id=\"c\"\n                    d=\"M8.294 1.518l10.19 10.19c1.823 1.822 1.785 4.82-.086 6.69s-4.867 1.91-6.69.086L1.518 8.294c-1.823-1.822-1.786-4.818.086-6.69 1.872-1.871 4.867-1.91 6.69-.086zm6.27 7.4l-3.473-3.476-5.648 5.647 3.475 3.476 5.646-5.648zM3.258 6.65a.472.472 0 0 0-.138.339.499.499 0 0 0 .49.489A.472.472 0 0 0 4.085 7a.497.497 0 0 0-.489-.489.472.472 0 0 0-.34.138zM4.96 4.963a.47.47 0 0 0-.137.34.498.498 0 0 0 .488.488.47.47 0 0 0 .476-.476.496.496 0 0 0-.488-.488.466.466 0 0 0-.34.136zm-2.005-.31a.468.468 0 0 0-.138.338.499.499 0 0 0 .49.49.47.47 0 0 0 .476-.478.497.497 0 0 0-.489-.489.468.468 0 0 0-.34.138zm1.694-1.694a.472.472 0 0 0-.138.34.496.496 0 0 0 .488.487.467.467 0 0 0 .477-.477.496.496 0 0 0-.488-.488.472.472 0 0 0-.34.138zm.622 4.009a.47.47 0 0 0-.136.34.496.496 0 0 0 .489.488.466.466 0 0 0 .476-.476.498.498 0 0 0-.488-.489.474.474 0 0 0-.341.137zm1.694-1.693a.472.472 0 0 0-.138.34.496.496 0 0 0 .488.487.467.467 0 0 0 .477-.477.495.495 0 0 0-.488-.487.472.472 0 0 0-.34.137zM6.654 3.27a.472.472 0 0 0-.138.339.5.5 0 0 0 .49.49.47.47 0 0 0 .477-.477.5.5 0 0 0-.49-.49.472.472 0 0 0-.34.138zm5.993 12.771a.468.468 0 0 0-.138.34.498.498 0 0 0 .49.488.47.47 0 0 0 .337-.139.47.47 0 0 0 .14-.337.499.499 0 0 0-.49-.49.468.468 0 0 0-.34.138zm1.694-1.696a.473.473 0 0 0-.137.339c.002.268.22.486.489.489a.466.466 0 0 0 .476-.476.499.499 0 0 0-.49-.49.476.476 0 0 0-.338.138zm.31 2.006a.472.472 0 0 0-.137.339.499.499 0 0 0 .49.489.472.472 0 0 0 .476-.477.497.497 0 0 0-.489-.489.472.472 0 0 0-.34.138zm1.696-1.693a.469.469 0 0 0-.137.338c.002.267.22.485.489.49a.469.469 0 0 0 .476-.477.499.499 0 0 0-.49-.489.472.472 0 0 0-.338.138zm-4.011-.623a.469.469 0 0 0-.137.338.497.497 0 0 0 .489.49.469.469 0 0 0 .476-.477.499.499 0 0 0-.489-.489.472.472 0 0 0-.34.138zm1.694-1.694a.472.472 0 0 0-.138.339.499.499 0 0 0 .489.489.472.472 0 0 0 .476-.476.495.495 0 0 0-.489-.49.469.469 0 0 0-.338.138zm2.005.31a.472.472 0 0 0-.137.34.499.499 0 0 0 .489.489.466.466 0 0 0 .475-.476.495.495 0 0 0-.489-.488.466.466 0 0 0-.338.136z\"\n                />\n            </defs>\n            <g fill=\"none\" fillRule=\"evenodd\">\n                <g transform=\"translate(6 6)\">\n                    <mask id=\"d\" fill=\"#fff\">\n                        <use xlinkHref=\"#c\" />\n                    </mask>\n                    <g fill=\"#FFF\" mask=\"url(#d)\">\n                        <path d=\"M0 20h20V0H0z\" />\n                    </g>\n                </g>\n            </g>\n        </svg>\n    );\n};\n\nexport default SykdomIkon;\n","import { UttaksplanIkonProps } from '../components/uttaksplan-ikon/UttaksplanIkon';\n\nconst TerminIkon = (props: UttaksplanIkonProps) => {\n    const { title, ...rest } = props;\n    return (\n        <svg focusable=\"false\" role=\"img\" aria-hidden=\"true\" width={24} height={24} viewBox=\"0 0 24 24\" {...rest}>\n            <title>{props.title}</title>\n            <path\n                fill=\"none\"\n                fillRule=\"evenodd\"\n                stroke=\"#3E3832\"\n                strokeLinejoin=\"round\"\n                d=\"M12 22.993s10.5-8.128 10.5-15.82-9.316-8.284-10.5-.59C10.816-1.112 1.5-.52 1.5 7.764S12 22.993 12 22.993z\"\n            />\n        </svg>\n    );\n};\n\nexport default TerminIkon;\n","import { UttaksplanIkonProps } from '../components/uttaksplan-ikon/UttaksplanIkon';\n\nconst UttakIkon = (props: UttaksplanIkonProps) => {\n    const { title, ...rest } = props;\n    return (\n        <svg\n            focusable=\"false\"\n            role=\"img\"\n            aria-hidden=\"true\"\n            xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n            width={32}\n            height={32}\n            {...rest}\n        >\n            <title>{props.title}</title>\n            <defs>\n                <rect id=\"a\" width={32} height={32} rx={10} />\n            </defs>\n            <g fill=\"none\" fillRule=\"evenodd\">\n                <g transform=\"translate(6 6)\">\n                    <circle cx={14.583} cy={17.083} r={1.083} stroke=\"#FFF\" strokeWidth={2} />\n                    <circle cx={7.083} cy={17.083} r={1.083} stroke=\"#FFF\" strokeWidth={2} />\n                    <path\n                        fill=\"#FFF\"\n                        d=\"M19.928 8.718c0 3.453-1.997 6.282-5.586 6.282H7.106c-2.586 0-4.682-2.21-4.682-4.936 0-.467.062-.918.176-1.346 3.038 0 14.084-.004 17.328 0zM13.886 2.5c3.734 0 6.042 2.836 6.042 5.385-1.835 0-4.85-.005-8.841-.005l2.8-5.38z\"\n                    />\n                    <path\n                        stroke=\"#FFF\"\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                        d=\"M3.107 9.612c0-2.314-1.218-3.962-2.678-3.962\"\n                    />\n                </g>\n            </g>\n        </svg>\n    );\n};\n\nexport default UttakIkon;\n","import { SVGProps } from 'react';\nimport { XMarkOctagonFillIcon, ExclamationmarkTriangleFillIcon, InformationSquareIcon } from '@navikt/aksel-icons';\nimport ArbeidIkon from '../../assets/ArbeidIkon';\nimport FerieIkon from '../../assets/FerieIkon';\nimport SykdomIkon from '../../assets/SykdomIkon';\nimport TerminIkon from '../../assets/TerminIkon';\nimport UttakIkon from '../../assets/UttakIkon';\n\nexport interface UttaksplanIkonProps extends SVGProps<any> {\n    title: string;\n}\n\nexport enum UttaksplanIkonKeys {\n    'arbeid' = 'arbeid',\n    'ferie' = 'ferie',\n    'sykdom' = 'sykdom',\n    'termin' = 'termin',\n    'uttak' = 'uttak',\n    'info' = 'info',\n    'advarsel' = 'advarsel',\n    'feil' = 'feil',\n}\n\nexport interface Props {\n    ikon: UttaksplanIkonKeys;\n    title: string;\n}\n\nconst UttaksplanIkon: React.FunctionComponent<Props> = ({ ikon, title }) => {\n    switch (ikon) {\n        case 'arbeid':\n            return <ArbeidIkon title={title} />;\n        case 'ferie':\n            return <FerieIkon title={title} />;\n        case 'sykdom':\n            return <SykdomIkon title={title} />;\n        case 'termin':\n            return <TerminIkon title={title} />;\n        case 'info':\n            return <InformationSquareIcon />;\n        case 'advarsel':\n            return <ExclamationmarkTriangleFillIcon />;\n        case 'feil':\n            return <XMarkOctagonFillIcon />;\n        default:\n            return <UttakIkon title={title} />;\n    }\n};\n\nexport default UttaksplanIkon;\n","export enum UttaksplanColor {\n    'purple' = 'purple',\n    'blue' = 'blue',\n    'green' = 'green',\n    'purpleBlue' = 'purpleBlue',\n    'yellow' = 'yellow',\n    'white' = 'white',\n    'transparent' = 'transparent',\n    'infoBlue' = 'infoBlue',\n}\n","import { Forelder, Oppholdsperiode, Periode, Periodetype, StønadskontoType } from '@navikt/fp-common';\nimport { UttaksplanColor } from '../types/UttaksplanColor';\n\nexport const getForelderFarge = (forelder: Forelder) => {\n    return forelder === Forelder.mor ? UttaksplanColor.purple : UttaksplanColor.blue;\n};\n\nexport const getStønadskontoFarge = (\n    konto: StønadskontoType,\n    forelder: Forelder | undefined,\n    forIkon?: boolean,\n    harMidlertidigOmsorg?: boolean,\n): UttaksplanColor => {\n    if (forIkon && konto === StønadskontoType.Fellesperiode) {\n        return UttaksplanColor.purpleBlue;\n    }\n\n    if (harMidlertidigOmsorg) {\n        return UttaksplanColor.purple;\n    }\n\n    if (forelder === undefined) {\n        switch (konto) {\n            case StønadskontoType.Fedrekvote:\n            case StønadskontoType.AktivitetsfriKvote:\n                return UttaksplanColor.blue;\n            case StønadskontoType.Mødrekvote:\n            case StønadskontoType.Foreldrepenger:\n            case StønadskontoType.ForeldrepengerFørFødsel:\n                return UttaksplanColor.purple;\n            case StønadskontoType.Fellesperiode:\n                return UttaksplanColor.purpleBlue;\n            default:\n                return UttaksplanColor.transparent;\n        }\n    }\n    return getForelderFarge(forelder);\n};\n\nexport const getUtsettelseFarge = (): UttaksplanColor => {\n    return UttaksplanColor.green;\n};\n\nexport const getOppholdFarge = (periode: Oppholdsperiode): UttaksplanColor => {\n    return getForelderFarge(periode.forelder);\n};\n\nexport const getPeriodeFarge = (\n    periode: Periode,\n    forelder?: Forelder,\n    harMidlertidligOmsorg?: boolean,\n): UttaksplanColor | undefined => {\n    if (harMidlertidligOmsorg) {\n        return UttaksplanColor.purple;\n    }\n\n    if (periode.type === Periodetype.Uttak || periode.type === Periodetype.Overføring) {\n        return getStønadskontoFarge(periode.konto, periode.forelder || forelder);\n    }\n    if (periode.type === Periodetype.Utsettelse) {\n        return getUtsettelseFarge();\n    }\n    if (periode.type === Periodetype.Opphold) {\n        return getOppholdFarge(periode);\n    }\n    return undefined;\n};\n","import { FunctionComponent } from 'react';\nimport { useIntl } from 'react-intl';\nimport IconBox from '../icon-box/IconBox';\nimport UttaksplanIkon, { UttaksplanIkonKeys } from '../uttaksplan-ikon/UttaksplanIkon';\nimport { Forelder, NavnPåForeldre, Situasjon, StønadskontoType, getStønadskontoNavn } from '@navikt/fp-common';\nimport { getStønadskontoFarge } from '../../utils/styleUtils';\n\nexport interface Props {\n    konto: StønadskontoType;\n    forelder?: Forelder;\n    gradert?: boolean;\n    navnPåForeldre: NavnPåForeldre;\n    erFarEllerMedmor?: boolean;\n    situasjon?: Situasjon;\n    erAleneOmOmsorg?: boolean;\n    harMidlertidigOmsorg?: boolean;\n}\n\nconst StønadskontoIkon: FunctionComponent<Props> = ({\n    konto,\n    forelder,\n    gradert,\n    navnPåForeldre,\n    harMidlertidigOmsorg,\n    erFarEllerMedmor,\n    erAleneOmOmsorg,\n}) => {\n    const intl = useIntl();\n\n    return (\n        <IconBox color={getStønadskontoFarge(konto, forelder, true, harMidlertidigOmsorg)} stripes={gradert}>\n            <UttaksplanIkon\n                ikon={UttaksplanIkonKeys.uttak}\n                title={getStønadskontoNavn(intl, konto, navnPåForeldre, erFarEllerMedmor, erAleneOmOmsorg)}\n            />\n        </IconBox>\n    );\n};\n\nexport default StønadskontoIkon;\n","import { intlUtils, UtsettelseÅrsakType } from '@navikt/fp-common';\n\nimport { useIntl } from 'react-intl';\nimport IconBox from '../icon-box/IconBox';\nimport UttaksplanIkon, { UttaksplanIkonKeys } from '../uttaksplan-ikon/UttaksplanIkon';\nimport { getUtsettelseFarge } from '../../utils/styleUtils';\n\nexport interface Props {\n    årsak: UtsettelseÅrsakType;\n    gradert?: boolean;\n}\n\nconst getIkonForKonto = (årsak: UtsettelseÅrsakType): UttaksplanIkonKeys => {\n    switch (årsak) {\n        case UtsettelseÅrsakType.Ferie:\n            return UttaksplanIkonKeys.ferie;\n        case UtsettelseÅrsakType.Arbeid:\n        case UtsettelseÅrsakType.HvØvelse:\n        case UtsettelseÅrsakType.NavTiltak:\n        case UtsettelseÅrsakType.Fri:\n            return UttaksplanIkonKeys.arbeid;\n        case UtsettelseÅrsakType.InstitusjonBarnet:\n        case UtsettelseÅrsakType.InstitusjonSøker:\n        case UtsettelseÅrsakType.Sykdom:\n            return UttaksplanIkonKeys.sykdom;\n    }\n};\n\nconst UtsettelseIkon: React.FunctionComponent<Props> = ({ årsak, gradert }) => {\n    const intl = useIntl();\n\n    return (\n        <IconBox color={getUtsettelseFarge()} stripes={gradert}>\n            <UttaksplanIkon\n                ikon={getIkonForKonto(årsak)}\n                title={intlUtils(intl, `uttaksplan.utsettelsesårsak.${årsak || 'ukjent'}`)}\n            />\n        </IconBox>\n    );\n};\n\nexport default UtsettelseIkon;\n","import { SVGProps } from 'react';\n\nexport interface OwnProps {\n    type?: 'advarsel' | 'feil';\n    title?: string;\n}\n\ntype Props = OwnProps & SVGProps<any>;\n\nconst UttaksplanAdvarselIkon = (props: Props) => {\n    const farge = props.type === 'feil' ? '#ba3a26' : '#ff9100';\n    const { title, ...rest } = props;\n\n    return (\n        <svg\n            focusable=\"false\"\n            role=\"img\"\n            aria-hidden=\"true\"\n            xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n            width={24}\n            height={24}\n            viewBox=\"0 0 24 24\"\n            {...rest}\n        >\n            <title>{props.title}</title>\n            <defs>\n                <path\n                    id=\"advarsel-a\"\n                    d=\"M23.892 22.23L12.462 1.243c-.178-.324-.758-.324-.934 0L.055 22.307a.445.445 0 0 0 .022.465c.094.14.264.228.446.228h22.955c.287 0 .522-.214.522-.479 0-.109-.04-.21-.108-.29zM11.474 8.784c0-.264.233-.479.521-.479.287 0 .522.215.522.48v7.326c0 .264-.235.479-.522.479-.288 0-.521-.215-.521-.479V8.784zm.521 11.447c-.551 0-.998-.41-.998-.915 0-.505.447-.916.998-.916.55 0 .997.411.997.916 0 .506-.447.915-.997.915z\"\n                />\n            </defs>\n            <g fill=\"none\" fillRule=\"evenodd\">\n                <mask id=\"advarsel-b\" fill=\"#fff\">\n                    <use xlinkHref=\"#advarsel-a\" />\n                </mask>\n                <g fill={farge} mask=\"url(#advarsel-b)\">\n                    <path d=\"M0 24h24V0H0z\" />\n                </g>\n            </g>\n        </svg>\n    );\n};\n\nexport default UttaksplanAdvarselIkon;\n","import { VeilederMessage } from '../types';\nimport { FormattedMessage } from 'react-intl';\nimport { bemUtils } from '@navikt/fp-common';\nimport { Alert, Label } from '@navikt/ds-react';\nimport { UttaksplanIkonKeys } from '../../../components/uttaksplan-ikon/UttaksplanIkon';\n\nimport './veilederMelding.less';\n\nexport type VeilederMeldingStil = 'transparent' | 'default';\n\ninterface VeilederpanelInnholdContentProps {\n    message: VeilederMessage;\n    stil?: VeilederMeldingStil;\n    skjulMeldingIkon?: boolean;\n}\n\ntype AlertType = 'error' | 'warning' | 'info' | 'success';\n\nconst getAlertStripeTypeFromMessageType = (message: VeilederMessage): AlertType => {\n    switch (message.type) {\n        case 'normal':\n        case 'info':\n            return 'info';\n        case 'advarsel':\n            return 'warning';\n        case 'feil':\n            return 'error';\n    }\n};\n\nexport const getIkonForVeilederMelding = (melding: VeilederMessage): UttaksplanIkonKeys => {\n    switch (melding.type) {\n        case 'feil':\n            return UttaksplanIkonKeys.feil;\n        case 'advarsel':\n            return UttaksplanIkonKeys.advarsel;\n        default:\n            return UttaksplanIkonKeys.info;\n    }\n};\n\nconst renderAlert = (message: VeilederMessage, skjulMeldingIkon: boolean, stil: VeilederMeldingStil) => {\n    const content = (\n        <>\n            {message.titleIntlKey !== undefined && (\n                <Label as=\"div\">\n                    <FormattedMessage id={message.titleIntlKey} />\n                </Label>\n            )}\n            <FormattedMessage id={message.contentIntlKey} values={message.values} />\n        </>\n    );\n    return skjulMeldingIkon ? (\n        <div>{content}</div>\n    ) : (\n        <Alert variant={getAlertStripeTypeFromMessageType(message)} inline={stil === 'transparent'}>\n            {content}\n        </Alert>\n    );\n};\n\nconst VeilederMelding: React.FunctionComponent<VeilederpanelInnholdContentProps> = ({\n    message,\n    stil = 'default',\n    skjulMeldingIkon = false,\n}) => {\n    const bem = bemUtils('veilederMelding');\n    return (\n        <div className={bem.classNames(bem.block, bem.modifier(stil))}>\n            {message.type !== 'normal' ? (\n                renderAlert(message, skjulMeldingIkon, stil)\n            ) : (\n                <div className=\"veilederMelding__padding\">\n                    <FormattedMessage id={message.contentIntlKey} values={message.values} />\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default VeilederMelding;\n","import {\n    Forelder,\n    NavnPåForeldre,\n    Periode,\n    Periodetype,\n    Situasjon,\n    StønadskontoType,\n    Tidsperioden,\n    bemUtils,\n    getUkerOgDagerFromDager,\n    getValidTidsperiode,\n    intlUtils,\n    isForeldrepengerFørFødselUttaksperiode,\n    isUtsettelseAnnenPart,\n    isUttakAnnenPart,\n    måned,\n    måned3bokstaver,\n    år,\n} from '@navikt/fp-common';\nimport classNames from 'classnames';\nimport dayjs from 'dayjs';\nimport { FunctionComponent } from 'react';\nimport StønadskontoIkon from '../stønadskonto-ikon/StønadskontoIkon';\nimport UtsettelseIkon from '../utsettelse-ikon/UtsettelseIkon';\nimport { FormattedMessage, IntlShape, useIntl } from 'react-intl';\nimport UttaksplanIkon from '../uttaksplan-ikon/UttaksplanIkon';\nimport { BodyShort, Label } from '@navikt/ds-react';\n\nimport './periodelisteItemHeader.less';\nimport { getForelderNavn, getPeriodeTittel } from '@navikt/fp-common/src/common/utils/periodeUtils';\nimport { VeilederMessage } from '../../validering/veilederInfo/types';\nimport UttaksplanAdvarselIkon from '../../assets/UttaksplanAdvarselIkon';\nimport { getIkonForVeilederMelding } from '../../validering/veilederInfo/components/VeilederMelding';\n\ninterface Props {\n    egenPeriode: boolean;\n    periode: Periode;\n    navnPåForeldre: NavnPåForeldre;\n    melding: VeilederMessage | undefined;\n    annenForelderSamtidigUttakPeriode?: Periode;\n    familiehendelsesdato: Date;\n    termindato: Date | undefined;\n    situasjon: Situasjon;\n    erFarEllerMedmor: boolean;\n    erAleneOmOmsorg: boolean;\n}\n\nconst bem = bemUtils('periodelisteItemHeader');\n\nexport const getPeriodeIkon = (\n    periode: Periode,\n    navnPåForeldre: NavnPåForeldre,\n    harMidlertidigOmsorg?: boolean,\n    erFarEllerMedmor?: boolean,\n    situasjon?: Situasjon,\n    erAleneOmOmsorg?: boolean,\n): React.ReactNode | undefined => {\n    switch (periode.type) {\n        case Periodetype.Uttak:\n            return (\n                <StønadskontoIkon\n                    konto={periode.konto}\n                    forelder={periode.forelder}\n                    gradert={periode.gradert}\n                    navnPåForeldre={navnPåForeldre}\n                    harMidlertidigOmsorg={harMidlertidigOmsorg}\n                    erFarEllerMedmor={erFarEllerMedmor}\n                    situasjon={situasjon}\n                    erAleneOmOmsorg={erAleneOmOmsorg}\n                />\n            );\n        case Periodetype.Overføring:\n            return (\n                <StønadskontoIkon konto={periode.konto} forelder={periode.forelder} navnPåForeldre={navnPåForeldre} />\n            );\n        case Periodetype.Utsettelse:\n            return <UtsettelseIkon årsak={periode.årsak} />;\n        case Periodetype.Opphold:\n            return (\n                <StønadskontoIkon\n                    konto={StønadskontoType.Foreldrepenger}\n                    forelder={periode.forelder}\n                    navnPåForeldre={navnPåForeldre}\n                />\n            );\n        case Periodetype.Info:\n            if (isUtsettelseAnnenPart(periode)) {\n                return <UtsettelseIkon årsak={periode.årsak} />;\n            } else {\n                return (\n                    <StønadskontoIkon\n                        konto={StønadskontoType.Foreldrepenger}\n                        forelder={periode.forelder}\n                        navnPåForeldre={navnPåForeldre}\n                    />\n                );\n            }\n        case Periodetype.Hull:\n            return <UttaksplanAdvarselIkon />;\n    }\n    return undefined;\n};\n\ntype VarighetFormat = 'full' | 'normal';\n\nexport const getVarighetString = (antallDager: number, intl: IntlShape, format: VarighetFormat = 'full'): string => {\n    const { uker, dager } = getUkerOgDagerFromDager(Math.abs(antallDager));\n    const dagerStr = intl.formatMessage(\n        { id: 'common.varighet.dager' },\n        {\n            dager,\n        },\n    );\n    if (uker === 0) {\n        return dagerStr;\n    }\n    const ukerStr = intl.formatMessage({ id: 'common.varighet.uker' }, { uker });\n    if (dager > 0) {\n        return `${ukerStr}${intl.formatMessage({\n            id: `common.varighet.separator--${format}`,\n        })}${dagerStr}`;\n    }\n    return ukerStr;\n};\n\nconst renderDagMnd = (dato: Date, visÅr = true): JSX.Element => {\n    const d = dayjs(dato);\n\n    return (\n        <div className={bem.element('dagmnd')}>\n            <span className={bem.element('dagmnd__dato')}>\n                <BodyShort>\n                    {d.get('date')}. {måned3bokstaver(d)}.\n                </BodyShort>\n            </span>\n            {visÅr && (\n                <BodyShort as=\"span\" className={bem.element('dagmnd__mnd')}>\n                    <abbr title={`${måned(d)} ${år(d)}`}>{år(d)}</abbr>\n                </BodyShort>\n            )}\n        </div>\n    );\n};\n\nconst PeriodelisteItemHeader: FunctionComponent<Props> = ({\n    periode,\n    navnPåForeldre,\n    melding,\n    annenForelderSamtidigUttakPeriode,\n    familiehendelsesdato,\n    termindato,\n    situasjon,\n    erFarEllerMedmor,\n    erAleneOmOmsorg,\n}) => {\n    const intl = useIntl();\n\n    let varighetString;\n    const erFpFørTerminUtenUttak =\n        isForeldrepengerFørFødselUttaksperiode(periode) && periode.skalIkkeHaUttakFørTermin === true;\n    if (erFpFørTerminUtenUttak) {\n        varighetString = intlUtils(intl, 'uttaksplan.periodeliste.header.skalIkkeHaUttakFørTermin');\n    } else {\n        varighetString = getVarighetString(Tidsperioden(periode.tidsperiode).getAntallUttaksdager(), intl);\n    }\n\n    let annenForelderIsMor;\n    let annenForelderNavn;\n    let beskrivelseSamtidigUttak;\n    if (annenForelderSamtidigUttakPeriode && isUttakAnnenPart(annenForelderSamtidigUttakPeriode)) {\n        annenForelderIsMor = annenForelderSamtidigUttakPeriode.forelder === Forelder.mor;\n        annenForelderNavn = getForelderNavn(annenForelderSamtidigUttakPeriode.forelder, navnPåForeldre);\n        beskrivelseSamtidigUttak = getVarighetString(\n            getValidTidsperiode(annenForelderSamtidigUttakPeriode.tidsperiode)\n                ? Tidsperioden(annenForelderSamtidigUttakPeriode.tidsperiode).getAntallUttaksdager()\n                : 0,\n            intl,\n        );\n    }\n\n    return (\n        <div>\n            <div className={bem.block}>\n                <div className={bem.element('content')}>\n                    <div className={bem.element('ikon')}>{getPeriodeIkon(periode, navnPåForeldre)}</div>\n                    <div className={bem.element('tittel')}>\n                        <Label as=\"h3\">\n                            {getPeriodeTittel(\n                                intl,\n                                periode,\n                                navnPåForeldre,\n                                familiehendelsesdato,\n                                termindato,\n                                situasjon,\n                                erFarEllerMedmor,\n                                erAleneOmOmsorg,\n                            )}\n                        </Label>\n                        <BodyShort>{varighetString}</BodyShort>\n                    </div>\n                    <div className={bem.element('advarsel')}>\n                        {melding && (\n                            <span\n                                role=\"presentation\"\n                                className={bem.modifier(`color-${getIkonForVeilederMelding(melding)}`)}\n                            >\n                                <UttaksplanIkon\n                                    ikon={getIkonForVeilederMelding(melding)}\n                                    title={melding.contentIntlKey}\n                                />\n                            </span>\n                        )}\n                    </div>\n                    {!erFpFørTerminUtenUttak && (\n                        <div className={bem.element('dato-container')}>\n                            {renderDagMnd(periode.tidsperiode.fom)}\n                            {renderDagMnd(periode.tidsperiode.tom)}\n                        </div>\n                    )}\n                </div>\n            </div>\n\n            {annenForelderSamtidigUttakPeriode && (\n                <div\n                    className={classNames(bem.element('samtidig-uttak'), {\n                        [bem.element('samtidig-uttak-mor')]: annenForelderIsMor,\n                        [bem.element('samtidig-uttak-far')]: !annenForelderIsMor,\n                    })}\n                >\n                    <div>\n                        <Label>\n                            <FormattedMessage id=\"oppsummering.morsAktivitet.SamtidigUttak\" />\n                        </Label>\n                    </div>\n                    <div className={bem.element('beskrivelse')}>\n                        <em className={bem.element('beskrivelse__tekst')}>\n                            {beskrivelseSamtidigUttak}\n                            <em className={bem.element('hvem')}> - {annenForelderNavn}</em>\n                        </em>\n                    </div>\n                    {annenForelderSamtidigUttakPeriode.tidsperiode && (\n                        <div className={bem.element('tidsrom')}>\n                            {renderDagMnd(annenForelderSamtidigUttakPeriode.tidsperiode.fom, false)}\n                            {renderDagMnd(annenForelderSamtidigUttakPeriode.tidsperiode.tom, false)}\n                        </div>\n                    )}\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default PeriodelisteItemHeader;\n","import {\n    ActionLink,\n    bemUtils,\n    Block,\n    førsteOktober2021ReglerGjelder,\n    intlUtils,\n    Periode,\n    Periodetype,\n    Tidsperioden,\n} from '@navikt/fp-common';\nimport { FunctionComponent } from 'react';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { BodyShort } from '@navikt/ds-react';\n\nimport './periodeHull.less';\n\ninterface Props {\n    periode: Periode;\n    navnAnnenForelder: string;\n    erDeltUttak: boolean;\n    familiehendelsesdato: Date;\n    erFarEllerMedmor: boolean;\n    erAleneOmOmsorg: boolean;\n    handleUpdatePeriode: (periode: Periode, familiehendelsedato: Date) => void;\n}\n\nconst PeriodeHull: FunctionComponent<Props> = ({\n    periode,\n    navnAnnenForelder,\n    erDeltUttak,\n    familiehendelsesdato,\n    erFarEllerMedmor,\n    erAleneOmOmsorg,\n    handleUpdatePeriode,\n}) => {\n    const intl = useIntl();\n    const bem = bemUtils('periodeHull');\n\n    const antallDager = Tidsperioden(periode.tidsperiode).getAntallUttaksdager();\n    const antallHelligdager = Tidsperioden(periode.tidsperiode).getAntallFridager();\n    const antallUttaksdager = Tidsperioden(periode.tidsperiode).getAntallUttaksdager();\n    const kunHelligdager = antallHelligdager === antallUttaksdager;\n    const kunUttaksdager = antallHelligdager === 0;\n\n    const onLeggInnNyPeriode = () => {\n        const { id, tidsperiode } = periode;\n\n        handleUpdatePeriode({ id, type: Periodetype.Uttak, tidsperiode } as Periode, familiehendelsesdato);\n    };\n\n    const leggInnNyUtsettelse = () => {\n        const { id, tidsperiode } = periode;\n\n        handleUpdatePeriode({ id, type: Periodetype.Utsettelse, tidsperiode } as Periode, familiehendelsesdato);\n    };\n\n    const nyeRegler = førsteOktober2021ReglerGjelder(familiehendelsesdato);\n\n    return (\n        <div className={bem.block}>\n            <Block padBottom=\"l\" visible={kunHelligdager}>\n                <BodyShort>\n                    <FormattedMessage id=\"uttaksplan.hull.helligdager\" />\n                </BodyShort>\n            </Block>\n            <Block padBottom=\"l\" visible={kunUttaksdager || (kunUttaksdager === false && kunHelligdager === false)}>\n                <BodyShort>\n                    {erDeltUttak ? (\n                        <FormattedMessage\n                            id=\"uttaksplan.hull.uttaksdager.deltUttak\"\n                            values={{\n                                navn: navnAnnenForelder,\n                                dager: antallDager,\n                            }}\n                        />\n                    ) : (\n                        <FormattedMessage\n                            id={\n                                nyeRegler && erFarEllerMedmor && !erAleneOmOmsorg\n                                    ? 'uttaksplan.hull.uttaksdager.ikkeDeltUttak.nyeRegler'\n                                    : 'uttaksplan.hull.uttaksdager.ikkeDeltUttak'\n                            }\n                            values={{\n                                dager: antallDager,\n                            }}\n                        />\n                    )}\n                </BodyShort>\n            </Block>\n            <div className={bem.element('lenker')}>\n                <ActionLink onClick={onLeggInnNyPeriode}>{intlUtils(intl, 'uttaksplan.leggInnNyPeriode')}</ActionLink>\n                <ActionLink onClick={leggInnNyUtsettelse}>\n                    {intlUtils(intl, 'uttaksplan.leggInnNyUtsettelse')}\n                </ActionLink>\n            </div>\n        </div>\n    );\n};\n\nexport default PeriodeHull;\n","import { BodyShort } from '@navikt/ds-react';\nimport {\n    NavnPåForeldre,\n    intlUtils,\n    UtsettelseÅrsakType,\n    UttakAnnenPartInfoPeriode,\n    UtsettelseAnnenPartInfoPeriode,\n    formaterDatoKompakt,\n    isUttakAnnenPart,\n    getOppholdskontoNavn,\n    getForelderNavn,\n    Forelder,\n} from '@navikt/fp-common';\nimport { FunctionComponent } from 'react';\nimport { IntlShape, useIntl } from 'react-intl';\n\nexport interface Props {\n    periode: UttakAnnenPartInfoPeriode | UtsettelseAnnenPartInfoPeriode;\n    navnPåForeldre: NavnPåForeldre;\n}\n\nconst getUtsettelseTekst = (intl: IntlShape, årsak: UtsettelseÅrsakType, foreldernavn: string, erMor: boolean) => {\n    return erMor\n        ? intlUtils(intl, `uttaksplan.utsettelseårsaktype.foreldernavn.far.${årsak}`, { foreldernavn })\n        : intlUtils(intl, `uttaksplan.utsettelseårsaktype.foreldernavn.mor.${årsak}`, { foreldernavn });\n};\n\nconst PeriodeInfo: FunctionComponent<Props> = ({ periode, navnPåForeldre }) => {\n    const intl = useIntl();\n\n    return (\n        <BodyShort>\n            <strong>\n                <span>{formaterDatoKompakt(periode.tidsperiode.fom)}</span>\n                <span>&mdash;</span>\n                <span>{formaterDatoKompakt(periode.tidsperiode.tom)}:</span>\n            </strong>{' '}\n            {isUttakAnnenPart(periode)\n                ? getOppholdskontoNavn(\n                      intl,\n                      periode.årsak,\n                      getForelderNavn(periode.forelder, navnPåForeldre),\n                      periode.forelder === Forelder.mor,\n                  )\n                : getUtsettelseTekst(\n                      intl,\n                      periode.årsak,\n                      getForelderNavn(periode.forelder, navnPåForeldre),\n                      periode.forelder === Forelder.mor,\n                  )}\n        </BodyShort>\n    );\n};\n\nexport default PeriodeInfo;\n","import { BodyShort } from '@navikt/ds-react';\nimport { ActionLink, Block, Periode, Periodetype, intlUtils } from '@navikt/fp-common';\nimport { FunctionComponent } from 'react';\nimport { FormattedMessage, useIntl } from 'react-intl';\n\ninterface Props {\n    periode: Periode;\n    handleUpdatePeriode: (periode: Periode, familiehendelsesdato: Date) => void;\n    familiehendelsesdato: Date;\n}\n\nconst PeriodeUtenUttak: FunctionComponent<Props> = ({ periode, handleUpdatePeriode, familiehendelsesdato }) => {\n    const intl = useIntl();\n\n    const onLeggTilNyPeriode = () => {\n        const { id, tidsperiode } = periode;\n\n        handleUpdatePeriode({ id, type: Periodetype.Uttak, tidsperiode } as Periode, familiehendelsesdato);\n    };\n\n    return (\n        <div>\n            <Block padBottom=\"l\">\n                <BodyShort>\n                    <FormattedMessage id=\"uttaksplan.periodeUtenUttak.info.del1\" />\n                </BodyShort>\n            </Block>\n            <Block padBottom=\"l\">\n                <BodyShort>\n                    <FormattedMessage id=\"uttaksplan.periodeUtenUttak.info.del2\" />\n                </BodyShort>\n            </Block>\n            <ActionLink onClick={onLeggTilNyPeriode}>{intlUtils(intl, 'uttaksplan.leggInnNyPeriode')}</ActionLink>\n        </div>\n    );\n};\n\nexport default PeriodeUtenUttak;\n","import { getTypedFormComponents } from '@navikt/sif-common-formik-ds/lib';\n\nexport enum PeriodeFørFødselFormField {\n    fom = 'fom',\n    tom = 'tom',\n    skalIkkeHaUttakFørTermin = 'skalIkkeHaUttakFørTermin',\n}\n\nexport interface PeriodeFørFødselFormData {\n    [PeriodeFørFødselFormField.fom]: Date | undefined;\n    [PeriodeFørFødselFormField.tom]: Date | undefined;\n    [PeriodeFørFødselFormField.skalIkkeHaUttakFørTermin]: boolean;\n}\n\nexport const PeriodeFørFødselFormComponents = getTypedFormComponents<\n    PeriodeFørFødselFormField,\n    PeriodeFørFødselFormData\n>();\n","import { hasValue, isValidTidsperiode } from '@navikt/fp-common';\nimport { QuestionConfig, Questions } from '@navikt/sif-common-question-config/lib';\nimport { PeriodeFørFødselFormData, PeriodeFørFødselFormField } from './periodeFørFødselFormConfig';\n\nconst PeriodeFørFødselFormConfig: QuestionConfig<PeriodeFørFødselFormData, PeriodeFørFødselFormField> = {\n    [PeriodeFørFødselFormField.fom]: {\n        isAnswered: ({ fom }) => hasValue(fom),\n        isIncluded: ({ skalIkkeHaUttakFørTermin }) => !skalIkkeHaUttakFørTermin,\n    },\n    [PeriodeFørFødselFormField.tom]: {\n        isAnswered: ({ tom }) => hasValue(tom),\n        isIncluded: ({ skalIkkeHaUttakFørTermin }) => !skalIkkeHaUttakFørTermin,\n    },\n    [PeriodeFørFødselFormField.skalIkkeHaUttakFørTermin]: {\n        isAnswered: () => true,\n        isIncluded: () => true,\n        visibilityFilter: ({ fom, tom, skalIkkeHaUttakFørTermin }) =>\n            skalIkkeHaUttakFørTermin ? true : isValidTidsperiode({ fom, tom }),\n    },\n};\n\nexport const periodeFørFødselFormQuestionsConfig = Questions<PeriodeFørFødselFormData, PeriodeFørFødselFormField>(\n    PeriodeFørFødselFormConfig,\n);\n","import dayjs from 'dayjs';\nimport { PeriodeFørFødselFormData, PeriodeFørFødselFormField } from './periodeFørFødselFormConfig';\nimport {\n    ForeldrepengerFørFødselUttaksperiode,\n    Periode,\n    Periodetype,\n    StønadskontoType,\n    Uttaksdagen,\n    uttaksConstants,\n} from '@navikt/fp-common';\n\nexport const initialValues: PeriodeFørFødselFormData = {\n    [PeriodeFørFødselFormField.fom]: undefined,\n    [PeriodeFørFødselFormField.tom]: undefined,\n    [PeriodeFørFødselFormField.skalIkkeHaUttakFørTermin]: false,\n};\n\nexport const getPeriodeFørFødselFormInitialValues = (\n    periode: ForeldrepengerFørFødselUttaksperiode,\n    familiehendelsesdato: Date,\n): PeriodeFørFødselFormData => {\n    const sisteUttaksagFørFødsel = Uttaksdagen(dayjs(familiehendelsesdato).toDate()).forrige();\n    const førsteUttaksdag3UkerFørFødsel = Uttaksdagen(sisteUttaksagFørFødsel).trekkFra(\n        uttaksConstants.ANTALL_UKER_FORELDREPENGER_FØR_FØDSEL * 5 - 1,\n    );\n    const fom = periode.tidsperiode.fom !== undefined ? periode.tidsperiode.fom : førsteUttaksdag3UkerFørFødsel;\n    const tom = periode.tidsperiode.tom !== undefined ? periode.tidsperiode.tom : sisteUttaksagFørFødsel;\n    return {\n        ...initialValues,\n        fom,\n        tom,\n        skalIkkeHaUttakFørTermin: periode.skalIkkeHaUttakFørTermin,\n    };\n};\n\nexport const mapPeriodeFørFødselFormToPeriode = (\n    values: Partial<PeriodeFørFødselFormData>,\n    periode: ForeldrepengerFørFødselUttaksperiode,\n): Periode => {\n    return {\n        type: Periodetype.Uttak,\n        id: periode.id,\n        forelder: periode.forelder,\n        konto: StønadskontoType.ForeldrepengerFørFødsel,\n        tidsperiode: {\n            fom: values.fom!,\n            tom: values.tom!,\n        },\n        skalIkkeHaUttakFørTermin: !!values.skalIkkeHaUttakFørTermin,\n    };\n};\n","import {\n    Block,\n    ForeldrepengerFørFødselUttaksperiode,\n    ISOStringToDate,\n    Periode,\n    Situasjon,\n    Utsettelsesperiode,\n    intlUtils,\n    isValidTidsperiode,\n} from '@navikt/fp-common';\nimport { QuestionVisibility } from '@navikt/sif-common-question-config/lib';\nimport { FunctionComponent, useState } from 'react';\nimport { useIntl } from 'react-intl';\nimport { SubmitListener } from '../submit-listener/SubmitListener';\nimport TidsperiodeForm from '../tidsperiode-form/TidsperiodeForm';\nimport {\n    PeriodeFørFødselFormComponents,\n    PeriodeFørFødselFormData,\n    PeriodeFørFødselFormField,\n} from './periodeFørFødselFormConfig';\nimport { periodeFørFødselFormQuestionsConfig } from './periodeFørFødselFormQuestionsConfig';\nimport { getPeriodeFørFødselFormInitialValues, mapPeriodeFørFødselFormToPeriode } from './periodeFørFødselFormUtils';\nimport TidsperiodeDisplay from '../../tidsperiode-display/TidsperiodeDisplay';\nimport UttakEndreTidsperiodeSpørsmål from '../../uttak-endre-tidsperiode-spørsmål/UttakEndreTidsperiodeSpørsmål';\n\ninterface Props {\n    periode: ForeldrepengerFørFødselUttaksperiode;\n    handleUpdatePeriode: (periode: Periode, familiehendelsedato: Date) => void;\n    familiehendelsesdato: Date;\n    erFarEllerMedmor: boolean;\n    morHarRett: boolean;\n    situasjon: Situasjon;\n    utsettelserIPlan: Utsettelsesperiode[];\n}\n\nconst PeriodeFørFødselForm: FunctionComponent<Props> = ({\n    periode,\n    familiehendelsesdato,\n    handleUpdatePeriode,\n    erFarEllerMedmor,\n    morHarRett,\n    situasjon,\n    utsettelserIPlan,\n}) => {\n    const { tidsperiode } = periode;\n    const [tidsperiodeIsOpen, setTidsperiodeIsOpen] = useState(false);\n    const intl = useIntl();\n\n    const toggleVisTidsperiode = () => {\n        setTidsperiodeIsOpen(!tidsperiodeIsOpen);\n    };\n\n    const handleCleanup = (\n        values: PeriodeFørFødselFormData,\n        _visibility: QuestionVisibility<PeriodeFørFødselFormField, undefined>,\n    ): PeriodeFørFødselFormData => {\n        return values;\n    };\n\n    return (\n        <PeriodeFørFødselFormComponents.FormikWrapper\n            initialValues={getPeriodeFørFødselFormInitialValues(periode, familiehendelsesdato)}\n            onSubmit={(values) =>\n                handleUpdatePeriode(mapPeriodeFørFødselFormToPeriode(values, periode), familiehendelsesdato)\n            }\n            renderForm={({ setFieldValue, values }) => {\n                const visibility = periodeFørFødselFormQuestionsConfig.getVisbility(values as PeriodeFørFødselFormData);\n\n                return (\n                    <>\n                        <Block\n                            visible={\n                                !isValidTidsperiode(tidsperiode) && visibility.isVisible(PeriodeFørFødselFormField.fom)\n                            }\n                            padBottom=\"l\"\n                        >\n                            <TidsperiodeForm\n                                tidsperiode={tidsperiode}\n                                familiehendelsesdato={familiehendelsesdato}\n                                onBekreft={(values) => {\n                                    setFieldValue(PeriodeFørFødselFormField.fom, ISOStringToDate(values.fom));\n                                    setFieldValue(PeriodeFørFødselFormField.tom, ISOStringToDate(values.tom));\n                                }}\n                                ugyldigeTidsperioder={undefined}\n                                utsettelserIPlan={utsettelserIPlan}\n                                erFarEllerMedmor={erFarEllerMedmor}\n                                morHarRett={morHarRett}\n                                situasjon={situasjon}\n                                erFarMedmorOgHarAleneomsorg={false}\n                            />\n                        </Block>\n                        <PeriodeFørFødselFormComponents.Form includeButtons={false}>\n                            <SubmitListener\n                                cleanup={() => handleCleanup(values as PeriodeFørFødselFormData, visibility)}\n                            />\n\n                            <Block\n                                visible={\n                                    isValidTidsperiode(tidsperiode) &&\n                                    visibility.isVisible(PeriodeFørFødselFormField.fom)\n                                }\n                                padBottom=\"l\"\n                            >\n                                <TidsperiodeDisplay\n                                    tidsperiode={tidsperiode}\n                                    toggleVisTidsperiode={toggleVisTidsperiode}\n                                />\n                                <UttakEndreTidsperiodeSpørsmål\n                                    periode={periode}\n                                    familiehendelsesdato={familiehendelsesdato}\n                                    ugyldigeTidsperioder={undefined}\n                                    utsettelserIPlan={utsettelserIPlan}\n                                    onBekreft={(values) => {\n                                        toggleVisTidsperiode();\n                                        setFieldValue(PeriodeFørFødselFormField.fom, values.fom);\n                                        setFieldValue(PeriodeFørFødselFormField.tom, values.tom);\n                                    }}\n                                    changeTidsperiode={(values) => {\n                                        setFieldValue(PeriodeFørFødselFormField.fom, values.fom);\n                                        setFieldValue(PeriodeFørFødselFormField.tom, values.tom);\n                                    }}\n                                    tidsperiode={tidsperiode}\n                                    onAvbryt={() => toggleVisTidsperiode()}\n                                    visible={tidsperiodeIsOpen}\n                                    erFarEllerMedmor={erFarEllerMedmor}\n                                    morHarRett={morHarRett}\n                                    situasjon={situasjon}\n                                    erFarMedmorOgHarAleneomsorg={false}\n                                />\n                            </Block>\n\n                            <Block\n                                visible={visibility.isVisible(PeriodeFørFødselFormField.skalIkkeHaUttakFørTermin)}\n                                padBottom=\"l\"\n                            >\n                                <PeriodeFørFødselFormComponents.Checkbox\n                                    name={PeriodeFørFødselFormField.skalIkkeHaUttakFørTermin}\n                                    label={intlUtils(intl, 'uttaksplan.periodeFørFødselForm.skalIkkeHaUttakFørTermin')}\n                                />\n                            </Block>\n                        </PeriodeFørFødselFormComponents.Form>\n                    </>\n                );\n            }}\n        />\n    );\n};\n\nexport default PeriodeFørFødselForm;\n","import { ActionLink, InfoPeriode, bemUtils, getSlettPeriodeTekst } from '@navikt/fp-common';\nimport { FunctionComponent } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport './slettbarAvslåttPeriode.less';\n\ninterface Props {\n    periode: InfoPeriode;\n    handleDeletePeriode: (periodeId: string) => void;\n}\n\nconst SlettbarAvslåttPeriode: FunctionComponent<Props> = ({ periode, handleDeletePeriode }) => {\n    const bem = bemUtils('slettbarAvslåttPeriode');\n    const onSlettPeriode = () => {\n        handleDeletePeriode(periode.id);\n    };\n    return (\n        <div className={bem.element('wrapper')}>\n            <ActionLink onClick={onSlettPeriode}>\n                <FormattedMessage id={getSlettPeriodeTekst(periode.type)} />\n            </ActionLink>\n        </div>\n    );\n};\n\nexport default SlettbarAvslåttPeriode;\n","import * as React from 'react';\nimport { VeilederMessage } from './types';\nimport VeilederMelding, { VeilederMeldingStil } from './components/VeilederMelding';\nimport { Block } from '@navikt/fp-common';\n\ninterface Props {\n    meldinger: VeilederMessage[];\n    stil?: VeilederMeldingStil;\n    skjulMeldingIkon?: boolean;\n}\n\nconst VeilederMeldinger: React.FunctionComponent<Props> = ({ meldinger, stil, skjulMeldingIkon }) => {\n    return (\n        <div>\n            {meldinger.map((melding: VeilederMessage) => (\n                <Block padBottom=\"xl\" key={melding.contentIntlKey + melding.periodeId}>\n                    <VeilederMelding message={melding} stil={stil} skjulMeldingIkon={skjulMeldingIkon} />\n                </Block>\n            ))}\n        </div>\n    );\n};\n\nexport default VeilederMeldinger;\n","import { IntlShape } from 'react-intl';\nimport {\n    AnnenForelder,\n    Arbeidsforhold,\n    Attachment,\n    bemUtils,\n    Block,\n    isAvslåttPeriode,\n    isForeldrepengerFørFødselUttaksperiode,\n    isInfoPeriode,\n    isSlettbarAvslåttPeriode,\n    NavnPåForeldre,\n    Periode,\n    Periodetype,\n    PeriodeValidState,\n    Situasjon,\n    TilgjengeligStønadskonto,\n    Utsettelsesperiode,\n} from '@navikt/fp-common';\nimport classNames from 'classnames';\nimport { FunctionComponent } from 'react';\nimport PeriodelisteItemHeader from '../periodeliste-item-header/PeriodelisteItemHeader';\nimport PeriodeHull from '../perioder/PeriodeHull';\nimport PeriodeInfo from '../perioder/PeriodeInfo';\nimport PeriodeUtenUttak from '../perioder/PeriodeUtenUttak';\nimport PeriodeFørFødselForm from '../uttaks-forms/periode-før-fødsel-form/PeriodeFørFødselForm';\nimport PeriodeUtsettelseForm from '../uttaks-forms/periode-utsettelse-form/PeriodeUtsettelseForm';\nimport PeriodeUttakForm from '../uttaks-forms/periode-uttak-form/PeriodeUttakForm';\nimport { Accordion } from '@navikt/ds-react';\nimport SlettbarAvslåttPeriode from '../perioder/SlettbarAvslåttPeriode';\n\nimport './periodelisteItem.less';\nimport { VeilederMessage } from '../../validering/veilederInfo/types';\nimport VeilederMeldinger from '../../validering/veilederInfo/VeilederMeldinger';\n\ninterface Props {\n    egenPeriode: boolean;\n    periode: Periode;\n    isOpen: boolean;\n    toggleIsOpen: (id: string) => void;\n    familiehendelsesdato: Date;\n    handleUpdatePeriode: (periode: Periode, familiehendelsedato: Date) => void;\n    stønadskontoer: TilgjengeligStønadskonto[];\n    navnPåForeldre: NavnPåForeldre;\n    annenForelder: AnnenForelder;\n    arbeidsforhold: Arbeidsforhold[];\n    handleDeletePeriode: (periodeId: string) => void;\n    erFarEllerMedmor: boolean;\n    erFlerbarnssøknad: boolean;\n    erAleneOmOmsorg: boolean;\n    erDeltUttak: boolean;\n    situasjon: Situasjon;\n    meldinger?: VeilederMessage[];\n    erMorUfør: boolean;\n    annenForelderSamtidigUttakPeriode: Periode | undefined;\n    søkerErFarEllerMedmorOgKunDeHarRett: boolean;\n    setPerioderErGyldige: React.Dispatch<React.SetStateAction<PeriodeValidState[]>>;\n    erEndringssøknad: boolean;\n    termindato: Date | undefined;\n    antallBarn: number;\n    utsettelserIPlan: Utsettelsesperiode[];\n    intl: IntlShape;\n    periodeErGyldig: boolean;\n    saveAttachment: (vedlegg: Attachment) => void;\n}\n\nconst renderPeriodeListeInnhold = (\n    periode: Periode,\n    familiehendelsesdato: Date,\n    handleUpdatePeriode: (periode: Periode, familiehendelsedato: Date) => void,\n    stønadskontoer: TilgjengeligStønadskonto[],\n    navnPåForeldre: NavnPåForeldre,\n    annenForelder: AnnenForelder,\n    toggleIsOpen: (id: string) => void,\n    arbeidsforhold: Arbeidsforhold[],\n    handleDeletePeriode: (periodeId: string) => void,\n    erFarEllerMedmor: boolean,\n    erFlerbarnssøknad: boolean,\n    erAleneOmOmsorg: boolean,\n    erDeltUttak: boolean,\n    situasjon: Situasjon,\n    erMorUfør: boolean,\n    søkerErFarEllerMedmorOgKunDeHarRett: boolean,\n    setPerioderErGyldige: React.Dispatch<React.SetStateAction<PeriodeValidState[]>>,\n    erEndringssøknad: boolean,\n    termindato: Date | undefined,\n    antallBarn: number,\n    utsettelserIPlan: Utsettelsesperiode[],\n    intl: IntlShape,\n    isOpen: boolean,\n    saveAttachment: (vedlegg: Attachment) => void,\n) => {\n    switch (periode.type) {\n        case Periodetype.Uttak:\n        case Periodetype.Overføring:\n        case Periodetype.Opphold:\n            if (isForeldrepengerFørFødselUttaksperiode(periode)) {\n                return (\n                    <PeriodeFørFødselForm\n                        periode={periode}\n                        familiehendelsesdato={familiehendelsesdato}\n                        handleUpdatePeriode={handleUpdatePeriode}\n                        erFarEllerMedmor={erFarEllerMedmor}\n                        morHarRett={!søkerErFarEllerMedmorOgKunDeHarRett}\n                        situasjon={situasjon}\n                        utsettelserIPlan={utsettelserIPlan}\n                    />\n                );\n            }\n\n            return (\n                <PeriodeUttakForm\n                    periode={periode}\n                    familiehendelsesdato={familiehendelsesdato}\n                    handleUpdatePeriode={handleUpdatePeriode}\n                    stønadskontoer={stønadskontoer}\n                    navnPåForeldre={navnPåForeldre}\n                    annenForelder={annenForelder}\n                    toggleIsOpen={toggleIsOpen}\n                    arbeidsforhold={arbeidsforhold}\n                    handleDeletePeriode={handleDeletePeriode}\n                    erFarEllerMedmor={erFarEllerMedmor}\n                    erFlerbarnssøknad={erFlerbarnssøknad}\n                    erAleneOmOmsorg={erAleneOmOmsorg}\n                    erDeltUttak={erDeltUttak}\n                    situasjon={situasjon}\n                    erMorUfør={erMorUfør}\n                    erEndringssøknad={erEndringssøknad}\n                    setPerioderErGyldige={setPerioderErGyldige}\n                    termindato={termindato}\n                    morHarRett={!søkerErFarEllerMedmorOgKunDeHarRett}\n                    antallBarn={antallBarn}\n                    utsettelserIPlan={utsettelserIPlan}\n                    intl={intl}\n                    isOpen={isOpen}\n                    saveAttachment={saveAttachment}\n                />\n            );\n        case Periodetype.Utsettelse:\n            return (\n                <PeriodeUtsettelseForm\n                    periode={periode}\n                    familiehendelsesdato={familiehendelsesdato}\n                    handleUpdatePeriode={handleUpdatePeriode}\n                    erFarEllerMedmor={erFarEllerMedmor}\n                    erAleneOmOmsorg={erAleneOmOmsorg}\n                    handleDeletePeriode={handleDeletePeriode}\n                    toggleIsOpen={toggleIsOpen}\n                    navnPåForeldre={navnPåForeldre}\n                    erMorUfør={erMorUfør}\n                    søkerErFarEllerMedmorOgKunDeHarRett={søkerErFarEllerMedmorOgKunDeHarRett}\n                    arbeidsforhold={arbeidsforhold}\n                    situasjon={situasjon}\n                    utsettelserIPlan={utsettelserIPlan}\n                    setPerioderErGyldige={setPerioderErGyldige}\n                    isOpen={isOpen}\n                    saveAttachment={saveAttachment}\n                />\n            );\n        case Periodetype.Hull:\n            return (\n                <PeriodeHull\n                    erAleneOmOmsorg={erAleneOmOmsorg}\n                    erDeltUttak={erDeltUttak}\n                    erFarEllerMedmor={erFarEllerMedmor}\n                    periode={periode}\n                    familiehendelsesdato={familiehendelsesdato}\n                    navnAnnenForelder={erFarEllerMedmor ? navnPåForeldre.mor : navnPåForeldre.farMedmor}\n                    handleUpdatePeriode={handleUpdatePeriode}\n                />\n            );\n        case Periodetype.PeriodeUtenUttak:\n            return (\n                <PeriodeUtenUttak\n                    periode={periode}\n                    handleUpdatePeriode={handleUpdatePeriode}\n                    familiehendelsesdato={familiehendelsesdato}\n                />\n            );\n        case Periodetype.Info:\n            return (\n                <>\n                    {periode.visPeriodeIPlan && !isAvslåttPeriode(periode) && (\n                        <PeriodeInfo periode={periode} navnPåForeldre={navnPåForeldre} />\n                    )}\n                    {isSlettbarAvslåttPeriode(periode) && (\n                        <SlettbarAvslåttPeriode periode={periode} handleDeletePeriode={handleDeletePeriode} />\n                    )}\n                </>\n            );\n        default:\n            return <div>Ingen visning</div>;\n    }\n};\n\nconst PeriodelisteItem: FunctionComponent<Props> = ({\n    egenPeriode,\n    periode,\n    isOpen,\n    toggleIsOpen,\n    familiehendelsesdato,\n    handleUpdatePeriode,\n    stønadskontoer,\n    navnPåForeldre,\n    annenForelder,\n    arbeidsforhold,\n    handleDeletePeriode,\n    erFarEllerMedmor,\n    erFlerbarnssøknad,\n    erAleneOmOmsorg,\n    erDeltUttak,\n    situasjon,\n    meldinger = [],\n    erMorUfør,\n    annenForelderSamtidigUttakPeriode,\n    søkerErFarEllerMedmorOgKunDeHarRett,\n    erEndringssøknad,\n    setPerioderErGyldige,\n    termindato,\n    antallBarn,\n    utsettelserIPlan,\n    intl,\n    periodeErGyldig,\n    saveAttachment,\n}) => {\n    const bem = bemUtils('periodelisteItem');\n    let melding = meldinger.length > 0 ? meldinger[0] : undefined;\n\n    if (!periodeErGyldig) {\n        melding = {\n            type: 'feil',\n            contentIntlKey: 'uttaksplan.validering.feil.erAllePeriodeSkjemaspørsmålBesvart',\n        };\n    }\n\n    if (isInfoPeriode(periode) && !periode.visPeriodeIPlan) {\n        return null;\n    }\n\n    const toggleFocusAndOpen = () => {\n        const headerButton = window.document.getElementById(periode.id);\n\n        if (headerButton) {\n            setTimeout(() => {\n                headerButton.focus();\n            }, 150);\n        }\n\n        toggleIsOpen(periode.id);\n    };\n\n    return (\n        <article\n            className={classNames(bem.block, egenPeriode ? bem.modifier('egenPeriode') : bem.modifier('transparent'))}\n        >\n            <Accordion>\n                <Accordion.Item open={isOpen}>\n                    <Accordion.Header onClick={() => toggleIsOpen(periode.id)} className={bem.element('header')}>\n                        <PeriodelisteItemHeader\n                            egenPeriode={egenPeriode}\n                            periode={periode}\n                            navnPåForeldre={navnPåForeldre}\n                            melding={melding}\n                            annenForelderSamtidigUttakPeriode={annenForelderSamtidigUttakPeriode}\n                            familiehendelsesdato={familiehendelsesdato}\n                            termindato={termindato}\n                            situasjon={situasjon}\n                            erFarEllerMedmor={erFarEllerMedmor}\n                            erAleneOmOmsorg={erAleneOmOmsorg}\n                        />\n                    </Accordion.Header>\n                    <Accordion.Content>\n                        <Block visible={meldinger.length > 0}>\n                            <VeilederMeldinger\n                                stil=\"default\"\n                                meldinger={meldinger.filter((m) => m.avvikType !== 'skjema')}\n                            />\n                        </Block>\n                        {renderPeriodeListeInnhold(\n                            periode,\n                            familiehendelsesdato,\n                            handleUpdatePeriode,\n                            stønadskontoer,\n                            navnPåForeldre,\n                            annenForelder,\n                            toggleFocusAndOpen,\n                            arbeidsforhold,\n                            handleDeletePeriode,\n                            erFarEllerMedmor,\n                            erFlerbarnssøknad,\n                            erAleneOmOmsorg,\n                            erDeltUttak,\n                            situasjon,\n                            erMorUfør,\n                            søkerErFarEllerMedmorOgKunDeHarRett,\n                            setPerioderErGyldige,\n                            erEndringssøknad,\n                            termindato,\n                            antallBarn,\n                            utsettelserIPlan,\n                            intl,\n                            isOpen,\n                            saveAttachment,\n                        )}\n                    </Accordion.Content>\n                </Accordion.Item>\n            </Accordion>\n        </article>\n    );\n};\n\nexport default PeriodelisteItem;\n","import { UttaksplanIkonProps } from '../components/uttaksplan-ikon/UttaksplanIkon';\n\ninterface OwnProps {\n    fylt?: boolean;\n}\n\nconst HjerteIkon = (props: UttaksplanIkonProps & OwnProps) => {\n    const { title, fylt, ...rest } = props;\n    return fylt ? (\n        <svg focusable=\"false\" role=\"img\" aria-hidden=\"true\" width={24} height={24} {...rest}>\n            <title>{title}</title>\n            <path\n                fill=\"#ba3a26\"\n                fillRule=\"evenodd\"\n                d=\"M23 7.173c0 .41-.028.823-.083 1.243-.418 3.173-2.345 6.521-5.291 9.882a43.405 43.405 0 0 1-4.856 4.717c-.22.181-.378.307-.464.374a.5.5 0 0 1-.582.021 16.293 16.293 0 0 1-.467-.325 35.073 35.073 0 0 1-4.87-4.255C3.027 15.28 1 11.544 1 7.765 1-.286 9.586-1.719 12.003 4.612 14.42-1.616 23-.464 23 7.173z\"\n            />\n        </svg>\n    ) : (\n        <svg focusable=\"false\" role=\"img\" aria-hidden=\"true\" width={24} height={24} viewBox=\"0 0 24 24\" {...rest}>\n            <title>{title}</title>\n            <path\n                fill=\"none\"\n                fillRule=\"evenodd\"\n                stroke=\"#3E3832\"\n                strokeLinejoin=\"round\"\n                d=\"M12 22.993s10.5-8.128 10.5-15.82-9.316-8.284-10.5-.59C10.816-1.112 1.5-.52 1.5 7.764S12 22.993 12 22.993z\"\n            />\n        </svg>\n    );\n};\nexport default HjerteIkon;\n","import { Barn, bemUtils, formaterDatoUtenDag, isAdoptertBarn, isFødtBarn } from '@navikt/fp-common';\nimport { FunctionComponent, ReactNode } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { BodyShort } from '@navikt/ds-react';\nimport HjerteIkon from '../../assets/HjerteIkon';\n\nimport './familiehendelsesdatoDisplay.less';\n\ninterface Props {\n    familiehendelsedato: Date;\n    barn: Barn;\n}\n\nconst getTekst = (barn: Barn, familiehendelsedato: Date, antallBarn: number): ReactNode => {\n    if (!isAdoptertBarn(barn)) {\n        if (isFødtBarn(barn)) {\n            return (\n                <FormattedMessage\n                    id=\"uttaksplan.familiehendelsesdato.født\"\n                    values={{ antallBarn, dato: formaterDatoUtenDag(familiehendelsedato) }}\n                />\n            );\n        }\n\n        return (\n            <FormattedMessage\n                id=\"uttaksplan.familiehendelsesdato.termin\"\n                values={{ dato: formaterDatoUtenDag(familiehendelsedato) }}\n            />\n        );\n    }\n\n    return (\n        <FormattedMessage\n            id=\"uttaksplan.familiehendelsesdato.adopsjon\"\n            values={{ antallBarn, dato: formaterDatoUtenDag(familiehendelsedato) }}\n        />\n    );\n};\n\nconst FamiliehendelsedatoDisplay: FunctionComponent<Props> = ({ familiehendelsedato, barn }) => {\n    const bem = bemUtils('familiehendelsesdatoDisplay');\n\n    return (\n        <div className={bem.block}>\n            <div className={bem.element('hjerte')}>\n                <HjerteIkon fylt={true} title=\"Hjerte\" />\n            </div>\n            <BodyShort>{getTekst(barn, familiehendelsedato, barn.antallBarn)}</BodyShort>\n        </div>\n    );\n};\n\nexport default FamiliehendelsedatoDisplay;\n","import { FunctionComponent, useState } from 'react';\nimport {\n    AnnenForelder,\n    Arbeidsforhold,\n    Attachment,\n    Barn,\n    BarnFraNesteSak,\n    bemUtils,\n    Block,\n    formatDate,\n    isInfoPeriode,\n    isValidTidsperiode,\n    NavnPåForeldre,\n    Periode,\n    PeriodeValidState,\n    Situasjon,\n    TilgjengeligStønadskonto,\n    Utsettelsesperiode,\n} from '@navikt/fp-common';\nimport PeriodelisteItem from './../periodeliste-item/PeriodelisteItem';\n\nimport dayjs from 'dayjs';\nimport FamiliehendelsedatoDisplay from '../familiehendelsedato-display/FamiliehendelsedatoDisplay';\nimport { FormattedMessage, IntlShape } from 'react-intl';\nimport { Alert } from '@navikt/ds-react';\nimport { getAnnenForelderSamtidigUttakPeriode } from '@navikt/fp-common/src/common/utils/periodeUtils';\nimport { VeiledermeldingerPerPeriode } from '../../validering/veilederInfo/types';\n\nimport './periodeliste.less';\n\ninterface Props {\n    uttaksplan: Periode[];\n    familiehendelsesdato: Date;\n    handleUpdatePeriode: (periode: Periode, familiehendelsedato: Date) => void;\n    stønadskontoer: TilgjengeligStønadskonto[];\n    navnPåForeldre: NavnPåForeldre;\n    annenForelder: AnnenForelder;\n    arbeidsforhold: Arbeidsforhold[];\n    handleDeletePeriode: (periodeId: string) => void;\n    erFarEllerMedmor: boolean;\n    erFlerbarnssøknad: boolean;\n    erAleneOmOmsorg: boolean;\n    erDeltUttak: boolean;\n    situasjon: Situasjon;\n    meldingerPerPeriode: VeiledermeldingerPerPeriode;\n    erMorUfør: boolean;\n    søkerErFarEllerMedmorOgKunDeHarRett: boolean;\n    setPerioderErGyldige: React.Dispatch<React.SetStateAction<PeriodeValidState[]>>;\n    erEndringssøknad: boolean;\n    termindato: Date | undefined;\n    antallBarn: number;\n    utsettelserIPlan: Utsettelsesperiode[];\n    barn: Barn;\n    barnFraNesteSak: BarnFraNesteSak | undefined;\n    intl: IntlShape;\n    perioderErGyldige: PeriodeValidState[];\n    saveAttachment: (vedlegg: Attachment) => void;\n}\n\nconst getIndexOfFørstePeriodeEtterFødsel = (uttaksplan: Periode[], familiehendelsesdato: Date) => {\n    return uttaksplan.findIndex(\n        (p) => isValidTidsperiode(p.tidsperiode) && dayjs(p.tidsperiode.fom).isSameOrAfter(familiehendelsesdato),\n    );\n};\n\nconst getIndexOfSistePeriodeFørDato = (uttaksplan: Periode[], dato: Date | undefined) => {\n    if (dato !== undefined) {\n        return Math.max(0, uttaksplan.filter((p) => dayjs(p.tidsperiode.tom).isBefore(dato, 'day')).length);\n    }\n    return undefined;\n};\n\nconst Periodeliste: FunctionComponent<Props> = ({\n    uttaksplan,\n    familiehendelsesdato,\n    handleUpdatePeriode,\n    stønadskontoer,\n    navnPåForeldre,\n    annenForelder,\n    arbeidsforhold,\n    handleDeletePeriode,\n    erFarEllerMedmor,\n    erFlerbarnssøknad,\n    erAleneOmOmsorg,\n    erDeltUttak,\n    situasjon,\n    meldingerPerPeriode,\n    erMorUfør,\n    søkerErFarEllerMedmorOgKunDeHarRett,\n    setPerioderErGyldige,\n    erEndringssøknad,\n    termindato,\n    antallBarn,\n    utsettelserIPlan,\n    barn,\n    barnFraNesteSak,\n    intl,\n    perioderErGyldige,\n    saveAttachment,\n}) => {\n    const [openPeriodeId, setOpenPeriodeId] = useState<string>(null!);\n    const bem = bemUtils('periodeliste');\n\n    const toggleIsOpen = (id: string) => {\n        if (openPeriodeId === id) {\n            setOpenPeriodeId(null!);\n        } else {\n            setOpenPeriodeId(id);\n        }\n    };\n\n    const indexOfFørstePeriodeEtterFødsel = getIndexOfFørstePeriodeEtterFødsel(uttaksplan, familiehendelsesdato);\n    const erAllePerioderIPlanenFørFødsel = indexOfFørstePeriodeEtterFødsel === -1;\n    const indexOfSistePeriodeFørNyStøndasperiodeNyttBarn =\n        barnFraNesteSak !== undefined\n            ? getIndexOfSistePeriodeFørDato(uttaksplan, barnFraNesteSak.startdatoFørsteStønadsperiode)\n            : undefined;\n    return (\n        <div className={bem.block}>\n            {uttaksplan.map((p, index) => {\n                const periodeMedValidState = perioderErGyldige.find((periodeMedState) => periodeMedState.id === p.id);\n                const periodeErGyldig = periodeMedValidState ? periodeMedValidState.isValid : true;\n                return (\n                    <div key={p.id}>\n                        {indexOfFørstePeriodeEtterFødsel === index ? (\n                            <FamiliehendelsedatoDisplay barn={barn} familiehendelsedato={familiehendelsesdato} />\n                        ) : null}\n                        {barnFraNesteSak !== undefined &&\n                        indexOfSistePeriodeFørNyStøndasperiodeNyttBarn !== undefined &&\n                        indexOfSistePeriodeFørNyStøndasperiodeNyttBarn === index ? (\n                            <Block padBottom=\"s\">\n                                <Alert className=\"nyStønadsperiodeNesteSak\" variant=\"info\">\n                                    <FormattedMessage\n                                        id=\"uttaksplan.periodeliste.info.nyStønadsperiodeNesteSak\"\n                                        values={{\n                                            datoStønadsperiodeNyttBarn: formatDate(\n                                                barnFraNesteSak.startdatoFørsteStønadsperiode,\n                                            ),\n                                        }}\n                                    />\n                                </Alert>\n                            </Block>\n                        ) : null}\n                        <PeriodelisteItem\n                            key={p.id}\n                            egenPeriode={!isInfoPeriode(p)}\n                            periode={p}\n                            isOpen={openPeriodeId === p.id}\n                            toggleIsOpen={toggleIsOpen}\n                            familiehendelsesdato={familiehendelsesdato}\n                            handleUpdatePeriode={handleUpdatePeriode}\n                            stønadskontoer={stønadskontoer}\n                            navnPåForeldre={navnPåForeldre}\n                            annenForelder={annenForelder}\n                            arbeidsforhold={arbeidsforhold}\n                            handleDeletePeriode={handleDeletePeriode}\n                            erFarEllerMedmor={erFarEllerMedmor}\n                            erFlerbarnssøknad={erFlerbarnssøknad}\n                            erAleneOmOmsorg={erAleneOmOmsorg}\n                            erDeltUttak={erDeltUttak}\n                            situasjon={situasjon}\n                            meldinger={meldingerPerPeriode[p.id]}\n                            erMorUfør={erMorUfør}\n                            annenForelderSamtidigUttakPeriode={getAnnenForelderSamtidigUttakPeriode(p, uttaksplan)}\n                            søkerErFarEllerMedmorOgKunDeHarRett={søkerErFarEllerMedmorOgKunDeHarRett}\n                            setPerioderErGyldige={setPerioderErGyldige}\n                            erEndringssøknad={erEndringssøknad}\n                            termindato={termindato}\n                            antallBarn={antallBarn}\n                            utsettelserIPlan={utsettelserIPlan}\n                            intl={intl}\n                            periodeErGyldig={periodeErGyldig}\n                            saveAttachment={saveAttachment}\n                        />\n                        {erAllePerioderIPlanenFørFødsel && index === uttaksplan.length - 1 ? (\n                            <FamiliehendelsedatoDisplay barn={barn} familiehendelsedato={familiehendelsesdato} />\n                        ) : null}\n                        {barnFraNesteSak !== undefined &&\n                        index === uttaksplan.length - 1 &&\n                        indexOfSistePeriodeFørNyStøndasperiodeNyttBarn === uttaksplan.length ? (\n                            <Block padBottom=\"s\">\n                                <Alert className=\"nyStønadsperiodeNesteSak\" variant=\"info\">\n                                    <FormattedMessage\n                                        id=\"uttaksplan.periodeliste.info.nyStønadsperiodeNesteSak\"\n                                        values={{\n                                            datoStønadsperiodeNyttBarn: formatDate(\n                                                barnFraNesteSak.startdatoFørsteStønadsperiode,\n                                            ),\n                                        }}\n                                    />\n                                </Alert>\n                            </Block>\n                        ) : null}\n                    </div>\n                );\n            })}\n        </div>\n    );\n};\n\nexport default Periodeliste;\n","import {\n    bemUtils,\n    InfoBlock,\n    intlUtils,\n    Block,\n    ActionLink,\n    NavnPåForeldre,\n    Situasjon,\n    TilgjengeligStønadskonto,\n    Arbeidsforhold,\n    Barn,\n    BarnFraNesteSak,\n    AnnenForelder,\n    isAnnenForelderOppgitt,\n    Periode,\n    Periodene,\n    Utsettelsesperiode,\n    Attachment,\n    PeriodeValidState,\n} from '@navikt/fp-common';\nimport { FunctionComponent, useState } from 'react';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport NyPeriode from '../uttaks-forms/ny-periode/NyPeriode';\nimport Periodeliste from './../periodeliste/Periodeliste';\nimport { Button, Heading } from '@navikt/ds-react';\n\nimport './planlegger.less';\nimport { VeiledermeldingerPerPeriode } from '../../validering/veilederInfo/types';\n\ninterface Props {\n    uttaksplan: Periode[];\n    familiehendelsesdato: Date;\n    handleUpdatePeriode: (periode: Periode, familiehendelsedato: Date) => void;\n    stønadskontoer: TilgjengeligStønadskonto[];\n    navnPåForeldre: NavnPåForeldre;\n    annenForelder: AnnenForelder;\n    arbeidsforhold: Arbeidsforhold[];\n    handleDeletePeriode: (periodeId: string) => void;\n    handleAddPeriode: (nyPeriode: Periode, familiehendelsedato: Date) => void;\n    erFarEllerMedmor: boolean;\n    erFlerbarnssøknad: boolean;\n    erAleneOmOmsorg: boolean;\n    erDeltUttak: boolean;\n    situasjon: Situasjon;\n    meldingerPerPeriode: VeiledermeldingerPerPeriode;\n    erMorUfør: boolean;\n    setPerioderErGyldige: React.Dispatch<React.SetStateAction<PeriodeValidState[]>>;\n    erEndringssøknad: boolean;\n    setSlettUttaksplanModalOpen: (isOpen: boolean) => void;\n    setResetUttaksplanModalOpen: (isOpen: boolean) => void;\n    termindato: Date | undefined;\n    barn: Barn;\n    utsettelserIPlan: Utsettelsesperiode[];\n    barnFraNesteSak: BarnFraNesteSak | undefined;\n    perioderErGyldige: PeriodeValidState[];\n    saveAttachment: (vedlegg: Attachment) => void;\n}\n\nconst Planlegger: FunctionComponent<Props> = ({\n    uttaksplan,\n    familiehendelsesdato,\n    handleUpdatePeriode,\n    stønadskontoer,\n    navnPåForeldre,\n    annenForelder,\n    arbeidsforhold,\n    handleDeletePeriode,\n    handleAddPeriode,\n    erFarEllerMedmor,\n    erFlerbarnssøknad,\n    erAleneOmOmsorg,\n    erDeltUttak,\n    situasjon,\n    meldingerPerPeriode,\n    erMorUfør,\n    setPerioderErGyldige,\n    erEndringssøknad,\n    setSlettUttaksplanModalOpen,\n    setResetUttaksplanModalOpen,\n    termindato,\n    barn,\n    utsettelserIPlan,\n    barnFraNesteSak,\n    perioderErGyldige,\n    saveAttachment,\n}) => {\n    const intl = useIntl();\n    const bem = bemUtils('planlegger');\n    const [nyPeriodeFormIsVisible, setNyPeriodeFormIsVisible] = useState(false);\n    const [isUtsettelse, setIsUtsettelse] = useState(false);\n    const nesteLedigeUttaksdato = Periodene(uttaksplan).getFørsteUttaksdagEtterSistePeriode();\n    const annenForelderErOppgitMenHarIkkeRett =\n        isAnnenForelderOppgitt(annenForelder) &&\n        !annenForelder.harRettPåForeldrepengerINorge &&\n        !annenForelder.harRettPåForeldrepengerIEØS;\n    const søkerErFarEllerMedmorOgKunDeHarRett =\n        erFarEllerMedmor && !erAleneOmOmsorg && annenForelderErOppgitMenHarIkkeRett;\n\n    return (\n        <>\n            <Block padBottom=\"l\">\n                <InfoBlock>\n                    <Block padBottom=\"xl\">\n                        <section>\n                            <div className={bem.element('tittel')}>\n                                <div className={bem.element('tittelLinkWrapper')}>\n                                    <Heading size=\"medium\">{intlUtils(intl, 'uttaksplan.dinPlan')}</Heading>\n                                    {erEndringssøknad && (\n                                        <ActionLink\n                                            onClick={() => setResetUttaksplanModalOpen(true)}\n                                            className={bem.element('resetPlan')}\n                                        >\n                                            <FormattedMessage id=\"uttaksplan.resetPlan.tittel\" />\n                                        </ActionLink>\n                                    )}\n                                    <ActionLink\n                                        onClick={() => setSlettUttaksplanModalOpen(true)}\n                                        className={bem.element('slettPlan')}\n                                    >\n                                        <FormattedMessage id=\"uttaksplan.slettPlan.tittel\" />\n                                    </ActionLink>\n                                </div>\n                            </div>\n\n                            <Periodeliste\n                                uttaksplan={uttaksplan}\n                                familiehendelsesdato={familiehendelsesdato}\n                                handleUpdatePeriode={handleUpdatePeriode}\n                                stønadskontoer={stønadskontoer}\n                                navnPåForeldre={navnPåForeldre}\n                                annenForelder={annenForelder}\n                                arbeidsforhold={arbeidsforhold}\n                                handleDeletePeriode={handleDeletePeriode}\n                                erFarEllerMedmor={erFarEllerMedmor}\n                                erFlerbarnssøknad={erFlerbarnssøknad}\n                                erAleneOmOmsorg={erAleneOmOmsorg}\n                                erDeltUttak={erDeltUttak}\n                                situasjon={situasjon}\n                                meldingerPerPeriode={meldingerPerPeriode}\n                                erMorUfør={erMorUfør}\n                                søkerErFarEllerMedmorOgKunDeHarRett={søkerErFarEllerMedmorOgKunDeHarRett}\n                                setPerioderErGyldige={setPerioderErGyldige}\n                                erEndringssøknad={erEndringssøknad}\n                                termindato={termindato}\n                                antallBarn={barn.antallBarn}\n                                utsettelserIPlan={utsettelserIPlan}\n                                barn={barn}\n                                barnFraNesteSak={barnFraNesteSak}\n                                intl={intl}\n                                perioderErGyldige={perioderErGyldige}\n                                saveAttachment={saveAttachment}\n                            />\n                        </section>\n                    </Block>\n                    {nyPeriodeFormIsVisible && (\n                        <div style={{ backgroundColor: 'white', padding: '1rem' }}>\n                            <NyPeriode\n                                setNyPeriodeFormIsVisible={setNyPeriodeFormIsVisible}\n                                annenForelder={annenForelder}\n                                arbeidsforhold={arbeidsforhold}\n                                familiehendelsesdato={familiehendelsesdato}\n                                isUtsettelse={isUtsettelse}\n                                navnPåForeldre={navnPåForeldre}\n                                stønadskontoer={stønadskontoer}\n                                handleAddPeriode={handleAddPeriode}\n                                erFarEllerMedmor={erFarEllerMedmor}\n                                erFlerbarnssøknad={erFlerbarnssøknad}\n                                erAleneOmOmsorg={erAleneOmOmsorg}\n                                erDeltUttak={erDeltUttak}\n                                situasjon={situasjon}\n                                erMorUfør={erMorUfør}\n                                setPerioderErGyldige={setPerioderErGyldige}\n                                nesteLedigeUttaksdato={nesteLedigeUttaksdato}\n                                søkerErFarEllerMedmorOgKunDeHarRett={søkerErFarEllerMedmorOgKunDeHarRett}\n                                erEndringssøknad={erEndringssøknad}\n                                termindato={termindato}\n                                antallBarn={barn.antallBarn}\n                                utsettelserIPlan={utsettelserIPlan}\n                                intl={intl}\n                                saveAttachment={saveAttachment}\n                            />\n                        </div>\n                    )}\n                </InfoBlock>\n            </Block>\n            {!nyPeriodeFormIsVisible && (\n                <Block padBottom=\"l\">\n                    <div className={bem.element('knapperad')}>\n                        <Button\n                            type=\"button\"\n                            variant=\"secondary\"\n                            onClick={() => {\n                                setNyPeriodeFormIsVisible(true);\n                                setIsUtsettelse(false);\n                            }}\n                        >\n                            Legg til ny periode\n                        </Button>\n                        <Button\n                            type=\"button\"\n                            variant=\"secondary\"\n                            onClick={() => {\n                                setNyPeriodeFormIsVisible(true);\n                                setIsUtsettelse(true);\n                            }}\n                        >\n                            Legg til utsettelse\n                        </Button>\n                    </div>\n                </Block>\n            )}\n        </>\n    );\n};\n\nexport default Planlegger;\n","import { FunctionComponent } from 'react';\nimport { injectIntl, IntlShape } from 'react-intl';\nimport {\n    bemUtils,\n    getVarighetString,\n    NavnPåForeldre,\n    Situasjon,\n    StønadskontoType,\n    StønadskontoUttak,\n} from '@navikt/fp-common';\nimport { BodyShort } from '@navikt/ds-react';\nimport { getStønadskontoNavn } from '@navikt/fp-common/src/common/utils/stønadskontoerUtils';\nimport './kontostatus.less';\nimport StønadskontoIkon from '../../stønadskonto-ikon/StønadskontoIkon';\n\nexport interface Props {\n    uttak: StønadskontoUttak;\n    navnPåForeldre: NavnPåForeldre;\n    erEndringssøknad: boolean;\n    intl: IntlShape;\n    erFarEllerMedmor: boolean;\n    situasjon: Situasjon;\n    erAleneOmOmsorg: boolean;\n}\n\nconst bem = bemUtils('kontostatus');\n\nconst Kontostatus: FunctionComponent<Props> = ({\n    uttak,\n    navnPåForeldre,\n    erEndringssøknad,\n    intl,\n    erFarEllerMedmor,\n    situasjon,\n    erAleneOmOmsorg,\n}) => {\n    if (erEndringssøknad && uttak.konto === StønadskontoType.ForeldrepengerFørFødsel) {\n        uttak.dager = 0;\n    }\n\n    const varighetString = getVarighetString(uttak.dager, intl);\n    const kontoErOvertrukket = uttak.dager < 0;\n\n    return (\n        <BodyShort className={bem.block} as=\"div\">\n            <div className={bem.element('ikon')} aria-hidden={true} role=\"presentation\">\n                <StønadskontoIkon\n                    konto={uttak.konto}\n                    navnPåForeldre={navnPåForeldre}\n                    erFarEllerMedmor={erFarEllerMedmor}\n                    situasjon={situasjon}\n                    erAleneOmOmsorg={erAleneOmOmsorg}\n                />\n            </div>\n            <div className={bem.element('content')}>\n                <div className={kontoErOvertrukket ? bem.element('kontoOvertrukket') : bem.element('konto')}>\n                    {getStønadskontoNavn(intl, uttak.konto, navnPåForeldre, erFarEllerMedmor, erAleneOmOmsorg)}\n                </div>\n                <strong\n                    className={kontoErOvertrukket ? bem.element('dagerOvertrukket') : bem.element('dager')}\n                    data-name={uttak.konto}\n                >\n                    {kontoErOvertrukket ? `- ${varighetString}` : varighetString}\n                </strong>\n            </div>\n        </BodyShort>\n    );\n};\n\nexport default injectIntl(Kontostatus);\n","import * as React from 'react';\nimport { bemUtils } from '@navikt/fp-common';\nimport './tilesList.less';\n\nconst bem = bemUtils('tilesList');\n\nconst TilesList: React.FunctionComponent<{ columns?: 1 | 2 | 3 | 'flex'; children?: React.ReactNode }> = ({\n    columns = 3,\n    children,\n}) => (\n    <ol className={bem.classNames(bem.block, bem.modifier(`columns-${columns}`))}>\n        {React.Children.map(children, (child) => (\n            <li className={bem.element('tile')}>{child}</li>\n        ))}\n    </ol>\n);\n\nexport default TilesList;\n","import {\n    Forelder,\n    Periode,\n    Periodene,\n    StønadskontoType,\n    StønadskontoUttak,\n    TilgjengeligStønadskonto,\n    Uttaksperiode,\n    beregnBrukteUttaksdager,\n    getAllePerioderMedUttaksinfoFraUttaksplan,\n    isUttaksperiode,\n} from '@navikt/fp-common';\n\ninterface ForeldersBrukteDager {\n    førTermin: StønadskontoUttak[];\n    etterTermin: StønadskontoUttak[];\n    alle: StønadskontoUttak[];\n    dagerTotalt: number;\n    dagerEgneKvoter: number;\n    dagerAnnenForeldersKvote: number;\n    dagerFellesperiode: number;\n}\n\nexport interface BrukteDager {\n    mor: ForeldersBrukteDager;\n    farMedmor: ForeldersBrukteDager;\n    alle: StønadskontoUttak[];\n}\n\nconst isMorsPeriode = (periode: Uttaksperiode): boolean => {\n    return periode.forelder === Forelder.mor;\n};\nconst isFarsPeriode = (periode: Uttaksperiode): boolean => {\n    return periode.forelder === Forelder.farMedmor;\n};\nconst isFellesperiodeKvote = (uttak: StønadskontoUttak): boolean => uttak.konto === StønadskontoType.Fellesperiode;\n\nconst isMorsKvote = (uttak: StønadskontoUttak): boolean => {\n    switch (uttak.konto) {\n        case StønadskontoType.ForeldrepengerFørFødsel:\n        case StønadskontoType.Mødrekvote:\n            return true;\n        default:\n            return false;\n    }\n};\n\nconst isFarMedmorsKvote = (uttak: StønadskontoUttak): boolean => {\n    return uttak.konto === StønadskontoType.Fedrekvote;\n};\n\nconst summerBrukteUttaksdager = (uttak: StønadskontoUttak[]) => {\n    return uttak.reduce((dager, u) => dager + u.dager, 0);\n};\n\nconst getBrukteDagerForForelder = (\n    tilgjengeligeStønadskontoer: TilgjengeligStønadskonto[],\n    perioder: Uttaksperiode[],\n    familiehendelsesdato: Date,\n    forelder: Forelder,\n): ForeldersBrukteDager => {\n    const perioderFørTermin = Periodene(perioder)\n        .getPerioderFørFamiliehendelsesdato(familiehendelsesdato)\n        .filter(isUttaksperiode);\n    const perioderEtterTermin = Periodene(perioder)\n        .getPerioderEtterFamiliehendelsesdato(familiehendelsesdato)\n        .filter(isUttaksperiode);\n    const førTermin = beregnBrukteUttaksdager(tilgjengeligeStønadskontoer, perioderFørTermin);\n    const etterTermin = beregnBrukteUttaksdager(tilgjengeligeStønadskontoer, perioderEtterTermin);\n    const alle = beregnBrukteUttaksdager(tilgjengeligeStønadskontoer, perioder);\n    const dagerTotalt = summerBrukteUttaksdager(alle);\n\n    const isMor = forelder === Forelder.mor;\n    const dagerEgneKvoter = summerBrukteUttaksdager(alle.filter(isMor ? isMorsKvote : isFarMedmorsKvote));\n    const dagerOverført = summerBrukteUttaksdager(alle.filter(isMor ? isFarMedmorsKvote : isMorsKvote));\n    const dagerFellesperiode = summerBrukteUttaksdager(alle.filter(isFellesperiodeKvote));\n\n    return {\n        førTermin,\n        etterTermin,\n        alle,\n        dagerTotalt,\n        dagerEgneKvoter,\n        dagerFellesperiode,\n        dagerAnnenForeldersKvote: dagerOverført,\n    };\n};\n\nexport const getBrukteDager = (\n    tilgjengeligeStønadskontoer: TilgjengeligStønadskonto[],\n    perioder: Periode[],\n    familiehendelsesdato: Date,\n): BrukteDager => {\n    const perioderMedUttak = getAllePerioderMedUttaksinfoFraUttaksplan(perioder);\n    return {\n        mor: getBrukteDagerForForelder(\n            tilgjengeligeStønadskontoer,\n            perioderMedUttak.filter(isMorsPeriode),\n            familiehendelsesdato,\n            Forelder.mor,\n        ),\n        farMedmor: getBrukteDagerForForelder(\n            tilgjengeligeStønadskontoer,\n            perioderMedUttak.filter(isFarsPeriode),\n            familiehendelsesdato,\n            Forelder.farMedmor,\n        ),\n        alle: beregnBrukteUttaksdager(tilgjengeligeStønadskontoer, perioder),\n    };\n};\n","import {\n    Periode,\n    StønadskontoType,\n    StønadskontoUttak,\n    TilgjengeligStønadskonto,\n    beregnGjenståendeUttaksdager,\n} from '@navikt/fp-common';\n\nexport interface Uttaksstatus {\n    gjelderDagerBrukt: boolean;\n    uttak: StønadskontoUttak[];\n}\n\nexport const getUttaksstatus = ({\n    erDeltUttak,\n    erEndringssøknad,\n    harKomplettUttaksplan,\n    erFarEllerMedmor,\n    tilgjengeligeStønadskontoer,\n    uttaksplan,\n}: UttaksstatusFuncParams): Uttaksstatus => {\n    const gjelderDagerBrukt =\n        (erEndringssøknad && harKomplettUttaksplan !== true) ||\n        (erDeltUttak && erFarEllerMedmor && harKomplettUttaksplan !== true);\n\n    const uttak: StønadskontoUttak[] = beregnGjenståendeUttaksdager(\n        tilgjengeligeStønadskontoer,\n        uttaksplan,\n        gjelderDagerBrukt,\n    );\n    return {\n        gjelderDagerBrukt,\n        uttak: erFarEllerMedmor\n            ? uttak.filter((kontouttak) => kontouttak.konto !== StønadskontoType.ForeldrepengerFørFødsel)\n            : uttak,\n    };\n};\n\nexport interface UttaksstatusFuncParams {\n    erDeltUttak: boolean;\n    erEndringssøknad: boolean;\n    harKomplettUttaksplan: boolean;\n    erFarEllerMedmor: boolean;\n    tilgjengeligeStønadskontoer: TilgjengeligStønadskonto[];\n    uttaksplan: Periode[];\n}\n\nexport const getUttaksstatusFunc = ({\n    erDeltUttak,\n    erEndringssøknad,\n    harKomplettUttaksplan,\n    erFarEllerMedmor,\n    tilgjengeligeStønadskontoer,\n    uttaksplan,\n}: UttaksstatusFuncParams): (() => Uttaksstatus) => {\n    return () =>\n        getUttaksstatus({\n            erDeltUttak,\n            erEndringssøknad,\n            harKomplettUttaksplan,\n            erFarEllerMedmor,\n            tilgjengeligeStønadskontoer,\n            uttaksplan,\n        });\n};\n","import { FunctionComponent } from 'react';\nimport { FormattedMessage, IntlShape, useIntl } from 'react-intl';\nimport {\n    ForelderIkon,\n    ForeldreparSituasjon,\n    NavnPåForeldre,\n    Periode,\n    Personkort,\n    Situasjon,\n    StønadskontoType,\n    StønadskontoUttak,\n    Søkerrolle,\n    TilgjengeligStønadskonto,\n    bemUtils,\n    getSituasjonForelderSvg,\n    getVarighetString,\n    guid,\n    intlUtils,\n    isFarEllerMedmor,\n} from '@navikt/fp-common';\nimport Kontostatus from './konto-status/Kontostatus';\nimport TilesList from './tilesList/TilesList';\nimport './oversiktKvoter.less';\nimport { Heading } from '@navikt/ds-react';\nimport { capitalizeFirstLetter } from '@navikt/fp-common/src/common/utils/stringUtils';\nimport { BrukteDager, getBrukteDager } from '../../utils/brukteDagerUtils';\nimport { Uttaksstatus, getUttaksstatus } from '../../utils/uttaksstatus';\n\nconst bem = bemUtils('oversiktKvoter');\n\nconst filtrerBortAnnenPartsKonto = (\n    uttakskontoer: StønadskontoUttak[],\n    erFarEllerMedmor: boolean,\n): StønadskontoUttak[] => {\n    return erFarEllerMedmor\n        ? uttakskontoer.filter((uttak) => uttak.konto !== StønadskontoType.Mødrekvote)\n        : uttakskontoer.filter((uttak) => uttak.konto !== StønadskontoType.Fedrekvote);\n};\ninterface PropsPerForelder {\n    brukteDagerPerForelder: BrukteDager;\n    erDeltUttakINorge: boolean;\n    foreldreparSituasjon: ForeldreparSituasjon;\n    navnPåForeldre: NavnPåForeldre;\n    søkerErFarEllerMedmor: boolean;\n}\n\nconst OversiktPerForelder: FunctionComponent<PropsPerForelder> = ({\n    brukteDagerPerForelder,\n    erDeltUttakINorge,\n    foreldreparSituasjon,\n    navnPåForeldre,\n    søkerErFarEllerMedmor,\n}) => {\n    const intl = useIntl();\n    const søkerErMor = !søkerErFarEllerMedmor;\n    const svgInfo = getSituasjonForelderSvg(foreldreparSituasjon);\n\n    return (\n        <div className={bem.block}>\n            <div className={bem.element('perForelder')}>\n                <Heading size=\"small\" as=\"h2\" className=\"blokk-xs\">\n                    {intlUtils(intl, 'uttaksplan.oversiktKvoter.tittel.foreldre')}\n                </Heading>\n                <TilesList columns={'flex'}>\n                    {(erDeltUttakINorge || søkerErMor) && (\n                        <Personkort\n                            ikon={<ForelderIkon forelder={svgInfo.mor} />}\n                            tittel={capitalizeFirstLetter(navnPåForeldre.mor)}\n                        >\n                            <strong>{getVarighetString(brukteDagerPerForelder.mor.dagerTotalt, intl)}</strong>\n                        </Personkort>\n                    )}\n                    {(erDeltUttakINorge || søkerErFarEllerMedmor) && (\n                        <Personkort\n                            ikon={<ForelderIkon forelder={svgInfo.farMedmor} />}\n                            tittel={capitalizeFirstLetter(navnPåForeldre.farMedmor)}\n                        >\n                            <strong>{getVarighetString(brukteDagerPerForelder.farMedmor.dagerTotalt, intl)}</strong>\n                        </Personkort>\n                    )}\n                </TilesList>\n            </div>\n        </div>\n    );\n};\n\ninterface PropsPerKvote {\n    erDeltUttakINorge: boolean;\n    navnPåForeldre: NavnPåForeldre;\n    erEndringssøknad: boolean;\n    uttaksstatus: Uttaksstatus;\n    erFarEllerMedmor: boolean;\n    situasjon: Situasjon;\n    erAleneOmOmsorg: boolean;\n}\n\nconst OversiktPerKvote: FunctionComponent<PropsPerKvote> = ({\n    erDeltUttakINorge,\n    navnPåForeldre,\n    erEndringssøknad,\n    uttaksstatus,\n    erFarEllerMedmor,\n    situasjon,\n    erAleneOmOmsorg,\n}) => {\n    const uttakÅVise = erDeltUttakINorge\n        ? uttaksstatus.uttak\n        : filtrerBortAnnenPartsKonto(uttaksstatus.uttak, erFarEllerMedmor);\n    return (\n        <div className={bem.element('perKvote')}>\n            <Heading size=\"small\" as=\"h2\" className=\"blokk-xs\">\n                <FormattedMessage\n                    id={\n                        uttaksstatus.gjelderDagerBrukt\n                            ? 'uttaksplan.oversiktKvoter.tittel.kontoer.brukteDager'\n                            : 'uttaksplan.oversiktKvoter.tittel.kontoer.ikkeBrukteDager'\n                    }\n                    values={{ antall: erDeltUttakINorge ? 2 : 1 }}\n                />\n            </Heading>\n            <TilesList columns={2}>\n                {uttakÅVise.map((uttak) => (\n                    <Kontostatus\n                        key={guid()}\n                        uttak={uttak}\n                        navnPåForeldre={navnPåForeldre}\n                        erEndringssøknad={erEndringssøknad}\n                        erFarEllerMedmor={erFarEllerMedmor}\n                        situasjon={situasjon}\n                        erAleneOmOmsorg={erAleneOmOmsorg}\n                    />\n                ))}\n            </TilesList>\n        </div>\n    );\n};\n\ninterface Props {\n    tilgjengeligeStønadskontoer: TilgjengeligStønadskonto[];\n    uttaksplan: Periode[];\n    erDeltUttak: boolean;\n    foreldreparSituasjon: ForeldreparSituasjon;\n    familiehendelsesdato: Date;\n    annenForelderHarRettINorge: boolean;\n    toTetteReglerGjelder: boolean;\n    intl: IntlShape;\n    rolle: Søkerrolle;\n    erEndringssøknad: boolean;\n    situasjon: Situasjon;\n    erAleneOmOmsorg: boolean;\n    navnPåForeldre: NavnPåForeldre;\n}\n\nconst OversiktKvoter: FunctionComponent<Props> = ({\n    tilgjengeligeStønadskontoer,\n    uttaksplan,\n    erDeltUttak,\n    foreldreparSituasjon,\n    familiehendelsesdato,\n    annenForelderHarRettINorge,\n    rolle,\n    erEndringssøknad,\n    situasjon,\n    erAleneOmOmsorg,\n    navnPåForeldre,\n}) => {\n    const søkerErFarEllerMedmor = isFarEllerMedmor(rolle);\n    const uttaksstatus = getUttaksstatus({\n        erDeltUttak: erDeltUttak,\n        erEndringssøknad: erEndringssøknad,\n        harKomplettUttaksplan: true,\n        erFarEllerMedmor: søkerErFarEllerMedmor,\n        tilgjengeligeStønadskontoer: tilgjengeligeStønadskontoer,\n        uttaksplan,\n    });\n    const brukteDagerPerForelder = getBrukteDager(tilgjengeligeStønadskontoer, uttaksplan, familiehendelsesdato);\n    const erDeltUttakINorge = erDeltUttak && annenForelderHarRettINorge;\n    return (\n        <div className={bem.block}>\n            <OversiktPerForelder\n                brukteDagerPerForelder={brukteDagerPerForelder}\n                erDeltUttakINorge={erDeltUttakINorge}\n                foreldreparSituasjon={foreldreparSituasjon}\n                navnPåForeldre={navnPåForeldre}\n                søkerErFarEllerMedmor={søkerErFarEllerMedmor}\n            />\n            <OversiktPerKvote\n                erDeltUttakINorge={erDeltUttakINorge}\n                navnPåForeldre={navnPåForeldre}\n                erEndringssøknad={erEndringssøknad}\n                uttaksstatus={uttaksstatus}\n                erFarEllerMedmor={søkerErFarEllerMedmor}\n                situasjon={situasjon}\n                erAleneOmOmsorg={erAleneOmOmsorg}\n            />\n        </div>\n    );\n};\n\nexport default OversiktKvoter;\n","import { Søknadsinfo, isHull, isInfoPeriode, isPeriodeUtenUttak, isValidTidsperiode } from '@navikt/fp-common';\nimport { RegelTest, RegelTestresultat } from '../utils/types/regelTypes';\n\nexport const inneholderUttaksplanPerioderTest: RegelTest = (grunnlag: Søknadsinfo): RegelTestresultat => {\n    return {\n        passerer:\n            grunnlag.perioder\n                .filter((p) => !isInfoPeriode(p) && !isPeriodeUtenUttak(p) && !isHull(p))\n                .filter((periode) => isValidTidsperiode(periode.tidsperiode)).length > 0,\n    };\n};\n","import {\n    AnnenForelder,\n    Forelder,\n    MorsAktivitet,\n    Situasjon,\n    StønadskontoType,\n    UtsettelseÅrsakType,\n    OverføringÅrsakType,\n    Periode,\n    Periodene,\n    Uttaksdagen,\n    getTidsperiode,\n    Tidsperioden,\n    erPeriodeFørDato,\n    Utsettelsesperiode,\n    Uttaksperiode,\n    andreAugust2022ReglerGjelder,\n    Periodetype,\n    isPeriodeUtenUttak,\n} from '@navikt/fp-common';\nimport { uttaksdatoer } from '../../utils/uttaksdatoerUtils';\n\nconst ANTALL_UTTAKSDAGER_SEKS_UKER = 30;\n\nexport interface InformasjonOmTaptUttakVedUttakEtterSeksUkerFarMedmor {\n    antallUttaksdagerTapt: number;\n    førsteRegistrerteUttaksdag: Date;\n    sisteUttaksdagInnenforSeksUker: Date;\n}\n\nexport const getInformasjonOmTaptUttakVedUttakEtterSeksUkerFarMedmor = (\n    uttaksplan: Periode[],\n    familiehendelsesdato: Date,\n    søkerErFarEllerMedmor: boolean,\n    bareFarMedmorHarRett: boolean,\n    morErUfør: boolean,\n    søkerErFarEllerMedmorOgAnnenForelderKanIkkeOppgis: boolean,\n    søkerErFarEllerMedmorOgErAleneOmOmsorgen: boolean,\n): InformasjonOmTaptUttakVedUttakEtterSeksUkerFarMedmor | undefined => {\n    if (søkerErFarEllerMedmor === false || bareFarMedmorHarRett === false || morErUfør === true) {\n        return undefined;\n    }\n\n    if (søkerErFarEllerMedmorOgAnnenForelderKanIkkeOppgis || søkerErFarEllerMedmorOgErAleneOmOmsorgen) {\n        return undefined;\n    }\n\n    const førstePeriode = Periodene(uttaksplan).getFørstePerioderEtterFamiliehendelsesdato(familiehendelsesdato);\n    if (førstePeriode === undefined) {\n        return undefined;\n    }\n\n    const førsteUttaksdag = Uttaksdagen(familiehendelsesdato).denneEllerNeste();\n    const førsteRegistrerteUttaksdag = førstePeriode.tidsperiode.fom;\n    const sisteUttaksdagInnenforSeksUker = getTidsperiode(førsteUttaksdag, 30).tom;\n    const antallUttaksdager =\n        Tidsperioden({\n            fom: førsteUttaksdag,\n            tom: førsteRegistrerteUttaksdag,\n        }).getAntallUttaksdager() - 1;\n\n    if (antallUttaksdager === undefined || antallUttaksdager <= ANTALL_UTTAKSDAGER_SEKS_UKER) {\n        return undefined;\n    }\n\n    return {\n        antallUttaksdagerTapt: antallUttaksdager - ANTALL_UTTAKSDAGER_SEKS_UKER,\n        førsteRegistrerteUttaksdag,\n        sisteUttaksdagInnenforSeksUker,\n    };\n};\n\nexport const getUgyldigUttakMor = (\n    perioder: Periode[],\n    familiehendelsesdato: Date,\n    situasjon: Situasjon,\n    erFarEllerMedmor: boolean,\n    termindato: Date | undefined,\n    flerbarnsFødsel?: boolean,\n    value?: string,\n): Periode[] => {\n    if (situasjon == 'adopsjon') {\n        return [];\n    }\n\n    const førsteUttaksdag = uttaksdatoer(\n        familiehendelsesdato,\n        erFarEllerMedmor,\n        termindato,\n    ).førsteUttaksdagPåEllerEtterFødsel;\n    const førsteUttaksdagEtterSeksUker = Uttaksdagen(førsteUttaksdag).leggTil(30);\n    const førsteUttaksdagEtterÅtteUker = Uttaksdagen(førsteUttaksdag).leggTil(40);\n\n    let ugyldigUttakRegelFørsteDato: Date;\n    let ugyldigUttakRegelSisteDato: Date;\n\n    if (value === 'førsteSeksUkerForMor') {\n        ugyldigUttakRegelFørsteDato = førsteUttaksdag;\n        ugyldigUttakRegelSisteDato = førsteUttaksdagEtterSeksUker;\n    } else if (value === 'mellomSyvOgÅtteUkerForMor') {\n        ugyldigUttakRegelFørsteDato = førsteUttaksdagEtterSeksUker;\n        ugyldigUttakRegelSisteDato = førsteUttaksdagEtterÅtteUker;\n    }\n\n    const ugyldigPeriode = Periodene(perioder)\n        .getPerioderEtterFamiliehendelsesdato(ugyldigUttakRegelFørsteDato!)\n        .filter((p) => erPeriodeFørDato(p, ugyldigUttakRegelSisteDato));\n\n    let ugyldigeUtsettelser: Utsettelsesperiode[] = [];\n\n    if (value === 'mellomSyvOgÅtteUkerForMor') {\n        ugyldigeUtsettelser = Periodene(ugyldigPeriode)\n            .getUtsettelser()\n            .filter(\n                (p) =>\n                    p.forelder === Forelder.mor &&\n                    (p.årsak === UtsettelseÅrsakType.Ferie || p.årsak === UtsettelseÅrsakType.Arbeid),\n            );\n    } else if (value === 'førsteSeksUkerForMor') {\n        ugyldigeUtsettelser = Periodene(ugyldigPeriode)\n            .getUtsettelser()\n            .filter(\n                (p) =>\n                    p.forelder === Forelder.mor &&\n                    p.årsak !== UtsettelseÅrsakType.InstitusjonSøker &&\n                    p.årsak !== UtsettelseÅrsakType.InstitusjonBarnet &&\n                    p.årsak !== UtsettelseÅrsakType.Sykdom,\n            );\n    }\n    const gradertePerioder = Periodene(ugyldigPeriode)\n        .getUttak()\n        .filter((p) => p.forelder === Forelder.mor && p.gradert === true);\n\n    const flernbarnsPerioder = Periodene(ugyldigPeriode)\n        .getUttak()\n        .filter((p) => p.forelder === Forelder.mor && p.ønskerFlerbarnsdager === true);\n\n    const fellesPerioder = Periodene(ugyldigPeriode)\n        .getUttak()\n        .filter((p) => p.forelder === Forelder.mor && p.konto === StønadskontoType.Fellesperiode);\n\n    let samtidigUttaksperioder: Uttaksperiode[] = [];\n\n    if (!flerbarnsFødsel && flerbarnsFødsel !== undefined && !andreAugust2022ReglerGjelder(familiehendelsesdato)) {\n        samtidigUttaksperioder = Periodene(ugyldigPeriode)\n            .getUttak()\n            .filter((p) => p.forelder === Forelder.mor && p.ønskerSamtidigUttak);\n    }\n\n    return [\n        ...flernbarnsPerioder,\n        ...gradertePerioder,\n        ...ugyldigeUtsettelser,\n        ...fellesPerioder,\n        ...samtidigUttaksperioder,\n    ];\n};\n\nexport const unntakFarFørsteSeksUker = (periode: Uttaksperiode, harMidlertidigOmsorg: boolean) => ({\n    erMorForSykDeFørsteSeksUker: (): boolean => {\n        if (harMidlertidigOmsorg) {\n            return true;\n        }\n\n        if (periode.konto === StønadskontoType.Fellesperiode || periode.konto === StønadskontoType.Foreldrepenger) {\n            return (\n                periode.morsAktivitetIPerioden === MorsAktivitet.Innlagt ||\n                periode.morsAktivitetIPerioden === MorsAktivitet.TrengerHjelp ||\n                periode.erMorForSyk === true\n            );\n        }\n\n        if (periode.konto === StønadskontoType.Fedrekvote || periode.konto === StønadskontoType.AktivitetsfriKvote) {\n            return periode.erMorForSyk === true;\n        }\n\n        return false;\n    },\n    erFlerbarnsukerOgUttakAvFlerbarnsdagerEllerFedrekvote: (antallBarn: number): boolean => {\n        return antallBarn > 1 && periode.ønskerFlerbarnsdager === true;\n    },\n});\n\nconst erFarsUttakFørsteSeksUkerGyldig = (\n    periode: Uttaksperiode,\n    antallBarn: number,\n    harMidlertidigOmsorg: boolean,\n): boolean => {\n    const unntak = unntakFarFørsteSeksUker(periode, harMidlertidigOmsorg);\n    return (\n        unntak.erMorForSykDeFørsteSeksUker() || unntak.erFlerbarnsukerOgUttakAvFlerbarnsdagerEllerFedrekvote(antallBarn)\n    );\n};\n\nexport const getUgyldigUttakFørsteSeksUkerForFarMedmor = (\n    perioder: Periode[],\n    familiehendelsesdato: Date,\n    antallBarn: number,\n    situasjon: Situasjon,\n    annenForelder: AnnenForelder,\n    erAleneOmOmsorg: boolean,\n    harMidlertidigOmsorg: boolean,\n    erFarEllerMedmor: boolean,\n    termindato: Date | undefined,\n): Periode[] => {\n    if (situasjon === 'adopsjon' || annenForelder.kanIkkeOppgis || erAleneOmOmsorg) {\n        return [];\n    }\n\n    const førsteUttaksdag = uttaksdatoer(\n        familiehendelsesdato,\n        erFarEllerMedmor,\n        termindato,\n    ).førsteUttaksdagPåEllerEtterFødsel;\n    const førsteUttaksdagEtterSeksUker = Uttaksdagen(førsteUttaksdag).leggTil(30);\n\n    const farsPerioderInnenforSeksFørsteUker = Periodene(perioder)\n        .getPerioderEtterFamiliehendelsesdato(familiehendelsesdato)\n        .filter((p) => erPeriodeFørDato(p, førsteUttaksdagEtterSeksUker))\n        .filter((p) => p.type !== Periodetype.Hull && !isPeriodeUtenUttak(p) && p.forelder === Forelder.farMedmor);\n\n    const ugyldigeUttak = Periodene(farsPerioderInnenforSeksFørsteUker)\n        .getUttak()\n        .filter((p) => erFarsUttakFørsteSeksUkerGyldig(p, antallBarn, harMidlertidigOmsorg) === false);\n\n    const ugyldigeOverføringer = Periodene(farsPerioderInnenforSeksFørsteUker)\n        .getOverføringer()\n        .filter(\n            (p) =>\n                p.årsak !== OverføringÅrsakType.institusjonsoppholdAnnenForelder &&\n                p.årsak !== OverføringÅrsakType.sykdomAnnenForelder,\n        );\n\n    const ugyldigeUtsettelser = Periodene(farsPerioderInnenforSeksFørsteUker)\n        .getUtsettelser()\n        .filter((utsettelse) => utsettelse.årsak !== UtsettelseÅrsakType.InstitusjonBarnet);\n\n    return [...ugyldigeUttak, ...ugyldigeOverføringer, ...ugyldigeUtsettelser];\n};\n","import { Søknadsinfo, andreAugust2022ReglerGjelder } from '@navikt/fp-common';\nimport { RegelTest, RegelTestresultat } from '../utils/types/regelTypes';\nimport { getUgyldigUttakMor } from '../utils/uttakValideringUtils';\n\nexport const harMorSøktUgyldigUttakFørsteSeksUkerTest: RegelTest = (grunnlag: Søknadsinfo): RegelTestresultat => {\n    const søkerErMor = !grunnlag.søkerErFarEllerMedmor;\n    if (søkerErMor) {\n        const ugyldigePerioder = getUgyldigUttakMor(\n            grunnlag.perioder,\n            grunnlag.familiehendelsesdato,\n            grunnlag.søkersituasjon.situasjon,\n            grunnlag.søkerErFarEllerMedmor,\n            grunnlag.termindato,\n            grunnlag.erFlerbarnssøknad,\n            'førsteSeksUkerForMor',\n        );\n        const passerer = ugyldigePerioder.length === 0;\n        return {\n            passerer,\n            info: ugyldigePerioder.map((periode) => ({\n                intlKey: andreAugust2022ReglerGjelder(grunnlag.familiehendelsesdato)\n                    ? 'uttaksplan.validering.feil.morHarSøktUgyldigUttakFørsteSeksUker.etterWLB'\n                    : 'uttaksplan.validering.feil.morHarSøktUgyldigUttakFørsteSeksUker.førWLB',\n                periodeId: periode.id,\n            })),\n        };\n    }\n\n    return { passerer: true };\n};\n","import { IntlShape } from 'react-intl';\nimport { getUttaksstatus } from '../../utils/uttaksstatus';\nimport { RegelTest, RegelTestresultat, RegelTestresultatInfo } from '../utils/types/regelTypes';\nimport { Søknadsinfo, getStønadskontoNavn, getVarighetString } from '@navikt/fp-common';\n\nexport const stønadskontoInneholderForMyeUttakKunSøkerTest: RegelTest = (grunnlag: Søknadsinfo): RegelTestresultat => {\n    const {\n        navnPåForeldre,\n        perioder,\n        stønadskontoer,\n        erDeltUttak,\n        erEndringssøknad,\n        harKomplettUttaksplan,\n        søkerErFarEllerMedmor,\n        søkerErAleneOmOmsorg,\n    } = grunnlag;\n    const stønadskontoerMedForMyeUttak = getUttaksstatus({\n        erDeltUttak,\n        erEndringssøknad,\n        harKomplettUttaksplan,\n        erFarEllerMedmor: søkerErFarEllerMedmor,\n        tilgjengeligeStønadskontoer: stønadskontoer,\n        uttaksplan: perioder,\n    }).uttak.filter((u) => u.dager < 0);\n    return {\n        passerer: stønadskontoerMedForMyeUttak.length === 0,\n        info: stønadskontoerMedForMyeUttak.map(\n            (uttak): RegelTestresultatInfo => ({\n                intlKey: 'uttaksplan.validering.feil.forMyeUttak',\n                values: {\n                    dager: (intl: IntlShape) => getVarighetString(Math.abs(uttak.dager), intl),\n                    konto: (intl: IntlShape) =>\n                        getStønadskontoNavn(\n                            intl,\n                            uttak.konto,\n                            navnPåForeldre,\n                            søkerErFarEllerMedmor,\n                            søkerErAleneOmOmsorg,\n                        ),\n                },\n            }),\n        ),\n    };\n};\n","import { Søknadsinfo, andreAugust2022ReglerGjelder, erPeriodeInnvilget } from '@navikt/fp-common';\nimport { RegelTest, RegelTestresultat } from '../utils/types/regelTypes';\nimport { getUgyldigUttakFørsteSeksUkerForFarMedmor } from '../utils/uttakValideringUtils';\n\nexport const harFarMedmorSøktUgyldigUttakEllerUtsettelseFørsteSeksUkerTest: RegelTest = (\n    grunnlag: Søknadsinfo,\n): RegelTestresultat => {\n    const wlbReglerGjelder = andreAugust2022ReglerGjelder(grunnlag.familiehendelsesdato);\n    if (grunnlag.søkerErFarEllerMedmor && !wlbReglerGjelder) {\n        const ugyldigePerioder = getUgyldigUttakFørsteSeksUkerForFarMedmor(\n            grunnlag.perioder.filter((p) => !erPeriodeInnvilget(p)),\n            grunnlag.familiehendelsesdato,\n            grunnlag.antallBarn,\n            grunnlag.søkersituasjon.situasjon,\n            grunnlag.annenForelder,\n            grunnlag.søkerErAleneOmOmsorg,\n            grunnlag.søkerHarMidlertidigOmsorg,\n            grunnlag.søkerErFarEllerMedmor,\n            grunnlag.termindato,\n        );\n        const passerer = ugyldigePerioder.length === 0;\n        return {\n            passerer,\n            info: ugyldigePerioder.map((periode) => ({\n                periodeId: periode.id,\n            })),\n        };\n    }\n\n    return { passerer: true };\n};\n","import { Søknadsinfo, uttaksplanErBareOpphold } from '@navikt/fp-common';\nimport { RegelTest, RegelTestresultat } from '../utils/types/regelTypes';\n\nexport const erUttaksplanBareOppholdTest: RegelTest = (grunnlag: Søknadsinfo): RegelTestresultat => {\n    return { passerer: uttaksplanErBareOpphold(grunnlag.perioder) === false };\n};\n","import { Søknadsinfo, uttaksplanSlutterMedOpphold } from '@navikt/fp-common';\nimport { RegelTestresultat, RegelTest } from '../utils/types/regelTypes';\n\nexport const slutterUttaksplanMedOppholdTest: RegelTest = (grunnlag: Søknadsinfo): RegelTestresultat => {\n    return { passerer: uttaksplanSlutterMedOpphold(grunnlag.perioder) === false };\n};\n","import { Søknadsinfo, uttaksplanStarterMedOpphold } from '@navikt/fp-common';\nimport { RegelTest, RegelTestresultat } from '../utils/types/regelTypes';\n\nexport const starterUttaksplanMedOppholdTest: RegelTest = (grunnlag: Søknadsinfo): RegelTestresultat => {\n    if (grunnlag.erEndringssøknad) {\n        return { passerer: true };\n    }\n\n    return { passerer: uttaksplanStarterMedOpphold(grunnlag.perioder) === false };\n};\n","import { Periode, Søknadsinfo, getFloatFromString, isUttaksperiode } from '@navikt/fp-common';\nimport { RegelTest, RegelTestresultat } from '../utils/types/regelTypes';\n\nconst uttaksplanGraderingStørreEnnSamtidigUttak = (uttaksplan: Periode[]) => {\n    const result = uttaksplan\n        .slice()\n        .filter(\n            (periode) => isUttaksperiode(periode) && periode.ønskerSamtidigUttak === true && periode.gradert === true,\n        )\n        .filter(\n            (periode) =>\n                isUttaksperiode(periode) &&\n                getFloatFromString(periode.stillingsprosent)! + getFloatFromString(periode.samtidigUttakProsent)! >\n                    100.0,\n        );\n\n    return result.length > 0;\n};\n\nexport const erUttaksplanGraderingStørreEnnSamtidigUttakTest: RegelTest = (\n    grunnlag: Søknadsinfo,\n): RegelTestresultat => {\n    return { passerer: uttaksplanGraderingStørreEnnSamtidigUttak(grunnlag.perioder) === false };\n};\n","import { Søknadsinfo } from '@navikt/fp-common';\nimport { RegelTestresultat } from '../utils/types/regelTypes';\n\nexport const tilleggsopplysningerMaxLength = 1000;\n\nexport const maxLengthIsGreaterThanOrEqualToStringLength = (maxLength: number, value: string) => {\n    return value.length <= maxLength;\n};\n\nexport const tilleggsopplysningerErGyldig = (begrunnelse?: string) =>\n    maxLengthIsGreaterThanOrEqualToStringLength(tilleggsopplysningerMaxLength, begrunnelse || '');\n\nexport function erTilleggsopplysningerGyldigTest(grunnlag: Søknadsinfo): RegelTestresultat {\n    const { begrunnelseForSenEndring } = grunnlag.tilleggsopplysninger;\n    const begrunnelseTekst = begrunnelseForSenEndring ? begrunnelseForSenEndring.tekst : '';\n    return tilleggsopplysningerErGyldig(begrunnelseTekst)\n        ? { passerer: true }\n        : {\n              passerer: false,\n              info: {\n                  intlKey: 'uttaksplan.veileder.fritekst.kanIkkeVæreLengreEnn',\n                  values: { maxLength: tilleggsopplysningerMaxLength },\n              },\n          };\n}\n","import { Søknadsinfo, getIllegalChars, validateTextHasLegalChars } from '@navikt/fp-common';\nimport { RegelTestresultat } from '../utils/types/regelTypes';\n\nexport function harTilleggsopplysningerGyldigeCharsTest(grunnlag: Søknadsinfo): RegelTestresultat {\n    const { begrunnelseForSenEndring } = grunnlag.tilleggsopplysninger;\n    const tekst = begrunnelseForSenEndring ? begrunnelseForSenEndring.tekst : '';\n    return validateTextHasLegalChars(tekst)\n        ? { passerer: true }\n        : {\n              passerer: false,\n              info: {\n                  intlKey: 'valideringsfeil.begrunnelseForSenEnding.kanIkkeInneholdeTegn',\n                  values: {\n                      ugyldigeTegn: getIllegalChars(tekst),\n                  },\n              },\n          };\n}\n","import { Søknadsinfo, uttaksplanHarForMangeFlerbarnsdager } from '@navikt/fp-common';\nimport { RegelTest, RegelTestresultat } from '../utils/types/regelTypes';\n\nexport const harUttaksplanForMangeFlerbarnsdagerTest: RegelTest = (grunnlag: Søknadsinfo): RegelTestresultat => {\n    const { perioder, dekningsgrad, antallBarn } = grunnlag;\n    return {\n        passerer:\n            dekningsgrad !== undefined &&\n            uttaksplanHarForMangeFlerbarnsdager(perioder, dekningsgrad, antallBarn) === false,\n    };\n};\n","import { Søknadsinfo, erUttaksdag, isInfoPeriode } from '@navikt/fp-common';\nimport { RegelTest, RegelTestresultat, RegelTestresultatInfo } from '../utils/types/regelTypes';\n\nexport const inneholderUttaksplanDatoSomIkkeErUttaksdag: RegelTest = (grunnlag: Søknadsinfo): RegelTestresultat => {\n    const ugyldigePerioder = grunnlag.perioder\n        .filter((p) => !isInfoPeriode(p))\n        .filter(({ tidsperiode: { fom, tom } }) => erUttaksdag(fom) === false || erUttaksdag(tom) === false);\n\n    return {\n        passerer: ugyldigePerioder.length === 0,\n        info: ugyldigePerioder.map((periode): RegelTestresultatInfo => {\n            return {\n                intlKey: `uttaksplan.validering.feil.${\n                    erUttaksdag(periode.tidsperiode.fom)\n                        ? 'periodeSlutterPåDatoSomIkkeErUttaksdag'\n                        : 'periodeStarterPåDatoSomIkkeErUttaksdag'\n                }`,\n                periodeId: periode.id,\n            };\n        }),\n    };\n};\n","import {\n    AnnenForelder,\n    Attachment,\n    AttachmentType,\n    InnsendingsType,\n    MissingAttachment,\n    MorsAktivitet,\n    Overføringsperiode,\n    OverføringÅrsakType,\n    Periode,\n    PeriodeUtenUttakUtsettelse,\n    Periodetype,\n    Skjemanummer,\n    StønadskontoType,\n    Søknadsinfo,\n    Utsettelsesperiode,\n    UtsettelseÅrsakType,\n    Uttaksperiode,\n    aktivitetskravMorUtil,\n    erÅrsakSykdomEllerInstitusjonsopphold,\n    getMorsAktivitetSkjemanummer,\n    isOverføringsperiode,\n    isUtsettelsesperiode,\n    isUttaksperiode,\n} from '@navikt/fp-common';\nimport { aktivitetskravMorSkalBesvares } from './uttaksskjema/aktivitetskravMorSkalBesvares';\n\nconst createMissingAttachment = (\n    index: number,\n    skjemanummer: Skjemanummer,\n    type: AttachmentType,\n    periodeId?: string,\n): MissingAttachment => {\n    return {\n        index,\n        skjemanummer,\n        type,\n        periodeId,\n    };\n};\n\nconst isAttachmentMissing = (attachments?: Attachment[], type?: AttachmentType): boolean =>\n    attachments === undefined ||\n    attachments.length === 0 ||\n    (type !== undefined && attachments.find((a) => a.type === type) === undefined);\n\nexport const shouldPeriodeHaveAttachment = (\n    periode: Periode,\n    søkerErFarEllerMedmor: boolean,\n    annenForelder: AnnenForelder,\n): boolean => {\n    switch (periode.type) {\n        case Periodetype.Overføring:\n            return dokumentasjonBehøvesForOverføringsperiode(søkerErFarEllerMedmor, periode);\n        case Periodetype.Utsettelse:\n            return dokumentasjonBehøvesForUtsettelsesperiode(\n                periode,\n                aktivitetskravMorUtil.skalBesvaresVedUtsettelse(søkerErFarEllerMedmor, annenForelder),\n            );\n        case Periodetype.Uttak:\n            return dokumentasjonBehøvesForUttaksperiode(periode);\n        default:\n            return false;\n    }\n};\n\nexport const hasPeriodeMissingAttachment = (periode: Periode, søknadsinfo: Søknadsinfo): boolean => {\n    const shouldHave = shouldPeriodeHaveAttachment(\n        periode,\n        søknadsinfo.søkerErFarEllerMedmor,\n        søknadsinfo.annenForelder,\n    );\n\n    return (\n        shouldHave &&\n        isAttachmentMissing(periode.vedlegg?.filter((p) => p.innsendingsType !== InnsendingsType.SEND_SENERE))\n    );\n};\n\nexport const findMissingAttachmentsForPerioder = (søknadsinfo: Søknadsinfo): MissingAttachment[] => {\n    const perioder = søknadsinfo.perioderSomSkalSendesInn;\n    if (!perioder) {\n        return [];\n    }\n    const missingAttachments: MissingAttachment[] = [];\n    for (const periode of perioder) {\n        if (hasPeriodeMissingAttachment(periode, søknadsinfo)) {\n            const index = perioder.indexOf(periode);\n            if (\n                (isUtsettelsesperiode(periode) || isUttaksperiode(periode)) &&\n                missingAttachmentForAktivitetskrav(periode, søknadsinfo)\n            ) {\n                missingAttachments.push(\n                    createMissingAttachment(\n                        index,\n                        getMorsAktivitetSkjemanummer(periode.morsAktivitetIPerioden),\n                        AttachmentType.MORS_AKTIVITET_DOKUMENTASJON,\n                        periode.id,\n                    ),\n                );\n            } else {\n                if (isUtsettelsesperiode(periode)) {\n                    if (periode.årsak === UtsettelseÅrsakType.HvØvelse) {\n                        missingAttachments.push(\n                            createMissingAttachment(\n                                index,\n                                Skjemanummer.HV_ØVELSE,\n                                AttachmentType.HV_ØVELSE,\n                                periode.id,\n                            ),\n                        );\n                    }\n\n                    if (\n                        periode.årsak === UtsettelseÅrsakType.Fri &&\n                        søknadsinfo.søkerErFarEllerMedmor &&\n                        !søknadsinfo.morErUfør &&\n                        !søknadsinfo.morHarRett\n                    ) {\n                        missingAttachments.push(\n                            createMissingAttachment(\n                                index,\n                                Skjemanummer.DOK_MORS_UTDANNING_ARBEID_SYKDOM,\n                                AttachmentType.MORS_AKTIVITET_DOKUMENTASJON,\n                                periode.id,\n                            ),\n                        );\n                    }\n\n                    if (periode.årsak === UtsettelseÅrsakType.NavTiltak) {\n                        missingAttachments.push(\n                            createMissingAttachment(\n                                index,\n                                Skjemanummer.NAV_TILTAK,\n                                AttachmentType.NAV_TILTAK,\n                                periode.id,\n                            ),\n                        );\n                    }\n\n                    if (\n                        periode.årsak === UtsettelseÅrsakType.InstitusjonSøker ||\n                        periode.årsak === UtsettelseÅrsakType.InstitusjonBarnet\n                    ) {\n                        missingAttachments.push(\n                            createMissingAttachment(\n                                index,\n                                Skjemanummer.DOK_INNLEGGELSE,\n                                AttachmentType.UTSETTELSE_SYKDOM,\n                                periode.id,\n                            ),\n                        );\n                    }\n\n                    if (periode.årsak === UtsettelseÅrsakType.Sykdom) {\n                        missingAttachments.push(\n                            createMissingAttachment(\n                                index,\n                                Skjemanummer.DOK_OVERFØRING_FOR_SYK,\n                                AttachmentType.UTSETTELSE_SYKDOM,\n                                periode.id,\n                            ),\n                        );\n                    }\n                }\n\n                if (isOverføringsperiode(periode)) {\n                    if (\n                        periode.årsak === OverføringÅrsakType.institusjonsoppholdAnnenForelder ||\n                        periode.årsak === OverføringÅrsakType.sykdomAnnenForelder\n                    ) {\n                        missingAttachments.push(\n                            createMissingAttachment(\n                                index,\n                                Skjemanummer.DOK_OVERFØRING_FOR_SYK,\n                                AttachmentType.OVERFØRING_KVOTE,\n                                periode.id,\n                            ),\n                        );\n                    }\n                }\n\n                if (isUttaksperiode(periode)) {\n                    if (periode.konto === StønadskontoType.Fedrekvote && periode.erMorForSyk === true) {\n                        missingAttachments.push(\n                            createMissingAttachment(\n                                index,\n                                Skjemanummer.DOK_MORS_UTDANNING_ARBEID_SYKDOM,\n                                AttachmentType.UTSETTELSE_SYKDOM,\n                                periode.id,\n                            ),\n                        );\n                    }\n                }\n            }\n        }\n    }\n    return missingAttachments;\n};\n\nconst dokumentasjonBehøvesForUttaksperiode = (periode: Uttaksperiode): boolean => {\n    if (periode.harIkkeAktivitetskrav) {\n        return false;\n    }\n\n    return (\n        (periode.morsAktivitetIPerioden !== undefined && periode.morsAktivitetIPerioden !== MorsAktivitet.Uføre) ||\n        (periode.konto === StønadskontoType.Fedrekvote && periode.erMorForSyk === true)\n    );\n};\n\nconst dokumentasjonBehøvesForUtsettelsesperiode = (\n    { årsak }: Utsettelsesperiode | PeriodeUtenUttakUtsettelse,\n    harMorAktivitetskrav: boolean,\n): boolean => {\n    return (\n        harMorAktivitetskrav ||\n        erÅrsakSykdomEllerInstitusjonsopphold(årsak) ||\n        årsak === UtsettelseÅrsakType.HvØvelse ||\n        årsak === UtsettelseÅrsakType.NavTiltak\n    );\n};\n\nexport const dokumentasjonBehøvesForOverføringsperiode = (\n    erFarEllerMedmor: boolean,\n    periode: Overføringsperiode,\n): boolean =>\n    (erFarEllerMedmor || periode.årsak !== OverføringÅrsakType.aleneomsorg) &&\n    periode.årsak !== OverføringÅrsakType.ikkeRettAnnenForelder;\n\nconst missingAttachmentForAktivitetskrav = (\n    periode: Utsettelsesperiode | Uttaksperiode,\n    søknadsinfo: Søknadsinfo,\n): boolean => {\n    const søkerErMor = !søknadsinfo.søkerErFarEllerMedmor;\n    const ønskerFlerBarnsdager = isUttaksperiode(periode) ? periode.ønskerFlerbarnsdager : undefined;\n    const erSamtidigUttak = isUttaksperiode(periode) ? periode.ønskerSamtidigUttak : undefined;\n    const morErForSyk = isUttaksperiode(periode) ? periode.erMorForSyk : undefined;\n    const konto = isUttaksperiode(periode) ? periode.konto : undefined;\n    return (\n        aktivitetskravMorSkalBesvares(\n            ønskerFlerBarnsdager,\n            erSamtidigUttak,\n            morErForSyk,\n            periode.type,\n            konto,\n            søkerErMor,\n            søknadsinfo.søkerErAleneOmOmsorg,\n            søknadsinfo.annenForelder.kanIkkeOppgis,\n            søknadsinfo.søkerHarMidlertidigOmsorg,\n            periode.tidsperiode,\n            søknadsinfo.familiehendelsesdato,\n            søknadsinfo.termindato,\n            søknadsinfo.søkersituasjon.situasjon,\n            søknadsinfo.stønadskontoer,\n            !søknadsinfo.morHarRett,\n        ) &&\n        isAttachmentMissing(\n            periode.vedlegg?.filter((p) => p.innsendingsType !== InnsendingsType.SEND_SENERE),\n            AttachmentType.MORS_AKTIVITET_DOKUMENTASJON,\n        )\n    );\n};\n","import dayjs from 'dayjs';\nimport { RegelTest, RegelTestresultat } from '../utils/types/regelTypes';\nimport { MissingAttachment, Søknadsinfo, isInfoPeriode, sorterPerioder } from '@navikt/fp-common';\nimport { findMissingAttachmentsForPerioder } from '../../utils/manglendeVedleggUtils';\n\nexport const harPerioderManglendeVedleggTest: RegelTest = (grunnlag: Søknadsinfo): RegelTestresultat => {\n    const manglendeVedlegg: MissingAttachment[] = findMissingAttachmentsForPerioder(grunnlag);\n\n    const førsteUttaksEllerUttsettelsesPeriode = grunnlag.perioder\n        .filter((p) => p.tidsperiode.fom !== undefined && !isInfoPeriode(p))\n        .sort(sorterPerioder)\n        .shift();\n    const erLikEllerMindreEnnFireUkerTilUttaketStarter =\n        førsteUttaksEllerUttsettelsesPeriode !== undefined &&\n        dayjs(førsteUttaksEllerUttsettelsesPeriode.tidsperiode.fom).isSameOrBefore(dayjs().add(4, 'weeks'), 'day');\n    const regelTekst = erLikEllerMindreEnnFireUkerTilUttaketStarter\n        ? 'uttaksplan.validering.info.manglendeVedlegg'\n        : 'uttaksplan.validering.advarsel.forTidligUtenDokumentasjon';\n\n    const passerer = manglendeVedlegg.length === 0;\n    const x: RegelTestresultat = {\n        passerer,\n        info: passerer\n            ? undefined\n            : manglendeVedlegg\n                  .filter((vedlegg) => !!vedlegg.periodeId)\n                  .map((vedlegg) => ({\n                      periodeId: vedlegg.periodeId,\n                      intlKey: regelTekst,\n                  })),\n    };\n    return x;\n};\n","import { RegelTestresultat } from '../utils/types/regelTypes';\nimport {\n    erPeriodeInnvilget,\n    erSenUtsettelsePgaFerieEllerArbeid,\n    Periodetype,\n    Søknadsinfo,\n    UtsettelseÅrsakType,\n} from '@navikt/fp-common';\n\nexport function inneholderSenUtsettelsePgaFerieTest(grunnlag: Søknadsinfo): RegelTestresultat {\n    const seneUtsettelsePgaFerie = grunnlag.perioder\n        .filter((p) => !erPeriodeInnvilget(p, grunnlag.eksisterendeSak))\n        .filter(erSenUtsettelsePgaFerieEllerArbeid)\n        .filter((p) => p.type === Periodetype.Utsettelse && p.årsak === UtsettelseÅrsakType.Ferie);\n\n    const passerer = seneUtsettelsePgaFerie.length === 0;\n    return {\n        passerer,\n        info: seneUtsettelsePgaFerie.map((periode) => ({\n            intlKey: 'uttaksplan.validering.advarsel.planenAdvarerOmUtsettelser.ferie',\n            periodeId: periode.id,\n        })),\n    };\n}\n","import { RegelTestresultat } from '../utils/types/regelTypes';\nimport { getInformasjonOmTaptUttakVedUttakEtterSeksUkerFarMedmor } from '../utils/uttakValideringUtils';\nimport { isUttaksperiode, Periodene, Periodetype, StønadskontoType, Søknadsinfo } from '@navikt/fp-common';\n\nexport function inneholderTapteDagerTest(grunnlag: Søknadsinfo): RegelTestresultat {\n    const { perioder, søkerErFarEllerMedmor } = grunnlag;\n    const infoOmTaptUttakVedUttakEtterSeksUkerFarMedmor = getInformasjonOmTaptUttakVedUttakEtterSeksUkerFarMedmor(\n        perioder,\n        grunnlag.familiehendelsesdato,\n        søkerErFarEllerMedmor,\n        grunnlag.morHarRett === false,\n        grunnlag.morErUfør,\n        !!(søkerErFarEllerMedmor && grunnlag.annenForelder.kanIkkeOppgis),\n        !!(søkerErFarEllerMedmor && grunnlag.søkerErAleneOmOmsorg),\n    );\n\n    const planInneholderTapteDager =\n        Periodene(perioder).getHull().length > 0 || infoOmTaptUttakVedUttakEtterSeksUkerFarMedmor !== undefined;\n\n    const planInneholderAnnetEnnAktivitetsfriKvote = perioder\n        .filter((p) => p.type !== Periodetype.Hull)\n        .some((p) => (isUttaksperiode(p) && p.konto !== StønadskontoType.AktivitetsfriKvote) || !isUttaksperiode(p));\n\n    const passerer = (planInneholderTapteDager && planInneholderAnnetEnnAktivitetsfriKvote) === false;\n\n    return {\n        passerer,\n        info: {\n            intlKey: 'uttaksplan.validering.info.planenInneholderHull',\n        },\n    };\n}\n","import {\n    Periodene,\n    Søknadsinfo,\n    Uttaksdagen,\n    formaterDato,\n    isOverskrivbarPeriode,\n    isUtsettelsesperiode,\n} from '@navikt/fp-common';\nimport { RegelTestresultat } from '../utils/types/regelTypes';\n\nexport function inneholderBareUtsettelserTest(grunnlag: Søknadsinfo): RegelTestresultat {\n    const ikkeOverskrivbarePerioder = grunnlag.perioder.filter((p) => !isOverskrivbarPeriode(p));\n    const inneholderAndrePerioderEnnUtsettelser = ikkeOverskrivbarePerioder.some((p) => !isUtsettelsesperiode(p));\n    const bareUtsettelser = !inneholderAndrePerioderEnnUtsettelser;\n    const passerer = bareUtsettelser === false;\n    const intlKey = grunnlag.erEndringssøknad\n        ? 'uttaksplan.veileder.planenInneholderKunUtsettelser.endringssøknad'\n        : 'uttaksplan.veileder.planenInneholderKunUtsettelser';\n\n    return {\n        passerer,\n        info: {\n            intlKey,\n            values: {\n                sisteDag: formaterDato(\n                    Uttaksdagen(Periodene(grunnlag.perioder).getFørsteUttaksdagEtterSistePeriode()!).forrige(),\n                    'D. MMMM YYYY',\n                ),\n            },\n        },\n    };\n}\n","import { RegelTestresultat } from '../utils/types/regelTypes';\nimport {\n    erPeriodeInnvilget,\n    erSenUtsettelsePgaFerieEllerArbeid,\n    Periodetype,\n    Søknadsinfo,\n    UtsettelseÅrsakType,\n} from '@navikt/fp-common';\n\nexport function inneholderSenUtsettelsePgaArbeidTest(grunnlag: Søknadsinfo): RegelTestresultat {\n    const seneUtsettelserPgaArbeid = grunnlag.perioder\n        .filter((p) => !erPeriodeInnvilget(p, grunnlag.eksisterendeSak))\n        .filter(erSenUtsettelsePgaFerieEllerArbeid)\n        .filter((p) => p.type === Periodetype.Utsettelse && p.årsak === UtsettelseÅrsakType.Arbeid);\n\n    const passerer = seneUtsettelserPgaArbeid.length === 0;\n    return {\n        passerer,\n        info: seneUtsettelserPgaArbeid.map((periode) => ({\n            intlKey: 'uttaksplan.validering.advarsel.planenAdvarerOmUtsettelser.arbeid',\n            periodeId: periode.id,\n        })),\n    };\n}\n","import { IntlShape } from 'react-intl';\nimport { RegelTest, RegelTestresultat, RegelTestresultatInfo } from '../utils/types/regelTypes';\nimport {\n    Periode,\n    Periodene,\n    Søknadsinfo,\n    Tidsperioden,\n    getNavnGenitivEierform,\n    getPeriodeTittel,\n    isAvslåttPeriode,\n    isInfoPeriode,\n    isUttaksperiode,\n} from '@navikt/fp-common';\n\nexport const overskriverEndringerAnnenPartsPerioder: RegelTest = (grunnlag: Søknadsinfo): RegelTestresultat => {\n    const eksisterendeUttaksplan =\n        grunnlag.eksisterendeSak !== undefined\n            ? grunnlag.eksisterendeSak.uttaksplan.filter((p) => !isAvslåttPeriode(p))\n            : undefined;\n    const fornavnAnnenForelder = grunnlag.søkerErFarEllerMedmor\n        ? grunnlag.navnPåForeldre.mor\n        : grunnlag.navnPåForeldre.farMedmor;\n    if (eksisterendeUttaksplan) {\n        const perioderSomOverlapper: Periode[] = [];\n        const perioderForSjekk = grunnlag.erEndringssøknad\n            ? grunnlag.perioderSomSkalSendesInn\n            : grunnlag.perioder.filter((p) => !isInfoPeriode(p));\n\n        perioderForSjekk.forEach((periode) => {\n            const overlapp = Periodene(eksisterendeUttaksplan.filter(isInfoPeriode)).finnOverlappendePerioder(periode);\n            if (overlapp.length > 0) {\n                perioderSomOverlapper.push(periode);\n            }\n        });\n\n        const perioderSomOverlapperUtenSamtidigUttak = perioderSomOverlapper.filter(\n            (p) => !(isUttaksperiode(p) && p.ønskerSamtidigUttak),\n        );\n\n        const passerer = perioderSomOverlapperUtenSamtidigUttak.length === 0;\n        return {\n            passerer,\n            info: perioderSomOverlapperUtenSamtidigUttak.map((periode) => {\n                const regelInfo: RegelTestresultatInfo = {\n                    periodeId: periode.id,\n                    intlKey: 'uttaksplan.validering.advarsel.periodeOverskriverAnnenPartsPeriode',\n                    renderAsHtml: true,\n                    values: {\n                        periode: (intl: IntlShape) =>\n                            getPeriodeTittel(\n                                intl,\n                                periode,\n                                grunnlag.navnPåForeldre,\n                                grunnlag.familiehendelsesdato,\n                                grunnlag.termindato,\n                                grunnlag.søkersituasjon.situasjon,\n                            ),\n                        tidsperiode: (intl: IntlShape) => Tidsperioden(periode.tidsperiode).formaterStringKort(intl),\n                        forelder: fornavnAnnenForelder,\n                        forelders: (intl: IntlShape) => getNavnGenitivEierform(fornavnAnnenForelder, intl.locale),\n                        //strong: (_intl: IntlShape) => (msg: any) => <strong>{msg}</strong>, //TODO: strong does not work.\n                        strong: (_intl: IntlShape) => (msg: any) => msg,\n                    },\n                };\n                return regelInfo;\n            }),\n        };\n    }\n\n    return { passerer: true };\n};\n","import { IntlShape } from 'react-intl';\nimport { RegelTest, RegelTestresultat, RegelTestresultatInfo } from '../utils/types/regelTypes';\nimport {\n    Periodene,\n    Søknadsinfo,\n    Tidsperioden,\n    getNavnGenitivEierform,\n    getPeriodeForelderNavn,\n    getPeriodeTittel,\n    isUttakAnnenPart,\n} from '@navikt/fp-common';\n\nexport const overlapperPeriodeAndrePerioder: RegelTest = (grunnlag: Søknadsinfo): RegelTestresultat => {\n    const { perioder, navnPåForeldre } = grunnlag;\n    const perioderUtenUttakAnnenPart = perioder.filter((p) => !isUttakAnnenPart(p));\n    const perioderSomHarOverlapp = perioderUtenUttakAnnenPart.filter(\n        (periode) => Periodene(perioderUtenUttakAnnenPart).finnOverlappendePerioder(periode).length > 0,\n    );\n\n    const passerer = perioderSomHarOverlapp.length === 0;\n    return {\n        passerer,\n        info: perioderSomHarOverlapp.map((periode) => {\n            const info: RegelTestresultatInfo = {\n                periodeId: periode.id,\n                intlKey: 'uttaksplan.validering.feil.periodeoverlapp.oppsummering',\n                renderAsHtml: true,\n                values: {\n                    periode: (intl: IntlShape) =>\n                        getPeriodeTittel(\n                            intl,\n                            periode,\n                            navnPåForeldre,\n                            grunnlag.familiehendelsesdato,\n                            grunnlag.termindato,\n                            grunnlag.søkersituasjon.situasjon,\n                        ),\n                    tidsperiode: (intl: IntlShape) => Tidsperioden(periode.tidsperiode).formaterStringKort(intl),\n                    forelder: (intl: IntlShape) =>\n                        getNavnGenitivEierform(getPeriodeForelderNavn(periode, navnPåForeldre), intl.locale),\n                },\n            };\n            return info;\n        }),\n    };\n};\n","import { Dictionary } from 'lodash';\nimport { IntlShape } from 'react-intl';\n\ntype FeilIntlMessage = (intl: IntlShape) => string;\n\nexport enum RegelAlvorlighet {\n    FEIL = 'feil',\n    ADVARSEL = 'advarsel',\n    INFO = 'info',\n}\n\nexport interface UttaksplanRegelTestresultat {\n    resultat: RegelStatus[];\n    avvikPerPeriode: Dictionary<RegelAvvik[]>;\n    avvik: RegelAvvik[];\n    harFeil: boolean;\n}\n\nexport type RegelKategori = 'fordeling' | undefined;\n\nexport interface Regel {\n    key: string;\n    test: RegelTest;\n    alvorlighet: RegelAlvorlighet;\n    overstyresAvRegel?: string;\n    overstyrerRegler?: string[];\n    slåsSammenVedOppsummering?: boolean;\n    skjulesIOppsummering?: boolean;\n    skjulesIPeriode?: boolean;\n    avvikType?: AvvikType;\n    kategori?: RegelKategori;\n}\n\nexport type RegelTest = (grunnlag: any) => RegelTestresultat;\n\nexport interface RegelTestresultat {\n    passerer: boolean;\n    info?: RegelTestresultatInfoObject;\n    periodeId?: string;\n}\n\nexport type RegelTestresultatInfoObject = RegelTestresultatInfo | RegelTestresultatInfo[];\n\nexport interface RegelStatus {\n    key: string;\n    passerer: boolean;\n    regelAvvik?: RegelAvvik[];\n}\n\nexport type AvvikType = 'forretning' | 'skjema';\n\nexport interface RegelAvvik {\n    id: string;\n    regel: Regel;\n    periodeId?: string;\n    info: RegelAvvikInfo;\n}\n\ntype avikValueFunk = (intl: IntlShape) => string;\ntype intlHTMLFragmentFunc = (msg: any) => any;\n\ninterface AvvikInfo {\n    periodeId?: string;\n    values?: {\n        [key: string]: string | number | Date | FeilIntlMessage | avikValueFunk | undefined | intlHTMLFragmentFunc;\n    };\n    renderAsHtml?: boolean;\n}\n\nexport interface RegelAvvikInfo extends AvvikInfo {\n    intlKey: string;\n}\n\nexport interface RegelTestresultatInfo extends AvvikInfo {\n    intlKey?: string;\n}\n","import { IntlShape } from 'react-intl';\nimport { flatten, isArray, uniqBy } from 'lodash';\nimport {\n    UttaksplanRegelTestresultat,\n    RegelAvvik,\n    Regel,\n    RegelTestresultatInfo,\n    RegelStatus,\n    RegelTestresultatInfoObject,\n    RegelAvvikInfo,\n    RegelAlvorlighet,\n} from './types/regelTypes';\nimport { Validator } from './types/validatorTypes';\nimport { guid } from '@navikt/fp-common';\n\nconst getRegelIntlKey = (regel: Regel, intlRegelPrefix: string): string =>\n    `${intlRegelPrefix}.${regel.alvorlighet}.${regel.key}`;\n\nconst alvorlighetSortOrder = {\n    [RegelAlvorlighet.FEIL]: 0,\n    [RegelAlvorlighet.ADVARSEL]: 1,\n    [RegelAlvorlighet.INFO]: 2,\n};\n\nconst sorterAvvik = (a1: RegelAvvik, a2: RegelAvvik): number => {\n    if (a1.regel.alvorlighet === a2.regel.alvorlighet) {\n        return 0;\n    }\n    return alvorlighetSortOrder[a1.regel.alvorlighet] < alvorlighetSortOrder[a2.regel.alvorlighet] ? -1 : 1;\n};\n\nconst ensureRegelAvvikIntlKey = (\n    regel: Regel,\n    intlRegelPrefix: string,\n    info?: Partial<RegelTestresultatInfo>,\n): RegelAvvikInfo => ({\n    ...info,\n    intlKey: info ? info.intlKey || getRegelIntlKey(regel, intlRegelPrefix) : getRegelIntlKey(regel, intlRegelPrefix),\n});\n\nconst overstyresAvFilter = (avvik: RegelAvvik, _idx: number, alleAvvik: RegelAvvik[]): boolean => {\n    return (\n        avvik.regel.overstyresAvRegel === undefined &&\n        alleAvvik.some((b2) => b2.regel.key === avvik.regel.overstyresAvRegel) === false\n    );\n};\n\nconst overstyrerAndreFilter = (avvik: RegelAvvik, _idx: number, alleAvvik: RegelAvvik[]): boolean => {\n    const overstyresAvAndre = alleAvvik.some((rb) =>\n        rb.regel.overstyrerRegler\n            ? rb.regel.overstyrerRegler.some((rbo) => {\n                  return rbo === avvik.regel.key;\n              })\n            : false,\n    );\n    return overstyresAvAndre === false;\n};\n\nexport const regelHarAvvik = (\n    regel: Regel,\n    intlRegelPrefix: string,\n    info?: RegelTestresultatInfoObject,\n    periodeId?: string,\n): RegelStatus => {\n    const mapInfoToRegelAvvik = (i?: Partial<RegelTestresultatInfo>): RegelAvvik => ({\n        id: guid(),\n        regel,\n        info: ensureRegelAvvikIntlKey(regel, intlRegelPrefix, i),\n        periodeId: i ? i.periodeId : periodeId,\n    });\n    const regelAvvik: RegelAvvik[] = [];\n    if (isArray(info)) {\n        info.forEach((i) => regelAvvik.push(mapInfoToRegelAvvik(i)));\n    } else {\n        regelAvvik.push(mapInfoToRegelAvvik(info));\n    }\n    return {\n        key: regel.key,\n        passerer: false,\n        regelAvvik,\n    };\n};\n\nexport const regelPasserer = (regel: Regel): RegelStatus => ({\n    key: regel.key,\n    passerer: true,\n});\n\nexport const getRegelAvvikForPeriode = (resultat: UttaksplanRegelTestresultat, periodeId: string): RegelAvvik[] => {\n    return resultat && resultat.avvikPerPeriode[periodeId] ? resultat.avvikPerPeriode[periodeId] : [];\n};\n\nexport const getRegelAvvik = (resultat: RegelStatus[]): RegelAvvik[] => {\n    if (resultat) {\n        return flatten(\n            resultat.filter((r) => r.passerer === false && r.regelAvvik !== undefined).map((r) => r.regelAvvik!),\n        ).sort(sorterAvvik);\n    }\n    return [];\n};\n\nexport const isRegelFeil = (regelAvvik: RegelAvvik): boolean => regelAvvik.regel.alvorlighet === RegelAlvorlighet.FEIL;\n\nexport const hasRegelFeil = (avvik: RegelAvvik[] = []) => avvik.some((a) => isRegelFeil(a));\n\nexport const trimRelaterteRegelAvvik = (avvik: RegelAvvik[], grupperAvvik: boolean): RegelAvvik[] => {\n    return grupperAvvik\n        ? uniqBy(avvik.filter(overstyresAvFilter).filter(overstyrerAndreFilter), (a) => {\n              return a.regel.slåsSammenVedOppsummering ? a.regel.key : guid();\n          })\n        : avvik.filter(overstyresAvFilter).filter(overstyrerAndreFilter);\n};\n\nexport const getRegelIntlValues = (\n    intl: IntlShape,\n    info: RegelTestresultatInfo,\n): { [key: string]: string } | undefined => {\n    const { values } = info;\n    if (values === undefined) {\n        return undefined;\n    }\n    const newValues: { [key: string]: string } = {};\n    Object.keys(values).forEach((key) => {\n        const valueOrFunc = values[key];\n        if (valueOrFunc) {\n            newValues[key] = typeof valueOrFunc === 'function' ? valueOrFunc(intl) : `${valueOrFunc}`;\n        }\n    });\n    return newValues;\n};\n\nexport const hasValueRule = (v: any, failText: string): Validator => ({\n    test: () => v !== undefined && v !== '',\n    failText,\n});\n","import {\n    getFloatFromString,\n    intlUtils,\n    samtidigUttakProsentIsMax100,\n    stillingsprosentIsLessThan100,\n    stillingsprosentIsMoreThan0,\n} from '@navikt/fp-common';\nimport { IntlShape } from 'react-intl';\nimport { hasValueRule } from './regelUtils';\nimport { Validator } from './types/validatorTypes';\n\nexport const getStillingsprosentRegler = (\n    erSamtidigUttak: boolean,\n    stillingsprosent: string,\n    intl?: IntlShape,\n): Validator[] => {\n    const intlKey = 'valideringsfeil.stillingsprosent';\n    return [\n        hasValueRule(stillingsprosent, intl ? intlUtils(intl, `${intlKey}.required`) : ''),\n        {\n            test: () => getFloatFromString(stillingsprosent) !== undefined,\n            failText: intl ? intlUtils(intl, `${intlKey}.ugyldigTall`) : '',\n        },\n        {\n            test: () => stillingsprosentIsMoreThan0(stillingsprosent),\n            failText: intl ? intlUtils(intl, `${intlKey}.under1`) : '',\n        },\n        {\n            test: () =>\n                erSamtidigUttak\n                    ? samtidigUttakProsentIsMax100(stillingsprosent)\n                    : stillingsprosentIsLessThan100(stillingsprosent),\n            failText: intl ? intlUtils(intl, `${intlKey}.over100prosent`) : '',\n        },\n    ];\n};\n","import { Periode, Periodetype } from '@navikt/fp-common';\nimport { getStillingsprosentRegler } from './stillingsprosentValideringUtils';\n\nexport const gradertUttaksperiodeErUgyldig = (periode: Periode) => {\n    if (periode.type === Periodetype.Uttak) {\n        const { gradert, stillingsprosent } = periode;\n        if (gradert === true) {\n            const regler = getStillingsprosentRegler(false, stillingsprosent || '');\n            const results = regler.map((regel) => regel.test() === true);\n            return results.some((erGyldig) => erGyldig === false);\n        }\n    }\n    return false;\n};\n\nexport const samtidigUttaksperiodeErUgyldig = (periode: Periode, søkerErFarEllerMedmor: boolean) => {\n    if (periode.type === Periodetype.Uttak) {\n        const { ønskerSamtidigUttak, samtidigUttakProsent } = periode;\n        if (ønskerSamtidigUttak === true && søkerErFarEllerMedmor) {\n            const regler = getStillingsprosentRegler(true, samtidigUttakProsent || '');\n            const results = regler.map((regel) => regel.test() === true);\n            return results.some((erGyldig) => erGyldig === false);\n        }\n    }\n    return false;\n};\n","import { gradertUttaksperiodeErUgyldig } from '../../utils/periodeValideringUtils';\nimport { Søknadsinfo } from '@navikt/fp-common';\nimport { RegelTest, RegelTestresultat } from '../../utils/types/regelTypes';\n\nexport const harUttaksperiodeGyldigGradering: RegelTest = (grunnlag: Søknadsinfo): RegelTestresultat => {\n    const ugyldigePerioder = grunnlag.perioder.filter(gradertUttaksperiodeErUgyldig);\n    return {\n        passerer: ugyldigePerioder.length === 0,\n        info: ugyldigePerioder.map((periode) => ({\n            periodeId: periode.id,\n        })),\n    };\n};\n","import { ValidationResult, ValidationTestVerdict, Validator } from './types/validatorTypes';\n\nexport const runValidators = (validators: Validator[] | undefined, inputName: string): ValidationResult => {\n    if (validators === undefined) {\n        return {\n            name: inputName,\n            tests: [],\n            valid: true,\n        };\n    }\n    const results: Validator[] = validators.filter((validator) => {\n        return validator.test() === false;\n    });\n\n    const valid = results.length === 0;\n    const tests: ValidationTestVerdict[] = valid === false ? [{ verdict: false, failText: results[0].failText }] : [];\n\n    return {\n        name: inputName,\n        tests,\n        valid,\n    };\n};\n\nexport const allValidatorsPass = (validators: Validator[] | undefined): boolean =>\n    validators === undefined ? true : runValidators(validators, 'group').valid;\n","import {\n    Periode,\n    TidsperiodeDate,\n    UtsettelseFormPeriodeType,\n    Uttaksdagen,\n    isForeldrepengerFørFødselUttaksperiode,\n    isValidTidsperiode,\n} from '@navikt/fp-common';\nimport dayjs from 'dayjs';\nimport { DatoValidatorer, Validator } from './types/validatorTypes';\nimport { allValidatorsPass } from './validatorUtils';\nimport { uttaksdatoer } from '../../utils/uttaksdatoerUtils';\n\ntype DateValue = Date | undefined;\n\nconst erUtfyltTest = (dato: DateValue): Validator => ({\n    test: () => dato !== undefined,\n    failText: { intlKey: `uttaksplan.validering.feil.påkrevd` },\n});\n\nconst erUttaksdagTest = (dato: DateValue) => ({\n    test: () => dato !== undefined && Uttaksdagen(dato).erUttaksdag(),\n    failText: { intlKey: `uttaksplan.validering.feil.datoErIkkeUttaksdag` },\n});\n\nconst slutterInnenforGyldigPermisjonsperiode = (\n    dato: DateValue,\n    familiehendelsesdato: Date,\n    erFarEllerMedmor: boolean,\n    termindato: Date | undefined,\n) => ({\n    test: () =>\n        dato !== undefined &&\n        dayjs(dato).isSameOrBefore(\n            uttaksdatoer(familiehendelsesdato, erFarEllerMedmor, termindato).sisteMuligeUttaksdagEtterTermin,\n            'day',\n        ),\n    failText: { intlKey: 'uttaksplan.validering.feil.etterSistePermisjonsdag' },\n});\n\nconst starterInnenforGyldigAntallUkerFørTermin = (\n    dato: DateValue,\n    familiehendelsesdato: Date,\n    erFarEllerMedmor: boolean,\n    termindato: Date | undefined,\n) => ({\n    test: () =>\n        dato !== undefined &&\n        dayjs(dato).isSameOrAfter(\n            uttaksdatoer(familiehendelsesdato, erFarEllerMedmor, termindato).førsteMuligeUttaksdagFørTermin,\n            'day',\n        ),\n    failText: { intlKey: 'uttaksplan.validering.feil.før12UkerFørTermin' },\n});\n\nexport const getUttakTidsperiodeValidatorer = (\n    skalIkkeHaUttak: boolean,\n    tidsperiode: Partial<TidsperiodeDate>,\n    familiehendelsesdato: Date,\n    erFarEllerMedmor: boolean,\n    termindato: Date | undefined,\n): DatoValidatorer | undefined => {\n    if (skalIkkeHaUttak) {\n        return undefined;\n    }\n\n    const { fom, tom } = tidsperiode;\n\n    return {\n        fra: [\n            erUtfyltTest(fom),\n            erUttaksdagTest(fom),\n            starterInnenforGyldigAntallUkerFørTermin(fom, familiehendelsesdato, erFarEllerMedmor, termindato),\n        ],\n        til: [\n            erUtfyltTest(tom),\n            erUttaksdagTest(tom),\n            slutterInnenforGyldigPermisjonsperiode(tom, familiehendelsesdato, erFarEllerMedmor, termindato),\n        ],\n    };\n};\n\nexport const uttakTidsperiodeErGyldig = (\n    uttaksperiode: Periode,\n    familiehendelsesdato: Date,\n    erFarEllerMedmor: boolean,\n    termindato: Date | undefined,\n): boolean => {\n    const { tidsperiode } = uttaksperiode;\n    if (!tidsperiode) {\n        return false;\n    }\n    const skalIkkeHaUttak = isForeldrepengerFørFødselUttaksperiode(uttaksperiode)\n        ? uttaksperiode.skalIkkeHaUttakFørTermin\n        : false;\n\n    if (isValidTidsperiode(tidsperiode) === false && !skalIkkeHaUttak) {\n        return false;\n    }\n    const validators = getUttakTidsperiodeValidatorer(\n        skalIkkeHaUttak,\n        tidsperiode,\n        familiehendelsesdato,\n        erFarEllerMedmor,\n        termindato,\n    );\n    if (validators === undefined) {\n        return true;\n    }\n    const fraDatoErGyldig = allValidatorsPass(validators.fra);\n    const tilDatoErGyldig = allValidatorsPass(validators.til);\n\n    return fraDatoErGyldig && tilDatoErGyldig;\n};\n\nconst getUtsettelseTidsperiodeValidatorer = (\n    tidsperiode: Partial<TidsperiodeDate>,\n    familiehendelsesdato: Date,\n    erFarEllerMedmor: boolean,\n    termindato: Date | undefined,\n): DatoValidatorer | undefined => {\n    return {\n        fra: [erUtfyltTest(tidsperiode.fom), erUttaksdagTest(tidsperiode.fom)],\n        til: [\n            erUtfyltTest(tidsperiode.tom),\n            erUttaksdagTest(tidsperiode.tom),\n            slutterInnenforGyldigPermisjonsperiode(tidsperiode.tom, familiehendelsesdato, erFarEllerMedmor, termindato),\n        ],\n    };\n};\n\nexport const utsettelseTidsperiodeErGyldig = (\n    utsettelesperiode: UtsettelseFormPeriodeType,\n    familiehendelsesdato: Date,\n    erFarEllerMedmor: boolean,\n    termindato: Date | undefined,\n): boolean => {\n    const { tidsperiode } = utsettelesperiode;\n\n    if (isValidTidsperiode(tidsperiode) === false) {\n        return false;\n    }\n    const validators = getUtsettelseTidsperiodeValidatorer(\n        tidsperiode,\n        familiehendelsesdato,\n        erFarEllerMedmor,\n        termindato,\n    );\n    if (validators === undefined) {\n        return true;\n    }\n    const fraDatoErGyldig = allValidatorsPass(validators.fra);\n    const tilDatoErGyldig = allValidatorsPass(validators.til);\n\n    return fraDatoErGyldig && tilDatoErGyldig;\n};\n","import { utsettelseTidsperiodeErGyldig, uttakTidsperiodeErGyldig } from '../../utils/tidsperiodeValideringUtils';\nimport { Periodetype, Søknadsinfo } from '@navikt/fp-common';\nimport { RegelTest, RegelTestresultat } from '../../utils/types/regelTypes';\n\nexport const harPeriodeGyldigTidsperiode: RegelTest = (grunnlag: Søknadsinfo): RegelTestresultat => {\n    const perioderMedUgyldigTidsperiode = grunnlag.perioder.filter((periode) => {\n        switch (periode.type) {\n            case Periodetype.Overføring:\n            case Periodetype.Uttak:\n            case Periodetype.Opphold:\n                return (\n                    uttakTidsperiodeErGyldig(\n                        periode,\n                        grunnlag.familiehendelsesdato,\n                        grunnlag.søkerErFarEllerMedmor,\n                        grunnlag.termindato,\n                    ) === false\n                );\n            case Periodetype.Utsettelse:\n                return (\n                    utsettelseTidsperiodeErGyldig(\n                        periode,\n                        grunnlag.familiehendelsesdato,\n                        grunnlag.søkerErFarEllerMedmor,\n                        grunnlag.termindato,\n                    ) === false\n                );\n        }\n        return false;\n    });\n    return {\n        passerer: perioderMedUgyldigTidsperiode.length === 0,\n        info: perioderMedUgyldigTidsperiode.map((periode) => ({\n            periodeId: periode.id,\n        })),\n    };\n};\n","import { Søknadsinfo, isUttaksperiode } from '@navikt/fp-common';\nimport { RegelTest, RegelTestresultat } from '../../utils/types/regelTypes';\n\nexport const harUttaksperiodeStønadskonto: RegelTest = (grunnlag: Søknadsinfo): RegelTestresultat => {\n    const uttaksperioderUtenStønadskonto = grunnlag.perioder.filter(\n        (periode) => isUttaksperiode(periode) && periode.konto === undefined,\n    );\n    return {\n        passerer: uttaksperioderUtenStønadskonto.length === 0,\n        info: uttaksperioderUtenStønadskonto.map((periode) => ({\n            periodeId: periode.id,\n        })),\n    };\n};\n","import { Søknadsinfo } from '@navikt/fp-common';\nimport { samtidigUttaksperiodeErUgyldig } from '../../utils/periodeValideringUtils';\nimport { RegelTest, RegelTestresultat } from '../../utils/types/regelTypes';\n\nexport const erSamtidigUttakGyldig: RegelTest = (grunnlag: Søknadsinfo): RegelTestresultat => {\n    const perioderMedUgyldigTidsperiode = grunnlag.perioder.filter((periode) =>\n        samtidigUttaksperiodeErUgyldig(periode, grunnlag.søkerErFarEllerMedmor),\n    );\n    return {\n        passerer: perioderMedUgyldigTidsperiode.length === 0,\n        info: perioderMedUgyldigTidsperiode.map((periode) => ({\n            periodeId: periode.id,\n        })),\n    };\n};\n","import dayjs from 'dayjs';\nimport { Søknadsinfo, isUtsettelsesperiode } from '@navikt/fp-common';\nimport { RegelTest, RegelTestresultat } from '../../utils/types/regelTypes';\n\nexport const erUtsettelseEtterFamiliehendelsesdato: RegelTest = (grunnlag: Søknadsinfo): RegelTestresultat => {\n    const ugyldigeUtsettelser = grunnlag.perioder\n        .filter(isUtsettelsesperiode)\n        .filter((utsettelse) => dayjs(utsettelse.tidsperiode.fom).isBefore(grunnlag.familiehendelsesdato, 'day'));\n    return {\n        passerer: ugyldigeUtsettelser.length === 0,\n        info: ugyldigeUtsettelser.map((periode) => ({\n            periodeId: periode.id,\n        })),\n    };\n};\n","import {\n    Søknadsinfo,\n    formaterDatoKompakt,\n    getFørsteUttaksdag2UkerFørFødsel,\n    gjelderWLBReglerFarMedmorRundtFødsel,\n    isUttaksperiodeFarMedmorMedValgForUttakRundtFødsel,\n    starterTidsperiodeEtter2UkerFørFødsel,\n} from '@navikt/fp-common';\nimport { RegelTest, RegelTestresultat } from '../../utils/types/regelTypes';\n\nexport const starterUttaksperiodeRundtFødselEtter2UkerFørFødsel: RegelTest = (\n    grunnlag: Søknadsinfo,\n): RegelTestresultat => {\n    if (\n        !gjelderWLBReglerFarMedmorRundtFødsel(\n            grunnlag.familiehendelsesdato,\n            grunnlag.søkerErFarEllerMedmor,\n            grunnlag.morHarRett,\n            grunnlag.søkersituasjon.situasjon,\n        )\n    ) {\n        return {\n            passerer: true,\n        };\n    }\n\n    const perioderFarMedmorSomStarterFør2UkerFørFødsel = grunnlag.perioder\n        .filter((p) => isUttaksperiodeFarMedmorMedValgForUttakRundtFødsel(p))\n        .filter(\n            (p) =>\n                !starterTidsperiodeEtter2UkerFørFødsel(\n                    p.tidsperiode,\n                    grunnlag.familiehendelsesdato,\n                    grunnlag.termindato,\n                ),\n        );\n\n    const førsteUttaksdagToUkerFørFødsel = formaterDatoKompakt(\n        getFørsteUttaksdag2UkerFørFødsel(grunnlag.familiehendelsesdato, grunnlag.termindato),\n    );\n    return {\n        passerer: perioderFarMedmorSomStarterFør2UkerFørFødsel.length === 0,\n        info: perioderFarMedmorSomStarterFør2UkerFørFødsel.map((periode) => ({\n            intlKey: 'uttaksplan.validering.feil.starterUttaksperiodeRundtFødselEtter2UkerFørFødsel',\n            values: { dato: førsteUttaksdagToUkerFørFødsel },\n            periodeId: periode.id,\n        })),\n    };\n};\n","import {\n    Søknadsinfo,\n    formaterDatoKompakt,\n    getSisteUttaksdag6UkerEtterFødsel,\n    gjelderWLBReglerFarMedmorRundtFødsel,\n    isUttaksperiodeFarMedmorPgaFødsel,\n    slutterTidsperiodeInnen6UkerEtterFødsel,\n} from '@navikt/fp-common';\nimport { RegelTest, RegelTestresultat } from '../../utils/types/regelTypes';\n\nexport const slutterUttaksperiodeRundtFødselInnen6UkerEtterFødsel: RegelTest = (\n    grunnlag: Søknadsinfo,\n): RegelTestresultat => {\n    if (\n        !gjelderWLBReglerFarMedmorRundtFødsel(\n            grunnlag.familiehendelsesdato,\n            grunnlag.søkerErFarEllerMedmor,\n            grunnlag.morHarRett,\n            grunnlag.søkersituasjon.situasjon,\n        )\n    ) {\n        return {\n            passerer: true,\n        };\n    }\n\n    const perioderFarMedmorSomIkkeSlutterFør6UkerEtterFødsel = grunnlag.perioder\n        .filter((p) => isUttaksperiodeFarMedmorPgaFødsel(p, grunnlag.familiehendelsesdato, grunnlag.termindato))\n        .filter((p) => !slutterTidsperiodeInnen6UkerEtterFødsel(p.tidsperiode, grunnlag.familiehendelsesdato));\n\n    const sisteUttaksdagSeksUkerEtterFødsel = formaterDatoKompakt(\n        getSisteUttaksdag6UkerEtterFødsel(grunnlag.familiehendelsesdato),\n    );\n    return {\n        passerer: perioderFarMedmorSomIkkeSlutterFør6UkerEtterFødsel.length === 0,\n        info: perioderFarMedmorSomIkkeSlutterFør6UkerEtterFødsel.map((periode) => ({\n            intlKey: 'uttaksplan.validering.feil.slutterUttaksperiodeRundtFødselEtter6UkerEtterFødsel',\n            values: { dato: sisteUttaksdagSeksUkerEtterFødsel },\n            periodeId: periode.id,\n        })),\n    };\n};\n","import {\n    StønadskontoType,\n    Søknadsinfo,\n    andreAugust2022ReglerGjelder,\n    isUttaksperiode,\n    starterTidsperiodeInnenforToUkerFørFødselTilSeksUkerEtterFødsel,\n} from '@navikt/fp-common';\nimport { RegelTest, RegelTestresultat } from '../../utils/types/regelTypes';\n\nexport const periodeDeFørsteSeksUkeneHarUlovligUttakBFHR: RegelTest = (grunnlag: Søknadsinfo): RegelTestresultat => {\n    if (\n        !andreAugust2022ReglerGjelder(grunnlag.familiehendelsesdato) ||\n        !grunnlag.søkerErFarEllerMedmor ||\n        grunnlag.morHarRett ||\n        grunnlag.søkersituasjon.situasjon !== 'fødsel'\n    ) {\n        return {\n            passerer: true,\n        };\n    }\n\n    const perioderDeFørsteSeksUkeneMedUlovligUttakBFHR = grunnlag.perioder.filter(\n        (periode) =>\n            isUttaksperiode(periode) &&\n            starterTidsperiodeInnenforToUkerFørFødselTilSeksUkerEtterFødsel(\n                periode.tidsperiode,\n                grunnlag.familiehendelsesdato,\n                grunnlag.termindato,\n            ) &&\n            periode.konto === StønadskontoType.Foreldrepenger &&\n            periode.erMorForSyk === false,\n    );\n\n    return {\n        passerer: perioderDeFørsteSeksUkeneMedUlovligUttakBFHR.length === 0,\n        info: perioderDeFørsteSeksUkeneMedUlovligUttakBFHR.map((periode) => ({\n            intlKey: 'uttaksplan.validering.feil.perioderDeFørsteSeksUkeneMedUlovligUttakBFHR',\n            periodeId: periode.id,\n        })),\n    };\n};\n","import { Søknadsinfo, isUtsettelsePgaArbeid } from '@navikt/fp-common';\nimport { RegelTest, RegelTestresultat } from '../../utils/types/regelTypes';\n\nexport const harBekreftet100ProsentArbeidIUtsettelsePgaArbeid: RegelTest = (\n    grunnlag: Søknadsinfo,\n): RegelTestresultat => {\n    const utsettelserPgaArbeidUtenBekreftelse = grunnlag.perioder\n        .filter(isUtsettelsePgaArbeid)\n        .filter((periode) => periode.bekrefterArbeidIPerioden === false);\n\n    return {\n        passerer: utsettelserPgaArbeidUtenBekreftelse.length === 0,\n        info: utsettelserPgaArbeidUtenBekreftelse.map((periode) => ({\n            periodeId: periode.id,\n        })),\n    };\n};\n","import dayjs from 'dayjs';\nimport { Periode, Periodetype, Søknadsinfo, Uttaksdagen, formatDate, isUttakAnnenPart } from '@navikt/fp-common';\nimport { RegelTest, RegelTestresultat } from '../../utils/types/regelTypes';\n\nexport const laTilPeriodeEtterFørsteStønadsdagPåfølgendeBarn = (\n    periode: Periode,\n    førsteUttaksdagForPåfølgendeBarn: Date | undefined,\n) => {\n    if (\n        førsteUttaksdagForPåfølgendeBarn !== undefined &&\n        (periode.type === Periodetype.Uttak ||\n            periode.type === Periodetype.Overføring ||\n            periode.type === Periodetype.Utsettelse ||\n            periode.type === Periodetype.Opphold ||\n            isUttakAnnenPart(periode))\n    ) {\n        return (\n            dayjs(periode.tidsperiode.fom).isSameOrAfter(førsteUttaksdagForPåfølgendeBarn, 'd') ||\n            dayjs(periode.tidsperiode.tom).isSameOrAfter(førsteUttaksdagForPåfølgendeBarn, 'd')\n        );\n    }\n    return false;\n};\n\nexport const forSenUttakVedPåfølgendeBarn: RegelTest = (grunnlag: Søknadsinfo): RegelTestresultat => {\n    if (\n        grunnlag.familiehendelsesdatoNesteSak === undefined ||\n        grunnlag.førsteUttaksdagNesteBarnsSak === undefined ||\n        (grunnlag.minsterettUkerToTette && grunnlag.minsterettUkerToTette > 0)\n    ) {\n        return {\n            passerer: true,\n        };\n    }\n    const perioderMedUgyldigTidsperiode = grunnlag.perioder.filter((periode) =>\n        laTilPeriodeEtterFørsteStønadsdagPåfølgendeBarn(periode, grunnlag.førsteUttaksdagNesteBarnsSak),\n    );\n    const sisteMuligeUttaksdag = Uttaksdagen(grunnlag.førsteUttaksdagNesteBarnsSak).trekkFra(1);\n    return {\n        passerer: perioderMedUgyldigTidsperiode.length === 0,\n        info: perioderMedUgyldigTidsperiode.map((periode) => ({\n            intlKey: 'uttaksplan.validering.info.forSenUttakVedPåfølgendeBarn',\n            values: {\n                fom: formatDate(periode.tidsperiode.fom),\n                tom: formatDate(periode.tidsperiode.tom),\n                sisteMuligeUttaksdag: formatDate(sisteMuligeUttaksdag),\n            },\n            periodeId: periode.id,\n        })),\n    };\n};\n","import { harUttaksperiodeGyldigGradering } from './harUttaksperiodeGyldigGradering';\nimport { harPeriodeGyldigTidsperiode } from './harPeriodeGyldigTidsperiode';\nimport { harUttaksperiodeStønadskonto } from './harUttaksperiodeStønadskonto';\nimport { erSamtidigUttakGyldig } from './erSamtidigUttakGyldig';\nimport { erUtsettelseEtterFamiliehendelsesdato } from './erUtsettelseEtterFamiliehendelsesdato';\nimport { Regel, RegelAlvorlighet } from '../../utils/types/regelTypes';\nimport { starterUttaksperiodeRundtFødselEtter2UkerFørFødsel } from './starterUttaksperiodeRundtFødselEtter2UkerFørFødsel';\nimport { slutterUttaksperiodeRundtFødselInnen6UkerEtterFødsel } from './slutterUttaksperiodeRundtFødselInnen6UkerEtterFødsel';\nimport { periodeDeFørsteSeksUkeneHarUlovligUttakBFHR } from './periodeDeFørsteSeksUkeneHarUlovligUttakBFHR';\nimport { harBekreftet100ProsentArbeidIUtsettelsePgaArbeid } from './harBekreftet100ProsentArbeidIUtsettelsePgaArbeid';\nimport { forSenUttakVedPåfølgendeBarn } from './forSenUttakVedPåfølgendeBarn';\n\nexport enum PeriodeValiderRegelKey {\n    'uttaksperiodeHarGyldigGradering' = 'uttaksperiodeHarGyldigGradering',\n    'periodeHarGyldigTidsperiode' = 'periodeHarGyldigTidsperiode',\n    'uttaksperiodeHarStønadskonto' = 'uttaksperiodeHarStønadskonto',\n    'erSamtidigUttakGyldig' = 'erSamtidigUttakGyldig',\n    'erUtsettelseEtterFamiliehendelsesdato' = 'erUtsettelseEtterFamiliehendelsesdato',\n    'starterUttaksperiodeRundtFødselEtter2UkerFørFødsel' = 'starterUttaksperiodeRundtFødselEtter2UkerFørFødsel',\n    'slutterUttaksperiodeRundtFødselInnen6UkerEtterFødsel' = 'slutterUttaksperiodeRundtFødselInnen6UkerEtterFødsel',\n    'periodeDeFørsteSeksUkeneHarUlovligUttakBFHR' = 'periodeDeFørsteSeksUkeneHarUlovligUttakBFHR',\n    'harBekreftet100ProsentArbeidIUtsettelsePgaArbeid' = 'harBekreftet100ProsentArbeidIUtsettelsePgaArbeid',\n    'forSenUttakVedPåfølgendeBarn' = 'forSenUttakVedPåfølgendeBarn',\n}\n\n/** Meldingene skal default kun vises inne i skjema */\n\nconst skjulIOppsummering = true;\n\nconst periodevalideringsregler: Regel[] = [\n    {\n        key: PeriodeValiderRegelKey.uttaksperiodeHarGyldigGradering,\n        alvorlighet: RegelAlvorlighet.FEIL,\n        test: harUttaksperiodeGyldigGradering,\n        skjulesIOppsummering: skjulIOppsummering,\n        avvikType: 'skjema',\n    },\n    {\n        key: PeriodeValiderRegelKey.periodeHarGyldigTidsperiode,\n        alvorlighet: RegelAlvorlighet.FEIL,\n        test: harPeriodeGyldigTidsperiode,\n        skjulesIOppsummering: skjulIOppsummering,\n    },\n    {\n        key: PeriodeValiderRegelKey.starterUttaksperiodeRundtFødselEtter2UkerFørFødsel,\n        alvorlighet: RegelAlvorlighet.FEIL,\n        test: starterUttaksperiodeRundtFødselEtter2UkerFørFødsel,\n        skjulesIOppsummering: skjulIOppsummering,\n    },\n    {\n        key: PeriodeValiderRegelKey.slutterUttaksperiodeRundtFødselInnen6UkerEtterFødsel,\n        alvorlighet: RegelAlvorlighet.FEIL,\n        test: slutterUttaksperiodeRundtFødselInnen6UkerEtterFødsel,\n        skjulesIOppsummering: skjulIOppsummering,\n    },\n    {\n        key: PeriodeValiderRegelKey.uttaksperiodeHarStønadskonto,\n        alvorlighet: RegelAlvorlighet.FEIL,\n        test: harUttaksperiodeStønadskonto,\n        skjulesIOppsummering: skjulIOppsummering,\n    },\n    {\n        key: PeriodeValiderRegelKey.periodeDeFørsteSeksUkeneHarUlovligUttakBFHR,\n        alvorlighet: RegelAlvorlighet.FEIL,\n        test: periodeDeFørsteSeksUkeneHarUlovligUttakBFHR,\n        skjulesIOppsummering: skjulIOppsummering,\n    },\n    {\n        key: PeriodeValiderRegelKey.erSamtidigUttakGyldig,\n        alvorlighet: RegelAlvorlighet.FEIL,\n        test: erSamtidigUttakGyldig,\n        skjulesIOppsummering: skjulIOppsummering,\n    },\n    {\n        key: PeriodeValiderRegelKey.erUtsettelseEtterFamiliehendelsesdato,\n        alvorlighet: RegelAlvorlighet.FEIL,\n        test: erUtsettelseEtterFamiliehendelsesdato,\n        skjulesIOppsummering: skjulIOppsummering,\n    },\n    {\n        key: PeriodeValiderRegelKey.harBekreftet100ProsentArbeidIUtsettelsePgaArbeid,\n        alvorlighet: RegelAlvorlighet.FEIL,\n        test: harBekreftet100ProsentArbeidIUtsettelsePgaArbeid,\n        skjulesIOppsummering: skjulIOppsummering,\n    },\n    {\n        key: PeriodeValiderRegelKey.forSenUttakVedPåfølgendeBarn,\n        alvorlighet: RegelAlvorlighet.INFO,\n        test: forSenUttakVedPåfølgendeBarn,\n        skjulesIOppsummering: skjulIOppsummering,\n    },\n];\n\nexport default periodevalideringsregler;\n","import { Søknadsinfo, isUtsettelsePgaFerie } from '@navikt/fp-common';\nimport { RegelTest, RegelTestresultat } from '../utils/types/regelTypes';\n\nexport const harSøktOmFerieUtenArbeidsforhold: RegelTest = (grunnlag: Søknadsinfo): RegelTestresultat => {\n    const harArbeidsforhold = grunnlag.arbeidsforhold.length > 0;\n    return {\n        passerer: harArbeidsforhold ? true : grunnlag.perioder.some(isUtsettelsePgaFerie) === false,\n    };\n};\n","import { IntlShape } from 'react-intl';\nimport { RegelTest, RegelTestresultat } from '../utils/types/regelTypes';\nimport {\n    Perioden,\n    Søknadsinfo,\n    UtsettelseÅrsakType,\n    getVarighetString,\n    isUtsettelsesperiode,\n    uttaksConstants,\n} from '@navikt/fp-common';\n\nexport const inneholderForMyeFerie: RegelTest = (grunnlag: Søknadsinfo): RegelTestresultat => {\n    const ferieUtsettelser = grunnlag.perioder.filter(\n        (p) => isUtsettelsesperiode(p) && p.årsak === UtsettelseÅrsakType.Ferie,\n    );\n    const ferieDager = ferieUtsettelser.reduce(\n        (sumFerieDager, periode) => sumFerieDager + Perioden(periode).getAntallUttaksdager(),\n        0,\n    );\n\n    return {\n        passerer: ferieDager <= uttaksConstants.MAKS_FERIEDAGER_MED_OVERFØRING,\n        info: ferieUtsettelser.map((periode) => ({\n            periodeId: periode.id,\n            values: {\n                ukerOgDager: (intl: IntlShape) => getVarighetString(ferieDager, intl),\n            },\n        })),\n    };\n};\n","import { RegelTestresultat } from '../utils/types/regelTypes';\nimport { beregnGjenståendeUttaksdager, isUtsettelsesperiode, StønadskontoType, Søknadsinfo } from '@navikt/fp-common';\n\n// Denne regelen sparker inn dersom forelders kvote + fellesperiode er tømt\n// Dersom noe er igjen av andre forelders kvote er det OK\nexport function kanIkkeSlutteMedUtsettelseDersomStønadsdagerErTomme(grunnlag: Søknadsinfo): RegelTestresultat {\n    const { perioder, søkerErFarEllerMedmor, stønadskontoer } = grunnlag;\n    const gjenståendeDager = beregnGjenståendeUttaksdager(stønadskontoer, perioder, false);\n    const sistePeriodeErIkkeUtsettelse =\n        perioder.length > 0 ? !isUtsettelsesperiode(perioder[perioder.length - 1]) : false;\n\n    const resterendeFellesperiode = gjenståendeDager.find((konto) => konto.konto === StønadskontoType.Fellesperiode);\n    const resterendeMødrekvote = gjenståendeDager.find((konto) => konto.konto === StønadskontoType.Mødrekvote);\n    const resterendeFedrekvote = gjenståendeDager.find((konto) => konto.konto === StønadskontoType.Fedrekvote);\n    const resterendeForeldrepenger = gjenståendeDager.find((konto) => konto.konto === StønadskontoType.Foreldrepenger);\n\n    if (sistePeriodeErIkkeUtsettelse || perioder.length === 0) {\n        return {\n            passerer: true,\n        };\n    }\n\n    if (søkerErFarEllerMedmor) {\n        if (resterendeFedrekvote !== undefined && resterendeFellesperiode !== undefined) {\n            if (resterendeFedrekvote.dager > 0 || resterendeFellesperiode.dager > 0) {\n                return {\n                    passerer: true,\n                };\n            }\n        }\n\n        if (resterendeForeldrepenger !== undefined) {\n            if (resterendeForeldrepenger.dager > 0) {\n                return {\n                    passerer: true,\n                };\n            }\n        }\n\n        return {\n            passerer: false,\n            info: {\n                intlKey: 'uttaksplan.validering.feil.sluttMedUtsettelse',\n            },\n        };\n    } else {\n        if (resterendeMødrekvote !== undefined && resterendeFellesperiode !== undefined) {\n            if (resterendeMødrekvote.dager > 0 || resterendeFellesperiode.dager > 0) {\n                return {\n                    passerer: true,\n                };\n            }\n        }\n\n        if (resterendeForeldrepenger !== undefined) {\n            if (resterendeForeldrepenger.dager > 0) {\n                return {\n                    passerer: true,\n                };\n            }\n        }\n\n        return {\n            passerer: false,\n            info: {\n                intlKey: 'uttaksplan.validering.feil.sluttMedUtsettelse',\n            },\n        };\n    }\n}\n","import { RegelTest, RegelTestresultat } from '../utils/types/regelTypes';\nimport {\n    Periode,\n    StønadskontoUttak,\n    Søknadsinfo,\n    TilgjengeligStønadskonto,\n    beregnGjenståendeUttaksdager,\n} from '@navikt/fp-common';\n\nconst erUttaksmengdeForFarMedmorForHøy = (\n    uttaksplan: Periode[],\n    tilgjengeligeStønadskontoer: TilgjengeligStønadskonto[],\n    farEllerMedmor: boolean,\n): boolean => {\n    if (farEllerMedmor === true) {\n        const kontoUttak = beregnGjenståendeUttaksdager(tilgjengeligeStønadskontoer, uttaksplan, false);\n        return kontoUttak.some((konto: StønadskontoUttak) => konto.dager < 0);\n    } else {\n        return false;\n    }\n};\n\nexport const erUttaksmengdeForFarMedmorForHøyTest: RegelTest = (grunnlag: Søknadsinfo): RegelTestresultat => {\n    return {\n        passerer:\n            erUttaksmengdeForFarMedmorForHøy(\n                grunnlag.perioder,\n                grunnlag.stønadskontoer,\n                grunnlag.søkerErFarEllerMedmor,\n            ) === false,\n    };\n};\n","import { RegelTest, RegelTestresultat } from '../utils/types/regelTypes';\nimport { IntlShape } from 'react-intl';\nimport {\n    Periode,\n    Søknadsinfo,\n    isInfoPeriode,\n    isPeriodeUtenUttak,\n    isUtsettelsePgaArbeid,\n    isUttaksperiode,\n    links,\n} from '@navikt/fp-common';\n\nconst vekslendeArbeidOgUttakTest = (kunSøkersPerioder: Periode[]): boolean => {\n    const firstArbeidsperiodeIndex = kunSøkersPerioder.findIndex((p) => isUtsettelsePgaArbeid(p));\n\n    if (firstArbeidsperiodeIndex > -1) {\n        const antallPerioderEtterFørsteUtsettelseGrunnetArbeid =\n            kunSøkersPerioder.length - 1 - firstArbeidsperiodeIndex;\n\n        if (antallPerioderEtterFørsteUtsettelseGrunnetArbeid >= 5) {\n            // Hvis vi har en serie perioder av formatet:\n            // Arbeid -> Uttak -> Arbeid -> Uttak -> Arbeid -> Uttak => foreslå gradering\n            if (\n                isUtsettelsePgaArbeid(kunSøkersPerioder[firstArbeidsperiodeIndex]) &&\n                isUttaksperiode(kunSøkersPerioder[firstArbeidsperiodeIndex + 1]) &&\n                isUtsettelsePgaArbeid(kunSøkersPerioder[firstArbeidsperiodeIndex + 2]) &&\n                isUttaksperiode(kunSøkersPerioder[firstArbeidsperiodeIndex + 3]) &&\n                isUtsettelsePgaArbeid(kunSøkersPerioder[firstArbeidsperiodeIndex + 4]) &&\n                isUttaksperiode(kunSøkersPerioder[firstArbeidsperiodeIndex + 5])\n            ) {\n                return false;\n            }\n        }\n        if (antallPerioderEtterFørsteUtsettelseGrunnetArbeid === 4 && firstArbeidsperiodeIndex > 0) {\n            // Hvis vi har en serie perioder av formatet:\n            // Uttak -> Arbeid -> Uttak -> Arbeid -> Uttak -> Arbeid => foreslå gradering\n            if (\n                firstArbeidsperiodeIndex > 0 &&\n                isUttaksperiode(kunSøkersPerioder[firstArbeidsperiodeIndex - 1]) &&\n                isUtsettelsePgaArbeid(kunSøkersPerioder[firstArbeidsperiodeIndex]) &&\n                isUttaksperiode(kunSøkersPerioder[firstArbeidsperiodeIndex + 1]) &&\n                isUtsettelsePgaArbeid(kunSøkersPerioder[firstArbeidsperiodeIndex + 2]) &&\n                isUttaksperiode(kunSøkersPerioder[firstArbeidsperiodeIndex + 3]) &&\n                isUtsettelsePgaArbeid(kunSøkersPerioder[firstArbeidsperiodeIndex + 4])\n            ) {\n                return false;\n            }\n        }\n    }\n\n    return true;\n};\n\nconst vekslendePeriodeUtenUttakOgUttakTest = (kunSøkersPerioder: Periode[]): boolean => {\n    const firstPeriodeUtenUttakIndex = kunSøkersPerioder.findIndex((p) => isPeriodeUtenUttak(p));\n\n    if (firstPeriodeUtenUttakIndex > -1) {\n        const antallPerioderEtterFørstePeriodeUtenUttak = kunSøkersPerioder.length - 1 - firstPeriodeUtenUttakIndex;\n\n        if (antallPerioderEtterFørstePeriodeUtenUttak >= 5) {\n            // Hvis vi har en serie perioder av formatet:\n            // Uten Uttak -> Uttak ->  Uten Uttak -> Uttak ->  Uten Uttak -> Uttak => foreslå gradering\n            if (\n                isPeriodeUtenUttak(kunSøkersPerioder[firstPeriodeUtenUttakIndex]) &&\n                isUttaksperiode(kunSøkersPerioder[firstPeriodeUtenUttakIndex + 1]) &&\n                isPeriodeUtenUttak(kunSøkersPerioder[firstPeriodeUtenUttakIndex + 2]) &&\n                isUttaksperiode(kunSøkersPerioder[firstPeriodeUtenUttakIndex + 3]) &&\n                isPeriodeUtenUttak(kunSøkersPerioder[firstPeriodeUtenUttakIndex + 4]) &&\n                isUttaksperiode(kunSøkersPerioder[firstPeriodeUtenUttakIndex + 5])\n            ) {\n                return false;\n            }\n        }\n        if (antallPerioderEtterFørstePeriodeUtenUttak === 4 && firstPeriodeUtenUttakIndex > 0) {\n            // Hvis vi har en serie perioder av formatet:\n            // Uttak ->  Uten Uttak -> Uttak ->  Uten Uttak -> Uttak ->  Uten Uttak => foreslå gradering\n            if (\n                firstPeriodeUtenUttakIndex > 0 &&\n                isUttaksperiode(kunSøkersPerioder[firstPeriodeUtenUttakIndex - 1]) &&\n                isPeriodeUtenUttak(kunSøkersPerioder[firstPeriodeUtenUttakIndex]) &&\n                isUttaksperiode(kunSøkersPerioder[firstPeriodeUtenUttakIndex + 1]) &&\n                isPeriodeUtenUttak(kunSøkersPerioder[firstPeriodeUtenUttakIndex + 2]) &&\n                isUttaksperiode(kunSøkersPerioder[firstPeriodeUtenUttakIndex + 3]) &&\n                isPeriodeUtenUttak(kunSøkersPerioder[firstPeriodeUtenUttakIndex + 4])\n            ) {\n                return false;\n            }\n        }\n    }\n\n    return true;\n};\n\nexport const burdeKanskjeSøkeGraderingTest: RegelTest = (grunnlag: Søknadsinfo): RegelTestresultat => {\n    const { perioder } = grunnlag;\n    const kunSøkersPerioder = perioder.filter((p: Periode) => !isInfoPeriode(p));\n\n    if (kunSøkersPerioder.length >= 6) {\n        const vekslerArbeidOgUttakTest = vekslendeArbeidOgUttakTest(kunSøkersPerioder);\n        const veklserPerioderUtenUttakOgUttaktest = vekslendePeriodeUtenUttakOgUttakTest(kunSøkersPerioder);\n        const passerer = vekslerArbeidOgUttakTest && veklserPerioderUtenUttakOgUttaktest;\n        let infoTekstKey = undefined;\n        if (!vekslerArbeidOgUttakTest) {\n            infoTekstKey =\n                'uttaksplan.validering.info.burdeKanskjeSøkeGradering.PgaVekslendeUtsettelserPgaArbeidOgUttak';\n        }\n\n        if (!veklserPerioderUtenUttakOgUttaktest) {\n            infoTekstKey = 'uttaksplan.validering.info.burdeKanskjeSøkeGradering.PgaVekslendePerioderUtenUttakOgUttak';\n        }\n\n        return {\n            passerer: passerer,\n            info: {\n                intlKey: infoTekstKey,\n                renderAsHtml: true,\n                values: {\n                    a: (_intl: IntlShape) => (msg: any) => (\n                        <a href={links.graderingInfo} className=\"lenke\" rel=\"noreferrer\" target=\"_blank\">\n                            {msg}\n                        </a>\n                    ),\n                },\n            },\n        };\n    }\n\n    return {\n        passerer: true,\n    };\n};\n","import { Søknadsinfo, formatDate, isUfødtBarn } from '@navikt/fp-common';\nimport { RegelTest, RegelTestresultat } from '../utils/types/regelTypes';\nimport { getUgyldigUttakMor } from '../utils/uttakValideringUtils';\n\nexport const ferieEllerArbeidInnenforDeFørsteÅtteUkeneEtterTermindatoTest: RegelTest = (\n    grunnlag: Søknadsinfo,\n): RegelTestresultat => {\n    const søkerErMor = !grunnlag.søkerErFarEllerMedmor;\n    if (søkerErMor && isUfødtBarn(grunnlag.barn)) {\n        const ugyldigePerioder = getUgyldigUttakMor(\n            grunnlag.perioder,\n            grunnlag.familiehendelsesdato,\n            grunnlag.søkersituasjon.situasjon,\n            grunnlag.søkerErFarEllerMedmor,\n            grunnlag.termindato,\n            grunnlag.erFlerbarnssøknad,\n            'mellomSyvOgÅtteUkerForMor',\n        );\n\n        const passerer = ugyldigePerioder.length === 0;\n        return {\n            passerer,\n            info: ugyldigePerioder.map((periode) => ({\n                intlKey: 'uttaksplan.validering.advarsel.ferieEllerArbeidInnenforDeFørsteÅtteUkeneEtterTermindato',\n                values: {\n                    fraDato: formatDate(periode.tidsperiode.fom),\n                    tilDato: formatDate(periode.tidsperiode.tom),\n                },\n                periodeId: periode.id,\n            })),\n        };\n    }\n\n    return { passerer: true };\n};\n","import { farMedmorBrukerForeldrepengerMedAktivitetskravRundtFødselOgMorIkkeErSyk } from '../../utils/uttaksskjema/aktivitetskravMorSkalBesvares';\nimport { RegelTestresultat } from '../utils/types/regelTypes';\nimport { StønadskontoType, Søknadsinfo, hasValue, isUttaksperiode } from '@navikt/fp-common';\n\nexport const inneholderPerioderUtenAktivitetskrav = (grunnlag: Søknadsinfo): RegelTestresultat => {\n    const {\n        perioder,\n        søkerErFarEllerMedmor,\n        søkerErAleneOmOmsorg,\n        søkerHarMidlertidigOmsorg,\n        familiehendelsesdato,\n        søkersituasjon,\n    } = grunnlag;\n\n    if (!søkerErFarEllerMedmor || søkerErAleneOmOmsorg || søkerHarMidlertidigOmsorg) {\n        return {\n            passerer: true,\n        };\n    }\n    const perioderUtenAktivitetskrav = perioder.filter(\n        (p) =>\n            isUttaksperiode(p) &&\n            !hasValue(p.morsAktivitetIPerioden) &&\n            !p.erMorForSyk &&\n            !p.ønskerSamtidigUttak &&\n            !p.ønskerFlerbarnsdager &&\n            !farMedmorBrukerForeldrepengerMedAktivitetskravRundtFødselOgMorIkkeErSyk(\n                familiehendelsesdato,\n                søkerErFarEllerMedmor,\n                p.konto,\n                p.erMorForSyk,\n                p.tidsperiode,\n                søkersituasjon.situasjon,\n            ) &&\n            (p.konto === StønadskontoType.Fellesperiode || p.konto === StønadskontoType.Foreldrepenger),\n    );\n\n    return {\n        passerer: perioderUtenAktivitetskrav.length === 0,\n        info: perioderUtenAktivitetskrav.map((p) => ({\n            intlKey: 'uttaksplan.validering.feil.inneholderPerioderUtenAktivitetskrav',\n            periodeId: p.id,\n        })),\n    };\n};\n","import { Søknadsinfo, hasValue, isUtsettelsesperiode } from '@navikt/fp-common';\nimport { RegelTestresultat } from '../utils/types/regelTypes';\n\nexport const inneholderUtsettelserUtenÅrsak = (grunnlag: Søknadsinfo): RegelTestresultat => {\n    const utsettelserUtenÅrsak = grunnlag.perioder.filter((p) => isUtsettelsesperiode(p) && !hasValue(p.årsak));\n\n    const passerer = utsettelserUtenÅrsak.length === 0;\n\n    return {\n        passerer,\n        info: utsettelserUtenÅrsak.map((periode) => ({\n            intlKey: 'uttaksplan.validering.feil.inneholderUtsettelserUtenÅrsak',\n            periodeId: periode.id,\n        })),\n    };\n};\n","import {\n    ANTALL_UTTAKSDAGER_FAR_MEDMOR_RUNDT_FØDSEL,\n    Periode,\n    Søknadsinfo,\n    formaterDatoKompakt,\n    getFarMedmorUttakRundtFødsel,\n    getFørsteUttaksdag2UkerFørFødsel,\n    getSisteUttaksdag6UkerEtterFødsel,\n    getSumUttaksdagerÅTrekkeIPeriodene,\n    gjelderWLBReglerFarMedmorRundtFødsel,\n    slutterTidsperiodeInnen6UkerEtterFødsel,\n} from '@navikt/fp-common';\nimport { RegelTest, RegelTestresultat } from '../utils/types/regelTypes';\nimport dayjs from 'dayjs';\n\nconst overskridelseUttakRundtFødselAntallDager = (\n    perioderRundtFødsel: Periode[],\n    familiehendelsesdato: Date,\n): number => {\n    const sisteUttak6UkerEtterFødsel = getSisteUttaksdag6UkerEtterFødsel(familiehendelsesdato);\n    const perioderAvkortetTilÅSlutte6UkerEtterFødsel = perioderRundtFødsel.map((p) =>\n        dayjs(p.tidsperiode.tom).isAfter(dayjs(sisteUttak6UkerEtterFødsel), 'day')\n            ? { ...p, tidsperiode: { fom: p.tidsperiode.fom, tom: sisteUttak6UkerEtterFødsel } }\n            : p,\n    );\n    const antallDager = getSumUttaksdagerÅTrekkeIPeriodene(perioderAvkortetTilÅSlutte6UkerEtterFødsel);\n    return ANTALL_UTTAKSDAGER_FAR_MEDMOR_RUNDT_FØDSEL - antallDager;\n};\n\nexport const farMedmorHarSøktUgyldigAntallDagerUttakRundtFødselTest: RegelTest = (\n    grunnlag: Søknadsinfo,\n): RegelTestresultat => {\n    if (\n        gjelderWLBReglerFarMedmorRundtFødsel(\n            grunnlag.familiehendelsesdato,\n            grunnlag.søkerErFarEllerMedmor,\n            grunnlag.morHarRett,\n            grunnlag.søkersituasjon.situasjon,\n        )\n    ) {\n        const perioderUttakRundtFødsel = getFarMedmorUttakRundtFødsel(\n            grunnlag.perioder,\n            grunnlag.familiehendelsesdato,\n            grunnlag.termindato,\n        );\n        const antallDagerForMye = overskridelseUttakRundtFødselAntallDager(\n            perioderUttakRundtFødsel,\n            grunnlag.familiehendelsesdato,\n        );\n\n        const slutterEnAvPeriodeneForSent = perioderUttakRundtFødsel.some(\n            (p) => !slutterTidsperiodeInnen6UkerEtterFødsel(p.tidsperiode, grunnlag.familiehendelsesdato),\n        );\n        let info;\n        const fraDato = formaterDatoKompakt(\n            getFørsteUttaksdag2UkerFørFødsel(grunnlag.familiehendelsesdato, grunnlag.termindato),\n        );\n        const tilDato = formaterDatoKompakt(getSisteUttaksdag6UkerEtterFødsel(grunnlag.familiehendelsesdato));\n        if (slutterEnAvPeriodeneForSent) {\n            info = {\n                intlKey:\n                    'uttaksplan.validering.feil.farMedmorHarSøktUgyldigAntallDagerUttakRundtFødsel.periodeSlutterForSent',\n                values: {\n                    fraDato: fraDato,\n                    tilDato: tilDato,\n                },\n            };\n        } else {\n            info = {\n                intlKey: 'uttaksplan.validering.feil.farMedmorHarSøktUgyldigAntallDagerUttakRundtFødsel',\n                values: {\n                    fraDato: fraDato,\n                    tilDato: tilDato,\n                    dagerForMye: Math.abs(antallDagerForMye),\n                },\n            };\n        }\n        return {\n            passerer: antallDagerForMye >= 0,\n            info: info,\n        };\n    }\n\n    return {\n        passerer: true,\n    };\n};\n","import dayjs from 'dayjs';\nimport { RegelTest, RegelTestresultat } from '../utils/types/regelTypes';\nimport { Søknadsinfo, getSisteUttaksdag6UkerEtterFødsel, isUttaksperiode } from '@navikt/fp-common';\n\nexport const harMorSøktMindreEnn100ProsentSamtidigUttakDeFørsteSeksUkerTest: RegelTest = (\n    grunnlag: Søknadsinfo,\n): RegelTestresultat => {\n    const søkerErMor = !grunnlag.søkerErFarEllerMedmor;\n    if (søkerErMor && grunnlag.søkersituasjon.situasjon === 'fødsel') {\n        const sisteUttaksdagEtterSeksUker = getSisteUttaksdag6UkerEtterFødsel(grunnlag.familiehendelsesdato);\n        const perioderMedSamtidigUttakUnder100ProsentInnenFørsteSeksUker = grunnlag.perioder.filter(\n            (p) =>\n                isUttaksperiode(p) &&\n                dayjs(p.tidsperiode.fom).isSameOrBefore(sisteUttaksdagEtterSeksUker, 'day') &&\n                p.ønskerSamtidigUttak === true &&\n                p.samtidigUttakProsent !== undefined &&\n                parseInt(p.samtidigUttakProsent, 10) < 100,\n        );\n\n        return {\n            passerer: perioderMedSamtidigUttakUnder100ProsentInnenFørsteSeksUker.length <= 0,\n            info: {\n                intlKey: 'uttaksplan.validering.feil.morHarSøktMindreEnn100ProsentSamtidigUttakDeFørsteSeksUker',\n            },\n        };\n    }\n    return { passerer: true };\n};\n","import {\n    ANTALL_UTTAKSDAGER_FAR_MEDMOR_RUNDT_FØDSEL,\n    Søknadsinfo,\n    formaterDatoKompakt,\n    getFarMedmorUttakRundtFødsel,\n    getFørsteUttaksdag2UkerFørFødsel,\n    getSisteUttaksdag6UkerEtterFødsel,\n    getSumUttaksdagerÅTrekkeIPeriodene,\n    gjelderWLBReglerFarMedmorRundtFødsel,\n} from '@navikt/fp-common';\nimport { RegelTest, RegelTestresultat } from '../utils/types/regelTypes';\nimport { erUttaksmengdeForFarMedmorForHøyTest } from './erUttaksmengdeForFarMedmorForHøyTest';\nimport dayjs from 'dayjs';\n\nexport const farMedMorHarRettPåUttakRundtFødselTest: RegelTest = (grunnlag: Søknadsinfo): RegelTestresultat => {\n    const tattUtForMangeDagerIPlanen = erUttaksmengdeForFarMedmorForHøyTest(grunnlag).passerer === false;\n    if (\n        !gjelderWLBReglerFarMedmorRundtFødsel(\n            grunnlag.familiehendelsesdato,\n            grunnlag.søkerErFarEllerMedmor,\n            grunnlag.morHarRett,\n            grunnlag.søkersituasjon.situasjon,\n        ) ||\n        tattUtForMangeDagerIPlanen\n    ) {\n        return {\n            passerer: true,\n        };\n    }\n    const perioderRundtFødsel = getFarMedmorUttakRundtFødsel(\n        grunnlag.perioder,\n        grunnlag.familiehendelsesdato,\n        grunnlag.termindato,\n    );\n\n    let dagerIgjenRundtFødsel;\n    const førsteUttaksdag2UkerFørFødsel = getFørsteUttaksdag2UkerFørFødsel(\n        grunnlag.familiehendelsesdato,\n        grunnlag.termindato,\n    );\n    const sisteUttak6UkerEtterFødsel = getSisteUttaksdag6UkerEtterFødsel(grunnlag.familiehendelsesdato);\n\n    if (perioderRundtFødsel.length > 0) {\n        const antallUttaksdagerRundtFødsel = getSumUttaksdagerÅTrekkeIPeriodene(perioderRundtFødsel);\n        dagerIgjenRundtFødsel = ANTALL_UTTAKSDAGER_FAR_MEDMOR_RUNDT_FØDSEL - antallUttaksdagerRundtFødsel;\n    } else {\n        dagerIgjenRundtFødsel = ANTALL_UTTAKSDAGER_FAR_MEDMOR_RUNDT_FØDSEL;\n    }\n    const erMerEnn3månederSidenFamiliehendelse = dayjs(new Date())\n        .subtract(3, 'month')\n        .isSameOrAfter(grunnlag.familiehendelsesdato, 'day');\n\n    return {\n        passerer: dagerIgjenRundtFødsel <= 0 || erMerEnn3månederSidenFamiliehendelse,\n        info: {\n            intlKey: 'uttaksplan.validering.info.rettTilUttakRundtFødsel',\n            values: {\n                fraDato: formaterDatoKompakt(førsteUttaksdag2UkerFørFødsel),\n                tilDato: formaterDatoKompakt(sisteUttak6UkerEtterFødsel),\n                antallDager: Math.round(dagerIgjenRundtFødsel * 10) / 10,\n            },\n        },\n    };\n};\n","import {\n    Søknadsinfo,\n    andreAugust2022ReglerGjelder,\n    getBareFarHarRettAntallUkerPåÅTaUtDagerUtenAktivitetskravFørWLB,\n    getBareFarHarRettKontoUtenAktivitetskravUker,\n    links,\n} from '@navikt/fp-common';\nimport { RegelTest, RegelTestresultat } from '../utils/types/regelTypes';\nimport { erUttaksmengdeForFarMedmorForHøyTest } from './erUttaksmengdeForFarMedmorForHøyTest';\nimport { IntlShape } from 'react-intl';\n\nexport const farMedmorHarRettPåForeldrepengerUtenAktivitetskravTest: RegelTest = (\n    grunnlag: Søknadsinfo,\n): RegelTestresultat => {\n    const tattUtForMangeDagerIPlanen = erUttaksmengdeForFarMedmorForHøyTest(grunnlag).passerer === false;\n    if (\n        !grunnlag.søkerErFarEllerMedmor ||\n        grunnlag.morHarRett ||\n        tattUtForMangeDagerIPlanen ||\n        (grunnlag.søkerErFarEllerMedmor && grunnlag.søkerErAleneOmOmsorg)\n    ) {\n        return {\n            passerer: true,\n        };\n    }\n    const kontoUtenAktivitetskravUker = getBareFarHarRettKontoUtenAktivitetskravUker(\n        grunnlag.antallBarn,\n        grunnlag.morErUfør,\n        grunnlag.familiehendelsesdato,\n        grunnlag.dekningsgrad,\n        !grunnlag.morHarRett,\n    );\n\n    const testPasserer = kontoUtenAktivitetskravUker === 0;\n    const renderAsHtml = true;\n    const link = (_intl: IntlShape) => (msg: any) => (\n        <a href={links.aktivitetsfriUttakInfo} className=\"lenke\" rel=\"noreferrer\" target=\"_blank\">\n            {msg}\n        </a>\n    );\n\n    if (andreAugust2022ReglerGjelder(grunnlag.familiehendelsesdato)) {\n        return {\n            passerer: testPasserer,\n            info: {\n                intlKey: 'uttaksplan.validering.info.rettTilAktivitetsfriUttak.etterWLB',\n                renderAsHtml: renderAsHtml,\n                values: {\n                    antallUker: kontoUtenAktivitetskravUker,\n                    a: link,\n                },\n            },\n        };\n    } else {\n        const bareFarHarRett = grunnlag.søkerErFarEllerMedmor && !grunnlag.morHarRett;\n        const antallUkerPåÅTaUtDager = getBareFarHarRettAntallUkerPåÅTaUtDagerUtenAktivitetskravFørWLB(\n            grunnlag.antallBarn,\n            grunnlag.familiehendelsesdato,\n            grunnlag.dekningsgrad,\n            bareFarHarRett,\n        );\n        return {\n            passerer: testPasserer,\n            info: {\n                intlKey: 'uttaksplan.validering.info.rettTilAktivitetsfriUttak.førWLB',\n                renderAsHtml: renderAsHtml,\n                values: {\n                    antallUker: kontoUtenAktivitetskravUker,\n                    antallUkerÅTaUtDagerUtenAktivitet: antallUkerPåÅTaUtDager,\n                    a: link,\n                },\n            },\n        };\n    }\n};\n","import { RegelTestresultat } from '../utils/types/regelTypes';\nimport dayjs from 'dayjs';\nimport { Periode, Søknadsinfo, Uttaksperiode, isUttaksperiode } from '@navikt/fp-common';\nimport { graderingSkalBesvares } from '../../utils/uttaksskjema/graderingSkalBesvares';\n\nexport const inneholderUttaksperioderMedUbesvartGradering = (grunnlag: Søknadsinfo): RegelTestresultat => {\n    const uttaksperioder = grunnlag.perioder.filter((p: Periode) => isUttaksperiode(p)) as Uttaksperiode[];\n    const perioderMedUbesvartGradering = uttaksperioder\n        .filter((p) =>\n            graderingSkalBesvares(\n                p.type,\n                p.konto,\n                grunnlag.familiehendelsesdato,\n                grunnlag.søkerErFarEllerMedmor,\n                p.erMorForSyk,\n                p.tidsperiode,\n            ),\n        )\n        //Feilmeldingen skal ikke komme hvis spm om flerbarnsdager skal besvares først (kun for perioder etter fødsel).\n        .filter((p) =>\n            grunnlag.erFlerbarnssøknad\n                ? (dayjs(p.tidsperiode.fom).isSameOrAfter(grunnlag.familiehendelsesdato, 'd') &&\n                      p.ønskerFlerbarnsdager !== undefined) ||\n                  dayjs(p.tidsperiode.fom).isBefore(grunnlag.familiehendelsesdato, 'd')\n                : p,\n        )\n        .filter((p) => p.gradert === undefined);\n\n    return {\n        passerer: perioderMedUbesvartGradering.length === 0,\n        info: perioderMedUbesvartGradering.map((periode) => ({\n            intlKey: 'uttaksplan.validering.feil.inneholderUttaksperioderMedUbesvartGradering',\n            periodeId: periode.id,\n        })),\n    };\n};\n","import { ønskerFlerbarnsdagerSkalBesvares } from '../../utils/uttaksskjema/ønskerFlerbarnsdagerSkalBesvares';\nimport { RegelTestresultat } from '../utils/types/regelTypes';\nimport {\n    Periode,\n    Søknadsinfo,\n    UttakRundtFødselÅrsak,\n    Uttaksperiode,\n    isAnnenForelderOppgitt,\n    isUttaksperiode,\n} from '@navikt/fp-common';\n\nexport const inneholderUttaksperiodeMedUbservartSpmOmFlerbarnsdagerTest = (\n    grunnlag: Søknadsinfo,\n): RegelTestresultat => {\n    const uttaksperioder = grunnlag.perioder.filter((p: Periode) => isUttaksperiode(p)) as Uttaksperiode[];\n    const erFlerbarnssøknad = grunnlag.antallBarn > 1;\n    const bareFarMedmorHarRett = grunnlag.søkerErFarEllerMedmor && !grunnlag.erDeltUttak;\n    const erDeltUttakINorge =\n        grunnlag.erDeltUttak &&\n        isAnnenForelderOppgitt(grunnlag.annenForelder) &&\n        grunnlag.annenForelder.harRettPåForeldrepengerINorge;\n    const perioderMedUbesvartSpmOmFlerbarnsdager = uttaksperioder\n        .filter((p) =>\n            ønskerFlerbarnsdagerSkalBesvares(\n                p.type,\n                erFlerbarnssøknad,\n                grunnlag.søkerErFarEllerMedmor,\n                grunnlag.familiehendelsesdato,\n                p.tidsperiode,\n                p.konto,\n                bareFarMedmorHarRett,\n                grunnlag.antallBarn,\n                grunnlag.søkerErAleneOmOmsorg,\n                !!erDeltUttakINorge,\n                p.erMorForSyk ? UttakRundtFødselÅrsak.morErForSyk : undefined,\n            ),\n        )\n        .filter((p) => p.gradert === undefined);\n\n    return {\n        passerer: perioderMedUbesvartSpmOmFlerbarnsdager.length === 0,\n        info: perioderMedUbesvartSpmOmFlerbarnsdager.map((periode) => ({\n            intlKey: 'uttaksplan.validering.feil.inneholderUttaksperiodeMedUbservartSpmOmFlerbarnsdager',\n            periodeId: periode.id,\n        })),\n    };\n};\n","import {\n    Søknadsinfo,\n    andreAugust2022ReglerGjelder,\n    getBareFarHarRettAntallUkerPåÅTaUtDagerUtenAktivitetskravFørWLB,\n    getBareFarHarRettFlerbarnsdagerUker,\n    links,\n} from '@navikt/fp-common';\nimport { RegelTest, RegelTestresultat } from '../utils/types/regelTypes';\nimport { erUttaksmengdeForFarMedmorForHøyTest } from './erUttaksmengdeForFarMedmorForHøyTest';\nimport { IntlShape } from 'react-intl';\n\nexport const farMedmorHarRettPåFlerbarnsdagerTest: RegelTest = (grunnlag: Søknadsinfo): RegelTestresultat => {\n    const tattUtForMangeDagerIPlanen = erUttaksmengdeForFarMedmorForHøyTest(grunnlag).passerer === false;\n    if (\n        !grunnlag.søkerErFarEllerMedmor ||\n        grunnlag.morHarRett ||\n        tattUtForMangeDagerIPlanen ||\n        (grunnlag.søkerErFarEllerMedmor && grunnlag.søkerErAleneOmOmsorg) ||\n        andreAugust2022ReglerGjelder(grunnlag.familiehendelsesdato)\n    ) {\n        return {\n            passerer: true,\n        };\n    }\n    const flerbarnsUker = getBareFarHarRettFlerbarnsdagerUker(\n        grunnlag.antallBarn,\n        grunnlag.familiehendelsesdato,\n        grunnlag.dekningsgrad,\n        !grunnlag.morHarRett,\n    );\n    const bareFarHarRett = grunnlag.søkerErFarEllerMedmor && !grunnlag.morHarRett;\n    const antallUkerPåÅTaUtDager = getBareFarHarRettAntallUkerPåÅTaUtDagerUtenAktivitetskravFørWLB(\n        grunnlag.antallBarn,\n        grunnlag.familiehendelsesdato,\n        grunnlag.dekningsgrad,\n        bareFarHarRett,\n    );\n\n    return {\n        passerer: flerbarnsUker === 0,\n        info: {\n            intlKey: 'uttaksplan.validering.info.flerbarnsdagerKanBrukes',\n            renderAsHtml: true,\n            values: {\n                antallUker: flerbarnsUker,\n                antallUkerÅTaUtFlerbarnsdager: antallUkerPåÅTaUtDager,\n                a: (_intl: IntlShape) => (msg: any) => (\n                    <a href={links.aktivitetsfriUttakInfo} className=\"lenke\" rel=\"noreferrer\" target=\"_blank\">\n                        {msg}\n                    </a>\n                ),\n            },\n        },\n    };\n};\n","import { getBrukteDager } from '../../utils/brukteDagerUtils';\nimport { RegelTestresultat } from '../utils/types/regelTypes';\nimport { laTilPeriodeEtterFørsteStønadsdagPåfølgendeBarn } from './periodevalideringstester/forSenUttakVedPåfølgendeBarn';\nimport { Søknadsinfo } from '@navikt/fp-common';\n\nexport const overstigerMinsterettVedToTette = (grunnlag: Søknadsinfo): RegelTestresultat => {\n    const { familiehendelsesdato, perioder, stønadskontoer, søkerErFarEllerMedmor, minsterettUkerToTette } = grunnlag;\n    const perioderEtterFørsteStønadsperiodeNyttBarn = perioder.filter((periode) =>\n        laTilPeriodeEtterFørsteStønadsdagPåfølgendeBarn(periode, grunnlag.førsteUttaksdagNesteBarnsSak),\n    );\n    if (\n        minsterettUkerToTette === undefined ||\n        minsterettUkerToTette === 0 ||\n        perioderEtterFørsteStønadsperiodeNyttBarn.length === 0\n    ) {\n        return {\n            passerer: true,\n        };\n    }\n    const perioderFørFørsteStønadsperiodeNyttBarn = perioder.filter(\n        (periode) => !laTilPeriodeEtterFørsteStønadsdagPåfølgendeBarn(periode, grunnlag.førsteUttaksdagNesteBarnsSak),\n    );\n    const minsterettMaxAntallUker = minsterettUkerToTette;\n    const minsterettMaxAntallDager = minsterettMaxAntallUker * 5;\n\n    const brukteDagerPerForelderFørFørsteStønadsdagNyttBarn = getBrukteDager(\n        stønadskontoer,\n        perioderFørFørsteStønadsperiodeNyttBarn,\n        familiehendelsesdato,\n    );\n    const uttaksdagerFremTilNyttBarnStønadsdag = søkerErFarEllerMedmor\n        ? brukteDagerPerForelderFørFørsteStønadsdagNyttBarn.farMedmor.dagerEgneKvoter +\n          brukteDagerPerForelderFørFørsteStønadsdagNyttBarn.farMedmor.dagerFellesperiode\n        : brukteDagerPerForelderFørFørsteStønadsdagNyttBarn.mor.dagerEgneKvoter +\n          brukteDagerPerForelderFørFørsteStønadsdagNyttBarn.mor.dagerFellesperiode;\n\n    const dagerIgjenÅBrukePåMinsteretten = minsterettMaxAntallDager - uttaksdagerFremTilNyttBarnStønadsdag;\n\n    const brukteDagerPerForelderEtterFørsteStønadsdagNyttBarn = getBrukteDager(\n        stønadskontoer,\n        perioderEtterFørsteStønadsperiodeNyttBarn,\n        familiehendelsesdato,\n    );\n    const uttaksdagerEtterNyttBarnStønadsdag = søkerErFarEllerMedmor\n        ? brukteDagerPerForelderEtterFørsteStønadsdagNyttBarn.farMedmor.dagerEgneKvoter +\n          brukteDagerPerForelderEtterFørsteStønadsdagNyttBarn.farMedmor.dagerFellesperiode\n        : brukteDagerPerForelderEtterFørsteStønadsdagNyttBarn.mor.dagerEgneKvoter +\n          brukteDagerPerForelderEtterFørsteStønadsdagNyttBarn.mor.dagerFellesperiode;\n\n    const dagerIgjenAvMinsterett = dagerIgjenÅBrukePåMinsteretten - uttaksdagerEtterNyttBarnStønadsdag;\n\n    return {\n        passerer: dagerIgjenAvMinsterett >= 0,\n        info: {\n            intlKey: 'uttaksplan.validering.info.overstigerMinsterettVedToTette',\n            values: {\n                uker: minsterettMaxAntallUker,\n                forMyeUttak: Math.abs(dagerIgjenAvMinsterett),\n            },\n        },\n    };\n};\n","import { Søknadsinfo } from '@navikt/fp-common';\nimport { RegelTest, RegelTestresultat } from '../utils/types/regelTypes';\nimport { laTilPeriodeEtterFørsteStønadsdagPåfølgendeBarn } from './periodevalideringstester/forSenUttakVedPåfølgendeBarn';\n\nexport const harPerioderEtterFørsteStønadsdagNesteBarnDerToTette: RegelTest = (\n    grunnlag: Søknadsinfo,\n): RegelTestresultat => {\n    if (grunnlag.minsterettUkerToTette === undefined || grunnlag.minsterettUkerToTette === 0) {\n        return {\n            passerer: true,\n        };\n    }\n    const perioderEtterFørsteStønadsperiodeNyttBarn = grunnlag.perioder.filter((periode) =>\n        laTilPeriodeEtterFørsteStønadsdagPåfølgendeBarn(periode, grunnlag.førsteUttaksdagNesteBarnsSak),\n    );\n\n    const tekstKey = grunnlag.søkerErFarEllerMedmor\n        ? 'uttaksplan.validering.info.harPerioderEtterFørsteStønadsdagNesteBarnDerToTette.far'\n        : 'uttaksplan.validering.info.harPerioderEtterFørsteStønadsdagNesteBarnDerToTette.mor';\n    return {\n        passerer: perioderEtterFørsteStønadsperiodeNyttBarn.length === 0,\n        info: {\n            intlKey: tekstKey,\n        },\n    };\n};\n","import { inneholderUttaksplanPerioderTest } from './tester/inneholderUttaksplanPerioderTest';\nimport { harMorSøktUgyldigUttakFørsteSeksUkerTest } from './tester/harMorSøktUgyldigUttakFørsteSeksUkerTest';\nimport { stønadskontoInneholderForMyeUttakKunSøkerTest } from './tester/stønadskontoInneholderForMyeUttakKunSøkerTest';\nimport { harFarMedmorSøktUgyldigUttakEllerUtsettelseFørsteSeksUkerTest } from './tester/harFarMedmorSøktUgyldigUttakEllerUtsettelseFørsteSeksUkerTest';\nimport { erUttaksplanBareOppholdTest } from './tester/erUttaksplanBareOppholdTest';\nimport { slutterUttaksplanMedOppholdTest } from './tester/slutterUttaksplanMedOppholdTest';\nimport { starterUttaksplanMedOppholdTest } from './tester/starterUttaksplanMedOppholdTest';\nimport { erUttaksplanGraderingStørreEnnSamtidigUttakTest } from './tester/erUttaksplanGraderingStørreEnnSamtidigUttakTest';\nimport { erTilleggsopplysningerGyldigTest } from './tester/erTilleggsopplysningerGyldigTest';\nimport { harTilleggsopplysningerGyldigeCharsTest } from './tester/harTilleggsopplysningerGyldigeCharsTest';\nimport { harUttaksplanForMangeFlerbarnsdagerTest } from './tester/harUttaksplanForMangeFlerbarnsdagerTest';\nimport { inneholderUttaksplanDatoSomIkkeErUttaksdag } from './tester/inneholderUttaksplanDatoSomIkkeErUttaksdagTest';\nimport { harPerioderManglendeVedleggTest } from './tester/harPerioderManglendeVedleggTest';\nimport { inneholderSenUtsettelsePgaFerieTest } from './tester/inneholderSenUtsettelsePgaFerieTest';\nimport { inneholderTapteDagerTest } from './tester/inneholderTapteDagerTest';\nimport { inneholderBareUtsettelserTest } from './tester/inneholderBareUtsettelserTest';\nimport { inneholderSenUtsettelsePgaArbeidTest } from './tester/inneholderSenUtsettelsePgaArbeidTest';\nimport { overskriverEndringerAnnenPartsPerioder } from './tester/overskriverEndringerAnnenPartsPerioder';\nimport { overlapperPeriodeAndrePerioder } from './tester/overlapperPeriodeAndrePerioderTest';\nimport periodevalideringsregler, { PeriodeValiderRegelKey } from './tester/periodevalideringstester';\nimport { harSøktOmFerieUtenArbeidsforhold } from './tester/harSøktOmFerieUtenArbeidsforholdTest';\nimport { inneholderForMyeFerie } from './tester/inneholderForMyeFerie';\nimport { kanIkkeSlutteMedUtsettelseDersomStønadsdagerErTomme } from './tester/kanIkkeSlutteMedUtsettelseDersomStønadsdagerErTomme';\nimport { erUttaksmengdeForFarMedmorForHøyTest } from './tester/erUttaksmengdeForFarMedmorForHøyTest';\nimport { burdeKanskjeSøkeGraderingTest } from './tester/burdeKanskjeSøkeGraderingTest';\nimport { ferieEllerArbeidInnenforDeFørsteÅtteUkeneEtterTermindatoTest } from './tester/ferieEllerArbeidInnenforDeFørsteÅtteUkeneEtterTermindatoTest';\nimport { Regel, RegelAlvorlighet } from './utils/types/regelTypes';\nimport { inneholderPerioderUtenAktivitetskrav } from './tester/inneholderPerioderUtenAktivitetskrav';\nimport { inneholderUtsettelserUtenÅrsak } from './tester/inneholderUtsettelserUtenÅrsak';\nimport { farMedmorHarSøktUgyldigAntallDagerUttakRundtFødselTest } from './tester/farMedmorHarSøktUgyldigAntallDagerUttakRundtFødselTest';\nimport { harMorSøktMindreEnn100ProsentSamtidigUttakDeFørsteSeksUkerTest } from './tester/harMorSøktMindreEnn100ProsentSamtidigUttakDeFørsteSeksUkerTest';\nimport { farMedMorHarRettPåUttakRundtFødselTest } from './tester/farMedMorHarRettPåUttakRundtFødselTest';\nimport { farMedmorHarRettPåForeldrepengerUtenAktivitetskravTest } from './tester/farMedmorHarRettPåForeldrepengerUtenAktivitetskravTest';\nimport { inneholderUttaksperioderMedUbesvartGradering } from './tester/inneholderUttaksperioderMedUbesvartGradering';\nimport { inneholderUttaksperiodeMedUbservartSpmOmFlerbarnsdagerTest } from './tester/inneholderUttaksperiodeMedUbservartSpmOmFlerbarnsdagerTest';\nimport { farMedmorHarRettPåFlerbarnsdagerTest } from './tester/farMedmorHarRettPåFlerbarnsdagerTest';\nimport { overstigerMinsterettVedToTette } from './tester/overstigerMinsterettVedToTette';\nimport { harPerioderEtterFørsteStønadsdagNesteBarnDerToTette } from './tester/harPerioderEtterFørsteStønadsdagNesteBarnDerToTette';\nimport { førsteOktober2021ReglerGjelder } from '@navikt/fp-common';\n\nexport enum UttaksplanRegelKey {\n    'planenInneholderIngenPerioder' = 'planenInneholderIngenPerioder',\n    'morHarSøktUgyldigUttakFørsteSeksUker' = 'morHarSøktUgyldigUttakFørsteSeksUker',\n    'farMedmorHarSøktUgyldigUttakEllerUtsettelseFørsteSeksUker' = 'farMedmorHarSøktUgyldigUttakEllerUtsettelseFørsteSeksUker',\n    'farMedmorHarSøktUgyldigAntallDagerUttakRundtFødsel' = 'farMedmorHarSøktUgyldigAntallDagerUttakRundtFødsel',\n    'harMorSøktMindreEnn100ProsentSamtidigUttakDeFørsteSeksUker' = 'harMorSøktMindreEnn100ProsentSamtidigUttakDeFørsteSeksUker',\n    'farMedmorHarSøktUttakRundtFødselUtenforGyldigPeriode' = 'farMedmorHarSøktUttakRundtFødselUtenforGyldigPeriode',\n    'stønadskontoInneholderForMyeUttakKunSøker' = 'stønadskontoInneholderForMyeUttakKunSøker',\n    'uttaksplanErBareOpphold' = 'uttaksplanErBareOpphold',\n    'uttaksplanStarterMedOpphold' = 'uttaksplanStarterMedOpphold',\n    'uttaksplanSlutterMedOpphold' = 'uttaksplanSlutterMedOpphold',\n    'uttaksplanGraderingStørreEnnSamtidigUttak' = 'uttaksplanGraderingStørreEnnSamtidigUttak',\n    'begrunnelseVedForSenEndringErUgyldig' = 'begrunnelseVedForSenEndringErUgyldig',\n    'begrunnelseVedForSenEndringHarUgyldigeChars' = 'begrunnelseVedForSenEndringHarUgyldigeChars',\n    'uttaksplanHarForMangeFlerbarnsdager' = 'uttaksplanHarForMangeFlerbarnsdager',\n    'uttaksplanInneholderDatoSomIkkeErUttaksdag' = 'uttaksplanInneholderDatoSomIkkeErUttaksdag',\n    'perioderManglerVedlegg' = 'manglendeVedlegg',\n    'inneholderSenUtsettelsePgaFerie' = 'inneholderSenUtsettelsePgaFerieTest',\n    'inneholderSenUtsettelsePgaArbeid' = 'inneholderSenUtsettelsePgaArbeidTest',\n    'inneholderTapteDager' = 'inneholderTapteDager',\n    'inneholderBareUtsettelser' = 'inneholderBareUtsettelser',\n    'inneholderForMyeFerie' = 'inneholderForMyeFerie',\n    'endringerOverskriverAnnenPartsPerioder' = 'endringerOverskriverAnnenPartsPerioder',\n    'periodeOverlapperAndrePerioder' = 'periodeOverlapperAndrePerioder',\n    'harSøktOmFerieUtenArbeidsforhold' = 'harSøktOmFerieUtenArbeidsforhold',\n    'kanIkkeSlutteMedUtsettelseDersomStønadsdagerErTomme' = 'kanIkkeSlutteMedUtsettelseDersomStønadsdagerErTomme',\n    'uttaksmengdeForFarMedmorErForHøy' = 'uttaksmengdeForFarMedmorErForHøy',\n    'burdeKanskjeSøkeGradering' = 'burdeKanskjeSøkeGradering',\n    'ferieEllerArbeidInnenforDeFørsteÅtteUkeneEtterTermindato' = 'ferieEllerArbeidInnenforDeFørsteÅtteUkeneEtterTermindato',\n    'inneholderPerioderUtenAktivitetskrav' = 'inneholderPerioderUtenAktivitetskrav',\n    'inneholderUtsettelserUtenÅrsak' = 'inneholderUtsettelserUtenÅrsak',\n    'farMedMorHarRettPåUttakRundtFødsel' = 'farMedMorHarRettPåUttakRundtFødsel',\n    'farMedmorHarRettPåForeldrepengerUtenAktivitetskrav' = 'farMedmorHarRettPåForeldrepengerUtenAktivitetskravTest',\n    'farMedmorHarRettPåFlerbarnsdager' = 'farMedmorHarRettPåFlerbarnsdagerTest',\n    'inneholderUttaksperioderMedUbesvartGradering' = 'inneholderUttaksperioderMedUbesvartGradering',\n    'inneholderUttaksperiodeMedUbservartSpmOmFlerbarnsdagerTest' = 'inneholderUttaksperiodeMedUbservartSpmOmFlerbarnsdagerTest',\n    'overstigerMinsterettVedToTette' = 'overstigerMinsterettVedToTette',\n    'harPerioderEtterFørsteStønadsdagNesteBarnDerToTette' = 'harPerioderEtterFørsteStønadsdagNesteBarnDerToTette',\n}\n\nexport type RegelKey = UttaksplanRegelKey | PeriodeValiderRegelKey;\n\nconst uttaksplanValideringRegler = (familiehendelsesdato: Date): Regel[] => [\n    {\n        key: UttaksplanRegelKey.planenInneholderIngenPerioder,\n        alvorlighet: RegelAlvorlighet.FEIL,\n        test: inneholderUttaksplanPerioderTest,\n    },\n    {\n        key: UttaksplanRegelKey.stønadskontoInneholderForMyeUttakKunSøker,\n        alvorlighet: RegelAlvorlighet.FEIL,\n        test: stønadskontoInneholderForMyeUttakKunSøkerTest,\n    },\n    {\n        key: UttaksplanRegelKey.morHarSøktUgyldigUttakFørsteSeksUker,\n        alvorlighet: RegelAlvorlighet.FEIL,\n        test: harMorSøktUgyldigUttakFørsteSeksUkerTest,\n    },\n    {\n        key: UttaksplanRegelKey.farMedmorHarSøktUgyldigUttakEllerUtsettelseFørsteSeksUker,\n        alvorlighet: RegelAlvorlighet.FEIL,\n        test: harFarMedmorSøktUgyldigUttakEllerUtsettelseFørsteSeksUkerTest,\n    },\n    {\n        key: UttaksplanRegelKey.farMedmorHarSøktUgyldigAntallDagerUttakRundtFødsel,\n        alvorlighet: RegelAlvorlighet.FEIL,\n        test: farMedmorHarSøktUgyldigAntallDagerUttakRundtFødselTest,\n    },\n    {\n        key: UttaksplanRegelKey.harMorSøktMindreEnn100ProsentSamtidigUttakDeFørsteSeksUker,\n        alvorlighet: RegelAlvorlighet.FEIL,\n        test: harMorSøktMindreEnn100ProsentSamtidigUttakDeFørsteSeksUkerTest,\n    },\n    {\n        key: UttaksplanRegelKey.uttaksmengdeForFarMedmorErForHøy,\n        alvorlighet: RegelAlvorlighet.FEIL,\n        test: erUttaksmengdeForFarMedmorForHøyTest,\n    },\n    {\n        key: UttaksplanRegelKey.uttaksplanErBareOpphold,\n        alvorlighet: RegelAlvorlighet.FEIL,\n        test: erUttaksplanBareOppholdTest,\n    },\n    {\n        key: UttaksplanRegelKey.uttaksplanStarterMedOpphold,\n        alvorlighet: RegelAlvorlighet.FEIL,\n        test: starterUttaksplanMedOppholdTest,\n    },\n    {\n        key: UttaksplanRegelKey.uttaksplanSlutterMedOpphold,\n        alvorlighet: RegelAlvorlighet.FEIL,\n        test: slutterUttaksplanMedOppholdTest,\n    },\n    {\n        key: UttaksplanRegelKey.uttaksplanGraderingStørreEnnSamtidigUttak,\n        alvorlighet: RegelAlvorlighet.FEIL,\n        test: erUttaksplanGraderingStørreEnnSamtidigUttakTest,\n    },\n    {\n        key: UttaksplanRegelKey.begrunnelseVedForSenEndringErUgyldig,\n        alvorlighet: RegelAlvorlighet.FEIL,\n        test: erTilleggsopplysningerGyldigTest,\n    },\n    {\n        key: UttaksplanRegelKey.uttaksplanHarForMangeFlerbarnsdager,\n        alvorlighet: RegelAlvorlighet.FEIL,\n        test: harUttaksplanForMangeFlerbarnsdagerTest,\n    },\n    {\n        key: UttaksplanRegelKey.begrunnelseVedForSenEndringHarUgyldigeChars,\n        alvorlighet: RegelAlvorlighet.FEIL,\n        test: harTilleggsopplysningerGyldigeCharsTest,\n    },\n    {\n        key: UttaksplanRegelKey.uttaksplanInneholderDatoSomIkkeErUttaksdag,\n        alvorlighet: RegelAlvorlighet.FEIL,\n        test: inneholderUttaksplanDatoSomIkkeErUttaksdag,\n    },\n    {\n        key: UttaksplanRegelKey.perioderManglerVedlegg,\n        alvorlighet: RegelAlvorlighet.ADVARSEL,\n        test: harPerioderManglendeVedleggTest,\n        slåsSammenVedOppsummering: true,\n    },\n    {\n        key: UttaksplanRegelKey.inneholderSenUtsettelsePgaFerie,\n        alvorlighet: RegelAlvorlighet.INFO,\n        test: inneholderSenUtsettelsePgaFerieTest,\n        slåsSammenVedOppsummering: true,\n    },\n    {\n        key: UttaksplanRegelKey.inneholderSenUtsettelsePgaArbeid,\n        alvorlighet: RegelAlvorlighet.INFO,\n        test: inneholderSenUtsettelsePgaArbeidTest,\n        slåsSammenVedOppsummering: true,\n    },\n    {\n        key: UttaksplanRegelKey.farMedMorHarRettPåUttakRundtFødsel,\n        alvorlighet: RegelAlvorlighet.INFO,\n        test: farMedMorHarRettPåUttakRundtFødselTest,\n        skjulesIPeriode: true,\n    },\n    {\n        key: UttaksplanRegelKey.farMedmorHarRettPåForeldrepengerUtenAktivitetskrav,\n        alvorlighet: RegelAlvorlighet.INFO,\n        test: farMedmorHarRettPåForeldrepengerUtenAktivitetskravTest,\n        skjulesIPeriode: true,\n    },\n    {\n        key: UttaksplanRegelKey.farMedmorHarRettPåFlerbarnsdager,\n        alvorlighet: RegelAlvorlighet.INFO,\n        test: farMedmorHarRettPåFlerbarnsdagerTest,\n        skjulesIPeriode: true,\n    },\n    {\n        key: UttaksplanRegelKey.inneholderTapteDager,\n        alvorlighet: RegelAlvorlighet.INFO,\n        test: inneholderTapteDagerTest,\n    },\n    {\n        key: UttaksplanRegelKey.inneholderBareUtsettelser,\n        alvorlighet: førsteOktober2021ReglerGjelder(familiehendelsesdato)\n            ? RegelAlvorlighet.FEIL\n            : RegelAlvorlighet.INFO,\n        test: inneholderBareUtsettelserTest,\n    },\n    {\n        key: UttaksplanRegelKey.inneholderForMyeFerie,\n        alvorlighet: RegelAlvorlighet.FEIL,\n        test: inneholderForMyeFerie,\n    },\n    {\n        key: UttaksplanRegelKey.endringerOverskriverAnnenPartsPerioder,\n        alvorlighet: RegelAlvorlighet.INFO,\n        test: overskriverEndringerAnnenPartsPerioder,\n        slåsSammenVedOppsummering: false,\n    },\n    {\n        key: UttaksplanRegelKey.periodeOverlapperAndrePerioder,\n        alvorlighet: RegelAlvorlighet.FEIL,\n        test: overlapperPeriodeAndrePerioder,\n        slåsSammenVedOppsummering: false,\n        skjulesIOppsummering: true,\n    },\n    {\n        key: UttaksplanRegelKey.harSøktOmFerieUtenArbeidsforhold,\n        alvorlighet: RegelAlvorlighet.FEIL,\n        test: harSøktOmFerieUtenArbeidsforhold,\n    },\n    {\n        key: UttaksplanRegelKey.kanIkkeSlutteMedUtsettelseDersomStønadsdagerErTomme,\n        alvorlighet: RegelAlvorlighet.FEIL,\n        test: kanIkkeSlutteMedUtsettelseDersomStønadsdagerErTomme,\n    },\n    {\n        key: UttaksplanRegelKey.burdeKanskjeSøkeGradering,\n        alvorlighet: RegelAlvorlighet.INFO,\n        test: burdeKanskjeSøkeGraderingTest,\n    },\n    {\n        key: UttaksplanRegelKey.ferieEllerArbeidInnenforDeFørsteÅtteUkeneEtterTermindato,\n        alvorlighet: RegelAlvorlighet.ADVARSEL,\n        test: ferieEllerArbeidInnenforDeFørsteÅtteUkeneEtterTermindatoTest,\n    },\n    {\n        key: UttaksplanRegelKey.inneholderPerioderUtenAktivitetskrav,\n        alvorlighet: RegelAlvorlighet.FEIL,\n        test: inneholderPerioderUtenAktivitetskrav,\n    },\n    {\n        key: UttaksplanRegelKey.inneholderUttaksperioderMedUbesvartGradering,\n        alvorlighet: RegelAlvorlighet.FEIL,\n        test: inneholderUttaksperioderMedUbesvartGradering,\n    },\n    {\n        key: UttaksplanRegelKey.inneholderUttaksperiodeMedUbservartSpmOmFlerbarnsdagerTest,\n        alvorlighet: RegelAlvorlighet.FEIL,\n        test: inneholderUttaksperiodeMedUbservartSpmOmFlerbarnsdagerTest,\n    },\n    {\n        key: UttaksplanRegelKey.inneholderUtsettelserUtenÅrsak,\n        alvorlighet: RegelAlvorlighet.FEIL,\n        test: inneholderUtsettelserUtenÅrsak,\n    },\n    {\n        key: UttaksplanRegelKey.overstigerMinsterettVedToTette,\n        alvorlighet: RegelAlvorlighet.INFO,\n        test: overstigerMinsterettVedToTette,\n    },\n    {\n        key: UttaksplanRegelKey.harPerioderEtterFørsteStønadsdagNesteBarnDerToTette,\n        alvorlighet: RegelAlvorlighet.INFO,\n        test: harPerioderEtterFørsteStønadsdagNesteBarnDerToTette,\n    },\n];\n\nconst uttaksplanRegler = (familiehendelsesDato: Date) => [\n    ...uttaksplanValideringRegler(familiehendelsesDato),\n    ...periodevalideringsregler,\n];\n\nexport default uttaksplanRegler;\n","import { groupBy } from 'lodash';\nimport uttaksplanRegler from '.';\nimport { getRegelAvvik, hasRegelFeil, regelHarAvvik, regelPasserer } from './utils/regelUtils';\nimport { RegelStatus, UttaksplanRegelTestresultat } from './utils/types/regelTypes';\nimport { Søknadsinfo } from '@navikt/fp-common';\n\nconst REGEL_INTL_PREFIX = 'uttaksplan.validering';\n\nexport const sjekkUttaksplanOppMotRegler = (valideringsgrunnlag: Søknadsinfo): RegelStatus[] => {\n    return uttaksplanRegler(valideringsgrunnlag.familiehendelsesdato).map((regel) => {\n        const resultat = regel.test(valideringsgrunnlag);\n        return resultat.passerer\n            ? regelPasserer(regel)\n            : regelHarAvvik(regel, REGEL_INTL_PREFIX, resultat.info, resultat.periodeId);\n    });\n};\n\nexport const validerUttaksplan = (søknadsinfo: Søknadsinfo): UttaksplanRegelTestresultat => {\n    const resultat = sjekkUttaksplanOppMotRegler(søknadsinfo);\n\n    const avvik = getRegelAvvik(resultat);\n    const avvikPerPeriode = groupBy(\n        avvik.filter((a) => a.periodeId !== undefined),\n        (r) => r.periodeId,\n    );\n\n    const harFeil = hasRegelFeil(avvik);\n    return {\n        resultat,\n        avvik,\n        avvikPerPeriode,\n        harFeil,\n    };\n};\n","import * as React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { VeilederMessage } from './types';\nimport VeilederMeldinger from './VeilederMeldinger';\nimport { GuidePanel } from '@navikt/ds-react';\nimport AriaText from '../../components/aria-text/AriaText';\n\ninterface Props {\n    messages: VeilederMessage[];\n    ariaTittel?: string;\n    skjulMeldingIkon?: boolean;\n}\n\nconst VeilederInfo: React.FunctionComponent<Props> = ({ messages, skjulMeldingIkon = false, ariaTittel }) => {\n    return (\n        <GuidePanel poster>\n            {ariaTittel && (\n                <AriaText tag=\"h2\">\n                    <FormattedMessage id=\"uttaksplan.regelAvvik.ariaTittel\" />\n                </AriaText>\n            )}\n            <VeilederMeldinger meldinger={messages} stil=\"transparent\" skjulMeldingIkon={skjulMeldingIkon} />\n        </GuidePanel>\n    );\n};\n\nexport default VeilederInfo;\n","import { VeiledermeldingerPerPeriode, VeilederMessage } from './types';\nimport { IntlShape } from 'react-intl';\nimport { RegelAvvik } from '../utils/types/regelTypes';\nimport { getRegelIntlValues, trimRelaterteRegelAvvik } from '../utils/regelUtils';\nimport { UttaksplanAvvikType } from '../utils/types/UttaksplanAvvikType';\nimport { groupBy } from 'lodash';\nimport { intlHasKey } from '@navikt/fp-common/src/common/utils/intlUtils';\n\nexport const veilederMessageAvsnitt = (\n    førsteTekst: VeilederMessage[],\n    andreTekst: VeilederMessage[],\n    visInfoOmPrematuruker: boolean,\n): VeilederMessage[] => {\n    return visInfoOmPrematuruker === false ? førsteTekst : førsteTekst.concat(andreTekst);\n};\n\nconst mapAvvikTilMessage = (avvik: RegelAvvik, intl: IntlShape): VeilederMessage => {\n    const { info } = avvik;\n    const tittelIntlKey = `${info.intlKey}.tittel`;\n    const harTittel = intlHasKey(intl, tittelIntlKey);\n    return {\n        type: avvik.regel.alvorlighet,\n        contentIntlKey: info.intlKey,\n        titleIntlKey: harTittel ? tittelIntlKey : undefined,\n        formatContentAsHTML: info.renderAsHtml,\n        values: getRegelIntlValues(intl, info),\n        periodeId: avvik.regel.skjulesIPeriode !== true ? avvik.periodeId : undefined,\n        skjulesIOppsummering: avvik.regel.skjulesIOppsummering,\n        avvikType: avvik.regel.avvikType as UttaksplanAvvikType,\n    };\n};\n\nexport const getUttaksplanVeilederinfo = (\n    avvik: RegelAvvik[],\n    intl: IntlShape,\n    grupperAvvik: boolean,\n): VeilederMessage[] => {\n    return trimRelaterteRegelAvvik(avvik, grupperAvvik).map((a) => mapAvvikTilMessage(a, intl));\n};\n\nexport const getPeriodelisteMeldinger = (veilederinfo: VeilederMessage[]): VeiledermeldingerPerPeriode => {\n    const meldinger = veilederinfo.filter((info) => info.periodeId !== undefined);\n    return groupBy(meldinger, (info) => info.periodeId);\n};\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","import throttle from 'lodash.throttle';\nimport { injectIntl, IntlShape } from 'react-intl';\nimport { Attachment, Block, intlUtils } from '@navikt/fp-common';\nimport { BodyLong, Label, ReadMore, Textarea } from '@navikt/ds-react';\nimport { ChangeEvent, Component } from 'react';\nimport { tilleggsopplysningerMaxLength } from '../../validering/tester/erTilleggsopplysningerGyldigTest';\n\ninterface OwnProps {\n    begrunnelse?: string;\n    vedlegg?: Attachment[];\n    onBegrunnelseTekstChange: (begrunnelse: string) => void;\n    intl: IntlShape;\n}\n\ntype Props = OwnProps;\n\ninterface State {\n    begrunnelse: string;\n}\n\nconst getLabel = (intl: IntlShape) => {\n    return (\n        <>\n            <Label>{intlUtils(intl, 'uttaksplan.tilleggsopplysninger.label')}</Label>\n        </>\n    );\n};\n\nexport type TextareaChangeEvent = ChangeEvent<HTMLTextAreaElement>;\n\nclass OppgiTilleggsopplysninger extends Component<Props, State> {\n    constructor(props: Props) {\n        super(props);\n\n        this.state = {\n            begrunnelse: this.props.begrunnelse || '',\n        };\n\n        this.throttledOnChange = throttle(this.throttledOnChange, 2000);\n    }\n\n    throttledOnChange = () => {\n        this.props.onBegrunnelseTekstChange(this.state.begrunnelse);\n    };\n\n    handleBegrunnelseChange = (e: TextareaChangeEvent) => {\n        this.setState(\n            {\n                begrunnelse: e.target.value,\n            },\n            this.throttledOnChange,\n        );\n    };\n\n    render() {\n        const { intl } = this.props;\n\n        return (\n            <div className=\"blokk-m\">\n                <Block margin=\"l\" padBottom=\"xl\">\n                    <Textarea\n                        value={this.state.begrunnelse}\n                        maxLength={tilleggsopplysningerMaxLength}\n                        name=\"begrunnelseForSenEndring\"\n                        label={getLabel(intl)}\n                        onChange={this.handleBegrunnelseChange}\n                    />\n                    <ReadMore header={intlUtils(intl, 'uttaksplan.tilleggsopplysninger.apneLabel')}>\n                        <div style={{ backgroundColor: '#e9e7e7', padding: '1.5rem' }}>\n                            <Block margin=\"s\">\n                                <Label>\n                                    {intlUtils(intl, 'uttaksplan.tilleggsopplysninger.sykdomTilbakeITid.overskrift')}\n                                </Label>\n                                <BodyLong>\n                                    {intlUtils(intl, 'uttaksplan.tilleggsopplysninger.sykdomTilbakeITid')}\n                                </BodyLong>\n                            </Block>\n                            <Block margin=\"s\">\n                                <Label>{intlUtils(intl, 'uttaksplan.tilleggsopplysninger.uttak.overskrift')}</Label>\n                                <BodyLong>{intlUtils(intl, 'uttaksplan.tilleggsopplysninger.uttak')}</BodyLong>\n                            </Block>\n                            <Block margin=\"s\">\n                                <Label>\n                                    {intlUtils(\n                                        intl,\n                                        'uttaksplan.tilleggsopplysninger.utsettelsearbeidellergradering.overskrift',\n                                    )}\n                                </Label>\n                                <BodyLong>\n                                    {intlUtils(intl, 'uttaksplan.tilleggsopplysninger.utsettelsearbeidellergradering')}\n                                </BodyLong>\n                            </Block>\n                            <Label>{intlUtils(intl, 'uttaksplan.tilleggsopplysninger.sykdom.overskrift')}</Label>\n                            <BodyLong>{intlUtils(intl, 'uttaksplan.tilleggsopplysninger.sykdom')}</BodyLong>\n                        </div>\n                    </ReadMore>\n                </Block>\n            </div>\n        );\n    }\n}\n\nexport default injectIntl(OppgiTilleggsopplysninger);\n","import { FunctionComponent } from 'react';\nimport { bemUtils, Block } from '@navikt/fp-common';\nimport { FormattedMessage } from 'react-intl';\nimport { BodyShort, Button, Heading, Modal } from '@navikt/ds-react';\n\nimport './slettUttaksplanModal.less';\n\ninterface Props {\n    isOpen: boolean;\n    erEndringssøknad: boolean;\n    onClose: () => void;\n    handleSlettUttaksplanModalBekreft: () => void;\n}\n\nconst SlettUttaksplanModal: FunctionComponent<Props> = ({\n    isOpen,\n    erEndringssøknad,\n    onClose,\n    handleSlettUttaksplanModalBekreft,\n}) => {\n    const bem = bemUtils('slettUttaksplanModal');\n\n    let innhold1Id = 'uttaksplan.slettPlan.innhold1.førstegangssøknad';\n    let innhold2Id = 'uttaksplan.slettPlan.innhold2.førstegangssøknad';\n    if (erEndringssøknad) {\n        innhold1Id = 'uttaksplan.slettPlan.innhold1.endringssøknad';\n        innhold2Id = 'uttaksplan.slettPlan.innhold2.endringssøknad';\n    }\n\n    return (\n        <Modal\n            className={bem.block}\n            open={isOpen}\n            closeButton={true}\n            onClose={onClose}\n            aria-label=\"Slett uttaksplanen din\"\n        >\n            <div className={bem.element('content')}>\n                <Block padBottom=\"l\">\n                    <Heading size=\"small\">\n                        <FormattedMessage id=\"uttaksplan.slettPlan.modal.tittel\" />\n                    </Heading>\n                    <BodyShort>\n                        <FormattedMessage id={innhold1Id} />\n                    </BodyShort>\n                    <br />\n                    <BodyShort>\n                        <FormattedMessage id={innhold2Id} />\n                    </BodyShort>\n                </Block>\n                <div className={bem.element('knappWrapper')}>\n                    <Button onClick={handleSlettUttaksplanModalBekreft}>\n                        <FormattedMessage id=\"uttaksplan.slettPlan.slett\" />\n                    </Button>\n                    <Button variant=\"secondary\" onClick={onClose}>\n                        <FormattedMessage id=\"uttaksplan.slettPlan.avbryt\" />\n                    </Button>\n                </div>\n            </div>\n        </Modal>\n    );\n};\n\nexport default SlettUttaksplanModal;\n","import { Periode } from '@navikt/fp-common';\nimport { getPeriodeHullEllerPeriodeUtenUttak } from './uttaksplanbuilderUtils';\n\ninterface SlettPeriodeParams {\n    perioder: Periode[];\n    slettetPeriode: Periode;\n    familiehendelsesdato: Date;\n    harAktivitetskravIPeriodeUtenUttak: boolean;\n    erAdopsjon: boolean;\n    bareFarHarRett: boolean;\n    erFarEllerMedmor: boolean;\n    førsteUttaksdagNesteBarnsSak: Date | undefined;\n}\n\nexport const slettPeriode = ({\n    perioder,\n    slettetPeriode,\n    familiehendelsesdato,\n    harAktivitetskravIPeriodeUtenUttak,\n    erAdopsjon,\n    bareFarHarRett,\n    erFarEllerMedmor,\n    førsteUttaksdagNesteBarnsSak,\n}: SlettPeriodeParams): Periode[] => {\n    const result: Periode[] = perioder.reduce((res, periode, index) => {\n        if (index === 0 && periode.id === slettetPeriode.id) {\n            return res;\n        }\n\n        if (periode.id === slettetPeriode.id) {\n            res.push(\n                ...getPeriodeHullEllerPeriodeUtenUttak(\n                    slettetPeriode.tidsperiode,\n                    harAktivitetskravIPeriodeUtenUttak,\n                    familiehendelsesdato,\n                    erAdopsjon,\n                    bareFarHarRett,\n                    erFarEllerMedmor,\n                    førsteUttaksdagNesteBarnsSak,\n                ),\n            );\n            return res;\n        }\n\n        res.push(periode);\n        return res;\n    }, [] as Periode[]);\n\n    return result;\n};\n","import { Periode } from '@navikt/fp-common';\nimport { leggTilPeriode } from './leggTilPeriode';\nimport { slettPeriode } from './slettPeriode';\nimport { slåSammenLikePerioder } from './uttaksplanbuilderUtils';\n\ninterface OppdaterPeriodeParams {\n    perioder: Periode[];\n    endretPeriode: Periode;\n    originalPeriode: Periode;\n    familiehendelsesdato: Date;\n    harAktivitetskravIPeriodeUtenUttak: boolean;\n    erAdopsjon: boolean;\n    bareFarHarRett: boolean;\n    erFarEllerMedmor: boolean;\n    annenPartsUttak: Periode[] | undefined;\n    førsteUttaksdagNesteBarnsSak: Date | undefined;\n}\n\nexport const oppdaterPeriode = ({\n    perioder,\n    endretPeriode,\n    originalPeriode,\n    familiehendelsesdato,\n    harAktivitetskravIPeriodeUtenUttak,\n    erAdopsjon,\n    bareFarHarRett,\n    erFarEllerMedmor,\n    annenPartsUttak,\n    førsteUttaksdagNesteBarnsSak,\n}: OppdaterPeriodeParams): Periode[] => {\n    const perioderSlettetEndretPeriode = slåSammenLikePerioder(\n        slettPeriode({\n            perioder,\n            slettetPeriode: originalPeriode,\n            familiehendelsesdato,\n            harAktivitetskravIPeriodeUtenUttak,\n            erAdopsjon,\n            bareFarHarRett,\n            erFarEllerMedmor,\n            førsteUttaksdagNesteBarnsSak,\n        }),\n        familiehendelsesdato,\n        førsteUttaksdagNesteBarnsSak,\n        annenPartsUttak,\n    );\n\n    return slåSammenLikePerioder(\n        leggTilPeriode({\n            perioder: perioderSlettetEndretPeriode,\n            nyPeriode: endretPeriode,\n            familiehendelsesdato,\n            harAktivitetskravIPeriodeUtenUttak,\n            erAdopsjon,\n            bareFarHarRett,\n            erFarEllerMedmor,\n            førsteUttaksdagNesteBarnsSak,\n        }),\n        familiehendelsesdato,\n        førsteUttaksdagNesteBarnsSak,\n        annenPartsUttak,\n    );\n};\n","import { leggTilPeriode } from './leggTilPeriode';\nimport { oppdaterPeriode } from './oppdaterPeriode';\nimport { slettPeriode } from './slettPeriode';\nimport {\n    finnOgSettInnHull,\n    fjernUnødvendigeHull,\n    settInnAnnenPartsUttak,\n    slåSammenLikePerioder,\n} from './uttaksplanbuilderUtils';\nimport {\n    Periode,\n    isForeldrepengerFørFødselUttaksperiode,\n    isInfoPeriodeAnnenPart,\n    isUtsettelsesperiode,\n    starterUttaksperiodeFørFødsel,\n} from '@navikt/fp-common';\n\nconst leggTilPeriodeOgBuild = (\n    bevegeligePerioder: Periode[],\n    fastePerioder: Periode[],\n    nyPeriode: Periode,\n    familiehendelsesdato: Date,\n    harAktivitetskravIPeriodeUtenUttak: boolean,\n    erAdopsjon: boolean,\n    bareFarHarRett: boolean,\n    erFarEllerMedmor: boolean,\n    annenPartsUttak: Periode[] | undefined,\n    førsteUttaksdagNesteBarnsSak: Date | undefined,\n) => {\n    let nyePerioder = slåSammenLikePerioder(\n        leggTilPeriode({\n            perioder: bevegeligePerioder,\n            nyPeriode,\n            familiehendelsesdato,\n            harAktivitetskravIPeriodeUtenUttak,\n            erAdopsjon,\n            bareFarHarRett,\n            erFarEllerMedmor,\n            førsteUttaksdagNesteBarnsSak,\n        }),\n        familiehendelsesdato,\n        førsteUttaksdagNesteBarnsSak,\n    );\n\n    fastePerioder.forEach((fastPeriode) => {\n        nyePerioder = leggTilPeriode({\n            perioder: nyePerioder,\n            nyPeriode: fastPeriode,\n            familiehendelsesdato,\n            harAktivitetskravIPeriodeUtenUttak,\n            erAdopsjon,\n            bareFarHarRett,\n            erFarEllerMedmor,\n            førsteUttaksdagNesteBarnsSak,\n        });\n    });\n\n    if (annenPartsUttak) {\n        nyePerioder = finnOgSettInnHull(\n            settInnAnnenPartsUttak(nyePerioder, annenPartsUttak, familiehendelsesdato, førsteUttaksdagNesteBarnsSak),\n            harAktivitetskravIPeriodeUtenUttak,\n            familiehendelsesdato,\n            erAdopsjon,\n            bareFarHarRett,\n            erFarEllerMedmor,\n            førsteUttaksdagNesteBarnsSak,\n        );\n    }\n\n    return nyePerioder;\n};\n\nconst oppdaterPeriodeOgBuild = (\n    endretPeriode: Periode,\n    perioder: Periode[],\n    familiehendelsesdato: Date,\n    harAktivitetskravIPeriodeUtenUttak: boolean,\n    erAdopsjon: boolean,\n    bareFarHarRett: boolean,\n    erFarEllerMedmor: boolean,\n    annenPartsUttak: Periode[] | undefined,\n    førsteUttaksdagNesteBarnsSak: Date | undefined,\n) => {\n    const originalPeriode = perioder.find((p) => p.id === endretPeriode.id)!;\n\n    let oppdatertePerioder = fjernUnødvendigeHull(\n        oppdaterPeriode({\n            perioder,\n            endretPeriode,\n            originalPeriode,\n            familiehendelsesdato,\n            harAktivitetskravIPeriodeUtenUttak,\n            erAdopsjon,\n            bareFarHarRett,\n            erFarEllerMedmor,\n            annenPartsUttak,\n            førsteUttaksdagNesteBarnsSak,\n        }),\n    );\n\n    if (annenPartsUttak) {\n        oppdatertePerioder = finnOgSettInnHull(\n            oppdatertePerioder,\n            harAktivitetskravIPeriodeUtenUttak,\n            familiehendelsesdato,\n            erAdopsjon,\n            bareFarHarRett,\n            erFarEllerMedmor,\n            førsteUttaksdagNesteBarnsSak,\n        );\n        oppdatertePerioder = settInnAnnenPartsUttak(\n            oppdatertePerioder,\n            annenPartsUttak,\n            familiehendelsesdato,\n            førsteUttaksdagNesteBarnsSak,\n        );\n    }\n\n    return finnOgSettInnHull(\n        oppdatertePerioder,\n        harAktivitetskravIPeriodeUtenUttak,\n        familiehendelsesdato,\n        erAdopsjon,\n        bareFarHarRett,\n        erFarEllerMedmor,\n        førsteUttaksdagNesteBarnsSak,\n    );\n};\n\nconst slettPeriodeOgBuild = (\n    perioder: Periode[],\n    slettetPeriode: Periode,\n    familiehendelsesdato: Date,\n    harAktivitetskravIPeriodeUtenUttak: boolean,\n    erAdopsjon: boolean,\n    bareFarHarRett: boolean,\n    erFarEllerMedmor: boolean,\n    annenPartsUttak: Periode[] | undefined,\n    førsteUttaksdagNesteBarnsSak: Date | undefined,\n) => {\n    let nyePerioder = fjernUnødvendigeHull(\n        slåSammenLikePerioder(\n            slettPeriode({\n                perioder,\n                slettetPeriode,\n                familiehendelsesdato,\n                harAktivitetskravIPeriodeUtenUttak,\n                erAdopsjon,\n                bareFarHarRett,\n                erFarEllerMedmor,\n                førsteUttaksdagNesteBarnsSak,\n            }),\n            familiehendelsesdato,\n            førsteUttaksdagNesteBarnsSak,\n        ),\n    );\n\n    if (annenPartsUttak) {\n        nyePerioder = finnOgSettInnHull(\n            nyePerioder,\n            harAktivitetskravIPeriodeUtenUttak,\n            familiehendelsesdato,\n            erAdopsjon,\n            bareFarHarRett,\n            erFarEllerMedmor,\n            førsteUttaksdagNesteBarnsSak,\n        );\n        nyePerioder = settInnAnnenPartsUttak(\n            nyePerioder,\n            annenPartsUttak,\n            familiehendelsesdato,\n            førsteUttaksdagNesteBarnsSak,\n        );\n    }\n\n    return finnOgSettInnHull(\n        nyePerioder,\n        harAktivitetskravIPeriodeUtenUttak,\n        familiehendelsesdato,\n        erAdopsjon,\n        bareFarHarRett,\n        erFarEllerMedmor,\n        førsteUttaksdagNesteBarnsSak,\n    );\n};\n\nconst getFastePerioder = (perioder: Periode[], familiehendelsesdato: Date): Periode[] => {\n    return perioder.filter(\n        (p) =>\n            isUtsettelsesperiode(p) ||\n            isForeldrepengerFørFødselUttaksperiode(p) ||\n            starterUttaksperiodeFørFødsel(p, familiehendelsesdato),\n    );\n};\n\nconst getBevegeligePerioder = (\n    perioder: Periode[],\n    familiehendelsesdato: Date,\n    harAktivitetskravIPeriodeUtenUttak: boolean,\n    erAdopsjon: boolean,\n    bareFarHarRett: boolean,\n    erFarEllerMedmor: boolean,\n    førsteUttaksdagNesteBarnsSak: Date | undefined,\n): Periode[] => {\n    return finnOgSettInnHull(\n        perioder.filter(\n            (p) =>\n                !isUtsettelsesperiode(p) &&\n                !isForeldrepengerFørFødselUttaksperiode(p) &&\n                !starterUttaksperiodeFørFødsel(p, familiehendelsesdato) &&\n                !isInfoPeriodeAnnenPart(p),\n        ),\n        harAktivitetskravIPeriodeUtenUttak,\n        familiehendelsesdato,\n        erAdopsjon,\n        bareFarHarRett,\n        erFarEllerMedmor,\n        førsteUttaksdagNesteBarnsSak,\n    );\n};\n\nconst getAnnenPartsUttak = (perioder: Periode[]): Periode[] => {\n    return perioder.filter((p) => isInfoPeriodeAnnenPart(p));\n};\n\nconst Uttaksplanbuilder = (\n    perioder: Periode[],\n    familiehendelsesdato: Date,\n    harAktivitetskravIPeriodeUtenUttak: boolean,\n    erAdopsjon: boolean,\n    bareFarHarRett: boolean,\n    erFarEllerMedmor: boolean,\n    førsteUttaksdagNesteBarnsSak: Date | undefined,\n    opprinneligPlan?: Periode[],\n) => {\n    const perioderUtenAnnenPart = finnOgSettInnHull(\n        perioder.filter((p) => !isInfoPeriodeAnnenPart(p)),\n        harAktivitetskravIPeriodeUtenUttak,\n        familiehendelsesdato,\n        erAdopsjon,\n        bareFarHarRett,\n        erFarEllerMedmor,\n        førsteUttaksdagNesteBarnsSak,\n    );\n    const fastePerioder = getFastePerioder(perioderUtenAnnenPart, familiehendelsesdato);\n    const bevegeligePerioder = getBevegeligePerioder(\n        perioderUtenAnnenPart,\n        familiehendelsesdato,\n        harAktivitetskravIPeriodeUtenUttak,\n        erAdopsjon,\n        bareFarHarRett,\n        erFarEllerMedmor,\n        førsteUttaksdagNesteBarnsSak,\n    );\n    let annenPartsUttak: Periode[] | undefined = undefined;\n\n    if (opprinneligPlan) {\n        annenPartsUttak = getAnnenPartsUttak(opprinneligPlan);\n    }\n\n    return {\n        leggTilPeriode: (nyPeriode: Periode) =>\n            leggTilPeriodeOgBuild(\n                bevegeligePerioder,\n                fastePerioder,\n                nyPeriode,\n                familiehendelsesdato,\n                harAktivitetskravIPeriodeUtenUttak,\n                erAdopsjon,\n                bareFarHarRett,\n                erFarEllerMedmor,\n                annenPartsUttak,\n                førsteUttaksdagNesteBarnsSak,\n            ),\n        leggTilPerioder: (nyePerioder: Periode[]) => {\n            let resultat: Periode[] = [];\n            nyePerioder.forEach((periode, index) => {\n                if (index === 0) {\n                    resultat = leggTilPeriodeOgBuild(\n                        bevegeligePerioder,\n                        fastePerioder,\n                        periode,\n                        familiehendelsesdato,\n                        harAktivitetskravIPeriodeUtenUttak,\n                        erAdopsjon,\n                        bareFarHarRett,\n                        erFarEllerMedmor,\n                        annenPartsUttak,\n                        førsteUttaksdagNesteBarnsSak,\n                    );\n                } else {\n                    const nyAnnenPartsUttak = getAnnenPartsUttak(resultat);\n                    const nyFastePerioder = getFastePerioder(resultat, familiehendelsesdato);\n                    const nyBevegeligePerioder = getBevegeligePerioder(\n                        resultat,\n                        familiehendelsesdato,\n                        harAktivitetskravIPeriodeUtenUttak,\n                        erAdopsjon,\n                        bareFarHarRett,\n                        erFarEllerMedmor,\n                        førsteUttaksdagNesteBarnsSak,\n                    );\n                    resultat = leggTilPeriodeOgBuild(\n                        nyBevegeligePerioder,\n                        nyFastePerioder,\n                        periode,\n                        familiehendelsesdato,\n                        harAktivitetskravIPeriodeUtenUttak,\n                        erAdopsjon,\n                        bareFarHarRett,\n                        erFarEllerMedmor,\n                        nyAnnenPartsUttak,\n                        førsteUttaksdagNesteBarnsSak,\n                    );\n                }\n            });\n            return resultat;\n        },\n        oppdaterPeriode: (endretPeriode: Periode) =>\n            oppdaterPeriodeOgBuild(\n                endretPeriode,\n                perioderUtenAnnenPart,\n                familiehendelsesdato,\n                harAktivitetskravIPeriodeUtenUttak,\n                erAdopsjon,\n                bareFarHarRett,\n                erFarEllerMedmor,\n                annenPartsUttak,\n                førsteUttaksdagNesteBarnsSak,\n            ),\n        oppdaterPerioder: (oppdatertePerioder: Periode[]) => {\n            let resultat: Periode[] = [];\n            oppdatertePerioder.forEach((endretPeriode, index) => {\n                if (index === 0) {\n                    resultat = oppdaterPeriodeOgBuild(\n                        endretPeriode,\n                        perioderUtenAnnenPart,\n                        familiehendelsesdato,\n                        harAktivitetskravIPeriodeUtenUttak,\n                        erAdopsjon,\n                        bareFarHarRett,\n                        erFarEllerMedmor,\n                        annenPartsUttak,\n                        førsteUttaksdagNesteBarnsSak,\n                    );\n                } else {\n                    const nyAnnenPartsUttak = getAnnenPartsUttak(resultat);\n                    const nyFastePerioder = getFastePerioder(resultat, familiehendelsesdato);\n                    const nyBevegeligePerioder = getBevegeligePerioder(\n                        resultat,\n                        familiehendelsesdato,\n                        harAktivitetskravIPeriodeUtenUttak,\n                        erAdopsjon,\n                        bareFarHarRett,\n                        erFarEllerMedmor,\n                        førsteUttaksdagNesteBarnsSak,\n                    );\n                    resultat = leggTilPeriodeOgBuild(\n                        nyBevegeligePerioder,\n                        nyFastePerioder,\n                        endretPeriode,\n                        familiehendelsesdato,\n                        harAktivitetskravIPeriodeUtenUttak,\n                        erAdopsjon,\n                        bareFarHarRett,\n                        erFarEllerMedmor,\n                        nyAnnenPartsUttak,\n                        førsteUttaksdagNesteBarnsSak,\n                    );\n                }\n            });\n            return resultat;\n        },\n        slettPeriode: (slettetPeriode: Periode) =>\n            slettPeriodeOgBuild(\n                perioderUtenAnnenPart,\n                slettetPeriode,\n                familiehendelsesdato,\n                harAktivitetskravIPeriodeUtenUttak,\n                erAdopsjon,\n                bareFarHarRett,\n                erFarEllerMedmor,\n                annenPartsUttak,\n                førsteUttaksdagNesteBarnsSak,\n            ),\n    };\n};\n\nexport default Uttaksplanbuilder;\n","import { FunctionComponent } from 'react';\nimport { bemUtils, Block } from '@navikt/fp-common';\nimport { FormattedMessage } from 'react-intl';\nimport { BodyShort, Button, Heading, Modal } from '@navikt/ds-react';\n\nimport './resetUttaksplanModal.less';\n\ninterface Props {\n    isOpen: boolean;\n    onClose: () => void;\n    handleResetUttaksplanModalBekreft: () => void;\n}\n\nconst ResetUttaksplanModal: FunctionComponent<Props> = ({ isOpen, onClose, handleResetUttaksplanModalBekreft }) => {\n    const bem = bemUtils('resetUttaksplanModal');\n\n    return (\n        <Modal\n            className={bem.block}\n            open={isOpen}\n            closeButton={true}\n            onClose={onClose}\n            aria-label=\"Tilbakestill uttaksplanen din\"\n        >\n            <div className={bem.element('content')}>\n                <Block padBottom=\"l\">\n                    <Heading size=\"small\">\n                        <FormattedMessage id=\"uttaksplan.resetPlan.innhold1\" />\n                    </Heading>\n                    <BodyShort>\n                        <FormattedMessage id=\"uttaksplan.resetPlan.innhold2\" />\n                    </BodyShort>\n                </Block>\n                <div className={bem.element('knappWrapper')}>\n                    <Button onClick={handleResetUttaksplanModalBekreft}>\n                        <FormattedMessage id=\"uttaksplan.resetPlan.slett\" />\n                    </Button>\n                    <Button variant=\"secondary\" onClick={onClose}>\n                        <FormattedMessage id=\"uttaksplan.resetPlan.avbryt\" />\n                    </Button>\n                </div>\n            </div>\n        </Modal>\n    );\n};\n\nexport default ResetUttaksplanModal;\n","import { Periode, isUttaksperiode } from '@navikt/fp-common';\n\ninterface HarAktivitetskravIPeriodeUtenUttakParams {\n    erDeltUttak: boolean;\n    morHarRett: boolean;\n    søkerErAleneOmOmsorg: boolean;\n}\n\nexport const getHarAktivitetskravIPeriodeUtenUttak = ({\n    erDeltUttak,\n    morHarRett,\n    søkerErAleneOmOmsorg,\n}: HarAktivitetskravIPeriodeUtenUttakParams) => {\n    return !erDeltUttak && !morHarRett && !søkerErAleneOmOmsorg;\n};\n\nexport const uttaksplanInneholderPerioderUtenKonto = (uttaksplan: Periode[]): boolean => {\n    return uttaksplan.find((periode) => isUttaksperiode(periode) && periode.konto === undefined) !== undefined;\n};\n","import { FunctionComponent, useEffect, useState } from 'react';\nimport {\n    AnnenForelder,\n    Arbeidsforhold,\n    Attachment,\n    Barn,\n    BarnFraNesteSak,\n    Block,\n    Dekningsgrad,\n    EksisterendeSak,\n    Forelder,\n    ForeldreparSituasjon,\n    ISOStringToDate,\n    Periode,\n    SenEndringÅrsak,\n    Situasjon,\n    Søkersituasjon,\n    TilgjengeligStønadskonto,\n    Tilleggsopplysninger,\n    Utsettelsesperiode,\n    Uttaksperiode,\n    farMedmorsTidsperiodeSkalSplittesPåFamiliehendelsesdato,\n    getSeneEndringerSomKreverBegrunnelse,\n    getToTetteReglerGjelder,\n    intlUtils,\n    isAnnenForelderOppgitt,\n    isAnnenPartInfoPeriode,\n    isUtsettelsesperiode,\n    tidperiodeOverlapperDato,\n    NavnPåForeldre,\n} from '@navikt/fp-common';\nimport Planlegger from './components/planlegger/Planlegger';\nimport OversiktKvoter from './components/oversikt-kvoter/OversiktKvoter';\nimport { validerUttaksplan } from './validering/validerUttaksplan';\nimport VeilederInfo from './validering/veilederInfo/VeilederInfo';\nimport { useIntl } from 'react-intl';\nimport { getPeriodelisteMeldinger, getUttaksplanVeilederinfo } from './validering/veilederInfo/utils';\nimport OppgiTilleggsopplysninger from './components/oppgi-tilleggsopplysninger/OppgiTilleggsopplysninger';\nimport SlettUttaksplanModal from './components/slett-uttaksplan-modal/SlettUttaksplanModal';\nimport Uttaksplanbuilder from './builder/Uttaksplanbuilder';\nimport ResetUttaksplanModal from './components/reset-uttaksplan-modal/ResetUttaksplanModal';\nimport { splittPeriodePåDato, splittUttaksperiodePåFamiliehendelsesdato } from './builder/leggTilPeriode';\nimport { getHarAktivitetskravIPeriodeUtenUttak } from './utils/uttaksplanUtils';\n\ninterface Props {\n    foreldreSituasjon: ForeldreparSituasjon;\n    forelderVedAleneomsorg: Forelder | undefined;\n    erDeltUttak: boolean;\n    uttaksplan: Periode[];\n    familiehendelsesdato: string;\n    handleOnPlanChange: (nyPlan: Periode[]) => void;\n    stønadskontoer: TilgjengeligStønadskonto[];\n    navnPåForeldre: NavnPåForeldre;\n    annenForelder: AnnenForelder;\n    arbeidsforhold: Arbeidsforhold[];\n    erEndringssøknad: boolean;\n    erFarEllerMedmor: boolean;\n    erFlerbarnssøknad: boolean;\n    erAleneOmOmsorg: boolean;\n    harMidlertidigOmsorg: boolean;\n    situasjon: Situasjon;\n    erMorUfør: boolean;\n    morHarRett: boolean;\n    søkersituasjon: Søkersituasjon;\n    dekningsgrad: Dekningsgrad;\n    antallBarn: number;\n    tilleggsopplysninger: Tilleggsopplysninger;\n    eksisterendeSak: EksisterendeSak | undefined;\n    perioderSomSkalSendesInn: Periode[];\n    morsSisteDag: Date | undefined;\n    harKomplettUttaksplan: boolean;\n    opprinneligPlan: Periode[] | undefined;\n    termindato: Date | undefined;\n    barn: Barn;\n    setUttaksplanErGyldig: (planErGyldig: boolean) => void;\n    handleBegrunnelseChange: (årsak: SenEndringÅrsak, begrunnelse: string) => void;\n    handleSlettUttaksplan: () => void;\n    handleResetUttaksplan: () => void;\n    visAutomatiskJusteringForm: boolean;\n    perioderMedUttakRundtFødsel: Uttaksperiode[];\n    barnFraNesteSak: BarnFraNesteSak | undefined;\n    familiehendelsesdatoNesteSak: Date | undefined;\n    førsteUttaksdagNesteBarnsSak: Date | undefined;\n    minsterettUkerToTette: number | undefined;\n    saveAttachment: (vedlegg: Attachment) => void;\n}\n\nexport interface PeriodeValidState {\n    id: string;\n    isValid: boolean;\n}\n\nconst Uttaksplan: FunctionComponent<Props> = ({\n    foreldreSituasjon,\n    erDeltUttak,\n    uttaksplan,\n    familiehendelsesdato,\n    stønadskontoer,\n    handleOnPlanChange,\n    navnPåForeldre,\n    annenForelder,\n    arbeidsforhold,\n    erEndringssøknad,\n    erFarEllerMedmor,\n    erFlerbarnssøknad,\n    erAleneOmOmsorg,\n    harMidlertidigOmsorg,\n    situasjon,\n    erMorUfør,\n    morHarRett,\n    søkersituasjon,\n    dekningsgrad,\n    antallBarn,\n    tilleggsopplysninger,\n    eksisterendeSak,\n    perioderSomSkalSendesInn,\n    harKomplettUttaksplan,\n    termindato,\n    opprinneligPlan,\n    setUttaksplanErGyldig,\n    handleBegrunnelseChange,\n    handleSlettUttaksplan,\n    handleResetUttaksplan,\n    barn,\n    barnFraNesteSak,\n    familiehendelsesdatoNesteSak,\n    førsteUttaksdagNesteBarnsSak,\n    minsterettUkerToTette,\n    saveAttachment,\n}) => {\n    const familiehendelsesdatoDate = ISOStringToDate(familiehendelsesdato)!;\n    const intl = useIntl();\n    const [perioderErGyldige, setPerioderErGyldige] = useState<PeriodeValidState[]>([]);\n    const [slettUttaksplanModalOpen, setSlettUttaksplanModalOpen] = useState(false);\n    const [resetUttaksplanModalOpen, setResetUttaksplanModalOpen] = useState(false);\n    const harAktivitetskravIPeriodeUtenUttak = getHarAktivitetskravIPeriodeUtenUttak({\n        erDeltUttak,\n        morHarRett,\n        søkerErAleneOmOmsorg: erAleneOmOmsorg,\n    });\n    const uttaksplanUtenAnnenPartsSamtidigUttak = uttaksplan.filter(\n        (p) => !(isAnnenPartInfoPeriode(p) && !p.visPeriodeIPlan),\n    );\n    const bareFarHarRett = !morHarRett;\n    const annenForelderHarRettINorge =\n        isAnnenForelderOppgitt(annenForelder) && annenForelder.harRettPåForeldrepengerINorge!;\n    const toTetteReglerGjelder = getToTetteReglerGjelder(familiehendelsesdatoDate, familiehendelsesdatoNesteSak);\n\n    const builder = Uttaksplanbuilder(\n        uttaksplanUtenAnnenPartsSamtidigUttak,\n        familiehendelsesdatoDate,\n        harAktivitetskravIPeriodeUtenUttak,\n        situasjon === 'adopsjon',\n        bareFarHarRett,\n        erFarEllerMedmor,\n        førsteUttaksdagNesteBarnsSak,\n        opprinneligPlan,\n    );\n\n    const handleDeletePeriode = (periodeId: string) => {\n        const slettetPeriode = uttaksplan.find((p) => p.id === periodeId)!;\n        const result = builder.slettPeriode(slettetPeriode);\n\n        handleOnPlanChange(result);\n    };\n\n    const handleUpdatePeriode = (oppdatertPeriode: Periode, familiehendelsesdato: Date) => {\n        let resultat: Periode[] = [];\n        if (\n            farMedmorsTidsperiodeSkalSplittesPåFamiliehendelsesdato(\n                oppdatertPeriode,\n                familiehendelsesdato,\n                morHarRett,\n                termindato,\n            )\n        ) {\n            const perioder = splittUttaksperiodePåFamiliehendelsesdato(\n                oppdatertPeriode as Uttaksperiode,\n                familiehendelsesdato,\n            );\n\n            resultat = builder.oppdaterPerioder(perioder);\n\n            handleOnPlanChange(resultat);\n        } else if (\n            førsteUttaksdagNesteBarnsSak !== undefined &&\n            tidperiodeOverlapperDato(oppdatertPeriode.tidsperiode, førsteUttaksdagNesteBarnsSak)\n        ) {\n            const perioder = splittPeriodePåDato(oppdatertPeriode, førsteUttaksdagNesteBarnsSak);\n            resultat = builder.oppdaterPerioder(perioder);\n            handleOnPlanChange(resultat);\n        } else {\n            const result = builder.oppdaterPeriode(oppdatertPeriode);\n\n            handleOnPlanChange(result);\n        }\n    };\n\n    const handleAddPeriode = (nyPeriode: Periode, familiehendelsesdato: Date) => {\n        let resultat: Periode[] = [];\n        if (\n            farMedmorsTidsperiodeSkalSplittesPåFamiliehendelsesdato(\n                nyPeriode,\n                familiehendelsesdato,\n                morHarRett,\n                termindato,\n            )\n        ) {\n            const perioder = splittUttaksperiodePåFamiliehendelsesdato(\n                nyPeriode as Uttaksperiode,\n                familiehendelsesdato,\n            );\n\n            resultat = builder.leggTilPerioder(perioder);\n\n            handleOnPlanChange(resultat);\n        } else if (\n            førsteUttaksdagNesteBarnsSak !== undefined &&\n            tidperiodeOverlapperDato(nyPeriode.tidsperiode, førsteUttaksdagNesteBarnsSak)\n        ) {\n            const perioder = splittPeriodePåDato(nyPeriode, førsteUttaksdagNesteBarnsSak);\n            resultat = builder.leggTilPerioder(perioder);\n            handleOnPlanChange(resultat);\n        } else {\n            resultat = builder.leggTilPeriode(nyPeriode);\n            handleOnPlanChange(resultat);\n        }\n    };\n\n    const vedleggForSenEndring = []!; //TODO: handleBegrunnelseVedleggChange\n\n    const årsakTilSenEndring = getSeneEndringerSomKreverBegrunnelse(perioderSomSkalSendesInn);\n\n    const handleBegrunnelseTekstChange = (begrunnelse: string) => {\n        handleBegrunnelseChange(årsakTilSenEndring, begrunnelse);\n    };\n\n    const uttaksplanValidering = validerUttaksplan({\n        søkersituasjon: søkersituasjon,\n        arbeidsforhold: arbeidsforhold,\n        dekningsgrad: dekningsgrad,\n        erEndringssøknad: erEndringssøknad,\n        antallBarn: antallBarn,\n        annenForelder: annenForelder,\n        navnPåForeldre: navnPåForeldre,\n        søkerErFarEllerMedmor: erFarEllerMedmor,\n        søkerErAleneOmOmsorg: erAleneOmOmsorg,\n        søkerHarMidlertidigOmsorg: harMidlertidigOmsorg,\n        erDeltUttak: erDeltUttak,\n        morErUfør: erMorUfør,\n        morHarRett: morHarRett,\n        erFlerbarnssøknad: erFlerbarnssøknad,\n        familiehendelsesdato: familiehendelsesdatoDate,\n        termindato: termindato,\n        stønadskontoer: stønadskontoer,\n        perioder: uttaksplan,\n        harKomplettUttaksplan,\n        tilleggsopplysninger: tilleggsopplysninger,\n        eksisterendeSak: eksisterendeSak,\n        perioderSomSkalSendesInn: perioderSomSkalSendesInn,\n        barn: barn,\n        familiehendelsesdatoNesteSak,\n        førsteUttaksdagNesteBarnsSak,\n        minsterettUkerToTette,\n    });\n\n    useEffect(() => {\n        if (perioderErGyldige.some((p) => !p.isValid) || uttaksplanValidering.harFeil) {\n            setUttaksplanErGyldig(false);\n        } else {\n            setUttaksplanErGyldig(true);\n        }\n    });\n\n    const handleSlettUttaksplanModalClose = () => {\n        setSlettUttaksplanModalOpen(false);\n    };\n\n    const handleSlettUttaksplanModalBekreft = () => {\n        setSlettUttaksplanModalOpen(false);\n        handleSlettUttaksplan();\n    };\n\n    const handleResetUttaksplanModalClose = () => {\n        setResetUttaksplanModalOpen(false);\n    };\n\n    const handleResetUttaksplanModalBekreft = () => {\n        setResetUttaksplanModalOpen(false);\n        handleResetUttaksplan();\n    };\n\n    const uttaksplanVeilederInfo = getUttaksplanVeilederinfo(uttaksplanValidering.avvik, intl, false);\n    const meldingerPerPeriode = getPeriodelisteMeldinger(uttaksplanVeilederInfo);\n\n    const utsettelserIPlan = uttaksplan.filter((p) => isUtsettelsesperiode(p)) as Utsettelsesperiode[];\n\n    return (\n        <>\n            <Block padBottom=\"l\">\n                <Planlegger\n                    uttaksplan={uttaksplan}\n                    familiehendelsesdato={familiehendelsesdatoDate}\n                    handleUpdatePeriode={handleUpdatePeriode}\n                    stønadskontoer={stønadskontoer}\n                    navnPåForeldre={navnPåForeldre}\n                    annenForelder={annenForelder}\n                    arbeidsforhold={arbeidsforhold}\n                    handleDeletePeriode={handleDeletePeriode}\n                    handleAddPeriode={handleAddPeriode}\n                    erFarEllerMedmor={erFarEllerMedmor}\n                    erFlerbarnssøknad={erFlerbarnssøknad}\n                    erDeltUttak={erDeltUttak}\n                    erAleneOmOmsorg={erAleneOmOmsorg}\n                    situasjon={situasjon}\n                    meldingerPerPeriode={meldingerPerPeriode}\n                    erMorUfør={erMorUfør}\n                    setPerioderErGyldige={setPerioderErGyldige}\n                    erEndringssøknad={erEndringssøknad}\n                    setSlettUttaksplanModalOpen={setSlettUttaksplanModalOpen}\n                    setResetUttaksplanModalOpen={setResetUttaksplanModalOpen}\n                    termindato={termindato}\n                    barn={barn}\n                    utsettelserIPlan={utsettelserIPlan}\n                    barnFraNesteSak={barnFraNesteSak}\n                    perioderErGyldige={perioderErGyldige}\n                    saveAttachment={saveAttachment}\n                />\n            </Block>\n\n            <Block padBottom=\"xl\">\n                <OversiktKvoter\n                    tilgjengeligeStønadskontoer={stønadskontoer}\n                    uttaksplan={uttaksplan}\n                    erDeltUttak={erDeltUttak}\n                    foreldreparSituasjon={foreldreSituasjon}\n                    familiehendelsesdato={familiehendelsesdatoDate}\n                    annenForelderHarRettINorge={annenForelderHarRettINorge}\n                    toTetteReglerGjelder={toTetteReglerGjelder}\n                    intl={intl}\n                    erAleneOmOmsorg={erAleneOmOmsorg}\n                    erEndringssøknad={erEndringssøknad}\n                    rolle={søkersituasjon.rolle}\n                    situasjon={søkersituasjon.situasjon}\n                    navnPåForeldre={navnPåForeldre}\n                />\n            </Block>\n            <Block visible={uttaksplanVeilederInfo.length > 0} padBottom=\"l\">\n                <VeilederInfo\n                    messages={uttaksplanVeilederInfo}\n                    ariaTittel={intlUtils(intl, 'uttaksplan.regelAvvik.ariaTittel')}\n                />\n            </Block>\n            {årsakTilSenEndring && årsakTilSenEndring !== SenEndringÅrsak.Ingen && (\n                <OppgiTilleggsopplysninger\n                    begrunnelse={\n                        tilleggsopplysninger.begrunnelseForSenEndring\n                            ? tilleggsopplysninger.begrunnelseForSenEndring.tekst\n                            : ''\n                    }\n                    vedlegg={vedleggForSenEndring}\n                    onBegrunnelseTekstChange={handleBegrunnelseTekstChange}\n                    //onVedleggChange={handleBegrunnelseVedleggChange}\n                />\n            )}\n            <SlettUttaksplanModal\n                isOpen={slettUttaksplanModalOpen}\n                erEndringssøknad={erEndringssøknad}\n                onClose={handleSlettUttaksplanModalClose}\n                handleSlettUttaksplanModalBekreft={handleSlettUttaksplanModalBekreft}\n            />\n            <ResetUttaksplanModal\n                isOpen={resetUttaksplanModalOpen}\n                onClose={handleResetUttaksplanModalClose}\n                handleResetUttaksplanModalBekreft={handleResetUttaksplanModalBekreft}\n            />\n        </>\n    );\n};\n\nexport default Uttaksplan;\n"],"names":["UttakRundtFødselÅrsak","getErMorUfør","annenForelder","erFarEllerMedmor","isAnnenForelderOppgitt","harAnnenForelderRettIEØS","aktivitetskravMorUtil","søkerErFarEllerMedmor","reglerFørFørsteOkt2021","dayjs","annenForelderErUfør","annenForelderHarRett","getMorsAktivitetSkjemanummer","morsAktivitet","MorsAktivitet","Skjemanummer","getMorsAktivitet","aktivitetskravMorValue","erMorForSykValue","hasValue","getBareFarHarRettKontoUtenAktivitetskravUker","antallBarn","morErUfør","familiehendelsesdato","dekningsgrad","bareFarHarRett","andreAugust2022ReglerGjelder","morUførUker","flerbarnsukerSomDelAvMinsterett","Dekningsgrad","getBareFarHarRettFlerbarnsdagerUker","flerbarnsUker","uttaksConstants","getBareFarHarRettAntallUkerPåÅTaUtDagerUtenAktivitetskravFørWLB","antallUkerEtterFødselMor","antallUkerForeldrepengerFar","getFlerbarnsuker","uttaksplanHarForMangeFlerbarnsdager","uttaksplan","periode","isUttaksperiode","sum","finnAntallDagerÅTrekke","sisteMuligePermisjonsdag","familiehendelsedato","startDato","Uttaksdagen","konverterMinOgMaxDatoerTilString","minDate","maxDate","dateToISOString","defaultPermisjonsperiodeAvgrensning","minDato","maksDato","startdatoFørTermin","termindato","termindatoMinus12Uker","startdatoFørTerminForeldrepengerFørFødselKonto","ekstrauttakFørFødsel","sisteDagFørFødsel","startdatoPermisjonAleneomsorgFarMedmor","datoForAleneomsorg","startdatoPermisjonAdopsjon","morsSisteUttaksdag","startdatoPermisjonFarMedmor","situasjon","defaultAvgrensning","getFørsteUttaksdag2UkerFørFødsel","uttaksplanDatoavgrensninger","areEqual","prevProps","nextProps","values","otherProps","__rest","nextValues","nextOtherProps","shallowEqual","FormattedMessage","props","intl","useIntl","formatMessage","_a","Text","React.Fragment","id","description","defaultMessage","children","_b","Component","ignoreTag","descriptor","nodes","React.createElement","React.Children","MemoizedFormattedMessage","React.memo","FormattedMessage$1","PeriodeUttakFormField","PeriodeUttakFormComponents","getTypedFormComponents","MorErForSykDokumentasjonOpplastning","navnMor","vedlegg","isOpen","jsxs","Fragment","jsx","Block","GuidePanel","FormikFileUploader","AttachmentType","ErMorForSykSpørsmål","fieldName","erMorForSyk","intlUtils","value","YesOrNo","FlerbarnsdagerSpørsmål","HvemSkalHaUttakSpørsmål","navnPåForeldre","capitalizeFirstLetter","Forelder","getSpørsmålsTekst","erOppholdsperiode","navnAnnenForelder","HvilkenKontoSpørsmål","velgbareStønadskontoer","erAleneOmOmsorg","legend","radios","konto","getStønadskontoNavn","UttakRundtFødselÅrsakSpørsmål","uttakRundtFødselÅrsak","OverføringsårsakSpørsmål","erEndringssøknad","valgtOverføringsårsak","navn","OverføringÅrsakType","beOmDokumentasjon","getNavnGenitivEierform","prosentValideringSamtidigUttak","samtidigUttakProsent","getFloatFromString","prosentValideringGradering","stillingsprosent","SamtidigUttakSpørsmål","erFlerbarnssøknad","navnPåAnnenForelder","samtidigUttakProsentVisible","samtidigUttakInfoTekst","Link","links","getArbeidsOptions","arbeidsforhold","tidsperiode","aktiveArbeidsforholdIPerioden","getKunArbeidsforholdForValgtTidsperiode","defaultOptions","Arbeidsform","eksisterendeArbeidsforhold","arb","SkalHaGraderingSpørsmål","graderingsprosentVisible","ReadMore","BodyShort","jsonSort","json","isObject","v","sort","o","a","b","k","SubmitListener","cleanup","formik","useFormikContext","isSubmitting","isValidating","submitForm","setValues","cleanedValues","ref","useRef","useEffect","currentValuesJSONString","valuesEqualLastValues","uttaksdatoer","getFørsteUttaksdagForeldrepengerFørFødsel","getFørsteMuligeUttaksdag","getSisteMuligeUttaksdag","getUttaksdatoer","førsteUttaksdag","førsteUttaksdagForeldrepengerFørFødsel","førsteMuligeUttaksdag","sisteUttaksdagFørFødsel","sisteMuligeUttaksdag","sisteUttaksdagInnenforSeksUker","getTidsperiode","getFørsteUttaksdagPåEllerEtterFødsel","erInnenFørsteSeksUkerFødselFarMedmor","førsteUttaksdagEtterSeksUker","isValidTidsperiode","getDatoavgrensningerForFarMedmorPeriodeRundtFødselWLB","ugyldigeTidsperioder","getSisteUttaksdag6UkerEtterFødsel","getDatoavgrensningerForStønadskonto","getDatoavgrensningerForPeriodeUtenKonto","StønadskontoType","getDatoavgrensningerForForeldrepengerFørFødsel","Tidsperioden","getDatoavgrensningerForEkstrauttakFørTermin","standardAvgrensninger","standardAvgrensningerForUttakEtterFødsel","avgrensninger","ISOStringToDate","datoÅRegneFra","getDatoavgrensningerForBareFarMedmorHarRettWLB","Form","getDatoAvgrensninger","fom","tom","morHarRett","erFarMedmorOgHarAleneomsorg","isUtsettelsesperiode","isUttaksperiodeFarMedmorPgaFødsel","isUttaksperiodeBareFarMedmorHarRett","mapTidsperiodeStringToTidsperiode","TidsperiodeForm","utsettelserIPlan","initialMonth","onBekreft","onCancel","datoAvgrensninger","dateRangeValidation","Button","kontoSkalBesvares","periodetype","stønadskontoer","Periodetype","uttakRundtFødselÅrsakSpørsmålSkalBesvares","annenForelderKanIkkeOppgis","søkerHarMidlertidigOmsorg","bareFarMedmorHarRett","erFarMedmorSinWLBTidsperiodeRundtFødsel","farMedmorBrukerForeldrepengerMedAktivitetskravRundtFødselOgMorIkkeErSyk","famDato","sisteUttaksdag6UkerEtterFødsel","aktivitetskravMorSkalBesvares","ønskerFlerbarnsdager","samtidigUttak","kontotype","søkerErMor","erMorForForSykSkalBesvares","årsakTilUttakRundtFødselSkalBesvares","graderingSkalBesvares","erFarMedmor","morErForSyk","farMedmorSøkerDeFørsteSeksUkeneFørWLBOgMorErIkkeSyk","sisteUttaksdagInnenSeksUkerEtterFødsel","bareFarHarRettSøkerAktivitetsKravKontoDeFørsteSeksUkeneOgMorErIkkeSyk","graderingSkalBesvaresPgaWLBUttakRundtFødsel","tidperiode","samtidigUttakSkalBesvares","erUttakInnenFørsteSeksUkerFødselFarMedmor","erUttakFørFødsel","erAleneOmsorg","erDeltUttakINorge","annenforelderKanIkkeOppgis","erUttakEgenKvoteFarMedmorFørsteSeksUkerUtenFlerbarnsdager","ønskerFlerbarnsdagerSkalBesvares","stønadskontoType","hvemSkalTaUttakSkalBesvares","erSamtidigUttakFarMedmorFørFørsteSeksUkerWLB","overføringsårsakSkalBesvares","kontoValue","annenForelderHarRettIEØS","getUttakSkjemaregler","formValues","regelProps","convertYesOrNoOrUndefinedToBoolean","erSamtidigUttakFarMedmorFørFødselWLB","erDeltUttak","skalViseWLBInfoOmSamtidigUttakRundtFødsel","skalViseGradering","regler","skalViseAktivitetskrav","skalViseSamtidigUttak","skalViseFlerbarnsdager","skalViseKonto","PeriodeUttakFormConfig","periodeUttakFormQuestionsConfig","Questions","getVeilederTekst","morsAktivitetIPerioden","listData","listItem","index","renderOptions","aktivitetsid","AktivitetskravSpørsmål","vedleggFieldName","aktivitetskravVedlegg","FormComponents","saveAttachment","msg","getInitialKonto","erMorUfør","periodenStarterFørFamdato","getHvemSkalTaUttak","forelder","getInitialValues","startdatoPeriode","hvemSkalTaUttak","cleanPeriodeUttakFormData","visibility","initialValues","getInitialÅrsakForUttakRundtFødsel","ønskerSamtidigUttak","getPeriodeUttakFormInitialValues","convertBooleanOrUndefinedToYesOrNo","getFrilansSNEllerOrgnr","isOverføringsperiode","isOppholdsperiode","getStønadskontoFromOppholdsårsak","arbeidsformer","orgnumre","getArbeidsform","getOrgnummer","getErArbeidstaker","getSamtidigUttaksProsentWLB","ønskerGradering","trimNumberValue","velgVedleggSomSkalBrukes","aktivitetskravMorDokumentasjon","erMorForSykDokumentasjon","skalVedleggPåkreves","getKontoVerdi","samtidigWLBUttakFørFødselFarMedmor","inputKonto","mapPeriodeUttakFormToPeriode","type","lagSendSenereDokumentNårIngenAndreFinnes","getOppholdsÅrsakFromStønadskonto","samtidigWLBUttakFørFørsteSeksUkerFarMedmor","attachmentType","skjemanummer","relevantVedlegg","erSamtidigUttak","samtidigUttakProsentInputVerdi","samtidigUttakProsentVerdi","forelderVerdi","kontoVerdi","bem","bemUtils","formaterTidsperiodeDato","dato","formatDate","renderTidsperiode","Label","TidsperiodeDisplay","toggleVisTidsperiode","e","RangeIcon","icon","AriaText","tag","tagName","createElement","delay","minZoomTouchDelta","lastTapAt","lastClientX","lastClientY","preventDoubleTapZoom","event","tapAt","timeDiff","clientX","clientY","xDiff","yDiff","Sirkelknapp","onClick","ariaLabel","ikon","toggle","disabled","stil","size","posisjoneringFraHøyre","labelId","guid","classnames","StepperKnapp","direction","label","NumberStepper","min","max","stepSize","legendId","onChange","increaseAriaLabel","decreaseAriaLabel","canDecrease","canIncrease","evt","UkerDagerTeller","ukeStepper","dagStepper","ukeLegend","dagLegend","ukeLegendId","dagLegendId","Fieldset","UttakEndreTidsperiodeSpørsmål","onAvbryt","changeTidsperiode","visible","isForeldrepengerFørFødselUttaksperiode","varighetIDager","uker","dager","getUkerOgDagerFromDager","handleOnSubmit","getDagValue","uker2","dager2","Modal","nyUker","date","nyDager","periodenGjelderAnnenForelder","erUttakAvAnnenForeldersKvote","getPeriodeType","periodenGjelder","starterTidsperiodeInnenforToUkerFørFødselTilSeksUkerEtterFødsel","PeriodeUttakForm","handleUpdatePeriode","toggleIsOpen","handleDeletePeriode","setNyPeriodeFormIsVisible","handleAddPeriode","isNyPeriode","setPerioderErGyldige","tidsperiodeIsOpen","setTidsperiodeIsOpen","useState","periodeIsValid","setPeriodeIsValid","previousState","getIsValidStateForPerioder","handleCleanup","getVelgbareStønadskontotyper","startDatoPeriodeRundtFødselFarMedmor","sluttDatoPeriodeRundtFødselFarMedmor","setFieldValue","isValid","søkerOppgirAnnenForeldersPeriode","values2","formaterDatoKompakt","ActionLink","getSlettPeriodeTekst","PeriodeUtsettelseFormField","PeriodeUtsettelseFormComponents","getFormStateFraVedlegg","gjelderMorsAktivitet","getPeriodeUtsettelseFormInitialValues","isUtsettelsePgaArbeid","getVedleggFraFormState","morsAktivitetIPeriodenDokumentasjon","mapPeriodeUtsettelseFormToPeriode","cleanupPeriodeUtsettelseFormData","UtsettelseÅrsakType","PeriodeUtsettelseFormConfig","søkerErFarEllerMedmorOgKunDeHarRett","periodeUtsettelseFormQuestionsConfig","getUtsettelseÅrsakOptions","periodenErKunHelligdager","skalViseGamleUtsettelseÅrsaker","tidsperiodenErInnenforFørsteSeksUker","option","getUtsettelseårsakSkjemanummer","årsak","showAttachmentUploader","getAttachmentUploaderLabel","getAttachmentUploaderType","UtsettelseÅrsakSpørsmål","utsettelseårsak","årsakOptions","UtsettelseEndreTidsperiodeSpørsmål","PeriodeUtsettelseForm","førsteOktober2021ReglerGjelder","antallHelligdager","antallUttaksdager","NyPeriode","isUtsettelse","nesteLedigeUttaksdato","setPeriode","Heading","IconBox","color","stripes","ArbeidIkon","title","rest","FerieIkon","SykdomIkon","TerminIkon","UttakIkon","UttaksplanIkonKeys","UttaksplanIkonKeys2","UttaksplanIkon","InformationSquareIcon","ExclamationmarkTriangleFillIcon","XMarkOctagonFillIcon","UttaksplanColor","getForelderFarge","getStønadskontoFarge","forIkon","harMidlertidigOmsorg","getUtsettelseFarge","StønadskontoIkon","gradert","getIkonForKonto","UtsettelseIkon","UttaksplanAdvarselIkon","farge","getAlertStripeTypeFromMessageType","message","getIkonForVeilederMelding","melding","renderAlert","skjulMeldingIkon","content","Alert","VeilederMelding","getPeriodeIkon","isUtsettelseAnnenPart","getVarighetString","antallDager","format","dagerStr","ukerStr","renderDagMnd","visÅr","d","måned3bokstaver","måned","år","PeriodelisteItemHeader","annenForelderSamtidigUttakPeriode","varighetString","erFpFørTerminUtenUttak","annenForelderIsMor","annenForelderNavn","beskrivelseSamtidigUttak","isUttakAnnenPart","getForelderNavn","getValidTidsperiode","getPeriodeTittel","classNames","PeriodeHull","kunHelligdager","kunUttaksdager","onLeggInnNyPeriode","leggInnNyUtsettelse","nyeRegler","getUtsettelseTekst","foreldernavn","erMor","PeriodeInfo","getOppholdskontoNavn","PeriodeUtenUttak","onLeggTilNyPeriode","PeriodeFørFødselFormField","PeriodeFørFødselFormComponents","PeriodeFørFødselFormConfig","skalIkkeHaUttakFørTermin","periodeFørFødselFormQuestionsConfig","getPeriodeFørFødselFormInitialValues","sisteUttaksagFørFødsel","førsteUttaksdag3UkerFørFødsel","mapPeriodeFørFødselFormToPeriode","PeriodeFørFødselForm","_visibility","SlettbarAvslåttPeriode","onSlettPeriode","VeilederMeldinger","meldinger","renderPeriodeListeInnhold","isAvslåttPeriode","isSlettbarAvslåttPeriode","PeriodelisteItem","egenPeriode","periodeErGyldig","isInfoPeriode","toggleFocusAndOpen","headerButton","Accordion","m","HjerteIkon","fylt","getTekst","barn","isAdoptertBarn","formaterDatoUtenDag","isFødtBarn","FamiliehendelsedatoDisplay","getIndexOfFørstePeriodeEtterFødsel","p","getIndexOfSistePeriodeFørDato","Periodeliste","meldingerPerPeriode","barnFraNesteSak","perioderErGyldige","openPeriodeId","setOpenPeriodeId","indexOfFørstePeriodeEtterFødsel","erAllePerioderIPlanenFørFødsel","indexOfSistePeriodeFørNyStøndasperiodeNyttBarn","periodeMedValidState","periodeMedState","getAnnenForelderSamtidigUttakPeriode","Planlegger","setSlettUttaksplanModalOpen","setResetUttaksplanModalOpen","nyPeriodeFormIsVisible","setIsUtsettelse","Periodene","annenForelderErOppgitMenHarIkkeRett","InfoBlock","Kontostatus","uttak","kontoErOvertrukket","Kontostatus$1","injectIntl","TilesList","columns","child","isMorsPeriode","isFarsPeriode","isFellesperiodeKvote","isMorsKvote","isFarMedmorsKvote","summerBrukteUttaksdager","u","getBrukteDagerForForelder","tilgjengeligeStønadskontoer","perioder","perioderFørTermin","perioderEtterTermin","førTermin","beregnBrukteUttaksdager","etterTermin","alle","dagerTotalt","isMor","dagerEgneKvoter","dagerOverført","dagerFellesperiode","getBrukteDager","perioderMedUttak","getAllePerioderMedUttaksinfoFraUttaksplan","getUttaksstatus","harKomplettUttaksplan","gjelderDagerBrukt","beregnGjenståendeUttaksdager","kontouttak","filtrerBortAnnenPartsKonto","uttakskontoer","OversiktPerForelder","brukteDagerPerForelder","foreldreparSituasjon","svgInfo","getSituasjonForelderSvg","Personkort","ForelderIkon","OversiktPerKvote","uttaksstatus","uttakÅVise","OversiktKvoter","annenForelderHarRettINorge","rolle","isFarEllerMedmor","inneholderUttaksplanPerioderTest","grunnlag","isPeriodeUtenUttak","isHull","ANTALL_UTTAKSDAGER_SEKS_UKER","getInformasjonOmTaptUttakVedUttakEtterSeksUkerFarMedmor","søkerErFarEllerMedmorOgAnnenForelderKanIkkeOppgis","søkerErFarEllerMedmorOgErAleneOmOmsorgen","førstePeriode","førsteRegistrerteUttaksdag","getUgyldigUttakMor","flerbarnsFødsel","førsteUttaksdagEtterÅtteUker","ugyldigUttakRegelFørsteDato","ugyldigUttakRegelSisteDato","ugyldigPeriode","erPeriodeFørDato","ugyldigeUtsettelser","gradertePerioder","flernbarnsPerioder","fellesPerioder","samtidigUttaksperioder","unntakFarFørsteSeksUker","erFarsUttakFørsteSeksUkerGyldig","unntak","getUgyldigUttakFørsteSeksUkerForFarMedmor","farsPerioderInnenforSeksFørsteUker","ugyldigeUttak","ugyldigeOverføringer","utsettelse","harMorSøktUgyldigUttakFørsteSeksUkerTest","ugyldigePerioder","stønadskontoInneholderForMyeUttakKunSøkerTest","søkerErAleneOmOmsorg","stønadskontoerMedForMyeUttak","harFarMedmorSøktUgyldigUttakEllerUtsettelseFørsteSeksUkerTest","wlbReglerGjelder","erPeriodeInnvilget","erUttaksplanBareOppholdTest","uttaksplanErBareOpphold","slutterUttaksplanMedOppholdTest","uttaksplanSlutterMedOpphold","starterUttaksplanMedOppholdTest","uttaksplanStarterMedOpphold","uttaksplanGraderingStørreEnnSamtidigUttak","erUttaksplanGraderingStørreEnnSamtidigUttakTest","tilleggsopplysningerMaxLength","maxLengthIsGreaterThanOrEqualToStringLength","maxLength","tilleggsopplysningerErGyldig","begrunnelse","erTilleggsopplysningerGyldigTest","begrunnelseForSenEndring","begrunnelseTekst","harTilleggsopplysningerGyldigeCharsTest","tekst","validateTextHasLegalChars","getIllegalChars","harUttaksplanForMangeFlerbarnsdagerTest","inneholderUttaksplanDatoSomIkkeErUttaksdag","erUttaksdag","createMissingAttachment","periodeId","isAttachmentMissing","attachments","shouldPeriodeHaveAttachment","dokumentasjonBehøvesForOverføringsperiode","dokumentasjonBehøvesForUtsettelsesperiode","dokumentasjonBehøvesForUttaksperiode","hasPeriodeMissingAttachment","søknadsinfo","InnsendingsType","findMissingAttachmentsForPerioder","missingAttachments","missingAttachmentForAktivitetskrav","harMorAktivitetskrav","erÅrsakSykdomEllerInstitusjonsopphold","ønskerFlerBarnsdager","harPerioderManglendeVedleggTest","manglendeVedlegg","førsteUttaksEllerUttsettelsesPeriode","sorterPerioder","regelTekst","passerer","inneholderSenUtsettelsePgaFerieTest","seneUtsettelsePgaFerie","erSenUtsettelsePgaFerieEllerArbeid","inneholderTapteDagerTest","infoOmTaptUttakVedUttakEtterSeksUkerFarMedmor","planInneholderTapteDager","planInneholderAnnetEnnAktivitetsfriKvote","inneholderBareUtsettelserTest","isOverskrivbarPeriode","intlKey","formaterDato","inneholderSenUtsettelsePgaArbeidTest","seneUtsettelserPgaArbeid","overskriverEndringerAnnenPartsPerioder","eksisterendeUttaksplan","fornavnAnnenForelder","perioderSomOverlapper","perioderSomOverlapperUtenSamtidigUttak","_intl","overlapperPeriodeAndrePerioder","perioderUtenUttakAnnenPart","perioderSomHarOverlapp","getPeriodeForelderNavn","RegelAlvorlighet","getRegelIntlKey","regel","intlRegelPrefix","alvorlighetSortOrder","sorterAvvik","a1","a2","ensureRegelAvvikIntlKey","info","overstyresAvFilter","avvik","_idx","alleAvvik","b2","overstyrerAndreFilter","rb","rbo","regelHarAvvik","mapInfoToRegelAvvik","i","regelAvvik","isArray","regelPasserer","getRegelAvvik","resultat","flatten","r","isRegelFeil","hasRegelFeil","trimRelaterteRegelAvvik","grupperAvvik","uniqBy","getRegelIntlValues","newValues","key","valueOrFunc","hasValueRule","failText","getStillingsprosentRegler","stillingsprosentIsMoreThan0","samtidigUttakProsentIsMax100","stillingsprosentIsLessThan100","gradertUttaksperiodeErUgyldig","erGyldig","samtidigUttaksperiodeErUgyldig","harUttaksperiodeGyldigGradering","runValidators","validators","inputName","results","validator","valid","tests","allValidatorsPass","erUtfyltTest","erUttaksdagTest","slutterInnenforGyldigPermisjonsperiode","starterInnenforGyldigAntallUkerFørTermin","getUttakTidsperiodeValidatorer","skalIkkeHaUttak","uttakTidsperiodeErGyldig","uttaksperiode","fraDatoErGyldig","tilDatoErGyldig","getUtsettelseTidsperiodeValidatorer","utsettelseTidsperiodeErGyldig","utsettelesperiode","harPeriodeGyldigTidsperiode","perioderMedUgyldigTidsperiode","harUttaksperiodeStønadskonto","uttaksperioderUtenStønadskonto","erSamtidigUttakGyldig","erUtsettelseEtterFamiliehendelsesdato","starterUttaksperiodeRundtFødselEtter2UkerFørFødsel","gjelderWLBReglerFarMedmorRundtFødsel","perioderFarMedmorSomStarterFør2UkerFørFødsel","isUttaksperiodeFarMedmorMedValgForUttakRundtFødsel","starterTidsperiodeEtter2UkerFørFødsel","førsteUttaksdagToUkerFørFødsel","slutterUttaksperiodeRundtFødselInnen6UkerEtterFødsel","perioderFarMedmorSomIkkeSlutterFør6UkerEtterFødsel","slutterTidsperiodeInnen6UkerEtterFødsel","sisteUttaksdagSeksUkerEtterFødsel","periodeDeFørsteSeksUkeneHarUlovligUttakBFHR","perioderDeFørsteSeksUkeneMedUlovligUttakBFHR","harBekreftet100ProsentArbeidIUtsettelsePgaArbeid","utsettelserPgaArbeidUtenBekreftelse","laTilPeriodeEtterFørsteStønadsdagPåfølgendeBarn","førsteUttaksdagForPåfølgendeBarn","forSenUttakVedPåfølgendeBarn","skjulIOppsummering","periodevalideringsregler","harSøktOmFerieUtenArbeidsforhold","isUtsettelsePgaFerie","inneholderForMyeFerie","ferieUtsettelser","ferieDager","sumFerieDager","Perioden","kanIkkeSlutteMedUtsettelseDersomStønadsdagerErTomme","gjenståendeDager","sistePeriodeErIkkeUtsettelse","resterendeFellesperiode","resterendeMødrekvote","resterendeFedrekvote","resterendeForeldrepenger","erUttaksmengdeForFarMedmorForHøy","farEllerMedmor","erUttaksmengdeForFarMedmorForHøyTest","vekslendeArbeidOgUttakTest","kunSøkersPerioder","firstArbeidsperiodeIndex","antallPerioderEtterFørsteUtsettelseGrunnetArbeid","vekslendePeriodeUtenUttakOgUttakTest","firstPeriodeUtenUttakIndex","antallPerioderEtterFørstePeriodeUtenUttak","burdeKanskjeSøkeGraderingTest","vekslerArbeidOgUttakTest","veklserPerioderUtenUttakOgUttaktest","infoTekstKey","ferieEllerArbeidInnenforDeFørsteÅtteUkeneEtterTermindatoTest","isUfødtBarn","inneholderPerioderUtenAktivitetskrav","søkersituasjon","perioderUtenAktivitetskrav","inneholderUtsettelserUtenÅrsak","utsettelserUtenÅrsak","overskridelseUttakRundtFødselAntallDager","perioderRundtFødsel","sisteUttak6UkerEtterFødsel","perioderAvkortetTilÅSlutte6UkerEtterFødsel","getSumUttaksdagerÅTrekkeIPeriodene","ANTALL_UTTAKSDAGER_FAR_MEDMOR_RUNDT_FØDSEL","farMedmorHarSøktUgyldigAntallDagerUttakRundtFødselTest","perioderUttakRundtFødsel","getFarMedmorUttakRundtFødsel","antallDagerForMye","slutterEnAvPeriodeneForSent","fraDato","tilDato","harMorSøktMindreEnn100ProsentSamtidigUttakDeFørsteSeksUkerTest","sisteUttaksdagEtterSeksUker","farMedMorHarRettPåUttakRundtFødselTest","tattUtForMangeDagerIPlanen","dagerIgjenRundtFødsel","førsteUttaksdag2UkerFørFødsel","antallUttaksdagerRundtFødsel","erMerEnn3månederSidenFamiliehendelse","farMedmorHarRettPåForeldrepengerUtenAktivitetskravTest","kontoUtenAktivitetskravUker","testPasserer","renderAsHtml","link","antallUkerPåÅTaUtDager","inneholderUttaksperioderMedUbesvartGradering","perioderMedUbesvartGradering","inneholderUttaksperiodeMedUbservartSpmOmFlerbarnsdagerTest","uttaksperioder","perioderMedUbesvartSpmOmFlerbarnsdager","farMedmorHarRettPåFlerbarnsdagerTest","overstigerMinsterettVedToTette","minsterettUkerToTette","perioderEtterFørsteStønadsperiodeNyttBarn","perioderFørFørsteStønadsperiodeNyttBarn","minsterettMaxAntallUker","minsterettMaxAntallDager","brukteDagerPerForelderFørFørsteStønadsdagNyttBarn","uttaksdagerFremTilNyttBarnStønadsdag","dagerIgjenÅBrukePåMinsteretten","brukteDagerPerForelderEtterFørsteStønadsdagNyttBarn","uttaksdagerEtterNyttBarnStønadsdag","dagerIgjenAvMinsterett","harPerioderEtterFørsteStønadsdagNesteBarnDerToTette","tekstKey","uttaksplanValideringRegler","uttaksplanRegler","familiehendelsesDato","REGEL_INTL_PREFIX","sjekkUttaksplanOppMotRegler","valideringsgrunnlag","validerUttaksplan","avvikPerPeriode","groupBy","harFeil","VeilederInfo","messages","ariaTittel","mapAvvikTilMessage","tittelIntlKey","harTittel","intlHasKey","getUttaksplanVeilederinfo","getPeriodelisteMeldinger","veilederinfo","FUNC_ERROR_TEXT","NAN","symbolTag","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","freeGlobal","global","freeSelf","root","objectProto","objectToString","nativeMax","nativeMin","now","debounce","func","wait","options","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","toNumber","invokeFunc","time","args","thisArg","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","shouldInvoke","trailingEdge","cancel","flush","debounced","isInvoking","throttle","isObjectLike","isSymbol","other","isBinary","lodash_throttle","getLabel","OppgiTilleggsopplysninger","__publicField","Textarea","BodyLong","OppgiTilleggsopplysninger$1","SlettUttaksplanModal","onClose","handleSlettUttaksplanModalBekreft","innhold1Id","innhold2Id","slettPeriode","slettetPeriode","harAktivitetskravIPeriodeUtenUttak","erAdopsjon","førsteUttaksdagNesteBarnsSak","res","getPeriodeHullEllerPeriodeUtenUttak","oppdaterPeriode","endretPeriode","originalPeriode","annenPartsUttak","perioderSlettetEndretPeriode","slåSammenLikePerioder","leggTilPeriode","leggTilPeriodeOgBuild","bevegeligePerioder","fastePerioder","nyPeriode","nyePerioder","fastPeriode","finnOgSettInnHull","settInnAnnenPartsUttak","oppdaterPeriodeOgBuild","oppdatertePerioder","fjernUnødvendigeHull","slettPeriodeOgBuild","getFastePerioder","starterUttaksperiodeFørFødsel","getBevegeligePerioder","isInfoPeriodeAnnenPart","getAnnenPartsUttak","Uttaksplanbuilder","opprinneligPlan","perioderUtenAnnenPart","nyAnnenPartsUttak","nyFastePerioder","nyBevegeligePerioder","ResetUttaksplanModal","handleResetUttaksplanModalBekreft","getHarAktivitetskravIPeriodeUtenUttak","uttaksplanInneholderPerioderUtenKonto","Uttaksplan","foreldreSituasjon","handleOnPlanChange","tilleggsopplysninger","eksisterendeSak","perioderSomSkalSendesInn","setUttaksplanErGyldig","handleBegrunnelseChange","handleSlettUttaksplan","handleResetUttaksplan","familiehendelsesdatoNesteSak","familiehendelsesdatoDate","slettUttaksplanModalOpen","resetUttaksplanModalOpen","uttaksplanUtenAnnenPartsSamtidigUttak","isAnnenPartInfoPeriode","toTetteReglerGjelder","getToTetteReglerGjelder","builder","oppdatertPeriode","familiehendelsesdato2","farMedmorsTidsperiodeSkalSplittesPåFamiliehendelsesdato","splittUttaksperiodePåFamiliehendelsesdato","tidperiodeOverlapperDato","splittPeriodePåDato","vedleggForSenEndring","årsakTilSenEndring","getSeneEndringerSomKreverBegrunnelse","handleBegrunnelseTekstChange","uttaksplanValidering","handleSlettUttaksplanModalClose","handleResetUttaksplanModalClose","uttaksplanVeilederInfo","SenEndringÅrsak"],"mappings":"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","x_google_ignoreList":[6,145]}