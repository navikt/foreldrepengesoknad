import{d as o,p as L,aa as H,ab as Z,I as B,C as A,W as F,Q as G,U as R}from"./dates-83aa686a.js";import{c as Y,g as T}from"./index-1cdf6ce0.js";import"./jsx-runtime-1caa8f64.js";import{a as W,P as E,f as C,b as Q,c as N}from"./Perioden-2b8e5e5b.js";import"./index-753920cd.js";import"./_baseToString-2517c4f7.js";import"./_createSet-019d3bf6.js";var b={exports:{}};(function(e,t){(function(v,f){e.exports=f()})(Y,function(){var v={year:0,month:1,day:2,hour:3,minute:4,second:5},f={};return function(S,m,i){var r,D=function(s,g,u){u===void 0&&(u={});var n=new Date(s),h=function(p,l){l===void 0&&(l={});var z=l.timeZoneName||"short",w=p+"|"+z,x=f[w];return x||(x=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:p,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:z}),f[w]=x),x}(g,u);return h.formatToParts(n)},a=function(s,g){for(var u=D(s,g),n=[],h=0;h<u.length;h+=1){var p=u[h],l=p.type,z=p.value,w=v[l];w>=0&&(n[w]=parseInt(z,10))}var x=n[3],M=x===24?0:x,$=n[0]+"-"+n[1]+"-"+n[2]+" "+M+":"+n[4]+":"+n[5]+":000",k=+s;return(i.utc($).valueOf()-(k-=k%1e3))/6e4},c=m.prototype;c.tz=function(s,g){s===void 0&&(s=r);var u=this.utcOffset(),n=this.toDate(),h=n.toLocaleString("en-US",{timeZone:s}),p=Math.round((n-new Date(h))/1e3/60),l=i(h,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(15*-Math.round(n.getTimezoneOffset()/15)-p,!0);if(g){var z=l.utcOffset();l=l.add(u-z,"minute")}return l.$x.$timezone=s,l},c.offsetName=function(s){var g=this.$x.$timezone||i.tz.guess(),u=D(this.valueOf(),g,{timeZoneName:s}).find(function(n){return n.type.toLowerCase()==="timezonename"});return u&&u.value};var d=c.startOf;c.startOf=function(s,g){if(!this.$x||!this.$x.$timezone)return d.call(this,s,g);var u=i(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return d.call(u,s,g).tz(this.$x.$timezone,!0)},i.tz=function(s,g,u){var n=u&&g,h=u||g||r,p=a(+i(),h);if(typeof s!="string")return i(s).tz(h);var l=function(M,$,k){var y=M-60*$*1e3,O=a(y,k);if($===O)return[y,$];var U=a(y-=60*(O-$)*1e3,k);return O===U?[y,O]:[M-60*Math.min(O,U)*1e3,Math.max(O,U)]}(i.utc(s,n).valueOf(),p,h),z=l[0],w=l[1],x=i(z).utcOffset(w);return x.$x.$timezone=h,x},i.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},i.tz.setDefault=function(s){r=s}}})})(b);var V=b.exports;const X=T(V);var j={exports:{}};(function(e,t){(function(v,f){e.exports=f()})(Y,function(){return function(v,f){var S=f.prototype,m=S.format;S.format=function(i){var r=this,D=this.$locale();if(!this.isValid())return m.bind(this)(i);var a=this.$utils(),c=(i||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((r.$M+1)/3);case"Do":return D.ordinal(r.$D);case"gggg":return r.weekYear();case"GGGG":return r.isoWeekYear();case"wo":return D.ordinal(r.week(),"W");case"w":case"ww":return a.s(r.week(),d==="w"?1:2,"0");case"W":case"WW":return a.s(r.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return a.s(String(r.$H===0?24:r.$H),d==="k"?1:2,"0");case"X":return Math.floor(r.$d.getTime()/1e3);case"x":return r.$d.getTime();case"z":return"["+r.offsetName()+"]";case"zzz":return"["+r.offsetName("long")+"]";default:return d}});return m.bind(this)(c)}}})})(j);var q=j.exports;const J=T(q),K=e=>"morsSisteDag"in e;o.extend(L);o.extend(H);o.extend(Z);o.extend(X);o.extend(J);const ae=o().subtract(4,"year").startOf("day").toDate(),I=(e,t)=>!A(e)||!A(t)||!F(e)||!F(t)?!1:!!o(e).isBefore(t,"day"),ne=e=>[...e].sort((t,v)=>I(t.fødselsdato,v.fødselsdato)?1:-1)[e.length-1],fe=e=>[...e].sort((v,f)=>I(G(v),G(f))?-1:1),de=(e,t)=>e&&t?o(e).isSameOrAfter(t,"day"):!0,ue=e=>{if(e.length>0)return o.min(e.map(t=>o(t))).toDate()},me=(e,t,v)=>{if(v!==void 0)return v;if(t!==void 0)return t;if(e!==void 0)return e;throw new Error("Mangler fødselsdato/termindato/adopsjonsdato for barnet.")},ce=e=>{const t=new Date("2021-10-01");return o(e).isSameOrAfter(t,"day")&&o(new Date).isSameOrAfter(t,"day")},le=e=>{const t=new Date("2022-08-02");return o(e).isSameOrAfter(t,"day")&&o(new Date).isSameOrAfter(t,"day")},ve=(e,t)=>o(e).isAfter(R(t).neste(),"day"),ge=(e,t,v)=>{if(!v)return;const f=e===void 0?void 0:e.filter(r=>!W(r)),S=t.filter(r=>!W(r));let m,i;if(f)S.forEach((r,D)=>{if(m)return;const{fom:a}=r.tidsperiode,c=f.find(d=>o(d.tidsperiode.fom).isSame(a,"day"));if(c!==void 0){const d=E(r).erLik(c,!1,!0);(!d||d&&E(r).slutterEtter(c.tidsperiode.tom))&&(m=a)}if(c===void 0&&(m=a),c!==void 0&&S.length-1===D&&(E(r).erLik(c,!0,!0)||(m=a)),m&&C(r)&&o(m).isAfter(f[f.length-1].tidsperiode.tom)){const d=S.find(s=>(Q(s)||N(s))&&o(s.tidsperiode.fom).isAfter(m));m=d!==void 0?d.tidsperiode.fom:m}}),f.forEach(r=>{if(i)return;const{fom:D}=r.tidsperiode,a=S.find(c=>o(c.tidsperiode.fom).isSame(D,"day"));a!==void 0&&!E(r).erLik(a,!1,!0)&&(i=a.tidsperiode.fom),a===void 0&&(i=D)});else if(S.length>0)return S[0].tidsperiode.fom;return P(m,i)},P=(e,t)=>{if(!(e===void 0&&t===void 0))return e!==void 0&&t===void 0?e:e===void 0&&t!==void 0?t:o(e).isSameOrBefore(o(t))?e:t},he=e=>{if(e&&K(e))return B(e.morsSisteDag)};export{ne as a,he as b,ge as c,ae as d,ve as e,ce as f,me as g,le as h,I as i,ue as j,de as k,fe as s,X as t};
