{"version":3,"file":"UtenlandsoppholdSteg-561c6e63.js","sources":["../../src/app/steps/utenlandsopphold/UtenlandsoppholdSteg.tsx"],"sourcesContent":["import { FormattedMessage, useIntl } from 'react-intl';\nimport { Heading } from '@navikt/ds-react';\nimport { UtenlandsoppholdPanel } from '@navikt/fp-utenlandsopphold';\nimport { Utenlandsopphold } from '@navikt/fp-types';\nimport { ContentWrapper } from '@navikt/fp-ui';\nimport useFortsettSøknadSenere from 'app/utils/hooks/useFortsettSøknadSenere';\nimport SøknadRoutes from 'app/routes/routes';\nimport createConfig, { getPreviousStepHref } from '../stepsConfig';\nimport { ContextDataType, useContextGetData, useContextSaveData } from 'app/context/FpDataContext';\n\nconst utledNesteSide = (values: Utenlandsopphold) => {\n    if (values.harBoddUtenforNorgeSiste12Mnd) {\n        return SøknadRoutes.TIDLIGERE_UTENLANDSOPPHOLD;\n    } else if (values.skalBoUtenforNorgeNeste12Mnd) {\n        return SøknadRoutes.SENERE_UTENLANDSOPPHOLD;\n    }\n    return SøknadRoutes.INNTEKTSINFORMASJON;\n};\n\ntype Props = {\n    mellomlagreSøknadOgNaviger: () => Promise<void>;\n    avbrytSøknad: () => void;\n};\n\nconst UtenlandsoppholdSteg: React.FunctionComponent<Props> = ({ mellomlagreSøknadOgNaviger, avbrytSøknad }) => {\n    const intl = useIntl();\n    const onFortsettSøknadSenere = useFortsettSøknadSenere();\n\n    const utenlandsopphold = useContextGetData(ContextDataType.UTENLANDSOPPHOLD);\n    const oppdaterUtenlandsopphold = useContextSaveData(ContextDataType.UTENLANDSOPPHOLD);\n    const oppdaterAppRoute = useContextSaveData(ContextDataType.APP_ROUTE);\n\n    const save = (values: Utenlandsopphold) => {\n        oppdaterUtenlandsopphold({\n            iNorgeSiste12Mnd: !values.harBoddUtenforNorgeSiste12Mnd,\n            iNorgeNeste12Mnd: !values.skalBoUtenforNorgeNeste12Mnd,\n        });\n\n        const nesteSide = utledNesteSide(values);\n        oppdaterAppRoute(nesteSide);\n\n        return mellomlagreSøknadOgNaviger();\n    };\n\n    const goToPreviousStep = () => {\n        const appRoute = getPreviousStepHref('utenlandsopphold');\n        oppdaterAppRoute(appRoute);\n        mellomlagreSøknadOgNaviger();\n    };\n    const saveOnPrevious = () => {\n        // TODO (TOR) Lagre uvalidert data i framtida\n    };\n\n    const stepConfig = createConfig(intl, false).map((config) => ({\n        ...config,\n        isSelected: config.id === 'utenlandsopphold',\n    }));\n\n    return (\n        <ContentWrapper>\n            <Heading size=\"large\">\n                <FormattedMessage id=\"søknad.pageheading\" />\n            </Heading>\n            <UtenlandsoppholdPanel\n                utenlandsopphold={\n                    utenlandsopphold\n                        ? {\n                              harBoddUtenforNorgeSiste12Mnd: !utenlandsopphold.iNorgeSiste12Mnd,\n                              skalBoUtenforNorgeNeste12Mnd: !utenlandsopphold.iNorgeNeste12Mnd,\n                          }\n                        : undefined\n                }\n                saveOnNext={save}\n                saveOnPrevious={saveOnPrevious}\n                cancelApplication={avbrytSøknad}\n                onContinueLater={onFortsettSøknadSenere}\n                goToPreviousStep={goToPreviousStep}\n                stepConfig={stepConfig}\n                stønadstype=\"Foreldrepenger\"\n                supportsTempSaving\n            />\n        </ContentWrapper>\n    );\n};\n\nexport default UtenlandsoppholdSteg;\n"],"names":["utledNesteSide","values","SøknadRoutes","UtenlandsoppholdSteg","mellomlagreSøknadOgNaviger","avbrytSøknad","intl","useIntl","onFortsettSøknadSenere","useFortsettSøknadSenere","utenlandsopphold","useContextGetData","ContextDataType","oppdaterUtenlandsopphold","useContextSaveData","oppdaterAppRoute","save","nesteSide","goToPreviousStep","appRoute","getPreviousStepHref","saveOnPrevious","stepConfig","createConfig","config","jsxs","ContentWrapper","jsx","Heading","FormattedMessage","UtenlandsoppholdPanel","UtenlandsoppholdSteg$1"],"mappings":"ydAUA,MAAAA,EAAAC,GACIA,EAAA,8BACIC,EAAA,2BAAoBD,EAAA,6BAEpBC,EAAA,wBAEJA,EAAA,oBAQJC,EAAA,CAAA,CAAA,2BAAAC,EAAA,aAAAC,KAAA,CACI,MAAAC,EAAAC,IACAC,EAAAC,IAEAC,EAAAC,EAAAC,EAAA,gBAAA,EACAC,EAAAC,EAAAF,EAAA,gBAAA,EACAG,EAAAD,EAAAF,EAAA,SAAA,EAEAI,EAAAf,GAAA,CACIY,EAAA,CAAyB,iBAAA,CAAAZ,EAAA,8BACK,iBAAA,CAAAA,EAAA,4BACA,CAAA,EAG9B,MAAAgB,EAAAjB,EAAAC,CAAA,EACA,OAAAc,EAAAE,CAAA,EAEAb,EAAA,CAAkC,EAGtCc,EAAA,IAAA,CACI,MAAAC,EAAAC,EAAA,kBAAA,EACAL,EAAAI,CAAA,EACAf,GAA2B,EAE/BiB,EAAA,IAAA,CAA6B,EAI7BC,EAAAC,EAAAjB,EAAA,EAAA,EAAA,IAAAkB,IAAA,CAA8D,GAAAA,EACvD,WAAAA,EAAA,KAAA,kBACuB,EAAA,EAG9B,OAAAC,EAAA,KAAAC,EAAA,CAAA,SAAA,CAEQC,EAAAA,IAAAC,EAAA,CAAA,KAAA,QAAA,SAAAD,MAAAE,EAAA,CAAA,GAAA,oBAAA,CAAA,CAAA,CAAA,EAEAF,EAAA,IACAG,EAAC,CAAA,iBAAApB,EAAA,CAGa,8BAAA,CAAAA,EAAA,iBACqD,6BAAA,CAAAA,EAAA,gBACD,EAAA,OAEpD,WAAAM,EAEE,eAAAK,EACZ,kBAAAhB,EACmB,gBAAAG,EACF,iBAAAU,EACjB,WAAAI,EACA,YAAA,iBACY,mBAAA,EACM,CAAA,CACtB,CAAA,CAAA,CAGZ,EAEAS,EAAA5B"}