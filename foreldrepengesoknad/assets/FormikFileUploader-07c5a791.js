import{j as t}from"./jsx-runtime-d079401a.js";import{r as A}from"./index-f1f2c4b1.js";import{b as o,j as d,u as F,_ as V,c as f,$ as j,a0 as K,a1 as h,a2 as k,i as m}from"./Tidsperioden-a9e7c25c.js";import"./index-d741deb4.js";import"./_baseToString-375081cd.js";import"./_createSet-53ab95fd.js";import{g as y,E as G}from"./apiInterceptor-d706a9c9.js";import{A as M}from"./AttachmentList-904f5358.js";import{U,u as B,V as P,l as b}from"./IntlProvider-62abaa56.js";import"./dates-fbe5e71c.js";import{E as I}from"./ExpansionCard-3ff8adbb.js";import{L as C,B as q}from"./Link-13f307fd.js";var z=(e=>(e.OMSORGSOVERTAKELSE="omsorgsovertakelse",e.ADOPSJONSVEDTAK="adopsjonsvedtak",e.TERMINBEKREFTELSE="terminbekreftelse",e.FØDSELSATTEST="fødselsattest",e.ANNEN_INNTEKT="anneninntektDokumentasjon",e.UTSETTELSE_SYKDOM="utsettelseSykdomUttaksplan",e.MORS_AKTIVITET_DOKUMENTASJON="morsaktivitetdokumentasjon",e.OVERFØRING_KVOTE="dokumentasjonOverføringAvKvote",e.ALENEOMSORG="dokumentasjonAvAleneomsorg",e.SEN_ENDRING="senEndring",e.HV_ØVELSE="hvØvelse",e.NAV_TILTAK="navTiltak",e))(z||{}),Y=(e=>(e.ANNET="I000060",e.BEKREFTELSE_DELTAR_KVALIFISERINGSPROGRAM="I000051",e.BEKREFTELSE_FRA_STUDIESTED="I000061",e.DOKUMENTASJON_AV_TERMIN_ELLER_FØDSEL="I000041",e.DOK_AV_ALENEOMSORG="I000110",e.DOK_BEGRUNNELSE_SØKE_TILBAKE_I_TID="I000111",e.DOK_DELTAKELSE_I_INTRODUKSJONSPROGRAMMET="I000112",e.DOK_INNLEGGELSE="I000037",e.DOK_MILITÆR_SILVIL_TJENESTE="I000039",e.DOK_MORS_UTDANNING_ARBEID_SYKDOM="I000038",e.DOK_OVERFØRING_FOR_SYK="I000023",e.ETTERLØNN_ELLER_SLUTTVEDERLAG="I000044",e.INNTEKTSOPPLYSNINGER_FRILANS_ELLER_SELVSTENDIG="I000007",e.OMSORGSOVERTAKELSESDATO="I000042",e.TERMINBEKREFTELSE="I000062",e.HV_ØVELSE="I000116",e.NAV_TILTAK="I000117",e))(Y||{});const w=()=>t.jsx(U,{children:t.jsxs(I,{size:"small","aria-label":B().formatMessage({id:"ScanDocumentInfo.Tittel"}),children:[t.jsx(I.Header,{children:t.jsx(I.Title,{size:"small",as:"h4",children:t.jsx(o,{id:"ScanDocumentInfo.Tittel"})})}),t.jsx(I.Content,{children:t.jsxs(P,{gap:"5",children:[t.jsx(d,{children:t.jsx(o,{id:"ScanDocumentInfo.Del1"})}),t.jsxs("ul",{children:[t.jsx(d,{children:t.jsx(o,{tagName:"li",id:"ScanDocumentInfo.Liste.Punkt1"})}),t.jsx(d,{children:t.jsx(o,{tagName:"li",id:"ScanDocumentInfo.Liste.Punkt2"})}),t.jsx(d,{children:t.jsx(o,{tagName:"li",id:"ScanDocumentInfo.Liste.Punkt3"})}),t.jsx(d,{children:t.jsx(o,{tagName:"li",id:"ScanDocumentInfo.Liste.Punkt4"})}),t.jsx(d,{children:t.jsx(o,{tagName:"li",id:"ScanDocumentInfo.Liste.Punkt5"})})]}),t.jsx(d,{children:t.jsx(o,{id:"ScanDocumentInfo.Del2"})}),t.jsx(d,{children:t.jsx(C,{href:b.scanneDokument,target:"_blank",children:t.jsx(o,{id:"ScanDocumentInfo.Link"})})})]})})]})});function J(e){const n={withCredentials:!0,timeout:45e3,headers:{"content-type":"multipart/form-data"}},a=new FormData;a.append("id",e.id),a.append("vedlegg",e.file,e.filename);const s=`${G.REST_API_URL}/storage/foreldrepenger/vedlegg`;return y().post(s,a,n)}const $={saveAttachment:J},N=[".pdf",".jpeg",".jpg",".png"],g=16777,H=.0009765625,X=(e,n,a)=>e.map(s=>{const i=k(s,n,a);return i.pending=!0,i}),W=e=>{const n=e.split(".").pop();return N.includes(`.${n.toLowerCase()}`)},Q=e=>e*H<=g,Z=(e,n,a)=>e.filter(s=>{const i=W(s.filename);i||n(l=>l.concat(m(a,"vedlegg.feilmelding.ugyldig.type",{filename:s.filename})));const u=Q(s.filesize);return u||n(l=>l.concat(m(a,"vedlegg.feilmelding.ugyldig.størrelse",{filename:s.filename,maxStørrelse:g}))),i&&u}),ee=(e,n,a,s,i,u)=>{e.forEach(async(l,E)=>{try{const c=await $.saveAttachment(l);l.pending=!1,l.url=c.headers.location,l.uploaded=!0,l.uuid=c.data,n(i+E,l)}catch{a(i+E),s(p=>p.concat(m(u,"vedlegg.feilmelding.opplasting.feilet",{filename:l.filename})))}})},_=({attachments:e,name:n,onFileInputClick:a,attachmentType:s,skjemanummer:i,label:u,legend:l,...E})=>{const c=F(),{setFieldValue:p}=V(),[S,v]=A.useState([]);return t.jsxs(t.Fragment,{children:[t.jsx(f,{padBottom:"xl",children:t.jsx(j,{legend:l,buttonLabel:u,name:n,accept:N.join(", "),onFilesSelect:(r,{push:T,replace:D,remove:x})=>{const R=X(r,s,i),L=Z(R,v,c);L.forEach(O=>T(O)),ee(L,D,x,v,e.length,c)},onClick:a,error:S.length>0?S.map(r=>t.jsx(q,{children:r},r)):void 0,...E})}),t.jsx(f,{padBottom:"xl",visible:e.length>0,children:t.jsx(M,{attachments:e.filter(r=>!K(r)),showFileSize:!0,onDelete:r=>{p(n,h(e,r))}})}),t.jsx(f,{padBottom:"l",children:t.jsx(w,{})})]})},Ie=_;try{_.displayName="FormikFileUploader",_.__docgenInfo={description:"",displayName:"FormikFileUploader",props:{attachments:{defaultValue:null,description:"",name:"attachments",required:!0,type:{name:"Attachment[]"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"any"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},attachmentType:{defaultValue:null,description:"",name:"attachmentType",required:!0,type:{name:"enum",value:[{value:'"omsorgsovertakelse"'},{value:'"adopsjonsvedtak"'},{value:'"terminbekreftelse"'},{value:'"fødselsattest"'},{value:'"anneninntektDokumentasjon"'},{value:'"utsettelseSykdomUttaksplan"'},{value:'"morsaktivitetdokumentasjon"'},{value:'"dokumentasjonOverføringAvKvote"'},{value:'"dokumentasjonAvAleneomsorg"'},{value:'"senEndring"'},{value:'"hvØvelse"'},{value:'"navTiltak"'}]}},skjemanummer:{defaultValue:null,description:"",name:"skjemanummer",required:!0,type:{name:"enum",value:[{value:'"I000060"'},{value:'"I000051"'},{value:'"I000061"'},{value:'"I000041"'},{value:'"I000110"'},{value:'"I000111"'},{value:'"I000112"'},{value:'"I000037"'},{value:'"I000039"'},{value:'"I000038"'},{value:'"I000023"'},{value:'"I000044"'},{value:'"I000007"'},{value:'"I000042"'},{value:'"I000062"'},{value:'"I000116"'},{value:'"I000117"'}]}},legend:{defaultValue:null,description:"",name:"legend",required:!0,type:{name:"string"}},onFileInputClick:{defaultValue:null,description:"",name:"onFileInputClick",required:!1,type:{name:"(() => void)"}}}}}catch{}export{z as A,Ie as F,Y as S,$ as a};
