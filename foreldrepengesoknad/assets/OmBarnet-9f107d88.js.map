{"version":3,"file":"OmBarnet-9f107d88.js","sources":["../../src/app/steps/om-barnet/omBarnetFormConfig.ts","../../src/app/steps/om-barnet/validation/omBarnetValidering.ts","../../src/app/steps/om-barnet/components/AdopsjonAnnetBarn.tsx","../../src/app/steps/om-barnet/components/AdopsjonEktefellesBarn.tsx","../../src/app/steps/om-barnet/components/BarnFødtEllerAdoptert.tsx","../../src/app/steps/om-barnet/components/Fødsel.tsx","../../src/app/steps/om-barnet/omBarnetQuestionsConfig.ts","../../src/app/steps/om-barnet/components/Termin.tsx","../../src/app/steps/om-barnet/omBarnetUtils.ts","../../src/app/steps/om-barnet/components/ValgteRegistrerteBarn.tsx","../../src/app/steps/om-barnet/OmBarnet.tsx"],"sourcesContent":["import { YesOrNo, getTypedFormComponents } from '@navikt/sif-common-formik-ds/lib';\nimport { Attachment } from 'app/types/Attachment';\n\nexport enum OmBarnetFormField {\n    erBarnetFødt = 'erBarnetFødt',\n    adopsjonAvEktefellesBarn = 'adopsjonAvEktefellesBarn',\n    antallBarn = 'antallBarn',\n    antallBarnSelect = 'antallBarnSelect',\n    adopsjonsdato = 'adopsjonsdato',\n    søkerAdopsjonAlene = 'søkerAdopsjonAlene',\n    adoptertIUtlandet = 'adoptertIUtlandet',\n    fødselsdatoer = 'fødselsdatoer',\n    termindato = 'termindato',\n    omsorgsovertakelse = 'omsorgsovertakelse',\n    terminbekreftelse = 'terminbekreftelse',\n    terminbekreftelsedato = 'terminbekreftelsedato',\n    ankomstdato = 'ankomstdato',\n}\n\nexport interface OmBarnetFormData {\n    [OmBarnetFormField.erBarnetFødt]: YesOrNo;\n    [OmBarnetFormField.adopsjonAvEktefellesBarn]: YesOrNo;\n    [OmBarnetFormField.antallBarn]: string;\n    [OmBarnetFormField.antallBarnSelect]: string;\n    [OmBarnetFormField.adopsjonsdato]: string;\n    [OmBarnetFormField.fødselsdatoer]: string[];\n    [OmBarnetFormField.omsorgsovertakelse]: Attachment[];\n    [OmBarnetFormField.termindato]: string;\n    [OmBarnetFormField.terminbekreftelse]: Attachment[];\n    [OmBarnetFormField.terminbekreftelsedato]: string;\n    [OmBarnetFormField.adoptertIUtlandet]: YesOrNo;\n    [OmBarnetFormField.ankomstdato]: string;\n}\n\nexport const OmBarnetFormComponents = getTypedFormComponents<OmBarnetFormField, OmBarnetFormData>();\n","import {\n    barnetErUnder15årPåAdopsjonsdato,\n    erIUke22Pluss3,\n    erMindreEnn3UkerSiden,\n    etterDagensDato,\n    hasValue,\n    intlUtils,\n} from '@navikt/fp-common';\nimport dayjs from 'dayjs';\nimport { IntlShape } from 'react-intl';\nimport isSameOrAfter from 'dayjs/plugin/isSameOrAfter';\nimport isSameOrBefore from 'dayjs/plugin/isSameOrBefore';\nimport { isDateABeforeDateB } from 'app/utils/dateUtils';\nimport { isISODateString } from '@navikt/ds-datepicker';\n\ndayjs.extend(isSameOrAfter);\ndayjs.extend(isSameOrBefore);\n\nexport const validateFødselsdato = (intl: IntlShape) => (fødselsdato: string) => {\n    if (!hasValue(fødselsdato)) {\n        return intlUtils(intl, 'valideringsfeil.omBarnet.fødselsdato.duMåOppgi');\n    }\n\n    if (!isISODateString(fødselsdato)) {\n        return intlUtils(intl, 'valideringsfeil.omBarnet.fødselsdato.ugyldigDatoFormat');\n    }\n\n    if (etterDagensDato(fødselsdato)) {\n        return intlUtils(intl, 'valideringsfeil.omBarnet.fødselsdato.måVæreIdagEllerTidligere');\n    }\n\n    if (dayjs(fødselsdato).isBefore(dayjs(new Date()).subtract(3, 'years').subtract(4, 'months'), 'day')) {\n        return intlUtils(intl, 'valideringsfeil.omBarnet.fødselsdato.ikkeMerEnn3År3MndTilbake');\n    }\n\n    return undefined;\n};\n\nexport const validateFødselsdatoAdopsjon = (intl: IntlShape) => (fødselsdato: string, adopsjonsdato: string) => {\n    if (!hasValue(fødselsdato)) {\n        return intlUtils(intl, 'valideringsfeil.omBarnet.fødselsdato.duMåOppgi');\n    }\n\n    if (!isISODateString(fødselsdato)) {\n        return intlUtils(intl, 'valideringsfeil.omBarnet.fødselsdato.ugyldigDatoFormat');\n    }\n\n    if (etterDagensDato(fødselsdato)) {\n        return intlUtils(intl, 'valideringsfeil.omBarnet.fødselsdato.måVæreIdagEllerTidligere');\n    }\n\n    if (isDateABeforeDateB(adopsjonsdato, fødselsdato)) {\n        return intlUtils(intl, 'valideringsfeil.omBarnet.fødselsdato.måVæreFørAdopsjonsdato');\n    }\n\n    if (!barnetErUnder15årPåAdopsjonsdato(fødselsdato, adopsjonsdato)) {\n        return intlUtils(intl, 'valideringsfeil.omBarnet.fødselsdato.ikkeMerEnn15År3MndTilbake');\n    }\n\n    return undefined;\n};\n\nexport const validateTermindato = (intl: IntlShape) => (termindato: string) => {\n    if (!hasValue(termindato)) {\n        return intlUtils(intl, 'valideringsfeil.omBarnet.termindato.duMåOppgi');\n    }\n\n    if (!isISODateString(termindato)) {\n        return intlUtils(intl, 'valideringsfeil.omBarnet.termindato.ugyldigDatoFormat');\n    }\n\n    if (!erMindreEnn3UkerSiden(termindato)) {\n        return intlUtils(intl, 'valideringsfeil.omBarnet.termindato.forTidlig');\n    }\n\n    if (!erIUke22Pluss3(termindato)) {\n        return intlUtils(intl, 'valideringsfeil.omBarnet.termindato.duMåVæreIUke22');\n    }\n\n    return undefined;\n};\n\nexport const validateTermindatoFødsel = (fødselsdato: string, intl: IntlShape) => (termindato: string) => {\n    if (!hasValue(termindato)) {\n        return intlUtils(intl, 'valideringsfeil.omBarnet.termindato.duMåOppgi');\n    }\n\n    if (!isISODateString(termindato)) {\n        return intlUtils(intl, 'valideringsfeil.omBarnet.termindato.ugyldigDatoFormat');\n    }\n\n    if (!dayjs(termindato).subtract(6, 'months').isSameOrBefore(dayjs(fødselsdato), 'day')) {\n        return intlUtils(intl, 'valideringsfeil.omBarnet.termindato.forLangtFremITid');\n    }\n    if (!dayjs(termindato).add(1, 'months').isSameOrAfter(dayjs(fødselsdato), 'day')) {\n        return intlUtils(intl, 'valideringsfeil.omBarnet.termindato.forLangtTilbakeITid');\n    }\n\n    return undefined;\n};\n\nexport const validateAdopsjonsdato = (intl: IntlShape) => (adopsjonsdato: string) => {\n    if (!hasValue(adopsjonsdato)) {\n        return intlUtils(intl, 'valideringsfeil.omBarnet.adopsjonsdato.duMåOppgi');\n    }\n\n    if (!isISODateString(adopsjonsdato)) {\n        return intlUtils(intl, 'valideringsfeil.omBarnet.adopsjonsdato.ugyldigDatoFormat');\n    }\n\n    return undefined;\n};\n\nexport const validateAnkomstdato = (intl: IntlShape) => (ankomstdato: string, fødselsdato: string) => {\n    if (!hasValue(ankomstdato)) {\n        return intlUtils(intl, 'valideringsfeil.omBarnet.ankomstDato.duMåOppgi');\n    }\n\n    if (!isISODateString(ankomstdato)) {\n        return intlUtils(intl, 'valideringsfeil.omBarnet.ankomstDato.ugyldigDatoFormat');\n    }\n\n    if (fødselsdato !== undefined && !dayjs(fødselsdato).isSameOrBefore(ankomstdato, 'day')) {\n        return intlUtils(intl, 'valideringsfeil.omBarnet.ankomstDato.førFødselsdato');\n    }\n\n    return undefined;\n};\n\nexport const validateTerminbekreftelse = (intl: IntlShape) => (terminbekreftelseDato: string) => {\n    if (!hasValue(terminbekreftelseDato)) {\n        return intlUtils(intl, 'valideringsfeil.omBarnet.terminbekreftelseDato.duMåOppgi');\n    }\n\n    if (!isISODateString(terminbekreftelseDato)) {\n        return intlUtils(intl, 'valideringsfeil.omBarnet.terminbekreftelseDato.ugyldigDatoFormat');\n    }\n\n    if (dayjs().isBefore(dayjs(terminbekreftelseDato))) {\n        return intlUtils(intl, 'valideringsfeil.omBarnet.terminbekreftelseDato.kanIkkeVæreFremITid');\n    }\n\n    return undefined;\n};\n","import { Block, guid, intlUtils } from '@navikt/fp-common';\nimport { QuestionVisibility } from '@navikt/sif-common-question-config/lib';\nimport FormikFileUploader from 'app/components/formik-file-uploader/FormikFileUploader';\nimport Søkersituasjon from 'app/context/types/Søkersituasjon';\nimport { AttachmentType } from 'app/types/AttachmentType';\nimport { Skjemanummer } from 'app/types/Skjemanummer';\nimport { ISOStringToDate } from 'app/utils/dateUtils';\nimport dayjs from 'dayjs';\nimport { FieldArray } from 'formik';\nimport { FunctionComponent } from 'react';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { OmBarnetFormComponents, OmBarnetFormData, OmBarnetFormField } from '../omBarnetFormConfig';\nimport {\n    validateAdopsjonsdato,\n    validateAnkomstdato,\n    validateFødselsdatoAdopsjon,\n} from '../validation/omBarnetValidering';\nimport { YesOrNo } from '@navikt/sif-common-formik-ds/lib';\nimport { GuidePanel } from '@navikt/ds-react';\n\ninterface Props {\n    søkersituasjon: Søkersituasjon;\n    formValues: OmBarnetFormData;\n    visibility: QuestionVisibility<OmBarnetFormField, undefined>;\n    søknadGjelderEtNyttBarn: boolean;\n}\n\nconst AdopsjonAnnetBarn: FunctionComponent<Props> = ({\n    søkersituasjon,\n    formValues,\n    visibility,\n    søknadGjelderEtNyttBarn,\n}) => {\n    const intl = useIntl();\n\n    if (søkersituasjon.situasjon === 'fødsel' || formValues.adopsjonAvEktefellesBarn !== YesOrNo.NO) {\n        return null;\n    }\n\n    return (\n        <>\n            <Block padBottom=\"xl\">\n                <OmBarnetFormComponents.DatePicker\n                    label={intlUtils(intl, 'omBarnet.adopsjonsdato.annetBarn')}\n                    name={OmBarnetFormField.adopsjonsdato}\n                    validate={validateAdopsjonsdato(intl)}\n                    placeholder={'dd.mm.åååå'}\n                />\n            </Block>\n            <Block padBottom=\"xl\" visible={visibility.isVisible(OmBarnetFormField.antallBarn)}>\n                <OmBarnetFormComponents.RadioGroup\n                    name={OmBarnetFormField.antallBarn}\n                    radios={[\n                        {\n                            label: intlUtils(intl, 'omBarnet.radiobutton.ettBarn'),\n                            value: '1',\n                        },\n                        {\n                            label: intlUtils(intl, 'omBarnet.radiobutton.toBarn'),\n                            value: '2',\n                        },\n                        {\n                            label: intlUtils(intl, 'omBarnet.radiobutton.flere'),\n                            value: '3',\n                        },\n                    ]}\n                    legend={intlUtils(intl, 'omBarnet.antallBarn.adopsjon.født')}\n                />\n            </Block>\n            <Block\n                padBottom=\"xl\"\n                visible={\n                    formValues.antallBarn !== undefined &&\n                    søknadGjelderEtNyttBarn &&\n                    parseInt(formValues.antallBarn, 10) >= 3\n                }\n            >\n                <OmBarnetFormComponents.Select label=\"Antall barn\" name={OmBarnetFormField.antallBarnSelect}>\n                    <option value=\"\" />\n                    <option value=\"3\">3</option>\n                    <option value=\"4\">4</option>\n                    <option value=\"5\">5</option>\n                    <option value=\"6\">6</option>\n                    <option value=\"7\">7</option>\n                    <option value=\"8\">8</option>\n                    <option value=\"9\">9</option>\n                </OmBarnetFormComponents.Select>\n            </Block>\n            <Block padBottom=\"xl\" visible={visibility.isVisible(OmBarnetFormField.fødselsdatoer)}>\n                <FieldArray\n                    name={OmBarnetFormField.fødselsdatoer}\n                    render={() =>\n                        [...Array(parseInt(formValues.antallBarn!, 10))].map((_, index) => {\n                            return (\n                                <Block key={guid()} padBottom=\"xl\">\n                                    <OmBarnetFormComponents.DatePicker\n                                        name={\n                                            `${OmBarnetFormField.fødselsdatoer}.${index}` as unknown as OmBarnetFormField\n                                        }\n                                        label={\n                                            formValues.antallBarn === '1'\n                                                ? intlUtils(intl, 'omBarnet.fødselsdato')\n                                                : intlUtils(intl, `omBarnet.fødselsdato.adopsjon.${index + 1}`)\n                                        }\n                                        minDate={dayjs(formValues.adopsjonsdato).subtract(15, 'years').toDate()}\n                                        maxDate={ISOStringToDate(formValues.adopsjonsdato)}\n                                        validate={(value) =>\n                                            validateFødselsdatoAdopsjon(intl)(value, formValues.adopsjonsdato)\n                                        }\n                                        placeholder={'dd.mm.åååå'}\n                                        showYearSelector={true}\n                                    />\n                                </Block>\n                            );\n                        })\n                    }\n                />\n            </Block>\n            <Block padBottom=\"xl\" visible={visibility.isVisible(OmBarnetFormField.adoptertIUtlandet)}>\n                <OmBarnetFormComponents.YesOrNoQuestion\n                    name={OmBarnetFormField.adoptertIUtlandet}\n                    legend={intlUtils(intl, 'omBarnet.adopteresFraUtlandet')}\n                />\n            </Block>\n            <Block padBottom=\"xl\" visible={visibility.isVisible(OmBarnetFormField.ankomstdato)}>\n                <OmBarnetFormComponents.DatePicker\n                    name={OmBarnetFormField.ankomstdato}\n                    label={intlUtils(intl, 'omBarnet.ankomstDato')}\n                    minDate={dayjs(formValues.fødselsdatoer[0]).toDate()}\n                    maxDate={dayjs().add(6, 'months').toDate()}\n                    validate={(value) => validateAnkomstdato(intl)(value, formValues.fødselsdatoer[0])}\n                    placeholder={'dd.mm.åååå'}\n                />\n            </Block>\n            <Block padBottom=\"xl\" visible={visibility.isVisible(OmBarnetFormField.omsorgsovertakelse)}>\n                <GuidePanel>\n                    <FormattedMessage id=\"omBarnet.veileder.omsorgsovertakelse\" />\n                </GuidePanel>\n            </Block>\n            <Block padBottom=\"xl\" visible={visibility.isVisible(OmBarnetFormField.omsorgsovertakelse)}>\n                <FormikFileUploader\n                    legend=\"Dokumentasjon om adopsjon\"\n                    label={intlUtils(intl, 'omBarnet.adopsjon.vedlegg')}\n                    name={OmBarnetFormField.omsorgsovertakelse}\n                    attachments={formValues.omsorgsovertakelse || []}\n                    attachmentType={AttachmentType.OMSORGSOVERTAKELSE}\n                    skjemanummer={Skjemanummer.OMSORGSOVERTAKELSESDATO}\n                />\n            </Block>\n        </>\n    );\n};\n\nexport default AdopsjonAnnetBarn;\n","import { Block, guid, intlUtils } from '@navikt/fp-common';\nimport { QuestionVisibility } from '@navikt/sif-common-question-config/lib';\nimport FormikFileUploader from 'app/components/formik-file-uploader/FormikFileUploader';\nimport Søkersituasjon from 'app/context/types/Søkersituasjon';\nimport { AttachmentType } from 'app/types/AttachmentType';\nimport { Skjemanummer } from 'app/types/Skjemanummer';\nimport { ISOStringToDate } from 'app/utils/dateUtils';\nimport dayjs from 'dayjs';\nimport { FieldArray } from 'formik';\nimport { FunctionComponent } from 'react';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { OmBarnetFormComponents, OmBarnetFormData, OmBarnetFormField } from '../omBarnetFormConfig';\nimport { validateAdopsjonsdato, validateFødselsdatoAdopsjon } from '../validation/omBarnetValidering';\nimport { YesOrNo } from '@navikt/sif-common-formik-ds/lib';\nimport { GuidePanel } from '@navikt/ds-react';\n\ninterface Props {\n    søkersituasjon: Søkersituasjon;\n    formValues: OmBarnetFormData;\n    visibility: QuestionVisibility<OmBarnetFormField, undefined>;\n    søknadGjelderEtNyttBarn: boolean;\n}\n\nconst AdopsjonEktefellesBarn: FunctionComponent<Props> = ({\n    søkersituasjon,\n    formValues,\n    visibility,\n    søknadGjelderEtNyttBarn,\n}) => {\n    const intl = useIntl();\n\n    if (søkersituasjon.situasjon === 'fødsel' || formValues.adopsjonAvEktefellesBarn !== YesOrNo.YES) {\n        return null;\n    }\n\n    return (\n        <>\n            <Block padBottom=\"xl\">\n                <OmBarnetFormComponents.DatePicker\n                    label={intlUtils(intl, 'omBarnet.adopsjonsdato.stebarn')}\n                    name={OmBarnetFormField.adopsjonsdato}\n                    validate={validateAdopsjonsdato(intl)}\n                    placeholder={'dd.mm.åååå'}\n                />\n            </Block>\n            <Block padBottom=\"xl\" visible={visibility.isVisible(OmBarnetFormField.antallBarn)}>\n                <OmBarnetFormComponents.RadioGroup\n                    name={OmBarnetFormField.antallBarn}\n                    radios={[\n                        {\n                            label: intlUtils(intl, 'omBarnet.radiobutton.ettBarn'),\n                            value: '1',\n                        },\n                        {\n                            label: intlUtils(intl, 'omBarnet.radiobutton.toBarn'),\n                            value: '2',\n                        },\n                        {\n                            label: intlUtils(intl, 'omBarnet.radiobutton.flere'),\n                            value: '3',\n                        },\n                    ]}\n                    legend={intlUtils(intl, 'omBarnet.antallBarn.adopsjon.født')}\n                />\n            </Block>\n            <Block\n                padBottom=\"xl\"\n                visible={\n                    formValues.antallBarn !== undefined &&\n                    søknadGjelderEtNyttBarn &&\n                    parseInt(formValues.antallBarn, 10) >= 3\n                }\n            >\n                <OmBarnetFormComponents.Select label=\"Antall barn\" name={OmBarnetFormField.antallBarnSelect}>\n                    <option value=\"\" />\n                    <option value=\"3\">3</option>\n                    <option value=\"4\">4</option>\n                    <option value=\"5\">5</option>\n                    <option value=\"6\">6</option>\n                    <option value=\"7\">7</option>\n                    <option value=\"8\">8</option>\n                    <option value=\"9\">9</option>\n                </OmBarnetFormComponents.Select>\n            </Block>\n            <Block padBottom=\"xl\" visible={visibility.isVisible(OmBarnetFormField.fødselsdatoer)}>\n                <FieldArray\n                    name={OmBarnetFormField.fødselsdatoer}\n                    render={() =>\n                        [...Array(parseInt(formValues.antallBarn!, 10))].map((_, index) => {\n                            return (\n                                <Block key={guid()} padBottom=\"xl\">\n                                    <OmBarnetFormComponents.DatePicker\n                                        name={\n                                            `${OmBarnetFormField.fødselsdatoer}.${index}` as unknown as OmBarnetFormField\n                                        }\n                                        label={\n                                            formValues.antallBarn === '1'\n                                                ? intlUtils(intl, 'omBarnet.fødselsdato')\n                                                : intlUtils(intl, `omBarnet.fødselsdato.adopsjon.${index + 1}`)\n                                        }\n                                        minDate={dayjs().subtract(6, 'month').toDate()}\n                                        maxDate={ISOStringToDate(formValues.adopsjonsdato)}\n                                        validate={(value) =>\n                                            validateFødselsdatoAdopsjon(intl)(value, formValues.adopsjonsdato)\n                                        }\n                                        placeholder={'dd.mm.åååå'}\n                                    />{' '}\n                                </Block>\n                            );\n                        })\n                    }\n                />\n            </Block>\n            <Block padBottom=\"xl\" visible={visibility.isVisible(OmBarnetFormField.omsorgsovertakelse)}>\n                <GuidePanel>\n                    <FormattedMessage id=\"omBarnet.veileder.omsorgsovertakelse\" />\n                </GuidePanel>\n            </Block>\n            <Block padBottom=\"xl\" visible={visibility.isVisible(OmBarnetFormField.omsorgsovertakelse)}>\n                <FormikFileUploader\n                    legend=\"Dokumentasjon om adopsjon\"\n                    label={intlUtils(intl, 'omBarnet.adopsjon.vedlegg')}\n                    name={OmBarnetFormField.omsorgsovertakelse}\n                    attachments={formValues.omsorgsovertakelse || []}\n                    attachmentType={AttachmentType.OMSORGSOVERTAKELSE}\n                    skjemanummer={Skjemanummer.OMSORGSOVERTAKELSESDATO}\n                />\n            </Block>\n        </>\n    );\n};\n\nexport default AdopsjonEktefellesBarn;\n","import { Block, intlUtils } from '@navikt/fp-common';\nimport { QuestionVisibility } from '@navikt/sif-common-question-config/lib';\nimport { FunctionComponent } from 'react';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { OmBarnetFormComponents, OmBarnetFormField } from '../omBarnetFormConfig';\nimport { ReadMore } from '@navikt/ds-react';\n\ninterface Props {\n    visibility: QuestionVisibility<OmBarnetFormField, undefined>;\n}\n\nconst BarnFødtEllerAdoptert: FunctionComponent<Props> = ({ visibility }) => {\n    const intl = useIntl();\n\n    return (\n        <>\n            <Block padBottom=\"xl\" visible={visibility.isVisible(OmBarnetFormField.adopsjonAvEktefellesBarn)}>\n                <OmBarnetFormComponents.YesOrNoQuestion\n                    name={OmBarnetFormField.adopsjonAvEktefellesBarn}\n                    legend={intlUtils(intl, 'omBarnet.adopsjonGjelder')}\n                />\n            </Block>\n            <Block padBottom=\"xl\" visible={visibility.isVisible(OmBarnetFormField.erBarnetFødt)}>\n                <OmBarnetFormComponents.YesOrNoQuestion\n                    name={OmBarnetFormField.erBarnetFødt}\n                    legend={intlUtils(intl, 'omBarnet.erBarnetFødt')}\n                />\n                <ReadMore header={intlUtils(intl, 'omBarnet.erBarnetFødt.readMore.header')}>\n                    <Block padBottom=\"m\">\n                        <FormattedMessage id=\"omBarnet.erBarnetFødt.readMore.innhold.del1\" />\n                    </Block>\n                    <FormattedMessage id=\"omBarnet.erBarnetFødt.readMore.innhold.del2\" />\n                </ReadMore>\n            </Block>\n        </>\n    );\n};\n\nexport default BarnFødtEllerAdoptert;\n","import { Block, intlUtils } from '@navikt/fp-common';\nimport { QuestionVisibility } from '@navikt/sif-common-question-config/lib';\nimport Søkersituasjon from 'app/context/types/Søkersituasjon';\nimport dayjs from 'dayjs';\nimport { FieldArray } from 'formik';\nimport { FunctionComponent } from 'react';\nimport { useIntl } from 'react-intl';\nimport { OmBarnetFormComponents, OmBarnetFormData, OmBarnetFormField } from '../omBarnetFormConfig';\nimport { validateFødselsdato, validateTermindatoFødsel } from '../validation/omBarnetValidering';\nimport { YesOrNo } from '@navikt/sif-common-formik-ds/lib';\n\ninterface Props {\n    søkersituasjon: Søkersituasjon;\n    formValues: OmBarnetFormData;\n    visibility: QuestionVisibility<OmBarnetFormField, undefined>;\n    søknadGjelderEtNyttBarn: boolean;\n    barnSøktOmFørMenIkkeRegistrert: boolean;\n}\n\nconst Fødsel: FunctionComponent<Props> = ({\n    søkersituasjon,\n    formValues,\n    visibility,\n    søknadGjelderEtNyttBarn,\n    barnSøktOmFørMenIkkeRegistrert,\n}) => {\n    const { erBarnetFødt, antallBarn, fødselsdatoer } = formValues;\n\n    const intl = useIntl();\n    const intlIdFødsel =\n        antallBarn !== undefined && parseInt(antallBarn, 10) > 1\n            ? 'omBarnet.fødselsdato.flereBarn'\n            : 'omBarnet.fødselsdato';\n\n    if (\n        søkersituasjon.situasjon === 'adopsjon' ||\n        erBarnetFødt !== YesOrNo.YES ||\n        (!søknadGjelderEtNyttBarn && !barnSøktOmFørMenIkkeRegistrert)\n    ) {\n        return null;\n    }\n\n    return (\n        <>\n            <Block padBottom=\"xl\" visible={visibility.isVisible(OmBarnetFormField.antallBarn)}>\n                <OmBarnetFormComponents.RadioGroup\n                    name={OmBarnetFormField.antallBarn}\n                    radios={[\n                        {\n                            label: intlUtils(intl, 'omBarnet.radiobutton.ettBarn'),\n                            value: '1',\n                        },\n                        {\n                            label: intlUtils(intl, 'omBarnet.radiobutton.tvillinger'),\n                            value: '2',\n                        },\n                        {\n                            label: intlUtils(intl, 'omBarnet.radiobutton.flere'),\n                            value: '3',\n                        },\n                    ]}\n                    legend={intlUtils(intl, 'omBarnet.antallBarn.født')}\n                />\n            </Block>\n            <Block\n                padBottom=\"xl\"\n                visible={antallBarn !== undefined && søknadGjelderEtNyttBarn && parseInt(antallBarn, 10) >= 3}\n            >\n                <OmBarnetFormComponents.Select label=\"Antall barn\" name={OmBarnetFormField.antallBarnSelect}>\n                    <option value=\"\" />\n                    <option value=\"3\">3</option>\n                    <option value=\"4\">4</option>\n                    <option value=\"5\">5</option>\n                    <option value=\"6\">6</option>\n                    <option value=\"7\">7</option>\n                    <option value=\"8\">8</option>\n                    <option value=\"9\">9</option>\n                </OmBarnetFormComponents.Select>\n            </Block>\n            <Block padBottom=\"xl\" visible={visibility.isVisible(OmBarnetFormField.fødselsdatoer)}>\n                <FieldArray\n                    name={OmBarnetFormField.fødselsdatoer}\n                    render={() => [\n                        <OmBarnetFormComponents.DatePicker\n                            key={`${OmBarnetFormField.fødselsdatoer}.0`}\n                            name={`${OmBarnetFormField.fødselsdatoer}.0` as OmBarnetFormField}\n                            label={intlUtils(intl, intlIdFødsel)}\n                            minDate={dayjs().subtract(3, 'years').toDate()}\n                            maxDate={dayjs().toDate()}\n                            validate={validateFødselsdato(intl)}\n                            placeholder={'dd.mm.åååå'}\n                        />,\n                    ]}\n                />\n            </Block>\n            <Block padBottom=\"l\" visible={visibility.isVisible(OmBarnetFormField.termindato)}>\n                <OmBarnetFormComponents.DatePicker\n                    name={OmBarnetFormField.termindato}\n                    label={intlUtils(intl, 'omBarnet.termindato.født')}\n                    minDate={dayjs(fødselsdatoer[0]).subtract(1, 'months').toDate()}\n                    maxDate={dayjs(fødselsdatoer[0]).add(6, 'months').toDate()}\n                    placeholder={'dd.mm.åååå'}\n                    validate={validateTermindatoFødsel(fødselsdatoer[0], intl)}\n                />\n            </Block>\n        </>\n    );\n};\n\nexport default Fødsel;\n","import { hasValue } from '@navikt/fp-common';\nimport { QuestionConfig, Questions } from '@navikt/sif-common-question-config/lib';\nimport Arbeidsforhold from 'app/types/Arbeidsforhold';\nimport { RegistrertBarn } from 'app/types/Person';\nimport { Situasjon } from 'app/types/Situasjon';\nimport { Søkerrolle } from 'app/types/Søkerrolle';\nimport {\n    andreAugust2022ReglerGjelder,\n    førsteOktober2021ReglerGjelder,\n    getEldsteRegistrerteBarn,\n    ISOStringToDate,\n} from 'app/utils/dateUtils';\nimport isFarEllerMedmor from 'app/utils/isFarEllerMedmor';\nimport dayjs from 'dayjs';\nimport { OmBarnetFormData, OmBarnetFormField } from './omBarnetFormConfig';\nimport { YesOrNo } from '@navikt/sif-common-formik-ds/lib';\n\nexport interface OmBarnetQuestionPayload extends OmBarnetFormData {\n    situasjon: Situasjon;\n    rolle: Søkerrolle;\n    arbeidsforhold: Arbeidsforhold[];\n    valgteRegistrerteBarn: RegistrertBarn[] | undefined;\n    søknadGjelderEtNyttBarn: boolean;\n}\n\nconst erDatoInnenforDeSiste12Ukene = (dato: Date) => {\n    const twelveWeeksAfterBirthday = dayjs(dato).add(12, 'weeks');\n    return dayjs(twelveWeeksAfterBirthday).isAfter(new Date(), 'day');\n};\n\nconst includeTermindato = (\n    rolle: Søkerrolle,\n    fødselsdato: string | undefined,\n    valgteRegistrerteBarn: RegistrertBarn[] | undefined,\n    situasjon: Situasjon\n): boolean => {\n    if (situasjon === 'adopsjon') {\n        return false;\n    }\n\n    let eldsteBarnFødselsdato = undefined;\n\n    if (valgteRegistrerteBarn !== undefined && valgteRegistrerteBarn.length > 0) {\n        const eldsteBarn = getEldsteRegistrerteBarn(valgteRegistrerteBarn);\n\n        eldsteBarnFødselsdato = eldsteBarn.fødselsdato;\n    }\n\n    if (!fødselsdato && !eldsteBarnFødselsdato) {\n        return false;\n    }\n\n    const relevantFødselsdato = eldsteBarnFødselsdato || ISOStringToDate(fødselsdato);\n\n    if (isFarEllerMedmor(rolle)) {\n        if (andreAugust2022ReglerGjelder(relevantFødselsdato!)) {\n            return true;\n        }\n        return erDatoInnenforDeSiste12Ukene(relevantFødselsdato!);\n    }\n    return true;\n};\n\nconst includeTerminbekreftelse = (\n    erBarnetFødt: YesOrNo,\n    arbeidsforhold: Arbeidsforhold[],\n    rolle: Søkerrolle,\n    termindato: string\n) => {\n    return erBarnetFødt === YesOrNo.NO && arbeidsforhold.length === 0 && kanSøkePåTermin(rolle, termindato);\n};\n\nconst includeAdoptertIUtlandet = (adopsjonAvEktefellesBarn: YesOrNo, omsorgsovertakelse: string) => {\n    return (\n        adopsjonAvEktefellesBarn === YesOrNo.NO &&\n        omsorgsovertakelse !== '' &&\n        !førsteOktober2021ReglerGjelder(ISOStringToDate(omsorgsovertakelse)!)\n    );\n};\n\nconst includeAnkomstDato = (adopsjonAvEktefellesBarn: YesOrNo, adopsjonsdato: string) => {\n    return adopsjonAvEktefellesBarn === YesOrNo.NO && includeAdoptertIUtlandet(adopsjonAvEktefellesBarn, adopsjonsdato);\n};\n\nexport const kanSøkePåTermin = (rolle: Søkerrolle, termindato: string): boolean => {\n    if (!isFarEllerMedmor(rolle)) {\n        return true;\n    }\n    return hasValue(termindato) ? andreAugust2022ReglerGjelder(new Date(termindato)) : false;\n};\n\nconst skalViseErBarnFødt = (situasjon: string, søknadGjelderEtNyttBarn: boolean): boolean => {\n    if (situasjon === 'fødsel') {\n        return søknadGjelderEtNyttBarn;\n    }\n\n    return false;\n};\n\nconst skalViseOmsorgsovertakelse = (\n    adopsjonsdato: string,\n    adopsjonAvEktefellesBarn: YesOrNo,\n    adoptertIUtlandet: YesOrNo,\n    ankomstdato: string,\n    søknadGjelderEtNyttBarn: boolean,\n    fødselsdatoer: string[] | undefined\n) => {\n    if (søknadGjelderEtNyttBarn) {\n        return (\n            (includeAdoptertIUtlandet(adopsjonAvEktefellesBarn, adopsjonsdato) &&\n                adoptertIUtlandet !== YesOrNo.UNANSWERED) ||\n            (!includeAdoptertIUtlandet(adopsjonAvEktefellesBarn, adopsjonsdato) &&\n                fødselsdatoer !== undefined &&\n                hasValue(fødselsdatoer[0])) ||\n            (adopsjonAvEktefellesBarn === YesOrNo.YES && fødselsdatoer !== undefined && hasValue(fødselsdatoer[0]))\n        );\n    } else {\n        return (\n            (adopsjonAvEktefellesBarn === YesOrNo.YES && hasValue(adopsjonsdato)) ||\n            (adopsjonAvEktefellesBarn === YesOrNo.NO &&\n                hasValue(adopsjonsdato) &&\n                !includeAdoptertIUtlandet(adopsjonAvEktefellesBarn, adopsjonsdato)) ||\n            (adopsjonAvEktefellesBarn === YesOrNo.NO &&\n                includeAdoptertIUtlandet(adopsjonAvEktefellesBarn, adopsjonsdato) &&\n                adoptertIUtlandet === YesOrNo.NO) ||\n            (adopsjonAvEktefellesBarn === YesOrNo.NO &&\n                includeAdoptertIUtlandet(adopsjonAvEktefellesBarn, adopsjonsdato) &&\n                adoptertIUtlandet === YesOrNo.YES &&\n                hasValue(ankomstdato))\n        );\n    }\n};\n\nconst OmBarnetFormConfig: QuestionConfig<OmBarnetQuestionPayload, OmBarnetFormField> = {\n    [OmBarnetFormField.adopsjonAvEktefellesBarn]: {\n        isIncluded: ({ situasjon }) => situasjon === 'adopsjon',\n        isAnswered: ({ adopsjonAvEktefellesBarn }) => adopsjonAvEktefellesBarn !== YesOrNo.UNANSWERED,\n        visibilityFilter: ({ situasjon }) => situasjon === 'adopsjon',\n    },\n    [OmBarnetFormField.erBarnetFødt]: {\n        isIncluded: ({ situasjon, søknadGjelderEtNyttBarn }) => søknadGjelderEtNyttBarn && situasjon === 'fødsel',\n        isAnswered: ({ erBarnetFødt }) => erBarnetFødt !== YesOrNo.UNANSWERED,\n        visibilityFilter: ({ situasjon, søknadGjelderEtNyttBarn }) =>\n            skalViseErBarnFødt(situasjon, søknadGjelderEtNyttBarn),\n    },\n    [OmBarnetFormField.antallBarn]: {\n        isIncluded: ({ søknadGjelderEtNyttBarn }) => søknadGjelderEtNyttBarn,\n        isAnswered: ({ antallBarn }) => hasValue(antallBarn),\n        visibilityFilter: ({ adopsjonAvEktefellesBarn, erBarnetFødt, adopsjonsdato }) =>\n            erBarnetFødt !== YesOrNo.UNANSWERED ||\n            (adopsjonAvEktefellesBarn !== YesOrNo.UNANSWERED && hasValue(adopsjonsdato)),\n    },\n    [OmBarnetFormField.antallBarnSelect]: {\n        isIncluded: ({ antallBarn, søknadGjelderEtNyttBarn }) =>\n            parseInt(antallBarn, 10) >= 3 && søknadGjelderEtNyttBarn,\n        isAnswered: ({ antallBarnSelect }) => hasValue(antallBarnSelect),\n        visibilityFilter: ({ adopsjonAvEktefellesBarn, erBarnetFødt, adopsjonsdato, antallBarn }) =>\n            parseInt(antallBarn, 10) >= 3 &&\n            (erBarnetFødt !== YesOrNo.UNANSWERED ||\n                (adopsjonAvEktefellesBarn !== YesOrNo.UNANSWERED && hasValue(adopsjonsdato))),\n    },\n    [OmBarnetFormField.adopsjonsdato]: {\n        isIncluded: ({ adopsjonAvEktefellesBarn }) => adopsjonAvEktefellesBarn !== YesOrNo.UNANSWERED,\n        isAnswered: ({ adopsjonsdato }) => hasValue(adopsjonsdato),\n        visibilityFilter: ({ adopsjonAvEktefellesBarn }) => adopsjonAvEktefellesBarn !== YesOrNo.UNANSWERED,\n    },\n    [OmBarnetFormField.fødselsdatoer]: {\n        isIncluded: ({ erBarnetFødt, adopsjonAvEktefellesBarn, søknadGjelderEtNyttBarn }) =>\n            søknadGjelderEtNyttBarn &&\n            (erBarnetFødt === YesOrNo.YES || adopsjonAvEktefellesBarn !== YesOrNo.UNANSWERED),\n        isAnswered: ({ fødselsdatoer }) => fødselsdatoer.length > 0 && hasValue(fødselsdatoer[0]),\n        visibilityFilter: ({ antallBarn }) => {\n            return hasValue(antallBarn);\n        },\n    },\n    [OmBarnetFormField.omsorgsovertakelse]: {\n        isIncluded: ({ adopsjonAvEktefellesBarn }) => adopsjonAvEktefellesBarn !== YesOrNo.UNANSWERED,\n        isAnswered: () => true,\n        visibilityFilter: ({\n            adopsjonsdato,\n            adopsjonAvEktefellesBarn,\n            ankomstdato,\n            adoptertIUtlandet,\n            søknadGjelderEtNyttBarn,\n            fødselsdatoer,\n        }) =>\n            skalViseOmsorgsovertakelse(\n                adopsjonsdato,\n                adopsjonAvEktefellesBarn,\n                adoptertIUtlandet,\n                ankomstdato,\n                søknadGjelderEtNyttBarn,\n                fødselsdatoer\n            ),\n    },\n    [OmBarnetFormField.termindato]: {\n        isIncluded: ({ rolle, fødselsdatoer, erBarnetFødt, situasjon, valgteRegistrerteBarn }) =>\n            includeTermindato(rolle, fødselsdatoer[0], valgteRegistrerteBarn, situasjon) || erBarnetFødt === YesOrNo.NO,\n        isAnswered: ({ termindato }) => hasValue(termindato),\n        visibilityFilter: ({ fødselsdatoer, erBarnetFødt, antallBarn, valgteRegistrerteBarn }) => {\n            return (\n                hasValue(fødselsdatoer[0]) ||\n                (erBarnetFødt === YesOrNo.NO && hasValue(antallBarn)) ||\n                (valgteRegistrerteBarn !== undefined && valgteRegistrerteBarn.length > 0)\n            );\n        },\n    },\n    [OmBarnetFormField.terminbekreftelse]: {\n        isIncluded: ({ erBarnetFødt, arbeidsforhold, rolle, termindato }) =>\n            includeTerminbekreftelse(erBarnetFødt, arbeidsforhold, rolle, termindato),\n        isAnswered: ({ terminbekreftelse }) => hasValue(terminbekreftelse),\n        visibilityFilter: ({ termindato }) => hasValue(termindato),\n    },\n    [OmBarnetFormField.terminbekreftelsedato]: {\n        isIncluded: ({ erBarnetFødt, arbeidsforhold, rolle, termindato }) =>\n            erBarnetFødt === YesOrNo.NO && arbeidsforhold.length === 0 && kanSøkePåTermin(rolle, termindato),\n        isAnswered: ({ terminbekreftelsedato }) => hasValue(terminbekreftelsedato),\n        visibilityFilter: ({ termindato }) => hasValue(termindato),\n    },\n    [OmBarnetFormField.adoptertIUtlandet]: {\n        isIncluded: ({ adopsjonAvEktefellesBarn, adopsjonsdato }) =>\n            includeAdoptertIUtlandet(adopsjonAvEktefellesBarn, adopsjonsdato),\n        isAnswered: ({ adoptertIUtlandet }) => adoptertIUtlandet !== YesOrNo.UNANSWERED,\n        visibilityFilter: ({ fødselsdatoer, søknadGjelderEtNyttBarn }) =>\n            (søknadGjelderEtNyttBarn && hasValue(fødselsdatoer[0])) || !søknadGjelderEtNyttBarn,\n    },\n    [OmBarnetFormField.ankomstdato]: {\n        isIncluded: ({ adopsjonAvEktefellesBarn, adopsjonsdato }) =>\n            includeAnkomstDato(adopsjonAvEktefellesBarn, adopsjonsdato),\n        isAnswered: ({ ankomstdato }) => hasValue(ankomstdato),\n        visibilityFilter: ({ adoptertIUtlandet }) => adoptertIUtlandet === YesOrNo.YES,\n    },\n};\n\nconst omBarnetQuestionsConfig = Questions<OmBarnetQuestionPayload, OmBarnetFormField>(OmBarnetFormConfig);\n\nexport default omBarnetQuestionsConfig;\n","import {\n    attenUkerTreDager,\n    date21DaysAgo,\n    Block,\n    dateToday,\n    hasValue,\n    intlUtils,\n    erIUke22Pluss3,\n} from '@navikt/fp-common';\nimport { QuestionVisibility } from '@navikt/sif-common-question-config/lib';\nimport FormikFileUploader from 'app/components/formik-file-uploader/FormikFileUploader';\nimport Søkersituasjon from 'app/context/types/Søkersituasjon';\nimport links from 'app/links/links';\nimport { AttachmentType } from 'app/types/AttachmentType';\nimport { Skjemanummer } from 'app/types/Skjemanummer';\nimport isFarEllerMedmor from 'app/utils/isFarEllerMedmor';\nimport { FunctionComponent } from 'react';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { OmBarnetFormComponents, OmBarnetFormData, OmBarnetFormField } from '../omBarnetFormConfig';\nimport { kanSøkePåTermin } from '../omBarnetQuestionsConfig';\nimport { validateTerminbekreftelse, validateTermindato } from '../validation/omBarnetValidering';\nimport { YesOrNo } from '@navikt/sif-common-formik-ds/lib';\nimport { Alert, BodyShort, GuidePanel, Heading, Link, ReadMore } from '@navikt/ds-react';\nimport { isISODateString } from '@navikt/ds-datepicker';\ninterface Props {\n    søkersituasjon: Søkersituasjon;\n    formValues: OmBarnetFormData;\n    visibility: QuestionVisibility<OmBarnetFormField, undefined>;\n    søknadGjelderEtNyttBarn: boolean;\n    setErForTidligTilÅSøkePåTermin: (val: boolean) => void;\n}\n\nconst Termin: FunctionComponent<Props> = ({\n    søkersituasjon,\n    visibility,\n    formValues,\n    søknadGjelderEtNyttBarn,\n    setErForTidligTilÅSøkePåTermin,\n}) => {\n    const intl = useIntl();\n\n    if (søkersituasjon.situasjon === 'adopsjon' || formValues.erBarnetFødt !== YesOrNo.NO || !søknadGjelderEtNyttBarn) {\n        return null;\n    }\n\n    const erForTidligTilÅSøkePåTermin =\n        hasValue(formValues.termindato) && isISODateString(formValues.termindato)\n            ? !erIUke22Pluss3(formValues.termindato)\n            : false;\n    setErForTidligTilÅSøkePåTermin(erForTidligTilÅSøkePåTermin);\n\n    const søkerErFarMedmor = isFarEllerMedmor(søkersituasjon.rolle);\n    const farMedMorSøkerPåTermin = søkerErFarMedmor && hasValue(formValues.termindato);\n    const intlSpørsmålAntallBarnId = søkerErFarMedmor ? 'omBarnet.antallBarn.termin.far' : 'omBarnet.antallBarn.termin';\n\n    const intlTerminbekreftelseId = søkerErFarMedmor\n        ? 'omBarnet.veileder.terminbekreftelse.far'\n        : 'omBarnet.veileder.terminbekreftelse';\n\n    return (\n        <>\n            <Block padBottom=\"xl\" visible={visibility.isVisible(OmBarnetFormField.antallBarn)}>\n                <OmBarnetFormComponents.RadioGroup\n                    name={OmBarnetFormField.antallBarn}\n                    radios={[\n                        {\n                            label: intlUtils(intl, 'omBarnet.radiobutton.ettBarn'),\n                            value: '1',\n                        },\n                        {\n                            label: intlUtils(intl, 'omBarnet.radiobutton.tvillinger'),\n                            value: '2',\n                        },\n                        {\n                            label: intlUtils(intl, 'omBarnet.radiobutton.flere'),\n                            value: '3',\n                        },\n                    ]}\n                    legend={intlUtils(intl, intlSpørsmålAntallBarnId)}\n                />\n            </Block>\n            <Block\n                padBottom=\"xl\"\n                visible={formValues.antallBarn !== undefined && parseInt(formValues.antallBarn, 10) >= 3}\n            >\n                <OmBarnetFormComponents.Select label=\"Antall barn\" name={OmBarnetFormField.antallBarnSelect}>\n                    <option value=\"\" />\n                    <option value=\"3\">3</option>\n                    <option value=\"4\">4</option>\n                    <option value=\"5\">5</option>\n                    <option value=\"6\">6</option>\n                    <option value=\"7\">7</option>\n                    <option value=\"8\">8</option>\n                    <option value=\"9\">9</option>\n                </OmBarnetFormComponents.Select>\n            </Block>\n            <Block padBottom=\"s\" visible={visibility.isVisible(OmBarnetFormField.termindato)}>\n                <OmBarnetFormComponents.DatePicker\n                    name={OmBarnetFormField.termindato}\n                    label={intlUtils(intl, 'omBarnet.termindato.termin')}\n                    placeholder={'dd.mm.åååå'}\n                    minDate={date21DaysAgo}\n                    maxDate={attenUkerTreDager}\n                    validate={validateTermindato(intl)}\n                />\n            </Block>\n            <Block padBottom=\"xl\" visible={visibility.isVisible(OmBarnetFormField.termindato)}>\n                <ReadMore header={intlUtils(intl, 'omBarnet.termindato.åpneLabel')}>\n                    <Block padBottom=\"m\">\n                        <FormattedMessage id=\"omBarnet.termindato.innhold.del1\" />\n                    </Block>\n                    <FormattedMessage id=\"omBarnet.termindato.innhold.del2\" />\n                </ReadMore>\n            </Block>\n\n            {farMedMorSøkerPåTermin && !kanSøkePåTermin(søkersituasjon.rolle, formValues.termindato) && (\n                <Block padBottom=\"xl\">\n                    <GuidePanel>\n                        <FormattedMessage\n                            id=\"omBarnet.veileder.medMorEllerFarTermin\"\n                            values={{\n                                lenke: (\n                                    <Link href={links.papirsøknad}>\n                                        <FormattedMessage id=\"omBarnet.papirsøknad.lenke\" />\n                                    </Link>\n                                ),\n                            }}\n                        />\n                    </GuidePanel>\n                </Block>\n            )}\n\n            <Block padBottom=\"xl\" visible={visibility.isVisible(OmBarnetFormField.terminbekreftelse)}>\n                <GuidePanel>\n                    <FormattedMessage id={intlTerminbekreftelseId} />\n                </GuidePanel>\n            </Block>\n            <Block padBottom=\"xl\" visible={visibility.isVisible(OmBarnetFormField.terminbekreftelse)}>\n                <FormikFileUploader\n                    legend=\"Dokumentasjon om terminbekreftelse\"\n                    label={intlUtils(intl, 'omBarnet.terminbekreftelse.lastOpp')}\n                    name={OmBarnetFormField.terminbekreftelse}\n                    attachments={formValues.terminbekreftelse || []}\n                    attachmentType={AttachmentType.TERMINBEKREFTELSE}\n                    skjemanummer={Skjemanummer.TERMINBEKREFTELSE}\n                />\n            </Block>\n            <Block padBottom=\"xl\" visible={visibility.isVisible(OmBarnetFormField.terminbekreftelsedato)}>\n                <OmBarnetFormComponents.DatePicker\n                    name={OmBarnetFormField.terminbekreftelsedato}\n                    label={intlUtils(intl, 'omBarnet.terminbekreftelseDato')}\n                    placeholder={'dd.mm.åååå'}\n                    validate={validateTerminbekreftelse(intl)}\n                    maxDate={dateToday}\n                />\n            </Block>\n            {erForTidligTilÅSøkePåTermin && (\n                <Block padBottom=\"xl\">\n                    <Alert variant=\"warning\">\n                        <Block padBottom=\"m\">\n                            <Heading level=\"3\" size=\"small\">\n                                <FormattedMessage id=\"omBarnet.termindato.erForTidligTilÅSøkePåTermin.heading\" />\n                            </Heading>\n                        </Block>\n                        <BodyShort>\n                            <FormattedMessage id=\"omBarnet.termindato.erForTidligTilÅSøkePåTermin.innhold\" />\n                        </BodyShort>\n                    </Alert>\n                </Block>\n            )}\n        </>\n    );\n};\n\nexport default Termin;\n","import { hasValue } from '@navikt/fp-common';\nimport { QuestionVisibility } from '@navikt/sif-common-question-config/lib';\nimport Barn, {\n    AdoptertBarn,\n    BarnType,\n    FødtBarn,\n    IkkeUtfyltTypeBarn,\n    isAdoptertAnnetBarn,\n    isAdoptertStebarn,\n    isFødtBarn,\n    isUfødtBarn,\n} from 'app/context/types/Barn';\nimport Arbeidsforhold from 'app/types/Arbeidsforhold';\nimport { AttachmentType } from 'app/types/AttachmentType';\nimport { Situasjon } from 'app/types/Situasjon';\nimport { Skjemanummer } from 'app/types/Skjemanummer';\nimport { ISOStringToDate } from 'app/utils/dateUtils';\nimport { convertBooleanOrUndefinedToYesOrNo, convertYesOrNoOrUndefinedToBoolean } from 'app/utils/formUtils';\nimport { lagSendSenereDokumentNårIngenAndreFinnes } from 'app/utils/vedleggUtils';\nimport { OmBarnetFormData, OmBarnetFormField } from './omBarnetFormConfig';\nimport { YesOrNo, dateToISOString } from '@navikt/sif-common-formik-ds/lib';\n\nconst getInitValues = (): Readonly<OmBarnetFormData> => ({\n    [OmBarnetFormField.erBarnetFødt]: YesOrNo.UNANSWERED,\n    [OmBarnetFormField.adopsjonAvEktefellesBarn]: YesOrNo.UNANSWERED,\n    [OmBarnetFormField.antallBarn]: '',\n    [OmBarnetFormField.antallBarnSelect]: '',\n    [OmBarnetFormField.adopsjonsdato]: '',\n    [OmBarnetFormField.fødselsdatoer]: [],\n    [OmBarnetFormField.omsorgsovertakelse]: [],\n    [OmBarnetFormField.termindato]: '',\n    [OmBarnetFormField.terminbekreftelse]: [],\n    [OmBarnetFormField.terminbekreftelsedato]: '',\n    [OmBarnetFormField.adoptertIUtlandet]: YesOrNo.UNANSWERED,\n    [OmBarnetFormField.ankomstdato]: '',\n});\n\nexport const cleanupOmBarnetFormData = (\n    values: OmBarnetFormData,\n    visibility: QuestionVisibility<OmBarnetFormField, undefined>\n): OmBarnetFormData => {\n    const cleanedData: OmBarnetFormData = {\n        erBarnetFødt: visibility.isVisible(OmBarnetFormField.erBarnetFødt) ? values.erBarnetFødt : YesOrNo.UNANSWERED,\n        adopsjonAvEktefellesBarn: visibility.isVisible(OmBarnetFormField.adopsjonAvEktefellesBarn)\n            ? values.adopsjonAvEktefellesBarn\n            : YesOrNo.UNANSWERED,\n        antallBarn: visibility.isVisible(OmBarnetFormField.antallBarn) ? values.antallBarn : '',\n        antallBarnSelect: visibility.isVisible(OmBarnetFormField.antallBarnSelect) ? values.antallBarnSelect : '',\n        adopsjonsdato: visibility.isVisible(OmBarnetFormField.adopsjonsdato) ? values.adopsjonsdato : '',\n        fødselsdatoer: visibility.isVisible(OmBarnetFormField.fødselsdatoer) ? values.fødselsdatoer : [],\n        omsorgsovertakelse: visibility.isVisible(OmBarnetFormField.omsorgsovertakelse) ? values.omsorgsovertakelse : [],\n        termindato: visibility.isVisible(OmBarnetFormField.termindato) ? values.termindato : '',\n        terminbekreftelse: visibility.isVisible(OmBarnetFormField.terminbekreftelse) ? values.terminbekreftelse : [],\n        terminbekreftelsedato: visibility.isVisible(OmBarnetFormField.terminbekreftelsedato)\n            ? values.terminbekreftelsedato\n            : '',\n        adoptertIUtlandet: visibility.isVisible(OmBarnetFormField.adoptertIUtlandet)\n            ? values.adoptertIUtlandet\n            : YesOrNo.UNANSWERED,\n        ankomstdato: visibility.isVisible(OmBarnetFormField.ankomstdato) ? values.ankomstdato : '',\n    };\n\n    return cleanedData;\n};\n\nexport const mapOmDetValgteBarnetFormDataToState = (\n    valgtRegistrertBarn: FødtBarn | AdoptertBarn | IkkeUtfyltTypeBarn,\n    situasjon: Situasjon,\n    values: Partial<OmBarnetFormData>,\n    barnSøktOmFørMenIkkeRegistrert: boolean\n): Barn => {\n    if (valgtRegistrertBarn !== undefined && situasjon === 'fødsel') {\n        return {\n            ...valgtRegistrertBarn,\n            type: barnSøktOmFørMenIkkeRegistrert ? BarnType.UFØDT : BarnType.FØDT,\n            termindato: hasValue(values.termindato) ? ISOStringToDate(values.termindato) : undefined,\n            fødselsdatoer: valgtRegistrertBarn.fødselsdatoer,\n            antallBarn: valgtRegistrertBarn.antallBarn,\n        } as Barn;\n    }\n\n    const omsorgsovertakelse = lagSendSenereDokumentNårIngenAndreFinnes(\n        values.omsorgsovertakelse!,\n        AttachmentType.OMSORGSOVERTAKELSE,\n        Skjemanummer.OMSORGSOVERTAKELSESDATO\n    );\n\n    if (values.adopsjonAvEktefellesBarn === YesOrNo.YES) {\n        return {\n            ...valgtRegistrertBarn,\n            type: BarnType.ADOPTERT_STEBARN,\n            adopsjonsdato: ISOStringToDate(values.adopsjonsdato)!,\n            omsorgsovertakelse,\n        };\n    }\n\n    return {\n        ...valgtRegistrertBarn,\n        type: BarnType.ADOPTERT_ANNET_BARN,\n        adopsjonsdato: ISOStringToDate(values.adopsjonsdato)!,\n        adoptertIUtlandet: convertYesOrNoOrUndefinedToBoolean(values.adoptertIUtlandet)!,\n        ankomstdato: values.adoptertIUtlandet === YesOrNo.YES ? ISOStringToDate(values.ankomstdato) : undefined,\n        omsorgsovertakelse,\n    };\n};\n\nexport const mapOmBarnetFormDataToState = (\n    values: Partial<OmBarnetFormData>,\n    arbeidsforhold: Arbeidsforhold[],\n    valgtRegistrertBarn: Barn | undefined,\n    situasjon: Situasjon,\n    barnSøktOmFørMenIkkeRegistrert: boolean\n): Barn => {\n    if (valgtRegistrertBarn !== undefined) {\n        return mapOmDetValgteBarnetFormDataToState(\n            valgtRegistrertBarn as FødtBarn | AdoptertBarn | IkkeUtfyltTypeBarn,\n            situasjon,\n            values,\n            barnSøktOmFørMenIkkeRegistrert\n        );\n    }\n    const antallBarn =\n        parseInt(values.antallBarn!, 10) < 3\n            ? parseInt(values.antallBarn!, 10)\n            : parseInt(values.antallBarnSelect!, 10);\n\n    if (values.erBarnetFødt === YesOrNo.YES) {\n        return {\n            type: BarnType.FØDT,\n            fødselsdatoer: values.fødselsdatoer!.map((fødselsdato) => ISOStringToDate(fødselsdato)!),\n            antallBarn,\n            termindato: hasValue(values.termindato) ? ISOStringToDate(values.termindato) : undefined,\n        };\n    }\n\n    if (values.erBarnetFødt === YesOrNo.NO) {\n        const terminbekreftelse = lagSendSenereDokumentNårIngenAndreFinnes(\n            values.terminbekreftelse!,\n            AttachmentType.TERMINBEKREFTELSE,\n            Skjemanummer.TERMINBEKREFTELSE\n        );\n\n        if (arbeidsforhold.length === 0) {\n            return {\n                type: BarnType.UFØDT,\n                terminbekreftelse: terminbekreftelse,\n                terminbekreftelsedato: ISOStringToDate(values.terminbekreftelsedato),\n                antallBarn,\n                termindato: ISOStringToDate(values.termindato)!,\n            };\n        }\n        return {\n            type: BarnType.UFØDT,\n            antallBarn,\n            termindato: ISOStringToDate(values.termindato)!,\n        };\n    }\n\n    const omsorgsovertakelse = lagSendSenereDokumentNårIngenAndreFinnes(\n        values.omsorgsovertakelse!,\n        AttachmentType.OMSORGSOVERTAKELSE,\n        Skjemanummer.OMSORGSOVERTAKELSESDATO\n    );\n\n    if (values.adopsjonAvEktefellesBarn === YesOrNo.YES) {\n        return {\n            type: BarnType.ADOPTERT_STEBARN,\n            adopsjonsdato: ISOStringToDate(values.adopsjonsdato)!,\n            antallBarn,\n            fødselsdatoer: values.fødselsdatoer!.map((fødselsdato) => ISOStringToDate(fødselsdato)!),\n            omsorgsovertakelse,\n        };\n    }\n\n    return {\n        type: BarnType.ADOPTERT_ANNET_BARN,\n        fødselsdatoer: values.fødselsdatoer!.map((fødselsdato) => ISOStringToDate(fødselsdato)!),\n        adopsjonsdato: ISOStringToDate(values.adopsjonsdato)!,\n        antallBarn,\n        adoptertIUtlandet: convertYesOrNoOrUndefinedToBoolean(values.adoptertIUtlandet)!,\n        ankomstdato: values.adoptertIUtlandet === YesOrNo.YES ? ISOStringToDate(values.ankomstdato) : undefined,\n        omsorgsovertakelse,\n    };\n};\n\nexport const getOmBarnetInitialValues = (barn: Barn, arbeidsforhold: Arbeidsforhold[]): OmBarnetFormData => {\n    const initialOmBarnetValues = getInitValues();\n\n    if (!barn) {\n        return initialOmBarnetValues;\n    }\n\n    const erFlereEnnToBarn = barn.antallBarn > 2;\n\n    if (isFødtBarn(barn)) {\n        return {\n            ...initialOmBarnetValues,\n            erBarnetFødt: YesOrNo.YES,\n            fødselsdatoer: barn.fødselsdatoer.map((fødselsdato) => dateToISOString(fødselsdato)),\n            termindato: dateToISOString(barn.termindato),\n            antallBarn: erFlereEnnToBarn ? '3' : barn.antallBarn.toString(),\n            antallBarnSelect: erFlereEnnToBarn ? barn.antallBarn.toString() : '',\n        };\n    }\n\n    if (isUfødtBarn(barn)) {\n        if (arbeidsforhold.length === 0) {\n            return {\n                ...initialOmBarnetValues,\n                erBarnetFødt: YesOrNo.NO,\n                terminbekreftelse: barn.terminbekreftelse || [],\n                terminbekreftelsedato: dateToISOString(barn.terminbekreftelsedato),\n                termindato: dateToISOString(barn.termindato),\n                antallBarn: erFlereEnnToBarn ? '3' : barn.antallBarn.toString(),\n                antallBarnSelect: erFlereEnnToBarn ? barn.antallBarn.toString() : '',\n            };\n        }\n\n        return {\n            ...initialOmBarnetValues,\n            erBarnetFødt: YesOrNo.NO,\n            termindato: dateToISOString(barn.termindato),\n            antallBarn: erFlereEnnToBarn ? '3' : barn.antallBarn.toString(),\n            antallBarnSelect: erFlereEnnToBarn ? barn.antallBarn.toString() : '',\n        };\n    }\n\n    if (isAdoptertAnnetBarn(barn)) {\n        return {\n            ...initialOmBarnetValues,\n            adopsjonAvEktefellesBarn: YesOrNo.NO,\n            fødselsdatoer: barn.fødselsdatoer.map((fødselsdato) => dateToISOString(fødselsdato)),\n            adopsjonsdato: dateToISOString(barn.adopsjonsdato),\n            antallBarn: erFlereEnnToBarn ? '3' : barn.antallBarn.toString(),\n            antallBarnSelect: erFlereEnnToBarn ? barn.antallBarn.toString() : '',\n            adoptertIUtlandet: convertBooleanOrUndefinedToYesOrNo(barn.adoptertIUtlandet),\n            omsorgsovertakelse: barn.omsorgsovertakelse,\n            ankomstdato: dateToISOString(barn.ankomstdato),\n        };\n    }\n\n    if (isAdoptertStebarn(barn)) {\n        return {\n            ...initialOmBarnetValues,\n            adopsjonAvEktefellesBarn: YesOrNo.YES,\n            adopsjonsdato: dateToISOString(barn.adopsjonsdato),\n            antallBarn: erFlereEnnToBarn ? '3' : barn.antallBarn.toString(),\n            antallBarnSelect: erFlereEnnToBarn ? barn.antallBarn.toString() : '',\n            fødselsdatoer: barn.fødselsdatoer.map((fødselsdato) => dateToISOString(fødselsdato)),\n            omsorgsovertakelse: barn.omsorgsovertakelse,\n        };\n    }\n\n    return initialOmBarnetValues;\n};\n","import * as React from 'react';\nimport { RegistrertBarn } from 'app/types/Person';\nimport RegistrertePersonalia from 'app/components/registrerte-personalia/RegistrertePersonalia';\nimport { Block, intlUtils } from '@navikt/fp-common';\nimport { OmBarnetFormComponents, OmBarnetFormField } from '../omBarnetFormConfig';\nimport { validateTermindatoFødsel } from '../validation/omBarnetValidering';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport dayjs from 'dayjs';\nimport { QuestionVisibility } from '@navikt/sif-common-question-config/lib';\nimport { formaterFødselsdatoerPåBarn, getLeverBarnet, getTittelBarnNårNavnSkalIkkeVises } from 'app/utils/barnUtils';\nimport { sorterRegistrerteBarnEtterEldstOgNavn } from 'app/pages/velkommen/velkommenUtils';\nimport { Label } from '@navikt/ds-react';\nimport { dateToISOString } from '@navikt/sif-common-formik-ds/lib';\n\ninterface Props {\n    valgteBarn: RegistrertBarn[];\n    visibility: QuestionVisibility<OmBarnetFormField, undefined>;\n}\n\nconst ValgteRegistrerteBarn: React.FunctionComponent<Props> = ({ valgteBarn, visibility }: Props) => {\n    const intl = useIntl();\n    const antallBarn = valgteBarn.length;\n    const alleBarnaLever = valgteBarn.every((b) => getLeverBarnet(b));\n    valgteBarn.sort(sorterRegistrerteBarnEtterEldstOgNavn);\n    const fødselsdatoer = valgteBarn.map((b) => b.fødselsdato);\n    const fødselsdato = valgteBarn[0].fødselsdato;\n    return (\n        <>\n            <Block padBottom=\"xl\">\n                <div>\n                    <Block padBottom=\"s\">\n                        <Label>\n                            <FormattedMessage id=\"omBarnet.valgteBarn.tittel\" values={{ antallBarn }} />\n                        </Label>\n                    </Block>\n                    {alleBarnaLever ? (\n                        valgteBarn.map((barn: RegistrertBarn) => (\n                            <Block padBottom=\"s\" key={barn.fnr}>\n                                <RegistrertePersonalia\n                                    person={barn}\n                                    fødselsdatoForVisning={formaterFødselsdatoerPåBarn([barn.fødselsdato])}\n                                    visEtternavn={false}\n                                />\n                            </Block>\n                        ))\n                    ) : (\n                        <Block padBottom=\"s\">\n                            <RegistrertePersonalia\n                                person={valgteBarn[0]}\n                                fødselsdatoForVisning={formaterFødselsdatoerPåBarn(fødselsdatoer)}\n                                altTekstHvisUkjentNavn={getTittelBarnNårNavnSkalIkkeVises(\n                                    undefined,\n                                    fødselsdatoer,\n                                    valgteBarn.length,\n                                    intl\n                                )}\n                                visEtternavn={false}\n                            />\n                        </Block>\n                    )}\n                </div>\n            </Block>\n            <Block padBottom=\"l\" visible={visibility.isVisible(OmBarnetFormField.termindato) && valgteBarn.length > 0}>\n                <OmBarnetFormComponents.DatePicker\n                    name={OmBarnetFormField.termindato}\n                    label={intlUtils(intl, 'omBarnet.termindato.født')}\n                    dayPickerProps={{\n                        defaultMonth: fødselsdato,\n                    }}\n                    minDate={dayjs(fødselsdato).subtract(1, 'months').toDate()}\n                    maxDate={dayjs(fødselsdato).add(6, 'months').toDate()}\n                    placeholder={'dd.mm.åååå'}\n                    validate={validateTermindatoFødsel(dateToISOString(fødselsdato), intl)}\n                />\n            </Block>\n        </>\n    );\n};\n\nexport default ValgteRegistrerteBarn;\n","import { Block, hasValue, intlUtils, Step, StepButtonWrapper } from '@navikt/fp-common';\nimport actionCreator from 'app/context/action/actionCreator';\nimport SøknadRoutes from 'app/routes/routes';\n\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport useOnValidSubmit from 'app/utils/hooks/useOnValidSubmit';\nimport useSøknad from 'app/utils/hooks/useSøknad';\nimport useSøkerinfo from 'app/utils/hooks/useSøkerinfo';\nimport useAvbrytSøknad from 'app/utils/hooks/useAvbrytSøknad';\nimport stepConfig, { getPreviousStepHref } from '../stepsConfig';\nimport AdopsjonAnnetBarn from './components/AdopsjonAnnetBarn';\nimport AdopsjonEktefellesBarn from './components/AdopsjonEktefellesBarn';\nimport BarnFødtEllerAdoptert from './components/BarnFødtEllerAdoptert';\nimport Fødsel from './components/Fødsel';\nimport Termin from './components/Termin';\nimport { OmBarnetFormComponents, OmBarnetFormData } from './omBarnetFormConfig';\nimport omBarnetQuestionsConfig, { OmBarnetQuestionPayload } from './omBarnetQuestionsConfig';\nimport { cleanupOmBarnetFormData, getOmBarnetInitialValues, mapOmBarnetFormDataToState } from './omBarnetUtils';\nimport { storeAppState } from 'app/utils/submitUtils';\nimport { ForeldrepengesøknadContextState } from 'app/context/ForeldrepengesøknadContextConfig';\nimport useFortsettSøknadSenere from 'app/utils/hooks/useFortsettSøknadSenere';\nimport { andreAugust2022ReglerGjelder, ISOStringToDate } from 'app/utils/dateUtils';\nimport { convertYesOrNoOrUndefinedToBoolean } from 'app/utils/formUtils';\nimport isFarEllerMedmor from 'app/utils/isFarEllerMedmor';\nimport { useForeldrepengesøknadContext } from 'app/context/hooks/useForeldrepengesøknadContext';\nimport { isFødtBarn, isUfødtBarn } from 'app/context/types/Barn';\nimport ValgteRegistrerteBarn from './components/ValgteRegistrerteBarn';\nimport { RegistrertBarn } from 'app/types/Person';\nimport useSaveLoadedRoute from 'app/utils/hooks/useSaveLoadedRoute';\nimport { getFamiliehendelsedato } from 'app/utils/barnUtils';\nimport { getErDatoInnenEnDagFraAnnenDato } from 'app/pages/velkommen/velkommenUtils';\nimport { Button } from '@navikt/ds-react';\nimport { Link } from 'react-router-dom';\nimport { useState } from 'react';\n\nconst OmBarnet: React.FunctionComponent = () => {\n    const intl = useIntl();\n    const { søkersituasjon, barn } = useSøknad();\n    const { arbeidsforhold, registrerteBarn } = useSøkerinfo();\n    const { state } = useForeldrepengesøknadContext();\n    const { søknadGjelderEtNyttBarn } = state;\n    const [erForTidligTilÅSøkePåTermin, setErForTidligTilÅSøkePåTermin] = useState(false);\n\n    const findBarnetIRegistrerteBarn = (regBarn: RegistrertBarn) => {\n        if (!isUfødtBarn(barn) && barn.fnr !== undefined && barn.fnr.length > 0) {\n            return barn.fnr.includes(regBarn.fnr);\n        }\n        return false;\n    };\n\n    const familiehendelsesdato = barn ? ISOStringToDate(getFamiliehendelsedato(barn)) : undefined;\n\n    const dødfødteUtenFnrMedSammeFødselsdato =\n        barn && isFødtBarn(barn)\n            ? registrerteBarn.filter(\n                  (barn: RegistrertBarn) =>\n                      barn.fnr === undefined && getErDatoInnenEnDagFraAnnenDato(barn.fødselsdato, familiehendelsesdato)\n              )\n            : [];\n\n    const valgteRegistrerteBarn =\n        !søknadGjelderEtNyttBarn && !isUfødtBarn(barn)\n            ? registrerteBarn.filter((b) => findBarnetIRegistrerteBarn(b)).concat(dødfødteUtenFnrMedSammeFødselsdato)\n            : undefined;\n    const barnSøktOmFørMenIkkeRegistrert =\n        !søknadGjelderEtNyttBarn && (valgteRegistrerteBarn === undefined || valgteRegistrerteBarn.length === 0);\n\n    const onValidSubmitHandler = (values: Partial<OmBarnetFormData>) => {\n        const valgtBarn = !søknadGjelderEtNyttBarn && !barnSøktOmFørMenIkkeRegistrert ? barn : undefined;\n        const oppdatertBarn = mapOmBarnetFormDataToState(\n            values,\n            arbeidsforhold,\n            valgtBarn,\n            søkersituasjon.situasjon,\n            barnSøktOmFørMenIkkeRegistrert\n        );\n        return [actionCreator.setOmBarnet(oppdatertBarn)];\n    };\n\n    const { handleSubmit, isSubmitting } = useOnValidSubmit(\n        onValidSubmitHandler,\n        SøknadRoutes.ANNEN_FORELDER,\n        (state: ForeldrepengesøknadContextState) => storeAppState(state)\n    );\n    const onAvbrytSøknad = useAvbrytSøknad();\n    const onFortsettSøknadSenere = useFortsettSøknadSenere();\n    useSaveLoadedRoute(SøknadRoutes.OM_BARNET);\n\n    return (\n        <OmBarnetFormComponents.FormikWrapper\n            initialValues={getOmBarnetInitialValues(barn, arbeidsforhold)}\n            onSubmit={handleSubmit}\n            renderForm={({ values: formValues }) => {\n                const visibility = omBarnetQuestionsConfig.getVisbility({\n                    ...formValues,\n                    arbeidsforhold,\n                    situasjon: søkersituasjon.situasjon,\n                    rolle: søkersituasjon.rolle,\n                    valgteRegistrerteBarn,\n                    søknadGjelderEtNyttBarn: barnSøktOmFørMenIkkeRegistrert || søknadGjelderEtNyttBarn,\n                } as OmBarnetQuestionPayload);\n\n                const farMedmorSøkerPåTerminFørWLB =\n                    isFarEllerMedmor(søkersituasjon.rolle) &&\n                    convertYesOrNoOrUndefinedToBoolean(formValues.erBarnetFødt) === false &&\n                    hasValue(formValues.termindato) &&\n                    !andreAugust2022ReglerGjelder(ISOStringToDate(formValues.termindato)!);\n\n                const visGåVidereKnapp = visibility.areAllQuestionsAnswered() && !farMedmorSøkerPåTerminFørWLB;\n                return (\n                    <Step\n                        bannerTitle={intlUtils(intl, 'søknad.pageheading')}\n                        activeStepId=\"omBarnet\"\n                        pageTitle={intlUtils(intl, 'søknad.omBarnet')}\n                        onCancel={onAvbrytSøknad}\n                        onContinueLater={onFortsettSøknadSenere}\n                        steps={stepConfig(intl, false)}\n                    >\n                        <OmBarnetFormComponents.Form\n                            includeButtons={false}\n                            includeValidationSummary={true}\n                            cleanup={(values) => cleanupOmBarnetFormData(values, visibility)}\n                        >\n                            {valgteRegistrerteBarn !== undefined && valgteRegistrerteBarn.length > 0 && (\n                                <ValgteRegistrerteBarn valgteBarn={valgteRegistrerteBarn} visibility={visibility} />\n                            )}\n                            <BarnFødtEllerAdoptert visibility={visibility} />\n                            <AdopsjonAnnetBarn\n                                søkersituasjon={søkersituasjon}\n                                formValues={formValues as OmBarnetFormData}\n                                visibility={visibility}\n                                søknadGjelderEtNyttBarn={søknadGjelderEtNyttBarn}\n                            />\n                            <AdopsjonEktefellesBarn\n                                søkersituasjon={søkersituasjon}\n                                formValues={formValues as OmBarnetFormData}\n                                visibility={visibility}\n                                søknadGjelderEtNyttBarn={søknadGjelderEtNyttBarn}\n                            />\n                            <Termin\n                                søkersituasjon={søkersituasjon}\n                                formValues={formValues as OmBarnetFormData}\n                                visibility={visibility}\n                                søknadGjelderEtNyttBarn={barnSøktOmFørMenIkkeRegistrert || søknadGjelderEtNyttBarn}\n                                setErForTidligTilÅSøkePåTermin={setErForTidligTilÅSøkePåTermin}\n                            />\n                            <Fødsel\n                                søkersituasjon={søkersituasjon}\n                                formValues={formValues as OmBarnetFormData}\n                                visibility={visibility}\n                                søknadGjelderEtNyttBarn={søknadGjelderEtNyttBarn}\n                                barnSøktOmFørMenIkkeRegistrert={barnSøktOmFørMenIkkeRegistrert}\n                            />\n                            <Block margin=\"l\">\n                                <StepButtonWrapper>\n                                    <Button variant=\"secondary\" as={Link} to={getPreviousStepHref('omBarnet')}>\n                                        <FormattedMessage id=\"backlink.label\" />\n                                    </Button>\n                                    {visGåVidereKnapp && (\n                                        <Button\n                                            type=\"submit\"\n                                            disabled={isSubmitting || erForTidligTilÅSøkePåTermin}\n                                            loading={isSubmitting}\n                                        >\n                                            {intlUtils(intl, 'søknad.gåVidere')}\n                                        </Button>\n                                    )}\n                                </StepButtonWrapper>\n                            </Block>\n                        </OmBarnetFormComponents.Form>\n                    </Step>\n                );\n            }}\n        />\n    );\n};\n\nexport default OmBarnet;\n"],"names":["OmBarnetFormField","OmBarnetFormComponents","getTypedFormComponents","dayjs","isSameOrAfter","isSameOrBefore","validateFødselsdato","intl","fødselsdato","hasValue","intlUtils","isISODateString","etterDagensDato","validateFødselsdatoAdopsjon","adopsjonsdato","isDateABeforeDateB","barnetErUnder15årPåAdopsjonsdato","validateTermindato","termindato","erMindreEnn3UkerSiden","erIUke22Pluss3","validateTermindatoFødsel","validateAdopsjonsdato","validateAnkomstdato","ankomstdato","validateTerminbekreftelse","terminbekreftelseDato","AdopsjonAnnetBarn","søkersituasjon","formValues","visibility","søknadGjelderEtNyttBarn","useIntl","YesOrNo","jsxs","Fragment","jsx","Block","FieldArray","_","index","ISOStringToDate","value","guid","GuidePanel","FormattedMessage","FormikFileUploader","AttachmentType","Skjemanummer","AdopsjonEktefellesBarn","BarnFødtEllerAdoptert","ReadMore","Fødsel","barnSøktOmFørMenIkkeRegistrert","erBarnetFødt","antallBarn","fødselsdatoer","intlIdFødsel","erDatoInnenforDeSiste12Ukene","dato","twelveWeeksAfterBirthday","includeTermindato","rolle","valgteRegistrerteBarn","situasjon","eldsteBarnFødselsdato","getEldsteRegistrerteBarn","relevantFødselsdato","isFarEllerMedmor","andreAugust2022ReglerGjelder","includeTerminbekreftelse","arbeidsforhold","kanSøkePåTermin","includeAdoptertIUtlandet","adopsjonAvEktefellesBarn","omsorgsovertakelse","førsteOktober2021ReglerGjelder","includeAnkomstDato","skalViseErBarnFødt","skalViseOmsorgsovertakelse","adoptertIUtlandet","OmBarnetFormConfig","antallBarnSelect","terminbekreftelse","terminbekreftelsedato","omBarnetQuestionsConfig","Questions","Termin","setErForTidligTilÅSøkePåTermin","erForTidligTilÅSøkePåTermin","søkerErFarMedmor","farMedMorSøkerPåTermin","intlSpørsmålAntallBarnId","intlTerminbekreftelseId","date21DaysAgo","attenUkerTreDager","Link","links","dateToday","Alert","Heading","BodyShort","getInitValues","cleanupOmBarnetFormData","values","mapOmDetValgteBarnetFormDataToState","valgtRegistrertBarn","BarnType","lagSendSenereDokumentNårIngenAndreFinnes","convertYesOrNoOrUndefinedToBoolean","mapOmBarnetFormDataToState","getOmBarnetInitialValues","barn","initialOmBarnetValues","erFlereEnnToBarn","isFødtBarn","dateToISOString","isUfødtBarn","isAdoptertAnnetBarn","convertBooleanOrUndefinedToYesOrNo","isAdoptertStebarn","ValgteRegistrerteBarn","valgteBarn","alleBarnaLever","b","getLeverBarnet","sorterRegistrerteBarnEtterEldstOgNavn","Label","RegistrertePersonalia","formaterFødselsdatoerPåBarn","getTittelBarnNårNavnSkalIkkeVises","OmBarnet","useSøknad","registrerteBarn","useSøkerinfo","state","useForeldrepengesøknadContext","useState","findBarnetIRegistrerteBarn","regBarn","familiehendelsesdato","getFamiliehendelsedato","dødfødteUtenFnrMedSammeFødselsdato","barn2","getErDatoInnenEnDagFraAnnenDato","onValidSubmitHandler","oppdatertBarn","actionCreator","handleSubmit","isSubmitting","useOnValidSubmit","SøknadRoutes","state2","storeAppState","onAvbrytSøknad","useAvbrytSøknad","onFortsettSøknadSenere","useFortsettSøknadSenere","useSaveLoadedRoute","farMedmorSøkerPåTerminFørWLB","visGåVidereKnapp","Step","stepConfig","StepButtonWrapper","Button","getPreviousStepHref","OmBarnet$1"],"mappings":"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"}