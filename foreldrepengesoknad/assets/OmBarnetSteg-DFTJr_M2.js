import{a6 as x,aZ as M,l as e,V as k,c1 as ge,M as f,bh as j,a$ as p,bc as y,U as d,cw as G,cx as N,bl as pe,r as C,bd as H,be as ce,cy as P,a_ as F,b0 as c,cz as ve,H as Be,bg as ke,ba as je,bi as J,E as ye,cA as he,bt as z,B as q,cB as xe,cC as be,a7 as Te,q as Me,I as $,a8 as I,an as Ee,K as Ae,bs as B,as as Fe,x as Se,b4 as qe,m as De,at as Ne,b5 as Ie,bp as _e,bq as Re}from"./iframe-DYhcwcKA.js";import{a as Q,u as W}from"./index-BiUK_abL.js";import{b as U,C as D,c as we}from"./FpDataContext-Bx28Axgs.js";import{i as h,j as _,a as Oe,b as Pe}from"./useFpNavigator-a443d3wj.js";import{t as Ue,m as V,B as Ve,C as L,D as Le,E as Ke,F as Ge,G as Ce,a as X,H as He,g as Je,o as ze,J as $e}from"./annenForelderUtils-Bb1j5cEK.js";import{R as K}from"./RegistrertePersonalia-DK5fyzpI.js";d.extend(G);d.extend(N);const Z=({valgteRegistrerteBarn:t,skalInkludereTermindato:a})=>{const r=x(),{control:s}=M(),o=t.every(g=>!g.dødsdato),n=[...t].sort(Ue),i=n.map(g=>g.fødselsdato),m=n[0].fødselsdato,l=Q(),u=W({...l,select:g=>!!g?.termindato}).data??!1;return e.jsxs(e.Fragment,{children:[e.jsxs(k,{gap:"space-8",children:[e.jsx(ge,{children:e.jsx(f,{id:"omBarnet.valgteBarn.tittel",values:{antallBarn:n.length}})}),o?n.map(g=>e.jsx(K,{person:g,fødselsdatoForVisning:V([g.fødselsdato]),visEtternavn:!1},g.fnr)):e.jsx(K,{person:n[0],fødselsdatoForVisning:V(i),altTekstHvisUkjentNavn:Ve(void 0,i,n.length,r),visEtternavn:!1})]}),a&&e.jsx(j,{name:"termindato",control:s,description:u?r.formatMessage({id:"omBarnet.termindato.født.beskrivelse"}):"",label:r.formatMessage({id:"omBarnet.termindato.født"}),defaultMonth:m,minDate:d(m).subtract(1,"months").toDate(),maxDate:d(m).add(6,"months").toDate(),validate:[p(r.formatMessage({id:"valideringsfeil.omBarnet.termindato.duMåOppgi"})),y(r.formatMessage({id:"valideringsfeil.omBarnet.termindato.ugyldigDatoFormat"})),g=>{if(!d(g).subtract(6,"months").isSameOrBefore(d(m),"day"))return r.formatMessage({id:"valideringsfeil.omBarnet.termindato.forLangtFremITid"});if(!d(g).add(1,"months").isSameOrAfter(d(m),"day"))return r.formatMessage({id:"valideringsfeil.omBarnet.termindato.forLangtTilbakeITid"})}]})]})};Z.__docgenInfo={description:"",methods:[],displayName:"ValgteRegistrerteBarn",props:{valgteRegistrerteBarn:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    annenPart?: AnnenForelderDto_fpoversikt;
    dødsdato?: string;
    fnr: string;
    fødselsdato: string;
    kjønn: Kjønn_fpoversikt;
    navn: Navn_fpoversikt;
}`,signature:{properties:[{key:"annenPart",value:{name:"signature",type:"object",raw:`{
    fnr: string;
    fødselsdato?: string;
    navn: Navn_fpoversikt;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fødselsdato",value:{name:"string",required:!1}},{key:"navn",value:{name:"signature",type:"object",raw:`{
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]},required:!0}}]},required:!1}},{key:"dødsdato",value:{name:"string",required:!1}},{key:"fnr",value:{name:"string",required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"kjønn",value:{name:"union",raw:"'M' | 'K' | 'U'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"},{name:"literal",value:"'U'"}],required:!0}},{key:"navn",value:{name:"signature",type:"object",raw:`{
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]},required:!0}}]}}],raw:"BarnDto_fpoversikt[]"},description:""},skalInkludereTermindato:{required:!0,tsType:{name:"boolean"},description:""}}};const Qe=(t,a)=>r=>{if(!a)return;const s=d(r).startOf("day").add(15,"year");return d(a).isBetween(r,s,null,"[]")?void 0:t},We=t=>{switch(t){case 1:return e.jsx(f,{id:"omBarnet.fødselsdato.adopsjon.1"});case 2:return e.jsx(f,{id:"omBarnet.fødselsdato.adopsjon.2"});case 3:return e.jsx(f,{id:"omBarnet.fødselsdato.adopsjon.3"});case 4:return e.jsx(f,{id:"omBarnet.fødselsdato.adopsjon.4"});case 5:return e.jsx(f,{id:"omBarnet.fødselsdato.adopsjon.5"});case 6:return e.jsx(f,{id:"omBarnet.fødselsdato.adopsjon.6"});case 7:return e.jsx(f,{id:"omBarnet.fødselsdato.adopsjon.7"});case 8:return e.jsx(f,{id:"omBarnet.fødselsdato.adopsjon.8"});case 9:return e.jsx(f,{id:"omBarnet.fødselsdato.adopsjon.9"});default:throw new Error("Antall barn ikke supportert: "+t)}},Y=({adopsjonsdato:t,antallBarn:a,antallBarnDropDown:r})=>{const s=x(),{control:o}=M(),{fields:n,remove:i,append:m}=pe({control:o,name:"fødselsdatoer"});return C.useEffect(()=>{if(!a||a===3&&!r)return;const l=a<3||!r?a:Number.parseInt(r,10),u=n.length-l;u>0&&[...new Array(u)].forEach((g,v)=>{i(n.length-v-1)}),u<0&&[...new Array(l-n.length)].forEach(()=>{m({dato:void 0})})},[a,r,m,n.length,i]),e.jsx(k,{gap:"space-40",children:n.map((l,u)=>e.jsx(j,{control:o,name:`fødselsdatoer.${u}.dato`,minDate:d(t).subtract(15,"years").toDate(),maxDate:t&&P(t)?d(t).toDate():d(),defaultMonth:t&&P(t)?t:d(),label:n.length===1?s.formatMessage({id:"omBarnet.fødselsdato"}):We(u+1),validate:[p(s.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.duMåOppgi"})),y(s.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.ugyldigDatoFormat"})),H(s.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.måVæreIdagEllerTidligere"})),ce(s.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.måVæreFørAdopsjonsdato"}),t),Qe(s.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.ikkeMerEnn15År3MndTilbake"}),t)]},l.id))})};Y.__docgenInfo={description:"",methods:[],displayName:"FødselsdatoerFieldArray",props:{antallBarn:{required:!1,tsType:{name:"number"},description:""},antallBarnDropDown:{required:!1,tsType:{name:"string"},description:""},adopsjonsdato:{required:!1,tsType:{name:"string"},description:""}}};d.extend(N);const ee=({søknadGjelderEtNyttBarn:t})=>{const a=x(),r=M(),s=r.watch("adopsjonAvEktefellesBarn"),o=r.watch("antallBarn"),n=r.watch("antallBarnSelect"),i=r.watch("adopsjonsdato"),m=r.watch("adoptertIUtlandet"),l=r.watch("fødselsdatoer");return e.jsxs(e.Fragment,{children:[e.jsxs(F,{name:"adopsjonAvEktefellesBarn",control:r.control,label:a.formatMessage({id:"omBarnet.adopsjonGjelder"}),validate:[p(a.formatMessage({id:"valideringsfeil.omBarnet.adopsjonGjelder.duMåOppgi"}))],children:[e.jsx(c,{value:!0,children:"Ja"}),e.jsx(c,{value:!1,children:"Nei"})]}),e.jsxs(k,{gap:"space-16",children:[e.jsx(j,{name:"adopsjonsdato",control:r.control,label:s?a.formatMessage({id:"omBarnet.adopsjonsdato.stebarn"}):a.formatMessage({id:"omBarnet.adopsjonsdato.annetBarn"}),validate:[p(a.formatMessage({id:"valideringsfeil.omBarnet.adopsjonsdato.duMåOppgi"})),y(a.formatMessage({id:"valideringsfeil.omBarnet.adopsjonsdato.ugyldigDatoFormat"}))]}),e.jsx(ve.New,{padding:"4",background:"brand-blue-moderate",borderRadius:"medium",children:e.jsxs(Be,{gap:"space-8",children:[e.jsx(ke,{height:24,width:24,color:"#005B82"}),e.jsx(k,{gap:"space-8",style:{width:"85%"},children:e.jsx(je,{children:e.jsx(f,{id:"omBarnet.opplaste.bekreftelse"})})})]})})]}),t&&e.jsxs(e.Fragment,{children:[e.jsxs(F,{name:"antallBarn",control:r.control,label:a.formatMessage({id:"omBarnet.antallBarn.adopsjon.født"}),validate:[p(a.formatMessage({id:"valideringsfeil.omBarnet.adopsjon.født.duMåOppgi"}))],children:[e.jsx(c,{value:1,children:e.jsx(f,{id:"omBarnet.radiobutton.ettBarn"})}),e.jsx(c,{value:2,children:e.jsx(f,{id:"omBarnet.radiobutton.toBarn"})}),e.jsx(c,{value:3,children:e.jsx(f,{id:"omBarnet.radiobutton.flere"})})]}),o===3&&e.jsxs(J,{name:"antallBarnSelect",control:r.control,label:"Antall barn",children:[e.jsx("option",{value:"3",children:"3"}),e.jsx("option",{value:"4",children:"4"}),e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"6",children:"6"}),e.jsx("option",{value:"7",children:"7"}),e.jsx("option",{value:"8",children:"8"}),e.jsx("option",{value:"9",children:"9"})]}),e.jsx(Y,{adopsjonsdato:i,antallBarn:o,antallBarnDropDown:n})]}),s===!1&&!ye(i)&&e.jsxs(e.Fragment,{children:[e.jsxs(F,{name:"adoptertIUtlandet",control:r.control,label:a.formatMessage({id:"omBarnet.adopteresFraUtlandet"}),validate:[p(a.formatMessage({id:"valideringsfeil.omBarnet.adopteresFraUtlandet.duMåOppgi"}))],children:[e.jsx(c,{value:!0,children:"Ja"}),e.jsx(c,{value:!1,children:"Nei"})]}),m===!0&&e.jsx(j,{name:"ankomstdato",control:r.control,minDate:l?d(l[0].dato).toDate():void 0,maxDate:d().add(6,"months").toDate(),label:a.formatMessage({id:"omBarnet.ankomstDato"}),validate:[p(a.formatMessage({id:"valideringsfeil.omBarnet.adopsjonsdato.duMåOppgi"})),y(a.formatMessage({id:"valideringsfeil.omBarnet.adopsjonsdato.ugyldigDatoFormat"})),u=>l[0]?.dato!==void 0&&!d(l[0].dato).isSameOrBefore(u,"day")?a.formatMessage({id:"valideringsfeil.omBarnet.ankomstDato.førFødselsdato"}):void 0]})]})]})};ee.__docgenInfo={description:"",methods:[],displayName:"AdopsjonPanel",props:{søknadGjelderEtNyttBarn:{required:!0,tsType:{name:"boolean"},description:""}}};d.extend(G);d.extend(N);const te=()=>{const t=x(),a=M(),{antallBarn:r,erBarnetFødt:s,fødselsdatoer:o}=a.watch(),n=r>1?"omBarnet.fødselsdato.flereBarn":"omBarnet.fødselsdato",i=o?o[0].dato:void 0;return e.jsxs(e.Fragment,{children:[e.jsx(j,{name:"termindato",control:a.control,minDate:i?d(i).subtract(1,"months").toDate():void 0,maxDate:i?d(i).add(6,"months").toDate():void 0,label:t.formatMessage({id:"omBarnet.termindato.født"}),useStrategyAbsolute:!0,validate:[p(t.formatMessage({id:"valideringsfeil.omBarnet.termindato.duMåOppgi"})),y(t.formatMessage({id:"valideringsfeil.omBarnet.termindato.ugyldigDatoFormat"})),m=>{if(i){if(!d(m).subtract(6,"months").isSameOrBefore(d(i),"day"))return t.formatMessage({id:"valideringsfeil.omBarnet.termindato.forLangtFremITid"});if(!d(m).add(1,"months").isSameOrAfter(d(i),"day"))return t.formatMessage({id:"valideringsfeil.omBarnet.termindato.forLangtTilbakeITid"})}}]}),s&&e.jsx(j,{name:"fødselsdatoer.0.dato",control:a.control,label:t.formatMessage({id:n}),minDate:d().subtract(3,"years").toDate(),maxDate:d().toDate(),useStrategyAbsolute:!0,validate:[p(t.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.duMåOppgi"})),y(t.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.ugyldigDatoFormat"})),H(t.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.måVæreIdagEllerTidligere"})),m=>d(m).isBefore(d().subtract(3,"years").subtract(4,"months"),"day")?t.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.ikkeMerEnn3År3MndTilbake"}):void 0]})]})};te.__docgenInfo={description:"",methods:[],displayName:"ErFødtPanel"};const Xe=(t,a)=>h(t)?a?X(a):!1:!0,re=({søkersituasjon:t,arbeidsforhold:a,søknadGjelderEtNyttBarn:r})=>{const s=x(),o=M(),n=o.watch("termindato"),i=n?!L(n):!1,m=h(t.rolle),l=m&&n,u=Xe(t.rolle,n),g=n&&he.test(n)?_(a,t.situasjon==="adopsjon",h(t.rolle),n):a;return e.jsxs(e.Fragment,{children:[r&&e.jsxs(k,{gap:"space-8",children:[e.jsx(j,{name:"termindato",control:o.control,label:s.formatMessage({id:"omBarnet.termindato.termin"}),minDate:Ke,maxDate:Le,useStrategyAbsolute:!0,validate:[p(s.formatMessage({id:"valideringsfeil.omBarnet.termindato.duMåOppgi"})),y(s.formatMessage({id:"valideringsfeil.omBarnet.termindato.ugyldigDatoFormat"})),v=>{if(!Ge(v))return s.formatMessage({id:"valideringsfeil.omBarnet.termindato.forTidlig"});if(!L(v))return s.formatMessage({id:"valideringsfeil.omBarnet.termindato.duMåVæreIUke22"})}]}),!m&&e.jsx(z,{header:s.formatMessage({id:"omBarnet.termindato.åpneLabel"}),children:e.jsxs(k,{gap:"space-8",children:[e.jsx(q,{children:e.jsx(f,{id:"omBarnet.termindato.innhold.del1"})}),e.jsx(q,{children:e.jsx(f,{id:"omBarnet.termindato.innhold.del2"})})]})})]}),r&&g.length===0&&u&&e.jsx(j,{name:"terminbekreftelsedato",control:o.control,label:s.formatMessage({id:"omBarnet.terminbekreftelseDato"}),maxDate:Ce,minDate:d(n).subtract(18,"week").subtract(3,"day").startOf("day").toDate(),useStrategyAbsolute:!0,validate:[p(s.formatMessage({id:"valideringsfeil.omBarnet.terminbekreftelseDato.duMåOppgi"})),y(s.formatMessage({id:"valideringsfeil.omBarnet.terminbekreftelseDato.ugyldigDatoFormat"})),xe(s.formatMessage({id:"valideringsfeil.omBarnet.terminbekreftelseDato.kanIkkeVæreFremITid"})),be(s.formatMessage({id:"valideringsfeil.omBarnet.terminbekreftelseDato.terminbekreftelsedatoMåVæreUtstedetEtter22Svangerskapsuke"}),n)]}),(i||l&&!u)&&e.jsx(Te,{variant:"warning",children:e.jsxs(k,{gap:"space-16",children:[e.jsx(Me,{level:"3",size:"small",children:e.jsx(f,{id:"omBarnet.termindato.erForTidligTilÅSøkePåTermin.heading"})}),e.jsx(q,{children:e.jsx(f,{id:"omBarnet.termindato.erForTidligTilÅSøkePåTermin.innhold"})})]})})]})};re.__docgenInfo={description:"",methods:[],displayName:"TerminPanel",props:{søkersituasjon:{required:!0,tsType:{name:"Søkersituasjon"},description:""},arbeidsforhold:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    arbeidsgiverNavn: string;
    from: string;
    stillingsprosent: number;
    to?: string;
}`,signature:{properties:[{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"from",value:{name:"string",required:!0}},{key:"stillingsprosent",value:{name:"number",required:!0}},{key:"to",value:{name:"string",required:!1}}]}}],raw:"EksternArbeidsforholdDto_fpoversikt[]"},description:""},søknadGjelderEtNyttBarn:{required:!1,tsType:{name:"boolean"},description:""}}};const Ze=(t,a,r)=>r===!0?t.formatMessage({id:"omBarnet.antallBarn.født"}):a?t.formatMessage({id:"omBarnet.antallBarn.termin.far"}):t.formatMessage({id:"omBarnet.antallBarn.termin"}),Ye=(t,a,r)=>r!==!1?t.formatMessage({id:"valideringsfeil.omBarnet.antallFått.duMåOppgi"}):a?t.formatMessage({id:"valideringsfeil.omBarnet.antallVenter.duMåOppgi"}):t.formatMessage({id:"valideringsfeil.omBarnet.antallVenterDu.duMåOppgi"}),ae=({søkersituasjon:t,erFarEllerMedmor:a,søknadGjelderEtNyttBarn:r,arbeidsforhold:s})=>{const o=x(),n=M(),i=n.watch("erBarnetFødt"),m=n.watch("antallBarn"),l=h(t.rolle);return e.jsxs(e.Fragment,{children:[r&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs(F,{name:"erBarnetFødt",control:n.control,label:o.formatMessage({id:"omBarnet.erBarnetFødt"}),validate:[p(o.formatMessage({id:"valideringsfeil.omBarnet.erBarnetFødt.duMåOppgi"}))],children:[e.jsx(c,{value:!0,children:"Ja"}),e.jsx(c,{value:!1,children:"Nei"})]}),!a&&e.jsx(z,{header:o.formatMessage({id:"omBarnet.erBarnetFødt.readMore.header"}),children:e.jsxs(k,{gap:"space-16",children:[e.jsx("div",{children:e.jsx(f,{id:"omBarnet.erBarnetFødt.readMore.innhold.del1"})}),e.jsx(f,{id:"omBarnet.erBarnetFødt.readMore.innhold.del2"})]})})]}),e.jsxs(F,{name:"antallBarn",control:n.control,label:Ze(o,l,i),validate:[p(Ye(o,l,i))],children:[e.jsx(c,{value:1,children:e.jsx(f,{id:"omBarnet.radiobutton.ettBarn"})}),e.jsx(c,{value:2,children:e.jsx(f,{id:"omBarnet.radiobutton.tvillinger"})}),e.jsx(c,{value:3,children:e.jsx(f,{id:"omBarnet.radiobutton.flere"})})]}),m!==void 0&&m===3&&e.jsxs(J,{name:"antallBarnSelect",control:n.control,label:"Antall barn",children:[e.jsx("option",{value:"3",children:"3"}),e.jsx("option",{value:"4",children:"4"}),e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"6",children:"6"}),e.jsx("option",{value:"7",children:"7"}),e.jsx("option",{value:"8",children:"8"}),e.jsx("option",{value:"9",children:"9"})]})]}),i!==!0&&e.jsx(re,{søkersituasjon:t,arbeidsforhold:s,søknadGjelderEtNyttBarn:r}),i===!0&&r&&e.jsx(te,{})]})};ae.__docgenInfo={description:"",methods:[],displayName:"FødselPanel",props:{søkersituasjon:{required:!0,tsType:{name:"Søkersituasjon"},description:""},erFarEllerMedmor:{required:!0,tsType:{name:"boolean"},description:""},søknadGjelderEtNyttBarn:{required:!0,tsType:{name:"boolean"},description:""},arbeidsforhold:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    arbeidsgiverNavn: string;
    from: string;
    stillingsprosent: number;
    to?: string;
}`,signature:{properties:[{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"from",value:{name:"string",required:!0}},{key:"stillingsprosent",value:{name:"number",required:!0}},{key:"to",value:{name:"string",required:!1}}]}}],raw:"EksternArbeidsforholdDto_fpoversikt[]"},description:""}}};const et=t=>t.erBarnetFødt,tt=t=>t.erBarnetFødt===!1,ne=t=>t.adopsjonAvEktefellesBarn,se=t=>t.adopsjonAvEktefellesBarn===!1,rt=(t,a,r,s)=>{if(t!==void 0&&a==="fødsel")return{...t,type:s?B.UFØDT:B.FØDT,termindato:r.termindato,fødselsdatoer:t.fødselsdatoer,antallBarn:t.antallBarn};if(ne(r))return{...t,type:B.ADOPTERT_STEBARN,adopsjonsdato:r.adopsjonsdato};if(se(r))return{...t,type:B.ADOPTERT_ANNET_BARN,adopsjonsdato:r.adopsjonsdato,adoptertIUtlandet:r.adoptertIUtlandet,ankomstdato:r.adoptertIUtlandet===!0?r.ankomstdato:void 0};throw new Error("Unreachable code")},at=(t,a,r,s,o,n)=>{if(s!==void 0)return rt(s,o,t,n);if(et(t))return{type:B.FØDT,fødselsdatoer:t.fødselsdatoer.map(i=>i.dato),antallBarn:t.antallBarn<3?t.antallBarn:Number.parseInt(t.antallBarnSelect,10),termindato:He(t.termindato)?t.termindato:void 0};if(tt(t))return _(a,r.situasjon==="adopsjon",h(r.rolle),t.termindato).length===0?{type:B.UFØDT,terminbekreftelsedato:t.terminbekreftelsedato,antallBarn:t.antallBarn<3?t.antallBarn:Number.parseInt(t.antallBarnSelect,10),termindato:t.termindato}:{type:B.UFØDT,antallBarn:t.antallBarn<3?t.antallBarn:Number.parseInt(t.antallBarnSelect,10),termindato:t.termindato};if(ne(t))return{type:B.ADOPTERT_STEBARN,adopsjonsdato:t.adopsjonsdato,antallBarn:t.antallBarn<3?t.antallBarn:Number.parseInt(t.antallBarnSelect,10),fødselsdatoer:t.fødselsdatoer.map(i=>i.dato)};if(se(t))return{type:B.ADOPTERT_ANNET_BARN,fødselsdatoer:t.fødselsdatoer.map(i=>i.dato),adopsjonsdato:t.adopsjonsdato,antallBarn:t.antallBarn<3?t.antallBarn:Number.parseInt(t.antallBarnSelect,10),adoptertIUtlandet:t.adoptertIUtlandet,ankomstdato:t.adoptertIUtlandet===!0?t.ankomstdato:void 0};throw new Error("Unreachable code")},E=(t,a)=>t?3:a.antallBarn,A=(t,a)=>t?a.antallBarn.toString():void 0,nt=(t,a,r,s)=>{if(!r)return{fødselsdatoer:[{dato:void 0}]};const o=r.antallBarn>2;return $(r)?{erBarnetFødt:!0,antallBarn:E(o,r),antallBarnSelect:A(o,r),fødselsdatoer:r.fødselsdatoer.map(n=>({dato:n})),termindato:s||r.termindato}:I(r)?_(t,a.situasjon==="adopsjon",h(a.rolle),s||r.termindato).length===0?{erBarnetFødt:!1,antallBarn:E(o,r),antallBarnSelect:A(o,r),terminbekreftelsedato:r.terminbekreftelsedato,termindato:s||r.termindato}:{erBarnetFødt:!1,antallBarn:E(o,r),antallBarnSelect:A(o,r),termindato:s||r.termindato}:Ee(r)?{adopsjonAvEktefellesBarn:!1,adopsjonsdato:r.adopsjonsdato,antallBarn:E(o,r),antallBarnSelect:A(o,r),fødselsdatoer:r.fødselsdatoer.map(n=>({dato:n})),adoptertIUtlandet:r.adoptertIUtlandet,ankomstdato:r.ankomstdato}:Ae(r)?{adopsjonAvEktefellesBarn:!0,adopsjonsdato:r.adopsjonsdato,antallBarn:E(o,r),antallBarnSelect:A(o,r),fødselsdatoer:r.fødselsdatoer.map(n=>({dato:n}))}:{fødselsdatoer:[{dato:void 0}]}},st=t=>{const a=d(t).add(12,"weeks");return d(a).isAfter(new Date,"day")},ot=(t,a)=>a&&!I(a)&&a.fnr!==void 0&&a.fnr.length>0?a.fnr.includes(t.fnr):!1,it=(t,a,r,s)=>{if(s==="adopsjon")return!1;let o;if(r!==void 0&&r.length>0&&(o=$e(r).fødselsdato),!a&&!o)return!1;const n=o??a;return h(t)?X(n)?!0:st(n):!0},dt=t=>{const a=Q(),r=W({...a,select:s=>s?.termindato});return r.isLoading?e.jsx(Fe,{}):e.jsx(lt,{...t,termindato:r.data})},lt=({søkerInfo:t,søknadGjelderNyttBarn:a,mellomlagreSøknadOgNaviger:r,avbrytSøknad:s,termindato:o})=>{const n=x(),i=Oe(t.arbeidsforhold),m=Pe(t.arbeidsforhold,r),l=Se(U(D.SØKERSITUASJON)),u=U(D.OM_BARNET),g=we(D.OM_BARNET),{arbeidsforhold:v,person:R}=t,oe=h(l.rolle),ie=u?Je(u):void 0,de=u&&$(u)?R.barn.filter(T=>T.fnr===void 0&&ze(T.fødselsdato,ie)):[],b=!a&&u&&!I(u)?R.barn.filter(T=>ot(T,u)).concat(de):void 0,S=!a&&(b===void 0||b.length===0),le=T=>{const fe=at(T,v,l,!a&&!S?u:void 0,l.situasjon,S);return g(fe),m.goToNextDefaultStep()},me=C.useMemo(()=>nt(v,l,u,o),[v,u,o]),w=qe({shouldUnregister:!0,defaultValues:me}),O=w.watch("fødselsdatoer"),ue=it(l.rolle,O?O[0].dato:void 0,b,l.situasjon);return e.jsx(De,{pageTitle:n.formatMessage({id:"søknad.pageheading"}),children:e.jsx(Ne,{steps:i,children:e.jsx(Ie,{formMethods:w,onSubmit:le,children:e.jsxs(k,{gap:"space-40",children:[e.jsx(_e,{}),b&&b.length>0&&e.jsx(Z,{valgteRegistrerteBarn:b,skalInkludereTermindato:ue}),l.situasjon==="fødsel"&&e.jsx(ae,{erFarEllerMedmor:oe,søknadGjelderEtNyttBarn:S||a,søkersituasjon:l,arbeidsforhold:v}),l.situasjon==="adopsjon"&&e.jsx(ee,{søknadGjelderEtNyttBarn:S||a}),e.jsx(Re,{goToPreviousStep:m.goToPreviousDefaultStep,onAvsluttOgSlett:s,onFortsettSenere:m.fortsettSøknadSenere})]})})})})};dt.__docgenInfo={description:"",methods:[],displayName:"OmBarnetSteg",props:{søkerInfo:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    arbeidsforhold: EksternArbeidsforholdDto_fpoversikt[];
    person: PersonDto_fpoversikt;
}`,signature:{properties:[{key:"arbeidsforhold",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    arbeidsgiverNavn: string;
    from: string;
    stillingsprosent: number;
    to?: string;
}`,signature:{properties:[{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"from",value:{name:"string",required:!0}},{key:"stillingsprosent",value:{name:"number",required:!0}},{key:"to",value:{name:"string",required:!1}}]}}],raw:"EksternArbeidsforholdDto_fpoversikt[]",required:!0}},{key:"person",value:{name:"signature",type:"object",raw:`{
    aktørid?: string;
    bankkonto?: Bankkonto_fpoversikt;
    barn: BarnDto_fpoversikt[];
    fnr: string;
    fødselsdato: string;
    kjønn: Kjønn_fpoversikt;
    målform?: Målform_fpoversikt;
    navn: Navn_fpoversikt;
    sivilstand?: Sivilstand_fpoversikt;
}`,signature:{properties:[{key:"aktørid",value:{name:"string",required:!1}},{key:"bankkonto",value:{name:"signature",type:"object",raw:`{
    banknavn?: string;
    kontonummer?: string;
}`,signature:{properties:[{key:"banknavn",value:{name:"string",required:!1}},{key:"kontonummer",value:{name:"string",required:!1}}]},required:!1}},{key:"barn",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    annenPart?: AnnenForelderDto_fpoversikt;
    dødsdato?: string;
    fnr: string;
    fødselsdato: string;
    kjønn: Kjønn_fpoversikt;
    navn: Navn_fpoversikt;
}`,signature:{properties:[{key:"annenPart",value:{name:"signature",type:"object",raw:`{
    fnr: string;
    fødselsdato?: string;
    navn: Navn_fpoversikt;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fødselsdato",value:{name:"string",required:!1}},{key:"navn",value:{name:"signature",type:"object",raw:`{
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]},required:!0}}]},required:!1}},{key:"dødsdato",value:{name:"string",required:!1}},{key:"fnr",value:{name:"string",required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"kjønn",value:{name:"union",raw:"'M' | 'K' | 'U'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"},{name:"literal",value:"'U'"}],required:!0}},{key:"navn",value:{name:"signature",type:"object",raw:`{
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]},required:!0}}]}}],raw:"BarnDto_fpoversikt[]",required:!0}},{key:"fnr",value:{name:"string",required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"kjønn",value:{name:"union",raw:"'M' | 'K' | 'U'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"},{name:"literal",value:"'U'"}],required:!0}},{key:"målform",value:{name:"union",raw:"'NB' | 'NN' | 'EN' | 'E'",elements:[{name:"literal",value:"'NB'"},{name:"literal",value:"'NN'"},{name:"literal",value:"'EN'"},{name:"literal",value:"'E'"}],required:!1}},{key:"navn",value:{name:"signature",type:"object",raw:`{
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]},required:!0}},{key:"sivilstand",value:{name:"signature",type:"object",raw:`{
    type?: SivilstandType_fpoversikt;
}`,signature:{properties:[{key:"type",value:{name:"union",raw:`| 'UOPPGITT'
| 'UGIFT'
| 'GIFT'
| 'ENKE_ELLER_ENKEMANN'
| 'SKILT'
| 'SEPARERT'
| 'REGISTRERT_PARTNER'
| 'SEPARERT_PARTNER'
| 'SKILT_PARTNER'
| 'GJENLEVENDE_PARTNER'`,elements:[{name:"literal",value:"'UOPPGITT'"},{name:"literal",value:"'UGIFT'"},{name:"literal",value:"'GIFT'"},{name:"literal",value:"'ENKE_ELLER_ENKEMANN'"},{name:"literal",value:"'SKILT'"},{name:"literal",value:"'SEPARERT'"},{name:"literal",value:"'REGISTRERT_PARTNER'"},{name:"literal",value:"'SEPARERT_PARTNER'"},{name:"literal",value:"'SKILT_PARTNER'"},{name:"literal",value:"'GJENLEVENDE_PARTNER'"}],required:!1}}]},required:!1}}]},required:!0}}]}},description:""},søknadGjelderNyttBarn:{required:!0,tsType:{name:"boolean"},description:""},mellomlagreSøknadOgNaviger:{required:!0,tsType:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},avbrytSøknad:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};export{dt as O};
