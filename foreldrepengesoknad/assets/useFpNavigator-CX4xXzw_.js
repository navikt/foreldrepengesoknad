import{r as c}from"./index-BP8_t0zE.js";import{aa as P,a0 as O,n as M,a4 as _,ab as K,ac as U,ad as I}from"./Uttaksplan-CIx8nvnt.js";import{d as D}from"./Uttaksdagen-3vFTugDi.js";import"./jsx-runtime-CexXSJP5.js";import{e as b,i as h,C as E,a as v}from"./FpDataContext-CLfRphv-.js";import{u as F}from"./Label-D9yH3wXA.js";var m=(e=>(e.SLUTTPAKKE="ETTERLØNN_SLUTTPAKKE",e.MILITÆRTJENESTE="MILITÆR_ELLER_SIVILTJENESTE",e.JOBB_I_UTLANDET="JOBB_I_UTLANDET",e))(m||{});const L=e=>e==="far"||e==="medmor";var s=(e=>(e.VELKOMMEN="/",e.SØKERSITUASJON="/soker",e.OM_BARNET="/barnet",e.ANNEN_FORELDER="/den-andre-forelderen",e.PERIODE_MED_FORELDREPENGER="/periode",e.FORDELING="/fordeling",e.UTTAKSPLAN="/plan",e.UTENLANDSOPPHOLD="/utenlandsopphold",e.TIDLIGERE_UTENLANDSOPPHOLD="/tidligere-utenlandsopphold",e.SENERE_UTENLANDSOPPHOLD="/senere-utenlandsopphold",e.ARBEID_OG_INNTEKT="/arbeid-og-inntekt",e.EGEN_NÆRING="/selvstendig-naringsdrivende",e.FRILANS="/frilans",e.ANDRE_INNTEKTER="/andre-inntekter",e.DOKUMENTASJON="/dokumentasjon",e.OPPSUMMERING="/oppsummering",e.IKKE_MYNDIG="ikke-myndig",e))(s||{});const u=["/","/soker","/barnet","/den-andre-forelderen","/periode","/fordeling","/plan","/utenlandsopphold","/tidligere-utenlandsopphold","/senere-utenlandsopphold","/arbeid-og-inntekt","/frilans","/selvstendig-naringsdrivende","/andre-inntekter","/dokumentasjon","/oppsummering"],G=["/soker","/barnet","/den-andre-forelderen","/periode","/fordeling","/plan","/utenlandsopphold","/arbeid-og-inntekt","/oppsummering"],H=["/plan","/oppsummering"],X=(e,r,t=[])=>{switch(e){case"/soker":return r===!0;case"/oppsummering":return P(t)===!1&&t.length>0;default:return!0}},Z=(e,r,t,n)=>t?n?`${e} ${n} ${r}`:`${e} ${r}`:n?`${e} ${n}`:`${e}`,ee=e=>{if(O(e)){const{fnr:r}=e;return r===void 0||r.length!==11?void 0:parseInt(r.charAt(8),10)%2===0?"K":"M"}},re=e=>{if(e.length===11)return parseInt(e.charAt(8),10)%2===0?"K":"M"},te=(e,r,t)=>e&&O(r)&&!t&&!r.harRettPåForeldrepengerINorge&&!r.harRettPåForeldrepengerIEØS,se=(e,r,t)=>e&&(r||t.kanIkkeOppgis===!0),k=(e,r,t)=>r===!0&&O(t)?t.harRettPåForeldrepengerINorge===!0||t.harRettPåForeldrepengerIEØS===!0:e==="mor",B=(e,r,t)=>e&&(r||t.kanIkkeOppgis===!0),ne=(e,r,t,n)=>{const a=e.fornavn,o=O(r)&&r.fornavn!==void 0&&r.fornavn!==""?r.fornavn:n.formatMessage({id:"annen.forelder"});return{mor:t?o:a,farMedmor:t?a:o}},oe=e=>e==="far"||e==="medmor",ae=e=>D(e).add(3,"year").add(3,"month").isBefore(D(),"day"),x=(e,r)=>L(e)?r?U(r):!1:!0,V=e=>({[s.SØKERSITUASJON]:e.formatMessage({id:"steps.label.søkersituasjon"}),[s.OM_BARNET]:e.formatMessage({id:"steps.label.omBarnet"}),[s.ANNEN_FORELDER]:e.formatMessage({id:"steps.label.annenForelder"}),[s.PERIODE_MED_FORELDREPENGER]:e.formatMessage({id:"steps.label.periodeMedForeldrepenger"}),[s.FORDELING]:e.formatMessage({id:"steps.label.fordeling"}),[s.UTTAKSPLAN]:e.formatMessage({id:"steps.label.uttaksplan"}),[s.UTENLANDSOPPHOLD]:e.formatMessage({id:"steps.label.utenlandsopphold"}),[s.TIDLIGERE_UTENLANDSOPPHOLD]:e.formatMessage({id:"steps.label.utenlandsopphold.tidligere"}),[s.SENERE_UTENLANDSOPPHOLD]:e.formatMessage({id:"steps.label.utenlandsopphold.senere"}),[s.ARBEID_OG_INNTEKT]:e.formatMessage({id:"steps.label.inntektsinformasjon"}),[s.FRILANS]:e.formatMessage({id:"steps.label.frilans"}),[s.EGEN_NÆRING]:e.formatMessage({id:"steps.label.egenNæring"}),[s.ANDRE_INNTEKTER]:e.formatMessage({id:"steps.label.andreInntekter"}),[s.OPPSUMMERING]:e.formatMessage({id:"steps.label.oppsummering"}),[s.DOKUMENTASJON]:e.formatMessage({id:"søknad.manglendeVedlegg"})}),S=(e,r)=>u.indexOf(r)>u.indexOf(e),J=(e,r,t)=>{var n,a;return e===s.TIDLIGERE_UTENLANDSOPPHOLD?((n=t(E.UTENLANDSOPPHOLD))==null?void 0:n.iNorgeSiste12Mnd)===!1&&S(s.UTENLANDSOPPHOLD,r)||!!t(E.UTENLANDSOPPHOLD_TIDLIGERE):e===s.SENERE_UTENLANDSOPPHOLD?((a=t(E.UTENLANDSOPPHOLD))==null?void 0:a.iNorgeNeste12Mnd)===!1&&S(s.UTENLANDSOPPHOLD,r)||!!t(E.UTENLANDSOPPHOLD_SENERE):!1},j=(e,r,t)=>{var n,a,o;return e===s.FRILANS?((n=t(E.ARBEIDSFORHOLD_OG_INNTEKT))==null?void 0:n.harJobbetSomFrilans)===!0&&S(s.ARBEID_OG_INNTEKT,r)||!!t(E.FRILANS):e===s.EGEN_NÆRING?((a=t(E.ARBEIDSFORHOLD_OG_INNTEKT))==null?void 0:a.harJobbetSomSelvstendigNæringsdrivende)===!0&&S(s.ARBEID_OG_INNTEKT,r)||!!t(E.EGEN_NÆRING):e===s.ANDRE_INNTEKTER?((o=t(E.ARBEIDSFORHOLD_OG_INNTEKT))==null?void 0:o.harHattAndreInntektskilder)===!0&&S(s.ARBEID_OG_INNTEKT,r)||!!t(E.ANDRE_INNTEKTSKILDER):!1},y=(e,r,t)=>{if(e===void 0||r===void 0)return!1;const n=O(e)?e:void 0,a=n?n.erAleneOmOmsorg:!0,o=e!==void 0?B(t,a,e):!1;return!k(r.rolle,t,e)&&!o},$=(e,r,t,n)=>{if(e===s.DOKUMENTASJON){const a=r(E.ANNEN_FORELDER),o=r(E.SØKERSITUASJON),N=r(E.OM_BARNET),i=r(E.UTTAKSPLAN),g=r(E.UTTAKSPLAN_METADATA),d=r(E.ANDRE_INNTEKTSKILDER),l=!!o&&L(o.rolle),T=a&&O(a)?a.datoForAleneomsorg:!1,p=(o==null?void 0:o.situasjon)==="adopsjon"||N&&o&&_(N)&&(t.length===0||y(a,o,l))&&x(o.rolle,N.termindato),f=a&&i?K(i,l,a,n,g==null?void 0:g.perioderSomSkalSendesInn):!1,R=d==null?void 0:d.some(A=>A.type===m.MILITÆRTJENESTE||A.type===m.SLUTTPAKKE);return T||p||f||R}return!1},C=(e,r=!1)=>{const t=F(),n=V(t),a=b(),o=h(),N=c.useMemo(()=>M(Object.values(s).find(d=>d===decodeURIComponent(a.pathname))),[a.pathname]),i=r?H:G,g=c.useMemo(()=>u.flatMap(d=>i.includes(d)||J(d,N,o)||$(d,o,e,r)||j(d,N,o)?[d]:[]),[i,N,o,e,r]);return c.useMemo(()=>g.map((d,l)=>({index:l,id:d,label:n[d],isSelected:d===N})),[g,N,n])},Ee=(e,r,t=!1)=>{const n=C(e,t),a=v(E.APP_ROUTE),o=n.find(l=>l.isSelected);return c.useEffect(()=>{I("sidevisning",{app:"foreldrepengesoknad",team:"foreldrepenger",pageKey:o})},[o]),{goToPreviousDefaultStep:()=>{var p;const l=n.findIndex(f=>f.isSelected)-1,T=((p=n[l])==null?void 0:p.id)||s.VELKOMMEN;return a(T),r()},goToNextStep:l=>(a(l),r()),goToNextDefaultStep:()=>{var p;const l=n.findIndex(f=>f.isSelected)+1,T=(p=n[l])==null?void 0:p.id;return a(T),r()},fortsettSøknadSenere:()=>{I("applikasjon-hendelse",{app:"foreldrepengesoknad",team:"foreldrepenger",hendelse:"fortsettSenere"}),window.location="https://nav.no"}}};export{m as A,s as S,Ee as a,se as b,ee as c,re as d,ae as e,Z as f,B as g,oe as h,L as i,ne as j,te as k,k as l,X as m,C as u};
