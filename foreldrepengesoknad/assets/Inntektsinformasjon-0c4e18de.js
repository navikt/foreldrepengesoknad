import{j as n}from"./jsx-runtime-69eee039.js";import{_ as se,u as B,aY as Be,i,Y as a,aJ as Me,C as l,Z as U,aT as W,M as ve,B as o,H as je,d as y,G as Fe,j as K,f as Ne,L as Z,R as G,y as te,X as J,b as _,z as ye,aZ as Re,aI as Le,a_ as Ye,a$ as z,m as R,$ as Pe,ab as Ue}from"./Tidsperioden-4a2706b8.js";import"./index-e13aeee6.js";import{r as P}from"./index-7c191284.js";import{a as Ce,g as qe,i as we,L as We}from"./useSøknad-04b7b25e.js";import{g as Je}from"./arbeidsforholdUtils-6d62ecbd.js";import{S as X,a as Ke}from"./mapSøkerinfoDTO-839b6817.js";import{a as Qe}from"./useOnValidSubmit-19c0082d.js";import{u as He}from"./useSøkerinfo-c610746f.js";import{u as $e,a as Ge,b as ze,s as Ze}from"./useSaveLoadedRoute-39f09b2c.js";import"./_baseToString-4b695375.js";import"./_createSet-f4a01039.js";import{I as he}from"./InteractiveListElement-dfcdf878.js";import{A as h,H as Xe,a as en,N as re}from"./Næring-e75300ef.js";import{A as De}from"./AttachmentType-f6ad37cf.js";import{S as oe,F as nn}from"./FormikFileUploader-0289e6c1.js";import{c as V,a as O}from"./formUtils-ac25e84d.js";import{Q as ae}from"./index-47edccfa.js";import{i as w,d as rn}from"./dateUtils-c49a4d94.js";import{a as be}from"./validationUtil-7a58bd89.js";import{F as c}from"./message-a0ddcb00.js";import{B as M,L as Ve}from"./Link-b834ea2b.js";import{l as ee}from"./links-b36d21ab.js";import{I as tn,x as ne}from"./Periodene-c0dd0109.js";import{s as sn}from"./submitUtils-26f9dee8.js";var v=(e=>(e.hattInntektSomFrilans="hattInntektSomFrilans",e.hattInntektSomNæringsdrivende="hattInntektSomNæringsdrivende",e.hattAndreInntekter="hattAndreInntekter",e.frilansOppstartsDato="frilansOppstartsDato",e.jobberFremdelesSomFrilanser="jobberFremdelesSomFrilanser",e.oppdragForNæreVennerEllerFamilie="oppdragForNæreVennerEllerFamilie",e.inntektSomFosterforelder="inntektSomFosterforelder",e))(v||{});const Y=se(),an=(e,r)=>e===h.JOBB_I_UTLANDET?i(r,"inntektsinformasjon.andreInntekter.inntektsliste.jobbIUtlandet"):e===h.MILITÆRTJENESTE?i(r,"inntektsinformasjon.andreInntekter.inntektsliste.førstegangstjeneste"):e===h.SLUTTPAKKE?i(r,"inntektsinformasjon.andreInntekter.inntektsliste.sluttpakke"):i(r,"inntektsinformasjon.andreInntekter.inntektsliste.ventelønn"),de=({andreInntekter:e,deleteAnnenInntekt:r,selectAnnenInntekt:s})=>{const g=B();return e.length===0?null:n.jsx("ul",{style:{margin:0,padding:0,listStyle:"none"},children:e.map((p,A)=>n.jsx(he,{deleteLinkText:"Slett annen inntekt",onDelete:()=>r(p),onEdit:()=>s(p),text:Be(p.tidsperiode),title:an(p.type,g),deleteButtonAriaText:"Slett annen inntekt",editButtonAriaText:"Rediger annen inntekt",missingDocumentation:p.vedlegg.length===0&&p.type!==h.JOBB_I_UTLANDET},`${p.type}${p.tidsperiode.fom}${A}`))})};try{de.displayName="AndreInntekterListe",de.__docgenInfo={description:"",displayName:"AndreInntekterListe",props:{andreInntekter:{defaultValue:null,description:"",name:"andreInntekter",required:!0,type:{name:"AnnenInntekt[]"}},deleteAnnenInntekt:{defaultValue:null,description:"",name:"deleteAnnenInntekt",required:!0,type:{name:"(oppdrag: AnnenInntekt) => void"}},selectAnnenInntekt:{defaultValue:null,description:"",name:"selectAnnenInntekt",required:!0,type:{name:"(oppdrag: AnnenInntekt) => void"}}}}}catch{}var u=(e=>(e.type="type",e.navnPåArbeidsgiver="navnPåArbeidsgiver",e.land="land",e.fom="fom",e.tom="tom",e.pågående="pågående",e.dokumentasjon="dokumentasjon",e))(u||{});const q=se(),L={[u.type]:void 0,[u.fom]:"",[u.tom]:"",[u.pågående]:a.UNANSWERED,[u.navnPåArbeidsgiver]:"",[u.land]:"",[u.dokumentasjon]:[]},Oe=e=>e.type===h.MILITÆRTJENESTE?oe.DOK_MILITÆR_SILVIL_TJENESTE:e.type===h.SLUTTPAKKE?oe.ETTERLØNN_ELLER_SLUTTVEDERLAG:oe.ANNET,on=(e,r)=>({type:r.isVisible(u.type)?e.type:L.type,dokumentasjon:r.isVisible(u.dokumentasjon)?Me(e.dokumentasjon,De.ANNEN_INNTEKT,Oe(e)):L.dokumentasjon,fom:r.isVisible(u.fom)?e.fom:L.fom,tom:r.isVisible(u.tom)?e.tom:L.tom,pågående:r.isVisible(u.pågående)?e.pågående:L.pågående,navnPåArbeidsgiver:r.isVisible(u.navnPåArbeidsgiver)?e.navnPåArbeidsgiver:L.navnPåArbeidsgiver,land:r.isVisible(u.land)?e.land:L.land}),dn=e=>e?e.type===h.JOBB_I_UTLANDET?{...L,navnPåArbeidsgiver:e.arbeidsgiverNavn,land:e.land,fom:e.tidsperiode.fom,tom:e.tidsperiode.tom||"",dokumentasjon:e.vedlegg,pågående:V(e.pågående),type:e.type}:{...L,fom:e.tidsperiode.fom,tom:e.tidsperiode.tom||"",dokumentasjon:e.vedlegg,pågående:V(e.pågående),type:e.type}:{...L},Se=e=>e.type===h.JOBB_I_UTLANDET?{arbeidsgiverNavn:e.navnPåArbeidsgiver,land:e.land,pågående:O(e.pågående),tidsperiode:{fom:e.fom,tom:e.tom},type:e.type,vedlegg:[]}:{pågående:O(e.pågående),tidsperiode:{fom:e.fom,tom:e.tom},type:e.type,vedlegg:e.dokumentasjon||[]},ln={[u.type]:{isIncluded:()=>!0,isAnswered:({type:e})=>l(e)},[u.land]:{isIncluded:({type:e})=>e===h.JOBB_I_UTLANDET,isAnswered:({land:e})=>l(e),visibilityFilter:({type:e})=>e===h.JOBB_I_UTLANDET},[u.navnPåArbeidsgiver]:{isIncluded:({type:e})=>e===h.JOBB_I_UTLANDET,isAnswered:({navnPåArbeidsgiver:e})=>l(e),visibilityFilter:({land:e})=>l(e)},[u.fom]:{isIncluded:()=>!0,isAnswered:({fom:e})=>l(e),visibilityFilter:({type:e,navnPåArbeidsgiver:r,land:s})=>e===h.JOBB_I_UTLANDET&&l(r)&&l(s)||e!==h.JOBB_I_UTLANDET&&l(e)},[u.pågående]:{isIncluded:()=>!0,isAnswered:({pågående:e})=>e!==a.UNANSWERED,visibilityFilter:({fom:e})=>l(e)},[u.tom]:{isIncluded:({pågående:e})=>e===a.NO,isAnswered:({tom:e})=>l(e),visibilityFilter:({pågående:e})=>e===a.NO},[u.dokumentasjon]:{isIncluded:({type:e})=>e!==h.JOBB_I_UTLANDET,isAnswered:()=>!0,visibilityFilter:({pågående:e,tom:r})=>e===a.YES||e===a.NO&&l(r)}},gn=ae(ln),mn=(e,r)=>s=>{if(!l(s))return i(e,"valideringsfeil.fraOgMedDato.påkrevd");if(!U(s))return i(e,"valideringsfeil.fraOgMedDato.gyldigDato");if(W(s))return i(e,"valideringsfeil.fraOgMedDato.erIFremtiden");if(w(r,s))return i(e,"valideringsfeil.fraOgMedDato.førTilDato")},pn=(e,r)=>s=>{if(!l(s))return i(e,"valideringsfeil.tilOgMedDato.påkrevd");if(!U(s))return i(e,"valideringsfeil.tilOgMedDato.gyldigDato");if(W(s))return i(e,"valideringsfeil.tilOgMedDato.erIFremtiden");if(w(s,r))return i(e,"valideringsfeil.tilOgMedDato.etterFraDato")};const le=({isOpen:e,contentLabel:r,onRequestClose:s,selectedAnnenInntekt:g,addAnnenInntekt:p,editAnnenInntekt:A})=>{const d=B(),S=Ne("andreInntekterModal"),j=m=>{g?A(Se(m)):p(Se(m)),s()},D=m=>m.type===h.MILITÆRTJENESTE?"inntektsinformasjon.andreInntekterModal.veileder.militær":m.type===h.SLUTTPAKKE?"inntektsinformasjon.andreInntekterModal.veileder.sluttpakke":"inntektsinformasjon.andreInntekterModal.veileder.ventelønn",I=i(d,"annenInntekt.spørsmål.arbeidsgiver");return n.jsx(ve,{open:e,"aria-label":r,onClose:s,closeButton:!0,shouldCloseOnOverlayClick:!1,className:S.block,children:n.jsx(q.FormikWrapper,{initialValues:dn(g),onSubmit:j,renderForm:({values:m})=>{const f=gn.getVisbility(m);return n.jsxs(q.Form,{includeButtons:!1,cleanup:F=>on(F,f),children:[n.jsx(o,{padBottom:"l",children:n.jsx(je,{size:"small",className:S.element("tittel"),children:n.jsx(c,{id:"inntektsinformasjon.andreInntekterModal.tittel"})})}),n.jsx(o,{padBottom:"l",visible:f.isVisible(u.type),children:n.jsx(q.RadioGroup,{legend:"Andre inntekter",name:u.type,radios:[{label:"Jobb i utlandet",value:h.JOBB_I_UTLANDET},{label:"Vartpenger og ventelønn",value:h.VENTELØNN},{label:"Sluttvederlag",value:h.SLUTTPAKKE},{label:"Førstegangstjeneste",value:h.MILITÆRTJENESTE}]})}),n.jsx(o,{padBottom:"l",visible:f.isVisible(u.land),children:n.jsx(q.CountrySelect,{name:u.land,label:i(d,"annenInntekt.spørsmål.land"),useAlpha3Code:!1})}),n.jsx(o,{padBottom:"l",visible:f.isVisible(u.navnPåArbeidsgiver),children:n.jsx(q.TextField,{name:u.navnPåArbeidsgiver,label:I,validate:be(I,d)})}),n.jsx(o,{padBottom:"l",visible:f.isVisible(u.fom),children:n.jsx(q.DatePicker,{name:u.fom,label:i(d,"fom"),placeholder:"dd.mm.åååå",fullscreenOverlay:!0,showYearSelector:!0,validate:mn(d,m.tom),maxDate:y().toDate()})}),n.jsx(o,{padBottom:"l",visible:f.isVisible(u.pågående),children:n.jsx(q.YesOrNoQuestion,{name:u.pågående,legend:i(d,"pågående")})}),n.jsx(o,{padBottom:"l",visible:f.isVisible(u.tom),children:n.jsx(q.DatePicker,{name:u.tom,label:i(d,"tom"),placeholder:"dd.mm.åååå",fullscreenOverlay:!0,showYearSelector:!0,validate:pn(d,m.fom),maxDate:y().toDate()})}),n.jsx(o,{padBottom:"l",visible:f.isVisible(u.dokumentasjon),children:n.jsx(Fe,{children:n.jsx(c,{id:D(m)})})}),n.jsx(o,{padBottom:"l",visible:f.isVisible(u.dokumentasjon),children:n.jsx(nn,{legend:"Dokumentasjon av andre inntekter",name:u.dokumentasjon,label:"Last opp dokumentasjon",attachments:m.dokumentasjon,attachmentType:De.ANNEN_INNTEKT,skjemanummer:Oe(m)})}),n.jsx(o,{visible:f.areAllQuestionsAnswered(),textAlignCenter:!0,children:n.jsx(K,{children:i(d,"søknad.gåVidere")})})]})}})})};try{le.displayName="AndreInntekterModal",le.__docgenInfo={description:"",displayName:"AndreInntekterModal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},contentLabel:{defaultValue:null,description:"",name:"contentLabel",required:!0,type:{name:"string"}},onRequestClose:{defaultValue:null,description:"",name:"onRequestClose",required:!0,type:{name:"() => void"}},addAnnenInntekt:{defaultValue:null,description:"",name:"addAnnenInntekt",required:!0,type:{name:"(annenInntekt: AnnenInntekt) => void"}},editAnnenInntekt:{defaultValue:null,description:"",name:"editAnnenInntekt",required:!0,type:{name:"(annenInntekt: AnnenInntekt) => void"}},selectedAnnenInntekt:{defaultValue:null,description:"",name:"selectedAnnenInntekt",required:!0,type:{name:"AnnenInntekt | undefined"}}}}}catch{}const ge=({andreInntekterInformasjon:e,setAndreInntekterInformasjon:r,visibility:s,formValues:g})=>{const p=B(),[A,d]=P.useState(!1),[S,j]=P.useState(),D=()=>{d(!0)},I=k=>{const x=e.concat(k);r(x)},m=k=>{const x=e.filter(T=>T!==k);r(x)},f=k=>{const x=e.filter(T=>T!==S).concat(k);r(x)},F=k=>{j(k),d(!0)};return n.jsxs(n.Fragment,{children:[n.jsx(o,{padBottom:"l",visible:s.isVisible(v.hattAndreInntekter),children:n.jsx(Y.YesOrNoQuestion,{name:v.hattAndreInntekter,legend:i(p,"inntektsinformasjon.annenInntekt"),validate:k=>{if(k===a.YES&&e.length===0)return i(p,"valideringsfeil.inntektsinformasjon.andreInntekter.måHaOppdrag")}})}),g.hattAndreInntekter===a.YES&&n.jsxs("div",{style:{backgroundColor:"#f1f1f1",marginBottom:"1rem",padding:"1rem"},children:[n.jsx(le,{isOpen:A,contentLabel:i(p,"inntektsinformasjon.andreInntekterModal.contentLabel"),onRequestClose:()=>d(!1),selectedAnnenInntekt:S,addAnnenInntekt:I,editAnnenInntekt:f}),n.jsx(o,{padBottom:"l",visible:e.length>0,children:n.jsx(de,{andreInntekter:e,deleteAnnenInntekt:m,selectAnnenInntekt:F})}),n.jsx(K,{type:"button",onClick:D,children:n.jsx(c,{id:"inntektsinformasjon.leggTilOppdrag"})})]})]})};try{ge.displayName="AndreInntekter",ge.__docgenInfo={description:"",displayName:"AndreInntekter",props:{andreInntekterInformasjon:{defaultValue:null,description:"",name:"andreInntekterInformasjon",required:!0,type:{name:"AnnenInntekt[]"}},setAndreInntekterInformasjon:{defaultValue:null,description:"",name:"setAndreInntekterInformasjon",required:!0,type:{name:"any"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<InntektsinformasjonFormField, undefined>"}},formValues:{defaultValue:null,description:"",name:"formValues",required:!0,type:{name:"InntektsinformasjonFormData"}}}}}catch{}const me=({arbeidsforhold:e})=>{const r=e!==void 0&&e.length>0;return n.jsxs(o,{padBottom:"xl",children:[n.jsx(Z,{children:"Dine arbeidsforhold"}),n.jsx(Xe,{harArbeidsforhold:r}),n.jsx(en,{harArbeidsforhold:r,arbeidsforhold:e}),n.jsx(G,{header:"Finner du feil eller mangler?",children:n.jsx(M,{children:"Informasjonen er hentet fra Arbeidsgiver- og arbeidstakerregisteret. Derfor må du be din arbeidsgiver oppdatere med riktig informasjon i Arbeidsgiver- og arbeidstakerregisteret."})})]})};try{me.displayName="ArbeidsforholdInformasjon",me.__docgenInfo={description:"",displayName:"ArbeidsforholdInformasjon",props:{arbeidsforhold:{defaultValue:null,description:"",name:"arbeidsforhold",required:!0,type:{name:"Arbeidsforhold[]"}}}}}catch{}const fn=({næringsInformasjon:e,deleteNæring:r,selectNæring:s})=>e.length===0?null:n.jsx("ul",{style:{margin:0,padding:0,listStyle:"none"},children:e.map((g,p)=>n.jsx(he,{deleteLinkText:"Slett næring",onDelete:()=>r(g),onEdit:()=>s(g),text:`${te(g.tidsperiode.fom)} - ${g.tidsperiode.tom?te(g.tidsperiode.tom):"pågående"}`,title:g.navnPåNæringen,deleteButtonAriaText:"Slett næring",editButtonAriaText:"Rediger næring"},`${g.navnPåNæringen}${p}`))});try{EgenNringListe.displayName="EgenNringListe",EgenNringListe.__docgenInfo={description:"",displayName:"EgenNringListe",props:{næringsInformasjon:{defaultValue:null,description:"",name:"næringsInformasjon",required:!0,type:{name:"Næring[]"}},deleteNæring:{defaultValue:null,description:"",name:"deleteNæring",required:!0,type:{name:"(oppdrag: Næring) => void"}},selectNæring:{defaultValue:null,description:"",name:"selectNæring",required:!0,type:{name:"(oppdrag: Næring) => void"}}}}}catch{}const un=()=>{const e=B();return n.jsx(G,{header:i(e,"inntektsinformasjon.harJobbetSomSelvstendigNæringsdrivendeSiste10Mnd.apneLabel"),children:n.jsxs("div",{children:[n.jsx(o,{padBottom:"l",children:n.jsx(M,{children:n.jsx(c,{id:"inntektsinformasjon.harJobbetSomSelvstendigNæringsdrivendeSiste10Mnd.infoboks.del1"})})}),n.jsx(M,{children:n.jsx(c,{id:"inntektsinformasjon.harJobbetSomSelvstendigNæringsdrivendeSiste10Mnd.infoboks.del2",values:{a:r=>n.jsx(Ve,{href:ee.næringsdrivendeInfoBoks,rel:"noreferrer",target:"_blank",children:r})}})})]})})};var t=(e=>(e.type="type",e.navnPåNæringen="navnPåNæringen",e.registrertINorge="registrertINorge",e.orgnr="orgnr",e.land="land",e.fom="fom",e.tom="tom",e.pågående="pågående",e.yrkesAktivDato="yrkesAktivDato",e.næringsresultat="næringsresultat",e.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene="harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene",e.hattVarigEndringAvNæringsinntektSiste4Kalenderår="hattVarigEndringAvNæringsinntektSiste4Kalenderår",e.datoForEndring="datoForEndring",e.inntektEtterEndring="inntektEtterEndring",e.forklaringEndring="forklaringEndring",e.harRegnskapsfører="harRegnskapsfører",e.navnRegnskapsfører="navnRegnskapsfører",e.telefonRegnskapsfører="telefonRegnskapsfører",e.regnskapsførerNærVennEllerFamilie="regnskapsførerNærVennEllerFamilie",e))(t||{});const N=se(),b={[t.type]:void 0,[t.navnPåNæringen]:"",[t.registrertINorge]:a.UNANSWERED,[t.orgnr]:"",[t.land]:"",[t.tom]:"",[t.fom]:"",[t.pågående]:a.UNANSWERED,[t.næringsresultat]:"",[t.hattVarigEndringAvNæringsinntektSiste4Kalenderår]:a.UNANSWERED,[t.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene]:a.UNANSWERED,[t.yrkesAktivDato]:"",[t.datoForEndring]:"",[t.inntektEtterEndring]:"",[t.forklaringEndring]:"",[t.harRegnskapsfører]:a.UNANSWERED,[t.navnRegnskapsfører]:"",[t.telefonRegnskapsfører]:"",[t.regnskapsførerNærVennEllerFamilie]:a.UNANSWERED},cn=(e,r)=>({type:r.isVisible(t.type)?e.type:void 0,navnPåNæringen:r.isVisible(t.navnPåNæringen)?e.navnPåNæringen:b.navnPåNæringen,registrertINorge:r.isVisible(t.registrertINorge)?e.registrertINorge:b.registrertINorge,orgnr:r.isVisible(t.orgnr)?e.orgnr:b.orgnr,land:r.isVisible(t.land)?e.land:b.land,tom:r.isVisible(t.tom)?e.tom:b.tom,fom:r.isVisible(t.fom)?e.fom:b.fom,pågående:r.isVisible(t.pågående)?e.pågående:b.pågående,næringsresultat:r.isVisible(t.næringsresultat)?e.næringsresultat:b.næringsresultat,hattVarigEndringAvNæringsinntektSiste4Kalenderår:r.isVisible(t.hattVarigEndringAvNæringsinntektSiste4Kalenderår)?e.hattVarigEndringAvNæringsinntektSiste4Kalenderår:b.hattVarigEndringAvNæringsinntektSiste4Kalenderår,harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene:r.isVisible(t.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene)?e.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene:b.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene,yrkesAktivDato:r.isVisible(t.yrkesAktivDato)?e.yrkesAktivDato:b.yrkesAktivDato,datoForEndring:r.isVisible(t.datoForEndring)?e.datoForEndring:b.datoForEndring,inntektEtterEndring:r.isVisible(t.inntektEtterEndring)?e.inntektEtterEndring:b.inntektEtterEndring,forklaringEndring:r.isVisible(t.forklaringEndring)?e.forklaringEndring:b.forklaringEndring,harRegnskapsfører:r.isVisible(t.harRegnskapsfører)?e.harRegnskapsfører:b.harRegnskapsfører,navnRegnskapsfører:r.isVisible(t.navnRegnskapsfører)?e.navnRegnskapsfører:b.navnRegnskapsfører,telefonRegnskapsfører:r.isVisible(t.telefonRegnskapsfører)?e.telefonRegnskapsfører:b.telefonRegnskapsfører,regnskapsførerNærVennEllerFamilie:r.isVisible(t.regnskapsførerNærVennEllerFamilie)?e.regnskapsførerNærVennEllerFamilie:b.regnskapsførerNærVennEllerFamilie}),kn=e=>{var r;return e?{...b,type:e.næringstyper.length>0?e.næringstyper[0]:void 0,navnPåNæringen:e.navnPåNæringen,registrertINorge:V(e.registrertINorge),land:e.registrertILand||"",fom:J(e.tidsperiode.fom),tom:J(e.tidsperiode.tom)||"",orgnr:e.organisasjonsnummer||"",pågående:V(e.pågående),næringsresultat:((r=e.næringsinntekt)==null?void 0:r.toString())||"",hattVarigEndringAvNæringsinntektSiste4Kalenderår:V(e.hattVarigEndringAvNæringsinntektSiste4Kalenderår),harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene:V(e.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene),yrkesAktivDato:J(e.oppstartsdato)||"",datoForEndring:e.endringAvNæringsinntektInformasjon?J(e.endringAvNæringsinntektInformasjon.dato):"",inntektEtterEndring:e.endringAvNæringsinntektInformasjon?e.endringAvNæringsinntektInformasjon.næringsinntektEtterEndring.toString():"",forklaringEndring:e.endringAvNæringsinntektInformasjon?e.endringAvNæringsinntektInformasjon.forklaring:"",harRegnskapsfører:V(e.harRegnskapsfører),navnRegnskapsfører:e.regnskapsfører?e.regnskapsfører.navn:"",telefonRegnskapsfører:e.regnskapsfører?e.regnskapsfører.telefonnummer:"",regnskapsførerNærVennEllerFamilie:V(e.regnskapsfører?e.regnskapsfører.erNærVennEllerFamilie:void 0)}:{...b}},xe=e=>{let r,s;return e.hattVarigEndringAvNæringsinntektSiste4Kalenderår===a.YES&&(r={dato:_(e.datoForEndring),forklaring:e.forklaringEndring,næringsinntektEtterEndring:parseInt(e.inntektEtterEndring)}),e.harRegnskapsfører===a.YES&&(s={navn:e.navnRegnskapsfører,telefonnummer:e.telefonRegnskapsfører,erNærVennEllerFamilie:O(e.regnskapsførerNærVennEllerFamilie)}),{næringstyper:[e.type],navnPåNæringen:e.navnPåNæringen,registrertINorge:O(e.registrertINorge),organisasjonsnummer:l(e.orgnr)?e.orgnr:void 0,registrertILand:l(e.land)?e.land:void 0,tidsperiode:{fom:_(e.fom),tom:_(e.tom)},pågående:O(e.pågående),næringsinntekt:l(e.næringsresultat)?parseInt(e.næringsresultat,10):void 0,hattVarigEndringAvNæringsinntektSiste4Kalenderår:O(e.hattVarigEndringAvNæringsinntektSiste4Kalenderår),harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene:O(e.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene),oppstartsdato:l(e.yrkesAktivDato)?_(e.yrkesAktivDato):void 0,endringAvNæringsinntektInformasjon:r,harRegnskapsfører:O(e.harRegnskapsfører),regnskapsfører:s}},ie=e=>e?y(e).startOf("day").isAfter(rn,"day"):!0,vn={[t.type]:{isIncluded:()=>!0,isAnswered:({type:e})=>e!==void 0},[t.navnPåNæringen]:{isIncluded:()=>!0,isAnswered:({navnPåNæringen:e})=>l(e),visibilityFilter:({type:e})=>e!==void 0},[t.registrertINorge]:{isIncluded:()=>!0,isAnswered:({registrertINorge:e})=>e!==a.UNANSWERED,visibilityFilter:({navnPåNæringen:e})=>l(e)},[t.orgnr]:{isIncluded:({registrertINorge:e})=>e===a.YES,isAnswered:({orgnr:e})=>l(e),visibilityFilter:({registrertINorge:e})=>e===a.YES},[t.land]:{isIncluded:({registrertINorge:e})=>e===a.NO,isAnswered:({land:e})=>l(e),visibilityFilter:({registrertINorge:e})=>e===a.NO},[t.fom]:{isIncluded:()=>!0,isAnswered:({fom:e})=>l(e),visibilityFilter:({orgnr:e,land:r})=>l(e)||l(r)},[t.pågående]:{isIncluded:()=>!0,isAnswered:({pågående:e})=>e!==a.UNANSWERED,visibilityFilter:({fom:e})=>l(e)},[t.tom]:{isIncluded:({pågående:e})=>e===a.NO,isAnswered:({tom:e})=>l(e),visibilityFilter:({pågående:e})=>e===a.NO},[t.næringsresultat]:{isIncluded:({fom:e})=>ie(_(e)),isAnswered:({næringsresultat:e})=>l(e),visibilityFilter:({pågående:e,tom:r})=>e===a.YES||l(r)},[t.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene]:{isIncluded:({fom:e})=>ie(_(e)),isAnswered:({harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene:e})=>e!==a.UNANSWERED,visibilityFilter:({næringsresultat:e})=>l(e)},[t.yrkesAktivDato]:{isIncluded:({fom:e})=>ie(_(e)),isAnswered:({yrkesAktivDato:e})=>l(e),visibilityFilter:({harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene:e})=>e===a.YES},[t.hattVarigEndringAvNæringsinntektSiste4Kalenderår]:{isIncluded:({fom:e})=>!ie(_(e)),isAnswered:({hattVarigEndringAvNæringsinntektSiste4Kalenderår:e})=>e!==a.UNANSWERED,visibilityFilter:({pågående:e,tom:r})=>e===a.YES||l(r)},[t.datoForEndring]:{isIncluded:({hattVarigEndringAvNæringsinntektSiste4Kalenderår:e})=>e===a.YES,isAnswered:({datoForEndring:e})=>l(e),visibilityFilter:({hattVarigEndringAvNæringsinntektSiste4Kalenderår:e})=>e===a.YES},[t.inntektEtterEndring]:{isIncluded:({hattVarigEndringAvNæringsinntektSiste4Kalenderår:e})=>e===a.YES,isAnswered:({inntektEtterEndring:e})=>l(e),visibilityFilter:({datoForEndring:e})=>l(e)},[t.forklaringEndring]:{isIncluded:({hattVarigEndringAvNæringsinntektSiste4Kalenderår:e})=>e===a.YES,isAnswered:({forklaringEndring:e})=>l(e),visibilityFilter:({inntektEtterEndring:e})=>l(e)},[t.harRegnskapsfører]:{isIncluded:()=>!0,isAnswered:({harRegnskapsfører:e})=>e!==a.UNANSWERED,visibilityFilter:({yrkesAktivDato:e,forklaringEndring:r,harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene:s,hattVarigEndringAvNæringsinntektSiste4Kalenderår:g})=>l(e)||l(r)||s===a.NO||g===a.NO},[t.navnRegnskapsfører]:{isIncluded:({harRegnskapsfører:e})=>e===a.YES,isAnswered:({navnRegnskapsfører:e})=>l(e),visibilityFilter:({harRegnskapsfører:e})=>e===a.YES},[t.telefonRegnskapsfører]:{isIncluded:({harRegnskapsfører:e})=>e===a.YES,isAnswered:({telefonRegnskapsfører:e})=>l(e),visibilityFilter:({navnRegnskapsfører:e})=>l(e)},[t.regnskapsførerNærVennEllerFamilie]:{isIncluded:({harRegnskapsfører:e})=>e===a.YES,isAnswered:({regnskapsførerNærVennEllerFamilie:e})=>e!==a.UNANSWERED,visibilityFilter:({telefonRegnskapsfører:e})=>l(e)}},jn=ae(vn),Nn=(e,r)=>s=>{if(!l(s))return i(e,"valideringsfeil.fraOgMedDato.påkrevd");if(!U(s))return i(e,"valideringsfeil.fraOgMedDato.gyldigDato");if(W(s))return i(e,"valideringsfeil.fraOgMedDato.erIFremtiden");if(w(r,s))return i(e,"valideringsfeil.fraOgMedDato.førTilDato")},hn=(e,r)=>s=>{if(!l(s))return i(e,"valideringsfeil.tilOgMedDato.påkrevd");if(!U(s))return i(e,"valideringsfeil.tilOgMedDato.gyldigDato");if(W(s))return i(e,"valideringsfeil.fraOgMedDato.erIFremtiden");if(w(s,r))return i(e,"valideringsfeil.fraOgMedDato.førTilDato")},bn=e=>r=>{if(!tn(r))return i(e,"valideringsfeil.inntektsinformasjon.orgnr.ugyldigFormat")},En=(e,r)=>s=>s.length<25?i(e,"valideringsfeil.inntektsinformasjon.forklaringTilEndring.forKort"):s.length>1e3?i(e,"valideringsfeil.inntektsinformasjon.forklaringTilEndring.forLang"):ye(s,r,e),Sn=e=>r=>{if(!l(r))return i(e,"valideringsfeil.tilOgMedDato.påkrevd");if(!U(r))return i(e,"valideringsfeil.tilOgMedDato.gyldigDato");if(W(r))return i(e,"valideringsfeil.fraOgMedDato.erIFremtiden")},xn=e=>r=>{if(!l(r))return i(e,"valideringsfeil.tilOgMedDato.påkrevd");if(!U(r))return i(e,"valideringsfeil.tilOgMedDato.gyldigDato");if(W(r))return i(e,"valideringsfeil.fraOgMedDato.erIFremtiden")},pe=(e,r)=>s=>{const g=Re(s);if(!g||Math.round(g)!==g)return i(e,r)},fe=({visibility:e})=>{const r=B();return n.jsxs(n.Fragment,{children:[n.jsx(o,{padBottom:"l",visible:e.isVisible(t.orgnr),children:n.jsx(N.NumberInput,{name:t.orgnr,label:i(r,"inntektsinformasjon.egenNæringModal.orgnr"),validate:bn(r)})}),n.jsx(o,{padBottom:"l",visible:e.isVisible(t.land),children:n.jsx(N.CountrySelect,{name:t.land,label:i(r,"inntektsinformasjon.egenNæringModal.registrertILand"),useAlpha3Code:!1,validate:s=>{if(!l(s))return i(r,"valideringsfeil.inntektsinformasjon.egenNæring.land")}})})]})};try{fe.displayName="OrgnummerEllerLand",fe.__docgenInfo={description:"",displayName:"OrgnummerEllerLand",props:{visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<EgenNæringModalFormField, undefined>"}}}}}catch{}const An=({visibility:e})=>{const r=B(),s=i(r,"inntektsinformasjon.egenNæringModal.regnskapsførerNavn");return n.jsxs(n.Fragment,{children:[n.jsx(o,{padBottom:"l",visible:e.isVisible(t.harRegnskapsfører),children:n.jsx(N.YesOrNoQuestion,{name:t.harRegnskapsfører,legend:i(r,"inntektsinformasjon.egenNæringModal.harRegnskapsfører")})}),n.jsx(o,{padBottom:"l",visible:e.isVisible(t.navnRegnskapsfører),children:n.jsx(N.TextField,{name:t.navnRegnskapsfører,maxLength:100,label:s,validate:be(s,r)})}),n.jsx(o,{padBottom:"l",visible:e.isVisible(t.telefonRegnskapsfører),children:n.jsx(N.NumberInput,{name:t.telefonRegnskapsfører,label:i(r,"inntektsinformasjon.egenNæringModal.regnskapsførerTlf"),validate:pe(r,"valideringsfeil.inntektsinformasjon.regnskapsførerTelefonnummer.ugyldigFormat")})}),n.jsx(o,{padBottom:"l",visible:e.isVisible(t.regnskapsførerNærVennEllerFamilie),children:n.jsx(N.YesOrNoQuestion,{name:t.regnskapsførerNærVennEllerFamilie,legend:i(r,"inntektsinformasjon.egenNæringModal.regnskapsførerNærVennEllerFamilie")})}),n.jsx(o,{padBottom:"l",visible:e.isVisible(t.regnskapsførerNærVennEllerFamilie),children:n.jsx(Fe,{children:n.jsx(M,{children:n.jsx(c,{id:"inntektsinformasjon.egenNæringModal.regnskapsførerVeileder"})})})})]})};try{Regnskapsfrer.displayName="Regnskapsfrer",Regnskapsfrer.__docgenInfo={description:"",displayName:"Regnskapsfrer",props:{visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<EgenNæringModalFormField, undefined>"}}}}}catch{}const In=({isOpen:e,title:r,onRequestClose:s,selectedNæring:g,addNæring:p,editNæring:A})=>{const d=B(),S=Ne("egenNæringModal"),j=m=>{g?A(xe(m)):p(xe(m)),s()},D=i(d,"inntektsinformasjon.egenNæringModal.navnPåNæring"),I=i(d,"inntektsinformasjon.egenNæringModal.varigEndringAvNæringsinntektForklaring");return n.jsx(ve,{open:e,"aria-label":r,onClose:s,closeButton:!0,shouldCloseOnOverlayClick:!1,className:S.block,children:n.jsx(N.FormikWrapper,{initialValues:kn(g),onSubmit:m=>j(m),renderForm:({values:m})=>{const f=jn.getVisbility(m);return n.jsxs(N.Form,{includeButtons:!1,cleanup:F=>cn(F,f),includeValidationSummary:!0,children:[n.jsx(o,{padBottom:"l",children:n.jsx(je,{size:"small",className:S.element("tittel"),children:n.jsx(c,{id:"inntektsinformasjon.egenNæringModal.tittel"})})}),n.jsx(o,{padBottom:"l",visible:f.isVisible(t.type),children:n.jsx(N.RadioGroup,{name:t.type,legend:i(d,"inntektsinformasjon.egenNæringModal.næringstype"),radios:[{label:i(d,"inntektsinformasjon.egenNæringModal.næringstype.dagmamma"),value:re.DAGMAMMA},{label:i(d,"inntektsinformasjon.egenNæringModal.næringstype.fiske"),value:re.FISKER},{label:i(d,"inntektsinformasjon.egenNæringModal.næringstype.jordbrukSkogbruk"),value:re.JORDBRUK},{label:i(d,"inntektsinformasjon.egenNæringModal.næringstype.annen"),value:re.ANNET}]})}),n.jsx(o,{padBottom:"l",visible:f.isVisible(t.navnPåNæringen),children:n.jsx(N.TextField,{name:t.navnPåNæringen,label:D,maxLength:100,validate:be(D,d)})}),n.jsx(o,{padBottom:"l",visible:f.isVisible(t.registrertINorge),children:n.jsx(N.YesOrNoQuestion,{name:t.registrertINorge,legend:i(d,"inntektsinformasjon.egenNæringModal.erNæringenRegistrertINorge",{navnPåNæringen:m.navnPåNæringen}),validate:F=>{if(F===a.UNANSWERED)return i(d,"valideringsfeil.inntektsinformasjon.egenNæring.registrertINorge")}})}),n.jsx(fe,{visibility:f}),n.jsx(o,{padBottom:"l",visible:f.isVisible(t.fom),children:n.jsx(N.DatePicker,{name:t.fom,label:i(d,"inntektsinformasjon.egenNæringModal.startetNæring.fom",{navnPåNæringen:m.navnPåNæringen}),placeholder:"dd.mm.åååå",fullscreenOverlay:!0,showYearSelector:!0,validate:Nn(d,m.tom),maxDate:y().toDate()})}),n.jsx(o,{padBottom:"l",visible:f.isVisible(t.pågående),children:n.jsx(N.YesOrNoQuestion,{name:t.pågående,legend:i(d,"inntektsinformasjon.egenNæringModal.startetNæring.pågående",{navnPåNæringen:m.navnPåNæringen})})}),n.jsx(o,{padBottom:"l",visible:f.isVisible(t.tom),children:n.jsx(N.DatePicker,{name:t.tom,label:i(d,"inntektsinformasjon.egenNæringModal.startetNæring.tom",{navnPåNæringen:m.navnPåNæringen}),placeholder:"dd.mm.åååå",fullscreenOverlay:!0,showYearSelector:!0,validate:hn(d,m.fom),maxDate:y().toDate(),minDate:y(m.fom).toDate()})}),n.jsxs(o,{padBottom:"l",visible:f.isVisible(t.næringsresultat),children:[n.jsx(N.NumberInput,{name:t.næringsresultat,label:i(d,"inntektsinformasjon.egenNæringModal.næringsinntekt"),validate:pe(d,"valideringsfeil.inntektsinformasjon.næringsinntekt.ugyldigFormat")}),n.jsx(G,{header:i(d,"inntektsinformasjon.egenNæringModal.næringsinntekt.info.apneLabel"),children:n.jsx(M,{children:n.jsx(c,{id:"inntektsinformasjon.egenNæringModal.næringsinntekt.info"})})})]}),n.jsxs(o,{padBottom:"l",visible:f.isVisible(t.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene),children:[n.jsx(N.YesOrNoQuestion,{name:t.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene,legend:i(d,"inntektsinformasjon.egenNæringModal.blittYrkesaktivSiste3År")}),n.jsx(G,{header:i(d,"inntektsinformasjon.egenNæringModal.blittYrkesaktivSiste3År.info.apneLabel"),children:n.jsx(M,{children:n.jsx(c,{id:"inntektsinformasjon.egenNæringModal.blittYrkesaktivSiste3År.info"})})})]}),n.jsx(o,{padBottom:"l",visible:f.isVisible(t.yrkesAktivDato),children:n.jsx(N.DatePicker,{name:t.yrkesAktivDato,label:i(d,"inntektsinformasjon.egenNæringModal.yrkesaktivDato"),placeholder:"dd.mm.åååå",fullscreenOverlay:!0,showYearSelector:!0,validate:xn(d),maxDate:y().toDate()})}),n.jsxs(o,{padBottom:"l",visible:f.isVisible(t.hattVarigEndringAvNæringsinntektSiste4Kalenderår),children:[n.jsx(N.YesOrNoQuestion,{name:t.hattVarigEndringAvNæringsinntektSiste4Kalenderår,legend:i(d,"inntektsinformasjon.egenNæringModal.varigEndringAvNæringsinntekt")}),n.jsx(G,{header:i(d,"inntektsinformasjon.egenNæringModal.varigEndringAvNæringsinntekt.readmoreTittel"),children:n.jsx(M,{children:n.jsx(c,{id:"inntektsinformasjon.egenNæringModal.varigEndringAvNæringsinntekt.readmoreTekst"})})})]}),n.jsx(o,{padBottom:"l",visible:f.isVisible(t.datoForEndring),children:n.jsx(N.DatePicker,{name:t.datoForEndring,label:i(d,"inntektsinformasjon.egenNæringModal.varigEndringAvNæringsinntektDato"),placeholder:"dd.mm.åååå",fullscreenOverlay:!0,showYearSelector:!0,validate:Sn(d),maxDate:y().toDate()})}),n.jsx(o,{padBottom:"l",visible:f.isVisible(t.inntektEtterEndring),children:n.jsx(N.NumberInput,{name:t.inntektEtterEndring,label:i(d,"inntektsinformasjon.egenNæringModal.inntektEtterEndring"),validate:pe(d,"valideringsfeil.inntektsinformasjon.varigEndringAvInntekt.ugyldigFormat")})}),n.jsx(o,{padBottom:"l",visible:f.isVisible(t.forklaringEndring),children:n.jsx(N.Textarea,{name:t.forklaringEndring,label:I,maxLength:1e3,validate:En(d,I)})}),n.jsx(An,{visibility:f}),n.jsx(o,{visible:f.areAllQuestionsAnswered(),textAlignCenter:!0,children:n.jsx(K,{children:i(d,"søknad.gåVidere")})})]})}})})};try{EgenNringModal.displayName="EgenNringModal",EgenNringModal.__docgenInfo={description:"",displayName:"EgenNringModal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},onRequestClose:{defaultValue:null,description:"",name:"onRequestClose",required:!0,type:{name:"() => void"}},selectedNæring:{defaultValue:null,description:"",name:"selectedNæring",required:!1,type:{name:"Næring"}},addNæring:{defaultValue:null,description:"",name:"addNæring",required:!0,type:{name:"(næring: Næring) => void"}},editNæring:{defaultValue:null,description:"",name:"editNæring",required:!0,type:{name:"(næring: Næring) => void"}}}}}catch{}const Fn=({egenNæringInformasjon:e,setEgenNæringsInformasjon:r,visibility:s,formValues:g})=>{const p=B(),[A,d]=P.useState(!1),[S,j]=P.useState(),D=()=>{d(!0),j(void 0)},I=k=>{const x=e.concat(k);r(x)},m=k=>{const x=e.filter(T=>T!==k);r(x)},f=k=>{const x=e.filter(T=>T!==S).concat(k);r(x)},F=k=>{j(k),d(!0)};return n.jsxs(n.Fragment,{children:[n.jsx(o,{visible:s.isVisible(v.hattInntektSomNæringsdrivende),children:n.jsxs(o,{padBottom:"l",children:[n.jsx(Y.YesOrNoQuestion,{name:v.hattInntektSomNæringsdrivende,legend:i(p,"inntektsinformasjon.harJobbetSomSelvstendigNæringsdrivendeSiste10Mnd"),validate:k=>{if(k===a.YES&&e.length===0)return i(p,"valideringsfeil.inntektsinformasjon.andreInntekter.måHaVirksomhet")}}),n.jsx(un,{})]})}),g.hattInntektSomNæringsdrivende===a.YES&&n.jsxs("div",{style:{backgroundColor:"#f1f1f1",marginBottom:"1rem",padding:"1rem"},children:[n.jsx(In,{isOpen:A,title:"Næringsinformasjon",onRequestClose:()=>d(!1),selectedNæring:S,addNæring:I,editNæring:f}),n.jsx(o,{padBottom:"l",visible:e.length>0,children:n.jsx(fn,{næringsInformasjon:e,deleteNæring:m,selectNæring:F})}),n.jsx(K,{type:"button",onClick:D,children:n.jsx(c,{id:"inntektsinformasjon.leggTilVirksomhet"})})]})]})};try{EgenNring.displayName="EgenNring",EgenNring.__docgenInfo={description:"",displayName:"EgenNring",props:{egenNæringInformasjon:{defaultValue:null,description:"",name:"egenNæringInformasjon",required:!0,type:{name:"Næring[]"}},setEgenNæringsInformasjon:{defaultValue:null,description:"",name:"setEgenNæringsInformasjon",required:!0,type:{name:"(oppdrag: Næring[]) => void"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<InntektsinformasjonFormField, undefined>"}},formValues:{defaultValue:null,description:"",name:"formValues",required:!0,type:{name:"InntektsinformasjonFormData"}}}}}catch{}const yn=e=>r=>{if(!l(r))return i(e,"valideringsfeil.inntektsinformasjon.frilansoppstartsDato.påkrevd");if(!U(r))return i(e,"valideringsfeil.inntektsinformasjon.frilansoppstartsDato.ugyldigDatoFormat");if(y().isBefore(y(r),"day"))return i(e,"valideringsfeil.inntektsinformasjon.frilansoppstartsDato.kanIkkeVæreFremITid")},ue=({frilansoppdrag:e,deleteFrilansoppdrag:r,selectOppdrag:s})=>e.length===0?null:n.jsx("ul",{style:{margin:0,padding:0,listStyle:"none"},children:e.map((g,p)=>n.jsx(he,{deleteLinkText:"Slett oppdrag",onDelete:()=>r(g),onEdit:()=>s(g),text:`${te(g.tidsperiode.fom)} - ${g.tidsperiode.tom?te(g.tidsperiode.tom):"pågående"}`,title:g.navnPåArbeidsgiver,deleteButtonAriaText:`Slett oppdrag for ${g.navnPåArbeidsgiver}`,editButtonAriaText:`Rediger oppdrag for ${g.navnPåArbeidsgiver}`},`${g.navnPåArbeidsgiver}+${p}`))});try{ue.displayName="FrilansoppdragListe",ue.__docgenInfo={description:"",displayName:"FrilansoppdragListe",props:{frilansoppdrag:{defaultValue:null,description:"",name:"frilansoppdrag",required:!0,type:{name:"FrilansOppdrag[]"}},deleteFrilansoppdrag:{defaultValue:null,description:"",name:"deleteFrilansoppdrag",required:!0,type:{name:"(oppdrag: FrilansOppdrag) => void"}},selectOppdrag:{defaultValue:null,description:"",name:"selectOppdrag",required:!0,type:{name:"(oppdrag: FrilansOppdrag) => void"}}}}}catch{}const Dn=()=>{const e=B();return n.jsx(G,{header:i(e,"inntektsinformasjon.harDuJobbetSomFrilansSiste10Mnd.apneLabel"),children:n.jsxs("div",{children:[n.jsx(o,{padBottom:"l",children:n.jsx(M,{children:n.jsx(c,{id:"inntektsinformasjon.harDuJobbetSomFrilansSiste10Mnd.infoboksTekst.del1"})})}),n.jsx(o,{padBottom:"l",children:n.jsx(M,{children:n.jsx(c,{id:"inntektsinformasjon.harDuJobbetSomFrilansSiste10Mnd.infoboksTekst.del2"})})}),n.jsx(M,{children:n.jsx(c,{id:"inntektsinformasjon.harDuJobbetSomFrilansSiste10Mnd.infoboksTekst.del3",values:{a:r=>n.jsx(Ve,{href:ee.frilanserInfoBoks,rel:"noreferrer",target:"_blank",children:r})}})})]})})};var E=(e=>(e.navnOppdragsgiver="navnOppdragsgiver",e.fom="fom",e.tom="tom",e.pågående="pågående",e))(E||{});const H=se(),$={[E.navnOppdragsgiver]:"",[E.fom]:"",[E.tom]:"",[E.pågående]:a.UNANSWERED},Vn=(e,r)=>({navnOppdragsgiver:r.isVisible(E.navnOppdragsgiver)?e.navnOppdragsgiver:$.navnOppdragsgiver,fom:r.isVisible(E.fom)?e.fom:$.fom,tom:r.isVisible(E.tom)?e.tom:$.tom,pågående:r.isVisible(E.pågående)?e.pågående:$.pågående}),Ae=e=>({navnPåArbeidsgiver:e.navnOppdragsgiver,pågående:O(e.pågående),tidsperiode:{fom:_(e.fom),tom:l(e.tom)?_(e.tom):void 0}}),On=e=>e?{...$,fom:J(e.tidsperiode.fom),tom:J(e.tidsperiode.tom)||"",navnOppdragsgiver:e.navnPåArbeidsgiver,pågående:V(e.pågående)}:{...$},Tn={[E.navnOppdragsgiver]:{isIncluded:()=>!0,isAnswered:({navnOppdragsgiver:e})=>l(e)},[E.fom]:{isIncluded:()=>!0,isAnswered:({fom:e})=>l(e),visibilityFilter:({navnOppdragsgiver:e})=>l(e)},[E.pågående]:{isIncluded:()=>!0,isAnswered:({pågående:e})=>e!==a.UNANSWERED,visibilityFilter:({fom:e})=>l(e)},[E.tom]:{isIncluded:({pågående:e})=>e===a.NO,isAnswered:({tom:e})=>l(e),visibilityFilter:({pågående:e})=>e===a.NO}},_n=ae(Tn),Bn=(e,r)=>s=>!l(s)||s.trim()===""?i(e,"valideringsfeil.inntektsinformasjon.frilansoppdrag.navnPåOppdragsgiver.påkrevd"):s.length>100?i(e,"valideringsfeil.inntektsinformasjon.frilansoppdrag.navnPåOppdragsgiver.lengde"):ye(s,r,e),Mn=(e,r,s)=>g=>{if(!l(g))return i(e,"valideringsfeil.fraOgMedDato.påkrevd");if(!U(g))return i(e,"valideringsfeil.fraOgMedDato.gyldigDato");if(W(g))return i(e,"valideringsfeil.fraOgMedDato.erIFremtiden");if(w(g,s))return i(e,"valideringsfeil.inntektsinformasjon.frilansoppdrag.fom.førOppstartsdato");if(w(r,g))return i(e,"valideringsfeil.fraOgMedDato.førTilDato")},Rn=e=>r=>{if(r===a.UNANSWERED)return i(e,"valideringsfeil.inntektsinformasjon.frilansoppdrag.pågående.påkrevd")},Ln=(e,r,s,g)=>p=>{if(r!==a.YES){if(!l(p))return i(e,"valideringsfeil.tilOgMedDato.påkrevd");if(!U(p))return i(e,"valideringsfeil.tilOgMedDato.gyldigDato");if(W(p))return i(e,"valideringsfeil.tilOgMedDato.erIFremtiden");if(w(p,g))return i(e,"valideringsfeil.inntektsinformasjon.frilansoppdrag.tom.førOppstartsdato");if(w(p,s))return i(e,"valideringsfeil.tilOgMedDato.etterFraDato")}};const Yn=e=>y(e).year()<y().year(),ce=({isOpen:e,title:r,onRequestClose:s,selectedFrilansoppdrag:g,addFrilansoppdrag:p,editFrilansoppdrag:A,oppstartsdato:d})=>{const S=Ne("frilansoppdragModal"),j=B(),D=m=>{g?A(Ae(m)):p(Ae(m)),s()},I=i(j,"inntektsinformasjon.frilansOppdrag.oppdragsgiver");return n.jsx(ve,{open:e,"aria-label":r,onClose:s,closeButton:!0,shouldCloseOnOverlayClick:!1,className:S.block,children:n.jsx(H.FormikWrapper,{initialValues:On(g),onSubmit:m=>D(m),renderForm:({values:m})=>{const f=_n.getVisbility(m);return n.jsxs(H.Form,{cleanup:F=>Vn(F,f),children:[n.jsx(je,{size:"small",className:S.element("tittel"),children:n.jsx(c,{id:"inntektsinformasjon.frilansOppdrag.tittel"})}),n.jsx(o,{padBottom:"l",children:n.jsx(H.TextField,{name:E.navnOppdragsgiver,label:I,validate:Bn(j,I)})}),n.jsx(o,{padBottom:"l",visible:f.isVisible(E.fom),children:n.jsx(H.DatePicker,{name:E.fom,label:i(j,"fom"),placeholder:"dd.mm.åååå",fullscreenOverlay:!0,validate:Mn(j,m.tom,d),minDate:y(d).toDate(),maxDate:y().toDate(),showYearSelector:Yn(d)})}),n.jsx(o,{padBottom:"l",visible:f.isVisible(E.pågående),children:n.jsx(H.YesOrNoQuestion,{name:E.pågående,legend:i(j,"inntektsinformasjon.frilansOppdrag.pågående"),validate:Rn(j)})}),n.jsx(o,{padBottom:"l",visible:f.isVisible(E.tom),children:n.jsx(H.DatePicker,{name:E.tom,label:i(j,"tom"),placeholder:"dd.mm.åååå",fullscreenOverlay:!0,validate:Ln(j,m.pågående,m.fom,d),minDate:y(m.fom).toDate(),maxDate:y().toDate(),showYearSelector:!0})})]})}})})};try{ce.displayName="FrilansoppdragModal",ce.__docgenInfo={description:"",displayName:"FrilansoppdragModal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},onRequestClose:{defaultValue:null,description:"",name:"onRequestClose",required:!0,type:{name:"() => void"}},selectedFrilansoppdrag:{defaultValue:null,description:"",name:"selectedFrilansoppdrag",required:!1,type:{name:"FrilansOppdrag"}},addFrilansoppdrag:{defaultValue:null,description:"",name:"addFrilansoppdrag",required:!0,type:{name:"(oppdrag: FrilansOppdrag) => void"}},editFrilansoppdrag:{defaultValue:null,description:"",name:"editFrilansoppdrag",required:!0,type:{name:"(oppdrag: FrilansOppdrag) => void"}},oppstartsdato:{defaultValue:null,description:"",name:"oppstartsdato",required:!0,type:{name:"string"}}}}}catch{}const ke=({frilansoppdrag:e,setFrilansoppdrag:r,visibility:s,formValues:g})=>{const p=B(),[A,d]=P.useState(!1),[S,j]=P.useState(),D=k=>{const x=e.concat(k);r(x)},I=k=>{const x=e.filter(T=>T!==k);r(x)},m=k=>{const x=e.filter(T=>T!==S).concat(k);r(x)},f=k=>{j(k),d(!0)},F=()=>{d(!0),j(void 0)};return n.jsxs(n.Fragment,{children:[n.jsxs(o,{padBottom:"l",visible:s.isVisible(v.hattInntektSomFrilans),children:[n.jsx(Y.YesOrNoQuestion,{name:v.hattInntektSomFrilans,legend:i(p,"inntektsinformasjon.harDuJobbetSomFrilansSiste10Mnd")}),n.jsx(Dn,{})]}),g.hattInntektSomFrilans===a.YES&&n.jsxs("div",{style:{backgroundColor:"#f1f1f1",marginBottom:"1rem",padding:"1rem"},children:[n.jsx(o,{padBottom:"l",visible:s.isVisible(v.frilansOppstartsDato),children:n.jsx(Y.DatePicker,{name:v.frilansOppstartsDato,label:i(p,"inntektsinformasjon.frilans.oppstart"),validate:yn(p),maxDate:Le,minDate:Ye,showYearSelector:!0,placeholder:"dd.mm.åååå"})}),n.jsx(o,{padBottom:"l",visible:s.isVisible(v.jobberFremdelesSomFrilanser),children:n.jsx(Y.YesOrNoQuestion,{name:v.jobberFremdelesSomFrilanser,legend:i(p,"inntektsinformasjon.frilans.jobberFremdelesSomFrilans")})}),n.jsx(o,{padBottom:"l",visible:s.isVisible(v.oppdragForNæreVennerEllerFamilie),children:n.jsx(Y.YesOrNoQuestion,{name:v.oppdragForNæreVennerEllerFamilie,legend:i(p,"inntektsinformasjon.harJobbetForNærVennEllerFamilieSiste10Mnd"),validate:k=>{if(k===a.YES&&e.length===0)return i(p,"valideringsfeil.inntektsinformasjon.andreInntekter.måHaFrilansOppdrag")}})}),n.jsxs(o,{padBottom:"l",visible:g.oppdragForNæreVennerEllerFamilie===a.YES,children:[n.jsx(ce,{isOpen:A,title:i(p,"inntektsinformasjon.frilansOppdrag.tittel"),onRequestClose:()=>d(!1),selectedFrilansoppdrag:S,addFrilansoppdrag:D,editFrilansoppdrag:m,oppstartsdato:g.frilansOppstartsDato}),n.jsx(o,{padBottom:"l",visible:e.length>0,children:n.jsx(ue,{frilansoppdrag:e,deleteFrilansoppdrag:I,selectOppdrag:f})}),n.jsx(K,{type:"button",variant:"secondary",onClick:F,children:n.jsx(c,{id:"inntektsinformasjon.leggTilOppdrag"})})]}),n.jsx(o,{padBottom:"l",visible:s.isVisible(v.inntektSomFosterforelder),children:n.jsx(Y.YesOrNoQuestion,{name:v.inntektSomFosterforelder,legend:i(p,"inntektsinformasjon.driverFosterhjem")})})]})]})};try{ke.displayName="Frilans",ke.__docgenInfo={description:"",displayName:"Frilans",props:{frilansoppdrag:{defaultValue:null,description:"",name:"frilansoppdrag",required:!0,type:{name:"FrilansOppdrag[]"}},setFrilansoppdrag:{defaultValue:null,description:"",name:"setFrilansoppdrag",required:!0,type:{name:"(oppdrag: FrilansOppdrag[]) => void"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<InntektsinformasjonFormField, undefined>"}},formValues:{defaultValue:null,description:"",name:"formValues",required:!0,type:{name:"InntektsinformasjonFormData"}}}}}catch{}const Pn=()=>n.jsxs(z,{"aria-label":"Info til fiskere",children:[n.jsxs(z.Header,{children:[n.jsx(z.Title,{as:"h2",children:n.jsx(c,{id:"inntektsinformasjon.infoTilFiskere.tittel"})}),n.jsx(z.Description,{children:n.jsx(c,{id:"inntektsinformasjon.infoTilFiskere.description"})})]}),n.jsxs(z.Content,{children:[n.jsx(o,{padBottom:"l",children:n.jsx(R,{children:n.jsx(c,{id:"inntektsinformasjon.infoTilFiskere.del1"})})}),n.jsx(Z,{as:"h3",style:{marginBottom:".5rem"},children:n.jsx(c,{id:"inntektsinformasjon.infoTilFiskere.hyre"})}),n.jsx(o,{padBottom:"l",children:n.jsx(R,{children:n.jsx(c,{id:"inntektsinformasjon.infoTilFiskere.del2"})})}),n.jsx(o,{padBottom:"l",children:n.jsx(R,{children:n.jsx(c,{id:"inntektsinformasjon.infoTilFiskere.del3",values:{a:e=>n.jsx("a",{href:ee.hvordanSendeInntektsmelding,target:"_blank",rel:"noreferrer",className:"lenke",children:e})}})})}),n.jsx(Z,{as:"h3",style:{marginBottom:".5rem"},children:n.jsx(c,{id:"inntektsinformasjon.infoTilFiskere.lott"})}),n.jsx(o,{padBottom:"l",children:n.jsx(R,{children:n.jsx(c,{id:"inntektsinformasjon.infoTilFiskere.del4"})})}),n.jsx(o,{padBottom:"l",children:n.jsx(R,{children:n.jsx(c,{id:"inntektsinformasjon.infoTilFiskere.del5",values:{a:e=>n.jsx("a",{href:ee.omLottOgHyre,target:"_blank",rel:"noreferrer",className:"lenke",children:e})}})})}),n.jsx(Z,{as:"h3",style:{marginBottom:".5rem"},children:n.jsx(c,{id:"inntektsinformasjon.infoTilFiskere.egenBåt"})}),n.jsx(o,{padBottom:"l",children:n.jsx(R,{children:n.jsx(c,{id:"inntektsinformasjon.infoTilFiskere.del6"})})}),n.jsx(Z,{as:"h3",style:{marginBottom:".5rem"},children:n.jsx(c,{id:"inntektsinformasjon.infoTilFiskere.lottOgHyre"})}),n.jsx(o,{padBottom:"l",children:n.jsx(R,{children:n.jsx(c,{id:"inntektsinformasjon.infoTilFiskere.del7"})})}),n.jsx(o,{padBottom:"l",children:n.jsx(R,{children:n.jsx(c,{id:"inntektsinformasjon.infoTilFiskere.del8"})})}),n.jsx(o,{padBottom:"l",children:n.jsx(R,{children:n.jsx(c,{id:"inntektsinformasjon.infoTilFiskere.del9"})})}),n.jsx(o,{margin:"none",children:n.jsx(R,{children:n.jsx(c,{id:"inntektsinformasjon.infoTilFiskere.del5",values:{a:e=>n.jsx("a",{href:ee.omLottOgHyre,target:"_blank",rel:"noreferrer",className:"lenke",children:e})}})})})]})]}),Un={[v.hattInntektSomFrilans]:a.UNANSWERED,[v.hattInntektSomNæringsdrivende]:a.UNANSWERED,[v.hattAndreInntekter]:a.UNANSWERED,[v.frilansOppstartsDato]:"",[v.oppdragForNæreVennerEllerFamilie]:a.UNANSWERED,[v.inntektSomFosterforelder]:a.UNANSWERED,[v.jobberFremdelesSomFrilanser]:a.UNANSWERED},Ie=e=>e.harRegnskapsfører?{...e,regnskapsfører:{...e.regnskapsfører,navn:ne(e.regnskapsfører.navn)}}:e,Cn=e=>{const r=ne(e.navnPåNæringen);if(e.hattVarigEndringAvNæringsinntektSiste4Kalenderår){const s={...e.endringAvNæringsinntektInformasjon,forklaring:ne(e.endringAvNæringsinntektInformasjon.forklaring)};return{...Ie(e),navnPåNæringen:r,endringAvNæringsinntektInformasjon:s}}return{...Ie(e),navnPåNæringen:r}},qn=e=>e.map(r=>({...r,navnPåArbeidsgiver:ne(r.navnPåArbeidsgiver)})),wn=e=>e.map(r=>r.type===h.JOBB_I_UTLANDET?{...r,arbeidsgiverNavn:ne(r.arbeidsgiverNavn)}:r),Wn=(e,r,s,g,p)=>{let A;return e.hattInntektSomFrilans===a.YES&&(A={oppstart:_(e.frilansOppstartsDato),jobberFremdelesSomFrilans:O(e.jobberFremdelesSomFrilanser),harJobbetForNærVennEllerFamilieSiste10Mnd:O(e.oppdragForNæreVennerEllerFamilie),driverFosterhjem:O(e.inntektSomFosterforelder),oppdragForNæreVennerEllerFamilieSiste10Mnd:qn(g)}),{erAleneOmOmsorg:r.erAleneOmOmsorg,språkkode:r.språkkode,harHattAnnenInntektSiste10Mnd:O(e.hattAndreInntekter),harJobbetSomFrilansSiste10Mnd:O(e.hattInntektSomFrilans),harJobbetSomSelvstendigNæringsdrivendeSiste10Mnd:O(e.hattInntektSomNæringsdrivende),andreInntekterSiste10Mnd:e.hattAndreInntekter===a.YES?wn(s):[],selvstendigNæringsdrivendeInformasjon:e.hattInntektSomNæringsdrivende===a.YES?p.map(d=>Cn(d)):[],frilansInformasjon:e.hattInntektSomFrilans===a.YES?A:void 0}},Jn=e=>({...Un,hattAndreInntekter:V(e.harHattAnnenInntektSiste10Mnd),hattInntektSomNæringsdrivende:V(e.harJobbetSomSelvstendigNæringsdrivendeSiste10Mnd),hattInntektSomFrilans:V(e.harJobbetSomFrilansSiste10Mnd),frilansOppstartsDato:e.frilansInformasjon?J(e.frilansInformasjon.oppstart):"",inntektSomFosterforelder:e.frilansInformasjon?V(e.frilansInformasjon.driverFosterhjem):a.UNANSWERED,jobberFremdelesSomFrilanser:e.frilansInformasjon?V(e.frilansInformasjon.jobberFremdelesSomFrilans):a.UNANSWERED,oppdragForNæreVennerEllerFamilie:e.frilansInformasjon?V(e.frilansInformasjon.harJobbetForNærVennEllerFamilieSiste10Mnd):a.UNANSWERED}),Kn={[v.hattInntektSomFrilans]:{isIncluded:()=>!0,isAnswered:({hattInntektSomFrilans:e})=>e!==a.UNANSWERED},[v.frilansOppstartsDato]:{isIncluded:({hattInntektSomFrilans:e})=>e===a.YES,isAnswered:({frilansOppstartsDato:e})=>l(e),visibilityFilter:({hattInntektSomFrilans:e})=>e===a.YES},[v.jobberFremdelesSomFrilanser]:{isIncluded:({hattInntektSomFrilans:e})=>e===a.YES,isAnswered:({jobberFremdelesSomFrilanser:e})=>e!==a.UNANSWERED,visibilityFilter:({frilansOppstartsDato:e})=>l(e)},[v.oppdragForNæreVennerEllerFamilie]:{isIncluded:({hattInntektSomFrilans:e})=>e===a.YES,isAnswered:({oppdragForNæreVennerEllerFamilie:e})=>e!==a.UNANSWERED,visibilityFilter:({jobberFremdelesSomFrilanser:e})=>e!==a.UNANSWERED},[v.inntektSomFosterforelder]:{isIncluded:({hattInntektSomFrilans:e})=>e===a.YES,isAnswered:({inntektSomFosterforelder:e})=>e!==a.UNANSWERED,visibilityFilter:({oppdragForNæreVennerEllerFamilie:e})=>e!==a.UNANSWERED},[v.hattInntektSomNæringsdrivende]:{isIncluded:()=>!0,isAnswered:({hattInntektSomNæringsdrivende:e})=>e!==a.UNANSWERED,visibilityFilter:({hattInntektSomFrilans:e})=>e!==a.UNANSWERED},[v.hattAndreInntekter]:{isIncluded:()=>!0,isAnswered:({hattAndreInntekter:e})=>e!==a.UNANSWERED,visibilityFilter:({hattInntektSomNæringsdrivende:e})=>e!==a.UNANSWERED}},Qn=ae(Kn),Hn=e=>e.iNorgeNeste12Mnd?X.SENERE_UTENLANDSOPPHOLD:e.iNorgeSiste12Mnd?X.TIDLIGERE_UTENLANDSOPPHOLD:X.UTENLANDSOPPHOLD,$n=()=>{const e=B(),{arbeidsforhold:r}=He(),{søker:s,barn:g,søkersituasjon:p,informasjonOmUtenlandsopphold:A}=Ce(),d=qe(g),S=p.situasjon==="adopsjon",j=we(p.rolle),[D,I]=P.useState(s.frilansInformasjon?s.frilansInformasjon.oppdragForNæreVennerEllerFamilieSiste10Mnd:[]),[m,f]=P.useState(s.selvstendigNæringsdrivendeInformasjon?s.selvstendigNæringsdrivendeInformasjon:[]),[F,k]=P.useState(s.andreInntekterSiste10Mnd?s.andreInntekterSiste10Mnd:[]),x=C=>{const Q=Wn(C,s,F,D,m);return[Ke.setSøker(Q)]},{handleSubmit:T,isSubmitting:Ee}=Qe(x,X.OPPSUMMERING,C=>sn(C)),Te=$e(),_e=Ge();return ze(X.INNTEKTSINFORMASJON),n.jsx(Y.FormikWrapper,{initialValues:Jn(s),onSubmit:T,renderForm:({values:C})=>{const Q=Qn.getVisbility(C);return n.jsx(Pe,{bannerTitle:i(e,"søknad.pageheading"),activeStepId:"inntektsinformasjon",pageTitle:i(e,"søknad.inntektsinformasjon"),onCancel:Te,onContinueLater:_e,steps:Ze(e,!1),children:n.jsxs(Y.Form,{includeButtons:!1,includeValidationSummary:!0,children:[n.jsx(o,{padBottom:"l",children:n.jsx(M,{children:"Hvis du får utbetalinger fra NAV, trenger du ikke å opplyse om det i søknaden"})}),n.jsx(me,{arbeidsforhold:Je(r,S,j,_(d))}),n.jsx(o,{padBottom:"l",children:n.jsx(ke,{frilansoppdrag:D,setFrilansoppdrag:I,visibility:Q,formValues:C})}),n.jsx(o,{padBottom:"l",children:n.jsx(Fn,{egenNæringInformasjon:m,setEgenNæringsInformasjon:f,visibility:Q,formValues:C})}),n.jsx(o,{padBottom:"l",children:n.jsx(ge,{andreInntekterInformasjon:F,setAndreInntekterInformasjon:k,visibility:Q,formValues:C})}),n.jsx(o,{padBottom:"l",children:n.jsx(Pn,{})}),n.jsx(o,{margin:"xl",children:n.jsxs(Ue,{children:[n.jsx(K,{variant:"secondary",as:We,to:Hn(A),children:n.jsx(c,{id:"backlink.label"})}),Q.areAllQuestionsAnswered()&&n.jsx(K,{type:"submit",disabled:Ee,loading:Ee,children:i(e,"søknad.gåVidere")})]})})]})})}})},br=$n;export{br as I};
//# sourceMappingURL=Inntektsinformasjon-0c4e18de.js.map
