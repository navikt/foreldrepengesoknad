import{d as o,h as H,a3 as I,a4 as Z,e as b,K as A,Q as F,_ as B,U as R}from"./Tidsperioden-cafd5e80.js";import{c as Y,g as T}from"./index-1cdf6ce0.js";import"./jsx-runtime-1caa8f64.js";import{U as G,a0 as E,a1 as Q,a2 as C,a3 as N}from"./dateFormValidation-eaec375a.js";import"./index-753920cd.js";import"./_baseToString-2517c4f7.js";import"./_createSet-019d3bf6.js";var W={exports:{}};(function(e,t){(function(m,f){e.exports=f()})(Y,function(){var m={year:0,month:1,day:2,hour:3,minute:4,second:5},f={};return function(S,c,a){var r,D=function(s,h,u){u===void 0&&(u={});var n=new Date(s),g=function(p,v){v===void 0&&(v={});var z=v.timeZoneName||"short",w=p+"|"+z,x=f[w];return x||(x=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:p,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:z}),f[w]=x),x}(h,u);return g.formatToParts(n)},i=function(s,h){for(var u=D(s,h),n=[],g=0;g<u.length;g+=1){var p=u[g],v=p.type,z=p.value,w=m[v];w>=0&&(n[w]=parseInt(z,10))}var x=n[3],M=x===24?0:x,$=n[0]+"-"+n[1]+"-"+n[2]+" "+M+":"+n[4]+":"+n[5]+":000",k=+s;return(a.utc($).valueOf()-(k-=k%1e3))/6e4},l=c.prototype;l.tz=function(s,h){s===void 0&&(s=r);var u=this.utcOffset(),n=this.toDate(),g=n.toLocaleString("en-US",{timeZone:s}),p=Math.round((n-new Date(g))/1e3/60),v=a(g,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(15*-Math.round(n.getTimezoneOffset()/15)-p,!0);if(h){var z=v.utcOffset();v=v.add(u-z,"minute")}return v.$x.$timezone=s,v},l.offsetName=function(s){var h=this.$x.$timezone||a.tz.guess(),u=D(this.valueOf(),h,{timeZoneName:s}).find(function(n){return n.type.toLowerCase()==="timezonename"});return u&&u.value};var d=l.startOf;l.startOf=function(s,h){if(!this.$x||!this.$x.$timezone)return d.call(this,s,h);var u=a(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return d.call(u,s,h).tz(this.$x.$timezone,!0)},a.tz=function(s,h,u){var n=u&&h,g=u||h||r,p=i(+a(),g);if(typeof s!="string")return a(s).tz(g);var v=function(M,$,k){var y=M-60*$*1e3,O=i(y,k);if($===O)return[y,$];var U=i(y-=60*(O-$)*1e3,k);return O===U?[y,O]:[M-60*Math.min(O,U)*1e3,Math.max(O,U)]}(a.utc(s,n).valueOf(),p,g),z=v[0],w=v[1],x=a(z).utcOffset(w);return x.$x.$timezone=g,x},a.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},a.tz.setDefault=function(s){r=s}}})})(W);var V=W.exports;const X=T(V);var j={exports:{}};(function(e,t){(function(m,f){e.exports=f()})(Y,function(){return function(m,f){var S=f.prototype,c=S.format;S.format=function(a){var r=this,D=this.$locale();if(!this.isValid())return c.bind(this)(a);var i=this.$utils(),l=(a||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((r.$M+1)/3);case"Do":return D.ordinal(r.$D);case"gggg":return r.weekYear();case"GGGG":return r.isoWeekYear();case"wo":return D.ordinal(r.week(),"W");case"w":case"ww":return i.s(r.week(),d==="w"?1:2,"0");case"W":case"WW":return i.s(r.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return i.s(String(r.$H===0?24:r.$H),d==="k"?1:2,"0");case"X":return Math.floor(r.$d.getTime()/1e3);case"x":return r.$d.getTime();case"z":return"["+r.offsetName()+"]";case"zzz":return"["+r.offsetName("long")+"]";default:return d}});return c.bind(this)(l)}}})})(j);var K=j.exports;const _=T(K),q=e=>"morsSisteDag"in e;o.extend(H);o.extend(I);o.extend(Z);o.extend(X);o.extend(_);const ie=o().subtract(4,"year").startOf("day").toDate(),L=(e,t)=>!A(e)||!A(t)||!F(e)||!F(t)?!1:!!o(e).isBefore(t,"day"),ne=e=>[...e].sort((t,m)=>L(t.fødselsdato,m.fødselsdato)?1:-1)[e.length-1],fe=e=>[...e].map(m=>B(m)).sort((m,f)=>L(m,f)?-1:1),de=(e,t)=>e&&t?o(e).isSameOrAfter(t,"day"):!0,ue=e=>{if(e.length>0)return o.min(e.map(t=>o(t))).toDate()},me=(e,t,m)=>{if(m!==void 0)return m;if(t!==void 0)return t;if(e!==void 0)return e;throw new Error("Mangler fødselsdato/termindato/adopsjonsdato for barnet.")},ce=e=>{const t=new Date("2021-10-01");return o(e).isSameOrAfter(t,"day")&&o(new Date).isSameOrAfter(t,"day")},le=e=>{const t=new Date("2022-08-02");return o(e).isSameOrAfter(t,"day")&&o(new Date).isSameOrAfter(t,"day")},ve=(e,t)=>o(e).isAfter(R(t).neste(),"day"),he=(e,t,m)=>{if(!m)return;const f=e===void 0?void 0:e.filter(r=>!G(r)),S=t.filter(r=>!G(r));let c,a;if(f)S.forEach((r,D)=>{if(c)return;const{fom:i}=r.tidsperiode,l=f.find(d=>o(d.tidsperiode.fom).isSame(i,"day"));if(l!==void 0){const d=E(r).erLik(l,!1,!0);(!d||d&&E(r).slutterEtter(l.tidsperiode.tom))&&(c=i)}if(l===void 0&&(c=i),l!==void 0&&S.length-1===D&&(E(r).erLik(l,!0,!0)||(c=i)),c&&Q(r)&&o(c).isAfter(f[f.length-1].tidsperiode.tom)){const d=S.find(s=>(C(s)||N(s))&&o(s.tidsperiode.fom).isAfter(c));c=d!==void 0?d.tidsperiode.fom:c}}),f.forEach(r=>{if(a)return;const{fom:D}=r.tidsperiode,i=S.find(l=>o(l.tidsperiode.fom).isSame(D,"day"));i!==void 0&&!E(r).erLik(i,!1,!0)&&(a=i.tidsperiode.fom),i===void 0&&(a=D)});else if(S.length>0)return S[0].tidsperiode.fom;return J(c,a)},J=(e,t)=>{if(!(e===void 0&&t===void 0))return e!==void 0&&t===void 0?e:e===void 0&&t!==void 0?t:o(e).isSameOrBefore(o(t))?e:t},ge=e=>{if(e&&q(e))return b(e.morsSisteDag)};export{ne as a,ge as b,he as c,ie as d,ve as e,ce as f,me as g,le as h,L as i,ue as j,de as k,fe as s,X as t};
