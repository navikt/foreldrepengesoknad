import{d as o,h as H,r as P,Q as R,z as G,C as U,W as Z}from"./Tidsperioden-JQeTBW8H.js";import{c as W,g as Y}from"./index-DVXBtNgz.js";import"./jsx-runtime-_e34SzbC.js";import"./index--IHLcpuH.js";import{v as E,C as V,E as C,F as I,P as M,G as J,H as N,I as Q}from"./useFpNavigator-rXF65Prs.js";import"./_baseToString-CUxX9raG.js";import"./_createSet-BJbToUt4.js";import{i as X}from"./index-BI6FGWNT.js";import{c as B}from"./barnUtils-YoT_baD_.js";var T={exports:{}};(function(e,t){(function(i,a){e.exports=a()})(W,function(){var i={year:0,month:1,day:2,hour:3,minute:4,second:5},a={};return function(h,c,n){var r,x=function(s,g,m){m===void 0&&(m={});var d=new Date(s),p=function(D,v){v===void 0&&(v={});var $=v.timeZoneName||"short",O=D+"|"+$,z=a[O];return z||(z=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:D,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:$}),a[O]=z),z}(g,m);return p.formatToParts(d)},f=function(s,g){for(var m=x(s,g),d=[],p=0;p<m.length;p+=1){var D=m[p],v=D.type,$=D.value,O=i[v];O>=0&&(d[O]=parseInt($,10))}var z=d[3],y=z===24?0:z,S=d[0]+"-"+d[1]+"-"+d[2]+" "+y+":"+d[4]+":"+d[5]+":000",w=+s;return(n.utc(S).valueOf()-(w-=w%1e3))/6e4},l=c.prototype;l.tz=function(s,g){s===void 0&&(s=r);var m=this.utcOffset(),d=this.toDate(),p=d.toLocaleString("en-US",{timeZone:s}),D=Math.round((d-new Date(p))/1e3/60),v=n(p,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(15*-Math.round(d.getTimezoneOffset()/15)-D,!0);if(g){var $=v.utcOffset();v=v.add(m-$,"minute")}return v.$x.$timezone=s,v},l.offsetName=function(s){var g=this.$x.$timezone||n.tz.guess(),m=x(this.valueOf(),g,{timeZoneName:s}).find(function(d){return d.type.toLowerCase()==="timezonename"});return m&&m.value};var u=l.startOf;l.startOf=function(s,g){if(!this.$x||!this.$x.$timezone)return u.call(this,s,g);var m=n(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return u.call(m,s,g).tz(this.$x.$timezone,!0)},n.tz=function(s,g,m){var d=m&&g,p=m||g||r,D=f(+n(),p);if(typeof s!="string")return n(s).tz(p);var v=function(y,S,w){var A=y-60*S*1e3,k=f(A,w);if(S===k)return[A,S];var F=f(A-=60*(k-S)*1e3,w);return k===F?[A,k]:[y-60*Math.min(k,F)*1e3,Math.max(k,F)]}(n.utc(s,d).valueOf(),D,p),$=v[0],O=v[1],z=n($).utcOffset(O);return z.$x.$timezone=p,z},n.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},n.tz.setDefault=function(s){r=s}}})})(T);var _=T.exports;const q=Y(_);var j={exports:{}};(function(e,t){(function(i,a){e.exports=a()})(W,function(){return function(i,a){var h=a.prototype,c=h.format;h.format=function(n){var r=this,x=this.$locale();if(!this.isValid())return c.bind(this)(n);var f=this.$utils(),l=(n||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(u){switch(u){case"Q":return Math.ceil((r.$M+1)/3);case"Do":return x.ordinal(r.$D);case"gggg":return r.weekYear();case"GGGG":return r.isoWeekYear();case"wo":return x.ordinal(r.week(),"W");case"w":case"ww":return f.s(r.week(),u==="w"?1:2,"0");case"W":case"WW":return f.s(r.isoWeek(),u==="W"?1:2,"0");case"k":case"kk":return f.s(String(r.$H===0?24:r.$H),u==="k"?1:2,"0");case"X":return Math.floor(r.$d.getTime()/1e3);case"x":return r.$d.getTime();case"z":return"["+r.offsetName()+"]";case"zzz":return"["+r.offsetName("long")+"]";default:return u}});return c.bind(this)(l)}}})})(j);var b=j.exports;const K=Y(b),me=e=>E(e)?e.erAleneOmOmsorg:!0,ce=e=>E(e)?e.datoForAleneomsorg:void 0,le=(e,t)=>{var h;const i=E(e)&&e.utenlandskFnr!==!0?e.fnr:void 0,a=X(t)&&t.fnr!==void 0&&((h=t.fnr)==null?void 0:h.length)>0?t.fnr[0]:void 0;return{annenPartFødselsnummer:i,barnFødselsnummer:a,familiehendelse:B(t)}},ve=e=>{const t=E(e)&&e.utenlandskFnr!==!0?e.fnr:void 0;return!(t!==void 0&&t!=="")},ee=e=>E(e)?!!e.harRettPåForeldrepengerINorge||!!e.harRettPåForeldrepengerIEØS:!1;o.extend(H);o.extend(P);o.extend(R);o.extend(q);o.extend(K);const he=o().subtract(4,"year").startOf("day").toDate(),L=(e,t)=>!G(e)||!G(t)||!U(e)||!U(t)?!1:!!o(e).isBefore(t,"day"),ge=e=>[...e].sort((t,i)=>L(t.fødselsdato,i.fødselsdato)?1:-1)[e.length-1],pe=e=>[...e].map(i=>Z(i)).sort((i,a)=>L(i,a)?-1:1),xe=(e,t,i)=>{if(i!==void 0)return i;if(t!==void 0)return t;if(e!==void 0)return e;throw new Error("Mangler fødselsdato/termindato/adopsjonsdato for barnet.")},ze=e=>{const t=new Date("2021-10-01");return o(e).isSameOrAfter(t,"day")&&o(new Date).isSameOrAfter(t,"day")},De=e=>{const t="2024-07-01";if(o().isBefore(o(t),"day"))return!1;const i=B(e);return!((V(e)||C(e))&&o(i).isBefore(t,"day"))},$e=(e,t,i)=>{if(!i)return;const a=e===void 0?void 0:e.filter(r=>!I(r)),h=t.filter(r=>!I(r));let c,n;if(a)h.forEach((r,x)=>{if(c)return;const{fom:f}=r.tidsperiode,l=a.find(u=>o(u.tidsperiode.fom).isSame(f,"day"));if(l!==void 0){const u=M(r).erLik(l,!1,!0);(!u||u&&M(r).slutterEtter(l.tidsperiode.tom))&&(c=f)}if(l===void 0&&(c=f),l!==void 0&&h.length-1===x&&(M(r).erLik(l,!0,!0)||(c=f)),c&&J(r)&&o(c).isAfter(a[a.length-1].tidsperiode.tom)){const u=h.find(s=>(N(s)||Q(s))&&o(s.tidsperiode.fom).isAfter(c));c=u!==void 0?u.tidsperiode.fom:c}}),a.forEach(r=>{if(n)return;const{fom:x}=r.tidsperiode,f=h.find(l=>o(l.tidsperiode.fom).isSame(x,"day"));f!==void 0&&!M(r).erLik(f,!1,!0)&&(n=f.tidsperiode.fom),f===void 0&&(n=x)});else if(h.length>0)return h[0].tidsperiode.fom;return te(c,n)},te=(e,t)=>{if(!(e===void 0&&t===void 0))return e!==void 0&&t===void 0?e:e===void 0&&t!==void 0?t:o(e).isSameOrBefore(o(t))?e:t},Oe=(e,t)=>{const i=B(e),a=ee(t);return o(i).isSameOrAfter(o("2024-07-01"),"d")&&o().isBefore(o("2024-07-01"),"d")&&a&&e.antallBarn===1};export{Oe as a,le as b,ge as c,pe as d,he as e,De as f,xe as g,me as h,L as i,ce as j,ee as k,ze as l,$e as m,ve as s,q as t};
