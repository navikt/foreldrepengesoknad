import{j as e}from"./jsx-runtime-1caa8f64.js";import{ac as W,u as q,T as re,b as l,R as C,N as se,H as I,U as L,d as oe,k as J,K as le,S as ie,p as de}from"./Tidsperioden-2edd4148.js";import{i as R,u as Q,v as X,p as ee,k as ue,q as ge,o as ce}from"./barnUtils-52ce16f5.js";import{D as m}from"./Periodene-26fdbd1a.js";import{D as K}from"./eksisterendeSakUtils-3c30ae52.js";import"./index-753920cd.js";import{r as k,a as pe}from"./index-1cdf6ce0.js";import"./_baseToString-43959ddd.js";import"./_createSet-fe2162c5.js";import{n as D,i as me}from"./dateFormValidation-a2e086c0.js";import{u as x,C as f,a as te}from"./FpDataContext-c0784ba8.js";import{s as fe,u as ke,a as N,g as ve,b as G,c as je}from"./uttaksplanInfoUtils-6aff1898.js";import{R as Se}from"./useRequest-ec5ef0e8.js";import{u as xe,F as he,E as be,R as Pe,S as Ee,a as Fe}from"./ErrorSummaryHookForm-35f6229c.js";import{S as ye}from"./Perioden-d4423375.js";import{c as A}from"./stringUtils-892c6b46.js";import{a as Z}from"./uttaksplanHarForMangeFlerbarnsuker-f72c5d5f.js";import{g as _,V as F,a as De,H as w,S as Te}from"./IntlProvider-a8c70ab6.js";import"./dates-dc70e840.js";import{g as O}from"./stønadskontoer-e71fa182.js";import{c as _e,L as Oe,B as V}from"./Link-d47e444a.js";import{u as Re,a as Ne}from"./useFpNavigator-69795839.js";var Ae=globalThis&&globalThis.__rest||function(t,s){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&s.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)s.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};const Ie=k.forwardRef((t,s)=>{var{title:r,titleId:n}=t,a=Ae(t,["title","titleId"]);let o=W();return o=r?n||"title-"+o:void 0,k.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:s,"aria-labelledby":o},a),r?k.createElement("title",{id:o},r):null,k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.532 3.471A.748.748 0 0 1 20.75 4v7.5a.75.75 0 0 1-1.5 0V5.81l-8.72 8.72a.75.75 0 1 1-1.06-1.06l8.72-8.72H12.5a.75.75 0 0 1 0-1.5H20c.206 0 .393.083.529.218l.001.002.002.001ZM4.75 9A.25.25 0 0 1 5 8.75h7a.75.75 0 0 0 0-1.5H5A1.75 1.75 0 0 0 3.25 9v10c0 .966.784 1.75 1.75 1.75h10A1.75 1.75 0 0 0 16.75 19v-7a.75.75 0 0 0-1.5 0v7a.25.25 0 0 1-.25.25H5a.25.25 0 0 1-.25-.25V9Z",fill:"currentColor"}))}),we=Ie;var Ve=globalThis&&globalThis.__rest||function(t,s){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&s.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)s.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};const Me=k.forwardRef((t,s)=>{var{title:r,titleId:n}=t,a=Ve(t,["title","titleId"]);let o=W();return o=r?n||"title-"+o:void 0,k.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:s,"aria-labelledby":o},a),r?k.createElement("title",{id:o},r):null,k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.939 2.293a2.25 2.25 0 0 0-2.592 1.554 3.751 3.751 0 0 0-3.468.971l-.349-.348a.75.75 0 1 0-1.06 1.06l.216.217-2.127.912a2.75 2.75 0 0 0-.862.583l-6.02 6.02a1.75 1.75 0 0 0 0 2.475l4.586 4.586a1.75 1.75 0 0 0 2.474 0l6.021-6.02a2.75 2.75 0 0 0 .583-.862l.912-2.127.217.216a.75.75 0 1 0 1.06-1.06l-.348-.349a3.75 3.75 0 0 0 .971-3.468 2.249 2.249 0 0 0 .938-3.744 2.25 2.25 0 0 0-1.152-.616ZM19.5 5.25a.75.75 0 1 0-.75-.75 3.76 3.76 0 0 1 .75.75Zm-1.379 3.81A2.25 2.25 0 0 0 14.94 5.88L18.12 9.06ZM11.15 8.038l2.679-1.149 3.282 3.282-.034.079H8.81l1.947-1.947a1.25 1.25 0 0 1 .392-.265Zm-6.413 6.285 2.574-2.573h9.123l-.472 1.1a1.25 1.25 0 0 1-.265.392l-6.02 6.02a.25.25 0 0 1-.354 0l-4.586-4.585a.25.25 0 0 1 0-.354Z",fill:"currentColor"}))}),$=Me;var Be=globalThis&&globalThis.__rest||function(t,s){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&s.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)s.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};const M=k.forwardRef((t,s)=>{var{as:r="div",background:n,borderColor:a,borderWidth:o,borderRadius:i,className:g,padding:c,paddingInline:d,paddingBlock:h,shadow:v,style:u}=t,j=Be(t,["as","background","borderColor","borderWidth","borderRadius","className","padding","paddingInline","paddingBlock","shadow","style"]);const b=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},u),{"--__ac-box-background":n?`var(--a-${n})`:void 0,"--__ac-box-shadow":v?`var(--a-shadow-${v})`:void 0,"--__ac-box-border-color":a?`var(--a-${a})`:void 0,"--__ac-box-border-width":o?o.split(" ").map(p=>`${p}px`).join(" "):void 0}),_("box","border-radius","border-radius",i,!1,["0"])),_("box","padding","spacing",c)),_("box","padding-inline","spacing",d)),_("box","padding-block","spacing",h));return pe.createElement(r,Object.assign({},j,{className:_e("navds-box",g),ref:s,style:b}))});const z=(t,s)=>{const r=Q(s),n=X(s),a=ee(s),o=r?s.adopsjonsdato:a;if(!r&&n||!o)return;const i=O(t.filter(d=>d.konto!==ye.ForeldrepengerFørFødsel))*5,g=L(o).denneEllerNeste(),c=L(g).leggTil(i-1);return oe(c).format("dddd DD. MMMM YYYY")},Y=(t,s,r,n,a)=>{if(!r&&s)return t.formatMessage({id:"uttaksplaninfo.Uker.beskrivelseOmsorgsovertakelse"},{dato:a});if(!r&&!n)return t.formatMessage({id:"uttaksplaninfo.Uker.beskrivelseTermin"},{dato:a})},Ue=(t,s)=>s?t.formatMessage({id:"uttaksplaninfo.Uker.soker.dere"}):t.formatMessage({id:"uttaksplaninfo.Uker.soker.du"}),B=({goToPreviousDefaultStep:t,goToNextDefaultStep:s,barn:r,søkersituasjon:n,stønadskonto100:a,stønadskonto80:o})=>{const i=q(),g=J("circle"),c=x(f.PERIODE_MED_FORELDREPENGER),d=D(x(f.ANNEN_FORELDER)),h=te(f.PERIODE_MED_FORELDREPENGER),v=xe({defaultValues:c}),u=ae=>(h(ae),s()),j=R(d)&&(d.harRettPåForeldrepengerINorge===!0||d.harRettPåForeldrepengerIEØS===!0),b=Q(r),p=X(r),E=ee(r),y=fe(p,E,n.situasjon),S=y&&p&&E?re({fom:p,tom:E}).getAntallUttaksdager()-1:void 0,T=z(a,r),ne=z(o,r),P=Ue(i,j);return e.jsx(he,{formMethods:v,onSubmit:u,children:e.jsxs(F,{gap:"10",children:[e.jsx(be,{}),e.jsxs(F,{gap:"4",children:[e.jsxs(Pe,{name:"dekningsgrad",description:j?e.jsx(l,{id:"uttaksplaninfo.dekningsgrad.beskrivelse"}):e.jsx(l,{id:"uttaksplaninfo.dekningsgrad.beskrivelse.alene"}),label:j?e.jsx(l,{id:"uttaksplaninfo.dekningsgrad.label.deltUttak"}):e.jsx(l,{id:"uttaksplaninfo.dekningsgrad.label.ikkeDeltUttak"}),validate:[me(i.formatMessage({id:"DekningsgradForm.MåOppgiDekningsgrad"},{soker:P}))],children:[e.jsx(C,{value:m.HUNDRE_PROSENT,description:Y(i,b,n.rolle==="far",!!p,T),children:e.jsx(l,{id:"uttaksplaninfo.49Uker",values:{antallUker:O(a)}})}),e.jsx(C,{value:m.ÅTTI_PROSENT,description:Y(i,b,n.rolle==="far",!!p,ne),children:e.jsx(l,{id:"uttaksplaninfo.59Uker",values:{antallUker:O(o)}})})]}),e.jsxs(se,{header:j?e.jsx(l,{id:"uttaksplaninfo.veileder.dekningsgrad.header"}):e.jsx(l,{id:"uttaksplaninfo.veileder.dekningsgrad.header.alene"}),children:[e.jsx(l,{id:"uttaksplaninfo.veileder.dekningsgrad"}),e.jsxs(Oe,{href:De.søknadsfrister,target:"_blank",children:[e.jsx(l,{id:"uttaksplaninfo.veileder.dekningsgrad.link"}),e.jsx(we,{title:"a11y-title",fontSize:"1.5rem"})]})]})]}),y&&!!S&&e.jsx(M,{padding:"4",background:"surface-action-subtle",children:e.jsxs(w,{justify:"space-between",align:"start",children:[e.jsxs(F,{gap:"2",style:{width:"85%"},children:[e.jsx(I,{size:"xsmall",children:e.jsx(l,{id:"DekningsgradForm.InformasjonPrematurukerHeader",values:{soker:A(P)}})}),e.jsx(V,{children:e.jsx(l,{id:"DekningsgradForm.InformasjonPrematuruker",values:{uker:Math.floor(S/5),dager:S%5,soker:j?i.formatMessage({id:"uttaksplaninfo.Uker.soker.dere"}):i.formatMessage({id:"uttaksplaninfo.Uker.soker.deg"})}})})]}),e.jsx("div",{className:g.block,children:e.jsx($,{height:24,width:24,color:"#3386E0"})})]})}),r.antallBarn>1&&e.jsx(M,{padding:"4",background:"surface-action-subtle",children:e.jsxs(w,{justify:"space-between",align:"start",children:[e.jsxs(F,{gap:"2",style:{width:"85%"},children:[e.jsxs(I,{size:"xsmall",children:[r.antallBarn===2&&e.jsx(l,{id:"DekningsgradForm.InformasjonToBarn",values:{sokerStorBokstav:A(P),soker:P}}),r.antallBarn>2&&e.jsx(l,{id:"DekningsgradForm.InformasjonFlereEnnToBarn",values:{sokerStorBokstav:A(P),soker:P}})]}),e.jsx(V,{children:e.jsx(l,{id:"DekningsgradForm.InformasjonFlerbarnUker",values:{uker80:Z(m.ÅTTI_PROSENT,r.antallBarn),uker100:Z(m.HUNDRE_PROSENT,r.antallBarn),soker:P}})})]}),e.jsx("div",{className:g.block,children:e.jsx($,{height:24,width:24,color:"#3386E0"})})]})}),e.jsx(Ee,{goToPreviousStep:t})]})})};try{B.displayName="DekningsgradForm",B.__docgenInfo={description:"",displayName:"DekningsgradForm",props:{goToPreviousDefaultStep:{defaultValue:null,description:"",name:"goToPreviousDefaultStep",required:!0,type:{name:"() => Promise<void>"}},goToNextDefaultStep:{defaultValue:null,description:"",name:"goToNextDefaultStep",required:!0,type:{name:"() => Promise<void>"}},barn:{defaultValue:null,description:"",name:"barn",required:!0,type:{name:"Barn"}},søkersituasjon:{defaultValue:null,description:"",name:"søkersituasjon",required:!0,type:{name:"SøkersituasjonFp"}},stønadskonto100:{defaultValue:null,description:"",name:"stønadskonto100",required:!0,type:{name:"TilgjengeligStønadskonto[]"}},stønadskonto80:{defaultValue:null,description:"",name:"stønadskonto80",required:!0,type:{name:"TilgjengeligStønadskonto[]"}}}}}catch{}const U=({goToPreviousDefaultStep:t,goToNextDefaultStep:s,fornavnAnnenForelder:r,kjønnAnnenForelder:n,dekningsgrad:a,valgtStønadskonto:o})=>{const i=q(),g=J("circle"),c=te(f.PERIODE_MED_FORELDREPENGER),[d,h]=k.useState(!1),v=()=>(h(!0),c({dekningsgrad:a}),s()),u=O(o);return e.jsxs(F,{gap:"10",children:[e.jsx(M,{padding:"4",background:"surface-action-subtle",children:e.jsxs(w,{justify:"space-between",align:"start",children:[e.jsxs(F,{gap:"2",style:{width:"85%"},children:[e.jsx(I,{size:"xsmall",children:e.jsx(l,{id:"DekningsgradValgtAvAnnenPartPanel.Heading",values:{uker:le(u*5,i),dekningsgrad:a}})}),e.jsx(V,{children:n==="M"?e.jsx(l,{id:"DekningsgradValgtAvAnnenPartPanel.ValgtAvHans",values:{navn:r}}):e.jsx(l,{id:"DekningsgradValgtAvAnnenPartPanel.ValgtAvHennes",values:{navn:r}})})]}),e.jsx("div",{className:g.block,children:e.jsx(Fe,{height:24,width:24,color:"#3386E0"})})]})}),e.jsx(Te,{isDisabledAndLoading:d,nextButtonOnClick:v,goToPreviousStep:t})]})};try{U.displayName="DekningsgradValgtAvAnnenPartPanel",U.__docgenInfo={description:"",displayName:"DekningsgradValgtAvAnnenPartPanel",props:{goToPreviousDefaultStep:{defaultValue:null,description:"",name:"goToPreviousDefaultStep",required:!0,type:{name:"() => Promise<void>"}},goToNextDefaultStep:{defaultValue:null,description:"",name:"goToNextDefaultStep",required:!0,type:{name:"() => Promise<void>"}},fornavnAnnenForelder:{defaultValue:null,description:"",name:"fornavnAnnenForelder",required:!0,type:{name:"string"}},kjønnAnnenForelder:{defaultValue:null,description:"",name:"kjønnAnnenForelder",required:!1,type:{name:"enum",value:[{value:'"M"'},{value:'"K"'}]}},dekningsgrad:{defaultValue:null,description:"",name:"dekningsgrad",required:!0,type:{name:"enum",value:[{value:'"80"'},{value:'"100"'}]}},valgtStønadskonto:{defaultValue:null,description:"",name:"valgtStønadskonto",required:!0,type:{name:"TilgjengeligStønadskonto[]"}}}}}catch{}const He=(t,s)=>{var a;const r=R(t)&&t.utenlandskFnr===!1?t.fnr:void 0,n=ge(s)&&s.fnr!==void 0&&((a=s.fnr)==null?void 0:a.length)>0?s.fnr[0]:void 0;return{annenPartFødselsnummer:r,barnFødselsnummer:n,familiehendelse:ce(s)}},qe=t=>{const s=R(t)&&t.utenlandskFnr!==!0?t.fnr:void 0;return!(s!==void 0&&s!=="")},H=({mellomlagreSøknadOgNaviger:t,avbrytSøknad:s})=>{const r=q(),n=Re(),a=Ne(t),o=D(x(f.ANNEN_FORELDER)),i=D(x(f.OM_BARNET)),g=D(x(f.SØKER)),c=D(x(f.SØKERSITUASJON)),d=x(f.BARN_FRA_NESTE_SAK),h=x(f.EKSISTERENDE_SAK),v=qe(o),{data:u,requestStatus:j}=ke(N.ANNEN_PART_VEDTAK,He(o,i),v),b=ve(i,o,c,g,d,u,h),p=v?!1:j!==Se.FINISHED,{data:E}=G(N.STØNADSKONTOER_80,b.stønadskontoParams80,p),{data:y}=G(N.STØNADSKONTOER_100,b.stønadskontoParams100,p),S=E&&y?je(E,y):void 0,T=u&&u.perioder.length>0;return e.jsxs(ie,{bannerTitle:r.formatMessage({id:"søknad.pageheading"}),onCancel:s,onContinueLater:a.fortsettSøknadSenere,steps:n,children:[!S&&e.jsx("div",{style:{textAlign:"center",padding:"12rem 0"},children:e.jsx(de,{size:"2xlarge"})}),S&&e.jsxs(e.Fragment,{children:[T&&R(o)&&e.jsx(U,{goToPreviousDefaultStep:a.goToPreviousDefaultStep,goToNextDefaultStep:a.goToNextDefaultStep,fornavnAnnenForelder:o.fornavn,kjønnAnnenForelder:ue(o),dekningsgrad:u.dekningsgrad===K.HUNDRE_PROSENT?m.HUNDRE_PROSENT:m.ÅTTI_PROSENT,valgtStønadskonto:S[u.dekningsgrad===K.HUNDRE_PROSENT?m.HUNDRE_PROSENT:m.ÅTTI_PROSENT]}),!T&&e.jsx(B,{goToPreviousDefaultStep:a.goToPreviousDefaultStep,goToNextDefaultStep:a.goToNextDefaultStep,barn:i,søkersituasjon:c,stønadskonto100:S[m.HUNDRE_PROSENT],stønadskonto80:S[m.ÅTTI_PROSENT]})]})]})},ut=H;try{H.displayName="PeriodeMedForeldrepengerSteg",H.__docgenInfo={description:"",displayName:"PeriodeMedForeldrepengerSteg",props:{mellomlagreSøknadOgNaviger:{defaultValue:null,description:"",name:"mellomlagreSøknadOgNaviger",required:!0,type:{name:"() => Promise<void>"}},avbrytSøknad:{defaultValue:null,description:"",name:"avbrytSøknad",required:!0,type:{name:"() => void"}}}}}catch{}export{ut as P};
