{"version":3,"file":"Feilside-8c043904.js","sources":["../../src/app/pages/feilside/Feilside.tsx"],"sourcesContent":["import { useCallback } from 'react';\nimport { BodyShort, Button, Heading, Link } from '@navikt/ds-react';\nimport { LocaleNo } from '@navikt/fp-types';\nimport { bemUtils, Block, LanguageToggle, Sidebanner, useDocumentTitle } from '@navikt/fp-common';\nimport { useForeldrepengesøknadContext } from 'app/context/hooks/useForeldrepengesøknadContext';\nimport { logAmplitudeEvent } from 'app/amplitude/amplitude';\nimport actionCreator from 'app/context/action/actionCreator';\nimport Api from 'app/api/api';\nimport './feilside.less';\n\nexport interface FeilsideProps {\n    containerId?: string;\n    dokumenttittel: string;\n    illustrasjon?: {\n        tittel: string;\n        tekst: React.ReactNode;\n        lenke?: {\n            url: string;\n            tekst: string;\n        };\n    };\n    tittel: React.ReactNode;\n    ingress: React.ReactNode;\n    skalKunneGåTilbakeTilSøknad: boolean;\n    språkkode?: LocaleNo;\n    setLanguage?: (languageCode: string) => void;\n}\n\nconst Feilside: React.FunctionComponent<FeilsideProps> = ({\n    containerId,\n    dokumenttittel,\n    illustrasjon,\n    tittel,\n    ingress,\n    skalKunneGåTilbakeTilSøknad,\n    språkkode,\n    setLanguage,\n}) => {\n    const bem = bemUtils('feilside');\n    const { dispatch, state } = useForeldrepengesøknadContext();\n    const { søkerinfo } = state;\n\n    const avbrytSøknadHandler = useCallback(async () => {\n        if (!søkerinfo) {\n            return;\n        }\n\n        logAmplitudeEvent('applikasjon-hendelse', {\n            app: 'foreldrepengesoknad',\n            team: 'foreldrepenger',\n            hendelse: 'avbrutt',\n        });\n\n        dispatch(actionCreator.avbrytSøknad());\n        await Api.deleteStoredAppState(søkerinfo.person.fnr);\n        window.location.href = 'https://nav.no';\n    }, [dispatch, søkerinfo]);\n\n    const gåTilbakeTilSøknadenHandler = useCallback(() => {\n        window.location.reload();\n    }, []);\n\n    useDocumentTitle(dokumenttittel);\n\n    return (\n        <>\n            {setLanguage && språkkode && (\n                <LanguageToggle locale={språkkode} availableLocales={['en', 'nb', 'nn']} toggle={setLanguage} />\n            )}\n            {illustrasjon && (\n                <Sidebanner\n                    dialog={{\n                        title: illustrasjon.tittel,\n                        text: (\n                            <>\n                                <Block padBottom=\"m\">{illustrasjon.tekst}</Block>\n                                {illustrasjon.lenke && (\n                                    <Link href={illustrasjon.lenke.url}>{illustrasjon.lenke.tekst}</Link>\n                                )}\n                            </>\n                        ),\n                    }}\n                />\n            )}\n            <div id={containerId} className={bem.block}>\n                <Block padBottom=\"l\">\n                    <Heading size=\"large\">{tittel}</Heading>\n                </Block>\n                <Block padBottom=\"l\">\n                    <BodyShort>{ingress}</BodyShort>\n                </Block>\n                {søkerinfo !== undefined && !skalKunneGåTilbakeTilSøknad && (\n                    <div className={bem.element('avbrytKnapp')}>\n                        <Button variant=\"primary\" onClick={avbrytSøknadHandler}>\n                            Start søknaden på nytt\n                        </Button>\n                    </div>\n                )}\n                {søkerinfo !== undefined && skalKunneGåTilbakeTilSøknad && (\n                    <div className={bem.element('avbrytKnapp')}>\n                        <Button variant=\"primary\" onClick={gåTilbakeTilSøknadenHandler}>\n                            Gå tilbake til søknaden\n                        </Button>\n                    </div>\n                )}\n            </div>\n        </>\n    );\n};\n\nexport default Feilside;\n"],"names":["Feilside","containerId","dokumenttittel","illustrasjon","tittel","ingress","skalKunneGåTilbakeTilSøknad","språkkode","setLanguage","bem","bemUtils","dispatch","state","useForeldrepengesøknadContext","søkerinfo","avbrytSøknadHandler","useCallback","logAmplitudeEvent","actionCreator","Api","gåTilbakeTilSøknadenHandler","useDocumentTitle","jsxs","Fragment","jsx","LanguageToggle","Sidebanner","Block","Link","Heading","BodyShort","Button"],"mappings":"6aA4BA,MAAAA,EAAA,CAAA,CAA0D,YAAAC,EACtD,eAAAC,EACA,aAAAC,EACA,OAAAC,EACA,QAAAC,EACA,4BAAAC,EACA,UAAAC,EACA,YAAAC,CAEJ,IAAA,CACI,MAAAC,EAAAC,EAAA,UAAA,EACA,CAAA,SAAAC,EAAA,MAAAC,CAAA,EAAAC,EAAA,EACA,CAAA,UAAAC,CAAA,EAAAF,EAEAG,EAAAC,EAAAA,YAAA,SAAA,CACIF,IAIAG,EAAA,uBAAA,CAA0C,IAAA,sBACjC,KAAA,iBACC,SAAA,SACI,CAAA,EAGdN,EAAAO,EAAA,aAAA,CAAA,EACA,MAAAC,EAAA,qBAAAL,EAAA,OAAA,GAAA,EACA,OAAA,SAAA,KAAA,iBAAuB,EAAA,CAAAH,EAAAG,CAAA,CAAA,EAG3BM,EAAAJ,EAAAA,YAAA,IAAA,CACI,OAAA,SAAA,QAAuB,EAAA,CAAA,CAAA,EAG3B,OAAAK,EAAAnB,CAAA,EAEAoB,EAAA,KAAAC,WAAA,CAAA,SAAA,CAESf,GAAAD,GAAAiB,EAAAA,IAAAC,EAAA,CAAA,OAAAlB,EAAA,iBAAA,CAAA,KAAA,KAAA,IAAA,EAAA,OAAAC,CAAA,CAAA,EACiGL,GAAAqB,EAAA,IAG9FE,EAAC,CAAA,OAAA,CACW,MAAAvB,EAAA,OACgB,KAAAmB,EAAA,KAAAC,WAAA,CAAA,SAAA,CAGZC,EAAA,IAAAG,EAAA,CAAA,UAAA,IAAA,SAAAxB,EAAA,MAAA,EAAyCA,EAAA,OAAAqB,EAAAA,IAAAI,EAAA,CAAA,KAAAzB,EAAA,MAAA,IAAA,SAAAA,EAAA,MAAA,KAAA,CAAA,CAEyB,EAAA,CAEtE,CAER,CAAA,EACJmB,OAAA,MAAA,CAAA,GAAArB,EAAA,UAAAQ,EAAA,MAAA,SAAA,CAGAe,EAAAA,IAAAG,EAAA,CAAA,UAAA,IAAA,SAAAH,EAAA,IAAAK,EAAA,CAAA,KAAA,QAAA,SAAAzB,CAAA,CAAA,CAAA,CAAA,EAEAoB,EAAAA,IAAAG,EAAA,CAAA,UAAA,IAAA,SAAAH,MAAAM,EAAA,CAAA,SAAAzB,CAAA,CAAA,CAAA,CAAA,EAGAS,IAAA,QAAA,CAAAR,GAAAkB,EAAAA,IAAA,MAAA,CAAA,UAAAf,EAAA,QAAA,aAAA,EAAA,SAAAe,MAAAO,EAAA,CAAA,QAAA,UAAA,QAAAhB,EAAA,SAAA,wBAAA,CAAA,EAAA,EAMID,IAAA,QAAAR,GAAAkB,EAAA,IAAA,MAAA,CAAA,UAAAf,EAAA,QAAA,aAAA,EAAA,SAAAe,MAAAO,EAAA,CAAA,QAAA,UAAA,QAAAX,EAAA,SAAA,yBAAA,CAAA,EAAA,CAOA,EAAA,CAER,CAAA,CAAA,CAGZ"}