import{j as e}from"./jsx-runtime-CLpGMVip.js";import{u as j,C as c,a as V}from"./FpDataContext-DWIUkGg8.js";import{i as x,L as J,u as H,a as G}from"./useFpNavigator-BYMqweuH.js";import{h as N,b as v,a as z,j as R,c as y,d as W,u as Q,R as X,E as Y,S as Z}from"./ErrorSummaryHookForm-5kw4kaVD.js";import{u as A,M as s,B as $,a as ee}from"./Link-BKbcfhYA.js";import{g as re,v as ne,l as ae,m as te}from"./barnUtils-B38-HG2L.js";import{i as o,R as l,q as h,A as P,c as se,t as ie,N as le,o as de,n as q,O as B,b as oe,P as O}from"./Uttaksplan-BXHm6hRO.js";import"./index-DI2V0i71.js";import{d as me}from"./dates-AkG-ZPn6.js";import{R as ge}from"./RegistrertePersonalia-DdP80m9U.js";import{V as b}from"./VStack-0uPSX4Ae.js";const ue=t=>!t.kanIkkeOppgis,E=({rolle:t,barn:d})=>{const r=A(),a=re(d),n=N().watch();if(!ue(n))throw Error("Annen forelder skal alltid være oppgitt her");return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs(v,{name:"erAleneOmOmsorg",label:r.formatMessage({id:"annenForelder.aleneOmOmsorg"}),validate:[o(r.formatMessage({id:"valideringsfeil.annenForelder.harAleneOmsorgPåkrevd"}))],children:[e.jsx(l,{value:!1,children:e.jsx(s,{id:"annenForelder.aleneOmOmsorg.ja"})}),e.jsx(l,{value:!0,children:e.jsx(s,{id:"annenForelder.aleneOmOmsorg.nei"})})]}),e.jsx(h,{header:r.formatMessage({id:"annenForelder.aleneOmOmsorg.apneLabel"}),children:e.jsxs(b,{gap:"4",children:[e.jsx($,{children:e.jsx(s,{id:"annenForelder.aleneOmOmsorg.del1"})}),e.jsx(ee,{children:e.jsx(s,{id:"annenForelder.aleneOmOmsorg.del2"})})]})})]}),!x(t)&&n.erAleneOmOmsorg===!0&&e.jsx(P,{variant:"info",children:e.jsx(s,{id:"annenForelder.veileder.aleneOmsorg.forBarnet"})}),n.erAleneOmOmsorg===!0&&x(t)&&e.jsx(z,{name:"datoForAleneomsorg",label:r.formatMessage({id:"annenForelder.datoForAleneomsorg"}),minDate:me(a).toDate(),validate:[o(r.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.duMåOppgi"})),se(r.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.ugyldigDatoFormat"})),ie(r.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.førFamiliehendelsedato"},{dato:a}),a)]}),n.erAleneOmOmsorg!==!0&&e.jsxs("div",{children:[e.jsxs(v,{name:"harRettPåForeldrepengerINorge",label:r.formatMessage({id:"annenForelder.harRettPåForeldrepengerINorge"}),validate:[o(r.formatMessage({id:"valideringsfeil.annenForelder.harRettTilForeldrepengerPåkrevd"}))],children:[e.jsx(l,{value:!0,children:"Ja"}),e.jsx(l,{value:!1,children:"Nei"})]}),e.jsxs(h,{header:r.formatMessage({id:"annenForelder.harRettPåForeldrepengerINorge.veileder.apneLabel"}),children:[e.jsx(s,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder"}),e.jsxs("ul",{style:{margin:"0",padding:"1rem 2rem 0"},children:[e.jsx("li",{children:e.jsx(s,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt1"})}),e.jsx("li",{children:e.jsx(s,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt2"})}),e.jsx("li",{children:e.jsx(s,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt3"})})]})]})]}),n.erAleneOmOmsorg===!1&&n.harRettPåForeldrepengerINorge===!1&&e.jsxs("div",{children:[e.jsxs(v,{name:"harOppholdtSegIEØS",label:r.formatMessage({id:"annenForelder.harOppholdtSegIEØS"}),validate:[o(r.formatMessage({id:"valideringsfeil.annenForelder.harOppholdtSegIEØS"}))],children:[e.jsx(l,{value:!0,children:"Ja"}),e.jsx(l,{value:!1,children:"Nei"})]}),e.jsx(h,{header:r.formatMessage({id:"annenForelder.harOppholdtSegIEØS.veileder.apneLabel"}),children:e.jsx(s,{id:"annenForelder.harOppholdtSegIEØS.veileder"})})]}),n.erAleneOmOmsorg===!1&&n.harOppholdtSegIEØS===!0&&e.jsxs("div",{children:[e.jsxs(v,{name:"harRettPåForeldrepengerIEØS",label:r.formatMessage({id:"annenForelder.harRettPåForeldrepengerIEØS"}),validate:[o(r.formatMessage({id:"valideringsfeil.annenForelder.harRettPåForeldrepengerIEØS"}))],children:[e.jsx(l,{value:!0,children:"Ja"}),e.jsx(l,{value:!1,children:"Nei"})]}),e.jsx(h,{header:r.formatMessage({id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.apneLabel"}),children:e.jsxs(b,{gap:"4",children:[e.jsx("div",{children:e.jsx(s,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.del1"})}),e.jsx(s,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.del2"}),e.jsx(J,{to:"https://www.nav.no/foreldrepenger#utland",target:"_blank",children:e.jsx(s,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.link"})})]})})]}),n.erAleneOmOmsorg!==!0&&n.harRettPåForeldrepengerINorge!==!1&&e.jsxs(e.Fragment,{children:[e.jsxs(v,{name:"erInformertOmSøknaden",label:r.formatMessage({id:"annenForelder.spørsmål.erAnnenForelderInformert"}),validate:[o(r.formatMessage({id:"valideringsfeil.annenForelder.informertAnnenForelderPåkrevd"})),u=>u===!1?r.formatMessage({id:"annenForelder.erAnnenForelderInformert.veileder"}):null],children:[e.jsx(l,{value:!0,children:"Ja"}),e.jsx(l,{value:!1,children:"Nei"})]}),n.erInformertOmSøknaden===!1&&e.jsx(P,{variant:"warning",children:e.jsx(s,{id:"annenForelder.erAnnenForelderInformert.veileder"})})]}),n.erAleneOmOmsorg===!1&&n.harRettPåForeldrepengerINorge===!1&&(n.harOppholdtSegIEØS===!1||n.harRettPåForeldrepengerIEØS===!1)&&x(t)&&e.jsxs("div",{children:[e.jsxs(v,{name:"erMorUfør",label:r.formatMessage({id:"annenForelder.erMorUfør"}),validate:[o(r.formatMessage({id:"valideringsfeil.annenForelder.erMorUfør"}))],children:[e.jsx(l,{value:!0,children:"Ja"}),e.jsx(l,{value:!1,children:"Nei"})]}),e.jsx(h,{header:r.formatMessage({id:"annenForelder.erMorUfør.veileder.apneLabel"}),children:e.jsx(s,{id:"annenForelder.erMorUfør.veileder"})})]})]})};E.__docgenInfo={description:"",methods:[],displayName:"AnnenForelderOppgittPanel",props:{rolle:{required:!0,tsType:{name:"union",raw:"'far' | 'medmor' | 'mor'",elements:[{name:"literal",value:"'far'"},{name:"literal",value:"'medmor'"},{name:"literal",value:"'mor'"}]},description:""},barn:{required:!0,tsType:{name:"union",raw:"FødtBarn | UfødtBarn | AdoptertBarn | AdoptertStebarn | AdoptertAnnetBarn | IkkeUtfyltTypeBarn",elements:[{name:"FødtBarn"},{name:"UfødtBarn"},{name:"AdoptertBarn"},{name:"AdoptertStebarn"},{name:"AdoptertAnnetBarn"},{name:"IkkeUtfyltTypeBarn"}]},description:""}}};const pe="_width_1h8vi_1",S={width:pe},w=(t,d)=>r=>ae(r,d,t),fe=(t,d)=>d?!1:t!=="medmor",T=({søkersFødselsnummer:t,rolle:d,barn:r})=>{const a=A(),g=N(),n=g.watch("fornavn"),u=g.watch("utenlandskFnr"),f=g.watch("kanIkkeOppgis");return e.jsxs(e.Fragment,{children:[fe(d,le(r))&&e.jsx(R,{name:"kanIkkeOppgis",label:a.formatMessage({id:"annenForelder.spørsmål.kanOppgis"})}),!f&&e.jsxs(e.Fragment,{children:[e.jsx(y,{name:"fornavn",label:e.jsx(s,{id:"annenForelder.spørsmål.fornavn"}),validate:[o(a.formatMessage({id:"valideringsfeil.annenForelder.fornavnPåkrevd"})),w(a,"annenForelder.spørsmål.fornavn")],className:S.width}),e.jsx(y,{name:"etternavn",label:e.jsx(s,{id:"annenForelder.spørsmål.etternavn"}),validate:[o(a.formatMessage({id:"valideringsfeil.annenForelder.etternavnPåkrevd"})),w(a,"annenForelder.spørsmål.etternavn")],className:S.width})]}),!f&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(y,{name:"fnr",label:a.formatMessage({id:"annenForelder.spørsmål.fnr"},{navn:n}),validate:[o(a.formatMessage({id:"valideringsfeil.annenForelder.fnrPåkrevd"})),ne(a,t,a.formatMessage({id:"annenForelder.spørsmål.fnr"},{navn:n}),u)],className:S.width}),e.jsx(R,{name:"utenlandskFnr",label:a.formatMessage({id:"annenForelder.spørsmål.utenlandskFnr"})})]}),u&&e.jsx(W,{name:"bostedsland",label:a.formatMessage({id:"annenForelder.bostedsland"}),validate:[o(a.formatMessage({id:"valideringsfeil.annenForelder.bostedslandPåkrevd"}))],children:de().map(i=>e.jsx("option",{value:i[0],children:i[1]},i[0]))})]})]})};T.__docgenInfo={description:"",methods:[],displayName:"OppgiPersonalia",props:{søkersFødselsnummer:{required:!0,tsType:{name:"string"},description:""},rolle:{required:!0,tsType:{name:"union",raw:"'far' | 'medmor' | 'mor'",elements:[{name:"literal",value:"'far'"},{name:"literal",value:"'medmor'"},{name:"literal",value:"'mor'"}]},description:""},barn:{required:!0,tsType:{name:"union",raw:"FødtBarn | UfødtBarn | AdoptertBarn | AdoptertStebarn | AdoptertAnnetBarn | IkkeUtfyltTypeBarn",elements:[{name:"FødtBarn"},{name:"UfødtBarn"},{name:"AdoptertBarn"},{name:"AdoptertStebarn"},{name:"AdoptertAnnetBarn"},{name:"IkkeUtfyltTypeBarn"}]},description:""}}};const ve=(t,d)=>{const r=te(t,d.barn),a=r===void 0||r.length===0?void 0:r.find(g=>g.annenForelder!==void 0);return a!==void 0?a.annenForelder:void 0},he=({søkerInfo:t,mellomlagreSøknadOgNaviger:d,avbrytSøknad:r})=>{const a=A(),g=H(t.arbeidsforhold),n=G(t.arbeidsforhold,d),{rolle:u}=q(j(c.SØKERSITUASJON)),f=q(j(c.OM_BARNET)),i=j(c.ANNEN_FORELDER),I=V(c.ANNEN_FORELDER),m=ve(f,t.søker),U=i!==void 0&&B(i)&&i.fnr!==(m==null?void 0:m.fnr),F=m===void 0||U,D=p=>{if(p.kanIkkeOppgis===!0)return I({kanIkkeOppgis:!0}),n.goToNextDefaultStep();const k=!F&&m,C=k?m.fornavn:p.fornavn,L=k?m.etternavn:p.etternavn,K=k?m.fnr:p.fnr;return I({...p,kanIkkeOppgis:!1,fornavn:O(C)??"",etternavn:O(L)??"",fnr:O(K.trim())??"",harRettPåForeldrepengerIEØS:p.harOppholdtSegIEØS?p.harRettPåForeldrepengerIEØS:!1}),n.goToNextDefaultStep()},M=Q({shouldUnregister:!0,defaultValues:i&&B(i)&&i.fornavn===a.formatMessage({id:"annen.forelder"})?{...i,fornavn:""}:i}),_=M.watch("kanIkkeOppgis");return e.jsx(oe,{bannerTitle:a.formatMessage({id:"søknad.pageheading"}),onCancel:r,onContinueLater:n.fortsettSøknadSenere,steps:g,children:e.jsx(X,{formMethods:M,onSubmit:D,children:e.jsxs(b,{gap:"10",children:[e.jsx(Y,{}),F&&e.jsx(T,{rolle:u,barn:f,søkersFødselsnummer:t.søker.fnr}),!F&&e.jsx(ge,{person:m,fødselsnummerForVisning:m.fnr,visEtternavn:!0}),_!==!0&&e.jsx(E,{rolle:u,barn:f}),e.jsx(Z,{goToPreviousStep:n.goToPreviousDefaultStep})]})})})};he.__docgenInfo={description:"",methods:[],displayName:"AnnenForelderSteg",props:{søkerInfo:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    søker: Søker;
    arbeidsforhold: Arbeidsforhold[];
}`,signature:{properties:[{key:"søker",value:{name:"intersection",raw:`{
    fødselsdato: string;
    kjønn: Kjønn;
    bankkonto?: Bankkonto;
    sivilstand?: Sivilstand;
    barn: SøkerBarn[];
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    fødselsdato: string;
    kjønn: Kjønn;
    bankkonto?: Bankkonto;
    sivilstand?: Sivilstand;
    barn: SøkerBarn[];
}`,signature:{properties:[{key:"fødselsdato",value:{name:"string",required:!0}},{key:"kjønn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"bankkonto",value:{name:"Bankkonto",required:!1}},{key:"sivilstand",value:{name:"Sivilstand",required:!1}},{key:"barn",value:{name:"Array",elements:[{name:"intersection",raw:`{
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: SøkerAnnenForelder;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: SøkerAnnenForelder;
}`,signature:{properties:[{key:"kjønn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"dødsdato",value:{name:"string",required:!1}},{key:"annenForelder",value:{name:"intersection",raw:`{
    fødselsdato?: string;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    fødselsdato?: string;
}`,signature:{properties:[{key:"fødselsdato",value:{name:"string",required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}],required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}]}],raw:"SøkerBarn[]",required:!0}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}],required:!0}},{key:"arbeidsforhold",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverNavn: string;
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    fom: string;
    tom?: string;
    stillingsprosent: number;
}`,signature:{properties:[{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}},{key:"stillingsprosent",value:{name:"number",required:!0}}]}}],raw:"Arbeidsforhold[]",required:!0}}]}},description:""},mellomlagreSøknadOgNaviger:{required:!0,tsType:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},avbrytSøknad:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};export{he as A};
