import{j as e}from"./jsx-runtime-_e34SzbC.js";import{a as D,R as c,D as V,b as R,T as u,S as G,u as H,F as K,E as q,c as z}from"./ErrorSummaryHookForm-BiPVA2HR.js";import{u as I,R as d,d as W,J as $,y as Q,k as X,S as Y}from"./Tidsperioden-DCYvC2pq.js";import"./index--IHLcpuH.js";import{R as x,w as O,u as Z,r as ee,v as b,A as k}from"./useFpNavigator-D_-grhL9.js";import"./index-DVXBtNgz.js";import"./_baseToString-CUxX9raG.js";import"./_createSet-BJbToUt4.js";import{i as m,a as re,b as ne,n as P}from"./dateFormValidation-CVQqGAIt.js";import{u as S,C as j,a as ae}from"./FpDataContext-BcznBdmF.js";import{c as se,h as oe}from"./barnUtils-pdVXbDc_.js";import{R as le}from"./RegistrertePersonalia-Ct6uagA8.js";import{L as te}from"./index-B7VFGchK.js";import{M as o}from"./message-Cd6ALMt1.js";import{V as M}from"./VStack-DueXo9sZ.js";import{a as de,B as ie}from"./Link-SOWRV7cb.js";import{A as E}from"./infobox.module-DN-vpW7H.js";import{j as me}from"./index-BI6FGWNT.js";import{v as ge}from"./validationUtil-CEEmWsmS.js";const pe=s=>!s.kanIkkeOppgis,y=({rolle:s,barn:i})=>{const r=I(),a=se(i),n=D().watch();if(!pe(n))throw Error("Annen forelder skal alltid være oppgitt her");return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs(c,{name:"erAleneOmOmsorg",label:r.formatMessage({id:"annenForelder.aleneOmOmsorg"}),validate:[m(r.formatMessage({id:"valideringsfeil.annenForelder.harAleneOmsorgPåkrevd"}))],children:[e.jsx(d,{value:!1,children:e.jsx(o,{id:"annenForelder.aleneOmOmsorg.ja"})}),e.jsx(d,{value:!0,children:e.jsx(o,{id:"annenForelder.aleneOmOmsorg.nei"})})]}),e.jsx(x,{header:r.formatMessage({id:"annenForelder.aleneOmOmsorg.apneLabel"}),children:e.jsxs(M,{gap:"4",children:[e.jsx(de,{children:e.jsx(o,{id:"annenForelder.aleneOmOmsorg.del1"})}),e.jsx(ie,{children:e.jsx(o,{id:"annenForelder.aleneOmOmsorg.del2"})})]})})]}),!O(s)&&n.erAleneOmOmsorg===!0&&e.jsx(E,{variant:"info",children:e.jsx(o,{id:"annenForelder.veileder.aleneOmsorg.forBarnet"})}),n.erAleneOmOmsorg===!0&&O(s)&&e.jsx(V,{name:"datoForAleneomsorg",label:r.formatMessage({id:"annenForelder.datoForAleneomsorg"}),minDate:W(a).toDate(),validate:[m(r.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.duMåOppgi"})),re(r.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.ugyldigDatoFormat"})),ne(r.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.førFamiliehendelsedato"},{dato:a}),a)]}),n.erAleneOmOmsorg!==!0&&e.jsxs("div",{children:[e.jsxs(c,{name:"harRettPåForeldrepengerINorge",label:r.formatMessage({id:"annenForelder.harRettPåForeldrepengerINorge"}),validate:[m(r.formatMessage({id:"valideringsfeil.annenForelder.harRettTilForeldrepengerPåkrevd"}))],children:[e.jsx(d,{value:!0,children:"Ja"}),e.jsx(d,{value:!1,children:"Nei"})]}),e.jsxs(x,{header:r.formatMessage({id:"annenForelder.harRettPåForeldrepengerINorge.veileder.apneLabel"}),children:[e.jsx(o,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder"}),e.jsxs("ul",{style:{margin:"0",padding:"1rem 2rem 0"},children:[e.jsx("li",{children:e.jsx(o,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt1"})}),e.jsx("li",{children:e.jsx(o,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt2"})}),e.jsx("li",{children:e.jsx(o,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt3"})})]})]})]}),n.erAleneOmOmsorg===!1&&n.harRettPåForeldrepengerINorge===!1&&e.jsxs("div",{children:[e.jsxs(c,{name:"harOppholdtSegIEØS",label:r.formatMessage({id:"annenForelder.harOppholdtSegIEØS"}),validate:[m(r.formatMessage({id:"valideringsfeil.annenForelder.harOppholdtSegIEØS"}))],children:[e.jsx(d,{value:!0,children:"Ja"}),e.jsx(d,{value:!1,children:"Nei"})]}),e.jsx(x,{header:r.formatMessage({id:"annenForelder.harOppholdtSegIEØS.veileder.apneLabel"}),children:e.jsx(o,{id:"annenForelder.harOppholdtSegIEØS.veileder"})})]}),n.erAleneOmOmsorg===!1&&n.harOppholdtSegIEØS===!0&&e.jsxs("div",{children:[e.jsxs(c,{name:"harRettPåForeldrepengerIEØS",label:r.formatMessage({id:"annenForelder.harRettPåForeldrepengerIEØS"}),validate:[m(r.formatMessage({id:"valideringsfeil.annenForelder.harRettPåForeldrepengerIEØS"}))],children:[e.jsx(d,{value:!0,children:"Ja"}),e.jsx(d,{value:!1,children:"Nei"})]}),e.jsx(x,{header:r.formatMessage({id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.apneLabel"}),children:e.jsxs(M,{gap:"4",children:[e.jsx("div",{children:e.jsx(o,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.del1"})}),e.jsx(o,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.del2"}),e.jsx(te,{to:"https://www.nav.no/foreldrepenger#utland",target:"_blank",children:e.jsx(o,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.link"})})]})})]}),n.erAleneOmOmsorg!==!0&&n.harRettPåForeldrepengerINorge!==!1&&e.jsxs(e.Fragment,{children:[e.jsxs(c,{name:"erInformertOmSøknaden",label:r.formatMessage({id:"annenForelder.spørsmål.erAnnenForelderInformert"}),validate:[m(r.formatMessage({id:"valideringsfeil.annenForelder.informertAnnenForelderPåkrevd"})),p=>p===!1?r.formatMessage({id:"annenForelder.erAnnenForelderInformert.veileder"}):null],children:[e.jsx(d,{value:!0,children:"Ja"}),e.jsx(d,{value:!1,children:"Nei"})]}),n.erInformertOmSøknaden===!1&&e.jsx(E,{variant:"warning",children:e.jsx(o,{id:"annenForelder.erAnnenForelderInformert.veileder"})})]}),n.erAleneOmOmsorg===!1&&n.harRettPåForeldrepengerINorge===!1&&(n.harOppholdtSegIEØS===!1||n.harRettPåForeldrepengerIEØS===!1)&&O(s)&&e.jsxs("div",{children:[e.jsxs(c,{name:"erMorUfør",label:r.formatMessage({id:"annenForelder.erMorUfør"}),validate:[m(r.formatMessage({id:"valideringsfeil.annenForelder.erMorUfør"}))],children:[e.jsx(d,{value:!0,children:"Ja"}),e.jsx(d,{value:!1,children:"Nei"})]}),e.jsx(x,{header:r.formatMessage({id:"annenForelder.erMorUfør.veileder.apneLabel"}),children:e.jsx(o,{id:"annenForelder.erMorUfør.veileder"})})]})]})};y.__docgenInfo={description:"",methods:[],displayName:"AnnenForelderOppgittPanel"};const N=(s,i)=>r=>Q(r,i,s),fe=(s,i)=>i?!1:s!=="medmor",w=({søkersFødselsnummer:s,rolle:i,barn:r})=>{const a=I(),g=X("width"),n=D(),p=n.watch("fornavn"),h=n.watch("utenlandskFnr"),l=n.watch("kanIkkeOppgis");return e.jsxs(e.Fragment,{children:[fe(i,me(r))&&e.jsx(R,{name:"kanIkkeOppgis",label:a.formatMessage({id:"annenForelder.spørsmål.kanOppgis"})}),!l&&e.jsxs(e.Fragment,{children:[e.jsx(u,{name:"fornavn",label:e.jsx(o,{id:"annenForelder.spørsmål.fornavn"}),validate:[m(a.formatMessage({id:"valideringsfeil.annenForelder.fornavnPåkrevd"})),N(a,"annenForelder.spørsmål.fornavn")],className:g.block}),e.jsx(u,{name:"etternavn",label:e.jsx(o,{id:"annenForelder.spørsmål.etternavn"}),validate:[m(a.formatMessage({id:"valideringsfeil.annenForelder.etternavnPåkrevd"})),N(a,"annenForelder.spørsmål.etternavn")],className:g.block})]}),!l&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(u,{name:"fnr",label:a.formatMessage({id:"annenForelder.spørsmål.fnr"},{navn:p}),validate:[m(a.formatMessage({id:"valideringsfeil.annenForelder.fnrPåkrevd"})),ge(a,s,a.formatMessage({id:"annenForelder.spørsmål.fnr"},{navn:p}),h)],className:g.block}),e.jsx(R,{name:"utenlandskFnr",label:a.formatMessage({id:"annenForelder.spørsmål.utenlandskFnr"})})]}),h&&e.jsx(G,{name:"bostedsland",label:a.formatMessage({id:"annenForelder.bostedsland"}),validate:[m(a.formatMessage({id:"valideringsfeil.annenForelder.bostedslandPåkrevd"}))],children:$().map(F=>e.jsx("option",{value:F[0],children:F[1]},F[0]))})]})]})};w.__docgenInfo={description:"",methods:[],displayName:"OppgiPersonalia"};const he=(s,i)=>{const r=oe(s,i.barn),a=r===void 0||r.length===0?void 0:r.find(g=>g.annenForelder!==void 0);return a!==void 0?a.annenForelder:void 0},C=({søkerInfo:s,mellomlagreSøknadOgNaviger:i,avbrytSøknad:r})=>{const a=I(),g=Z(s.arbeidsforhold),n=ee(s.arbeidsforhold,i),{rolle:p}=P(S(j.SØKERSITUASJON)),h=P(S(j.OM_BARNET)),l=S(j.ANNEN_FORELDER),F=ae(j.ANNEN_FORELDER),t=he(h,s.søker),T=l!==void 0&&b(l)&&l.fnr!==(t==null?void 0:t.fnr),v=t===void 0||T,L=f=>{if(f.kanIkkeOppgis===!0)F({kanIkkeOppgis:!0});else{const B=!v&&t?t.fornavn:f.fornavn,U=!v&&t?t.etternavn:f.etternavn,J=!v&&t?t.fnr:f.fnr;F({...f,kanIkkeOppgis:!1,fornavn:k(B),etternavn:k(U),fnr:k(J.trim()),harRettPåForeldrepengerIEØS:f.harOppholdtSegIEØS?f.harRettPåForeldrepengerIEØS:!1})}return n.goToNextDefaultStep()},A=H({shouldUnregister:!0,defaultValues:l&&b(l)&&l.fornavn===a.formatMessage({id:"annen.forelder"})?{...l,fornavn:""}:l}),_=A.watch("kanIkkeOppgis");return e.jsx(Y,{bannerTitle:a.formatMessage({id:"søknad.pageheading"}),onCancel:r,onContinueLater:n.fortsettSøknadSenere,steps:g,children:e.jsx(K,{formMethods:A,onSubmit:L,children:e.jsxs(M,{gap:"10",children:[e.jsx(q,{}),v&&e.jsx(w,{rolle:p,barn:h,søkersFødselsnummer:s.søker.fnr}),!v&&e.jsx(le,{person:t,fødselsnummerForVisning:t.fnr,visEtternavn:!0}),_!==!0&&e.jsx(y,{rolle:p,barn:h,annenForelder:l,søker:s.søker}),e.jsx(z,{goToPreviousStep:n.goToPreviousDefaultStep})]})})})},we=C;C.__docgenInfo={description:"",methods:[],displayName:"AnnenForelderSteg"};export{we as A};
