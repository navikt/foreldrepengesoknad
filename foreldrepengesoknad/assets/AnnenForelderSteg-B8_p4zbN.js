import{Z as A,aT as w,_ as e,aU as f,aV as m,aW as i,a1 as l,bn as c,$ as I,b4 as J,a7 as V,a0 as P,bc as H,b7 as W,bo as Z,J as z,E as $,bp as T,bf as x,bd as Q,be as X,q as N,x as M,aZ as Y,as as ee,a_ as re,bk as ne,bl as ae,bq as y}from"./iframe-CRq8SKCE.js";import{b,C as h,c as te}from"./FpDataContext-NkWLXBwI.js";import{i as R,L as se,a as le,b as oe}from"./useFpNavigator-CMiuE9cB.js";import{R as ie}from"./RegistrertePersonalia-DEGJK0w3.js";import{g as de,v as me,w as ge,x as ue}from"./annenForelderUtils-qidV1ZrZ.js";import{L as F}from"./List-CF-f_XhK.js";const pe=s=>!s.kanIkkeOppgis,B=({rolle:s,barn:d})=>{const r=A(),a=de(d),t=w(),n=t.watch();if(!pe(n))throw Error("Annen forelder skal alltid være oppgitt her");return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs(f,{name:"erAleneOmOmsorg",control:t.control,label:r.formatMessage({id:"annenForelder.aleneOmOmsorg"}),validate:[m(r.formatMessage({id:"valideringsfeil.annenForelder.harAleneOmsorgPåkrevd"}))],children:[e.jsx(i,{value:!1,children:e.jsx(l,{id:"annenForelder.aleneOmOmsorg.ja"})}),e.jsx(i,{value:!0,children:e.jsx(l,{id:"annenForelder.aleneOmOmsorg.nei"})})]}),e.jsx(c,{header:r.formatMessage({id:"annenForelder.aleneOmOmsorg.apneLabel"}),children:e.jsxs(I,{gap:"4",children:[e.jsx(J,{children:e.jsx(l,{id:"annenForelder.aleneOmOmsorg.del1"})}),e.jsx(V,{children:e.jsx(l,{id:"annenForelder.aleneOmOmsorg.del2"})})]})})]}),!R(s)&&n.erAleneOmOmsorg===!0&&e.jsx(P,{variant:"info",children:e.jsx(l,{id:"annenForelder.veileder.aleneOmsorg.forBarnet"})}),n.erAleneOmOmsorg===!0&&R(s)&&e.jsx(H,{name:"datoForAleneomsorg",control:t.control,label:r.formatMessage({id:"annenForelder.datoForAleneomsorg"}),minDate:z(a).toDate(),validate:[m(r.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.duMåOppgi"})),W(r.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.ugyldigDatoFormat"})),Z(r.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.førFamiliehendelsedato"},{dato:a}),a)]}),n.erAleneOmOmsorg!==!0&&e.jsxs("div",{children:[e.jsxs(f,{name:"harRettPåForeldrepengerINorge",control:t.control,label:r.formatMessage({id:"annenForelder.harRettPåForeldrepengerINorge"}),validate:[m(r.formatMessage({id:"valideringsfeil.annenForelder.harRettTilForeldrepengerPåkrevd"}))],children:[e.jsx(i,{value:!0,children:"Ja"}),e.jsx(i,{value:!1,children:"Nei"})]}),e.jsxs(c,{header:r.formatMessage({id:"annenForelder.harRettPåForeldrepengerINorge.veileder.apneLabel"}),children:[e.jsx(l,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder"}),e.jsxs(F,{children:[e.jsx(F.Item,{children:e.jsx(l,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt1"})}),e.jsx(F.Item,{children:e.jsx(l,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt2"})}),e.jsx(F.Item,{children:e.jsx(l,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt3"})})]})]})]}),n.erAleneOmOmsorg===!1&&n.harRettPåForeldrepengerINorge===!1&&e.jsxs("div",{children:[e.jsxs(f,{name:"harOppholdtSegIEØS",control:t.control,label:r.formatMessage({id:"annenForelder.harOppholdtSegIEØS"}),validate:[m(r.formatMessage({id:"valideringsfeil.annenForelder.harOppholdtSegIEØS"}))],children:[e.jsx(i,{value:!0,children:"Ja"}),e.jsx(i,{value:!1,children:"Nei"})]}),e.jsx(c,{header:r.formatMessage({id:"annenForelder.harOppholdtSegIEØS.veileder.apneLabel"}),children:e.jsx(l,{id:"annenForelder.harOppholdtSegIEØS.veileder"})})]}),n.erAleneOmOmsorg===!1&&n.harOppholdtSegIEØS===!0&&e.jsxs("div",{children:[e.jsxs(f,{name:"harRettPåForeldrepengerIEØS",control:t.control,label:r.formatMessage({id:"annenForelder.harRettPåForeldrepengerIEØS"}),validate:[m(r.formatMessage({id:"valideringsfeil.annenForelder.harRettPåForeldrepengerIEØS"}))],children:[e.jsx(i,{value:!0,children:"Ja"}),e.jsx(i,{value:!1,children:"Nei"})]}),e.jsx(c,{header:r.formatMessage({id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.apneLabel"}),children:e.jsxs(I,{gap:"4",children:[e.jsx("div",{children:e.jsx(l,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.del1"})}),e.jsx(l,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.del2"}),e.jsx(se,{to:"https://www.nav.no/foreldrepenger#utland",target:"_blank",children:e.jsx(l,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.link"})})]})})]}),n.erAleneOmOmsorg!==!0&&n.harRettPåForeldrepengerINorge!==!1&&e.jsxs(e.Fragment,{children:[e.jsxs(f,{name:"erInformertOmSøknaden",control:t.control,label:r.formatMessage({id:"annenForelder.spørsmål.erAnnenForelderInformert"}),validate:[m(r.formatMessage({id:"valideringsfeil.annenForelder.informertAnnenForelderPåkrevd"})),u=>u===!1?r.formatMessage({id:"annenForelder.erAnnenForelderInformert.veileder"}):null],children:[e.jsx(i,{value:!0,children:"Ja"}),e.jsx(i,{value:!1,children:"Nei"})]}),n.erInformertOmSøknaden===!1&&e.jsx(P,{variant:"warning",children:e.jsx(l,{id:"annenForelder.erAnnenForelderInformert.veileder"})})]}),n.erAleneOmOmsorg===!1&&n.harRettPåForeldrepengerINorge===!1&&(n.harOppholdtSegIEØS===!1||n.harRettPåForeldrepengerIEØS===!1)&&R(s)&&e.jsxs("div",{children:[e.jsxs(f,{name:"erMorUfør",control:t.control,label:r.formatMessage({id:"annenForelder.erMorUfør"}),validate:[m(r.formatMessage({id:"valideringsfeil.annenForelder.erMorUfør"}))],children:[e.jsx(i,{value:!0,children:"Ja"}),e.jsx(i,{value:!1,children:"Nei"})]}),e.jsx(c,{header:r.formatMessage({id:"annenForelder.erMorUfør.veileder.apneLabel"}),children:e.jsx(l,{id:"annenForelder.erMorUfør.veileder"})})]})]})};B.__docgenInfo={description:"",methods:[],displayName:"AnnenForelderOppgittPanel",props:{rolle:{required:!0,tsType:{name:"union",raw:"'far' | 'medmor' | 'mor'",elements:[{name:"literal",value:"'far'"},{name:"literal",value:"'medmor'"},{name:"literal",value:"'mor'"}]},description:""},barn:{required:!0,tsType:{name:"union",raw:"FødtBarn | UfødtBarn | AdoptertBarn | AdoptertStebarn | AdoptertAnnetBarn | IkkeUtfyltTypeBarn",elements:[{name:"FødtBarn"},{name:"UfødtBarn"},{name:"AdoptertBarn"},{name:"AdoptertStebarn"},{name:"AdoptertAnnetBarn"},{name:"IkkeUtfyltTypeBarn"}]},description:""}}};const ve="_width_1h8vi_1",E={width:ve},q=(s,d)=>r=>ge(r,d,s),fe=(s,d)=>d?!1:s!=="medmor",_=({søkersFødselsnummer:s,rolle:d,barn:r})=>{const a=A(),t=w(),n=t.watch("fornavn"),u=t.watch("utenlandskFnr"),v=t.watch("kanIkkeOppgis");return e.jsxs(e.Fragment,{children:[fe(d,$(r))&&e.jsx(T,{name:"kanIkkeOppgis",control:t.control,label:a.formatMessage({id:"annenForelder.spørsmål.kanOppgis"})}),!v&&e.jsxs(e.Fragment,{children:[e.jsx(x,{name:"fornavn",control:t.control,label:e.jsx(l,{id:"annenForelder.spørsmål.fornavn"}),validate:[m(a.formatMessage({id:"valideringsfeil.annenForelder.fornavnPåkrevd"})),q(a,"annenForelder.spørsmål.fornavn")],className:E.width}),e.jsx(x,{name:"etternavn",control:t.control,label:e.jsx(l,{id:"annenForelder.spørsmål.etternavn"}),validate:[m(a.formatMessage({id:"valideringsfeil.annenForelder.etternavnPåkrevd"})),q(a,"annenForelder.spørsmål.etternavn")],className:E.width})]}),!v&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(x,{name:"fnr",control:t.control,label:a.formatMessage({id:"annenForelder.spørsmål.fnr"},{navn:n}),validate:[m(a.formatMessage({id:"valideringsfeil.annenForelder.fnrPåkrevd"})),me(a,s,a.formatMessage({id:"annenForelder.spørsmål.fnr"},{navn:n}),u)],className:E.width}),e.jsx(T,{name:"utenlandskFnr",control:t.control,label:a.formatMessage({id:"annenForelder.spørsmål.utenlandskFnr"})})]}),u&&e.jsx(Q,{name:"bostedsland",control:t.control,label:a.formatMessage({id:"annenForelder.bostedsland"}),validate:[m(a.formatMessage({id:"valideringsfeil.annenForelder.bostedslandPåkrevd"}))],children:X().map(o=>e.jsx("option",{value:o[0],children:o[1]},o[0]))})]})]})};_.__docgenInfo={description:"",methods:[],displayName:"OppgiPersonalia",props:{søkersFødselsnummer:{required:!0,tsType:{name:"string"},description:""},rolle:{required:!0,tsType:{name:"union",raw:"'far' | 'medmor' | 'mor'",elements:[{name:"literal",value:"'far'"},{name:"literal",value:"'medmor'"},{name:"literal",value:"'mor'"}]},description:""},barn:{required:!0,tsType:{name:"union",raw:"FødtBarn | UfødtBarn | AdoptertBarn | AdoptertStebarn | AdoptertAnnetBarn | IkkeUtfyltTypeBarn",elements:[{name:"FødtBarn"},{name:"UfødtBarn"},{name:"AdoptertBarn"},{name:"AdoptertStebarn"},{name:"AdoptertAnnetBarn"},{name:"IkkeUtfyltTypeBarn"}]},description:""}}};const ce=(s,d)=>{const r=ue(s,d.barn),a=r===void 0||r.length===0?void 0:r.find(t=>t.annenForelder!==void 0);return a!==void 0?a.annenForelder:void 0},he=({søkerInfo:s,mellomlagreSøknadOgNaviger:d,avbrytSøknad:r})=>{const a=A(),t=le(s.arbeidsforhold),n=oe(s.arbeidsforhold,d),{rolle:u}=N(b(h.SØKERSITUASJON)),v=N(b(h.OM_BARNET)),o=b(h.ANNEN_FORELDER),O=te(h.ANNEN_FORELDER),g=ce(v,s.søker),U=o!==void 0&&M(o)&&o.fnr!==(g==null?void 0:g.fnr),k=g===void 0||U,L=p=>{if(p.kanIkkeOppgis===!0)return O({kanIkkeOppgis:!0}),n.goToNextDefaultStep();const j=!k&&g,K=j?g.fornavn:p.fornavn,C=j?g.etternavn:p.etternavn,G=j?g.fnr:p.fnr;return O({...p,kanIkkeOppgis:!1,fornavn:y(K)??"",etternavn:y(C)??"",fnr:y(G.trim())??"",harRettPåForeldrepengerIEØS:p.harOppholdtSegIEØS?p.harRettPåForeldrepengerIEØS:!1}),n.goToNextDefaultStep()},S=Y({shouldUnregister:!0,defaultValues:o&&M(o)&&o.fornavn===a.formatMessage({id:"annen.forelder"})?{...o,fornavn:""}:o}),D=S.watch("kanIkkeOppgis");return e.jsx(ee,{bannerTitle:a.formatMessage({id:"søknad.pageheading"}),onCancel:r,onContinueLater:n.fortsettSøknadSenere,steps:t,children:e.jsx(re,{formMethods:S,onSubmit:L,children:e.jsxs(I,{gap:"10",children:[e.jsx(ne,{}),k&&e.jsx(_,{rolle:u,barn:v,søkersFødselsnummer:s.søker.fnr}),!k&&e.jsx(ie,{person:g,fødselsnummerForVisning:g.fnr,visEtternavn:!0}),D!==!0&&e.jsx(B,{rolle:u,barn:v}),e.jsx(ae,{goToPreviousStep:n.goToPreviousDefaultStep})]})})})};he.__docgenInfo={description:"",methods:[],displayName:"AnnenForelderSteg",props:{søkerInfo:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    søker: PersonFrontend;
    arbeidsforhold: Arbeidsforhold[];
}`,signature:{properties:[{key:"søker",value:{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
    kjønn: Kjønn;
    fødselsdato: string;
    bankkonto?: Bankkonto;
    barn: BarnFrontend[];
    sivilstand?: Sivilstand;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}},{key:"kjønn",value:{name:"union",raw:"'M' | 'K' | 'U'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"},{name:"literal",value:"'U'"}],required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"bankkonto",value:{name:"signature",type:"object",raw:`{
    kontonummer?: string;
    banknavn?: string;
}`,signature:{properties:[{key:"kontonummer",value:{name:"string",required:!1}},{key:"banknavn",value:{name:"string",required:!1}}]},required:!1}},{key:"barn",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: AnnenForelderFrontend;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}},{key:"kjønn",value:{name:"union",raw:"'M' | 'K' | 'U'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"},{name:"literal",value:"'U'"}],required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"dødsdato",value:{name:"string",required:!1}},{key:"annenForelder",value:{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
    fødselsdato?: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}},{key:"fødselsdato",value:{name:"string",required:!1}}]},required:!1}}]}}],raw:"BarnFrontend[]",required:!0}},{key:"sivilstand",value:{name:"signature",type:"object",raw:`{
    type?: SivilstandType;
}`,signature:{properties:[{key:"type",value:{name:"union",raw:`| 'UOPPGITT'
| 'UGIFT'
| 'GIFT'
| 'ENKE_ELLER_ENKEMANN'
| 'SKILT'
| 'SEPARERT'
| 'REGISTRERT_PARTNER'
| 'SEPARERT_PARTNER'
| 'SKILT_PARTNER'
| 'GJENLEVENDE_PARTNER'`,elements:[{name:"literal",value:"'UOPPGITT'"},{name:"literal",value:"'UGIFT'"},{name:"literal",value:"'GIFT'"},{name:"literal",value:"'ENKE_ELLER_ENKEMANN'"},{name:"literal",value:"'SKILT'"},{name:"literal",value:"'SEPARERT'"},{name:"literal",value:"'REGISTRERT_PARTNER'"},{name:"literal",value:"'SEPARERT_PARTNER'"},{name:"literal",value:"'SKILT_PARTNER'"},{name:"literal",value:"'GJENLEVENDE_PARTNER'"}],required:!1}}]},required:!1}}]},required:!0}},{key:"arbeidsforhold",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    arbeidsgiverNavn: string;
    stillingsprosent: number;
    fom: string;
    tom?: string;
}`,signature:{properties:[{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"stillingsprosent",value:{name:"number",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}}]}}],raw:"Arbeidsforhold[]",required:!0}}]}},description:""},mellomlagreSøknadOgNaviger:{required:!0,tsType:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},avbrytSøknad:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};export{he as A};
