import{j as e}from"./jsx-runtime-Cw0GR0a5.js";import{c as C,R as h,e as x,D as W,g as P,T as k,b as Y,u as z,F as Q,E as X,S as Z}from"./ErrorSummaryHookForm-CaYBtxcr.js";import{u as R}from"./index-DSgjoNiG.js";import{R as m,v as L}from"./Tidsperioden-Bw0zPGVs.js";import"./index-CCQ3W5xA.js";import{v as S,u as ee,a as re,y as N,J as M}from"./useFpNavigator-CA7aiVOI.js";import"./index-CTjT7uj6.js";import{d as O,h as ne}from"./Uttaksdagen-C7qvZjyy.js";import"./_baseToString-Cq6MbKF_.js";import"./_createSet-D2BJ0WVx.js";import{A as D,S as ae}from"./ByttBrowserModal-D16_roT_.js";import{i as u,a as se,h as te,n as T}from"./dateFormValidation-DamLOwkK.js";import{m as oe,u as I,C as b,a as le}from"./FpDataContext-7C49oNtd.js";import{c as de,j as ie}from"./barnUtils-CTt8xqjk.js";import{R as me}from"./RegistrertePersonalia-CFmEjaMG.js";import{L as fe}from"./index-Bx-zz2o0.js";import{M as l}from"./message-CjkJih2D.js";import{V as A}from"./VStack-uc_A_iZ1.js";import{a as ue,B as ge}from"./Label-C_UMiHsP.js";import{b as pe}from"./bemUtils-DmNyTjfb.js";const ce=n=>!n.kanIkkeOppgis,B=({rolle:n,barn:r})=>{const a=R(),s=de(r),t=C().watch();if(!ce(t))throw Error("Annen forelder skal alltid være oppgitt her");return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs(h,{name:"erAleneOmOmsorg",label:a.formatMessage({id:"annenForelder.aleneOmOmsorg"}),validate:[u(a.formatMessage({id:"valideringsfeil.annenForelder.harAleneOmsorgPåkrevd"}))],children:[e.jsx(m,{value:!1,children:e.jsx(l,{id:"annenForelder.aleneOmOmsorg.ja"})}),e.jsx(m,{value:!0,children:e.jsx(l,{id:"annenForelder.aleneOmOmsorg.nei"})})]}),e.jsx(x,{header:a.formatMessage({id:"annenForelder.aleneOmOmsorg.apneLabel"}),children:e.jsxs(A,{gap:"4",children:[e.jsx(ue,{children:e.jsx(l,{id:"annenForelder.aleneOmOmsorg.del1"})}),e.jsx(ge,{children:e.jsx(l,{id:"annenForelder.aleneOmOmsorg.del2"})})]})})]}),!S(n)&&t.erAleneOmOmsorg===!0&&e.jsx(D,{variant:"info",children:e.jsx(l,{id:"annenForelder.veileder.aleneOmsorg.forBarnet"})}),t.erAleneOmOmsorg===!0&&S(n)&&e.jsx(W,{name:"datoForAleneomsorg",label:a.formatMessage({id:"annenForelder.datoForAleneomsorg"}),minDate:O(s).toDate(),validate:[u(a.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.duMåOppgi"})),se(a.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.ugyldigDatoFormat"})),te(a.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.førFamiliehendelsedato"},{dato:s}),s)]}),t.erAleneOmOmsorg!==!0&&e.jsxs("div",{children:[e.jsxs(h,{name:"harRettPåForeldrepengerINorge",label:a.formatMessage({id:"annenForelder.harRettPåForeldrepengerINorge"}),validate:[u(a.formatMessage({id:"valideringsfeil.annenForelder.harRettTilForeldrepengerPåkrevd"}))],children:[e.jsx(m,{value:!0,children:"Ja"}),e.jsx(m,{value:!1,children:"Nei"})]}),e.jsxs(x,{header:a.formatMessage({id:"annenForelder.harRettPåForeldrepengerINorge.veileder.apneLabel"}),children:[e.jsx(l,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder"}),e.jsxs("ul",{style:{margin:"0",padding:"1rem 2rem 0"},children:[e.jsx("li",{children:e.jsx(l,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt1"})}),e.jsx("li",{children:e.jsx(l,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt2"})}),e.jsx("li",{children:e.jsx(l,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt3"})})]})]})]}),t.erAleneOmOmsorg===!1&&t.harRettPåForeldrepengerINorge===!1&&e.jsxs("div",{children:[e.jsxs(h,{name:"harOppholdtSegIEØS",label:a.formatMessage({id:"annenForelder.harOppholdtSegIEØS"}),validate:[u(a.formatMessage({id:"valideringsfeil.annenForelder.harOppholdtSegIEØS"}))],children:[e.jsx(m,{value:!0,children:"Ja"}),e.jsx(m,{value:!1,children:"Nei"})]}),e.jsx(x,{header:a.formatMessage({id:"annenForelder.harOppholdtSegIEØS.veileder.apneLabel"}),children:e.jsx(l,{id:"annenForelder.harOppholdtSegIEØS.veileder"})})]}),t.erAleneOmOmsorg===!1&&t.harOppholdtSegIEØS===!0&&e.jsxs("div",{children:[e.jsxs(h,{name:"harRettPåForeldrepengerIEØS",label:a.formatMessage({id:"annenForelder.harRettPåForeldrepengerIEØS"}),validate:[u(a.formatMessage({id:"valideringsfeil.annenForelder.harRettPåForeldrepengerIEØS"}))],children:[e.jsx(m,{value:!0,children:"Ja"}),e.jsx(m,{value:!1,children:"Nei"})]}),e.jsx(x,{header:a.formatMessage({id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.apneLabel"}),children:e.jsxs(A,{gap:"4",children:[e.jsx("div",{children:e.jsx(l,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.del1"})}),e.jsx(l,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.del2"}),e.jsx(fe,{to:"https://www.nav.no/foreldrepenger#utland",target:"_blank",children:e.jsx(l,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.link"})})]})})]}),t.erAleneOmOmsorg!==!0&&t.harRettPåForeldrepengerINorge!==!1&&e.jsxs(e.Fragment,{children:[e.jsxs(h,{name:"erInformertOmSøknaden",label:a.formatMessage({id:"annenForelder.spørsmål.erAnnenForelderInformert"}),validate:[u(a.formatMessage({id:"valideringsfeil.annenForelder.informertAnnenForelderPåkrevd"})),f=>f===!1?a.formatMessage({id:"annenForelder.erAnnenForelderInformert.veileder"}):null],children:[e.jsx(m,{value:!0,children:"Ja"}),e.jsx(m,{value:!1,children:"Nei"})]}),t.erInformertOmSøknaden===!1&&e.jsx(D,{variant:"warning",children:e.jsx(l,{id:"annenForelder.erAnnenForelderInformert.veileder"})})]}),t.erAleneOmOmsorg===!1&&t.harRettPåForeldrepengerINorge===!1&&(t.harOppholdtSegIEØS===!1||t.harRettPåForeldrepengerIEØS===!1)&&S(n)&&e.jsxs("div",{children:[e.jsxs(h,{name:"erMorUfør",label:a.formatMessage({id:"annenForelder.erMorUfør"}),validate:[u(a.formatMessage({id:"valideringsfeil.annenForelder.erMorUfør"}))],children:[e.jsx(m,{value:!0,children:"Ja"}),e.jsx(m,{value:!1,children:"Nei"})]}),e.jsx(x,{header:a.formatMessage({id:"annenForelder.erMorUfør.veileder.apneLabel"}),children:e.jsx(l,{id:"annenForelder.erMorUfør.veileder"})})]})]})};B.__docgenInfo={description:"",methods:[],displayName:"AnnenForelderOppgittPanel"};var v={};function w(n){return xe(n)||Fe(n)||ve(n)||he()}function he(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ve(n,r){if(n){if(typeof n=="string")return y(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return y(n,r)}}function Fe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function xe(n){if(Array.isArray(n))return y(n)}function y(n,r){(r==null||r>n.length)&&(r=n.length);for(var a=0,s=new Array(r);a<r;a++)s[a]=n[a];return s}var je=new RegExp("^\\d{11}$"),be=function(r){return j(r)},Oe=function(r){return j(r)},ke=function(r){return j(r)},Se=function(r){return j(r)},Me=function(r){return r.substring(0,1)>=4?"dnr":r.substring(2,3)>=8?"tnr":r.substring(2,3)>=4?"hnr":"fnr"},j=function(r){var a=Me(r);return Ie(r,a)},Ie=function(r,a){if(!je.test(r))return{status:"invalid",reasons:["fnr, dnr or hnr must consist of 11 digits"]};var s=[].concat(w(Ae(r)),w(ye(r,a)));return s.length==0?{status:"valid",type:a}:{status:"invalid",reasons:s}},Ae=function(r){var a=11-(3*r[0]+7*r[1]+6*r[2]+1*r[3]+8*r[4]+9*r[5]+4*r[6]+5*r[7]+2*r[8])%11,s=11-(5*r[0]+4*r[1]+3*r[2]+2*r[3]+7*r[4]+6*r[5]+5*r[6]+4*r[7]+3*r[8]+2*a)%11;return a===11&&(a=0),s===11&&(s=0),a<10&&s<10&&a==r[9]&&s==r[10]?[]:["checksums don't match"]},ye=function(r,a){a==="dnr"?r=r.substring(0,1)-4+r.substring(1):a==="hnr"?r=r.substring(0,2)+(r.substring(2,3)-4)+r.substring(3):a==="tnr"&&(r=r.substring(0,2)+(r.substring(2,3)-8)+r.substring(3));var s=r.substring(0,2),o=r.substring(2,4),t=r.substring(4,6),f=new Date(t==="00"?"2000":t,o-1,s);return f&&f.getMonth()+1==o&&f.getDate()==s?[]:["invalid date"]};v.fnr=be;v.dnr=Oe;v.hnr=ke;v.tnr=Se;v.idnr=j;const Re=n=>{const r=v.idnr(n);return r.status!=="valid"?!1:r.type},Ee=(n,r)=>{const a=r==="dnr"?`${Number(n.substr(0,1))-4}${n.substr(1,1)}`:n.substr(0,2),s=n.substr(2,2),o=n.substr(4,2);let t=O(`${a}-${s}-${o}`,"DD-MM-YY");return t.get("year")>O().get("year")&&(t=t.subtract(100,"year")),t.isValid()?t.isBefore(O().subtract(16,"year"),"day"):!1},Pe=(n,r,a,s)=>o=>{if(s)return o===void 0||o.trim()===""?n.formatMessage({id:"valideringsfeil.fødselsnummer.required"}):o.length>50?n.formatMessage({id:"valideringsfeil.fødselsnummer.fødselsnummerForLangt"}):L(o,a,n);if(o===r)return n.formatMessage({id:"valideringsfeil.fødselsnummer.ugyldigEgetFødselsnummer"});const t=Re(o);return!s&&!Ee(o,t)&&t==="fnr"?n.formatMessage({id:"valideringsfeil.fødselsnummer.underSeksten"}):t==="fnr"||t==="dnr"||t==="hnr"?void 0:n.formatMessage({id:"valideringsfeil.fødselsnummer.ugyldigFødselsnummer"})},_=(n,r)=>a=>L(a,r,n),Ne=(n,r)=>r?!1:n!=="medmor",U=({søkersFødselsnummer:n,rolle:r,barn:a})=>{const s=R(),o=pe("width"),t=C(),f=t.watch("fornavn"),p=t.watch("utenlandskFnr"),d=t.watch("kanIkkeOppgis");return e.jsxs(e.Fragment,{children:[Ne(r,oe(a))&&e.jsx(P,{name:"kanIkkeOppgis",label:s.formatMessage({id:"annenForelder.spørsmål.kanOppgis"})}),!d&&e.jsxs(e.Fragment,{children:[e.jsx(k,{name:"fornavn",label:e.jsx(l,{id:"annenForelder.spørsmål.fornavn"}),validate:[u(s.formatMessage({id:"valideringsfeil.annenForelder.fornavnPåkrevd"})),_(s,"annenForelder.spørsmål.fornavn")],className:o.block}),e.jsx(k,{name:"etternavn",label:e.jsx(l,{id:"annenForelder.spørsmål.etternavn"}),validate:[u(s.formatMessage({id:"valideringsfeil.annenForelder.etternavnPåkrevd"})),_(s,"annenForelder.spørsmål.etternavn")],className:o.block})]}),!d&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(k,{name:"fnr",label:s.formatMessage({id:"annenForelder.spørsmål.fnr"},{navn:f}),validate:[u(s.formatMessage({id:"valideringsfeil.annenForelder.fnrPåkrevd"})),Pe(s,n,s.formatMessage({id:"annenForelder.spørsmål.fnr"},{navn:f}),p)],className:o.block}),e.jsx(P,{name:"utenlandskFnr",label:s.formatMessage({id:"annenForelder.spørsmål.utenlandskFnr"})})]}),p&&e.jsx(Y,{name:"bostedsland",label:s.formatMessage({id:"annenForelder.bostedsland"}),validate:[u(s.formatMessage({id:"valideringsfeil.annenForelder.bostedslandPåkrevd"}))],children:ne().map(c=>e.jsx("option",{value:c[0],children:c[1]},c[0]))})]})]})};U.__docgenInfo={description:"",methods:[],displayName:"OppgiPersonalia"};const De=(n,r)=>{const a=ie(n,r.barn),s=a===void 0||a.length===0?void 0:a.find(o=>o.annenForelder!==void 0);return s!==void 0?s.annenForelder:void 0},V=({søkerInfo:n,mellomlagreSøknadOgNaviger:r,avbrytSøknad:a})=>{const s=R(),o=ee(n.arbeidsforhold),t=re(n.arbeidsforhold,r),{rolle:f}=T(I(b.SØKERSITUASJON)),p=T(I(b.OM_BARNET)),d=I(b.ANNEN_FORELDER),c=le(b.ANNEN_FORELDER),i=De(p,n.søker),$=d!==void 0&&N(d)&&d.fnr!==(i==null?void 0:i.fnr),F=i===void 0||$,J=g=>{if(g.kanIkkeOppgis===!0)c({kanIkkeOppgis:!0});else{const q=!F&&i?i.fornavn:g.fornavn,G=!F&&i?i.etternavn:g.etternavn,K=!F&&i?i.fnr:g.fnr;c({...g,kanIkkeOppgis:!1,fornavn:M(q),etternavn:M(G),fnr:M(K.trim()),harRettPåForeldrepengerIEØS:g.harOppholdtSegIEØS?g.harRettPåForeldrepengerIEØS:!1})}return t.goToNextDefaultStep()},E=z({shouldUnregister:!0,defaultValues:d&&N(d)&&d.fornavn===s.formatMessage({id:"annen.forelder"})?{...d,fornavn:""}:d}),H=E.watch("kanIkkeOppgis");return e.jsx(ae,{bannerTitle:s.formatMessage({id:"søknad.pageheading"}),onCancel:a,onContinueLater:t.fortsettSøknadSenere,steps:o,children:e.jsx(Q,{formMethods:E,onSubmit:J,children:e.jsxs(A,{gap:"10",children:[e.jsx(X,{}),F&&e.jsx(U,{rolle:f,barn:p,søkersFødselsnummer:n.søker.fnr}),!F&&e.jsx(me,{person:i,fødselsnummerForVisning:i.fnr,visEtternavn:!0}),H!==!0&&e.jsx(B,{rolle:f,barn:p,annenForelder:d,søker:n.søker}),e.jsx(Z,{goToPreviousStep:t.goToPreviousDefaultStep})]})})})},er=V;V.__docgenInfo={description:"",methods:[],displayName:"AnnenForelderSteg"};export{er as A};
