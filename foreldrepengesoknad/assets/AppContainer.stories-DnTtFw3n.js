import{j as t}from"./jsx-runtime-DoxjgJx5.js";import{w as At,e as ht,A as _e,H as Tt,f as Nt,U as Pt,I as Ot,i as yt}from"./Step-DMjU3ety.js";import{M as Ut}from"./index-B_cCgG6K.js";import{a as jt,s as bt}from"./stønadskontoDeltUttak80-ClNcnlfA.js";import{r as p}from"./index-Cu9bd8lq.js";import{b0 as Ft,d as F,g as Dt,q as Z,aP as ke,u as Be,U as Fn,b as C,i as pe,N as It,M as de,B as me,c as pn,O as Rt,p as _t,L as Dn,S as xt,b1 as Mt,b2 as In}from"./Tidsperioden-C8HcA-rk.js";import"./index-C-6Uy6j4.js";import{n as wt,a as mn,b as Bt}from"./app-DxJvvTDT.js";import"./_baseToString-yTMKM5a7.js";import"./_createSet-BNfKGSGn.js";import{B as Kt}from"./index-BvmZMrUr.js";import{E as Ie}from"./axios-Dg6gsKS0.js";import{F as Lt,l as Gt,A as W}from"./Feilside-DCnxnYf2.js";import{a as Rn,s as H,g as qt,b as Vt,c as Ct,d as Jt,U as Wt}from"./UttaksplanInfo-C7s4fXKI.js";import{C as i,c as Ht,d as _n,u as I,a as L,e as $t,F as Yt}from"./FpDataContext-CjNulmBK.js";import{l as Qt}from"./links-dJHPeQm3.js";import{a as Ke,n as M,a3 as Q,am as xn,a4 as Xt,an as zt,P as Zt,ad as er,S as xe,h as Mn,K as Re,I as nr,J as tr,L as rr,O as sr,Q as ar,ao as kn,T as or,ap as ir,aq as lr,D as dr,ar as ur,b as pr,as as mr,at as P,au as cn}from"./dateFormValidation-A9ng-RC0.js";import{S as k,e as kr,h as cr,i as gr,Q as fr,u as Sr,a as Er,g as vr,f as Ar,s as hr,U as Tr,j as Nr,k as Pr,l as Or}from"./useFpNavigator-CnrN-bhH.js";import{r as wn,R as J}from"./useRequest-D3GjlcxZ.js";import{e as Bn,h as yr}from"./barnUtils-DSjWg_x2.js";import{V as Ur}from"./Velkommen-DSwXg4Lk.js";import{A as jr}from"./AnnenForelderSteg-DINDPgwn.js";import{I as br}from"./Inntektsinformasjon-Cvm7FSX2.js";import{M as gn}from"./ManglendeVedlegg-CwnuvybT.js";import{O as Fr}from"./OmBarnetSteg-BcOlOLwD.js";import{O as fn}from"./Oppsummering-CXiAAOuh.js";import{P as Dr}from"./PeriodeMedForeldrepengerSteg-CeoML2yS.js";import{S as Ir}from"./SøkersituasjonSteg-CFmIUOXM.js";import{U as Rr}from"./UtenlandsoppholdSteg-CtoCcMMv.js";import{S as _r}from"./SenereUtenlandsoppholdSteg-CCvvbyw8.js";import{T as xr}from"./TidligereUtenlandsoppholdSteg-WDWrAeC_.js";import{S as x}from"./Attachment-DprMYF-V.js";import{g as Mr}from"./Næring-Dn1pZuPL.js";import{u as Sn,a as ue,d as wr,e as Br,g as Kr,b as En,c as Lr,F as Gr}from"./uttaksplanInfoUtils-B2JpxYR4.js";import{I as qr}from"./InfoOmSøknaden-CjImeZ2I.js";import{b as Vr,c as Cr}from"./dateUtils-BR3fTdjz.js";import{c as Jr,g as Wr}from"./eksisterendeSakUtils-B4-KNNY8.js";import{a as Hr,g as $r}from"./stønadskontoer-Jq-o03pj.js";import{F as w}from"./message-BTv7u0RP.js";import{H as Yr,B as vn}from"./Link-BqZ6CohM.js";import{B as Qr}from"./ByttBrowserModal-BSB43cwd.js";import{s as Xr,A as zr}from"./apiInterceptor-BlveB6PB.js";import"./amplitude.esm-CWYNo8IU.js";import"./createIntl-DjMHtdaC.js";import"./index-SDyqs4cU.js";import"./index-Ckls47V4.js";import"./globalUtil-BtRYWUdG.js";import"./BabyWrapped-CueKsnSm.js";import"./LenkeKnapp-MqIXSt5W.js";import"./lodash-o8vTUAkc.js";import"./ErrorSummaryHookForm-DaBY2tD2.js";import"./DinePlikter-CawpMkhh.js";import"./DinePersonopplysningerModal-DPdgsN3L.js";import"./velkommenUtils-OwMlSU50.js";import"./RegistrertePersonalia-BT_B-j_x.js";import"./validationUtil-KbyHXhDX.js";import"./AttachmentMetadata-B9XvXCfe.js";import"./InteractiveListElement-N0-Ub9O6.js";import"./vedleggUtils-Deszdclf.js";import"./FormikFileUploader-BBkOVduE.js";import"./AttachmentList-C8AcxsEr.js";import"./Attachment-Ciz7DF4h.js";import"./util-uob7ktk1.js";import"./File-BTi-FAPa.js";import"./TidligereUtenlandsoppholdPanel-CFifDK8o.js";const Zr=[{fom:"2022-12-12",tom:"2023-02-17",kontoType:"FEDREKVOTE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},samtidigUttak:100,flerbarnsdager:!1},{fom:"2023-02-20",tom:"2023-03-05",kontoType:"FELLESPERIODE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},samtidigUttak:50,flerbarnsdager:!1},{fom:"2023-03-20",tom:"2023-03-31",kontoType:"FEDREKVOTE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},flerbarnsdager:!1}],es="HUNDRE",ns={perioder:Zr,dekningsgrad:es},ts="2019-02-01",rs="23123",ss={innsendingstidspunkt:ts,pdf:rs},as=[{saksnummer:"352011594",sakAvsluttet:!1,sisteSøknadMottattDato:"2023-03-31",kanSøkeOmEndring:!1,sakTilhørerMor:!1,gjelderAdopsjon:!0,morUføretrygd:!1,harAnnenForelderTilsvarendeRettEØS:!1,ønskerJustertUttakVedFødsel:!1,rettighetType:"BEGGE_RETT",annenPart:{type:"person",fnr:"05489305072",fornavn:"Sentral",etternavn:"Tangent"},familiehendelse:{fødselsdato:"2023-02-01",antallBarn:1,omsorgsovertakelse:"2023-04-10"},åpenBehandling:{tilstand:"VENT_INNTEKTSMELDING",søknadsperioder:[{fom:"2023-04-10",tom:"2023-07-21",kontoType:"FEDREKVOTE",flerbarnsdager:!1},{fom:"2023-07-24",tom:"2023-09-15",kontoType:"FELLESPERIODE",morsAktivitet:"UTDANNING",flerbarnsdager:!1}]},barn:[],dekningsgrad:"HUNDRE"}],os=[],is={foreldrepenger:as,engangsstønad:[],svangerskapspenger:os},ls={MØDREKVOTE:95,FEDREKVOTE:95,FELLESPERIODE:90,FORELDREPENGER_FØR_FØDSEL:15,FORELDREPENGER:80},ds={},us={kontoer:ls,minsteretter:ds};var An=function(n,e,r){if(r||arguments.length===2)for(var s=0,o=e.length,a;s<o;s++)(a||!(s in e))&&(a||(a=Array.prototype.slice.call(e,0,s)),a[s]=e[s]);return n.concat(a||Array.prototype.slice.call(e))},ps=function(){function n(e,r,s){this.name=e,this.version=r,this.os=s,this.type="browser"}return n}(),ms=function(){function n(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return n}(),ks=function(){function n(e,r,s,o){this.name=e,this.version=r,this.os=s,this.bot=o,this.type="bot-device"}return n}(),cs=function(){function n(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return n}(),gs=function(){function n(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return n}(),fs=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Ss=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,hn=3,Es=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",fs]],Tn=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function vs(n){return n?Nn(n):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new gs:typeof navigator<"u"?Nn(navigator.userAgent):Ts()}function As(n){return n!==""&&Es.reduce(function(e,r){var s=r[0],o=r[1];if(e)return e;var a=o.exec(n);return!!a&&[s,a]},!1)}function Nn(n){var e=As(n);if(!e)return null;var r=e[0],s=e[1];if(r==="searchbot")return new cs;var o=s[1]&&s[1].split(".").join("_").split("_").slice(0,3);o?o.length<hn&&(o=An(An([],o,!0),Ns(hn-o.length),!0)):o=[];var a=o.join("."),d=hs(n),u=Ss.exec(n);return u&&u[1]?new ks(r,a,d,u[1]):new ps(r,a,d)}function hs(n){for(var e=0,r=Tn.length;e<r;e++){var s=Tn[e],o=s[0],a=s[1],d=a.exec(n);if(d)return o}return null}function Ts(){var n=typeof process<"u"&&process.version;return n?new ms(process.version.slice(1)):null}function Ns(n){for(var e=[],r=0;r<n;r++)e.push("0");return e}const Ps=n=>{window.location.href=n};function Os(n){p.useEffect(()=>{const e=document.title;return document.title=n,()=>{document.title=e}},[n])}const Kn="selectedLocale",ys=()=>sessionStorage.getItem(Kn)||"nb",Us=n=>{sessionStorage.setItem(Kn,n)},js=n=>{const e=n.søknad;return{[i.APP_ROUTE]:n.currentRoute,[i.EKSISTERENDE_SAK]:n.eksisterendeSak,[i.BARN_FRA_NESTE_SAK]:n.barnFraNesteSak,[i.SØKERSITUASJON]:e==null?void 0:e.søkersituasjon,[i.OM_BARNET]:e==null?void 0:e.barn,[i.ANNEN_FORELDER]:e==null?void 0:e.annenForelder,[i.SØKER_DATA]:e==null?void 0:e.søker,[i.UTENLANDSOPPHOLD]:e!=null&&e.informasjonOmUtenlandsopphold?{iNorgeNeste12Mnd:e.informasjonOmUtenlandsopphold.iNorgeNeste12Mnd,iNorgeSiste12Mnd:e.informasjonOmUtenlandsopphold.iNorgeSiste12Mnd}:void 0,[i.UTENLANDSOPPHOLD_SENERE]:e!=null&&e.informasjonOmUtenlandsopphold&&e.informasjonOmUtenlandsopphold.senereOpphold&&e.informasjonOmUtenlandsopphold.senereOpphold.length>0?{senereOpphold:e.informasjonOmUtenlandsopphold.senereOpphold}:void 0,[i.UTENLANDSOPPHOLD_TIDLIGERE]:e!=null&&e.informasjonOmUtenlandsopphold&&e.informasjonOmUtenlandsopphold.tidligereOpphold&&e.informasjonOmUtenlandsopphold.tidligereOpphold.length>0?{tidligereOpphold:e.informasjonOmUtenlandsopphold.tidligereOpphold}:void 0,[i.PERIODE_MED_FORELDREPENGER]:e!=null&&e.dekningsgrad?{dekningsgrad:e.dekningsgrad}:void 0,[i.UTTAKSPLAN_INFO]:n.uttaksplanInfo,[i.UTTAKSPLAN]:e==null?void 0:e.uttaksplan,[i.UTTAKSPLAN_METADATA]:{ønskerJustertUttakVedFødsel:e==null?void 0:e.ønskerJustertUttakVedFødsel,perioderSomSkalSendesInn:n.perioderSomSkalSendesInn,antallUkerIUttaksplan:n.antallUkerIUttaksplan,harUttaksplanBlittSlettet:n.harUttaksplanBlittSlettet,annenPartsUttakErLagtTilIPlan:n.annenPartsUttakErLagtTilIPlan,endringstidspunkt:n.endringstidspunkt},[i.VEDLEGG]:e==null?void 0:e.vedlegg}};class Le extends p.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}componentDidCatch(e,r){e&&e.message!=="window.hasFocus is not a function"&&(this.setState({...this.state,hasError:!0,error:e}),At(s=>{s.setExtras(r),ht(e)}))}render(){var e;if(this.state.hasError){const r=!!this.state.error&&!!this.state.error.message&&this.state.error.message===Rn,s=r?"Feil: for mange vedlegg":"Informasjon om feilen";return t.jsx(Lt,{dokumenttittel:"NAV Foreldrepengesøknad",ingress:`${(e=this.state.error)==null?void 0:e.message}`,tittel:s,søker:this.props.søker,illustrasjon:{tittel:"Hei!",tekst:"Noe har gått galt med søknaden.",lenke:{tekst:"Her finner du en lenke til brukerstøtte",url:Qt.brukerstøtte}},skalKunneGåTilbakeTilSøknad:r})}return this.props.children}}Le.__docgenInfo={description:"",methods:[],displayName:"ErrorBoundary",props:{søker:{required:!1,tsType:{name:"intersection",raw:`{
    fødselsdato: string;
    kjønn: Kjønn;
    bankkonto?: Bankkonto;
    sivilstand?: Sivilstand;
    barn: SøkerBarn[];
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    fødselsdato: string;
    kjønn: Kjønn;
    bankkonto?: Bankkonto;
    sivilstand?: Sivilstand;
    barn: SøkerBarn[];
}`,signature:{properties:[{key:"fødselsdato",value:{name:"string",required:!0}},{key:"kjønn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"bankkonto",value:{name:"Bankkonto",required:!1}},{key:"sivilstand",value:{name:"Sivilstand",required:!1}},{key:"barn",value:{name:"Array",elements:[{name:"intersection",raw:`{
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: SøkerAnnenForelder;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: SøkerAnnenForelder;
}`,signature:{properties:[{key:"kjønn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"dødsdato",value:{name:"string",required:!1}},{key:"annenForelder",value:{name:"intersection",raw:`{
    fødselsdato?: string;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    fødselsdato?: string;
}`,signature:{properties:[{key:"fødselsdato",value:{name:"string",required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}],required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}]}],raw:"SøkerBarn[]",required:!0}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}]},description:""},children:{required:!0,tsType:{name:"ReactElement"},description:""}}};const bs=(n,e,r,s)=>{const o=Ke(),a=Ht();return p.useCallback(async()=>{Gt("applikasjon-hendelse",{app:"foreldrepengesoknad",team:"foreldrepenger",hendelse:"avbrutt"}),a(),e(!1),r(!1),s(void 0);try{await W.deleteMellomlagretSøknad(n)}catch{}o("/")},[n,o,a,e,r,s])},Ln=7,Fs=n=>{switch(n){case k.UTTAKSPLAN:case k.OPPSUMMERING:return!0;default:return!1}},Pn=n=>n.søknad&&n.søknad.erEndringssøknad&&!Fs(n.currentRoute)?!1:n.version===Ln,Ds=(n,e,r,s,o,a)=>{const d=M(e(i.APP_ROUTE)),u=e(i.SØKERSITUASJON),h=e(i.OM_BARNET),g=e(i.ANNEN_FORELDER),U=e(i.SØKER_DATA),O=e(i.UTENLANDSOPPHOLD),v=e(i.UTENLANDSOPPHOLD_SENERE),l=e(i.UTENLANDSOPPHOLD_TIDLIGERE),m=e(i.UTTAKSPLAN_METADATA),T=e(i.BARN_FRA_NESTE_SAK),c=e(i.EKSISTERENDE_SAK),f=e(i.UTTAKSPLAN),S=e(i.UTTAKSPLAN_INFO),B=e(i.PERIODE_MED_FORELDREPENGER),$=e(i.VEDLEGG),R={version:Ln,locale:n,currentRoute:d,søknadGjelderEtNyttBarn:a,søknad:{harGodkjentVilkår:o,søkersituasjon:u,barn:h,annenForelder:g,søker:U,informasjonOmUtenlandsopphold:O?{...O,senereOpphold:(v==null?void 0:v.senereOpphold)||[],tidligereOpphold:(l==null?void 0:l.tidligereOpphold)||[]}:void 0,erEndringssøknad:s,dekningsgrad:B==null?void 0:B.dekningsgrad,uttaksplan:f,vedlegg:$,ønskerJustertUttakVedFødsel:m==null?void 0:m.ønskerJustertUttakVedFødsel},eksisterendeSak:c,barnFraNesteSak:T,uttaksplanInfo:S,endringstidspunkt:m==null?void 0:m.endringstidspunkt,antallUkerIUttaksplan:m==null?void 0:m.antallUkerIUttaksplan,perioderSomSkalSendesInn:m==null?void 0:m.perioderSomSkalSendesInn,harUttaksplanBlittSlettet:m==null?void 0:m.harUttaksplanBlittSlettet,annenPartsUttakErLagtTilIPlan:m==null?void 0:m.annenPartsUttakErLagtTilIPlan};return W.storeAppState(R,r)},Is=(n,e,r,s,o)=>{const a=Ke(),d=_n(),[u,h]=p.useState(!1),g=p.useRef();return p.useEffect(()=>{if(u){const O=M(d(i.APP_ROUTE));(async()=>{h(!1),a(O),await Ds(n,d,e,r,s,o),g.current&&g.current()})().catch(l=>{l.response&&(l.response.status===401||l.response.status===403)?wn():H(l),g.current&&g.current()})}},[u]),p.useCallback(()=>(h(!0),new Promise(v=>{g.current=v})),[])},Rs=n=>!!(n&&typeof n=="object"&&"isAxiosError"in n),_s=(n,e,r,s)=>{const o=_n(),[a,d]=p.useState();return{sendSøknad:async h=>{const g=M(o(i.UTTAKSPLAN_METADATA)),U=M(o(i.OM_BARNET)),O=qt(e,o,g.perioderSomSkalSendesInn,Bn(U),s,g.endringstidspunkt);O.uttaksplan.length===0&&O.erEndringssøknad&&d(new Error("Søknaden din inneholder ingen nye perioder."));let v;try{v=(await W.sendSøknad(O,n,h)).data}catch(l){if(Rs(l)){l.response&&(l.response.status===401||l.response.status===403)&&wn(),H(l),l.response&&l.response.status===400&&l.response.data&&l.response.data.messages&&l.response.data.messages.includes("Vedleggslisten kan ikke inneholde flere enn 40 opplastede vedlegg")&&d(new Error(Rn));const m=Vt(l),T=m!==Ct?m.slice(0,8):m;d(new Error(Jt+T))}d(new Error(String(l)))}try{await W.deleteMellomlagretSøknad(n,h)}catch{}r(v)},errorSendSøknad:a}};var ee=(n=>(n.ønskerAutomatiskJustering="ønskerAutomatiskJustering",n))(ee||{});const Me=kr(),xs=(n,e)=>{const[r,s]=p.useState(n);return p.useEffect(()=>{const o=setTimeout(()=>{s(n)},e);return()=>{clearTimeout(o)}},[n,e]),r},Gn=n=>Q(n)||xn(n)||Xt(n)||zt(n),On=(n,e,r,s,o)=>s?e?ws(s,n,o,r):n.filter(Gn):n,Ms=(n,e,r,s)=>{const o=e.filter(a=>Ft(r,a.tidsperiode.fom,a.tidsperiode.tom)||F(a.tidsperiode.fom).isSameOrAfter(F(r),"day")).filter(Gn);if(o.length===0&&n.length>e.length){const a=n.find(u=>F(u.tidsperiode.fom).isSame(r,"day"));return[{id:Dt(),type:Zt.Utsettelse,tidsperiode:{fom:a.tidsperiode.fom,tom:a.tidsperiode.tom},årsak:er.Fri,forelder:s?Z.farMedmor:Z.mor,erArbeidstaker:!1}]}else return o},ws=(n,e,r,s)=>r===void 0?[]:Ms(n,e,r,s),Bs=n=>gr(n),Ks=(n,e)=>({ønskerAutomatiskJustering:n!==void 0&&e?cr(n):ke.UNANSWERED}),qn=({termindato:n,perioderMedUttakRundtFødsel:e,antallBarn:r,visibility:s})=>{const o=Be(),a=Fn(n).denneEllerNeste(),d=M(I(i.UTTAKSPLAN_METADATA)),u=L(i.UTTAKSPLAN_METADATA),h=d.ønskerJustertUttakVedFødsel,g=h&&e.length>1,U=h&&e.length===1&&!F(e[0].tidsperiode.fom).isSame(a,"day"),O=h&&e.length===1&&F(e[0].tidsperiode.fom).isSame(a,"day")&&(Q(e[0])&&(e[0].konto!==xe.Fedrekvote||!e[0].ønskerSamtidigUttak)||xn(e[0])),v=h&&e.length===1&&F(e[0].tidsperiode.fom).isSame(a,"day")&&Q(e[0])&&e[0].konto===xe.Fedrekvote&&e[0].ønskerFlerbarnsdager===!0;let l="";g&&(l="uttaksplan.automatiskJustering.info.hvisFlerePerioder"),U&&(l="uttaksplan.automatiskJustering.info.hvisIkkeLengerStarterPåTermin"),O&&(l="uttaksplan.automatiskJustering.info.hvisEndretPeriodePåTermin"),v&&(l="uttaksplan.automatiskJustering.info.hvisEndretPeriodeTilØnskerFlerbarnsdager");const m=T=>{const c=Bs(T);u({...d,ønskerJustertUttakVedFødsel:c})};return t.jsx(Me.Form,{includeButtons:!1,children:t.jsxs("div",{style:{paddingTop:"1rem",paddingBottom:"1rem"},children:[l!==""&&t.jsx(C,{padBottom:"l",children:t.jsx(_e,{variant:"info",children:t.jsx(w,{id:l})})}),t.jsx(C,{visible:s.isVisible(ee.ønskerAutomatiskJustering),padBottom:"l",children:t.jsx(Me.YesOrNoQuestion,{name:ee.ønskerAutomatiskJustering,legend:pe(o,"uttaksplan.automatiskJustering.spørsmål",{antallBarn:r}),validate:T=>{if(T===ke.UNANSWERED)return pe(o,"uttaksplan.automatiskJustering.svar.påkrevd")},afterOnChange:T=>m(T)})})]})})};qn.__docgenInfo={description:"",methods:[],displayName:"AutomatiskJusteringForm",props:{termindato:{required:!0,tsType:{name:"Date"},description:""},perioderMedUttakRundtFødsel:{required:!0,tsType:{name:"Array",elements:[{name:"union",raw:`| Uttaksperiode
| Utsettelsesperiode
| Oppholdsperiode
| Overføringsperiode
| PeriodeHull
| PeriodeUtenUttakUtsettelse
| PeriodeUtenUttak
| InfoPeriode`,elements:[{name:"union",raw:"UttaksperiodeBase | ForeldrepengerFørFødselUttaksperiode",elements:[{name:"UttaksperiodeBase"},{name:"ForeldrepengerFørFødselUttaksperiode"}]},{name:"Utsettelsesperiode"},{name:"Oppholdsperiode"},{name:"Overføringsperiode"},{name:"PeriodeHull"},{name:"PeriodeUtenUttakUtsettelse"},{name:"PeriodeUtenUttak"},{name:"union",raw:"AvslåttPeriode | UttakAnnenPartInfoPeriode | UtsettelseAnnenPartInfoPeriode",elements:[{name:"AvslåttPeriode"},{name:"UttakAnnenPartInfoPeriode"},{name:"UtsettelseAnnenPartInfoPeriode"}]}]}],raw:"Periode[]"},description:""},antallBarn:{required:!0,tsType:{name:"number"},description:""},visibility:{required:!0,tsType:{name:"QuestionVisibility",elements:[{name:"UttaksplanFormField"},{name:"undefined"}],raw:"QuestionVisibility<UttaksplanFormField, undefined>"},description:""}}};const Ls=(n,e)=>e!==void 0&&Q(n)&&F(n.tidsperiode.fom).isSame(Fn(F(e).toDate()).denneEllerNeste(),"day")&&n.forelder===Z.farMedmor&&n.konto===xe.Fedrekvote&&n.ønskerSamtidigUttak===!0&&n.ønskerFlerbarnsdager!==!0,Gs=(n,e,r)=>n&&e.length===1&&Ls(e[0],r),qs=(n,e,r,s,o,a,d)=>n&&It(e)&&r==="fødsel"&&s.length!==0&&Mn(o)&&a!==void 0&&!d,Vn=({isOpen:n,setIsOpen:e,goToPreviousStep:r})=>t.jsxs(de,{"aria-label":"Vil du gå tilbake",open:n,onClose:()=>e(!1),children:[t.jsx(de.Header,{children:t.jsx(Yr,{size:"small",level:"1",children:t.jsx(w,{id:"uttaksplan.vilDuGåTilbakeModal.tittel"})})}),t.jsx(de.Body,{children:t.jsxs(Tt,{gap:"4",children:[t.jsx(vn,{children:t.jsx(w,{id:"uttaksplan.vilDuGåTilbakeModal.intro"})}),t.jsx(vn,{children:t.jsx(w,{id:"uttaksplan.vilDuGåTilbakeModal.spørsmål"})})]})}),t.jsxs(de.Footer,{children:[t.jsx(me,{onClick:r,children:t.jsx(w,{id:"uttaksplan.vilDuGåTilbakeModal.okLabel"})}),t.jsx(me,{variant:"secondary",onClick:()=>e(!1),children:t.jsx(w,{id:"uttaksplan.vilDuGåTilbakeModal.avbrytLabel"})})]})]});Vn.__docgenInfo={description:"",methods:[],displayName:"VilDuGåTilbakeModal",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},setIsOpen:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"boolean"}],raw:"SetStateAction<boolean>"}],raw:"Dispatch<SetStateAction<boolean>>"},description:""},goToPreviousStep:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const Vs={[ee.ønskerAutomatiskJustering]:{isIncluded:({periodeRundtFødselKanAutomatiskJusteres:n})=>n,isAnswered:({ønskerAutomatiskJustering:n})=>n!==ke.UNANSWERED}},Cs=fr(Vs),Js=[],we=({søkerInfo:n,erEndringssøknad:e,mellomlagreSøknadOgNaviger:r,avbrytSøknad:s})=>{const o=Be(),a=Sr(n.arbeidsforhold,e),d=Er(n.arbeidsforhold,r,e),[u,h]=p.useState(!1),[g,U]=p.useState(!1),[O,v]=p.useState(!1),[l,m]=p.useState(!0),T=M(I(i.SØKERSITUASJON)),c=M(I(i.OM_BARNET)),f=M(I(i.ANNEN_FORELDER)),S=M(I(i.UTTAKSPLAN_METADATA)),B=M(I(i.PERIODE_MED_FORELDREPENGER)),$=I(i.UTTAKSPLAN_INFO),R=I(i.UTTAKSPLAN)||Js,N=I(i.BARN_FRA_NESTE_SAK),y=I(i.EKSISTERENDE_SAK),Yn=I(i.VEDLEGG),Ge=L(i.OM_BARNET),qe=L(i.BARN_FRA_NESTE_SAK),Y=L(i.UTTAKSPLAN),Ve=L(i.EKSISTERENDE_SAK),_=L(i.UTTAKSPLAN_METADATA),Qn=L(i.APP_ROUTE),Xn=L(i.VEDLEGG),[ne,zn]=p.useState(S.endringstidspunkt),[te,ce]=p.useState(S.perioderSomSkalSendesInn||[]),Ce=Re(f)?f:void 0,Je=Ce?Ce.erAleneOmOmsorg:!0,{situasjon:ge}=T,{rolle:We}=T,Zn=nr(f),re=Re(f)?!!f.harRettPåForeldrepengerINorge||!!f.harRettPåForeldrepengerIEØS:!1,A=tr(T.rolle),He=rr(!A,Je,f),$e=sr(A,Je,f),se=He||$e,et=re?void 0:A?Z.farMedmor:Z.mor,G=Bn(c),X=pn(G),nt=vr(f,A),tt=ar(n.søker,f,A,o),Ye=c.antallBarn,rt=Ye>1,Qe=kn(We,A,f),D=y==null?void 0:y.uttaksplan,st=y?y.uttaksplan!==void 0:!1,at=!1,ot=Vr($),K=yr(c),fe=Re(f)&&!f.utenlandskFnr?f.fnr:void 0,Se=ge==="adopsjon",Ee=N!==void 0?N.annenForelderFnr:void 0,Xe=N!==void 0&&N.fnr!==void 0&&N.fnr.length>0?N.fnr[0]:void 0,ve=N!==void 0?N.familiehendelsesdato:void 0,q=N!==void 0?N.startdatoFørsteStønadsperiode:void 0,Ae=!kn(T.rolle,A,f)&&!se,ze=!Mn(c)&&c.fnr!==void 0&&c.fnr.length>0?c.fnr[0]:void 0,ae=!(!se&&fe!==void 0&&fe!==""&&(ze!==void 0||G!==void 0)),it=xs($t(),3e3),Ze=p.useRef(!0);p.useEffect(()=>{Ze.current===!1&&r(),Ze.current=!1},[it,r]);const{data:he,requestStatus:Te,error:Ne}=Sn(ue.ANNEN_PART_VEDTAK,{annenPartFødselsnummer:fe,barnFødselsnummer:ze,familiehendelse:G},ae),V=p.useMemo(()=>Jr(he,c,A,G,q),[he,c,A,G,q]),lt=()=>{v(!1);const E={[x.BEKREFTELSE_DELTAR_KVALIFISERINGSPROGRAM]:[],[x.DOK_DELTAKELSE_I_INTRODUKSJONSPROGRAMMET]:[],[x.DOK_SYKDOM_MOR]:[],[x.DOK_SYKDOM_FAR]:[],[x.DOK_INNLEGGELSE_BARN]:[],[x.DOK_INNLEGGELSE_MOR]:[],[x.DOK_INNLEGGELSE_FAR]:[],[x.DOK_ARBEID_MOR]:[],[x.DOK_UTDANNING_MOR]:[],[x.DOK_UTDANNING_OG_ARBEID_MOR]:[]};_({...S,perioderSomSkalSendesInn:[],endringstidspunkt:void 0,ønskerJustertUttakVedFødsel:void 0}),Y([]),Xn({...Yn,...E}),Qn(k.UTTAKSPLAN_INFO),r(),d.goToPreviousDefaultStep()},Pe=wr(A,c.antallBarn,V==null?void 0:V.grunnlag.antallBarn);p.useEffect(()=>{A&&c.antallBarn!==Pe&&Ge({...c,antallBarn:Pe})},[A,Pe,c,Ge]);const Oe=!(Ee!==void 0&&Ee!==""&&(Xe!==void 0||ve!==void 0)&&(ae||Te===J.FINISHED)),{data:dt,requestStatus:en,error:ye}=Sn(ue.NESTE_SAK_ANNEN_PART_VEDTAK,{annenPartFødselsnummer:Ee,barnFødselsnummer:Xe,familiehendelse:Rt(ve)},Oe),oe=Wr(dt);p.useEffect(()=>{if(oe!==void 0&&N!==void 0&&(F(oe).isBefore(N.startdatoFørsteStønadsperiode,"d")||N.startdatoFørsteStønadsperiode===void 0)){const E={...N,startdatoFørsteStønadsperiode:oe};qe(E)}},[q,oe,N,qe]);const nn=Nr({erDeltUttak:re,morHarRett:Qe,søkerErAleneOmOmsorg:se});p.useEffect(()=>{if(y!==void 0&&D!==void 0&&V!==void 0&&!S.annenPartsUttakErLagtTilIPlan){D.forEach(j=>{if(Q(j)){const dn=or(V.uttaksplan).finnOverlappendePerioder(j);dn.length!==0&&dn.find(un=>ir(un)&&un.ønskerSamtidigUttak===!0)&&(j.ønskerSamtidigUttak||(j.ønskerSamtidigUttak=!0,j.samtidigUttakProsent=Br(j.gradert,j.stillingsprosent)))}});const E=Ar(hr(D,V.uttaksplan,X,q,!0),nn,X,Se,Ae,A,q),b={...y,uttaksplan:E};Y(E),Ve(b),_({...S,annenPartsUttakErLagtTilIPlan:!0})}},[V,D,X,nn,Se,Ae,A,q,y,S,Y,Ve,_]),p.useEffect(()=>{const E=D==null?void 0:D.find(b=>Q(b)&&b.angittAvAnnenPart);if(E&&ne===void 0){const b=E.tidsperiode.fom,j=On(R,e,A,D,b);ce(j),_({...S,perioderSomSkalSendesInn:j,endringstidspunkt:ne})}},[D,ne,A,R,e,_,S]);const tn=async()=>{const E=Pr(R,A,f,e,S==null?void 0:S.perioderSomSkalSendesInn);return h(!0),U(!0),_({...S,endringstidspunkt:ne,perioderSomSkalSendesInn:te,antallUkerIUttaksplan:vt}),E?d.goToNextStep(k.DOKUMENTASJON):d.goToNextDefaultStep()},ie=lr(R,X,K?F(K).toDate():void 0),Ue=qs(A,X,ge,ie,c,K,Ae),le=Gs(Ue,ie,K),ut=()=>{le||_({...S,ønskerJustertUttakVedFødsel:void 0})},pt=E=>le&&E!==void 0,je=p.useRef(null),mt=async E=>{U(!0),l&&!ln&&(h(!0),je.current&&je.current.handleSubmit(),ut(),pt(E.ønskerAutomatiskJustering)&&await tn())},kt=_t(n.søker.kjønn,Zn,re,He,$e,We),rn=(ae?!1:Te!==J.FINISHED)||(Oe?!1:en!==J.FINISHED),{stønadskontoParams100:ct,stønadskontoParams80:gt}=Kr(c,f,T,N,he,y),{data:sn}=En(ue.STØNADSKONTOER_80,gt,rn),{data:be,error:Fe}=En(ue.STØNADSKONTOER_100,ct,rn),ft=E=>{U(!1),h(!1),Y(E);const b=Cr(D,E,e);zn(b);const j=On(E,e,A,D,b);ce(j),_({...S,perioderSomSkalSendesInn:j})};if(p.useEffect(()=>{if(Fe)throw H(Fe),new Error("Vi klarte ikke å hente opp stønadskontoer. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.");if(Ne)throw H(Ne),new Error("Vi klarte ikke å hente informasjon om saken til annen forelder. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.");if(ye)throw H(ye),new Error("Vi klarte ikke å hente informasjon om saken til annen forelder for neste barn. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.")},[Fe,Ne,ye]),!be||!sn||Te!==J.FINISHED&&!ae||en!==J.FINISHED&&!Oe)return t.jsx("div",{style:{textAlign:"center",padding:"12rem 0"},children:t.jsx(Dn,{size:"2xlarge"})});const an=Lr(sn,be),on=Hr(be.minsteretter.toTette),De=B.dekningsgrad===dr.HUNDRE_PROSENT?an[100]:an[80],ln=e&&(te===void 0||te.length===0),St=()=>{const E=R.filter(b=>ur(b));Y(E),_({...S,harUttaksplanBlittSlettet:!0})},Et=()=>{y&&(Y(y.uttaksplan),_({...S,perioderSomSkalSendesInn:[]}),ce([]))},vt=$r(De);return t.jsx(Me.FormikWrapper,{initialValues:Ks(S.ønskerJustertUttakVedFødsel,le),onSubmit:tn,innerRef:je,renderForm:({values:E})=>{const b=Cs.getVisbility({ønskerAutomatiskJustering:E[ee.ønskerAutomatiskJustering]??ke.NO,periodeRundtFødselKanAutomatiskJusteres:le});return t.jsxs(xt,{bannerTitle:pe(o,"søknad.pageheading"),onCancel:s,onContinueLater:d.fortsettSøknadSenere,steps:a,children:[t.jsx(C,{padBottom:"l",children:t.jsx(qr,{eksisterendeSak:y,erIUttaksplanenSteg:!0,tilgjengeligeStønadskontoer:De,minsterettUkerToTette:on,søker:n.søker})}),t.jsx(Tr,{foreldreSituasjon:kt,forelderVedAleneomsorg:et,erDeltUttak:re,uttaksplan:R,familiehendelsesdato:G,handleOnPlanChange:ft,stønadskontoer:De,navnPåForeldre:tt,annenForelder:f,arbeidsforhold:Mr(n.arbeidsforhold,Se,A,pn(G)),erEndringssøknad:e,erFarEllerMedmor:A,erFlerbarnssøknad:rt,erAleneOmOmsorg:se,harMidlertidigOmsorg:at,situasjon:ge,erMorUfør:nt,morHarRett:Qe,søkersituasjon:T,dekningsgrad:B.dekningsgrad,antallBarn:Ye,setUttaksplanErGyldig:m,eksisterendeSak:y,perioderSomSkalSendesInn:te,morsSisteDag:ot,harKomplettUttaksplan:st,opprinneligPlan:S.harUttaksplanBlittSlettet?void 0:D,handleSlettUttaksplan:St,handleResetUttaksplan:Et,termindato:K?F(K).toDate():void 0,barn:c,visAutomatiskJusteringForm:Ue,perioderMedUttakRundtFødsel:ie,barnFraNesteSak:N,familiehendelsesdatoNesteSak:ve,førsteUttaksdagNesteBarnsSak:q,minsterettUkerToTette:on}),Ue&&t.jsx(C,{padBottom:"l",children:t.jsx(qn,{termindato:K?F(K).toDate():void 0,perioderMedUttakRundtFødsel:ie,antallBarn:c.antallBarn,visibility:b})}),t.jsx(Vn,{isOpen:O,setIsOpen:v,goToPreviousStep:lt}),!l&&g&&t.jsx(C,{textAlignCenter:!0,padBottom:"l",children:t.jsx(_e,{variant:"error",children:t.jsx(w,{id:"uttaksplan.validering.kanIkkeGåVidere"})})}),ln&&g&&t.jsx(C,{textAlignCenter:!0,padBottom:"l",children:t.jsx(_e,{variant:"error",children:t.jsx(w,{id:"uttaksplan.validering.kanIkkeGåVidereEndringssøknad"})})}),t.jsx(C,{textAlignCenter:!0,padBottom:"l",children:t.jsxs(Mt,{singleButton:!0,children:[!e&&t.jsx(me,{variant:"secondary",onClick:j=>{j.preventDefault(),v(!0)},children:t.jsx(w,{id:"backlink.label"})}),t.jsx(me,{type:"submit",onClick:mt,disabled:u,loading:u,children:pe(o,"søknad.gåVidere")})]})})]})}})};we.__docgenInfo={description:"",methods:[],displayName:"UttaksplanStep"};const Ws=(n,e,r=[])=>{switch(n){case k.SØKERSITUASJON:return e===!0;case k.OPPSUMMERING:return Or(r)===!1&&r.length>0;default:return!0}},Hs=(n,e,r,s,o,a,d)=>!n||d===void 0?t.jsx(P,{path:"*",element:t.jsx(cn,{to:k.VELKOMMEN})}):In(r.søker.fødselsdato)?e?t.jsxs(t.Fragment,{children:[t.jsx(P,{path:k.UTTAKSPLAN,element:t.jsx(we,{søkerInfo:r,erEndringssøknad:e,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(P,{path:k.DOKUMENTASJON,element:t.jsx(gn,{søkerInfo:r,erEndringssøknad:e,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(P,{path:k.OPPSUMMERING,element:t.jsx(fn,{erEndringssøknad:e,søkerInfo:r,sendSøknad:o,avbrytSøknad:a,mellomlagreSøknadOgNaviger:s})})]}):t.jsxs(t.Fragment,{children:[t.jsx(P,{path:k.SØKERSITUASJON,element:t.jsx(Ir,{arbeidsforhold:r.arbeidsforhold,kjønn:r.søker.kjønn,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(P,{path:k.OM_BARNET,element:t.jsx(Fr,{søkerInfo:r,søknadGjelderNyttBarn:d,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(P,{path:k.ANNEN_FORELDER,element:t.jsx(jr,{søkerInfo:r,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(P,{path:k.PERIODE_MED_FORELDREPENGER,element:t.jsx(Dr,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(P,{path:k.UTTAKSPLAN_INFO,element:t.jsx(Wt,{søkerInfo:r,erEndringssøknad:e,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(P,{path:k.UTTAKSPLAN,element:t.jsx(we,{søkerInfo:r,erEndringssøknad:e,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(P,{path:k.DOKUMENTASJON,element:t.jsx(gn,{søkerInfo:r,erEndringssøknad:e,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(P,{path:k.UTENLANDSOPPHOLD,element:t.jsx(Rr,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(P,{path:k.TIDLIGERE_UTENLANDSOPPHOLD,element:t.jsx(xr,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(P,{path:k.SENERE_UTENLANDSOPPHOLD,element:t.jsx(_r,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(P,{path:k.INNTEKTSINFORMASJON,element:t.jsx(br,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:s,avbrytSøknad:a})}),t.jsx(P,{path:k.OPPSUMMERING,element:t.jsx(fn,{erEndringssøknad:e,søkerInfo:r,sendSøknad:o,avbrytSøknad:a,mellomlagreSøknadOgNaviger:s})})]}):t.jsx(P,{path:"*",element:t.jsx(cn,{to:k.IKKE_MYNDIG})}),Cn=({locale:n,onChangeLocale:e,currentRoute:r,søkerInfo:s,saker:o,lagretErEndringssøknad:a,lagretHarGodkjentVilkår:d,lagretSøknadGjelderNyttBarn:u,setKvittering:h})=>{const g=Ke(),U=pr(),[O,v]=p.useState(!0),[l,m]=p.useState(d||!1),[T,c]=p.useState(a||!1),[f,S]=p.useState(u),{sendSøknad:B,errorSendSøknad:$}=_s(s.søker.fnr,T,h,n),R=Is(n,s.søker.fnr,T,l,f),N=bs(s.søker.fnr,c,m,S),y=I(i.UTTAKSPLAN);return p.useEffect(()=>{r&&In(s.søker.fødselsdato)&&d&&O&&(v(!1),Ws(r,d,y)?g(r):U.pathname===k.OPPSUMMERING&&g(k.UTTAKSPLAN))},[r,s.søker.fødselsdato,d,g,O,U.pathname,y]),$?t.jsx(Nt,{appName:"Foreldrepenger",errorMessage:$.message,retryCallback:()=>location.reload()}):t.jsxs(mr,{children:[t.jsx(P,{path:k.VELKOMMEN,element:t.jsx(Ur,{fornavn:s.søker.fornavn,locale:n,saker:o,onChangeLocale:e,fnr:s.søker.fnr,harGodkjentVilkår:l,søkerInfo:s,setHarGodkjentVilkår:m,setErEndringssøknad:c,setSøknadGjelderNyttBarn:S,mellomlagreSøknadOgNaviger:R})}),t.jsx(P,{path:k.IKKE_MYNDIG,element:t.jsx(Pt,{appnavn:"Foreldrepenger"})}),Hs(l,T,s,R,B,N,f)]})};Cn.__docgenInfo={description:"",methods:[],displayName:"ForeldrepengesøknadRoutes",props:{locale:{required:!0,tsType:{name:"union",raw:"'nb' | 'nn'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"}]},description:""},onChangeLocale:{required:!0,tsType:{name:"signature",type:"function",raw:"(locale: LocaleNo) => void",signature:{arguments:[{type:{name:"union",raw:"'nb' | 'nn'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"}]},name:"locale"}],return:{name:"void"}}},description:""},currentRoute:{required:!0,tsType:{name:"SøknadRoutes"},description:""},søkerInfo:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    søker: Søker;
    arbeidsforhold: Arbeidsforhold[];
}`,signature:{properties:[{key:"søker",value:{name:"intersection",raw:`{
    fødselsdato: string;
    kjønn: Kjønn;
    bankkonto?: Bankkonto;
    sivilstand?: Sivilstand;
    barn: SøkerBarn[];
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    fødselsdato: string;
    kjønn: Kjønn;
    bankkonto?: Bankkonto;
    sivilstand?: Sivilstand;
    barn: SøkerBarn[];
}`,signature:{properties:[{key:"fødselsdato",value:{name:"string",required:!0}},{key:"kjønn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"bankkonto",value:{name:"Bankkonto",required:!1}},{key:"sivilstand",value:{name:"Sivilstand",required:!1}},{key:"barn",value:{name:"Array",elements:[{name:"intersection",raw:`{
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: SøkerAnnenForelder;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: SøkerAnnenForelder;
}`,signature:{properties:[{key:"kjønn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"dødsdato",value:{name:"string",required:!1}},{key:"annenForelder",value:{name:"intersection",raw:`{
    fødselsdato?: string;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    fødselsdato?: string;
}`,signature:{properties:[{key:"fødselsdato",value:{name:"string",required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}],required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}]}],raw:"SøkerBarn[]",required:!0}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}],required:!0}},{key:"arbeidsforhold",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverNavn: string;
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    fom: string;
    tom?: string;
    stillingsprosent: number;
}`,signature:{properties:[{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}},{key:"stillingsprosent",value:{name:"number",required:!0}}]}}],raw:"Arbeidsforhold[]",required:!0}}]}},description:""},saker:{required:!0,tsType:{name:"Array",elements:[{name:"Sak"}],raw:"Sak[]"},description:""},lagretErEndringssøknad:{required:!1,tsType:{name:"boolean"},description:""},lagretHarGodkjentVilkår:{required:!1,tsType:{name:"boolean"},description:""},lagretSøknadGjelderNyttBarn:{required:!1,tsType:{name:"boolean"},description:""},setKvittering:{required:!0,tsType:{name:"signature",type:"function",raw:"(kvittering: Kvittering) => void",signature:{arguments:[{type:{name:"Kvittering"},name:"kvittering"}],return:{name:"void"}}},description:""}}};const yn=()=>t.jsx("div",{style:{textAlign:"center",padding:"12rem 0"},children:t.jsx(Dn,{size:"2xlarge"})}),Jn=({locale:n,onChangeLocale:e})=>{var l,m;const r=Be();Os(r.formatMessage({id:"søknad.pagetitle"}));const{søkerinfoData:s,søkerinfoError:o}=W.useSøkerinfo(),{sakerData:a,sakerError:d}=W.useGetSaker(),{storageData:u,storageStatus:h}=W.useStoredAppState(),[g,U]=p.useState();p.useEffect(()=>{if(o)throw H(o),new Error("Vi klarte ikke å hente informasjon om deg. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.");if(d)throw H(d),new Error("Vi klarte ikke å hente informasjon om sakene dine. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.")},[o,d]);const O=u&&Pn(u)?js(u):void 0,v=u!==void 0&&Pn(u);return p.useEffect(()=>{u!=null&&u.locale&&u.locale!==n&&e(u.locale)},[u]),g?Ie.INNSYN?(Ps(g.saksNr?`${Ie.INNSYN}/sak/${g.saksNr}/redirectFromSoknad`:`${Ie.INNSYN}/redirectFromSoknad`),t.jsx(yn,{})):t.jsx("div",{children:"Redirected to Innsyn"}):!a||!s||h===J.IN_PROGRESS?t.jsx(yn,{}):t.jsx(Le,{søker:s.søker,children:t.jsx(Yt,{initialState:O,children:t.jsx(Kt,{children:t.jsx(Cn,{locale:n,onChangeLocale:e,søkerInfo:s,saker:a.foreldrepenger,currentRoute:v?u.currentRoute:k.VELKOMMEN,lagretErEndringssøknad:v?(l=u.søknad)==null?void 0:l.erEndringssøknad:!1,lagretHarGodkjentVilkår:v?(m=u.søknad)==null?void 0:m.harGodkjentVilkår:!1,lagretSøknadGjelderNyttBarn:v?u.søknadGjelderEtNyttBarn:!1,setKvittering:U})})})})};Jn.__docgenInfo={description:"",methods:[],displayName:"Foreldrepengesøknad"};const $s=()=>{const n=vs();return n?n.name==="ie":!1},Wn=ys(),Ys={nb:{...wt,...mn.nb},nn:{...Bt,...mn.nn}};F.locale(Wn);const Hn=()=>{const[n,e]=p.useState(Wn);return t.jsx(Le,{children:t.jsx(Gr,{children:t.jsxs(Ot,{locale:n,messagesGroupedByLocale:Ys,children:[t.jsx(Qr,{skalEndreNettleser:$s()}),t.jsx(Jn,{locale:n,onChangeLocale:r=>{Us(r),e(r),Xr(r),document.documentElement.setAttribute("lang",r)}})]})})})},$n=Hn;Hn.__docgenInfo={description:"",methods:[],displayName:"AppContainer"};const Qs={søker:{fnr:"06499121154",fornavn:"Tapper",etternavn:"Konvolutt",kjønn:"M",fødselsdato:"1991-09-06",bankkonto:{kontonummer:"",banknavn:""},barn:[]},arbeidsforhold:[{arbeidsgiverId:"896929119",arbeidsgiverIdType:"orgnr",arbeidsgiverNavn:"SAUEFABRIKK",stillingsprosent:100,fom:"2018-03-01"}]},uo={title:"AppContainer",component:$n},Xs=({søkerinfoData:n,sakerData:e,annenPartVedtakData:r,stønadskontoerData:s,storageKvitteringData:o})=>{yt();const a=new Ut(zr);return a.onGet("/sokerinfo").reply(200,n),a.onGet("/innsyn/v2/saker").reply(200,e),a.onGet("/innsyn/v2/annenPartVedtak").reply(200,r),a.onGet("/konto").reply(200,s),a.onGet("/storage/kvittering/foreldrepenger").reply(200,o),a.onGet("test/konto").replyOnce(200,jt),a.onGet("test/konto").replyOnce(200,bt),a.onPost("/innsyn/v2/annenPartVedtak").replyOnce(200,void 0,J.FINISHED),a.onPost("/storage/foreldrepenger").reply(200,{}),a.onPost("/soknad").reply(200,{}),a.onPost("/sendSøknadUrl").reply(200,{}),a.onDelete("/storage/foreldrepenger").reply(200,{}),t.jsx($n,{})},z=Xs.bind({});z.args={søkerinfoData:Qs,sakerData:is,annenPartVedtakData:ns,stønadskontoerData:us,storageKvitteringData:ss};var Un,jn,bn;z.parameters={...z.parameters,docs:{...(Un=z.parameters)==null?void 0:Un.docs,source:{originalSource:`({
  søkerinfoData,
  sakerData,
  annenPartVedtakData,
  stønadskontoerData,
  storageKvitteringData
}) => {
  initAmplitude();
  const apiMock = new MockAdapter(AxiosInstance);
  apiMock.onGet('/sokerinfo').reply(200, søkerinfoData);
  apiMock.onGet('/innsyn/v2/saker').reply(200, sakerData);
  apiMock.onGet('/innsyn/v2/annenPartVedtak').reply(200, annenPartVedtakData);
  apiMock.onGet('/konto').reply(200, stønadskontoerData);
  apiMock.onGet('/storage/kvittering/foreldrepenger').reply(200, storageKvitteringData);
  apiMock.onGet('test/konto').replyOnce(200, stønadskontoDeltUttak80);
  apiMock.onGet('test/konto').replyOnce(200, stønadskontoDeltUttak100);
  apiMock.onPost('/innsyn/v2/annenPartVedtak').replyOnce(200, undefined, RequestStatus.FINISHED);
  apiMock.onPost('/storage/foreldrepenger').reply(200, {});
  apiMock.onPost('/soknad').reply(200, {});
  apiMock.onPost('/sendSøknadUrl').reply(200, {});
  apiMock.onDelete('/storage/foreldrepenger').reply(200, {});
  return <AppContainer />;
}`,...(bn=(jn=z.parameters)==null?void 0:jn.docs)==null?void 0:bn.source}}};const po=["SøkerErMann"];export{z as SøkerErMann,po as __namedExportsOrder,uo as default};
