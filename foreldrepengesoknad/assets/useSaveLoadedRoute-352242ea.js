import{i as H}from"./AnnenForelder-5c5d4f7f.js";import{d as he,P as g,f as ge,n as pe,U as q,i as me,s as O,S as p,A as Se,V as T,u as Ee,b as ke,t as ye,W as be}from"./dateUtils-becbdc23.js";import{b as V,e as J,a as Te,i as Ne,l as Re}from"./useSøknad-54892a90.js";import{a as Ae}from"./globalUtil-9d9e0ee4.js";import{r as x,m as W,i as ve,b as Ue}from"./vedleggUtils-c5e558a5.js";import{d as m,g as $}from"./validationUtils-00d66cf2.js";import{F as R,P as Oe,M as B}from"./periodeUtils-1a4dc73e.js";import{s as Fe}from"./Periodene-dd720f95.js";import"./jsx-runtime-670450c2.js";import"./index-7e4e529b.js";import{r as M}from"./index-f1f749bf.js";import{u as Ie,a as De}from"./mapSøkerinfoDTO-adbe2fb9.js";import{A as we,r as Pe}from"./api-dc1b3239.js";const Le=Object.prototype.toString;function Be(t,e){return Le.call(t)===`[object ${e}]`}function K(t){return Be(t,"Object")}function C(t){return!!(t&&t.then&&typeof t.then=="function")}function k(t){return t&&t.Math==Math?t:void 0}const u=typeof globalThis=="object"&&k(globalThis)||typeof window=="object"&&k(window)||typeof self=="object"&&k(self)||typeof global=="object"&&k(global)||function(){return this}()||{};function Me(){return u}function F(t,e,s){const n=s||u,r=n.__SENTRY__=n.__SENTRY__||{};return r[t]||(r[t]=e())}const je="Sentry Logger ",A=["debug","info","warn","error","log","assert","trace"];function X(t){if(!("console"in u))return t();const e=u.console,s={};A.forEach(n=>{const r=e[n]&&e[n].__sentry_original__;n in e&&r&&(s[n]=e[n],e[n]=r)});try{return t()}finally{Object.keys(s).forEach(n=>{e[n]=s[n]})}}function j(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1}};return typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?A.forEach(s=>{e[s]=(...n)=>{t&&X(()=>{u.console[s](`${je}[${s}]:`,...n)})}}):A.forEach(s=>{e[s]=()=>{}}),e}let E;typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?E=F("logger",j):E=j();function Ge(t){return v(t,new Map)}function v(t,e){if(K(t)){const s=e.get(t);if(s!==void 0)return s;const n={};e.set(t,n);for(const r of Object.keys(t))typeof t[r]<"u"&&(n[r]=v(t[r],e));return n}if(Array.isArray(t)){const s=e.get(t);if(s!==void 0)return s;const n=[];return e.set(t,n),t.forEach(r=>{n.push(v(r,e))}),n}return t}function S(){const t=u,e=t.crypto||t.msCrypto;if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");const s=e&&e.getRandomValues?()=>e.getRandomValues(new Uint8Array(1))[0]:()=>Math.random()*16;return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,n=>(n^(s()&15)>>n/4).toString(16))}function Ye(t){return Array.isArray(t)?t:[t]}function He(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function Q(){return!He()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function qe(t,e){return t.require(e)}var f;(function(t){t[t.PENDING=0]="PENDING";const s=1;t[t.RESOLVED=s]="RESOLVED";const n=2;t[t.REJECTED=n]="REJECTED"})(f||(f={}));class c{__init(){this._state=f.PENDING}__init2(){this._handlers=[]}constructor(e){c.prototype.__init.call(this),c.prototype.__init2.call(this),c.prototype.__init3.call(this),c.prototype.__init4.call(this),c.prototype.__init5.call(this),c.prototype.__init6.call(this);try{e(this._resolve,this._reject)}catch(s){this._reject(s)}}then(e,s){return new c((n,r)=>{this._handlers.push([!1,i=>{if(!e)n(i);else try{n(e(i))}catch(o){r(o)}},i=>{if(!s)r(i);else try{n(s(i))}catch(o){r(o)}}]),this._executeHandlers()})}catch(e){return this.then(s=>s,e)}finally(e){return new c((s,n)=>{let r,i;return this.then(o=>{i=!1,r=o,e&&e()},o=>{i=!0,r=o,e&&e()}).then(()=>{if(i){n(r);return}s(r)})})}__init3(){this._resolve=e=>{this._setResult(f.RESOLVED,e)}}__init4(){this._reject=e=>{this._setResult(f.REJECTED,e)}}__init5(){this._setResult=(e,s)=>{if(this._state===f.PENDING){if(C(s)){s.then(this._resolve,this._reject);return}this._state=e,this._value=s,this._executeHandlers()}}}__init6(){this._executeHandlers=()=>{if(this._state===f.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(s=>{s[0]||(this._state===f.RESOLVED&&s[1](this._value),this._state===f.REJECTED&&s[2](this._value),s[0]=!0)})}}}const Z=Me(),U={nowSeconds:()=>Date.now()/1e3};function Ve(){const{performance:t}=Z;if(!t||!t.now)return;const e=Date.now()-t.now();return{now:()=>t.now(),timeOrigin:e}}function Je(){try{return qe(module,"perf_hooks").performance}catch{return}}const N=Q()?Je():Ve(),G=N===void 0?U:{nowSeconds:()=>(N.timeOrigin+N.now())/1e3},z=U.nowSeconds.bind(U),ee=G.nowSeconds.bind(G);(()=>{const{performance:t}=Z;if(!t||!t.now)return;const e=3600*1e3,s=t.now(),n=Date.now(),r=t.timeOrigin?Math.abs(t.timeOrigin+s-n):e,i=r<e,o=t.timing&&t.timing.navigationStart,a=typeof o=="number"?Math.abs(o+s-n):e,l=a<e;return i||l?r<=a?t.timeOrigin:o:n})();const xe="production";function We(t){const e=ee(),s={sid:S(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Ke(s)};return t&&y(s,t),s}function y(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||ee(),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:S()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const s=t.timestamp-t.started;t.duration=s>=0?s:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function $e(t,e){let s={};e?s={status:e}:t.status==="ok"&&(s={status:"exited"}),y(t,s)}function Ke(t){return Ge({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}const Ce=100;class h{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(e){const s=new h;return e&&(s._breadcrumbs=[...e._breadcrumbs],s._tags={...e._tags},s._extra={...e._extra},s._contexts={...e._contexts},s._user=e._user,s._level=e._level,s._span=e._span,s._session=e._session,s._transactionName=e._transactionName,s._fingerprint=e._fingerprint,s._eventProcessors=[...e._eventProcessors],s._requestSession=e._requestSession,s._attachments=[...e._attachments],s._sdkProcessingMetadata={...e._sdkProcessingMetadata}),s}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&y(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,s){return this._tags={...this._tags,[e]:s},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,s){return this._extra={...this._extra,[e]:s},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,s){return s===null?delete this._contexts[e]:this._contexts[e]=s,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if(typeof e=="function"){const s=e(this);return s instanceof h?s:this}return e instanceof h?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):K(e)&&(e=e,this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(e,s){const n=typeof s=="number"?s:Ce;if(n<=0)return this;const r={timestamp:z(),...e};return this._breadcrumbs=[...this._breadcrumbs,r].slice(-n),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,s={}){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};const n=this._span.transaction&&this._span.transaction.name;n&&(e.tags={transaction:n,...e.tags})}return this._applyFingerprint(e),e.breadcrumbs=[...e.breadcrumbs||[],...this._breadcrumbs],e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...Xe(),...this._eventProcessors],e,s)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}_notifyEventProcessors(e,s,n,r=0){return new c((i,o)=>{const d=e[r];if(s===null||typeof d!="function")i(s);else{const a=d({...s},n);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&d.id&&a===null&&E.log(`Event processor "${d.id}" dropped event`),C(a)?a.then(l=>this._notifyEventProcessors(e,l,n,r+1).then(i)).then(null,o):this._notifyEventProcessors(e,a,n,r+1).then(i).then(null,o)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?Ye(e.fingerprint):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}function Xe(){return F("globalEventProcessors",()=>[])}const I=4,Qe=100;class D{constructor(e,s=new h,n=I){this._version=n,this._stack=[{scope:s}],e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){const s=this.getStackTop();s.client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=h.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){const s=this.pushScope();try{e(s)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,s){const n=this._lastEventId=s&&s.event_id?s.event_id:S(),r=new Error("Sentry syntheticException");return this._withClient((i,o)=>{i.captureException(e,{originalException:e,syntheticException:r,...s,event_id:n},o)}),n}captureMessage(e,s,n){const r=this._lastEventId=n&&n.event_id?n.event_id:S(),i=new Error(e);return this._withClient((o,d)=>{o.captureMessage(e,s,{originalException:e,syntheticException:i,...n,event_id:r},d)}),r}captureEvent(e,s){const n=s&&s.event_id?s.event_id:S();return e.type||(this._lastEventId=n),this._withClient((r,i)=>{r.captureEvent(e,{...s,event_id:n},i)}),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,s){const{scope:n,client:r}=this.getStackTop();if(!r)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=Qe}=r.getOptions&&r.getOptions()||{};if(o<=0)return;const a={timestamp:z(),...e},l=i?X(()=>i(a,s)):a;l!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",l,s),n.addBreadcrumb(l,o))}setUser(e){this.getScope().setUser(e)}setTags(e){this.getScope().setTags(e)}setExtras(e){this.getScope().setExtras(e)}setTag(e,s){this.getScope().setTag(e,s)}setExtra(e,s){this.getScope().setExtra(e,s)}setContext(e,s){this.getScope().setContext(e,s)}configureScope(e){const{scope:s,client:n}=this.getStackTop();n&&e(s)}run(e){const s=Y(this);try{e(this)}finally{Y(s)}}getIntegration(e){const s=this.getClient();if(!s)return null;try{return s.getIntegration(e)}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&E.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,s){return this._callExtensionMethod("startTransaction",e,s)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const s=this.getStackTop().scope,n=s.getSession();n&&$e(n),this._sendSessionUpdate(),s.setSession()}startSession(e){const{scope:s,client:n}=this.getStackTop(),{release:r,environment:i=xe}=n&&n.getOptions()||{},{userAgent:o}=u.navigator||{},d=We({release:r,environment:i,user:s.getUser(),...o&&{userAgent:o},...e}),a=s.getSession&&s.getSession();return a&&a.status==="ok"&&y(a,{status:"exited"}),this.endSession(),s.setSession(d),d}shouldSendDefaultPii(){const e=this.getClient(),s=e&&e.getOptions();return!!(s&&s.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:s}=this.getStackTop(),n=e.getSession();n&&s&&s.captureSession&&s.captureSession(n)}_withClient(e){const{scope:s,client:n}=this.getStackTop();n&&e(n,s)}_callExtensionMethod(e,...s){const r=b().__SENTRY__;if(r&&r.extensions&&typeof r.extensions[e]=="function")return r.extensions[e].apply(this,s);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&E.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function b(){return u.__SENTRY__=u.__SENTRY__||{extensions:{},hub:void 0},u}function Y(t){const e=b(),s=_(e);return P(e,t),s}function w(){const t=b();return(!te(t)||_(t).isOlderThan(I))&&P(t,new D),Q()?Ze(t):_(t)}function Ze(t){try{const e=b().__SENTRY__,s=e&&e.extensions&&e.extensions.domain&&e.extensions.domain.active;if(!s)return _(t);if(!te(s)||_(s).isOlderThan(I)){const n=_(t).getStackTop();P(s,new D(n.client,h.clone(n.scope)))}return _(s)}catch{return _(t)}}function te(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function _(t){return F("hub",()=>new D,t)}function P(t,e){if(!t)return!1;const s=t.__SENTRY__=t.__SENTRY__||{};return s.hub=e,!0}function Pt(t,e){return w().captureException(t,{captureContext:e})}function ze(t,e){const s=typeof e=="string"?e:void 0,n=typeof e!="string"?{captureContext:e}:void 0;return w().captureMessage(t,s,n)}function Lt(t){w().withScope(t)}const Bt="Søknaden kan ikke inneholde flere enn 40 vedlegg. Vennligst gå tilbake, slett noen vedlegg og prøv å sende inn søknaden på nytt. Du kan ettersende vedlegg senere.",Mt="Det har oppstått et problem med innsending av søknaden. Vennligst prøv igjen senere. Hvis problemet vedvarer, kontakt oss og oppgi feil id: ",et="ukjent uuid",tt=(t,e,s)=>{const n=lt(st(t));return Oe(e,s,t.tidsperiode.fom)?{...n,justeresVedFødsel:!0}:n},st=t=>{const{erMorForSyk:e,...s}=t;return s},nt=t=>t.type!==g.Hull,rt=t=>t.type!==g.Info,it=t=>t.type!==g.PeriodeUtenUttak,ot=t=>me(t)?!t.skalIkkeHaUttakFørTermin:nt(t)&&rt(t)&&it(t)&&!(O(t)&&t.konto===void 0),se=(t,e=!1)=>{if(H(t)){const{erUfør:s,erForSyk:n,harRettPåForeldrepengerINorge:r,harRettPåForeldrepengerIEØS:i,harOppholdtSegIEØS:o,...d}=t,a={harMorUføretrygd:s,harRettPåForeldrepenger:r,...d};return r?{...a,erInformertOmSøknaden:!0}:o?{...a,harAnnenForelderOppholdtSegIEØS:o,harAnnenForelderTilsvarendeRettEØS:i}:e?{...a,harAnnenForelderTilsvarendeRettEØS:i}:{...a,harAnnenForelderOppholdtSegIEØS:o}}return t},at=t=>{if(Te(t)){const{datoForAleneomsorg:r,type:i,fnr:o,...d}=t;return d}if(Ne(t)){const{datoForAleneomsorg:r,type:i,fnr:o,...d}=t;return{adopsjonAvEktefellesBarn:Re(t),...d}}const{datoForAleneomsorg:e,type:s,...n}=t;return n},dt=t=>{switch(t){case"mor":return"MOR";case"far":return"FAR";case"medmor":return"MEDMOR";default:return Ae(t,"Søkerrolle er ikke satt")}},ct=(t,e,s,n,r)=>(O(t)&&(t.konto===p.Flerbarnsdager&&(t.konto=e?p.Fellesperiode:p.Foreldrepenger),t.konto===p.AktivitetsfriKvote&&(t.konto=p.Foreldrepenger,n&&!e&&Se(r)?t.morsAktivitetIPerioden=B.IkkeOppgitt:s&&(t.morsAktivitetIPerioden=B.Uføre))),t),ut=t=>{if(t!==void 0&&t.length>0){const e=t[0];return{erArbeidstaker:e===T.arbeidstaker,erFrilanser:e===T.frilans,erSelvstendig:e===T.selvstendignæringsdrivende}}else return{}},lt=t=>t.gradert?{...t,...ut(t.arbeidsformer)}:t,ne=(t,e,s,n,r,i,o)=>{const d=t.filter(a=>he(a.tidsperiode)).filter(ot).map(a=>i&&H(i)?ct(a,!!i.harRettPåForeldrepengerINorge,!!i.erUfør,s,e):a).map(a=>a.type===g.Uttak?tt(a,n,r):a);return o&&ge(e)&&!ft(d,o)?_t(d,o):d},ft=(t,e)=>t.find(s=>m(e).isBetween(s.tidsperiode.fom,s.tidsperiode.tom,"day","[]")),_t=(t,e)=>{const s=t.find(i=>m(i.tidsperiode.fom).isAfter(e,"day")),n=s?pe(s.tidsperiode.fom).forrige():e,r={type:g.Utsettelse,årsak:q.Fri,id:$(),tidsperiode:{fom:e,tom:n},erArbeidstaker:!1,forelder:R.farMedmor};return t.push(r),t.sort(Fe),t},ht=(t,e)=>{const{søker:s,barn:n,annenForelder:r,søkersituasjon:i,tilleggsopplysninger:o,uttaksplan:d,...a}=t,l=se(r),de=re(s,t.søkersituasjon),ce=at(n),ue=V(t.søkersituasjon.rolle),le=J(t.barn),fe=ne(d,e,ue,t.ønskerJustertUttakVedFødsel,le,r),_e=oe(t.tilleggsopplysninger),L={søker:de,barn:ce,situasjon:t.søkersituasjon.situasjon,annenForelder:l,uttaksplan:fe,tilleggsopplysninger:_e,...a};return x(L.uttaksplan),W(L)},re=(t,e)=>{const s=t.språkkode==="nb"?"NB":"NN",n=dt(e.rolle);return{...t,rolle:n,språkkode:s}},jt=(t,e,s,n)=>{const r=JSON.parse(JSON.stringify(t));return r.erEndringssøknad?gt(r,e,s,r.ønskerJustertUttakVedFødsel,n):ht(r,s)},ie=t=>{const e=[];return t==null||Object.keys(t).forEach(s=>{if(typeof t[s]=="object")if(ve(t[s])){const n=[...Ue(t[s])];e.push(...n),t[s]=t[s].filter(r=>n.includes(r)).map(r=>r.id)}else e.push(...ie(t[s]))}),e},gt=(t,e,s,n,r)=>{const i=V(t.søkersituasjon.rolle),o=J(t.barn),d={erEndringssøknad:!0,saksnummer:t.saksnummer,type:t.type,uttaksplan:ne(e,s,i,n,o,t.annenForelder,r),vedlegg:ie({søknad:t}),søker:re(t.søker,t.søkersituasjon),annenForelder:se(t.annenForelder,!0),barn:t.barn,dekningsgrad:t.dekningsgrad,situasjon:t.søkersituasjon.situasjon,tilleggsopplysninger:oe(t.tilleggsopplysninger),ønskerJustertUttakVedFødsel:t.ønskerJustertUttakVedFødsel};return x(d.uttaksplan),W(d)},oe=t=>{var s;const e=(s=t.begrunnelseForSenEndring)==null?void 0:s.tekst;if(e!==void 0&&e.length>0)return e},Gt=t=>{const e=pt(t)+". ",s=mt(t)+". ",n=i=>i.replace(/\d/g,"*").slice(0,250)+"...";let r=e+s;t.request&&t.request.data&&t.request.data.messages?r=r+n(t.request.data.messages):t.response&&t.response.data&&t.response.data.messages&&(r=r+n(t.response.data.messages)),t.message&&(r=r+t.message),ze(r)},pt=t=>t.response&&t.response.data&&t.response.data.uuid?t.response.data.uuid:et,mt=t=>t.response&&t.response.data&&t.response.data.timestamp?t.response.data.timestamp:"",St=t=>we.storeAppState(t,t.søkerinfo.person.fnr),ae=t=>O(t)||Ee(t)||ke(t)||ye(t),Yt=(t,e,s,n,r)=>n?e?kt(n,t,r,s):t.filter(ae):t,Et=(t,e,s,n)=>{const r=e.filter(i=>be(s,i.tidsperiode.fom,i.tidsperiode.tom)||m(i.tidsperiode.fom).isSameOrAfter(m(s),"day")).filter(ae);if(r.length===0&&t.length>e.length){const i=t.find(d=>m(d.tidsperiode.fom).isSame(s,"day"));return[{id:$(),type:g.Utsettelse,tidsperiode:{fom:i.tidsperiode.fom,tom:i.tidsperiode.tom},årsak:q.Fri,forelder:n?R.farMedmor:R.mor,erArbeidstaker:!1}]}else return r},kt=(t,e,s,n)=>s===void 0?[]:Et(t,e,s,n),Ht=t=>{const{dispatch:e,state:s}=Ie(),n=M.useRef(!1);M.useEffect(()=>{n.current||(n.current=!0,e(De.updateCurrentRoute(t)),St({...s,currentRoute:t}).catch(r=>{r.response&&(r.response.status===401||r.response.status===403)&&Pe()}))},[t,e,s])};export{Bt as F,et as U,Gt as a,jt as b,Pt as c,pt as d,Mt as e,Yt as g,St as s,Ht as u,Lt as w};
//# sourceMappingURL=useSaveLoadedRoute-352242ea.js.map
