import{b6 as x,b7 as me,K as Se,E as Ee,d as m,U as be,g as H,a3 as R,b8 as ke,b9 as ye,aH as Te,J as Ne,ba as Re}from"./Tidsperioden-f1b2e608.js";import{i as C,c as J,l as Ae,n as Ie,p as ve}from"./useSøknad-6273a8f6.js";import"./jsx-runtime-69eee039.js";import{q as Q,P as h,U as q,s as Ue,A as Oe,k as De,i as O,S as p,M as B,B as Fe,j as we,C as Pe}from"./Periodene-16568c49.js";import"./index-e13aeee6.js";import"./index-7c191284.js";import"./_baseToString-4b695375.js";import"./_createSet-f4a01039.js";import{A as Be}from"./api-c3a2edb1.js";var b=(t=>(t.arbeidstaker="ARBEIDSTAKER",t.frilans="FRILANS",t.selvstendignæringsdrivende="SELVSTENDIG_NÆRINGSDRIVENDE",t))(b||{});const Le=Object.prototype.toString;function Me(t,e){return Le.call(t)===`[object ${e}]`}function K(t){return Me(t,"Object")}function W(t){return!!(t&&t.then&&typeof t.then=="function")}function E(t){return t&&t.Math==Math?t:void 0}const u=typeof globalThis=="object"&&E(globalThis)||typeof window=="object"&&E(window)||typeof self=="object"&&E(self)||typeof global=="object"&&E(global)||function(){return this}()||{};function je(){return u}function D(t,e,s){const n=s||u,r=n.__SENTRY__=n.__SENTRY__||{};return r[t]||(r[t]=e())}const Ge="Sentry Logger ",A=["debug","info","warn","error","log","assert","trace"];function $(t){if(!("console"in u))return t();const e=u.console,s={};A.forEach(n=>{const r=e[n]&&e[n].__sentry_original__;n in e&&r&&(s[n]=e[n],e[n]=r)});try{return t()}finally{Object.keys(s).forEach(n=>{e[n]=s[n]})}}function L(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1}};return typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?A.forEach(s=>{e[s]=(...n)=>{t&&$(()=>{u.console[s](`${Ge}[${s}]:`,...n)})}}):A.forEach(s=>{e[s]=()=>{}}),e}let S;typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?S=D("logger",L):S=L();function Ye(t){return I(t,new Map)}function I(t,e){if(K(t)){const s=e.get(t);if(s!==void 0)return s;const n={};e.set(t,n);for(const r of Object.keys(t))typeof t[r]<"u"&&(n[r]=I(t[r],e));return n}if(Array.isArray(t)){const s=e.get(t);if(s!==void 0)return s;const n=[];return e.set(t,n),t.forEach(r=>{n.push(I(r,e))}),n}return t}function _(){const t=u,e=t.crypto||t.msCrypto;if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");const s=e&&e.getRandomValues?()=>e.getRandomValues(new Uint8Array(1))[0]:()=>Math.random()*16;return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,n=>(n^(s()&15)>>n/4).toString(16))}function Ve(t){return Array.isArray(t)?t:[t]}function xe(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function He(){return!xe()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Ce(t,e){return t.require(e)}var l;(function(t){t[t.PENDING=0]="PENDING";const s=1;t[t.RESOLVED=s]="RESOLVED";const n=2;t[t.REJECTED=n]="REJECTED"})(l||(l={}));class f{constructor(e){f.prototype.__init.call(this),f.prototype.__init2.call(this),f.prototype.__init3.call(this),f.prototype.__init4.call(this),this._state=l.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(s){this._reject(s)}}then(e,s){return new f((n,r)=>{this._handlers.push([!1,i=>{if(!e)n(i);else try{n(e(i))}catch(o){r(o)}},i=>{if(!s)r(i);else try{n(s(i))}catch(o){r(o)}}]),this._executeHandlers()})}catch(e){return this.then(s=>s,e)}finally(e){return new f((s,n)=>{let r,i;return this.then(o=>{i=!1,r=o,e&&e()},o=>{i=!0,r=o,e&&e()}).then(()=>{if(i){n(r);return}s(r)})})}__init(){this._resolve=e=>{this._setResult(l.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(l.REJECTED,e)}}__init3(){this._setResult=(e,s)=>{if(this._state===l.PENDING){if(W(s)){s.then(this._resolve,this._reject);return}this._state=e,this._value=s,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===l.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(s=>{s[0]||(this._state===l.RESOLVED&&s[1](this._value),this._state===l.REJECTED&&s[2](this._value),s[0]=!0)})}}}const X=je(),v={nowSeconds:()=>Date.now()/1e3};function Je(){const{performance:t}=X;if(!t||!t.now)return;const e=Date.now()-t.now();return{now:()=>t.now(),timeOrigin:e}}function Qe(){try{return Ce(module,"perf_hooks").performance}catch{return}}const N=He()?Qe():Je(),M=N===void 0?v:{nowSeconds:()=>(N.timeOrigin+N.now())/1e3},Z=v.nowSeconds.bind(v),z=M.nowSeconds.bind(M);(()=>{const{performance:t}=X;if(!t||!t.now)return;const e=3600*1e3,s=t.now(),n=Date.now(),r=t.timeOrigin?Math.abs(t.timeOrigin+s-n):e,i=r<e,o=t.timing&&t.timing.navigationStart,d=typeof o=="number"?Math.abs(o+s-n):e,c=d<e;return i||c?r<=d?t.timeOrigin:o:n})();const qe="production";function Ke(t){const e=z(),s={sid:_(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>$e(s)};return t&&y(s,t),s}function y(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||z(),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:_()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const s=t.timestamp-t.started;t.duration=s>=0?s:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function We(t,e){let s={};e?s={status:e}:t.status==="ok"&&(s={status:"exited"}),y(t,s)}function $e(t){return Ye({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}const Xe=100;class g{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=j()}static clone(e){const s=new g;return e&&(s._breadcrumbs=[...e._breadcrumbs],s._tags={...e._tags},s._extra={...e._extra},s._contexts={...e._contexts},s._user=e._user,s._level=e._level,s._span=e._span,s._session=e._session,s._transactionName=e._transactionName,s._fingerprint=e._fingerprint,s._eventProcessors=[...e._eventProcessors],s._requestSession=e._requestSession,s._attachments=[...e._attachments],s._sdkProcessingMetadata={...e._sdkProcessingMetadata},s._propagationContext={...e._propagationContext}),s}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&y(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,s){return this._tags={...this._tags,[e]:s},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,s){return this._extra={...this._extra,[e]:s},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,s){return s===null?delete this._contexts[e]:this._contexts[e]=s,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if(typeof e=="function"){const s=e(this);return s instanceof g?s:this}return e instanceof g?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession),e._propagationContext&&(this._propagationContext=e._propagationContext)):K(e)&&(e=e,this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession),e.propagationContext&&(this._propagationContext=e.propagationContext)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=j(),this}addBreadcrumb(e,s){const n=typeof s=="number"?s:Xe;if(n<=0)return this;const r={timestamp:Z(),...e};return this._breadcrumbs=[...this._breadcrumbs,r].slice(-n),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,s={}){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};const n=this._span.transaction;if(n){e.sdkProcessingMetadata={dynamicSamplingContext:n.getDynamicSamplingContext(),...e.sdkProcessingMetadata};const r=n.name;r&&(e.tags={transaction:r,...e.tags})}}return this._applyFingerprint(e),e.breadcrumbs=[...e.breadcrumbs||[],...this._breadcrumbs],e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata,propagationContext:this._propagationContext},this._notifyEventProcessors([...Ze(),...this._eventProcessors],e,s)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}_notifyEventProcessors(e,s,n,r=0){return new f((i,o)=>{const a=e[r];if(s===null||typeof a!="function")i(s);else{const d=a({...s},n);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&a.id&&d===null&&S.log(`Event processor "${a.id}" dropped event`),W(d)?d.then(c=>this._notifyEventProcessors(e,c,n,r+1).then(i)).then(null,o):this._notifyEventProcessors(e,d,n,r+1).then(i).then(null,o)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?Ve(e.fingerprint):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}function Ze(){return D("globalEventProcessors",()=>[])}function j(){return{traceId:_(),spanId:_().substring(16),sampled:!1}}const ee=4,ze=100;class te{constructor(e,s=new g,n=ee){this._version=n,this._stack=[{scope:s}],e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){const s=this.getStackTop();s.client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=g.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){const s=this.pushScope();try{e(s)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,s){const n=this._lastEventId=s&&s.event_id?s.event_id:_(),r=new Error("Sentry syntheticException");return this._withClient((i,o)=>{i.captureException(e,{originalException:e,syntheticException:r,...s,event_id:n},o)}),n}captureMessage(e,s,n){const r=this._lastEventId=n&&n.event_id?n.event_id:_(),i=new Error(e);return this._withClient((o,a)=>{o.captureMessage(e,s,{originalException:e,syntheticException:i,...n,event_id:r},a)}),r}captureEvent(e,s){const n=s&&s.event_id?s.event_id:_();return e.type||(this._lastEventId=n),this._withClient((r,i)=>{r.captureEvent(e,{...s,event_id:n},i)}),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,s){const{scope:n,client:r}=this.getStackTop();if(!r)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:o=ze}=r.getOptions&&r.getOptions()||{};if(o<=0)return;const d={timestamp:Z(),...e},c=i?$(()=>i(d,s)):d;c!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",c,s),n.addBreadcrumb(c,o))}setUser(e){this.getScope().setUser(e)}setTags(e){this.getScope().setTags(e)}setExtras(e){this.getScope().setExtras(e)}setTag(e,s){this.getScope().setTag(e,s)}setExtra(e,s){this.getScope().setExtra(e,s)}setContext(e,s){this.getScope().setContext(e,s)}configureScope(e){const{scope:s,client:n}=this.getStackTop();n&&e(s)}run(e){const s=G(this);try{e(this)}finally{G(s)}}getIntegration(e){const s=this.getClient();if(!s)return null;try{return s.getIntegration(e)}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&S.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,s){const n=this._callExtensionMethod("startTransaction",e,s);return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&!n&&console.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`),n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const s=this.getStackTop().scope,n=s.getSession();n&&We(n),this._sendSessionUpdate(),s.setSession()}startSession(e){const{scope:s,client:n}=this.getStackTop(),{release:r,environment:i=qe}=n&&n.getOptions()||{},{userAgent:o}=u.navigator||{},a=Ke({release:r,environment:i,user:s.getUser(),...o&&{userAgent:o},...e}),d=s.getSession&&s.getSession();return d&&d.status==="ok"&&y(d,{status:"exited"}),this.endSession(),s.setSession(a),a}shouldSendDefaultPii(){const e=this.getClient(),s=e&&e.getOptions();return!!(s&&s.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:s}=this.getStackTop(),n=e.getSession();n&&s&&s.captureSession&&s.captureSession(n)}_withClient(e){const{scope:s,client:n}=this.getStackTop();n&&e(n,s)}_callExtensionMethod(e,...s){const r=T().__SENTRY__;if(r&&r.extensions&&typeof r.extensions[e]=="function")return r.extensions[e].apply(this,s);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&S.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function T(){return u.__SENTRY__=u.__SENTRY__||{extensions:{},hub:void 0},u}function G(t){const e=T(),s=U(e);return se(e,t),s}function F(){const t=T();if(t.__SENTRY__&&t.__SENTRY__.acs){const e=t.__SENTRY__.acs.getCurrentHub();if(e)return e}return et(t)}function et(t=T()){return(!tt(t)||U(t).isOlderThan(ee))&&se(t,new te),U(t)}function tt(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function U(t){return D("hub",()=>new te,t)}function se(t,e){if(!t)return!1;const s=t.__SENTRY__=t.__SENTRY__||{};return s.hub=e,!0}function Pt(t,e){return F().captureException(t,{captureContext:e})}function st(t,e){const s=typeof e=="string"?e:void 0,n=typeof e!="string"?{captureContext:e}:void 0;return F().captureMessage(t,s,n)}function Bt(t){F().withScope(t)}const Lt="Søknaden kan ikke inneholde flere enn 40 vedlegg. Vennligst gå tilbake, slett noen vedlegg og prøv å sende inn søknaden på nytt. Du kan ettersende vedlegg senere.",Mt="Det har oppstått et problem med innsending av søknaden. Vennligst prøv igjen senere. Hvis problemet vedvarer, kontakt oss og oppgi feil id: ",nt="ukjent uuid",rt=(t,e,s)=>{const n=gt(it(t));return Oe(e,s,t.tidsperiode.fom)?{...n,justeresVedFødsel:!0}:n},it=t=>{const{erMorForSyk:e,...s}=t;return s},ot=t=>t.type!==h.Hull,at=t=>t.type!==h.Info,dt=t=>t.type!==h.PeriodeUtenUttak,ct=t=>De(t)?!t.skalIkkeHaUttakFørTermin:ot(t)&&at(t)&&dt(t)&&!(O(t)&&t.konto===void 0),ne=(t,e=!1)=>{if(Q(t)){const{erUfør:s,erForSyk:n,harRettPåForeldrepengerINorge:r,harRettPåForeldrepengerIEØS:i,harOppholdtSegIEØS:o,...a}=t,d={harMorUføretrygd:s,harRettPåForeldrepenger:r,...a};return r?{...d,erInformertOmSøknaden:!0}:o?{...d,harAnnenForelderOppholdtSegIEØS:o,harAnnenForelderTilsvarendeRettEØS:i}:e?{...d,harAnnenForelderTilsvarendeRettEØS:i}:{...d,harAnnenForelderOppholdtSegIEØS:o}}return t},ut=t=>{if(Ae(t)){const{datoForAleneomsorg:r,type:i,fnr:o,...a}=t;return a}if(Ie(t)){const{datoForAleneomsorg:r,type:i,fnr:o,...a}=t;return{adopsjonAvEktefellesBarn:ve(t),...a}}const{datoForAleneomsorg:e,type:s,...n}=t;return n},lt=t=>{switch(t){case"mor":return"MOR";case"far":return"FAR";case"medmor":return"MEDMOR";default:return Te(t,"Søkerrolle er ikke satt")}},ft=(t,e,s,n,r)=>(O(t)&&(t.konto===p.Flerbarnsdager&&(t.konto=e?p.Fellesperiode:p.Foreldrepenger),t.konto===p.AktivitetsfriKvote&&(t.konto=p.Foreldrepenger,n&&!e&&Ne(r)?t.morsAktivitetIPerioden=B.IkkeOppgitt:s&&(t.morsAktivitetIPerioden=B.Uføre))),t),_t=t=>{if(t!==void 0&&t.length>0){const e=t[0];return{erArbeidstaker:e===b.arbeidstaker,erFrilanser:e===b.frilans,erSelvstendig:e===b.selvstendignæringsdrivende}}else return{}},gt=t=>t.gradert?{...t,..._t(t.arbeidsformer)}:t,re=(t,e,s,n,r,i,o)=>{const d=t.map(c=>({...c})).filter(c=>Se(c.tidsperiode)).filter(ct).map(c=>i&&Q(i)?ft(c,!!i.harRettPåForeldrepengerINorge,!!i.erUfør,s,e):c).map(c=>c.type===h.Uttak?rt(c,n,r):c);return o&&Ee(e)&&!ht(d,o)?pt(d,o):d},ht=(t,e)=>t.find(s=>m(e).isBetween(s.tidsperiode.fom,s.tidsperiode.tom,"day","[]")),pt=(t,e)=>{const s=t.find(i=>m(i.tidsperiode.fom).isAfter(e,"day")),n=s?be(s.tidsperiode.fom).forrige():e,r={type:h.Utsettelse,årsak:q.Fri,id:H(),tidsperiode:{fom:e,tom:n},erArbeidstaker:!1,forelder:R.farMedmor};return t.push(r),t.sort(Ue),t},mt=(t,e)=>{const{søker:s,barn:n,annenForelder:r,søkersituasjon:i,tilleggsopplysninger:o,uttaksplan:a,...d}=t,c=ne(r),le=ie(s,t.søkersituasjon),fe=ut(n),_e=C(t.søkersituasjon.rolle),ge=J(t.barn),he=re(a,e,_e,t.ønskerJustertUttakVedFødsel,ge,r),pe=ae(t.tilleggsopplysninger),P={søker:le,barn:fe,situasjon:t.søkersituasjon.situasjon,annenForelder:c,uttaksplan:he,tilleggsopplysninger:pe,...d};return x(P.uttaksplan),de(P)},ie=(t,e)=>{const s=t.språkkode==="nb"?"NB":"NN",n=lt(e.rolle);return{...t,rolle:n,språkkode:s}},jt=(t,e,s,n)=>{const r=JSON.parse(JSON.stringify(t));return r.erEndringssøknad?St(r,e,s,r.ønskerJustertUttakVedFødsel,n):mt(r,s)},oe=t=>{const e=[];return t==null||Object.keys(t).forEach(s=>{if(typeof t[s]=="object")if(ke(t[s])){const n=[...ye(t[s])];e.push(...n),t[s]=t[s].filter(r=>n.includes(r)).map(r=>r.id)}else e.push(...oe(t[s]))}),e},St=(t,e,s,n,r)=>{const i=C(t.søkersituasjon.rolle),o=J(t.barn),a={erEndringssøknad:!0,saksnummer:t.saksnummer,type:t.type,uttaksplan:re(e,s,i,n,o,t.annenForelder,r),vedlegg:oe({søknad:t}),søker:ie(t.søker,t.søkersituasjon),annenForelder:ne(t.annenForelder,!0),barn:t.barn,dekningsgrad:t.dekningsgrad,situasjon:t.søkersituasjon.situasjon,tilleggsopplysninger:ae(t.tilleggsopplysninger),ønskerJustertUttakVedFødsel:t.ønskerJustertUttakVedFødsel};return x(a.uttaksplan),de(a)},ae=t=>{var s;const e=(s=t.begrunnelseForSenEndring)==null?void 0:s.tekst;if(e!==void 0&&e.length>0)return e},Gt=t=>{const e=Et(t)+". ",s=bt(t)+". ",n=i=>i.replace(/\d/g,"*").slice(0,250)+"...";let r=e+s;t.request&&t.request.data&&t.request.data.messages?r=r+n(t.request.data.messages):t.response&&t.response.data&&t.response.data.messages&&(r=r+n(t.response.data.messages)),t.message&&(r=r+t.message),st(r)},Et=t=>t.response&&t.response.data&&t.response.data.uuid?t.response.data.uuid:nt,bt=t=>t.response&&t.response.data&&t.response.data.timestamp?t.response.data.timestamp:"",de=t=>{const e=[],s=me(t,e),n=e.reduce((r,i)=>(r.find(o=>o.id===i.id)||r.push(i),r),[]);return{...s,vedlegg:n}};var w={};Object.defineProperty(w,"__esModule",{value:!0});w.questionValueIsOk=t=>t!==void 0&&t!=="";const k=(t,e,s)=>{const n=t[e];if(!n||n.isIncluded&&n.isIncluded(s)===!1||n.visibilityFilter&&n.visibilityFilter(s)===!1)return!1;if(n.parentQuestion!==void 0){const r=t[n.parentQuestion];return k(t,n.parentQuestion,s)&&r.isAnswered(s)}return!0},Y=(t,e,s)=>{const n=t[e];return!n||!n.isAnswered?!1:n.isAnswered(s)},ce=(t,e,s)=>{const n=t[e];return n?n.isIncluded?n.isIncluded(s):!0:!1},kt=(t,e)=>{let s=!0;return Object.keys(t).forEach(n=>{const r=t[n];if(k(t,n,e)){const i=r.isOptional!==void 0?r.isOptional(e)===!0:!1;s=s===!0&&(r.isAnswered(e)||i)}}),s},yt=(t,e)=>Object.keys(t).filter(n=>ce(t,n,e)),V=(t,e,s,n)=>{const r=e[s];if(!(!r||!r.validate))return r.validate(n)};var Yt=w.Questions=t=>({getVisbility:e=>({validate:s=>n=>V(n,t,s,e),isVisible:s=>k(t,s,e),isAnswered:s=>Y(t,s,e),isIncluded:s=>ce(t,s,e),areAllQuestionsAnswered:()=>kt(t,e),getIncludedQuestions:()=>yt(t,e)}),getQuestionVisbilityInfo:(e,s)=>({validate:r=>V(r,t,e,s),isVisible:()=>k(t,e,s),isAnswered:()=>Y(t,e,s)})});const Vt=t=>Be.storeAppState(t,t.søkerinfo.person.fnr),ue=t=>O(t)||Fe(t)||we(t)||Pe(t),xt=(t,e,s,n,r)=>n?e?Nt(n,t,r,s):t.filter(ue):t,Tt=(t,e,s,n)=>{const r=e.filter(i=>Re(s,i.tidsperiode.fom,i.tidsperiode.tom)||m(i.tidsperiode.fom).isSameOrAfter(m(s),"day")).filter(ue);if(r.length===0&&t.length>e.length){const i=t.find(a=>m(a.tidsperiode.fom).isSame(s,"day"));return[{id:H(),type:h.Utsettelse,tidsperiode:{fom:i.tidsperiode.fom,tom:i.tidsperiode.tom},årsak:q.Fri,forelder:n?R.farMedmor:R.mor,erArbeidstaker:!1}]}else return r},Nt=(t,e,s,n)=>s===void 0?[]:Tt(t,e,s,n);export{b as A,Lt as F,Yt as Q,nt as U,Vt as a,Et as b,Mt as c,Pt as d,xt as e,jt as g,Gt as s,Bt as w};
//# sourceMappingURL=submitUtils-9aa0c51a.js.map
