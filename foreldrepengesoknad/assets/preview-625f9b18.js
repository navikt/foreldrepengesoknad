import{j as R}from"./jsx-runtime-69eee039.js";import{M as B,a as O,I as c,f as E,g as M,c as K,D as X,b as z,d as A,e as G,h as H,s as J,i as Q,P as $,j as tt}from"./index-f5a253d5.js";import{b as m,c as rt,_ as et,a as at}from"./_createSet-a53deccd.js";import{r as L}from"./index-7c191284.js";import{af as nt,ak as ot,ae as it,al as I,am as F,an as lt}from"./validationUtils-481ea31b.js";import{n as st,a as C,b as mt}from"./app-7c44e1f1.js";import"./index-e13aeee6.js";import"./_baseToString-4b695375.js";import"./index-b3a39e30.js";import"./Link-b834ea2b.js";import"./v4-a960c1f4.js";function b(t,o){return Object.keys(t).reduce(function(e,r){return e[r]=m({timeZone:o},t[r]),e},{})}function k(t,o){var e=Object.keys(m(m({},t),o));return e.reduce(function(r,a){return r[a]=m(m({},t[a]||{}),o[a]||{}),r},{})}function _(t,o){if(!o)return t;var e=it.formats;return m(m(m({},e),t),{date:k(b(e.date,o),b(t.date||{},o)),time:k(b(e.time,o),b(t.time||{},o))})}var N=function(t,o,e,r,a){var n=t.locale,i=t.formats,l=t.messages,s=t.defaultLocale,d=t.defaultFormats,f=t.fallbackOnEmptyString,v=t.onError,y=t.timeZone,j=t.defaultRichTextElements;e===void 0&&(e={id:""});var x=e.id,g=e.defaultMessage;nt(!!x,"[@formatjs/intl] An `id` must be provided to format a message. You can either:\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.io/docs/tooling/babel-plugin)\nor [@formatjs/ts-transformer](https://formatjs.io/docs/tooling/ts-transformer) OR\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.io/docs/tooling/linter#enforce-id)\nto autofix this issue");var p=String(x),u=l&&Object.prototype.hasOwnProperty.call(l,p)&&l[p];if(Array.isArray(u)&&u.length===1&&u[0].type===ot.literal)return u[0].value;if(!r&&u&&typeof u=="string"&&!j)return u.replace(/'\{(.*?)\}'/gi,"{$1}");if(r=m(m({},j),r||{}),i=_(i,y),d=_(d,y),!u){if(f===!1&&u==="")return u;if((!g||n&&n.toLowerCase()!==s.toLowerCase())&&v(new B(e,n)),g)try{var h=o.getMessageFormat(g,s,d,a);return h.format(r)}catch(T){return v(new O('Error formatting default message for: "'.concat(p,'", rendering default message verbatim'),n,e,T)),typeof g=="string"?g:p}return p}try{var h=o.getMessageFormat(u,n,i,m({formatters:o},a||{}));return h.format(r)}catch(T){v(new O('Error formatting message: "'.concat(p,'", using ').concat(g?"default message":"id"," as fallback."),n,e,T))}if(g)try{var h=o.getMessageFormat(g,s,d,a);return h.format(r)}catch(T){v(new O('Error formatting the default message for: "'.concat(p,'", rendering message verbatim'),n,e,T))}return typeof u=="string"?u:typeof g=="string"?g:p},q=["formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem","fractionalSecondDigits"];function S(t,o,e,r){var a=t.locale,n=t.formats,i=t.onError,l=t.timeZone;r===void 0&&(r={});var s=r.format,d=m(m({},l&&{timeZone:l}),s&&M(n,o,s,i)),f=E(r,q,d);return o==="time"&&!f.hour&&!f.minute&&!f.second&&!f.timeStyle&&!f.dateStyle&&(f=m(m({},f),{hour:"numeric",minute:"numeric"})),e(a,f)}function ft(t,o){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];var a=e[0],n=e[1],i=n===void 0?{}:n,l=typeof a=="string"?new Date(a||0):a;try{return S(t,"date",o,i).format(l)}catch(s){t.onError(new c("Error formatting date.",t.locale,s))}return String(l)}function ut(t,o){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];var a=e[0],n=e[1],i=n===void 0?{}:n,l=typeof a=="string"?new Date(a||0):a;try{return S(t,"time",o,i).format(l)}catch(s){t.onError(new c("Error formatting time.",t.locale,s))}return String(l)}function ct(t,o){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];var a=e[0],n=e[1],i=e[2],l=i===void 0?{}:i,s=t.timeZone,d=t.locale,f=t.onError,v=E(l,q,s?{timeZone:s}:{});try{return o(d,v).formatRange(a,n)}catch(y){f(new c("Error formatting date time range.",t.locale,y))}return String(a)}function dt(t,o){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];var a=e[0],n=e[1],i=n===void 0?{}:n,l=typeof a=="string"?new Date(a||0):a;try{return S(t,"date",o,i).formatToParts(l)}catch(s){t.onError(new c("Error formatting date.",t.locale,s))}return[]}function gt(t,o){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];var a=e[0],n=e[1],i=n===void 0?{}:n,l=typeof a=="string"?new Date(a||0):a;try{return S(t,"time",o,i).formatToParts(l)}catch(s){t.onError(new c("Error formatting time.",t.locale,s))}return[]}var vt=["style","type","fallback","languageDisplay"];function pt(t,o,e,r){var a=t.locale,n=t.onError,i=Intl.DisplayNames;i||n(new I(`Intl.DisplayNames is not available in this environment.
Try polyfilling it using "@formatjs/intl-displaynames"
`,F.MISSING_INTL_API));var l=E(r,vt);try{return o(a,l).of(e)}catch(s){n(new c("Error formatting display name.",a,s))}}var yt=["type","style"],Z=Date.now();function Et(t){return"".concat(Z,"_").concat(t,"_").concat(Z)}function ht(t,o,e,r){r===void 0&&(r={});var a=W(t,o,e,r).reduce(function(n,i){var l=i.value;return typeof l!="string"?n.push(l):typeof n[n.length-1]=="string"?n[n.length-1]+=l:n.push(l),n},[]);return a.length===1?a[0]:a.length===0?"":a}function W(t,o,e,r){var a=t.locale,n=t.onError;r===void 0&&(r={});var i=Intl.ListFormat;i||n(new I(`Intl.ListFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-listformat"
`,F.MISSING_INTL_API));var l=E(r,yt);try{var s={},d=e.map(function(f,v){if(typeof f=="object"){var y=Et(v);return s[y]=f,y}return String(f)});return o(a,l).formatToParts(d).map(function(f){return f.type==="literal"?f:m(m({},f),{value:s[f.value]||f.value})})}catch(f){n(new c("Error formatting list.",a,f))}return e}var Tt=["type"];function bt(t,o,e,r){var a=t.locale,n=t.onError;r===void 0&&(r={}),Intl.PluralRules||n(new I(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,F.MISSING_INTL_API));var i=E(r,Tt);try{return o(a,i).select(e)}catch(l){n(new c("Error formatting plural.",a,l))}return"other"}var It=["numeric","style"];function Ft(t,o,e){var r=t.locale,a=t.formats,n=t.onError;e===void 0&&(e={});var i=e.format,l=!!i&&M(a,"relative",i,n)||{},s=E(e,It,l);return o(r,s)}function St(t,o,e,r,a){a===void 0&&(a={}),r||(r="second");var n=Intl.RelativeTimeFormat;n||t.onError(new I(`Intl.RelativeTimeFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-relativetimeformat"
`,F.MISSING_INTL_API));try{return Ft(t,o,a).format(e,r)}catch(i){t.onError(new c("Error formatting relative time.",t.locale,i))}return String(e)}var Pt=["style","currency","currencyDisplay","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay","numberingSystem"];function V(t,o,e){var r=t.locale,a=t.formats,n=t.onError;e===void 0&&(e={});var i=e.format,l=i&&M(a,"number",i,n)||{},s=E(e,Pt,l);return o(r,s)}function Ot(t,o,e,r){r===void 0&&(r={});try{return V(t,o,r).format(e)}catch(a){t.onError(new c("Error formatting number.",t.locale,a))}return String(e)}function wt(t,o,e,r){r===void 0&&(r={});try{return V(t,o,r).formatToParts(e)}catch(a){t.onError(new c("Error formatting number.",t.locale,a))}return[]}function Rt(t){var o=t?t[Object.keys(t)[0]]:void 0;return typeof o=="string"}function Lt(t){t.onWarn&&t.defaultRichTextElements&&Rt(t.messages||{})&&t.onWarn(`[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. 
Please consider using "@formatjs/cli" to pre-compile your messages for performance.
For more details see https://formatjs.io/docs/getting-started/message-distribution`)}function Nt(t,o){var e=K(o),r=m(m({},X),t),a=r.locale,n=r.defaultLocale,i=r.onError;return a?!Intl.NumberFormat.supportedLocalesOf(a).length&&i?i(new A('Missing locale data for locale: "'.concat(a,'" in Intl.NumberFormat. Using default locale: "').concat(n,'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details'))):!Intl.DateTimeFormat.supportedLocalesOf(a).length&&i&&i(new A('Missing locale data for locale: "'.concat(a,'" in Intl.DateTimeFormat. Using default locale: "').concat(n,'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details'))):(i&&i(new z('"locale" was not configured, using "'.concat(n,'" as fallback. See https://formatjs.io/docs/react-intl/api#intlshape for more details'))),r.locale=r.defaultLocale||"en"),Lt(r),m(m({},r),{formatters:e,formatNumber:Ot.bind(null,r,e.getNumberFormat),formatNumberToParts:wt.bind(null,r,e.getNumberFormat),formatRelativeTime:St.bind(null,r,e.getRelativeTimeFormat),formatDate:ft.bind(null,r,e.getDateTimeFormat),formatDateToParts:dt.bind(null,r,e.getDateTimeFormat),formatTime:ut.bind(null,r,e.getDateTimeFormat),formatDateTimeRange:ct.bind(null,r,e.getDateTimeFormat),formatTimeToParts:gt.bind(null,r,e.getDateTimeFormat),formatPlural:bt.bind(null,r,e.getPluralRules),formatMessage:N.bind(null,r,e),$t:N.bind(null,r,e),formatList:ht.bind(null,r,e.getListFormat),formatListToParts:W.bind(null,r,e.getListFormat),formatDisplayName:pt.bind(null,r,e.getDisplayNames)})}function w(t){return{locale:t.locale,timeZone:t.timeZone,fallbackOnEmptyString:t.fallbackOnEmptyString,formats:t.formats,textComponent:t.textComponent,messages:t.messages,defaultLocale:t.defaultLocale,defaultFormats:t.defaultFormats,onError:t.onError,onWarn:t.onWarn,wrapRichTextChunksInFragment:t.wrapRichTextChunksInFragment,defaultRichTextElements:t.defaultRichTextElements}}function Y(t){return t&&Object.keys(t).reduce(function(o,e){var r=t[e];return o[e]=lt(r)?tt(r):r,o},{})}var U=function(t,o,e,r){for(var a=[],n=4;n<arguments.length;n++)a[n-4]=arguments[n];var i=Y(r),l=N.apply(void 0,at([t,o,e,i],a,!1));return Array.isArray(l)?L.Children.toArray(l):l},D=function(t,o){var e=t.defaultRichTextElements,r=rt(t,["defaultRichTextElements"]),a=Y(e),n=Nt(m(m(m({},G),r),{defaultRichTextElements:a}),o),i={locale:n.locale,timeZone:n.timeZone,fallbackOnEmptyString:n.fallbackOnEmptyString,formats:n.formats,defaultLocale:n.defaultLocale,defaultFormats:n.defaultFormats,messages:n.messages,onError:n.onError,defaultRichTextElements:a};return m(m({},n),{formatMessage:U.bind(null,i,n.formatters),$t:U.bind(null,i,n.formatters)})};(function(t){et(o,t);function o(){var e=t!==null&&t.apply(this,arguments)||this;return e.cache=H(),e.state={cache:e.cache,intl:D(w(e.props),e.cache),prevConfig:w(e.props)},e}return o.getDerivedStateFromProps=function(e,r){var a=r.prevConfig,n=r.cache,i=w(e);return J(a,i)?null:{intl:D(i,n),prevConfig:i}},o.prototype.render=function(){return Q(this.state.intl),L.createElement($,{value:this.state.intl},this.props.children)},o.displayName="IntlProvider",o.defaultProps=G,o})(L.PureComponent);const Dt=t=>(e,r)=>{const a=r.globals.locale||"nb",n=t[a];return R.jsx($,{value:D({locale:a,messages:n}),children:e()})},P=document.createElement("script");P.type="text/json";P.id="nav:appSettings";P.innerHTML=JSON.stringify({REST_API_URL:"test",LOGIN_URL:"test",APP_VERSION:"test",FEATURE_VIS_FEILSIDE:"off",FEATURE_VIS_ALERTSTRIPE:"on"});document.head.appendChild(P);const Mt=Dt({nb:{...st,...C.nb},nn:{...mt,...C.nn}}),Wt={locale:{description:"Internationalization locale",toolbar:{title:"Språk",icon:"globe",items:[{value:"nb",title:"Bokmål"},{value:"nn",title:"Nynorsk"}],dynamicTitle:!0}}},Vt={decorators:[Mt,t=>R.jsx("div",{id:"app",style:{padding:"40px"},children:R.jsx(t,{})})]};export{Vt as default,Wt as globalTypes};
//# sourceMappingURL=preview-625f9b18.js.map
