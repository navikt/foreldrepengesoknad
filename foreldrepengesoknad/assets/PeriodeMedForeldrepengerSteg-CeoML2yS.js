import{j as e}from"./jsx-runtime-DoxjgJx5.js";import{e as z,u as U,T as ae,d as O,R as H,U as V,j as Y,x as re,$ as oe,S as ie,L as le}from"./Tidsperioden-C8HcA-rk.js";import"./index-C-6Uy6j4.js";import{r as m}from"./index-Cu9bd8lq.js";import{n as N,K as _,a5 as $,i as de,D as g,V as ge,a6 as I,S as ce,I as ue,f as pe}from"./dateFormValidation-A9ng-RC0.js";import{D as L}from"./eksisterendeSakUtils-B4-KNNY8.js";import"./_baseToString-yTMKM5a7.js";import"./_createSet-BNfKGSGn.js";import{s as ke,u as me,a as b,g as fe,b as C,c as je}from"./uttaksplanInfoUtils-B2JpxYR4.js";import{b as K,u as xe,a as ve}from"./useFpNavigator-CnrN-bhH.js";import{u as S,C as k,a as J}from"./FpDataContext-CjNulmBK.js";import{R as Se}from"./useRequest-D3GjlcxZ.js";import{j as Q,h as W,e as he}from"./barnUtils-DSjWg_x2.js";import{u as Ee,F as Pe,E as De,R as Re,c as Te}from"./ErrorSummaryHookForm-DaBY2tD2.js";import{l as Fe}from"./links-dJHPeQm3.js";import{g as A}from"./stønadskontoer-Jq-o03pj.js";import{V as P,B as y,H as M,a as Ne}from"./Step-DMjU3ety.js";import{F as i}from"./message-BTv7u0RP.js";import{L as Oe,H as w,B}from"./Link-BqZ6CohM.js";var Ae=function(t,a){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&a.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};const _e=m.forwardRef((t,a)=>{var{title:s,titleId:n}=t,r=Ae(t,["title","titleId"]);let o=z();return o=s?n||"title-"+o:void 0,m.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:a,"aria-labelledby":o},r),s?m.createElement("title",{id:o},s):null,m.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.532 3.471A.748.748 0 0 1 20.75 4v7.5a.75.75 0 0 1-1.5 0V5.81l-8.72 8.72a.75.75 0 1 1-1.06-1.06l8.72-8.72H12.5a.75.75 0 0 1 0-1.5H20c.206 0 .393.083.529.218l.001.002.002.001ZM4.75 9A.25.25 0 0 1 5 8.75h7a.75.75 0 0 0 0-1.5H5A1.75 1.75 0 0 0 3.25 9v10c0 .966.784 1.75 1.75 1.75h10A1.75 1.75 0 0 0 16.75 19v-7a.75.75 0 0 0-1.5 0v7a.25.25 0 0 1-.25.25H5a.25.25 0 0 1-.25-.25V9Z",fill:"currentColor"}))}),Ie=_e;var be=function(t,a){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&a.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};const ye=m.forwardRef((t,a)=>{var{title:s,titleId:n}=t,r=be(t,["title","titleId"]);let o=z();return o=s?n||"title-"+o:void 0,m.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:a,"aria-labelledby":o},r),s?m.createElement("title",{id:o},s):null,m.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.939 2.293a2.25 2.25 0 0 0-2.592 1.554 3.751 3.751 0 0 0-3.468.971l-.349-.348a.75.75 0 1 0-1.06 1.06l.216.217-2.127.912a2.75 2.75 0 0 0-.862.583l-6.02 6.02a1.75 1.75 0 0 0 0 2.475l4.586 4.586a1.75 1.75 0 0 0 2.474 0l6.021-6.02a2.75 2.75 0 0 0 .583-.862l.912-2.127.217.216a.75.75 0 1 0 1.06-1.06l-.348-.349a3.75 3.75 0 0 0 .971-3.468 2.249 2.249 0 0 0 .938-3.744 2.25 2.25 0 0 0-1.152-.616ZM19.5 5.25a.75.75 0 1 0-.75-.75 3.76 3.76 0 0 1 .75.75Zm-1.379 3.81A2.25 2.25 0 0 0 14.94 5.88L18.12 9.06ZM11.15 8.038l2.679-1.149 3.282 3.282-.034.079H8.81l1.947-1.947a1.25 1.25 0 0 1 .392-.265Zm-6.413 6.285 2.574-2.573h9.123l-.472 1.1a1.25 1.25 0 0 1-.265.392l-6.02 6.02a.25.25 0 0 1-.354 0l-4.586-4.585a.25.25 0 0 1 0-.354Z",fill:"currentColor"}))}),G=ye,Z=(t,a)=>{const s=$(a),n=Q(a),r=W(a),o=s?a.adopsjonsdato:r;if(!s&&n||!o)return;const l=A(t.filter(c=>c.konto!==ce.ForeldrepengerFørFødsel))*5,d=V(O(o).toDate()).denneEllerNeste(),f=V(d).leggTil(l-1);return O(f).format("dddd DD. MMMM YYYY")},q=(t,a,s,n,r)=>{if(!s&&a)return t.formatMessage({id:"uttaksplaninfo.Uker.beskrivelseOmsorgsovertakelse"},{dato:r});if(!s&&!n)return t.formatMessage({id:"uttaksplaninfo.Uker.beskrivelseTermin"},{dato:r})},Me=(t,a)=>a?t.formatMessage({id:"uttaksplaninfo.Uker.soker.dere"}):t.formatMessage({id:"uttaksplaninfo.Uker.soker.du"}),X=({goToPreviousDefaultStep:t,goToNextDefaultStep:a,barn:s,søkersituasjon:n,stønadskonto100:r,stønadskonto80:o})=>{const l=U(),d=Y("circle"),f=S(k.PERIODE_MED_FORELDREPENGER),c=N(S(k.ANNEN_FORELDER)),D=J(k.PERIODE_MED_FORELDREPENGER),h=Ee({defaultValues:f}),u=se=>(D(se),a()),x=_(c)&&(c.harRettPåForeldrepengerINorge===!0||c.harRettPåForeldrepengerIEØS===!0),R=$(s),j=Q(s),E=W(s),T=ke(j,E,n.situasjon),p=T&&j&&E?ae({fom:O(j).toDate(),tom:O(E).toDate()}).getAntallUttaksdager()-1:void 0,F=Z(r,s),ne=Z(o,s),v=Me(l,x);return e.jsx(Pe,{formMethods:h,onSubmit:u,children:e.jsxs(P,{gap:"10",children:[e.jsx(De,{}),e.jsxs(P,{gap:"4",children:[e.jsxs(Re,{name:"dekningsgrad",description:x?e.jsx(i,{id:"uttaksplaninfo.dekningsgrad.beskrivelse"}):e.jsx(i,{id:"uttaksplaninfo.dekningsgrad.beskrivelse.alene"}),label:x?e.jsx(i,{id:"uttaksplaninfo.dekningsgrad.label.deltUttak"}):e.jsx(i,{id:"uttaksplaninfo.dekningsgrad.label.ikkeDeltUttak"}),validate:[de(l.formatMessage({id:"DekningsgradForm.MåOppgiDekningsgrad"},{soker:v}))],children:[e.jsx(H,{value:g.HUNDRE_PROSENT,description:q(l,R,n.rolle==="far",!!j,F),children:e.jsx(i,{id:"uttaksplaninfo.49Uker",values:{antallUker:A(r)}})}),e.jsx(H,{value:g.ÅTTI_PROSENT,description:q(l,R,n.rolle==="far",!!j,ne),children:e.jsx(i,{id:"uttaksplaninfo.59Uker",values:{antallUker:A(o)}})})]}),e.jsxs(ge,{header:x?e.jsx(i,{id:"uttaksplaninfo.veileder.dekningsgrad.header"}):e.jsx(i,{id:"uttaksplaninfo.veileder.dekningsgrad.header.alene"}),children:[e.jsx(i,{id:"uttaksplaninfo.veileder.dekningsgrad"}),e.jsxs(Oe,{href:Fe.søknadsfrister,target:"_blank",children:[e.jsx(i,{id:"uttaksplaninfo.veileder.dekningsgrad.link"}),e.jsx(Ie,{title:"a11y-title",fontSize:"1.5rem"})]})]})]}),T&&!!p&&e.jsx(y,{padding:"4",background:"surface-alt-3-subtle",children:e.jsxs(M,{justify:"space-between",align:"start",children:[e.jsxs(P,{gap:"2",style:{width:"85%"},children:[e.jsx(w,{size:"xsmall",children:e.jsx(i,{id:"DekningsgradForm.InformasjonPrematurukerHeader",values:{soker:I(v)}})}),e.jsx(B,{children:e.jsx(i,{id:"DekningsgradForm.InformasjonPrematuruker",values:{uker:Math.floor(p/5),dager:p%5,soker:x?l.formatMessage({id:"uttaksplaninfo.Uker.soker.dere"}):l.formatMessage({id:"uttaksplaninfo.Uker.soker.deg"})}})})]}),e.jsx("div",{className:d.block,children:e.jsx(G,{height:24,width:24,color:"#005B82"})})]})}),s.antallBarn>1&&e.jsx(y,{padding:"4",background:"surface-alt-3-subtle",children:e.jsxs(M,{justify:"space-between",align:"start",children:[e.jsxs(P,{gap:"2",style:{width:"85%"},children:[e.jsxs(w,{size:"xsmall",children:[s.antallBarn===2&&e.jsx(i,{id:"DekningsgradForm.InformasjonToBarn",values:{sokerStorBokstav:I(v),soker:v}}),s.antallBarn>2&&e.jsx(i,{id:"DekningsgradForm.InformasjonFlereEnnToBarn",values:{sokerStorBokstav:I(v),soker:v}})]}),e.jsx(B,{children:e.jsx(i,{id:"DekningsgradForm.InformasjonFlerbarnUker",values:{uker80:K(g.ÅTTI_PROSENT,s.antallBarn),uker100:K(g.HUNDRE_PROSENT,s.antallBarn),soker:v}})})]}),e.jsx("div",{className:d.block,children:e.jsx(G,{height:24,width:24,color:"#005B82"})})]})}),e.jsx(Te,{goToPreviousStep:t})]})})};X.__docgenInfo={description:"",methods:[],displayName:"DekningsgradForm"};const ee=({goToPreviousDefaultStep:t,goToNextDefaultStep:a,fornavnAnnenForelder:s,kjønnAnnenForelder:n,dekningsgrad:r,valgtStønadskonto:o})=>{const l=U(),d=Y("circle"),f=J(k.PERIODE_MED_FORELDREPENGER),[c,D]=m.useState(!1),h=()=>(D(!0),f({dekningsgrad:r}),a()),u=A(o);return e.jsxs(P,{gap:"10",children:[e.jsx(y,{padding:"4",background:"surface-alt-3-subtle",children:e.jsxs(M,{justify:"space-between",align:"start",children:[e.jsxs(P,{gap:"2",style:{width:"85%"},children:[e.jsx(w,{size:"xsmall",children:e.jsx(i,{id:"DekningsgradValgtAvAnnenPartPanel.Heading",values:{uker:re(u*5,l),dekningsgrad:r}})}),e.jsx(B,{children:n==="M"?e.jsx(i,{id:"DekningsgradValgtAvAnnenPartPanel.ValgtAvHans",values:{navn:s}}):e.jsx(i,{id:"DekningsgradValgtAvAnnenPartPanel.ValgtAvHennes",values:{navn:s}})})]}),e.jsx("div",{className:d.block,children:e.jsx(oe,{height:24,width:24,color:"#005B82"})})]})}),e.jsx(Ne,{isDisabledAndLoading:c,nextButtonOnClick:h,goToPreviousStep:t})]})};ee.__docgenInfo={description:"",methods:[],displayName:"DekningsgradValgtAvAnnenPartPanel"};const we=(t,a)=>{var r;const s=_(t)&&t.utenlandskFnr!==!0?t.fnr:void 0,n=pe(a)&&a.fnr!==void 0&&((r=a.fnr)==null?void 0:r.length)>0?a.fnr[0]:void 0;return{annenPartFødselsnummer:s,barnFødselsnummer:n,familiehendelse:he(a)}},Be=t=>{const a=_(t)&&t.utenlandskFnr!==!0?t.fnr:void 0;return!(a!==void 0&&a!=="")},te=({arbeidsforhold:t,mellomlagreSøknadOgNaviger:a,avbrytSøknad:s})=>{const n=U(),r=xe(t),o=ve(t,a),l=N(S(k.ANNEN_FORELDER)),d=N(S(k.OM_BARNET)),f=N(S(k.SØKERSITUASJON)),c=S(k.BARN_FRA_NESTE_SAK),D=S(k.EKSISTERENDE_SAK),h=Be(l),{data:u,requestStatus:x}=me(b.ANNEN_PART_VEDTAK,we(l,d),h),R=fe(d,l,f,c,u,D),j=h?!1:x!==Se.FINISHED,{data:E}=C(b.STØNADSKONTOER_80,R.stønadskontoParams80,j),{data:T}=C(b.STØNADSKONTOER_100,R.stønadskontoParams100,j),p=E&&T?je(E,T):void 0,F=u&&u.perioder.length>0;return e.jsxs(ie,{bannerTitle:n.formatMessage({id:"søknad.pageheading"}),onCancel:s,onContinueLater:o.fortsettSøknadSenere,steps:r,children:[!p&&e.jsx("div",{style:{textAlign:"center",padding:"12rem 0"},children:e.jsx(le,{size:"2xlarge"})}),p&&e.jsxs(e.Fragment,{children:[F&&_(l)&&e.jsx(ee,{goToPreviousDefaultStep:o.goToPreviousDefaultStep,goToNextDefaultStep:o.goToNextDefaultStep,fornavnAnnenForelder:l.fornavn,kjønnAnnenForelder:ue(l),dekningsgrad:u.dekningsgrad===L.HUNDRE_PROSENT?g.HUNDRE_PROSENT:g.ÅTTI_PROSENT,valgtStønadskonto:p[u.dekningsgrad===L.HUNDRE_PROSENT?g.HUNDRE_PROSENT:g.ÅTTI_PROSENT]}),!F&&e.jsx(X,{goToPreviousDefaultStep:o.goToPreviousDefaultStep,goToNextDefaultStep:o.goToNextDefaultStep,barn:d,søkersituasjon:f,stønadskonto100:p[g.HUNDRE_PROSENT],stønadskonto80:p[g.ÅTTI_PROSENT]})]})]})},st=te;te.__docgenInfo={description:"",methods:[],displayName:"PeriodeMedForeldrepengerSteg"};export{st as P};
