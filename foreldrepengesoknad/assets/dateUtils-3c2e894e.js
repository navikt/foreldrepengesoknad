import{d as s,s as E,J as x,K as p,A as g,I as A,y as S,N as D,U}from"./Tidsperioden-3002fbcf.js";import{t as M}from"./mapSøkerinfoDTO-7e411b72.js";import{c as G,g as O}from"./index-f1f2c4b1.js";import"./jsx-runtime-d079401a.js";import{a as h,h as l,f as y,b as W,c as z}from"./Perioden-a73e7b2e.js";import"./index-2d278ef6.js";import"./_baseToString-375081cd.js";import"./_createSet-53ab95fd.js";var w={exports:{}};(function(e,t){(function(d,n){e.exports=n()})(G,function(){return function(d,n){var c=n.prototype,o=c.format;c.format=function(u){var r=this,m=this.$locale();if(!this.isValid())return o.bind(this)(u);var a=this.$utils(),f=(u||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(i){switch(i){case"Q":return Math.ceil((r.$M+1)/3);case"Do":return m.ordinal(r.$D);case"gggg":return r.weekYear();case"GGGG":return r.isoWeekYear();case"wo":return m.ordinal(r.week(),"W");case"w":case"ww":return a.s(r.week(),i==="w"?1:2,"0");case"W":case"WW":return a.s(r.isoWeek(),i==="W"?1:2,"0");case"k":case"kk":return a.s(String(r.$H===0?24:r.$H),i==="k"?1:2,"0");case"X":return Math.floor(r.$d.getTime()/1e3);case"x":return r.$d.getTime();case"z":return"["+r.offsetName()+"]";case"zzz":return"["+r.offsetName("long")+"]";default:return i}});return o.bind(this)(f)}}})})(w);var F=w.exports;const j=O(F),$=e=>"morsSisteDag"in e;s.extend(E);s.extend(x);s.extend(p);s.extend(M);s.extend(j);const V=s().subtract(4,"year").startOf("day").toDate(),k=(e,t)=>!S(e)||!S(t)||!D(e)||!D(t)?!1:!!s(e).isBefore(t,"day"),X=e=>[...e].sort((t,d)=>k(g(t.fødselsdato),g(d.fødselsdato))?1:-1)[e.length-1],C=e=>[...e].sort((d,n)=>k(g(d),g(n))?-1:1),J=(e,t)=>e&&t?s(e).isSameOrAfter(t,"day"):!0,K=e=>{if(e.length>0)return s.min(e.map(t=>s(t))).toDate()},Z=(e,t,d)=>{if(d!==void 0)return d;if(t!==void 0)return t;if(e!==void 0)return e;throw new Error("Mangler fødselsdato/termindato/adopsjonsdato for barnet.")},q=e=>{const t=new Date("2021-10-01");return s(e).isSameOrAfter(t,"day")&&s(new Date).isSameOrAfter(t,"day")},_=e=>{const t=new Date("2022-08-02");return s(e).isSameOrAfter(t,"day")&&s(new Date).isSameOrAfter(t,"day")},N=(e,t)=>s(e).isAfter(U(t).neste(),"day"),P=(e,t,d)=>{if(!d)return;const n=e===void 0?void 0:e.filter(r=>!h(r)),c=t.filter(r=>!h(r));let o,u;if(n)c.forEach((r,m)=>{if(o)return;const{fom:a}=r.tidsperiode,f=n.find(i=>s(i.tidsperiode.fom).isSame(a,"day"));if(f!==void 0){const i=l(r).erLik(f,!1,!0);(!i||i&&l(r).slutterEtter(f.tidsperiode.tom))&&(o=a)}if(f===void 0&&(o=a),f!==void 0&&c.length-1===m&&(l(r).erLik(f,!0,!0)||(o=a)),o&&y(r)&&s(o).isAfter(n[n.length-1].tidsperiode.tom)){const i=c.find(v=>(W(v)||z(v))&&s(v.tidsperiode.fom).isAfter(o));o=i!==void 0?i.tidsperiode.fom:o}}),n.forEach(r=>{if(u)return;const{fom:m}=r.tidsperiode,a=c.find(f=>s(f.tidsperiode.fom).isSame(m,"day"));a!==void 0&&!l(r).erLik(a,!1,!0)&&(u=a.tidsperiode.fom),a===void 0&&(u=m)});else if(c.length>0)return c[0].tidsperiode.fom;return b(o,u)},b=(e,t)=>{if(!(e===void 0&&t===void 0))return e!==void 0&&t===void 0?e:e===void 0&&t!==void 0?t:s(e).isSameOrBefore(s(t))?e:t},ee=e=>{if(e&&$(e))return A(e.morsSisteDag)};export{X as a,ee as b,P as c,V as d,N as e,q as f,Z as g,K as h,k as i,J as j,_ as k,C as s};
