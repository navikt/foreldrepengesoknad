import{j as e}from"./jsx-runtime-69eee039.js";import{b as Kt,u as Ct,a as Ht,s as wt,c as qt,M as Jt}from"./useSaveLoadedRoute-ccd0af0e.js";import{r as k}from"./index-7c191284.js";import{u as Ae,i as N,M as fe,B as D,H as Yt,k as $,f as G,h as Wt,Z as zt,Y as $t,E as Zt,d as Fe,U as Qt,a2 as Se,b as Ye,W as ce,a1 as Xt,o as it,_ as en,A as We,aa as tn}from"./validationUtils-3e3f35a1.js";import"./index-e13aeee6.js";import"./_baseToString-4b695375.js";import"./_createSet-32a27317.js";import{I as nn}from"./IntlProvider-b5f77251.js";import{S as a,u as je,a as u,m as rn,F as sn}from"./mapSøkerinfoDTO-c2e267b6.js";import{u as lt,b as an,m as dt,a as on,i as ln,g as dn,c as kn,L as pn,s as un,R as mn,t as c,N as ze,B as cn}from"./useSøknad-67949f34.js";import{A as x,R as V}from"./api-02a26928.js";import{g as $e,a as gn,s as B,w as fn,F as Sn,c as vn}from"./submitUtils-3190d349.js";import{l as kt}from"./links-b36d21ab.js";import{F as pt}from"./Feilside-7551932e.js";import{V as En}from"./Velkommen-aecd0abc.js";import{A as hn}from"./AnnenForelder-61f62b79.js";import{I as An}from"./Inntektsinformasjon-ac2e73e0.js";import{O as Fn}from"./OmBarnet-0acee939.js";import{c as jn,O as Ze}from"./Oppsummering-dfbb56f4.js";import{S as Nn}from"./Søkersituasjon-280d0b1a.js";import{U as bn}from"./Utenlandsopphold-c71865b0.js";import{g as Tn,a as Pn,b as xn,c as Qe,d as yn,U as In}from"./UttaksplanInfo-1e87ebb3.js";import{i as ve,S as Dn,p as Un,q as Xe,r as Mn,t as On,u as Rn,D as et,a as Vn,E as _n,F as Gn,G as Bn,H as Ln}from"./Periodene-52ff0d39.js";import{f as Kn,s as Cn,D as ge}from"./leggTilPeriode-6be5dfc1.js";import{g as Hn,U as wn,a as qn,u as Jn}from"./Uttaksplan-063eebcd.js";import{g as Yn}from"./arbeidsforholdUtils-ee247546.js";import{u as Wn}from"./useOnValidSubmit-9255204e.js";import{u as zn}from"./useSøkerinfo-7098b049.js";import{b as $n,c as Zn}from"./dateUtils-5eafd83c.js";import{B as tt}from"./Link-b834ea2b.js";import{c as Qn}from"./formUtils-628645da.js";import{c as Xn,g as er}from"./eksisterendeSakUtils-39804c4a.js";import{g as tr,I as nr}from"./InfoOmSøknaden-50e7887d.js";import{A as rr}from"./FormikFileUploader-a3627c10.js";import{S as nt,d as sr}from"./SøknadSendt-2b98d5bc.js";import{B as ar}from"./ByttBrowserModal-ea3f65f3.js";import{A as or}from"./apiInterceptor-c6c2844c.js";/* empty css            */import"./amplitude-bdf1e125.js";import"./index-b3a39e30.js";import"./v4-a960c1f4.js";import"./AttachmentType-f6ad37cf.js";import"./velkommenUtils-8cac9cb6.js";import"./DinePlikter-2cc97a00.js";import"./DinePersonopplysningerModal-2916a05f.js";import"./validationUtil-33877e28.js";import"./RegistrertePersonalia-279ec6d7.js";import"./InteractiveListElement-d7163525.js";import"./Næring-34689996.js";import"./LenkeKnapp-a5650a66.js";import"./_baseIteratee-9b4fb880.js";import"./_baseUniq-e5198354.js";import"./AttachmentList-ca8f0ac5.js";import"./Attachment-f47bbeea.js";import"./AdvarselIkon-93d01dab.js";import"./util-1e71b1e1.js";const ir=[{arbeidsgiverId:"896929119",arbeidsgiverIdType:"orgnr",arbeidsgiverNavn:"SAUEFABRIKK",stillingsprosent:100,fom:"2018-03-01"}],lr={søker:{fnr:"06499121154",fornavn:"Tapper",etternavn:"Konvolutt",kjønn:"M",fødselsdato:"1991-09-06",bankkonto:{kontonummer:"",banknavn:""}},arbeidsforhold:ir},dr=[{fom:"2022-12-12",tom:"2023-02-17",kontoType:"FEDREKVOTE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},samtidigUttak:100,flerbarnsdager:!1},{fom:"2023-02-20",tom:"2023-03-05",kontoType:"FELLESPERIODE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},samtidigUttak:50,flerbarnsdager:!1},{fom:"2023-03-20",tom:"2023-03-31",kontoType:"FEDREKVOTE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},flerbarnsdager:!1}],kr="HUNDRE",pr={perioder:dr,dekningsgrad:kr},ur=[{saksnummer:"352011594",sakAvsluttet:!1,sisteSøknadMottattDato:"2023-03-31",kanSøkeOmEndring:!1,sakTilhørerMor:!1,gjelderAdopsjon:!0,morUføretrygd:!1,harAnnenForelderTilsvarendeRettEØS:!1,ønskerJustertUttakVedFødsel:!1,rettighetType:"BEGGE_RETT",annenPart:{type:"person",fnr:"05489305072",fornavn:"Sentral",etternavn:"Tangent"},familiehendelse:{fødselsdato:"2023-02-01",antallBarn:1,omsorgsovertakelse:"2023-04-10"},åpenBehandling:{tilstand:"VENT_INNTEKTSMELDING",søknadsperioder:[{fom:"2023-04-10",tom:"2023-07-21",kontoType:"FEDREKVOTE",flerbarnsdager:!1},{fom:"2023-07-24",tom:"2023-09-15",kontoType:"FELLESPERIODE",morsAktivitet:"UTDANNING",flerbarnsdager:!1}]},barn:[],dekningsgrad:"HUNDRE"}],mr=[],cr={foreldrepenger:ur,engangsstønad:[],svangerskapspenger:mr},gr="2019-02-01",fr="23123",Sr={innsendingstidspunkt:gr,pdf:fr},vr={MØDREKVOTE:95,FEDREKVOTE:95,FELLESPERIODE:90,FORELDREPENGER_FØR_FØDSEL:15,FORELDREPENGER:80},Er={},hr={kontoer:vr,minsteretter:Er},ut="selectedLocale",Ar=()=>sessionStorage.getItem(ut)||"nb",Fr=t=>{sessionStorage.setItem(ut,t)},Ee=({fornavn:t})=>{const n=Ae();return e.jsx(pt,{dokumenttittel:"NAV Foreldrepengesøknad",ingress:N(n,"velkommen.ingress"),tittel:N(n,"velkommen.tittel"),illustrasjon:{tittel:N(n,"velkommen.ikkeMyndig.tittel",{navn:t.toLowerCase()}),tekst:N(n,"velkommen.ikkeMyndig.ingress"),lenke:{tekst:N(n,"velkommen.ikkeMyndig.boblelenketekst"),url:kt.papirsøknad}},skalKunneGåTilbakeTilSøknad:!1})};try{Ee.displayName="IkkeMyndig",Ee.__docgenInfo={description:"",displayName:"IkkeMyndig",props:{fornavn:{defaultValue:null,description:"",name:"fornavn",required:!0,type:{name:"string"}}}}}catch{}const jr=(t,n)=>{const[r,o]=k.useState(t);return k.useEffect(()=>{const i=setTimeout(()=>{o(t)},n);return()=>{clearTimeout(i)}},[t,n]),r};const Nr=({isOpen:t,setIsOpen:n})=>{const r=Ae(),o=Wt("vilDuGåTilbakeModal"),i=lt();return e.jsxs(fe,{className:o.block,"aria-label":"Vil du gå tilbake",closeButton:!1,open:t,onClose:()=>n(!1),children:[e.jsx(D,{padBottom:"l",children:e.jsx(Yt,{size:"small",as:"h1",children:N(r,"uttaksplan.vilDuGåTilbakeModal.tittel")})}),e.jsx(D,{padBottom:"l",children:e.jsx(tt,{children:N(r,"uttaksplan.vilDuGåTilbakeModal.intro")})}),e.jsx(D,{padBottom:"l",children:e.jsx(tt,{children:N(r,"uttaksplan.vilDuGåTilbakeModal.spørsmål")})}),e.jsxs("div",{className:o.element("knapperad"),children:[e.jsx($,{onClick:()=>{n(!1),i(a.UTTAKSPLAN_INFO)},children:e.jsx(G,{id:"uttaksplan.vilDuGåTilbakeModal.okLabel"})}),e.jsx($,{variant:"secondary",onClick:()=>n(!1),children:e.jsx(G,{id:"uttaksplan.vilDuGåTilbakeModal.avbrytLabel"})})]})]})};try{VilDuGTilbakeModal.displayName="VilDuGTilbakeModal",VilDuGTilbakeModal.__docgenInfo={description:"",displayName:"VilDuGTilbakeModal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},setIsOpen:{defaultValue:null,description:"",name:"setIsOpen",required:!0,type:{name:"Dispatch<SetStateAction<boolean>>"}}}}}catch{}const br=zt(),Tr=t=>({ønskerAutomatiskJustering:t!==void 0?Qn(t):$t.UNANSWERED}),Pr=(t,n)=>n!==void 0&&ve(t)&&Fe(t.tidsperiode.fom).isSame(Qt(n).denneEllerNeste(),"day")&&t.forelder===Se.farMedmor&&t.konto===Dn.Fedrekvote&&t.ønskerSamtidigUttak===!0&&t.ønskerFlerbarnsdager!==!0,xr=(t,n,r,o)=>o.type===an.UFØDT&&r&&t.length===1&&Pr(t[0],n),yr=(t,n,r,o,i,l,E)=>t&&Zt(n)&&r==="fødsel"&&o.length!==0&&dt(i)&&l!==void 0&&!E,rt=()=>{const t=Ae(),n=zn(),r=on(),[o,i]=k.useState(!1),[l,E]=k.useState(!0),[j,b]=k.useState(!1),{dispatch:d,state:g}=je(),[Z,gt]=k.useState(g.endringstidspunkt),[L,Q]=k.useState(g.perioderSomSkalSendesInn),ft=r.erEndringssøknad?a.OPPSUMMERING:a.UTENLANDSOPPHOLD,{uttaksplanInfo:St,eksisterendeSak:h,harUttaksplanBlittSlettet:vt,annenPartsUttakErLagtTilIPlan:Ne}=g,{person:K,arbeidsforhold:Et}=n,{annenForelder:m,søker:ht,barn:f,søkersituasjon:U,dekningsgrad:be,erEndringssøknad:P,tilleggsopplysninger:C}=r,{erAleneOmOmsorg:Te}=ht,{situasjon:X}=U,{rolle:Pe}=U,{barnFraNesteSak:A}=g,xe=jr(g,3e3),At=Un(m),H=Xe(m)?!!m.harRettPåForeldrepengerINorge||!!m.harRettPåForeldrepengerIEØS:!1,p=ln(r.søkersituasjon.rolle),w=Mn(!p,Te,m),q=On(p,Te,m),ee=w||q,Ft=H?void 0:p?Se.farMedmor:Se.mor,y=dn(f),M=Ye(y),jt=Hn(m,p),Nt=Rn(K,m,p,t),ye=f.antallBarn,bt=ye>1,Ie=et(Pe,p,m),F=h==null?void 0:h.uttaksplan,Tt=h?h.uttaksplan!==void 0:!1,Pt=!1,xt=$n(St),J=kn(f),te=Xe(m)&&!m.utenlandskFnr?m.fnr:void 0,ne=X==="adopsjon",re=A!==void 0?A.annenForelderFnr:void 0,De=A!==void 0&&A.fnr!==void 0&&A.fnr.length>0?A.fnr[0]:void 0,O=A!==void 0?A.familiehendelsesdato:void 0,I=A!==void 0?A.startdatoFørsteStønadsperiode:void 0,se=!et(U.rolle,p,m),Ue=!dt(f)&&f.fnr!==void 0&&f.fnr.length>0?f.fnr[0]:void 0,Y=!(!ee&&te!==void 0&&te!==""&&(Ue!==void 0||y!==void 0));Kt(a.UTTAKSPLAN);const{eksisterendeSakAnnenPartData:Me,eksisterendeSakAnnenPartError:ae,eksisterendeSakAnnenPartRequestStatus:oe}=x.useGetAnnenPartsVedtak(te,Ue,y,Y),T=k.useMemo(()=>Xn(Me,f,p,y,I),[Me,f,p,y,I]),Oe=Tn(h==null?void 0:h.grunnlag.termindato,T==null?void 0:T.grunnlag.termindato),R=Pn(p,f.antallBarn,T==null?void 0:T.grunnlag.antallBarn);k.useEffect(()=>{if(p&&r.barn.antallBarn!==R){const s={...r,barn:{...r.barn,antallBarn:R}};d(u.setSøknad(s))}},[p,R,d,r]);const ie=!(re!==void 0&&re!==""&&(De!==void 0||O!==void 0)&&(Y||oe===V.FINISHED)),{eksisterendeSakAnnenPartData:yt,eksisterendeSakAnnenPartError:le,eksisterendeSakAnnenPartRequestStatus:Re}=x.useGetAnnenPartsVedtak(re,De,ce(O),ie),W=er(yt);k.useEffect(()=>{if(W!==void 0&&g.barnFraNesteSak!==void 0&&(Fe(W).isBefore(g.barnFraNesteSak.startdatoFørsteStønadsperiode,"d")||g.barnFraNesteSak.startdatoFørsteStønadsperiode===void 0)){const s={...g.barnFraNesteSak,startdatoFørsteStønadsperiode:W};d(u.setBarnFraNesteSak(s))}},[I,W,A,d,g.barnFraNesteSak]);const Ve=qn({erDeltUttak:H,morHarRett:Ie,søkerErAleneOmOmsorg:ee});k.useEffect(()=>{if(h!==void 0&&F!==void 0&&T!==void 0&&!Ne){F.forEach(S=>{if(ve(S)){const z=Vn(T.uttaksplan).finnOverlappendePerioder(S);z.length!==0&&z.find(Je=>_n(Je)&&Je.ønskerSamtidigUttak===!0)&&(S.ønskerSamtidigUttak||(S.ønskerSamtidigUttak=!0,S.samtidigUttakProsent=xn(S.gradert,S.stillingsprosent)))}});const s=Kn(Cn(F,T.uttaksplan,M,I,!0),Ve,M,ne,se,p,I),v={...h,uttaksplan:s};d(u.setUttaksplan(s)),d(u.setEksisterendeSak(v)),d(u.setAnnenPartsUttakErLagtTilIPlan(!0))}},[T,F,M,Ve,ne,se,p,d,I,h,Ne]);const It=()=>{b(!0);const s=jn(C);return[u.setTilleggsopplysninger(s),u.setEndringstidspunkt(Z),u.setPerioderSomSkalSendesInn(L)]},Dt=(s,v)=>{const S=s!==Bn.Ingen?s:void 0,z={...C,begrunnelseForSenEndring:{...C.begrunnelseForSenEndring,tekst:v,ekstraInformasjon:S}};d(u.setTilleggsopplysninger(z))};k.useEffect(()=>{const s=F==null?void 0:F.find(v=>ve(v)&&v.angittAvAnnenPart);if(s&&Z===void 0){const v=s.tidsperiode.fom;d(u.setEndringstidspunkt(v));const S=$e(r.uttaksplan,P,p,F,v);Q(S),d(u.setPerioderSomSkalSendesInn(S))}},[F,d,Z,p,r.uttaksplan,P]);const{handleSubmit:_e,isSubmitting:Ge}=Wn(It,ft,s=>gn(s)),de=Gn(r.uttaksplan,M,J),ke=yr(p,M,X,de,f,J,se),Be=xr(de,J,p,f),Ut=()=>{(ke||P)&&!Be&&d(u.setØnskerJustertUttakVedFødsel(void 0))},Mt=s=>ke&&Be&&s!==void 0,pe=k.useRef(null),Ot=s=>{b(!0),l&&!qe&&(pe.current&&pe.current.handleSubmit(),Ut(),Mt(s.ønskerAutomatiskJustering)&&_e(s))},Rt=Ct(),Vt=Ht();k.useEffect(()=>{x.storeAppState(xe,K.fnr)},[K.fnr,xe]);const _t=Xt(K.kjønn,At,H,w,q,Pe),Le=(Y?!1:oe!==V.FINISHED)||(ie?!1:Re!==V.FINISHED),{tilgjengeligeStønadskontoerData:ue,tilgjengeligeStønadskontoerError:me}=x.useGetUttakskontoer(Qe(ge.HUNDRE_PROSENT,f,m,U,q,w,ce(O),R,Oe),Le),{tilgjengeligeStønadskontoerData:Ke}=x.useGetUttakskontoer(Qe(ge.ÅTTI_PROSENT,f,m,U,q,w,ce(O),R,Oe),Le),Gt=s=>{b(!1),d(u.setUttaksplan(s));const v=Zn(F,s,P);gt(v);const S=$e(s,P,p,F,v);Q(S),d(u.setPerioderSomSkalSendesInn(S))};if(k.useEffect(()=>{if(me)throw B(me),new Error("Vi klarte ikke å hente opp stønadskontoer. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.");if(ae)throw B(ae),new Error("Vi klarte ikke å hente informasjon om saken til annen forelder. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.");if(le)throw B(le),new Error("Vi klarte ikke å hente informasjon om saken til annen forelder for neste barn. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.")},[me,ae,le]),!ue||!Ke||oe!==V.FINISHED&&!Y||Re!==V.FINISHED&&!ie)return e.jsx("div",{style:{textAlign:"center",padding:"12rem 0"},children:e.jsx(it,{size:"2xlarge"})});const Ce=yn(Ke,ue),He=tr(ue.minsteretter.toTette),we=be===ge.HUNDRE_PROSENT?Ce[100]:Ce[80],qe=P&&(L===void 0||L.length===0),Bt=()=>{const s=r.uttaksplan.filter(v=>Ln(v));d(u.slettUttaksplan(s)),d(u.setUttaksplanSlettet(!0))},Lt=()=>{g.eksisterendeSak&&(d(u.setUttaksplan(g.eksisterendeSak.uttaksplan)),d(u.setPerioderSomSkalSendesInn([])),Q([]))};return e.jsx(br.FormikWrapper,{initialValues:Tr(g.søknad.ønskerJustertUttakVedFødsel),onSubmit:_e,innerRef:pe,renderForm:()=>e.jsxs(en,{bannerTitle:N(t,"søknad.pageheading"),activeStepId:"uttaksplan",pageTitle:N(t,"søknad.uttaksplan"),onCancel:Rt,onContinueLater:Vt,steps:wt(t,P),children:[e.jsx(D,{padBottom:"l",children:e.jsx(nr,{eksisterendeSak:h,erIUttaksplanenSteg:!0,tilgjengeligeStønadskontoer:we,minsterettUkerToTette:He})}),e.jsx(wn,{foreldreSituasjon:_t,forelderVedAleneomsorg:Ft,erDeltUttak:H,uttaksplan:r.uttaksplan,familiehendelsesdato:y,handleOnPlanChange:Gt,stønadskontoer:we,navnPåForeldre:Nt,annenForelder:m,arbeidsforhold:Yn(Et,ne,p,Ye(y)),erEndringssøknad:P,erFarEllerMedmor:p,erFlerbarnssøknad:bt,erAleneOmOmsorg:ee,harMidlertidigOmsorg:Pt,situasjon:X,erMorUfør:jt,morHarRett:Ie,søkersituasjon:U,dekningsgrad:be,antallBarn:ye,tilleggsopplysninger:C,setUttaksplanErGyldig:E,handleBegrunnelseChange:Dt,eksisterendeSak:h,perioderSomSkalSendesInn:L,morsSisteDag:xt,harKomplettUttaksplan:Tt,opprinneligPlan:vt?void 0:F,handleSlettUttaksplan:Bt,handleResetUttaksplan:Lt,termindato:J,barn:f,saveAttachment:rr.saveAttachment,visAutomatiskJusteringForm:ke,perioderMedUttakRundtFødsel:de,barnFraNesteSak:A,familiehendelsesdatoNesteSak:O,førsteUttaksdagNesteBarnsSak:I,minsterettUkerToTette:He}),e.jsx(Nr,{isOpen:o,setIsOpen:i}),!l&&j&&e.jsx(D,{textAlignCenter:!0,padBottom:"l",children:e.jsx(We,{variant:"error",children:e.jsx(G,{id:"uttaksplan.validering.kanIkkeGåVidere"})})}),qe&&j&&e.jsx(D,{textAlignCenter:!0,padBottom:"l",children:e.jsx(We,{variant:"error",children:e.jsx(G,{id:"uttaksplan.validering.kanIkkeGåVidereEndringssøknad"})})}),e.jsx(D,{textAlignCenter:!0,padBottom:"l",children:e.jsxs(tn,{children:[!P&&e.jsx($,{variant:"secondary",as:pn,onClick:s=>{s.preventDefault(),i(!0)},to:qt("uttaksplan"),children:e.jsx(G,{id:"backlink.label"})}),e.jsx($,{type:"submit",onClick:Ot,disabled:Ge,loading:Ge,children:N(t,"søknad.gåVidere")})]})})]})})},Ir=(t,n)=>{switch(t){case a.SØKERSITUASJON:return n.harGodkjentVilkår===!0;case a.OPPSUMMERING:return Jn(n.uttaksplan)===!1&&n.uttaksplan.length>0;default:return!0}},Dr=(t,n,r)=>t?r?n?e.jsxs(e.Fragment,{children:[e.jsx(c,{path:a.UTTAKSPLAN,element:e.jsx(rt,{})}),e.jsx(c,{path:a.OPPSUMMERING,element:e.jsx(Ze,{})}),e.jsx(c,{path:a.SØKNAD_SENDT,element:e.jsx(nt,{})})]}):e.jsxs(e.Fragment,{children:[e.jsx(c,{path:a.SØKERSITUASJON,element:e.jsx(Nn,{})}),e.jsx(c,{path:a.OM_BARNET,element:e.jsx(Fn,{})}),e.jsx(c,{path:a.ANNEN_FORELDER,element:e.jsx(hn,{})}),e.jsx(c,{path:a.UTTAKSPLAN_INFO,element:e.jsx(In,{})}),e.jsx(c,{path:a.UTTAKSPLAN,element:e.jsx(rt,{})}),e.jsx(c,{path:a.UTENLANDSOPPHOLD,element:e.jsx(bn,{})}),e.jsx(c,{path:a.INNTEKTSINFORMASJON,element:e.jsx(An,{})}),e.jsx(c,{path:a.OPPSUMMERING,element:e.jsx(Ze,{})}),e.jsx(c,{path:a.SØKNAD_SENDT,element:e.jsx(nt,{})})]}):e.jsx(c,{path:"*",element:e.jsx(ze,{to:a.IKKE_MYNDIG})}):e.jsx(c,{path:"*",element:e.jsx(ze,{to:a.VELKOMMEN})}),Ur=({fornavn:t,locale:n,onChangeLocale:r,currentRoute:o})=>{const{state:i}=je(),l=lt(),E=un(),j=i.søknad.harGodkjentVilkår,b=i.søkerinfo.person.erMyndig,[d,g]=k.useState(!0);return k.useEffect(()=>{o&&b&&j&&d&&(g(!1),Ir(o,i.søknad)?l(o):E.pathname===a.OPPSUMMERING&&l(a.UTTAKSPLAN))},[o,b,j,l,d,i.søknad,E.pathname]),e.jsxs(mn,{children:[e.jsx(c,{path:a.VELKOMMEN,element:e.jsx(En,{fornavn:t,locale:n,saker:i.saker,onChangeLocale:r,fnr:i.søkerinfo.person.fnr})}),e.jsx(c,{path:a.IKKE_MYNDIG,element:e.jsx(Ee,{fornavn:i.søkerinfo.person.fornavn})}),Dr(j,i.søknad.erEndringssøknad,b)]})};try{ForeldrepengesknadRoutes.displayName="ForeldrepengesknadRoutes",ForeldrepengesknadRoutes.__docgenInfo={description:"",displayName:"ForeldrepengesknadRoutes",props:{fornavn:{defaultValue:null,description:"",name:"fornavn",required:!0,type:{name:"string"}},locale:{defaultValue:null,description:"",name:"locale",required:!0,type:{name:"enum",value:[{value:'"nb"'},{value:'"nn"'},{value:'"en"'}]}},onChangeLocale:{defaultValue:null,description:"",name:"onChangeLocale",required:!0,type:{name:"(locale: Locale) => void"}},currentRoute:{defaultValue:null,description:"",name:"currentRoute",required:!0,type:{name:"enum",value:[{value:'"/"'},{value:'"/soknad/sokersituasjon"'},{value:'"/soknad/om-barnet"'},{value:'"/soknad/annen-forelder"'},{value:'"/soknad/uttaksplan-info"'},{value:'"/soknad/uttaksplan"'},{value:'"/soknad/utenlandsopphold"'},{value:'"/soknad/inntektsinformasjon"'},{value:'"/soknad/manglende-vedlegg"'},{value:'"/soknad/oppsummering"'},{value:'"/soknad/soknad-sendt"'},{value:'"ikke-myndig"'}]}}}}}catch{}const Mr=t=>{switch(t){case a.UTTAKSPLAN:case a.OPPSUMMERING:case a.SØKNAD_SENDT:return!0;default:return!1}},Or=t=>t.søknad&&t.søknad.erEndringssøknad&&!Mr(t.currentRoute)?!1:t.version===5,Rr=()=>e.jsx("div",{style:{textAlign:"center",padding:"12rem 0"},children:e.jsx(it,{size:"2xlarge"})}),Vr=({locale:t,onChangeLocale:n})=>{const{søkerinfoData:r,søkerinfoError:o}=x.useSøkerinfo(),{sakerData:i,sakerError:l}=x.useGetSaker(),{storageData:E}=x.useStoredAppState(),{dispatch:j,state:b}=je();return k.useEffect(()=>{E&&Or(E)&&j(u.applyStoredState(E)),r&&j(u.setSøkerinfo(rn(r))),i&&j(u.setSaker(i.foreldrepenger))},[j,E,r,i]),k.useEffect(()=>{if(o)throw B(o),new Error("Vi klarte ikke å hente informasjon om deg. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.");if(l)throw B(l),new Error("Vi klarte ikke å hente informasjon om sakene dine. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.")},[o,l]),!b.søkerinfo||!i?Rr():e.jsx(cn,{children:e.jsx(Ur,{fornavn:b.søkerinfo.person.fornavn,locale:t,onChangeLocale:n,currentRoute:E?E.currentRoute:a.VELKOMMEN})})};try{Foreldrepengesknad.displayName="Foreldrepengesknad",Foreldrepengesknad.__docgenInfo={description:"",displayName:"Foreldrepengesknad",props:{locale:{defaultValue:null,description:"",name:"locale",required:!0,type:{name:"enum",value:[{value:'"nb"'},{value:'"nn"'},{value:'"en"'}]}},onChangeLocale:{defaultValue:null,description:"",name:"onChangeLocale",required:!0,type:{name:"any"}}}}}catch{}class he extends k.Component{constructor(n){super(n),this.state={hasError:!1,error:null}}componentDidCatch(n,r){n&&n.message!=="window.hasFocus is not a function"&&(this.setState({...this.state,hasError:!0,error:n}),fn(o=>{o.setExtras(r),vn(n)}))}render(){var n;if(this.state.hasError){const r=!!this.state.error&&!!this.state.error.message&&this.state.error.message===Sn,o=r?"Feil: for mange vedlegg":"Informasjon om feilen";return e.jsx(pt,{dokumenttittel:"NAV Foreldrepengesøknad",ingress:`${(n=this.state.error)==null?void 0:n.message}`,tittel:o,illustrasjon:{tittel:"Hei!",tekst:"Noe har gått galt med søknaden.",lenke:{tekst:"Her finner du en lenke til brukerstøtte",url:kt.brukerstøtte}},skalKunneGåTilbakeTilSøknad:r})}return this.props.children}}try{he.displayName="ErrorBoundary",he.__docgenInfo={description:"",displayName:"ErrorBoundary",props:{}}}catch{}const _r=()=>{const t=sr();return t?t.name==="ie":!1},mt=Ar();Fe.locale(mt);const Gr=()=>{const[t,n]=k.useState(mt);return k.useEffect(()=>{fe.setAppElement&&fe.setAppElement("#app")}),e.jsx(sn,{children:e.jsx(he,{children:e.jsxs(nn,{locale:t,children:[e.jsx(ar,{skalEndreNettleser:_r()}),e.jsx(Vr,{locale:t,onChangeLocale:r=>{Fr(r),n(r)}})]})})})},ct=Gr;const Cs={title:"AppContainer",component:ct},Br=({søkerinfoData:t,sakerData:n,annenPartVedtakData:r,stønadskontoerData:o,storageKvitteringData:i})=>{const l=new Jt(or);return l.onGet("/sokerinfo").reply(200,t),l.onGet("/innsyn/v2/saker").reply(200,n),l.onGet("/innsyn/v2/annenPartVedtak").reply(200,r),l.onGet("/konto").reply(200,o),l.onGet("/storage/kvittering/foreldrepenger").reply(200,i),l.onPost("/storage").reply(200,{}),l.onPost("/soknad").reply(200,{}),l.onPost("/sendSøknadUrl").reply(200,{}),l.onDelete("/storage").reply(200,{}),e.jsx(ct,{})},_=Br.bind({});_.args={søkerinfoData:lr,sakerData:cr,annenPartVedtakData:pr,stønadskontoerData:hr,storageKvitteringData:Sr};var st,at,ot;_.parameters={..._.parameters,docs:{...(st=_.parameters)==null?void 0:st.docs,source:{originalSource:`({
  søkerinfoData,
  sakerData,
  annenPartVedtakData,
  stønadskontoerData,
  storageKvitteringData
}) => {
  const apiMock = new MockAdapter(AxiosInstance);
  apiMock.onGet('/sokerinfo').reply(200, søkerinfoData);
  apiMock.onGet('/innsyn/v2/saker').reply(200, sakerData);
  apiMock.onGet('/innsyn/v2/annenPartVedtak').reply(200, annenPartVedtakData);
  apiMock.onGet('/konto').reply(200, stønadskontoerData);
  apiMock.onGet('/storage/kvittering/foreldrepenger').reply(200, storageKvitteringData);
  apiMock.onPost('/storage').reply(200, {});
  apiMock.onPost('/soknad').reply(200, {});
  apiMock.onPost('/sendSøknadUrl').reply(200, {});
  apiMock.onDelete('/storage').reply(200, {});
  return <AppContainer />;
}`,...(ot=(at=_.parameters)==null?void 0:at.docs)==null?void 0:ot.source}}};const Hs=["VisApp"];export{_ as VisApp,Hs as __namedExportsOrder,Cs as default};
//# sourceMappingURL=AppContainer.stories-dee22092.js.map
