import{j as e}from"./jsx-runtime-Cw0GR0a5.js";import{u as A,C as b,a as q}from"./FpDataContext-BUlrLNeW.js";import{c as Q,R as Y,N as Z,s as $,d as ee,h as re,j as ne,k as ae,l as _,i as P,u as te,a as se}from"./useFpNavigator-DafGamDo.js";import{g as G,b as j,a as le,j as L,f as w,e as oe,u as ie,R as de,E as ce,S as fe}from"./ErrorSummaryHookForm-BvM45lv_.js";import{u as C,M as f,a as me,B as ue}from"./Label-DlDsESPM.js";import{g as ge,v as pe,m as he,n as ve}from"./barnUtils-CQUJSJjA.js";import{c as g,R as u,U as k,K as B,d as Fe,X as xe,a3 as je,n as D,a0 as V,b as Oe}from"./Uttaksplan-DI8KJW-B.js";import{r as x,a as ke}from"./index-CTjT7uj6.js";import{d as Re,e as Se,b as be}from"./Uttaksdagen-bxFzmdCg.js";import{R as Ie}from"./RegistrertePersonalia-CIfW7sbG.js";import"./index-CYM-y3Gt.js";import{V as y}from"./VStack-CrTlUGgl.js";/**
 * React Router DOM v6.26.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function T(){return T=Object.assign?Object.assign.bind():function(r){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},T.apply(this,arguments)}function Me(r,s){if(r==null)return{};var n={},a=Object.keys(r),i,t;for(t=0;t<a.length;t++)i=a[t],!(s.indexOf(i)>=0)&&(n[i]=r[i]);return n}function Ee(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Ae(r,s){return r.button===0&&(!s||s==="_self")&&!Ee(r)}const Pe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],we="6";try{window.__reactRouterVersion=we}catch{}const Ne="startTransition",K=ke[Ne];function er(r){let{basename:s,children:n,future:a,window:i}=r,t=x.useRef();t.current==null&&(t.current=Q({window:i,v5Compat:!0}));let c=t.current,[m,l]=x.useState({action:c.action,location:c.location}),{v7_startTransition:o}=a||{},d=x.useCallback(p=>{o&&K?K(()=>l(p)):l(p)},[l,o]);return x.useLayoutEffect(()=>c.listen(d),[c,d]),x.createElement(Y,{basename:s,children:n,location:m.location,navigationType:m.action,navigator:c,future:a})}const ye=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Te=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ce=x.forwardRef(function(s,n){let{onClick:a,relative:i,reloadDocument:t,replace:c,state:m,target:l,to:o,preventScrollReset:d,unstable_viewTransition:p}=s,h=Me(s,Pe),{basename:I}=x.useContext(Z),O,R=!1;if(typeof o=="string"&&Te.test(o)&&(O=o,ye))try{let F=new URL(window.location.href),S=o.startsWith("//")?new URL(F.protocol+o):new URL(o),U=$(S.pathname,I);S.origin===F.origin&&U!=null?o=U+S.search+S.hash:R=!0}catch{}let v=ee(o,{relative:i}),M=Ue(o,{replace:c,state:m,target:l,preventScrollReset:d,relative:i,unstable_viewTransition:p});function E(F){a&&a(F),F.defaultPrevented||M(F)}return x.createElement("a",T({},h,{href:O||v,onClick:R||t?a:E,ref:n,target:l}))});var J;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(J||(J={}));var W;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(W||(W={}));function Ue(r,s){let{target:n,replace:a,state:i,preventScrollReset:t,relative:c,unstable_viewTransition:m}=s===void 0?{}:s,l=re(),o=ne(),d=ae(r,{relative:c});return x.useCallback(p=>{if(Ae(p,n)){p.preventDefault();let h=a!==void 0?a:_(o)===_(d);l(r,{replace:h,state:i,preventScrollReset:t,relative:c,unstable_viewTransition:m})}},[o,l,d,a,i,n,r,t,c,m])}const _e=/[\u034f\t\u00a0\u00ad\u061c\u115f\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u200b\u200c\u200d\u200e\u200f\u202d\u202f\u205f\u2060\u2061\u2062\u2063\u2064\u206a\u206b\u206c\u206d\u206e\u206f\u3000\u2800\u3164\ufeff\uffa0\u1160]/g,N=r=>r.replace(_e," "),Le=r=>!r.kanIkkeOppgis,H=({rolle:r,barn:s})=>{const n=C(),a=ge(s),t=G().watch();if(!Le(t))throw Error("Annen forelder skal alltid være oppgitt her");return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs(j,{name:"erAleneOmOmsorg",label:n.formatMessage({id:"annenForelder.aleneOmOmsorg"}),validate:[g(n.formatMessage({id:"valideringsfeil.annenForelder.harAleneOmsorgPåkrevd"}))],children:[e.jsx(u,{value:!1,children:e.jsx(f,{id:"annenForelder.aleneOmOmsorg.ja"})}),e.jsx(u,{value:!0,children:e.jsx(f,{id:"annenForelder.aleneOmOmsorg.nei"})})]}),e.jsx(k,{header:n.formatMessage({id:"annenForelder.aleneOmOmsorg.apneLabel"}),children:e.jsxs(y,{gap:"4",children:[e.jsx(me,{children:e.jsx(f,{id:"annenForelder.aleneOmOmsorg.del1"})}),e.jsx(ue,{children:e.jsx(f,{id:"annenForelder.aleneOmOmsorg.del2"})})]})})]}),!P(r)&&t.erAleneOmOmsorg===!0&&e.jsx(B,{variant:"info",children:e.jsx(f,{id:"annenForelder.veileder.aleneOmsorg.forBarnet"})}),t.erAleneOmOmsorg===!0&&P(r)&&e.jsx(le,{name:"datoForAleneomsorg",label:n.formatMessage({id:"annenForelder.datoForAleneomsorg"}),minDate:Re(a).toDate(),validate:[g(n.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.duMåOppgi"})),Fe(n.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.ugyldigDatoFormat"})),xe(n.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.førFamiliehendelsedato"},{dato:a}),a)]}),t.erAleneOmOmsorg!==!0&&e.jsxs("div",{children:[e.jsxs(j,{name:"harRettPåForeldrepengerINorge",label:n.formatMessage({id:"annenForelder.harRettPåForeldrepengerINorge"}),validate:[g(n.formatMessage({id:"valideringsfeil.annenForelder.harRettTilForeldrepengerPåkrevd"}))],children:[e.jsx(u,{value:!0,children:"Ja"}),e.jsx(u,{value:!1,children:"Nei"})]}),e.jsxs(k,{header:n.formatMessage({id:"annenForelder.harRettPåForeldrepengerINorge.veileder.apneLabel"}),children:[e.jsx(f,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder"}),e.jsxs("ul",{style:{margin:"0",padding:"1rem 2rem 0"},children:[e.jsx("li",{children:e.jsx(f,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt1"})}),e.jsx("li",{children:e.jsx(f,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt2"})}),e.jsx("li",{children:e.jsx(f,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt3"})})]})]})]}),t.erAleneOmOmsorg===!1&&t.harRettPåForeldrepengerINorge===!1&&e.jsxs("div",{children:[e.jsxs(j,{name:"harOppholdtSegIEØS",label:n.formatMessage({id:"annenForelder.harOppholdtSegIEØS"}),validate:[g(n.formatMessage({id:"valideringsfeil.annenForelder.harOppholdtSegIEØS"}))],children:[e.jsx(u,{value:!0,children:"Ja"}),e.jsx(u,{value:!1,children:"Nei"})]}),e.jsx(k,{header:n.formatMessage({id:"annenForelder.harOppholdtSegIEØS.veileder.apneLabel"}),children:e.jsx(f,{id:"annenForelder.harOppholdtSegIEØS.veileder"})})]}),t.erAleneOmOmsorg===!1&&t.harOppholdtSegIEØS===!0&&e.jsxs("div",{children:[e.jsxs(j,{name:"harRettPåForeldrepengerIEØS",label:n.formatMessage({id:"annenForelder.harRettPåForeldrepengerIEØS"}),validate:[g(n.formatMessage({id:"valideringsfeil.annenForelder.harRettPåForeldrepengerIEØS"}))],children:[e.jsx(u,{value:!0,children:"Ja"}),e.jsx(u,{value:!1,children:"Nei"})]}),e.jsx(k,{header:n.formatMessage({id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.apneLabel"}),children:e.jsxs(y,{gap:"4",children:[e.jsx("div",{children:e.jsx(f,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.del1"})}),e.jsx(f,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.del2"}),e.jsx(Ce,{to:"https://www.nav.no/foreldrepenger#utland",target:"_blank",children:e.jsx(f,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.link"})})]})})]}),t.erAleneOmOmsorg!==!0&&t.harRettPåForeldrepengerINorge!==!1&&e.jsxs(e.Fragment,{children:[e.jsxs(j,{name:"erInformertOmSøknaden",label:n.formatMessage({id:"annenForelder.spørsmål.erAnnenForelderInformert"}),validate:[g(n.formatMessage({id:"valideringsfeil.annenForelder.informertAnnenForelderPåkrevd"})),c=>c===!1?n.formatMessage({id:"annenForelder.erAnnenForelderInformert.veileder"}):null],children:[e.jsx(u,{value:!0,children:"Ja"}),e.jsx(u,{value:!1,children:"Nei"})]}),t.erInformertOmSøknaden===!1&&e.jsx(B,{variant:"warning",children:e.jsx(f,{id:"annenForelder.erAnnenForelderInformert.veileder"})})]}),t.erAleneOmOmsorg===!1&&t.harRettPåForeldrepengerINorge===!1&&(t.harOppholdtSegIEØS===!1||t.harRettPåForeldrepengerIEØS===!1)&&P(r)&&e.jsxs("div",{children:[e.jsxs(j,{name:"erMorUfør",label:n.formatMessage({id:"annenForelder.erMorUfør"}),validate:[g(n.formatMessage({id:"valideringsfeil.annenForelder.erMorUfør"}))],children:[e.jsx(u,{value:!0,children:"Ja"}),e.jsx(u,{value:!1,children:"Nei"})]}),e.jsx(k,{header:n.formatMessage({id:"annenForelder.erMorUfør.veileder.apneLabel"}),children:e.jsx(f,{id:"annenForelder.erMorUfør.veileder"})})]})]})};H.__docgenInfo={description:"",methods:[],displayName:"AnnenForelderOppgittPanel"};const z=(r,s)=>n=>he(n,s,r),Be=(r,s)=>s?!1:r!=="medmor",X=({søkersFødselsnummer:r,rolle:s,barn:n})=>{const a=C(),i=be("width"),t=G(),c=t.watch("fornavn"),m=t.watch("utenlandskFnr"),l=t.watch("kanIkkeOppgis");return e.jsxs(e.Fragment,{children:[Be(s,je(n))&&e.jsx(L,{name:"kanIkkeOppgis",label:a.formatMessage({id:"annenForelder.spørsmål.kanOppgis"})}),!l&&e.jsxs(e.Fragment,{children:[e.jsx(w,{name:"fornavn",label:e.jsx(f,{id:"annenForelder.spørsmål.fornavn"}),validate:[g(a.formatMessage({id:"valideringsfeil.annenForelder.fornavnPåkrevd"})),z(a,"annenForelder.spørsmål.fornavn")],className:i.block}),e.jsx(w,{name:"etternavn",label:e.jsx(f,{id:"annenForelder.spørsmål.etternavn"}),validate:[g(a.formatMessage({id:"valideringsfeil.annenForelder.etternavnPåkrevd"})),z(a,"annenForelder.spørsmål.etternavn")],className:i.block})]}),!l&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(w,{name:"fnr",label:a.formatMessage({id:"annenForelder.spørsmål.fnr"},{navn:c}),validate:[g(a.formatMessage({id:"valideringsfeil.annenForelder.fnrPåkrevd"})),pe(a,r,a.formatMessage({id:"annenForelder.spørsmål.fnr"},{navn:c}),m)],className:i.block}),e.jsx(L,{name:"utenlandskFnr",label:a.formatMessage({id:"annenForelder.spørsmål.utenlandskFnr"})})]}),m&&e.jsx(oe,{name:"bostedsland",label:a.formatMessage({id:"annenForelder.bostedsland"}),validate:[g(a.formatMessage({id:"valideringsfeil.annenForelder.bostedslandPåkrevd"}))],children:Se().map(o=>e.jsx("option",{value:o[0],children:o[1]},o[0]))})]})]})};X.__docgenInfo={description:"",methods:[],displayName:"OppgiPersonalia"};const De=(r,s)=>{const n=ve(r,s.barn),a=n===void 0||n.length===0?void 0:n.find(i=>i.annenForelder!==void 0);return a!==void 0?a.annenForelder:void 0},Ve=({søkerInfo:r,mellomlagreSøknadOgNaviger:s,avbrytSøknad:n})=>{const a=C(),i=te(r.arbeidsforhold),t=se(r.arbeidsforhold,s),{rolle:c}=D(A(b.SØKERSITUASJON)),m=D(A(b.OM_BARNET)),l=A(b.ANNEN_FORELDER),o=q(b.ANNEN_FORELDER),d=De(m,r.søker),p=l!==void 0&&V(l)&&l.fnr!==(d==null?void 0:d.fnr),h=d===void 0||p,I=v=>{if(v.kanIkkeOppgis===!0)o({kanIkkeOppgis:!0});else{const M=!h&&d?d.fornavn:v.fornavn,E=!h&&d?d.etternavn:v.etternavn,F=!h&&d?d.fnr:v.fnr;o({...v,kanIkkeOppgis:!1,fornavn:N(M),etternavn:N(E),fnr:N(F.trim()),harRettPåForeldrepengerIEØS:v.harOppholdtSegIEØS?v.harRettPåForeldrepengerIEØS:!1})}return t.goToNextDefaultStep()},O=ie({shouldUnregister:!0,defaultValues:l&&V(l)&&l.fornavn===a.formatMessage({id:"annen.forelder"})?{...l,fornavn:""}:l}),R=O.watch("kanIkkeOppgis");return e.jsx(Oe,{bannerTitle:a.formatMessage({id:"søknad.pageheading"}),onCancel:n,onContinueLater:t.fortsettSøknadSenere,steps:i,children:e.jsx(de,{formMethods:O,onSubmit:I,children:e.jsxs(y,{gap:"10",children:[e.jsx(ce,{}),h&&e.jsx(X,{rolle:c,barn:m,søkersFødselsnummer:r.søker.fnr}),!h&&e.jsx(Ie,{person:d,fødselsnummerForVisning:d.fnr,visEtternavn:!0}),R!==!0&&e.jsx(H,{rolle:c,barn:m,annenForelder:l,søker:r.søker}),e.jsx(fe,{goToPreviousStep:t.goToPreviousDefaultStep})]})})})};Ve.__docgenInfo={description:"",methods:[],displayName:"AnnenForelderSteg"};export{Ve as A,er as B};
