import{d as i,h as J,r as W,ah as V,z as U,C as L,ai as j}from"./Tidsperioden-CBU4jtV4.js";import{c as B,g as Y}from"./index-DVXBtNgz.js";import"./jsx-runtime-_e34SzbC.js";import"./index--IHLcpuH.js";import{v as k,I as Z,J as H,K as N,P as R,L as C,M as b,N as Q}from"./useFpNavigator-CQ8jPcwN.js";import"./_baseToString-CUxX9raG.js";import"./_createSet-BJbToUt4.js";import{i as X}from"./index-BI6FGWNT.js";import{c as M}from"./barnUtils-CzrFcN1F.js";var z=(e=>(e.visFeilside="FEATURE_VIS_FEILSIDE",e.visAlertstripe="FEATURE_VIS_ALERTSTRIPE",e.test1Juli2024Regler="FEATURE_TEST_1JULI2024_REGLER",e))(z||{});const q=()=>{const e=document.getElementById("nav:appSettings"),t=JSON.parse(e.text);return{APP_VERSION:t.APP_VERSION,INNSYN:t.INNSYN,[z.visFeilside]:t[z.visFeilside],[z.visAlertstripe]:t[z.visAlertstripe],[z.test1Juli2024Regler]:t[z.test1Juli2024Regler]}},T=q();var G={exports:{}};(function(e,t){(function(o,n){e.exports=n()})(B,function(){var o={year:0,month:1,day:2,hour:3,minute:4,second:5},n={};return function(h,c,a){var r,E=function(s,g,m){m===void 0&&(m={});var d=new Date(s),p=function(x,v){v===void 0&&(v={});var D=v.timeZoneName||"short",O=x+"|"+D,S=n[O];return S||(S=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:x,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:D}),n[O]=S),S}(g,m);return p.formatToParts(d)},f=function(s,g){for(var m=E(s,g),d=[],p=0;p<m.length;p+=1){var x=m[p],v=x.type,D=x.value,O=o[v];O>=0&&(d[O]=parseInt(D,10))}var S=d[3],I=S===24?0:S,$=d[0]+"-"+d[1]+"-"+d[2]+" "+I+":"+d[4]+":"+d[5]+":000",w=+s;return(a.utc($).valueOf()-(w-=w%1e3))/6e4},l=c.prototype;l.tz=function(s,g){s===void 0&&(s=r);var m=this.utcOffset(),d=this.toDate(),p=d.toLocaleString("en-US",{timeZone:s}),x=Math.round((d-new Date(p))/1e3/60),v=a(p,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(15*-Math.round(d.getTimezoneOffset()/15)-x,!0);if(g){var D=v.utcOffset();v=v.add(m-D,"minute")}return v.$x.$timezone=s,v},l.offsetName=function(s){var g=this.$x.$timezone||a.tz.guess(),m=E(this.valueOf(),g,{timeZoneName:s}).find(function(d){return d.type.toLowerCase()==="timezonename"});return m&&m.value};var u=l.startOf;l.startOf=function(s,g){if(!this.$x||!this.$x.$timezone)return u.call(this,s,g);var m=a(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return u.call(m,s,g).tz(this.$x.$timezone,!0)},a.tz=function(s,g,m){var d=m&&g,p=m||g||r,x=f(+a(),p);if(typeof s!="string")return a(s).tz(p);var v=function(I,$,w){var F=I-60*$*1e3,A=f(F,w);if($===A)return[F,$];var y=f(F-=60*(A-$)*1e3,w);return A===y?[F,A]:[I-60*Math.min(A,y)*1e3,Math.max(A,y)]}(a.utc(s,d).valueOf(),x,p),D=v[0],O=v[1],S=a(D).utcOffset(O);return S.$x.$timezone=p,S},a.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},a.tz.setDefault=function(s){r=s}}})})(G);var K=G.exports;const ee=Y(K);var P={exports:{}};(function(e,t){(function(o,n){e.exports=n()})(B,function(){return function(o,n){var h=n.prototype,c=h.format;h.format=function(a){var r=this,E=this.$locale();if(!this.isValid())return c.bind(this)(a);var f=this.$utils(),l=(a||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(u){switch(u){case"Q":return Math.ceil((r.$M+1)/3);case"Do":return E.ordinal(r.$D);case"gggg":return r.weekYear();case"GGGG":return r.isoWeekYear();case"wo":return E.ordinal(r.week(),"W");case"w":case"ww":return f.s(r.week(),u==="w"?1:2,"0");case"W":case"WW":return f.s(r.isoWeek(),u==="W"?1:2,"0");case"k":case"kk":return f.s(String(r.$H===0?24:r.$H),u==="k"?1:2,"0");case"X":return Math.floor(r.$d.getTime()/1e3);case"x":return r.$d.getTime();case"z":return"["+r.offsetName()+"]";case"zzz":return"["+r.offsetName("long")+"]";default:return u}});return c.bind(this)(l)}}})})(P);var te=P.exports;const re=Y(te),ge=e=>k(e)?e.erAleneOmOmsorg:!0,pe=e=>k(e)?e.datoForAleneomsorg:void 0,Ee=(e,t)=>{var h;const o=k(e)&&e.utenlandskFnr!==!0?e.fnr:void 0,n=X(t)&&t.fnr!==void 0&&((h=t.fnr)==null?void 0:h.length)>0?t.fnr[0]:void 0;return{annenPartFødselsnummer:o,barnFødselsnummer:n,familiehendelse:M(t)}},Se=e=>{const t=k(e)&&e.utenlandskFnr!==!0?e.fnr:void 0;return!(t!==void 0&&t!=="")},se=e=>k(e)?!!e.harRettPåForeldrepengerINorge||!!e.harRettPåForeldrepengerIEØS:!1,ie=e=>!!(T[e]&&T[e].toLowerCase()==="on"),oe={isFeatureEnabled:ie};i.extend(J);i.extend(W);i.extend(V);i.extend(ee);i.extend(re);const xe=i().subtract(4,"year").startOf("day").toDate(),_=(e,t)=>!U(e)||!U(t)||!L(e)||!L(t)?!1:!!i(e).isBefore(t,"day"),De=e=>[...e].sort((t,o)=>_(t.fødselsdato,o.fødselsdato)?1:-1)[e.length-1],ze=e=>[...e].map(o=>j(o)).sort((o,n)=>_(o,n)?-1:1),Oe=(e,t,o)=>{if(o!==void 0)return o;if(t!==void 0)return t;if(e!==void 0)return e;throw new Error("Mangler fødselsdato/termindato/adopsjonsdato for barnet.")},$e=e=>{const t=new Date("2021-10-01");return i(e).isSameOrAfter(t,"day")&&i(new Date).isSameOrAfter(t,"day")},Ae=e=>{let t="2024-07-01";if(oe.isFeatureEnabled(z.test1Juli2024Regler)&&(t="2024-06-18"),i().isBefore(i(t),"day"))return!1;const o=M(e);return!((Z(e)||H(e))&&i(o).isBefore(t,"day"))},we=(e,t,o)=>{if(!o)return;const n=e===void 0?void 0:e.filter(r=>!N(r)),h=t.filter(r=>!N(r));let c,a;if(n)h.forEach((r,E)=>{if(c)return;const{fom:f}=r.tidsperiode,l=n.find(u=>i(u.tidsperiode.fom).isSame(f,"day"));if(l!==void 0){const u=R(r).erLik(l,!1,!0);(!u||u&&R(r).slutterEtter(l.tidsperiode.tom))&&(c=f)}if(l===void 0&&(c=f),l!==void 0&&h.length-1===E&&(R(r).erLik(l,!0,!0)||(c=f)),c&&C(r)&&i(c).isAfter(n[n.length-1].tidsperiode.tom)){const u=h.find(s=>(b(s)||Q(s))&&i(s.tidsperiode.fom).isAfter(c));c=u!==void 0?u.tidsperiode.fom:c}}),n.forEach(r=>{if(a)return;const{fom:E}=r.tidsperiode,f=h.find(l=>i(l.tidsperiode.fom).isSame(E,"day"));f!==void 0&&!R(r).erLik(f,!1,!0)&&(a=f.tidsperiode.fom),f===void 0&&(a=E)});else if(h.length>0)return h[0].tidsperiode.fom;return ne(c,a)},ne=(e,t)=>{if(!(e===void 0&&t===void 0))return e!==void 0&&t===void 0?e:e===void 0&&t!==void 0?t:i(e).isSameOrBefore(i(t))?e:t},ke=(e,t)=>{const o=M(e),n=se(t);return i(o).isSameOrAfter(i("2024-07-01"),"d")&&i().isBefore(i("2024-07-01"),"d")&&n&&e.antallBarn===1};export{T as E,ke as a,Ee as b,De as c,ze as d,xe as e,Ae as f,Oe as g,ge as h,_ as i,pe as j,se as k,$e as l,we as m,Se as s,ee as t};
