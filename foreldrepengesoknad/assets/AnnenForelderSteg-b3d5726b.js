import{j as e}from"./jsx-runtime-1caa8f64.js";import{b as V,R as c,a as g,D as q,c as T,T as j,S as w,u as J,F as H,E as $,d as W}from"./ErrorSummaryHookForm-7bca43c9.js";import{u as b,b as t,R as k,d as X,$ as Y,J as Z,j as z,S as Q}from"./Tidsperioden-42a1bdbe.js";import{h as ee,i as f,J as O,Y as re,Z as ne,K as S,_ as ae,X as se,n as y,$ as E}from"./dateFormValidation-5ec6c7b9.js";import"./index-753920cd.js";import"./index-1cdf6ce0.js";import"./_baseToString-2517c4f7.js";import"./_createSet-019d3bf6.js";import{u as le,a as te}from"./useFpNavigator-94b086ce.js";import{u as R,C as x,a as oe}from"./FpDataContext-91c673b7.js";import{e as de,i as ie}from"./barnUtils-43809280.js";import{R as me}from"./RegistrertePersonalia-1144fe13.js";import{L as pe}from"./index-0ee3e80d.js";import{l as ge}from"./links-022380bf.js";import{V as A,A as I}from"./Step-b0b81968.js";import{a as fe,B as Fe}from"./Link-1e7d9fc8.js";import{v as ue}from"./validationUtil-649b7446.js";var D=(r=>(r.UOPPGITT="UOPPGITT",r.UGIFT="UGIFT",r.GIFT="GIFT",r.ENKE_ELLER_ENKEMANN="ENKE_ELLER_ENKEMANN",r.SKILT="SKILT",r.SEPARERT="SEPARERT",r.REGISTRERT_PARTNER="REGISTRERT_PARTNER",r.SEPARERT_PARTNER="SEPARERT_PARTNER",r.SKILT_PARTNER="SKILT_PARTNER",r.GJENLEVENDE_PARTNER="GJENLEVENDE_PARTNER",r))(D||{});const ce=r=>!r.kanIkkeOppgis,he=(r,l,o,s,n)=>{const m=o.harRettPåForeldrepengerINorge===!0,p=(s&&S(s)?s.fnr:void 0)||o.fnr,d=p!==void 0&&ae(p)==="M"||o.utenlandskFnr,a=o.harRettPåForeldrepengerINorge!==void 0,i=r.sivilstand===void 0||r.sivilstand.type!==D.GIFT;return(l==="far"&&a||l==="mor"&&d&&m)&&n&&i},ve=(r,l)=>r==="far"&&l?"annenForelder.tekstOmFarskapsportal.far.del1":r==="mor"&&l?"annenForelder.tekstOmFarskapsportal.mor.del1":"",N=({søker:r,rolle:l,barn:o,annenForelder:s})=>{const n=b(),m=de(o),F=V(),p=ee(o),d=ve(l,p),a=F.watch();if(!ce(a))throw Error("Annen forelder skal alltid være oppgitt her");const i=he(r,l,a,s,p);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs(c,{name:"erAleneOmOmsorg",label:n.formatMessage({id:"annenForelder.aleneOmOmsorg"}),validate:[f(n.formatMessage({id:"valideringsfeil.annenForelder.harAleneOmsorgPåkrevd"}))],children:[e.jsx(g,{value:!1,children:e.jsx(t,{id:"annenForelder.aleneOmOmsorg.ja"})}),e.jsx(g,{value:!0,children:e.jsx(t,{id:"annenForelder.aleneOmOmsorg.nei"})})]}),e.jsx(k,{header:n.formatMessage({id:"annenForelder.aleneOmOmsorg.apneLabel"}),children:e.jsxs(A,{gap:"4",children:[e.jsx(fe,{children:e.jsx(t,{id:"annenForelder.aleneOmOmsorg.del1"})}),e.jsx(Fe,{children:e.jsx(t,{id:"annenForelder.aleneOmOmsorg.del2"})})]})})]}),!O(l)&&a.erAleneOmOmsorg===!0&&e.jsx(I,{variant:"info",children:e.jsx(t,{id:"annenForelder.veileder.aleneOmsorg.forBarnet"})}),a.erAleneOmOmsorg===!0&&O(l)&&e.jsx(q,{name:"datoForAleneomsorg",label:n.formatMessage({id:"annenForelder.datoForAleneomsorg"}),minDate:X(m).toDate(),validate:[f(n.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.duMåOppgi"})),re(n.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.ugyldigDatoFormat"})),ne(n.formatMessage({id:"valideringsfeil.annenForelder.datoForAleneomsorg.førFamiliehendelsedato"},{dato:m}),m)]}),a.erAleneOmOmsorg!==!0&&e.jsxs("div",{children:[e.jsxs(c,{name:"harRettPåForeldrepengerINorge",label:n.formatMessage({id:"annenForelder.harRettPåForeldrepengerINorge"}),validate:[f(n.formatMessage({id:"valideringsfeil.annenForelder.harRettTilForeldrepengerPåkrevd"}))],children:[e.jsx(g,{value:!0,children:"Ja"}),e.jsx(g,{value:!1,children:"Nei"})]}),e.jsxs(k,{header:n.formatMessage({id:"annenForelder.harRettPåForeldrepengerINorge.veileder.apneLabel"}),children:[e.jsx(t,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder"}),e.jsxs("ul",{style:{margin:"0",padding:"1rem 2rem 0"},children:[e.jsx("li",{children:e.jsx(t,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt1"})}),e.jsx("li",{children:e.jsx(t,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt2"})}),e.jsx("li",{children:e.jsx(t,{id:"annenForelder.harRettPåForeldrepengerINorge.veileder.punkt3"})})]})]})]}),a.erAleneOmOmsorg===!1&&i&&e.jsxs(I,{variant:"info",children:[e.jsx(t,{id:d,values:{a:h=>e.jsx("a",{href:ge.farskapsportal,className:"lenke",rel:"noreferrer",target:"_blank",children:h})}}),e.jsx(t,{id:"annenForelder.tekstOmFarskapsportal.mor.far.del2"})]}),a.erAleneOmOmsorg===!1&&a.harRettPåForeldrepengerINorge===!1&&e.jsxs("div",{children:[e.jsxs(c,{name:"harOppholdtSegIEØS",label:n.formatMessage({id:"annenForelder.harOppholdtSegIEØS"}),validate:[f(n.formatMessage({id:"valideringsfeil.annenForelder.harOppholdtSegIEØS"}))],children:[e.jsx(g,{value:!0,children:"Ja"}),e.jsx(g,{value:!1,children:"Nei"})]}),e.jsx(k,{header:n.formatMessage({id:"annenForelder.harOppholdtSegIEØS.veileder.apneLabel"}),children:e.jsx(t,{id:"annenForelder.harOppholdtSegIEØS.veileder"})})]}),a.erAleneOmOmsorg===!1&&a.harOppholdtSegIEØS===!0&&e.jsxs("div",{children:[e.jsxs(c,{name:"harRettPåForeldrepengerIEØS",label:n.formatMessage({id:"annenForelder.harRettPåForeldrepengerIEØS"}),validate:[f(n.formatMessage({id:"valideringsfeil.annenForelder.harRettPåForeldrepengerIEØS"}))],children:[e.jsx(g,{value:!0,children:"Ja"}),e.jsx(g,{value:!1,children:"Nei"})]}),e.jsx(k,{header:n.formatMessage({id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.apneLabel"}),children:e.jsxs(A,{gap:"4",children:[e.jsx("div",{children:e.jsx(t,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.del1"})}),e.jsx(t,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.del2"}),e.jsx(pe,{to:"https://www.nav.no/foreldrepenger#utland",target:"_blank",children:e.jsx(t,{id:"annenForelder.harRettPåForeldrepengerIEØS.veileder.link"})})]})})]}),a.erAleneOmOmsorg!==!0&&a.harRettPåForeldrepengerINorge!==!1&&e.jsxs(e.Fragment,{children:[e.jsxs(c,{name:"erInformertOmSøknaden",label:n.formatMessage({id:"annenForelder.spørsmål.erAnnenForelderInformert"}),validate:[f(n.formatMessage({id:"valideringsfeil.annenForelder.informertAnnenForelderPåkrevd"})),h=>h===!1?n.formatMessage({id:"annenForelder.erAnnenForelderInformert.veileder"}):null],children:[e.jsx(g,{value:!0,children:"Ja"}),e.jsx(g,{value:!1,children:"Nei"})]}),a.erInformertOmSøknaden===!1&&e.jsx(I,{variant:"warning",children:e.jsx(t,{id:"annenForelder.erAnnenForelderInformert.veileder"})})]}),a.erAleneOmOmsorg===!1&&a.harRettPåForeldrepengerINorge===!1&&(a.harOppholdtSegIEØS===!1||a.harRettPåForeldrepengerIEØS===!1)&&O(l)&&e.jsxs("div",{children:[e.jsxs(c,{name:"erMorUfør",label:n.formatMessage({id:"annenForelder.erMorUfør"}),validate:[f(n.formatMessage({id:"valideringsfeil.annenForelder.erMorUfør"}))],children:[e.jsx(g,{value:!0,children:"Ja"}),e.jsx(g,{value:!1,children:"Nei"})]}),e.jsx(k,{header:n.formatMessage({id:"annenForelder.erMorUfør.veileder.apneLabel"}),children:e.jsx(t,{id:"annenForelder.erMorUfør.veileder"})})]})]})};try{N.displayName="AnnenForelderOppgittPanel",N.__docgenInfo={description:"",displayName:"AnnenForelderOppgittPanel",props:{søker:{defaultValue:null,description:"",name:"søker",required:!0,type:{name:"Søker"}},rolle:{defaultValue:null,description:"",name:"rolle",required:!0,type:{name:"enum",value:[{value:'"far"'},{value:'"medmor"'},{value:'"mor"'}]}},barn:{defaultValue:null,description:"",name:"barn",required:!0,type:{name:"Barn"}},annenForelder:{defaultValue:null,description:"",name:"annenForelder",required:!1,type:{name:"AnnenForelder"}}}}}catch{}const L=(r,l)=>o=>Z(o,l,r),ke=(r,l)=>l?!1:r!=="medmor",P=({søkersFødselsnummer:r,rolle:l,barn:o})=>{const s=b(),n=z("width"),m=V(),F=m.watch("fornavn"),p=m.watch("utenlandskFnr"),d=m.watch("kanIkkeOppgis");return e.jsxs(e.Fragment,{children:[ke(l,se(o))&&e.jsx(T,{name:"kanIkkeOppgis",label:s.formatMessage({id:"annenForelder.spørsmål.kanOppgis"})}),!d&&e.jsxs(e.Fragment,{children:[e.jsx(j,{name:"fornavn",label:e.jsx(t,{id:"annenForelder.spørsmål.fornavn"}),validate:[f(s.formatMessage({id:"valideringsfeil.annenForelder.fornavnPåkrevd"})),L(s,"annenForelder.spørsmål.fornavn")],className:n.block}),e.jsx(j,{name:"etternavn",label:e.jsx(t,{id:"annenForelder.spørsmål.etternavn"}),validate:[f(s.formatMessage({id:"valideringsfeil.annenForelder.etternavnPåkrevd"})),L(s,"annenForelder.spørsmål.etternavn")],className:n.block})]}),!d&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(j,{name:"fnr",label:s.formatMessage({id:"annenForelder.spørsmål.fnr"},{navn:F}),validate:[f(s.formatMessage({id:"valideringsfeil.annenForelder.fnrPåkrevd"})),ue(s,r,s.formatMessage({id:"annenForelder.spørsmål.fnr"},{navn:F}),p)],className:n.block}),e.jsx(T,{name:"utenlandskFnr",label:s.formatMessage({id:"annenForelder.spørsmål.utenlandskFnr"})})]}),p&&e.jsx(w,{name:"bostedsland",label:s.formatMessage({id:"annenForelder.bostedsland"}),validate:[f(s.formatMessage({id:"valideringsfeil.annenForelder.bostedslandPåkrevd"}))],children:Y().map(a=>e.jsx("option",{value:a[0],children:a[1]},a[0]))})]})]})};try{P.displayName="OppgiPersonalia",P.__docgenInfo={description:"",displayName:"OppgiPersonalia",props:{søkersFødselsnummer:{defaultValue:null,description:"",name:"søkersFødselsnummer",required:!0,type:{name:"string"}},rolle:{defaultValue:null,description:"",name:"rolle",required:!0,type:{name:"enum",value:[{value:'"far"'},{value:'"medmor"'},{value:'"mor"'}]}},barn:{defaultValue:null,description:"",name:"barn",required:!0,type:{name:"Barn"}}}}}catch{}const xe=(r,l)=>{const o=ie(r,l.barn),s=o===void 0||o.length===0?void 0:o.find(n=>n.annenForelder!==void 0);return s!==void 0?s.annenForelder:void 0},M=({søkerInfo:r,mellomlagreSøknadOgNaviger:l,avbrytSøknad:o})=>{const s=b(),n=le(r.arbeidsforhold),m=te(r.arbeidsforhold,l),{rolle:F}=y(R(x.SØKERSITUASJON)),p=y(R(x.OM_BARNET)),d=R(x.ANNEN_FORELDER),a=oe(x.ANNEN_FORELDER),i=xe(p,r.søker),h=d!==void 0&&S(d)&&d.fnr!==(i==null?void 0:i.fnr),v=i===void 0||h,U=u=>{if(u.kanIkkeOppgis===!0)a({kanIkkeOppgis:!0});else{const B=!v&&i?i.fornavn:u.fornavn,C=!v&&i?i.etternavn:u.etternavn,K=!v&&i?i.fnr:u.fnr;a({...u,kanIkkeOppgis:!1,fornavn:E(B),etternavn:E(C),fnr:E(K.trim()),harRettPåForeldrepengerIEØS:u.harOppholdtSegIEØS?u.harRettPåForeldrepengerIEØS:!1})}return m.goToNextDefaultStep()},_=J({shouldUnregister:!0,defaultValues:d&&S(d)&&d.fornavn===s.formatMessage({id:"annen.forelder"})?{...d,fornavn:""}:d}),G=_.watch("kanIkkeOppgis");return e.jsx(Q,{bannerTitle:s.formatMessage({id:"søknad.pageheading"}),onCancel:o,onContinueLater:m.fortsettSøknadSenere,steps:n,children:e.jsx(H,{formMethods:_,onSubmit:U,children:e.jsxs(A,{gap:"10",children:[e.jsx($,{}),v&&e.jsx(P,{rolle:F,barn:p,søkersFødselsnummer:r.søker.fnr}),!v&&e.jsx(me,{person:i,fødselsnummerForVisning:i.fnr,visEtternavn:!0}),G!==!0&&e.jsx(N,{rolle:F,barn:p,annenForelder:d,søker:r.søker}),e.jsx(W,{goToPreviousStep:m.goToPreviousDefaultStep})]})})})},Ue=M;try{M.displayName="AnnenForelderSteg",M.__docgenInfo={description:"",displayName:"AnnenForelderSteg",props:{søkerInfo:{defaultValue:null,description:"",name:"søkerInfo",required:!0,type:{name:"Søkerinfo"}},mellomlagreSøknadOgNaviger:{defaultValue:null,description:"",name:"mellomlagreSøknadOgNaviger",required:!0,type:{name:"() => Promise<void>"}},avbrytSøknad:{defaultValue:null,description:"",name:"avbrytSøknad",required:!0,type:{name:"() => void"}}}}}catch{}export{Ue as A};
