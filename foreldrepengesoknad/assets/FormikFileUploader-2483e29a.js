import{j as e}from"./jsx-runtime-1caa8f64.js";import{b as r,j as u,u as _,q as A,c as v,r as E,s as b,t as T,v as N,i as I}from"./dates-3e7e1342.js";import{r as B}from"./index-1cdf6ce0.js";import"./index-753920cd.js";import"./_baseToString-2517c4f7.js";import"./_createSet-019d3bf6.js";import{U,u as q,V as C,l as P}from"./IntlProvider-c123bdc0.js";import{E as p}from"./ExpansionCard-f4140baf.js";import{L as z,B as w}from"./Link-d47e444a.js";import{E as K}from"./axios-91b57d60.js";import{g as R}from"./apiInterceptor-7536bacb.js";import{A as O}from"./AttachmentList-5a98cfe1.js";const G=()=>e.jsx(U,{children:e.jsxs(p,{size:"small","aria-label":q().formatMessage({id:"ScanDocumentInfo.Tittel"}),children:[e.jsx(p.Header,{children:e.jsx(p.Title,{size:"small",as:"h4",children:e.jsx(r,{id:"ScanDocumentInfo.Tittel"})})}),e.jsx(p.Content,{children:e.jsxs(C,{gap:"5",children:[e.jsx(u,{children:e.jsx(r,{id:"ScanDocumentInfo.Del1"})}),e.jsxs("ul",{children:[e.jsx(u,{children:e.jsx(r,{tagName:"li",id:"ScanDocumentInfo.Liste.Punkt1"})}),e.jsx(u,{children:e.jsx(r,{tagName:"li",id:"ScanDocumentInfo.Liste.Punkt2"})}),e.jsx(u,{children:e.jsx(r,{tagName:"li",id:"ScanDocumentInfo.Liste.Punkt3"})}),e.jsx(u,{children:e.jsx(r,{tagName:"li",id:"ScanDocumentInfo.Liste.Punkt4"})}),e.jsx(u,{children:e.jsx(r,{tagName:"li",id:"ScanDocumentInfo.Liste.Punkt5"})})]}),e.jsx(u,{children:e.jsx(r,{id:"ScanDocumentInfo.Del2"})}),e.jsx(u,{children:e.jsx(z,{href:P.scanneDokument,target:"_blank",children:e.jsx(r,{id:"ScanDocumentInfo.Link"})})})]})})]})});function M(t){const a={withCredentials:!0,timeout:45e3,headers:{"content-type":"multipart/form-data"}},l=new FormData;l.append("id",t.id),l.append("vedlegg",t.file,t.filename);const i=`${K.REST_API_URL}/storage/foreldrepenger/vedlegg`;return R().post(i,l,a)}const $={saveAttachment:M},k=[".pdf",".jpeg",".jpg",".png"],y=16777,X=.0009765625,Y=(t,a,l)=>t.map(i=>{const s=N(i,a,l);return s.pending=!0,s}),H=t=>{const a=t.split(".").pop();return k.includes(`.${a.toLowerCase()}`)},W=t=>t*X<=y,J=(t,a,l)=>t.filter(i=>{const s=H(i.filename);s||a(n=>n.concat(I(l,"vedlegg.feilmelding.ugyldig.type",{filename:i.filename})));const c=W(i.filesize);return c||a(n=>n.concat(I(l,"vedlegg.feilmelding.ugyldig.størrelse",{filename:i.filename,maxStørrelse:y}))),s&&c}),Q=(t,a,l,i,s,c)=>{t.forEach(async(n,d)=>{try{const m=await $.saveAttachment(n);n.pending=!1,n.url=m.headers.location,n.uploaded=!0,n.uuid=m.data,a(s+d,n)}catch{l(s+d),i(f=>f.concat(I(c,"vedlegg.feilmelding.opplasting.feilet",{filename:n.filename})))}})},g=({attachments:t,name:a,onFileInputClick:l,attachmentType:i,skjemanummer:s,label:c,legend:n,...d})=>{const m=_(),{setFieldValue:f}=A(),[j,h]=B.useState([]);return e.jsxs(e.Fragment,{children:[e.jsx(v,{padBottom:"xl",children:e.jsx(E,{legend:n,buttonLabel:c,name:a,accept:k.join(", "),onFilesSelect:(o,{push:F,replace:S,remove:D})=>{const V=Y(o,i,s),x=J(V,h,m);x.forEach(L=>F(L)),Q(x,S,D,h,t.length,m)},onClick:l,error:j.length>0?j.map(o=>e.jsx(w,{children:o},o)):void 0,...d})}),e.jsx(v,{padBottom:"xl",visible:t.length>0,children:e.jsx(O,{attachments:t.filter(o=>!b(o)),showFileSize:!0,onDelete:o=>{f(a,T(t,o))}})}),e.jsx(v,{padBottom:"l",children:e.jsx(G,{})})]})},me=g;try{g.displayName="FormikFileUploader",g.__docgenInfo={description:"",displayName:"FormikFileUploader",props:{attachments:{defaultValue:null,description:"",name:"attachments",required:!0,type:{name:"Attachment[]"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"any"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},attachmentType:{defaultValue:null,description:"",name:"attachmentType",required:!0,type:{name:"enum",value:[{value:'"omsorgsovertakelse"'},{value:'"adopsjonsvedtak"'},{value:'"terminbekreftelse"'},{value:'"fødselsattest"'},{value:'"anneninntektDokumentasjon"'},{value:'"utsettelseSykdomUttaksplan"'},{value:'"morsaktivitetdokumentasjon"'},{value:'"dokumentasjonOverføringAvKvote"'},{value:'"dokumentasjonAvAleneomsorg"'},{value:'"hvØvelse"'},{value:'"navTiltak"'},{value:'"tilbakebetaling"'},{value:'"tilrettelegging"'}]}},skjemanummer:{defaultValue:null,description:"",name:"skjemanummer",required:!0,type:{name:"enum",value:[{value:'"I000062"'},{value:'"I000141"'},{value:'"I000042"'},{value:'"I000051"'},{value:'"I000133"'},{value:'"I000065"'},{value:'"I000061"'},{value:'"I000036"'},{value:'"I000110"'},{value:'"I000111"'},{value:'"I000118"'},{value:'"I000112"'},{value:'"I000037"'},{value:'"I000124"'},{value:'"I000120"'},{value:'"I000122"'},{value:'"I000121"'},{value:'"I000123"'},{value:'"I000130"'},{value:'"I000131"'},{value:'"I000132"'},{value:'"I000039"'},{value:'"I000038"'},{value:'"I000023"'},{value:'"I000044"'},{value:'"I000063"'},{value:'"I000007"'},{value:'"I000109"'},{value:'"I000114"'},{value:'"I000119"'},{value:'"I000116"'},{value:'"I000117"'},{value:'"I000032"'},{value:'"I000066"'},{value:'"I000140"'},{value:'"I000060"'}]}},legend:{defaultValue:null,description:"",name:"legend",required:!0,type:{name:"string"}},onFileInputClick:{defaultValue:null,description:"",name:"onFileInputClick",required:!1,type:{name:"(() => void)"}}}}}catch{}export{me as F};
