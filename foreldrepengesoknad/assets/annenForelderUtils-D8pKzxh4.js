import{v as J,U as s,dp as Q,dq as K,dr as W,b2 as x,c4 as X,c5 as ee,bK as L,df as p,ds as te,i as re,$ as se,cx as ne,cw as ae,b3 as q,dt as oe,I as U,du as ie,a8 as P,bD as de,b1 as B,C as b}from"./iframe-80xrIdFK.js";var w={exports:{}},ue=w.exports,j;function fe(){return j||(j=1,(function(e,t){(function(a,i){e.exports=i()})(ue,(function(){return function(a,i){var d=i.prototype,o=d.format;d.format=function(c){var u=this,y=this.$locale();if(!this.isValid())return o.bind(this)(c);var g=this.$utils(),v=(c||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(h){switch(h){case"Q":return Math.ceil((u.$M+1)/3);case"Do":return y.ordinal(u.$D);case"gggg":return u.weekYear();case"GGGG":return u.isoWeekYear();case"wo":return y.ordinal(u.week(),"W");case"w":case"ww":return g.s(u.week(),h==="w"?1:2,"0");case"W":case"WW":return g.s(u.isoWeek(),h==="W"?1:2,"0");case"k":case"kk":return g.s(String(u.$H===0?24:u.$H),h==="k"?1:2,"0");case"X":return Math.floor(u.$d.getTime()/1e3);case"x":return u.$d.getTime();case"z":return"["+u.offsetName()+"]";case"zzz":return"["+u.offsetName("long")+"]";default:return h}}));return o.bind(this)(v)}}}))})(w)),w.exports}var ce=fe();const le=J(ce);var I={exports:{}},me=I.exports,G;function ge(){return G||(G=1,(function(e,t){(function(a,i){e.exports=i()})(me,(function(){var a={year:0,month:1,day:2,hour:3,minute:4,second:5},i={};return function(d,o,c){var u,y=function(f,r,n){n===void 0&&(n={});var l=new Date(f),m=(function(k,S){S===void 0&&(S={});var D=S.timeZoneName||"short",O=k+"|"+D,M=i[O];return M||(M=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:k,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:D}),i[O]=M),M})(r,n);return m.formatToParts(l)},g=function(f,r){for(var n=y(f,r),l=[],m=0;m<n.length;m+=1){var k=n[m],S=k.type,D=k.value,O=a[S];O>=0&&(l[O]=parseInt(D,10))}var M=l[3],$=M===24?0:M,F=l[0]+"-"+l[1]+"-"+l[2]+" "+$+":"+l[4]+":"+l[5]+":000",A=+f;return(c.utc(F).valueOf()-(A-=A%1e3))/6e4},v=o.prototype;v.tz=function(f,r){f===void 0&&(f=u);var n,l=this.utcOffset(),m=this.toDate(),k=m.toLocaleString("en-US",{timeZone:f}),S=Math.round((m-new Date(k))/1e3/60),D=15*-Math.round(m.getTimezoneOffset()/15)-S;if(!Number(D))n=this.utcOffset(0,r);else if(n=c(k,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(D,!0),r){var O=n.utcOffset();n=n.add(l-O,"minute")}return n.$x.$timezone=f,n},v.offsetName=function(f){var r=this.$x.$timezone||c.tz.guess(),n=y(this.valueOf(),r,{timeZoneName:f}).find((function(l){return l.type.toLowerCase()==="timezonename"}));return n&&n.value};var h=v.startOf;v.startOf=function(f,r){if(!this.$x||!this.$x.$timezone)return h.call(this,f,r);var n=c(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return h.call(n,f,r).tz(this.$x.$timezone,!0)},c.tz=function(f,r,n){var l=n&&r,m=n||r||u,k=g(+c(),m);if(typeof f!="string")return c(f).tz(m);var S=(function($,F,A){var E=$-60*F*1e3,T=g(E,A);if(F===T)return[E,F];var R=g(E-=60*(T-F)*1e3,A);return T===R?[E,T]:[$-60*Math.min(T,R)*1e3,Math.max(T,R)]})(c.utc(f,l).valueOf(),k,m),D=S[0],O=S[1],M=c(D).utcOffset(O);return M.$x.$timezone=m,M},c.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},c.tz.setDefault=function(f){u=f}}}))})(I)),I.exports}var ve=ge();const he=J(ve);var N=(e=>(e.test1Juli2024Regler="FEATURE_TEST_1JULI2024_REGLER",e))(N||{});const ke=()=>{const e=document.getElementById("nav:appSettings");if(!e)return{};const t=JSON.parse(e.text);return{APP_VERSION:t.APP_VERSION,INNSYN:t.INNSYN,[N.test1Juli2024Regler]:t[N.test1Juli2024Regler]}},V=ke(),De=e=>!!(V[e]&&V[e].toLowerCase()==="on"),ye={isFeatureEnabled:De};var Y={},_;function Se(){return _||(_=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.idnr=e.getType=e.dnrAndTnr=e.dnrAndHnr=e.tnr=e.hnr=e.dnr=e.fnr=void 0;const t=new RegExp("^\\d{11}$"),a=r=>(0,e.idnr)(r);e.fnr=a;const i=r=>(0,e.idnr)(r);e.dnr=i;const d=r=>(0,e.idnr)(r);e.hnr=d;const o=r=>(0,e.idnr)(r);e.tnr=o;const c=r=>(0,e.idnr)(r);e.dnrAndHnr=c;const u=r=>(0,e.idnr)(r);e.dnrAndTnr=u;const y=r=>{let n=r.split("").map(Number);return n[0]>=4&&n[2]>=8?"dnr-and-tnr":n[0]>=4&&n[2]>=4?"dnr-and-hnr":n[0]>=4?"dnr":n[2]>=8?"tnr":n[2]>=4?"hnr":"fnr"};e.getType=y;const g=r=>{const n=(0,e.getType)(r);return v(r,n)};e.idnr=g;const v=(r,n)=>{if(!t.test(r))return{status:"invalid",reasons:["fnr, dnr or hnr must consist of 11 digits"]};const l=[...h(r),...f(r,n)];return l.length==0?{status:"valid",type:n}:{status:"invalid",reasons:l}},h=r=>{let n=r.split("").map(Number),l=11-(3*n[0]+7*n[1]+6*n[2]+1*n[3]+8*n[4]+9*n[5]+4*n[6]+5*n[7]+2*n[8])%11,m=11-(5*n[0]+4*n[1]+3*n[2]+2*n[3]+7*n[4]+6*n[5]+5*n[6]+4*n[7]+3*n[8]+2*l)%11;return l===11&&(l=0),m===11&&(m=0),l<10&&m<10&&l==n[9]&&m==n[10]?[]:["checksums don't match"]},f=(r,n)=>{n==="dnr"?r=Number(r.substring(0,1))-4+r.substring(1):n==="hnr"?r=r.substring(0,2)+(Number(r.substring(2,3))-4)+r.substring(3):n==="tnr"?r=r.substring(0,2)+(Number(r.substring(2,3))-8)+r.substring(3):n==="dnr-and-hnr"?r=Number(r.substring(0,1))-4+r.substring(1,2)+(Number(r.substring(2,3))-4)+r.substring(3):n==="dnr-and-tnr"&&(r=Number(r.substring(0,1))-4+r.substring(1,2)+(Number(r.substring(2,3))-8)+r.substring(3));const l=Number(r.substring(0,2)),m=Number(r.substring(2,4)),k=r.substring(4,6),S=k=="00"?2e3:Number(k),D=new Date(Date.UTC(S,m-1,l));return D&&D.getUTCMonth()+1==m&&D.getUTCDate()==l?[]:["invalid date"]}})(Y)),Y}var Me=Se();const Oe=e=>{const t=Me.idnr(e);return t.status!=="valid"?!1:t.type},Fe=(e,t)=>{const a=t==="dnr"?`${Number(e.substr(0,1))-4}${e.substr(1,1)}`:e.substr(0,2),i=e.substr(2,2),d=e.substr(4,2);let o=s(`${a}-${i}-${d}`,"DD-MM-YY");return o.get("year")>s().get("year")&&(o=o.subtract(100,"year")),o.isValid()?o.isBefore(s().subtract(16,"year"),"day"):!1};s.extend(W);const Ve=s().toDate(),_e=s().subtract(21,"days").startOf("day").toDate(),He=s().add(18,"week").add(3,"day").startOf("day").toDate(),H=e=>e!==""&&e!==void 0&&e!==null,Ce=(e,t,a,i)=>d=>{if(i)return d===void 0||d.trim()===""?e.formatMessage({id:"valideringsfeil.fødselsnummer.required"}):d.length>50?e.formatMessage({id:"valideringsfeil.fødselsnummer.fødselsnummerForLangt"}):we(d,a,e);if(d===t)return e.formatMessage({id:"valideringsfeil.fødselsnummer.ugyldigEgetFødselsnummer"});const o=Oe(d);return!i&&!Fe(d,o)&&o==="fnr"?e.formatMessage({id:"valideringsfeil.fødselsnummer.underSeksten"}):o==="fnr"||o==="dnr"||o==="hnr"?void 0:e.formatMessage({id:"valideringsfeil.fødselsnummer.ugyldigFødselsnummer"})},Je=e=>{const t=s(e),a=s().startOf("day").subtract(21,"days");return s.max(t,a)===t},Te=18,be=3,Ae=Te*7+be,We=e=>{const a=s(e).subtract(Ae,"days");return s.max(s().startOf("day"),a.startOf("day")).isSame(s().startOf("day"))},$e=e=>{const t=e.replace(K,""),a=new Set(t.split(""));return Array.from(a).join("")},Ee=(e,t,a)=>{const i=$e(e).replace(/[\t]/g,"Tabulatortegn");return a.formatMessage({id:"valideringsfeil.fritekst.kanIkkeInneholdeTegn"},{feltNavn:t,ugyldigeTegn:i})},pe=e=>Q.test(e),we=(e,t,a)=>{if(!pe(e))return Ee(e,t,a)};s.extend(ne);s.extend(ae);s.extend(q);s.extend(oe);s.extend(W);s.extend(he);s.extend(le);const Ie="YYYY-MM-DD",Ne=e=>e?s(e).format(Ie):"",Ue=(e="")=>ze(e),ze=e=>{if(e!==void 0&&x(e)&&s(e,"YYYY-MM-DD",!0).isValid())return new Date(e)};s().subtract(4,"year").startOf("day").toDate();const Z=(e,t)=>!H(e)||!H(t)||!x(e)||!x(t)?!1:!!s(e).isBefore(t,"day"),qe=e=>[...e].sort((t,a)=>Z(t.fødselsdato,a.fødselsdato)?1:-1)[e.length-1],Ze=e=>[...e].map(t=>Ne(t)).sort((t,a)=>Z(t,a)?-1:1),Qe=(e,t)=>e&&t?s(e).isSameOrAfter(t,"day"):!0,Ke=(e,t,a)=>{if(a!==void 0)return a;if(t!==void 0)return t;if(e!==void 0)return e;throw new Error("Mangler fødselsdato/termindato/adopsjonsdato for barnet.")},Xe=e=>{const t=new Date("2021-10-01");return s(e).isSameOrAfter(t,"day")&&s(new Date).isSameOrAfter(t,"day")},C=e=>{const t=new Date("2022-08-02");return s(e).isSameOrAfter(t,"day")&&s(new Date).isSameOrAfter(t,"day")},et=e=>{let t="2024-07-01";if(ye.isFeatureEnabled(N.test1Juli2024Regler)&&(t="2024-06-18"),s().isBefore(s(t),"day"))return!1;const a=z(e);return!((X(e)||ee(e))&&s(a).isBefore(t,"day"))},tt=(e,t,a)=>{if(!a)return;const i=e===void 0?void 0:e.filter(u=>!L(u)),d=t.filter(u=>!L(u));let o,c;if(i){d.forEach((u,y)=>{if(o)return;const{fom:g}=u.tidsperiode,v=i.find(f=>s(f.tidsperiode.fom).isSame(g,"day"));if(v!==void 0){const f=p(u).erLik(v,!1,!0);(!f||f&&p(u).slutterEtter(v.tidsperiode.tom))&&(o=g)}v===void 0&&(o=g),v!==void 0&&d.length-1===y&&(p(u).erLik(v,!0,!0)||(o=g));const h=i.at(-1);if(o&&te(u)&&h&&s(o).isAfter(h.tidsperiode.tom)){const f=d.find(r=>(re(r)||se(r))&&s(r.tidsperiode.fom).isAfter(o));o=f!==void 0?f.tidsperiode.fom:o}});for(const u of i){if(c)continue;const{fom:y}=u.tidsperiode,g=d.find(v=>s(v.tidsperiode.fom).isSame(y,"day"));g!==void 0&&!p(u).erLik(g,!1,!0)&&(c=g.tidsperiode.fom),g===void 0&&(c=y)}}else if(d.length>0)return d[0].tidsperiode.fom;return Re(o,c)},Re=(e,t)=>{if(!(e===void 0&&t===void 0))return e!==void 0&&t===void 0?e:e===void 0&&t!==void 0?t:s(e).isSameOrBefore(s(t))?e:t},rt=(e,t)=>{const a=z(e),i=je(t);return s(a).isSameOrAfter(s("2024-07-01"),"d")&&s().isBefore(s("2024-07-01"),"d")&&i&&e.antallBarn===1},st=(e,t)=>e===void 0||t===void 0?!1:s.utc(e).isSameOrAfter(s(t).subtract(1,"day"),"day")&&s.utc(e).isSameOrBefore(s(t).add(1,"day"),"day"),Ye=e=>{const t=Math.floor(e/5);return{dager:e-t*5,uker:t}},nt=(e,t,a="full")=>{const{uker:i,dager:d}=Ye(Math.abs(e)),o=t.formatMessage({id:"varighet.dager"},{dager:d});if(i===0)return o;const c=t.formatMessage({id:"varighet.uker"},{uker:i});return d>0&&a==="full"?`${c}${t.formatMessage({id:"varighet.separator--full"})}${o}`:d>0&&a==="normal"?`${c}${t.formatMessage({id:"varighet.separator--normal"})}${o}`:c},at=(e,t)=>{if(e===void 0||t===void 0)return!1;const a=s(e).add(48,"week");return C(e)&&C(t)&&s(a).isAfter(t,"day")},ot=(e,t)=>s(e).format("dddd D. MMMM YYYY");s.extend(q);const z=e=>U(e)||ie(e)?e.fødselsdatoer[0]:P(e)?e.termindato:e.adopsjonsdato,it=e=>{const t=z(e);return Ue(t)},xe=(e,t)=>e!==void 0&&t!==void 0?e.some(a=>s(a).isSame(t)):!1,dt=(e,t)=>t.length>0&&!P(e)?t.filter(a=>e.fnr?.includes(a.fnr)||xe(e.fødselsdatoer,a.fødselsdato)):void 0,ut=e=>U(e)||P(e)?e.termindato:void 0,ft=e=>U(e)?e.fødselsdatoer[0]:void 0,ct=e=>{const t=s(new Date).subtract(3,"month");return e.dødsdato!==void 0&&s.utc(e.dødsdato).isBefore(t,"day")},Be=(e,t)=>e===1?t.formatMessage({id:"barn"}):e===2?t.formatMessage({id:"tvillinger"}):e===3?t.formatMessage({id:"trillinger"}):t.formatMessage({id:"flerlinger"}),lt=e=>!e.dødsdato,mt=(e,t,a)=>{const i=s.utc(t).subtract(1,"day"),d=s.utc(t).add(1,"day");return a.filter(o=>o.fnr!==e&&s.utc(o.fødselsdato).isSameOrAfter(i,"day")&&s.utc(o.fødselsdato).isSameOrBefore(d,"day"))},Pe=(e,t,a,i)=>{if(e)return i.formatMessage({id:"velkommen.barnVelger.adoptertBarn"},{adopsjonsdato:s(e).format(B)});{const d=Le(t),o=Be(a,i);return t!==void 0&&t.length>0?i.formatMessage({id:"velkommen.barnVelger.fødtBarn.barn"},{barnTekst:o,fødselsdato:d}):""}},gt=(e,t,a,i,d,o)=>{if(e===void 0||e.length===0||!i)return Pe(a,t,d,o);if(e.length>1){const c=e.slice(0,-1).join(", "),u=e.at(-1);return`${c} og ${u}`}return`${e[0]}`},Le=e=>{if(e===void 0)return;const t=[];for(const a of e)if(t.find(d=>s(d).isSame(a,"day"))===void 0){const d=s(a).format(de);t.push(d)}if(t.length>1){const a=t.map(o=>s(o).format(B)),i=a.slice(0,-1).join(", "),d=a.at(-1);return`${i} og ${d}`}return s(t[0]).format(B)},vt=(e,t)=>s(e.fødselsdato).isAfter(t.fødselsdato,"d")?1:s(e.fødselsdato).isBefore(t.fødselsdato,"d")||e.fornavn<t.fornavn?-1:1,ht=e=>b(e)?e.erAleneOmOmsorg:!0,kt=e=>b(e)?e.datoForAleneomsorg:void 0,Dt=(e,t)=>{const a=b(e)&&e.utenlandskFnr!==!0?e.fnr:void 0,i=U(t)&&t.fnr!==void 0&&t.fnr?.length>0?t.fnr[0]:void 0;return{annenPartFødselsnummer:a,barnFødselsnummer:i,familiehendelse:z(t)}},yt=e=>{const t=b(e)&&e.utenlandskFnr!==!0?e.fnr:void 0;return t!==void 0&&t!==""},je=e=>b(e)?!!e.harRettPåForeldrepengerINorge||!!e.harRettPåForeldrepengerIEØS:!1,St=(e,t)=>b(e)&&t?!!e.erMorUfør:!1;export{ft as A,Pe as B,We as C,He as D,_e as E,Je as F,Ve as G,H,Ue as I,qe as J,Ye as K,et as L,rt as M,yt as N,Dt as O,Ze as P,at as Q,ot as R,C as a,je as b,it as c,Qe as d,kt as e,ut as f,z as g,ht as h,St as i,Ne as j,tt as k,gt as l,Le as m,Be as n,st as o,mt as p,ct as q,Ke as r,lt as s,vt as t,he as u,Ce as v,we as w,dt as x,nt as y,Xe as z};
