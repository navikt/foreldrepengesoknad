import{j as a}from"./jsx-runtime-69eee039.js";import{p as Be,d as f,a0 as fe,a1 as je,o as p,i as o,r as b,a2 as J,a3 as ke,a4 as xe,a5 as X,u as F,Y as i,B as d,s as W,g as ee,G as O,b as x,R as te,a6 as ge,a7 as he,Z as ve,A as Se,H as be,l as h,q as Ee,t as Fe,e as $}from"./validationUtils-0c7fa3e5.js";import"./index-e13aeee6.js";import{r as Ae}from"./index-7c191284.js";import{u as De,S as H,a as ye}from"./mapSøkerinfoDTO-c91ff169.js";import{u as Ne}from"./useOnValidSubmit-bd5aa797.js";import{i as I,l as ae,m as _,n as Te,o as Oe,b as S,h as Ie,c as z,p as Ve,a as Re,j as _e,L as Ue}from"./useSøknad-a6eb7500.js";import{u as Me}from"./useSøkerinfo-79a04600.js";import{u as Pe,a as Ge,b as Le,s as qe,c as We}from"./useSaveLoadedRoute-be1eb81e.js";import{F as Y}from"./FormikFileUploader-101bf53f.js";import{A as y}from"./Environment-07523402.js";import{S as N}from"./Skjemanummer-77149054.js";import{z as Ye,I as j,A as we,n as w,B as Ke}from"./dateUtils-2cd75fe4.js";import{l as Qe}from"./links-b36d21ab.js";import{Q as Ce}from"./index-47edccfa.js";import{L as $e,B as He}from"./Link-00530630.js";import{c as ze,a as K}from"./formUtils-d5863e5c.js";import{a as U}from"./vedleggUtils-3d0150ec.js";import{a as Ze}from"./submitUtils-c3cad064.js";import{R as Z}from"./RegistrertePersonalia-48e431fa.js";import{e as Je,f as Xe}from"./velkommenUtils-5a22f071.js";import{L as et}from"./Label-2ad8abda.js";var n=(e=>(e.erBarnetFødt="erBarnetFødt",e.adopsjonAvEktefellesBarn="adopsjonAvEktefellesBarn",e.antallBarn="antallBarn",e.antallBarnSelect="antallBarnSelect",e.adopsjonsdato="adopsjonsdato",e.søkerAdopsjonAlene="søkerAdopsjonAlene",e.adoptertIUtlandet="adoptertIUtlandet",e.fødselsdatoer="fødselsdatoer",e.termindato="termindato",e.omsorgsovertakelse="omsorgsovertakelse",e.terminbekreftelse="terminbekreftelse",e.terminbekreftelsedato="terminbekreftelsedato",e.ankomstdato="ankomstdato",e))(n||{});const B=Be();f.extend(fe);f.extend(je);const tt=e=>t=>{if(!p(t))return o(e,"valideringsfeil.omBarnet.fødselsdato.duMåOppgi");if(!b(t))return o(e,"valideringsfeil.omBarnet.fødselsdato.ugyldigDatoFormat");if(J(t))return o(e,"valideringsfeil.omBarnet.fødselsdato.måVæreIdagEllerTidligere");if(f(t).isBefore(f(new Date).subtract(3,"years").subtract(4,"months"),"day"))return o(e,"valideringsfeil.omBarnet.fødselsdato.ikkeMerEnn3År3MndTilbake")},re=e=>(t,r)=>{if(!p(t))return o(e,"valideringsfeil.omBarnet.fødselsdato.duMåOppgi");if(!b(t))return o(e,"valideringsfeil.omBarnet.fødselsdato.ugyldigDatoFormat");if(J(t))return o(e,"valideringsfeil.omBarnet.fødselsdato.måVæreIdagEllerTidligere");if(Ye(r,t))return o(e,"valideringsfeil.omBarnet.fødselsdato.måVæreFørAdopsjonsdato");if(!ke(t,r))return o(e,"valideringsfeil.omBarnet.fødselsdato.ikkeMerEnn15År3MndTilbake")},at=e=>t=>{if(!p(t))return o(e,"valideringsfeil.omBarnet.termindato.duMåOppgi");if(!b(t))return o(e,"valideringsfeil.omBarnet.termindato.ugyldigDatoFormat");if(!xe(t))return o(e,"valideringsfeil.omBarnet.termindato.forTidlig");if(!X(t))return o(e,"valideringsfeil.omBarnet.termindato.duMåVæreIUke22")},ne=(e,t)=>r=>{if(!p(r))return o(t,"valideringsfeil.omBarnet.termindato.duMåOppgi");if(!b(r))return o(t,"valideringsfeil.omBarnet.termindato.ugyldigDatoFormat");if(!f(r).subtract(6,"months").isSameOrBefore(f(e),"day"))return o(t,"valideringsfeil.omBarnet.termindato.forLangtFremITid");if(!f(r).add(1,"months").isSameOrAfter(f(e),"day"))return o(t,"valideringsfeil.omBarnet.termindato.forLangtTilbakeITid")},oe=e=>t=>{if(!p(t))return o(e,"valideringsfeil.omBarnet.adopsjonsdato.duMåOppgi");if(!b(t))return o(e,"valideringsfeil.omBarnet.adopsjonsdato.ugyldigDatoFormat")},rt=e=>(t,r)=>{if(!p(t))return o(e,"valideringsfeil.omBarnet.ankomstDato.duMåOppgi");if(!b(t))return o(e,"valideringsfeil.omBarnet.ankomstDato.ugyldigDatoFormat");if(r!==void 0&&!f(r).isSameOrBefore(t,"day"))return o(e,"valideringsfeil.omBarnet.ankomstDato.førFødselsdato")},nt=e=>t=>{if(!p(t))return o(e,"valideringsfeil.omBarnet.terminbekreftelseDato.duMåOppgi");if(!b(t))return o(e,"valideringsfeil.omBarnet.terminbekreftelseDato.ugyldigDatoFormat");if(f().isBefore(f(t)))return o(e,"valideringsfeil.omBarnet.terminbekreftelseDato.kanIkkeVæreFremITid")},M=({søkersituasjon:e,formValues:t,visibility:r,søknadGjelderEtNyttBarn:l})=>{const s=F();return e.situasjon==="fødsel"||t.adopsjonAvEktefellesBarn!==i.NO?null:a.jsxs(a.Fragment,{children:[a.jsx(d,{padBottom:"xl",children:a.jsx(B.DatePicker,{label:o(s,"omBarnet.adopsjonsdato.annetBarn"),name:n.adopsjonsdato,validate:oe(s),placeholder:"dd.mm.åååå"})}),a.jsx(d,{padBottom:"xl",visible:r.isVisible(n.antallBarn),children:a.jsx(B.RadioGroup,{name:n.antallBarn,radios:[{label:o(s,"omBarnet.radiobutton.ettBarn"),value:"1"},{label:o(s,"omBarnet.radiobutton.toBarn"),value:"2"},{label:o(s,"omBarnet.radiobutton.flere"),value:"3"}],legend:o(s,"omBarnet.antallBarn.adopsjon.født")})}),a.jsx(d,{padBottom:"xl",visible:t.antallBarn!==void 0&&l&&parseInt(t.antallBarn,10)>=3,children:a.jsxs(B.Select,{label:"Antall barn",name:n.antallBarnSelect,children:[a.jsx("option",{value:""}),a.jsx("option",{value:"3",children:"3"}),a.jsx("option",{value:"4",children:"4"}),a.jsx("option",{value:"5",children:"5"}),a.jsx("option",{value:"6",children:"6"}),a.jsx("option",{value:"7",children:"7"}),a.jsx("option",{value:"8",children:"8"}),a.jsx("option",{value:"9",children:"9"})]})}),a.jsx(d,{padBottom:"xl",visible:r.isVisible(n.fødselsdatoer),children:a.jsx(W,{name:n.fødselsdatoer,render:()=>[...Array(parseInt(t.antallBarn,10))].map((m,u)=>a.jsx(d,{padBottom:"xl",children:a.jsx(B.DatePicker,{name:`${n.fødselsdatoer}.${u}`,label:t.antallBarn==="1"?o(s,"omBarnet.fødselsdato"):o(s,`omBarnet.fødselsdato.adopsjon.${u+1}`),minDate:f(t.adopsjonsdato).subtract(15,"years").toDate(),maxDate:j(t.adopsjonsdato),validate:c=>re(s)(c,t.adopsjonsdato),placeholder:"dd.mm.åååå",showYearSelector:!0})},ee()))})}),a.jsx(d,{padBottom:"xl",visible:r.isVisible(n.adoptertIUtlandet),children:a.jsx(B.YesOrNoQuestion,{name:n.adoptertIUtlandet,legend:o(s,"omBarnet.adopteresFraUtlandet")})}),a.jsx(d,{padBottom:"xl",visible:r.isVisible(n.ankomstdato),children:a.jsx(B.DatePicker,{name:n.ankomstdato,label:o(s,"omBarnet.ankomstDato"),minDate:f(t.fødselsdatoer[0]).toDate(),maxDate:f().add(6,"months").toDate(),validate:m=>rt(s)(m,t.fødselsdatoer[0]),placeholder:"dd.mm.åååå"})}),a.jsx(d,{padBottom:"xl",visible:r.isVisible(n.omsorgsovertakelse),children:a.jsx(O,{children:a.jsx(x,{id:"omBarnet.veileder.omsorgsovertakelse"})})}),a.jsx(d,{padBottom:"xl",visible:r.isVisible(n.omsorgsovertakelse),children:a.jsx(Y,{legend:"Dokumentasjon om adopsjon",label:o(s,"omBarnet.adopsjon.vedlegg"),name:n.omsorgsovertakelse,attachments:t.omsorgsovertakelse||[],attachmentType:y.OMSORGSOVERTAKELSE,skjemanummer:N.OMSORGSOVERTAKELSESDATO})})]})};try{M.displayName="AdopsjonAnnetBarn",M.__docgenInfo={description:"",displayName:"AdopsjonAnnetBarn",props:{søkersituasjon:{defaultValue:null,description:"",name:"søkersituasjon",required:!0,type:{name:"Søkersituasjon"}},formValues:{defaultValue:null,description:"",name:"formValues",required:!0,type:{name:"OmBarnetFormData"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<OmBarnetFormField, undefined>"}},søknadGjelderEtNyttBarn:{defaultValue:null,description:"",name:"søknadGjelderEtNyttBarn",required:!0,type:{name:"boolean"}}}}}catch{}const P=({søkersituasjon:e,formValues:t,visibility:r,søknadGjelderEtNyttBarn:l})=>{const s=F();return e.situasjon==="fødsel"||t.adopsjonAvEktefellesBarn!==i.YES?null:a.jsxs(a.Fragment,{children:[a.jsx(d,{padBottom:"xl",children:a.jsx(B.DatePicker,{label:o(s,"omBarnet.adopsjonsdato.stebarn"),name:n.adopsjonsdato,validate:oe(s),placeholder:"dd.mm.åååå"})}),a.jsx(d,{padBottom:"xl",visible:r.isVisible(n.antallBarn),children:a.jsx(B.RadioGroup,{name:n.antallBarn,radios:[{label:o(s,"omBarnet.radiobutton.ettBarn"),value:"1"},{label:o(s,"omBarnet.radiobutton.toBarn"),value:"2"},{label:o(s,"omBarnet.radiobutton.flere"),value:"3"}],legend:o(s,"omBarnet.antallBarn.adopsjon.født")})}),a.jsx(d,{padBottom:"xl",visible:t.antallBarn!==void 0&&l&&parseInt(t.antallBarn,10)>=3,children:a.jsxs(B.Select,{label:"Antall barn",name:n.antallBarnSelect,children:[a.jsx("option",{value:""}),a.jsx("option",{value:"3",children:"3"}),a.jsx("option",{value:"4",children:"4"}),a.jsx("option",{value:"5",children:"5"}),a.jsx("option",{value:"6",children:"6"}),a.jsx("option",{value:"7",children:"7"}),a.jsx("option",{value:"8",children:"8"}),a.jsx("option",{value:"9",children:"9"})]})}),a.jsx(d,{padBottom:"xl",visible:r.isVisible(n.fødselsdatoer),children:a.jsx(W,{name:n.fødselsdatoer,render:()=>[...Array(parseInt(t.antallBarn,10))].map((m,u)=>a.jsxs(d,{padBottom:"xl",children:[a.jsx(B.DatePicker,{name:`${n.fødselsdatoer}.${u}`,label:t.antallBarn==="1"?o(s,"omBarnet.fødselsdato"):o(s,`omBarnet.fødselsdato.adopsjon.${u+1}`),minDate:f().subtract(6,"month").toDate(),maxDate:j(t.adopsjonsdato),validate:c=>re(s)(c,t.adopsjonsdato),placeholder:"dd.mm.åååå"})," "]},ee()))})}),a.jsx(d,{padBottom:"xl",visible:r.isVisible(n.omsorgsovertakelse),children:a.jsx(O,{children:a.jsx(x,{id:"omBarnet.veileder.omsorgsovertakelse"})})}),a.jsx(d,{padBottom:"xl",visible:r.isVisible(n.omsorgsovertakelse),children:a.jsx(Y,{legend:"Dokumentasjon om adopsjon",label:o(s,"omBarnet.adopsjon.vedlegg"),name:n.omsorgsovertakelse,attachments:t.omsorgsovertakelse||[],attachmentType:y.OMSORGSOVERTAKELSE,skjemanummer:N.OMSORGSOVERTAKELSESDATO})})]})};try{P.displayName="AdopsjonEktefellesBarn",P.__docgenInfo={description:"",displayName:"AdopsjonEktefellesBarn",props:{søkersituasjon:{defaultValue:null,description:"",name:"søkersituasjon",required:!0,type:{name:"Søkersituasjon"}},formValues:{defaultValue:null,description:"",name:"formValues",required:!0,type:{name:"OmBarnetFormData"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<OmBarnetFormField, undefined>"}},søknadGjelderEtNyttBarn:{defaultValue:null,description:"",name:"søknadGjelderEtNyttBarn",required:!0,type:{name:"boolean"}}}}}catch{}const ot=({visibility:e,erFarEllerMedmor:t})=>{const r=F();return a.jsxs(a.Fragment,{children:[a.jsx(d,{padBottom:"xl",visible:e.isVisible(n.adopsjonAvEktefellesBarn),children:a.jsx(B.YesOrNoQuestion,{name:n.adopsjonAvEktefellesBarn,legend:o(r,"omBarnet.adopsjonGjelder")})}),a.jsxs(d,{padBottom:"xl",visible:e.isVisible(n.erBarnetFødt),children:[a.jsx(B.YesOrNoQuestion,{name:n.erBarnetFødt,legend:o(r,"omBarnet.erBarnetFødt")}),!t&&a.jsxs(te,{header:o(r,"omBarnet.erBarnetFødt.readMore.header"),children:[a.jsx(d,{padBottom:"m",children:a.jsx(x,{id:"omBarnet.erBarnetFødt.readMore.innhold.del1"})}),a.jsx(x,{id:"omBarnet.erBarnetFødt.readMore.innhold.del2"})]})]})]})};try{BarnFdtEllerAdoptert.displayName="BarnFdtEllerAdoptert",BarnFdtEllerAdoptert.__docgenInfo={description:"",displayName:"BarnFdtEllerAdoptert",props:{visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<OmBarnetFormField, undefined>"}},erFarEllerMedmor:{defaultValue:null,description:"",name:"erFarEllerMedmor",required:!0,type:{name:"boolean"}}}}}catch{}const st=({søkersituasjon:e,formValues:t,visibility:r,søknadGjelderEtNyttBarn:l,barnSøktOmFørMenIkkeRegistrert:s})=>{const{erBarnetFødt:m,antallBarn:u,fødselsdatoer:c}=t,g=F(),A=u!==void 0&&parseInt(u,10)>1?"omBarnet.fødselsdato.flereBarn":"omBarnet.fødselsdato";return e.situasjon==="adopsjon"||m!==i.YES||!l&&!s?null:a.jsxs(a.Fragment,{children:[a.jsx(d,{padBottom:"xl",visible:r.isVisible(n.antallBarn),children:a.jsx(B.RadioGroup,{name:n.antallBarn,radios:[{label:o(g,"omBarnet.radiobutton.ettBarn"),value:"1"},{label:o(g,"omBarnet.radiobutton.tvillinger"),value:"2"},{label:o(g,"omBarnet.radiobutton.flere"),value:"3"}],legend:o(g,"omBarnet.antallBarn.født")})}),a.jsx(d,{padBottom:"xl",visible:u!==void 0&&l&&parseInt(u,10)>=3,children:a.jsxs(B.Select,{label:"Antall barn",name:n.antallBarnSelect,children:[a.jsx("option",{value:""}),a.jsx("option",{value:"3",children:"3"}),a.jsx("option",{value:"4",children:"4"}),a.jsx("option",{value:"5",children:"5"}),a.jsx("option",{value:"6",children:"6"}),a.jsx("option",{value:"7",children:"7"}),a.jsx("option",{value:"8",children:"8"}),a.jsx("option",{value:"9",children:"9"})]})}),a.jsx(d,{padBottom:"xl",visible:r.isVisible(n.fødselsdatoer),children:a.jsx(W,{name:n.fødselsdatoer,render:()=>[a.jsx(B.DatePicker,{name:`${n.fødselsdatoer}.0`,label:o(g,A),minDate:f().subtract(3,"years").toDate(),maxDate:f().toDate(),validate:tt(g),placeholder:"dd.mm.åååå"},`${n.fødselsdatoer}.0`)]})}),a.jsx(d,{padBottom:"l",visible:r.isVisible(n.termindato),children:a.jsx(B.DatePicker,{name:n.termindato,label:o(g,"omBarnet.termindato.født"),minDate:f(c[0]).subtract(1,"months").toDate(),maxDate:f(c[0]).add(6,"months").toDate(),placeholder:"dd.mm.åååå",validate:ne(c[0],g)})})]})};try{Fdsel.displayName="Fdsel",Fdsel.__docgenInfo={description:"",displayName:"Fdsel",props:{søkersituasjon:{defaultValue:null,description:"",name:"søkersituasjon",required:!0,type:{name:"Søkersituasjon"}},formValues:{defaultValue:null,description:"",name:"formValues",required:!0,type:{name:"OmBarnetFormData"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<OmBarnetFormField, undefined>"}},søknadGjelderEtNyttBarn:{defaultValue:null,description:"",name:"søknadGjelderEtNyttBarn",required:!0,type:{name:"boolean"}},barnSøktOmFørMenIkkeRegistrert:{defaultValue:null,description:"",name:"barnSøktOmFørMenIkkeRegistrert",required:!0,type:{name:"boolean"}}}}}catch{}const lt=e=>{const t=f(e).add(12,"weeks");return f(t).isAfter(new Date,"day")},it=(e,t,r,l)=>{if(l==="adopsjon")return!1;let s;if(r!==void 0&&r.length>0&&(s=we(r).fødselsdato),!t&&!s)return!1;const m=s||j(t);return I(e)?w(m)?!0:lt(m):!0},dt=(e,t,r,l)=>e===i.NO&&t.length===0&&Q(r,l),E=(e,t)=>e===i.NO&&t!==""&&!Ke(j(t)),mt=(e,t)=>e===i.NO&&E(e,t),Q=(e,t)=>I(e)?p(t)?w(new Date(t)):!1:!0,pt=(e,t)=>e==="fødsel"?t:!1,ut=(e,t,r,l,s,m)=>s?E(t,e)&&r!==i.UNANSWERED||!E(t,e)&&m!==void 0&&p(m[0])||t===i.YES&&m!==void 0&&p(m[0]):t===i.YES&&p(e)||t===i.NO&&p(e)&&!E(t,e)||t===i.NO&&E(t,e)&&r===i.NO||t===i.NO&&E(t,e)&&r===i.YES&&p(l),ct={[n.adopsjonAvEktefellesBarn]:{isIncluded:({situasjon:e})=>e==="adopsjon",isAnswered:({adopsjonAvEktefellesBarn:e})=>e!==i.UNANSWERED,visibilityFilter:({situasjon:e})=>e==="adopsjon"},[n.erBarnetFødt]:{isIncluded:({situasjon:e,søknadGjelderEtNyttBarn:t})=>t&&e==="fødsel",isAnswered:({erBarnetFødt:e})=>e!==i.UNANSWERED,visibilityFilter:({situasjon:e,søknadGjelderEtNyttBarn:t})=>pt(e,t)},[n.antallBarn]:{isIncluded:({søknadGjelderEtNyttBarn:e})=>e,isAnswered:({antallBarn:e})=>p(e),visibilityFilter:({adopsjonAvEktefellesBarn:e,erBarnetFødt:t,adopsjonsdato:r})=>t!==i.UNANSWERED||e!==i.UNANSWERED&&p(r)},[n.antallBarnSelect]:{isIncluded:({antallBarn:e,søknadGjelderEtNyttBarn:t})=>parseInt(e,10)>=3&&t,isAnswered:({antallBarnSelect:e})=>p(e),visibilityFilter:({adopsjonAvEktefellesBarn:e,erBarnetFødt:t,adopsjonsdato:r,antallBarn:l})=>parseInt(l,10)>=3&&(t!==i.UNANSWERED||e!==i.UNANSWERED&&p(r))},[n.adopsjonsdato]:{isIncluded:({adopsjonAvEktefellesBarn:e})=>e!==i.UNANSWERED,isAnswered:({adopsjonsdato:e})=>p(e),visibilityFilter:({adopsjonAvEktefellesBarn:e})=>e!==i.UNANSWERED},[n.fødselsdatoer]:{isIncluded:({erBarnetFødt:e,adopsjonAvEktefellesBarn:t,søknadGjelderEtNyttBarn:r})=>r&&(e===i.YES||t!==i.UNANSWERED),isAnswered:({fødselsdatoer:e})=>e.length>0&&p(e[0]),visibilityFilter:({antallBarn:e})=>p(e)},[n.omsorgsovertakelse]:{isIncluded:({adopsjonAvEktefellesBarn:e})=>e!==i.UNANSWERED,isAnswered:()=>!0,visibilityFilter:({adopsjonsdato:e,adopsjonAvEktefellesBarn:t,ankomstdato:r,adoptertIUtlandet:l,søknadGjelderEtNyttBarn:s,fødselsdatoer:m})=>ut(e,t,l,r,s,m)},[n.termindato]:{isIncluded:({rolle:e,fødselsdatoer:t,erBarnetFødt:r,situasjon:l,valgteRegistrerteBarn:s})=>it(e,t[0],s,l)||r===i.NO,isAnswered:({termindato:e})=>p(e),visibilityFilter:({fødselsdatoer:e,erBarnetFødt:t,antallBarn:r,valgteRegistrerteBarn:l})=>p(e[0])||t===i.NO&&p(r)||l!==void 0&&l.length>0},[n.terminbekreftelse]:{isIncluded:({erBarnetFødt:e,arbeidsforhold:t,rolle:r,termindato:l})=>dt(e,t,r,l),isAnswered:({terminbekreftelse:e})=>p(e),visibilityFilter:({termindato:e})=>p(e)},[n.terminbekreftelsedato]:{isIncluded:({erBarnetFødt:e,arbeidsforhold:t,rolle:r,termindato:l})=>e===i.NO&&t.length===0&&Q(r,l),isAnswered:({terminbekreftelsedato:e})=>p(e),visibilityFilter:({termindato:e})=>p(e)},[n.adoptertIUtlandet]:{isIncluded:({adopsjonAvEktefellesBarn:e,adopsjonsdato:t})=>E(e,t),isAnswered:({adoptertIUtlandet:e})=>e!==i.UNANSWERED,visibilityFilter:({fødselsdatoer:e,søknadGjelderEtNyttBarn:t})=>t&&p(e[0])||!t},[n.ankomstdato]:{isIncluded:({adopsjonAvEktefellesBarn:e,adopsjonsdato:t})=>mt(e,t),isAnswered:({ankomstdato:e})=>p(e),visibilityFilter:({adoptertIUtlandet:e})=>e===i.YES}},Bt=Ce(ct),G=({søkersituasjon:e,visibility:t,formValues:r,søknadGjelderEtNyttBarn:l,setErForTidligTilÅSøkePåTermin:s})=>{const m=F();if(e.situasjon==="adopsjon"||r.erBarnetFødt!==i.NO||!l)return null;const u=p(r.termindato)&&b(r.termindato)?!X(r.termindato):!1;s(u);const c=I(e.rolle),g=c&&p(r.termindato),A=c?"omBarnet.antallBarn.termin.far":"omBarnet.antallBarn.termin",V=c?"omBarnet.veileder.terminbekreftelse.far":"omBarnet.veileder.terminbekreftelse";return a.jsxs(a.Fragment,{children:[a.jsx(d,{padBottom:"xl",visible:t.isVisible(n.antallBarn),children:a.jsx(B.RadioGroup,{name:n.antallBarn,radios:[{label:o(m,"omBarnet.radiobutton.ettBarn"),value:"1"},{label:o(m,"omBarnet.radiobutton.tvillinger"),value:"2"},{label:o(m,"omBarnet.radiobutton.flere"),value:"3"}],legend:o(m,A)})}),a.jsx(d,{padBottom:"xl",visible:r.antallBarn!==void 0&&parseInt(r.antallBarn,10)>=3,children:a.jsxs(B.Select,{label:"Antall barn",name:n.antallBarnSelect,children:[a.jsx("option",{value:""}),a.jsx("option",{value:"3",children:"3"}),a.jsx("option",{value:"4",children:"4"}),a.jsx("option",{value:"5",children:"5"}),a.jsx("option",{value:"6",children:"6"}),a.jsx("option",{value:"7",children:"7"}),a.jsx("option",{value:"8",children:"8"}),a.jsx("option",{value:"9",children:"9"})]})}),a.jsx(d,{padBottom:"s",visible:t.isVisible(n.termindato),children:a.jsx(B.DatePicker,{name:n.termindato,label:o(m,"omBarnet.termindato.termin"),placeholder:"dd.mm.åååå",minDate:ge,maxDate:he,validate:at(m)})}),a.jsx(d,{padBottom:"xl",visible:t.isVisible(n.termindato)&&!c,children:a.jsxs(te,{header:o(m,"omBarnet.termindato.åpneLabel"),children:[a.jsx(d,{padBottom:"m",children:a.jsx(x,{id:"omBarnet.termindato.innhold.del1"})}),a.jsx(x,{id:"omBarnet.termindato.innhold.del2"})]})}),g&&!Q(e.rolle,r.termindato)&&a.jsx(d,{padBottom:"xl",children:a.jsx(O,{children:a.jsx(x,{id:"omBarnet.veileder.medMorEllerFarTermin",values:{lenke:a.jsx($e,{href:Qe.papirsøknad,children:a.jsx(x,{id:"omBarnet.papirsøknad.lenke"})})}})})}),a.jsx(d,{padBottom:"xl",visible:t.isVisible(n.terminbekreftelse),children:a.jsx(O,{children:a.jsx(x,{id:V})})}),a.jsx(d,{padBottom:"xl",visible:t.isVisible(n.terminbekreftelse),children:a.jsx(Y,{legend:"Dokumentasjon om terminbekreftelse",label:o(m,"omBarnet.terminbekreftelse.lastOpp"),name:n.terminbekreftelse,attachments:r.terminbekreftelse||[],attachmentType:y.TERMINBEKREFTELSE,skjemanummer:N.TERMINBEKREFTELSE})}),a.jsx(d,{padBottom:"xl",visible:t.isVisible(n.terminbekreftelsedato),children:a.jsx(B.DatePicker,{name:n.terminbekreftelsedato,label:o(m,"omBarnet.terminbekreftelseDato"),placeholder:"dd.mm.åååå",validate:nt(m),maxDate:ve})}),u&&a.jsx(d,{padBottom:"xl",children:a.jsxs(Se,{variant:"warning",children:[a.jsx(d,{padBottom:"m",children:a.jsx(be,{level:"3",size:"small",children:a.jsx(x,{id:"omBarnet.termindato.erForTidligTilÅSøkePåTermin.heading"})})}),a.jsx(He,{children:a.jsx(x,{id:"omBarnet.termindato.erForTidligTilÅSøkePåTermin.innhold"})})]})})]})};try{G.displayName="Termin",G.__docgenInfo={description:"",displayName:"Termin",props:{søkersituasjon:{defaultValue:null,description:"",name:"søkersituasjon",required:!0,type:{name:"Søkersituasjon"}},formValues:{defaultValue:null,description:"",name:"formValues",required:!0,type:{name:"OmBarnetFormData"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<OmBarnetFormField, undefined>"}},søknadGjelderEtNyttBarn:{defaultValue:null,description:"",name:"søknadGjelderEtNyttBarn",required:!0,type:{name:"boolean"}},setErForTidligTilÅSøkePåTermin:{defaultValue:null,description:"",name:"setErForTidligTilÅSøkePåTermin",required:!0,type:{name:"(val: boolean) => void"}}}}}catch{}const ft=()=>({[n.erBarnetFødt]:i.UNANSWERED,[n.adopsjonAvEktefellesBarn]:i.UNANSWERED,[n.antallBarn]:"",[n.antallBarnSelect]:"",[n.adopsjonsdato]:"",[n.fødselsdatoer]:[],[n.omsorgsovertakelse]:[],[n.termindato]:"",[n.terminbekreftelse]:[],[n.terminbekreftelsedato]:"",[n.adoptertIUtlandet]:i.UNANSWERED,[n.ankomstdato]:""}),jt=(e,t)=>({erBarnetFødt:t.isVisible(n.erBarnetFødt)?e.erBarnetFødt:i.UNANSWERED,adopsjonAvEktefellesBarn:t.isVisible(n.adopsjonAvEktefellesBarn)?e.adopsjonAvEktefellesBarn:i.UNANSWERED,antallBarn:t.isVisible(n.antallBarn)?e.antallBarn:"",antallBarnSelect:t.isVisible(n.antallBarnSelect)?e.antallBarnSelect:"",adopsjonsdato:t.isVisible(n.adopsjonsdato)?e.adopsjonsdato:"",fødselsdatoer:t.isVisible(n.fødselsdatoer)?e.fødselsdatoer:[],omsorgsovertakelse:t.isVisible(n.omsorgsovertakelse)?e.omsorgsovertakelse:[],termindato:t.isVisible(n.termindato)?e.termindato:"",terminbekreftelse:t.isVisible(n.terminbekreftelse)?e.terminbekreftelse:[],terminbekreftelsedato:t.isVisible(n.terminbekreftelsedato)?e.terminbekreftelsedato:"",adoptertIUtlandet:t.isVisible(n.adoptertIUtlandet)?e.adoptertIUtlandet:i.UNANSWERED,ankomstdato:t.isVisible(n.ankomstdato)?e.ankomstdato:""}),kt=(e,t,r,l)=>{if(e!==void 0&&t==="fødsel")return{...e,type:l?S.UFØDT:S.FØDT,termindato:p(r.termindato)?j(r.termindato):void 0,fødselsdatoer:e.fødselsdatoer,antallBarn:e.antallBarn};const s=U(r.omsorgsovertakelse,y.OMSORGSOVERTAKELSE,N.OMSORGSOVERTAKELSESDATO);return r.adopsjonAvEktefellesBarn===i.YES?{...e,type:S.ADOPTERT_STEBARN,adopsjonsdato:j(r.adopsjonsdato),omsorgsovertakelse:s}:{...e,type:S.ADOPTERT_ANNET_BARN,adopsjonsdato:j(r.adopsjonsdato),adoptertIUtlandet:K(r.adoptertIUtlandet),ankomstdato:r.adoptertIUtlandet===i.YES?j(r.ankomstdato):void 0,omsorgsovertakelse:s}},xt=(e,t,r,l,s)=>{if(r!==void 0)return kt(r,l,e,s);const m=parseInt(e.antallBarn,10)<3?parseInt(e.antallBarn,10):parseInt(e.antallBarnSelect,10);if(e.erBarnetFødt===i.YES)return{type:S.FØDT,fødselsdatoer:e.fødselsdatoer.map(c=>j(c)),antallBarn:m,termindato:p(e.termindato)?j(e.termindato):void 0};if(e.erBarnetFødt===i.NO){const c=U(e.terminbekreftelse,y.TERMINBEKREFTELSE,N.TERMINBEKREFTELSE);return t.length===0?{type:S.UFØDT,terminbekreftelse:c,terminbekreftelsedato:j(e.terminbekreftelsedato),antallBarn:m,termindato:j(e.termindato)}:{type:S.UFØDT,antallBarn:m,termindato:j(e.termindato)}}const u=U(e.omsorgsovertakelse,y.OMSORGSOVERTAKELSE,N.OMSORGSOVERTAKELSESDATO);return e.adopsjonAvEktefellesBarn===i.YES?{type:S.ADOPTERT_STEBARN,adopsjonsdato:j(e.adopsjonsdato),antallBarn:m,fødselsdatoer:e.fødselsdatoer.map(c=>j(c)),omsorgsovertakelse:u}:{type:S.ADOPTERT_ANNET_BARN,fødselsdatoer:e.fødselsdatoer.map(c=>j(c)),adopsjonsdato:j(e.adopsjonsdato),antallBarn:m,adoptertIUtlandet:K(e.adoptertIUtlandet),ankomstdato:e.adoptertIUtlandet===i.YES?j(e.ankomstdato):void 0,omsorgsovertakelse:u}},gt=(e,t)=>{const r=ft();if(!e)return r;const l=e.antallBarn>2;return ae(e)?{...r,erBarnetFødt:i.YES,fødselsdatoer:e.fødselsdatoer.map(s=>h(s)),termindato:h(e.termindato),antallBarn:l?"3":e.antallBarn.toString(),antallBarnSelect:l?e.antallBarn.toString():""}:_(e)?t.length===0?{...r,erBarnetFødt:i.NO,terminbekreftelse:e.terminbekreftelse||[],terminbekreftelsedato:h(e.terminbekreftelsedato),termindato:h(e.termindato),antallBarn:l?"3":e.antallBarn.toString(),antallBarnSelect:l?e.antallBarn.toString():""}:{...r,erBarnetFødt:i.NO,termindato:h(e.termindato),antallBarn:l?"3":e.antallBarn.toString(),antallBarnSelect:l?e.antallBarn.toString():""}:Te(e)?{...r,adopsjonAvEktefellesBarn:i.NO,fødselsdatoer:e.fødselsdatoer.map(s=>h(s)),adopsjonsdato:h(e.adopsjonsdato),antallBarn:l?"3":e.antallBarn.toString(),antallBarnSelect:l?e.antallBarn.toString():"",adoptertIUtlandet:ze(e.adoptertIUtlandet),omsorgsovertakelse:e.omsorgsovertakelse,ankomstdato:h(e.ankomstdato)}:Oe(e)?{...r,adopsjonAvEktefellesBarn:i.YES,adopsjonsdato:h(e.adopsjonsdato),antallBarn:l?"3":e.antallBarn.toString(),antallBarnSelect:l?e.antallBarn.toString():"",fødselsdatoer:e.fødselsdatoer.map(s=>h(s)),omsorgsovertakelse:e.omsorgsovertakelse}:r},L=({valgteBarn:e,visibility:t})=>{const r=F(),l=e.length,s=e.every(c=>Ie(c));e.sort(Je);const m=e.map(c=>c.fødselsdato),u=e[0].fødselsdato;return a.jsxs(a.Fragment,{children:[a.jsx(d,{padBottom:"xl",children:a.jsxs("div",{children:[a.jsx(d,{padBottom:"s",children:a.jsx(et,{children:a.jsx(x,{id:"omBarnet.valgteBarn.tittel",values:{antallBarn:l}})})}),s?e.map(c=>a.jsx(d,{padBottom:"s",children:a.jsx(Z,{person:c,fødselsdatoForVisning:z([c.fødselsdato]),visEtternavn:!1})},c.fnr)):a.jsx(d,{padBottom:"s",children:a.jsx(Z,{person:e[0],fødselsdatoForVisning:z(m),altTekstHvisUkjentNavn:Ve(void 0,m,e.length,r),visEtternavn:!1})})]})}),a.jsx(d,{padBottom:"l",visible:t.isVisible(n.termindato)&&e.length>0,children:a.jsx(B.DatePicker,{name:n.termindato,label:o(r,"omBarnet.termindato.født"),dayPickerProps:{defaultMonth:u},minDate:f(u).subtract(1,"months").toDate(),maxDate:f(u).add(6,"months").toDate(),placeholder:"dd.mm.åååå",validate:ne(h(u),r)})})]})};try{L.displayName="ValgteRegistrerteBarn",L.__docgenInfo={description:"",displayName:"ValgteRegistrerteBarn",props:{valgteBarn:{defaultValue:null,description:"",name:"valgteBarn",required:!0,type:{name:"RegistrertBarn[]"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<OmBarnetFormField, undefined>"}}}}}catch{}const q=()=>{const e=F(),{søkersituasjon:t,barn:r}=Re(),{arbeidsforhold:l,registrerteBarn:s}=Me(),{state:m}=De(),{søknadGjelderEtNyttBarn:u}=m,[c,g]=Ae.useState(!1),A=I(t.rolle),V=k=>!_(r)&&r.fnr!==void 0&&r.fnr.length>0?r.fnr.includes(k.fnr):!1,se=r?j(_e(r)):void 0,le=r&&ae(r)?s.filter(k=>k.fnr===void 0&&Xe(k.fødselsdato,se)):[],D=!u&&!_(r)?s.filter(k=>V(k)).concat(le):void 0,T=!u&&(D===void 0||D.length===0),ie=k=>{const R=xt(k,l,!u&&!T?r:void 0,t.situasjon,T);return[ye.setOmBarnet(R)]},{handleSubmit:de,isSubmitting:C}=Ne(ie,H.ANNEN_FORELDER,k=>Ze(k)),me=Pe(),pe=Ge();return Le(H.OM_BARNET),a.jsx(B.FormikWrapper,{initialValues:gt(r,l),onSubmit:de,renderForm:({values:k})=>{const v=Bt.getVisbility({...k,arbeidsforhold:l,situasjon:t.situasjon,rolle:t.rolle,valgteRegistrerteBarn:D,søknadGjelderEtNyttBarn:T||u}),R=A&&K(k.erBarnetFødt)===!1&&p(k.termindato)&&!w(j(k.termindato)),ue=v.areAllQuestionsAnswered()&&!R;return a.jsx(Ee,{bannerTitle:o(e,"søknad.pageheading"),activeStepId:"omBarnet",pageTitle:o(e,"søknad.omBarnet"),onCancel:me,onContinueLater:pe,steps:qe(e,!1),children:a.jsxs(B.Form,{includeButtons:!1,includeValidationSummary:!0,cleanup:ce=>jt(ce,v),children:[D!==void 0&&D.length>0&&a.jsx(L,{valgteBarn:D,visibility:v}),a.jsx(ot,{visibility:v,erFarEllerMedmor:A}),a.jsx(M,{søkersituasjon:t,formValues:k,visibility:v,søknadGjelderEtNyttBarn:u}),a.jsx(P,{søkersituasjon:t,formValues:k,visibility:v,søknadGjelderEtNyttBarn:u}),a.jsx(G,{søkersituasjon:t,formValues:k,visibility:v,søknadGjelderEtNyttBarn:T||u,setErForTidligTilÅSøkePåTermin:g}),a.jsx(st,{søkersituasjon:t,formValues:k,visibility:v,søknadGjelderEtNyttBarn:u,barnSøktOmFørMenIkkeRegistrert:T}),a.jsx(d,{margin:"l",children:a.jsxs(Fe,{children:[a.jsx($,{variant:"secondary",as:Ue,to:We("omBarnet"),children:a.jsx(x,{id:"backlink.label"})}),ue&&a.jsx($,{type:"submit",disabled:C||c,loading:C,children:o(e,"søknad.gåVidere")})]})})]})})}})},Wt=q;try{q.displayName="OmBarnet",q.__docgenInfo={description:"",displayName:"OmBarnet",props:{}}}catch{}export{Wt as O};
//# sourceMappingURL=OmBarnet-a971f201.js.map
