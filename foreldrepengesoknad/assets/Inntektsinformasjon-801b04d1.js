import{j as n}from"./jsx-runtime-1caa8f64.js";import{r as Y}from"./index-1cdf6ce0.js";import{az as Ne,u as O,aV as Me,i,C as d,W as C,aW as $,Y as o,aL as Oe,M as H,H as xe,b as f,c as a,d as L,G as Re,B as oe,D as G,q as he,Q as Z,I as B,E as Pe,aX as Ye,aK as Ue,aY as qe,k as _,L as te,S as Ke}from"./dates-c7d75be6.js";import"./index-753920cd.js";import{i as Je}from"./isFarEllerMedmor-120238ea.js";import{S as P}from"./skjemanummer-4d711b8d.js";import{A as Ce}from"./AttachmentMetadata-003d83db.js";import{A as c,H as we,a as We,N as re,g as Qe}from"./Næring-02a5ab4e.js";import{S as He}from"./IntlProvider-1d845c21.js";import{n as ge}from"./dateFormValidation-996d41a1.js";import{u as Ge,a as $e}from"./useFpNavigator-d887b885.js";import{u as ie,C as Q,a as be}from"./FpDataContext-9c963fd7.js";import{o as ze}from"./barnUtils-397fbc9c.js";import"./_baseToString-2517c4f7.js";import"./_createSet-019d3bf6.js";import{I as ye}from"./InteractiveListElement-f1eec915.js";import{A as Te,F as Xe}from"./FormikFileUploader-6e7689e8.js";import{a as De}from"./validationUtil-21b57974.js";import{i as de,d as Ze}from"./dateUtils-3df5aed4.js";import{c as T,a as M,Q as Ee}from"./index-0bc8900a.js";import{B as D,L as Ve}from"./Link-d47e444a.js";import{l as ee}from"./links-4d39192e.js";import{e as en}from"./uttaksPlanStatus-4d798447.js";import{E as X}from"./ExpansionCard-52dde959.js";import{r as me}from"./stringUtils-17aed94c.js";var N=(e=>(e.hattInntektSomFrilans="hattInntektSomFrilans",e.hattInntektSomNæringsdrivende="hattInntektSomNæringsdrivende",e.hattAndreInntekter="hattAndreInntekter",e.frilansOppstartsDato="frilansOppstartsDato",e.jobberFremdelesSomFrilanser="jobberFremdelesSomFrilanser",e))(N||{});const J=Ne(),nn=(e,t)=>e===c.JOBB_I_UTLANDET?i(t,"inntektsinformasjon.andreInntekter.inntektsliste.jobbIUtlandet"):e===c.MILITÆRTJENESTE?i(t,"inntektsinformasjon.andreInntekter.inntektsliste.førstegangstjeneste"):i(t,"inntektsinformasjon.andreInntekter.inntektsliste.sluttpakke"),ue=({andreInntekter:e,deleteAnnenInntekt:t,selectAnnenInntekt:s})=>{const m=O();return e.length===0?null:n.jsx("ul",{style:{margin:0,padding:0,listStyle:"none"},children:e.map((j,A)=>n.jsx(ye,{deleteLinkText:"Slett annen inntekt",onDelete:()=>t(j),onEdit:()=>s(j),text:Me(j.tidsperiode),title:nn(j.type,m),deleteButtonAriaText:"Slett annen inntekt",editButtonAriaText:"Rediger annen inntekt",missingDocumentation:!1},`${j.type}${j.tidsperiode.fom}${A}`))})};try{ue.displayName="AndreInntekterListe",ue.__docgenInfo={description:"",displayName:"AndreInntekterListe",props:{andreInntekter:{defaultValue:null,description:"",name:"andreInntekter",required:!0,type:{name:"AnnenInntekt[]"}},deleteAnnenInntekt:{defaultValue:null,description:"",name:"deleteAnnenInntekt",required:!0,type:{name:"(oppdrag: AnnenInntekt) => void"}},selectAnnenInntekt:{defaultValue:null,description:"",name:"selectAnnenInntekt",required:!0,type:{name:"(oppdrag: AnnenInntekt) => void"}}}}}catch{}const tn=(e,t)=>s=>{if(!d(s))return i(e,"valideringsfeil.fraOgMedDato.påkrevd");if(!C(s))return i(e,"valideringsfeil.fraOgMedDato.gyldigDato");if($(s))return i(e,"valideringsfeil.fraOgMedDato.erIFremtiden");if(de(t,s))return i(e,"valideringsfeil.fraOgMedDato.førTilDato")},rn=(e,t)=>s=>{if(!d(s))return i(e,"valideringsfeil.tilOgMedDato.påkrevd");if(!C(s))return i(e,"valideringsfeil.tilOgMedDato.gyldigDato");if($(s))return i(e,"valideringsfeil.tilOgMedDato.erIFremtiden");if(de(s,t))return i(e,"valideringsfeil.tilOgMedDato.etterFraDato")};var g=(e=>(e.type="type",e.navnPåArbeidsgiver="navnPåArbeidsgiver",e.land="land",e.fom="fom",e.tom="tom",e.pågående="pågående",e.dokumentasjon="dokumentasjon",e))(g||{});const U=Ne(),y={[g.type]:void 0,[g.fom]:"",[g.tom]:"",[g.pågående]:o.UNANSWERED,[g.navnPåArbeidsgiver]:"",[g.land]:"",[g.dokumentasjon]:[]},Fe=e=>e.type===c.MILITÆRTJENESTE?P.DOK_MILITÆR_SILVIL_TJENESTE:e.type===c.SLUTTPAKKE?P.ETTERLØNN_ELLER_SLUTTVEDERLAG:P.ANNET,sn=(e,t)=>({type:t.isVisible(g.type)?e.type:y.type,dokumentasjon:t.isVisible(g.dokumentasjon)?Oe(e.dokumentasjon,Te.ANNEN_INNTEKT,Fe(e)):y.dokumentasjon,fom:t.isVisible(g.fom)?e.fom:y.fom,tom:t.isVisible(g.tom)?e.tom:y.tom,pågående:t.isVisible(g.pågående)?e.pågående:y.pågående,navnPåArbeidsgiver:t.isVisible(g.navnPåArbeidsgiver)?e.navnPåArbeidsgiver:y.navnPåArbeidsgiver,land:t.isVisible(g.land)?e.land:y.land}),an=(e,t,s)=>e?e.type===c.JOBB_I_UTLANDET?{...y,navnPåArbeidsgiver:e.arbeidsgiverNavn,land:e.land,fom:e.tidsperiode.fom,tom:e.tidsperiode.tom||"",pågående:T(e.pågående),type:e.type}:e.type===c.MILITÆRTJENESTE?{...y,fom:e.tidsperiode.fom,tom:e.tidsperiode.tom||"",dokumentasjon:s||[],pågående:T(e.pågående),type:e.type}:{...y,fom:e.tidsperiode.fom,tom:e.tidsperiode.tom||"",dokumentasjon:t||[],pågående:T(e.pågående),type:e.type}:{...y},Ie=e=>e.type===c.JOBB_I_UTLANDET?{arbeidsgiverNavn:e.navnPåArbeidsgiver,land:e.land,pågående:M(e.pågående),tidsperiode:{fom:e.fom,tom:e.tom},type:e.type}:{pågående:M(e.pågående),tidsperiode:{fom:e.fom,tom:e.tom},type:e.type},on={[g.type]:{isIncluded:()=>!0,isAnswered:({type:e})=>d(e)},[g.land]:{isIncluded:({type:e})=>e===c.JOBB_I_UTLANDET,isAnswered:({land:e})=>d(e),visibilityFilter:({type:e})=>e===c.JOBB_I_UTLANDET},[g.navnPåArbeidsgiver]:{isIncluded:({type:e})=>e===c.JOBB_I_UTLANDET,isAnswered:({navnPåArbeidsgiver:e})=>d(e),visibilityFilter:({land:e})=>d(e)},[g.fom]:{isIncluded:()=>!0,isAnswered:({fom:e})=>d(e),visibilityFilter:({type:e,navnPåArbeidsgiver:t,land:s})=>e===c.JOBB_I_UTLANDET&&d(t)&&d(s)||e!==c.JOBB_I_UTLANDET&&d(e)},[g.pågående]:{isIncluded:()=>!0,isAnswered:({pågående:e})=>e!==o.UNANSWERED,visibilityFilter:({fom:e})=>d(e)},[g.tom]:{isIncluded:({pågående:e})=>e===o.NO,isAnswered:({tom:e})=>d(e),visibilityFilter:({pågående:e})=>e===o.NO},[g.dokumentasjon]:{isIncluded:({type:e})=>e!==c.JOBB_I_UTLANDET,isAnswered:()=>!0,visibilityFilter:({pågående:e,tom:t})=>e===o.YES||e===o.NO&&d(t)}},dn=Ee(on),pe=({isOpen:e,contentLabel:t,onRequestClose:s,selectedAnnenInntekt:m,addAnnenInntekt:j,editAnnenInntekt:A,etterlønnVedlegg:l,militærVedlegg:V})=>{const v=O();if(!e)return null;const F=k=>{const E=k.dokumentasjon?k.dokumentasjon:[];m?A(Ie(k),E):j(Ie(k),E),s()},p=k=>k.type===c.MILITÆRTJENESTE?"inntektsinformasjon.andreInntekterModal.veileder.militær":"inntektsinformasjon.andreInntekterModal.veileder.sluttpakke",u=i(v,"annenInntekt.spørsmål.arbeidsgiver");return n.jsx(U.FormikWrapper,{initialValues:an(m,l,V),onSubmit:F,renderForm:({values:k})=>{const E=dn.getVisbility(k);return n.jsxs(H,{portal:!0,width:"medium",open:e,"aria-label":t,onClose:s,children:[n.jsx(H.Header,{children:n.jsx(xe,{size:"small",children:n.jsx(f,{id:"inntektsinformasjon.andreInntekterModal.tittel"})})}),n.jsx(H.Body,{children:n.jsxs(U.Form,{includeButtons:!1,cleanup:S=>sn(S,E),children:[n.jsx(a,{padBottom:"l",visible:E.isVisible(g.type),children:n.jsx(U.RadioGroup,{legend:"Andre inntekter",name:g.type,radios:[{label:"Jobb i utlandet",value:c.JOBB_I_UTLANDET},{label:"Sluttvederlag",value:c.SLUTTPAKKE},{label:"Førstegangstjeneste",value:c.MILITÆRTJENESTE}]})}),n.jsx(a,{padBottom:"l",visible:E.isVisible(g.land),children:n.jsx(U.CountrySelect,{name:g.land,label:i(v,"annenInntekt.spørsmål.land"),useAlpha3Code:!1})}),n.jsx(a,{padBottom:"l",visible:E.isVisible(g.navnPåArbeidsgiver),children:n.jsx(U.TextField,{name:g.navnPåArbeidsgiver,label:u,validate:De(u,v)})}),n.jsx(a,{padBottom:"l",visible:E.isVisible(g.fom),children:n.jsx(U.DatePicker,{name:g.fom,label:i(v,"fom"),placeholder:"dd.mm.åååå",fullscreenOverlay:!0,showYearSelector:!0,validate:tn(v,k.tom),maxDate:L().toDate()})}),n.jsx(a,{padBottom:"l",visible:E.isVisible(g.pågående),children:n.jsx(U.YesOrNoQuestion,{name:g.pågående,legend:i(v,"pågående")})}),n.jsx(a,{padBottom:"l",visible:E.isVisible(g.tom),children:n.jsx(U.DatePicker,{name:g.tom,label:i(v,"tom"),placeholder:"dd.mm.åååå",fullscreenOverlay:!0,showYearSelector:!0,validate:rn(v,k.fom),maxDate:L().toDate()})}),n.jsx(a,{padBottom:"l",visible:E.isVisible(g.dokumentasjon),children:n.jsx(Re,{children:n.jsx(f,{id:p(k)})})}),n.jsx(a,{padBottom:"l",visible:E.isVisible(g.dokumentasjon),children:n.jsx(Xe,{legend:"Dokumentasjon av andre inntekter",name:g.dokumentasjon,label:"Last opp dokumentasjon",attachments:k.dokumentasjon,attachmentType:Te.ANNEN_INNTEKT,skjemanummer:Fe(k)})}),n.jsx(a,{visible:E.areAllQuestionsAnswered(),textAlignCenter:!0,children:n.jsx(oe,{type:"submit",children:m?"Lagre endringer":i(v,"inntektsinformasjon.leggTilOppdrag")})})]})})]})}})};try{pe.displayName="AndreInntekterModal",pe.__docgenInfo={description:"",displayName:"AndreInntekterModal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},contentLabel:{defaultValue:null,description:"",name:"contentLabel",required:!0,type:{name:"string"}},onRequestClose:{defaultValue:null,description:"",name:"onRequestClose",required:!0,type:{name:"() => void"}},addAnnenInntekt:{defaultValue:null,description:"",name:"addAnnenInntekt",required:!0,type:{name:"(annenInntekt: AnnenInntekt, vedlegg: Attachment[]) => void"}},editAnnenInntekt:{defaultValue:null,description:"",name:"editAnnenInntekt",required:!0,type:{name:"(annenInntekt: AnnenInntekt, vedlegg: Attachment[]) => void"}},selectedAnnenInntekt:{defaultValue:null,description:"",name:"selectedAnnenInntekt",required:!0,type:{name:"AnnenInntekt | undefined"}},etterlønnVedlegg:{defaultValue:null,description:"",name:"etterlønnVedlegg",required:!0,type:{name:"Attachment[]"}},militærVedlegg:{defaultValue:null,description:"",name:"militærVedlegg",required:!0,type:{name:"Attachment[]"}}}}}catch{}const fe=({andreInntekterInformasjon:e,setAndreInntekterInformasjon:t,setEtterlønnVedlegg:s,setMilitærVedlegg:m,visibility:j,formValues:A,etterlønnVedlegg:l,militærVedlegg:V})=>{const v=O(),[F,p]=Y.useState(!1),[u,k]=Y.useState(),E=()=>{p(!0)},S=(h,x)=>{const K=e.concat(h);h.type===c.MILITÆRTJENESTE&&m(x),h.type===c.SLUTTPAKKE&&s(x),t(K),k(void 0)},R=h=>{const x=e.filter(K=>K!==h);h.type===c.MILITÆRTJENESTE&&m([]),h.type===c.SLUTTPAKKE&&s([]),t(x)},q=(h,x)=>{const K=e.filter(z=>z!==u).concat(h);h.type===c.MILITÆRTJENESTE&&m(x),h.type===c.SLUTTPAKKE&&s(x),t(K),k(void 0)},ne=h=>{k(h),p(!0)};return n.jsxs(n.Fragment,{children:[n.jsx(a,{padBottom:"l",visible:j.isVisible(N.hattAndreInntekter),children:n.jsx(J.YesOrNoQuestion,{name:N.hattAndreInntekter,legend:i(v,"inntektsinformasjon.annenInntekt"),validate:h=>{if(h===o.YES&&e.length===0)return i(v,"valideringsfeil.inntektsinformasjon.andreInntekter.måHaOppdrag")}})}),A.hattAndreInntekter===o.YES&&n.jsxs("div",{style:{backgroundColor:"#f1f1f1",marginBottom:"1rem",padding:"1rem"},children:[n.jsx(pe,{isOpen:F,contentLabel:i(v,"inntektsinformasjon.andreInntekterModal.contentLabel"),onRequestClose:()=>{k(void 0),p(!1)},selectedAnnenInntekt:u,addAnnenInntekt:S,editAnnenInntekt:q,etterlønnVedlegg:l,militærVedlegg:V}),n.jsx(a,{padBottom:"l",visible:e.length>0,children:n.jsx(ue,{andreInntekter:e,deleteAnnenInntekt:R,selectAnnenInntekt:ne})}),n.jsx(oe,{type:"button",onClick:E,children:n.jsx(f,{id:"inntektsinformasjon.leggTilOppdrag"})})]})]})};try{fe.displayName="AndreInntekter",fe.__docgenInfo={description:"",displayName:"AndreInntekter",props:{andreInntekterInformasjon:{defaultValue:null,description:"",name:"andreInntekterInformasjon",required:!0,type:{name:"AnnenInntekt[]"}},setAndreInntekterInformasjon:{defaultValue:null,description:"",name:"setAndreInntekterInformasjon",required:!0,type:{name:"any"}},setEtterlønnVedlegg:{defaultValue:null,description:"",name:"setEtterlønnVedlegg",required:!0,type:{name:"(attachments: Attachment[]) => void"}},setMilitærVedlegg:{defaultValue:null,description:"",name:"setMilitærVedlegg",required:!0,type:{name:"(attachments: Attachment[]) => void"}},etterlønnVedlegg:{defaultValue:null,description:"",name:"etterlønnVedlegg",required:!0,type:{name:"Attachment[]"}},militærVedlegg:{defaultValue:null,description:"",name:"militærVedlegg",required:!0,type:{name:"Attachment[]"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<InntektsinformasjonFormField, undefined>"}},formValues:{defaultValue:null,description:"",name:"formValues",required:!0,type:{name:"InntektsinformasjonFormData"}}}}}catch{}const ce=({arbeidsforhold:e})=>{const t=e!==void 0&&e.length>0;return n.jsxs(a,{padBottom:"xl",children:[n.jsx(D,{style:{fontWeight:"bold"},children:"Dine arbeidsforhold"}),n.jsx(we,{harArbeidsforhold:t}),n.jsx(We,{harArbeidsforhold:t,arbeidsforhold:e}),n.jsx(G,{header:"Finner du feil eller mangler?",children:n.jsx(D,{children:"Informasjonen er hentet fra Arbeidsgiver- og arbeidstakerregisteret. Derfor må du be din arbeidsgiver oppdatere med riktig informasjon i Arbeidsgiver- og arbeidstakerregisteret."})})]})};try{ce.displayName="ArbeidsforholdInformasjon",ce.__docgenInfo={description:"",displayName:"ArbeidsforholdInformasjon",props:{arbeidsforhold:{defaultValue:null,description:"",name:"arbeidsforhold",required:!0,type:{name:"Arbeidsforhold[]"}}}}}catch{}const ln=({næringsInformasjon:e,deleteNæring:t,selectNæring:s})=>e.length===0?null:n.jsx("ul",{style:{margin:0,padding:0,listStyle:"none"},children:e.map((m,j)=>n.jsx(ye,{deleteLinkText:"Slett næring",onDelete:()=>t(m),onEdit:()=>s(m),text:`${he(m.tidsperiode.fom)} - ${m.tidsperiode.tom?he(m.tidsperiode.tom):"pågående"}`,title:m.navnPåNæringen,deleteButtonAriaText:"Slett næring",editButtonAriaText:"Rediger næring"},`${m.navnPåNæringen}${j}`))});try{EgenNringListe.displayName="EgenNringListe",EgenNringListe.__docgenInfo={description:"",displayName:"EgenNringListe",props:{næringsInformasjon:{defaultValue:null,description:"",name:"næringsInformasjon",required:!0,type:{name:"Næring[]"}},deleteNæring:{defaultValue:null,description:"",name:"deleteNæring",required:!0,type:{name:"(oppdrag: Næring) => void"}},selectNæring:{defaultValue:null,description:"",name:"selectNæring",required:!0,type:{name:"(oppdrag: Næring) => void"}}}}}catch{}const gn=()=>{const e=O();return n.jsx(G,{header:i(e,"inntektsinformasjon.harJobbetSomSelvstendigNæringsdrivendeSiste10Mnd.apneLabel"),children:n.jsxs("div",{children:[n.jsx(a,{padBottom:"l",children:n.jsx(D,{children:n.jsx(f,{id:"inntektsinformasjon.harJobbetSomSelvstendigNæringsdrivendeSiste10Mnd.infoboks.del1"})})}),n.jsx(D,{children:n.jsx(f,{id:"inntektsinformasjon.harJobbetSomSelvstendigNæringsdrivendeSiste10Mnd.infoboks.del2",values:{a:t=>n.jsx(Ve,{href:ee.næringsdrivendeInfoBoks,rel:"noreferrer",target:"_blank",children:t})}})})]})})};var r=(e=>(e.type="type",e.navnPåNæringen="navnPåNæringen",e.registrertINorge="registrertINorge",e.orgnr="orgnr",e.land="land",e.fom="fom",e.tom="tom",e.pågående="pågående",e.yrkesAktivDato="yrkesAktivDato",e.næringsresultat="næringsresultat",e.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene="harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene",e.hattVarigEndringAvNæringsinntektSiste4Kalenderår="hattVarigEndringAvNæringsinntektSiste4Kalenderår",e.datoForEndring="datoForEndring",e.inntektEtterEndring="inntektEtterEndring",e.forklaringEndring="forklaringEndring",e))(r||{});const b=Ne(),I={[r.type]:void 0,[r.navnPåNæringen]:"",[r.registrertINorge]:o.UNANSWERED,[r.orgnr]:"",[r.land]:"",[r.tom]:"",[r.fom]:"",[r.pågående]:o.UNANSWERED,[r.næringsresultat]:"",[r.hattVarigEndringAvNæringsinntektSiste4Kalenderår]:o.UNANSWERED,[r.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene]:o.UNANSWERED,[r.yrkesAktivDato]:"",[r.datoForEndring]:"",[r.inntektEtterEndring]:"",[r.forklaringEndring]:""},mn=(e,t)=>({type:t.isVisible(r.type)?e.type:void 0,navnPåNæringen:t.isVisible(r.navnPåNæringen)?e.navnPåNæringen:I.navnPåNæringen,registrertINorge:t.isVisible(r.registrertINorge)?e.registrertINorge:I.registrertINorge,orgnr:t.isVisible(r.orgnr)?e.orgnr:I.orgnr,land:t.isVisible(r.land)?e.land:I.land,tom:t.isVisible(r.tom)?e.tom:I.tom,fom:t.isVisible(r.fom)?e.fom:I.fom,pågående:t.isVisible(r.pågående)?e.pågående:I.pågående,næringsresultat:t.isVisible(r.næringsresultat)?e.næringsresultat:I.næringsresultat,hattVarigEndringAvNæringsinntektSiste4Kalenderår:t.isVisible(r.hattVarigEndringAvNæringsinntektSiste4Kalenderår)?e.hattVarigEndringAvNæringsinntektSiste4Kalenderår:I.hattVarigEndringAvNæringsinntektSiste4Kalenderår,harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene:t.isVisible(r.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene)?e.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene:I.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene,yrkesAktivDato:t.isVisible(r.yrkesAktivDato)?e.yrkesAktivDato:I.yrkesAktivDato,datoForEndring:t.isVisible(r.datoForEndring)?e.datoForEndring:I.datoForEndring,inntektEtterEndring:t.isVisible(r.inntektEtterEndring)?e.inntektEtterEndring:I.inntektEtterEndring,forklaringEndring:t.isVisible(r.forklaringEndring)?e.forklaringEndring:I.forklaringEndring}),un=e=>{var t;return e?{...I,type:e.næringstyper.length>0?e.næringstyper[0]:void 0,navnPåNæringen:e.navnPåNæringen,registrertINorge:T(e.registrertINorge),land:e.registrertILand||"",fom:Z(e.tidsperiode.fom),tom:Z(e.tidsperiode.tom)||"",orgnr:e.organisasjonsnummer||"",pågående:T(e.pågående),næringsresultat:((t=e.næringsinntekt)==null?void 0:t.toString())||"",hattVarigEndringAvNæringsinntektSiste4Kalenderår:T(e.hattVarigEndringAvNæringsinntektSiste4Kalenderår),harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene:T(e.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene),yrkesAktivDato:Z(e.oppstartsdato)||"",datoForEndring:e.endringAvNæringsinntektInformasjon?Z(e.endringAvNæringsinntektInformasjon.dato):"",inntektEtterEndring:e.endringAvNæringsinntektInformasjon?e.endringAvNæringsinntektInformasjon.næringsinntektEtterEndring.toString():"",forklaringEndring:e.endringAvNæringsinntektInformasjon?e.endringAvNæringsinntektInformasjon.forklaring:""}:{...I}},Ae=e=>{let t;return e.hattVarigEndringAvNæringsinntektSiste4Kalenderår===o.YES&&(t={dato:B(e.datoForEndring),forklaring:e.forklaringEndring,næringsinntektEtterEndring:parseInt(e.inntektEtterEndring)}),{næringstyper:[e.type],navnPåNæringen:e.navnPåNæringen,registrertINorge:M(e.registrertINorge),organisasjonsnummer:d(e.orgnr)?e.orgnr:void 0,registrertILand:d(e.land)?e.land:void 0,tidsperiode:{fom:B(e.fom),tom:B(e.tom)},pågående:M(e.pågående),næringsinntekt:d(e.næringsresultat)?parseInt(e.næringsresultat,10):void 0,hattVarigEndringAvNæringsinntektSiste4Kalenderår:M(e.hattVarigEndringAvNæringsinntektSiste4Kalenderår),harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene:M(e.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene),oppstartsdato:d(e.yrkesAktivDato)?B(e.yrkesAktivDato):void 0,endringAvNæringsinntektInformasjon:t}},se=e=>e?L(e).startOf("day").isAfter(Ze,"day"):!0,pn={[r.type]:{isIncluded:()=>!0,isAnswered:({type:e})=>e!==void 0},[r.navnPåNæringen]:{isIncluded:()=>!0,isAnswered:({navnPåNæringen:e})=>d(e),visibilityFilter:({type:e})=>e!==void 0},[r.registrertINorge]:{isIncluded:()=>!0,isAnswered:({registrertINorge:e})=>e!==o.UNANSWERED,visibilityFilter:({navnPåNæringen:e})=>d(e)},[r.orgnr]:{isIncluded:({registrertINorge:e})=>e===o.YES,isAnswered:({orgnr:e})=>d(e),visibilityFilter:({registrertINorge:e})=>e===o.YES},[r.land]:{isIncluded:({registrertINorge:e})=>e===o.NO,isAnswered:({land:e})=>d(e),visibilityFilter:({registrertINorge:e})=>e===o.NO},[r.fom]:{isIncluded:()=>!0,isAnswered:({fom:e})=>d(e),visibilityFilter:({orgnr:e,land:t})=>d(e)||d(t)},[r.pågående]:{isIncluded:()=>!0,isAnswered:({pågående:e})=>e!==o.UNANSWERED,visibilityFilter:({fom:e})=>d(e)},[r.tom]:{isIncluded:({pågående:e})=>e===o.NO,isAnswered:({tom:e})=>d(e),visibilityFilter:({pågående:e})=>e===o.NO},[r.næringsresultat]:{isIncluded:({fom:e})=>se(B(e)),isAnswered:({næringsresultat:e})=>d(e),visibilityFilter:({pågående:e,tom:t})=>e===o.YES||d(t)},[r.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene]:{isIncluded:({fom:e})=>se(B(e)),isAnswered:({harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene:e})=>e!==o.UNANSWERED,visibilityFilter:({næringsresultat:e})=>d(e)},[r.yrkesAktivDato]:{isIncluded:({fom:e})=>se(B(e)),isAnswered:({yrkesAktivDato:e})=>d(e),visibilityFilter:({harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene:e})=>e===o.YES},[r.hattVarigEndringAvNæringsinntektSiste4Kalenderår]:{isIncluded:({fom:e})=>!se(B(e)),isAnswered:({hattVarigEndringAvNæringsinntektSiste4Kalenderår:e})=>e!==o.UNANSWERED,visibilityFilter:({pågående:e,tom:t})=>e===o.YES||d(t)},[r.datoForEndring]:{isIncluded:({hattVarigEndringAvNæringsinntektSiste4Kalenderår:e})=>e===o.YES,isAnswered:({datoForEndring:e})=>d(e),visibilityFilter:({hattVarigEndringAvNæringsinntektSiste4Kalenderår:e})=>e===o.YES},[r.inntektEtterEndring]:{isIncluded:({hattVarigEndringAvNæringsinntektSiste4Kalenderår:e})=>e===o.YES,isAnswered:({inntektEtterEndring:e})=>d(e),visibilityFilter:({datoForEndring:e})=>d(e)},[r.forklaringEndring]:{isIncluded:({hattVarigEndringAvNæringsinntektSiste4Kalenderår:e})=>e===o.YES,isAnswered:({forklaringEndring:e})=>d(e),visibilityFilter:({inntektEtterEndring:e})=>d(e)}},fn=Ee(pn),cn=(e,t)=>s=>{if(!d(s))return i(e,"valideringsfeil.fraOgMedDato.påkrevd");if(!C(s))return i(e,"valideringsfeil.fraOgMedDato.gyldigDato");if($(s))return i(e,"valideringsfeil.fraOgMedDato.erIFremtiden");if(de(t,s))return i(e,"valideringsfeil.fraOgMedDato.førTilDato")},kn=(e,t)=>s=>{if(!d(s))return i(e,"valideringsfeil.tilOgMedDato.påkrevd");if(!C(s))return i(e,"valideringsfeil.tilOgMedDato.gyldigDato");if($(s))return i(e,"valideringsfeil.fraOgMedDato.erIFremtiden");if(de(s,t))return i(e,"valideringsfeil.fraOgMedDato.førTilDato")},jn=e=>t=>{if(!en(t))return i(e,"valideringsfeil.inntektsinformasjon.orgnr.ugyldigFormat")},vn=(e,t)=>s=>s.length<25?i(e,"valideringsfeil.inntektsinformasjon.forklaringTilEndring.forKort"):s.length>1e3?i(e,"valideringsfeil.inntektsinformasjon.forklaringTilEndring.forLang"):Pe(s,t,e),Nn=e=>t=>{if(!d(t))return i(e,"valideringsfeil.tilOgMedDato.påkrevd");if(!C(t))return i(e,"valideringsfeil.tilOgMedDato.gyldigDato");if($(t))return i(e,"valideringsfeil.fraOgMedDato.erIFremtiden")},En=e=>t=>{if(!d(t))return i(e,"valideringsfeil.tilOgMedDato.påkrevd");if(!C(t))return i(e,"valideringsfeil.tilOgMedDato.gyldigDato");if($(t))return i(e,"valideringsfeil.fraOgMedDato.erIFremtiden")},Se=(e,t)=>s=>{const m=Ye(s);if(!m||Math.round(m)!==m)return i(e,t)},ke=({visibility:e})=>{const t=O();return n.jsxs(n.Fragment,{children:[n.jsx(a,{padBottom:"l",visible:e.isVisible(r.orgnr),children:n.jsx(b.NumberInput,{name:r.orgnr,label:i(t,"inntektsinformasjon.egenNæringModal.orgnr"),validate:jn(t)})}),n.jsx(a,{padBottom:"l",visible:e.isVisible(r.land),children:n.jsx(b.CountrySelect,{name:r.land,label:i(t,"inntektsinformasjon.egenNæringModal.registrertILand"),useAlpha3Code:!1,validate:s=>{if(!d(s))return i(t,"valideringsfeil.inntektsinformasjon.egenNæring.land")}})})]})};try{ke.displayName="OrgnummerEllerLand",ke.__docgenInfo={description:"",displayName:"OrgnummerEllerLand",props:{visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<EgenNæringModalFormField, undefined>"}}}}}catch{}const hn=({isOpen:e,title:t,onRequestClose:s,selectedNæring:m,addNæring:j,editNæring:A})=>{const l=O(),V=p=>{m?A(Ae(p)):j(Ae(p)),s()},v=i(l,"inntektsinformasjon.egenNæringModal.navnPåNæring"),F=i(l,"inntektsinformasjon.egenNæringModal.varigEndringAvNæringsinntektForklaring");return n.jsxs(H,{portal:!0,width:"medium",open:e,"aria-label":t,onClose:s,children:[n.jsx(H.Header,{children:n.jsx(xe,{size:"small",children:n.jsx(f,{id:"inntektsinformasjon.egenNæringModal.tittel"})})}),n.jsx(H.Body,{children:n.jsx(b.FormikWrapper,{initialValues:un(m),onSubmit:p=>V(p),renderForm:({values:p})=>{const u=fn.getVisbility(p);return n.jsxs(b.Form,{includeButtons:!1,cleanup:k=>mn(k,u),includeValidationSummary:!0,children:[n.jsx(a,{padBottom:"l",visible:u.isVisible(r.type),children:n.jsx(b.RadioGroup,{name:r.type,legend:i(l,"inntektsinformasjon.egenNæringModal.næringstype"),radios:[{label:i(l,"inntektsinformasjon.egenNæringModal.næringstype.dagmamma"),value:re.DAGMAMMA},{label:i(l,"inntektsinformasjon.egenNæringModal.næringstype.fiske"),value:re.FISKER},{label:i(l,"inntektsinformasjon.egenNæringModal.næringstype.jordbrukSkogbruk"),value:re.JORDBRUK},{label:i(l,"inntektsinformasjon.egenNæringModal.næringstype.annen"),value:re.ANNET}]})}),n.jsx(a,{padBottom:"l",visible:u.isVisible(r.navnPåNæringen),children:n.jsx(b.TextField,{name:r.navnPåNæringen,label:v,maxLength:100,validate:De(v,l)})}),n.jsx(a,{padBottom:"l",visible:u.isVisible(r.registrertINorge),children:n.jsx(b.YesOrNoQuestion,{name:r.registrertINorge,legend:i(l,"inntektsinformasjon.egenNæringModal.erNæringenRegistrertINorge",{navnPåNæringen:p.navnPåNæringen}),validate:k=>{if(k===o.UNANSWERED)return i(l,"valideringsfeil.inntektsinformasjon.egenNæring.registrertINorge")}})}),n.jsx(ke,{visibility:u}),n.jsx(a,{padBottom:"l",visible:u.isVisible(r.fom),children:n.jsx(b.DatePicker,{name:r.fom,label:i(l,"inntektsinformasjon.egenNæringModal.startetNæring.fom",{navnPåNæringen:p.navnPåNæringen}),placeholder:"dd.mm.åååå",fullscreenOverlay:!0,showYearSelector:!0,validate:cn(l,p.tom),maxDate:L().toDate()})}),n.jsx(a,{padBottom:"l",visible:u.isVisible(r.pågående),children:n.jsx(b.YesOrNoQuestion,{name:r.pågående,legend:i(l,"inntektsinformasjon.egenNæringModal.startetNæring.pågående",{navnPåNæringen:p.navnPåNæringen})})}),n.jsx(a,{padBottom:"l",visible:u.isVisible(r.tom),children:n.jsx(b.DatePicker,{name:r.tom,label:i(l,"inntektsinformasjon.egenNæringModal.startetNæring.tom",{navnPåNæringen:p.navnPåNæringen}),placeholder:"dd.mm.åååå",fullscreenOverlay:!0,showYearSelector:!0,validate:kn(l,p.fom),maxDate:L().toDate(),minDate:L(p.fom).toDate()})}),n.jsxs(a,{padBottom:"l",visible:u.isVisible(r.næringsresultat),children:[n.jsx(b.NumberInput,{name:r.næringsresultat,label:i(l,"inntektsinformasjon.egenNæringModal.næringsinntekt"),validate:Se(l,"valideringsfeil.inntektsinformasjon.næringsinntekt.ugyldigFormat")}),n.jsx(G,{header:i(l,"inntektsinformasjon.egenNæringModal.næringsinntekt.info.apneLabel"),children:n.jsx(D,{children:n.jsx(f,{id:"inntektsinformasjon.egenNæringModal.næringsinntekt.info"})})})]}),n.jsxs(a,{padBottom:"l",visible:u.isVisible(r.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene),children:[n.jsx(b.YesOrNoQuestion,{name:r.harBlittYrkesaktivILøpetAvDeTreSisteFerdigliknedeÅrene,legend:i(l,"inntektsinformasjon.egenNæringModal.blittYrkesaktivSiste3År")}),n.jsx(G,{header:i(l,"inntektsinformasjon.egenNæringModal.blittYrkesaktivSiste3År.info.apneLabel"),children:n.jsx(D,{children:n.jsx(f,{id:"inntektsinformasjon.egenNæringModal.blittYrkesaktivSiste3År.info"})})})]}),n.jsx(a,{padBottom:"l",visible:u.isVisible(r.yrkesAktivDato),children:n.jsx(b.DatePicker,{name:r.yrkesAktivDato,label:i(l,"inntektsinformasjon.egenNæringModal.yrkesaktivDato"),placeholder:"dd.mm.åååå",fullscreenOverlay:!0,showYearSelector:!0,validate:En(l),maxDate:L().toDate()})}),n.jsxs(a,{padBottom:"l",visible:u.isVisible(r.hattVarigEndringAvNæringsinntektSiste4Kalenderår),children:[n.jsx(b.YesOrNoQuestion,{name:r.hattVarigEndringAvNæringsinntektSiste4Kalenderår,legend:i(l,"inntektsinformasjon.egenNæringModal.varigEndringAvNæringsinntekt")}),n.jsx(G,{header:i(l,"inntektsinformasjon.egenNæringModal.varigEndringAvNæringsinntekt.readmoreTittel"),children:n.jsx(D,{children:n.jsx(f,{id:"inntektsinformasjon.egenNæringModal.varigEndringAvNæringsinntekt.readmoreTekst"})})})]}),n.jsx(a,{padBottom:"l",visible:u.isVisible(r.datoForEndring),children:n.jsx(b.DatePicker,{name:r.datoForEndring,label:i(l,"inntektsinformasjon.egenNæringModal.varigEndringAvNæringsinntektDato"),placeholder:"dd.mm.åååå",fullscreenOverlay:!0,showYearSelector:!0,validate:Nn(l),maxDate:L().toDate()})}),n.jsx(a,{padBottom:"l",visible:u.isVisible(r.inntektEtterEndring),children:n.jsx(b.NumberInput,{name:r.inntektEtterEndring,label:i(l,"inntektsinformasjon.egenNæringModal.inntektEtterEndring"),validate:Se(l,"valideringsfeil.inntektsinformasjon.varigEndringAvInntekt.ugyldigFormat")})}),n.jsx(a,{padBottom:"l",visible:u.isVisible(r.forklaringEndring),children:n.jsx(b.Textarea,{name:r.forklaringEndring,label:F,maxLength:1e3,validate:vn(l,F)})}),n.jsx(a,{visible:u.areAllQuestionsAnswered(),textAlignCenter:!0,children:n.jsx(oe,{children:i(l,"søknad.gåVidere")})})]})}})})]})};try{EgenNringModal.displayName="EgenNringModal",EgenNringModal.__docgenInfo={description:"",displayName:"EgenNringModal",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"string"}},onRequestClose:{defaultValue:null,description:"",name:"onRequestClose",required:!0,type:{name:"() => void"}},selectedNæring:{defaultValue:null,description:"",name:"selectedNæring",required:!1,type:{name:"Næring"}},addNæring:{defaultValue:null,description:"",name:"addNæring",required:!0,type:{name:"(næring: Næring) => void"}},editNæring:{defaultValue:null,description:"",name:"editNæring",required:!0,type:{name:"(næring: Næring) => void"}}}}}catch{}const bn=({egenNæringInformasjon:e,setEgenNæringsInformasjon:t,visibility:s,formValues:m})=>{const j=O(),[A,l]=Y.useState(!1),[V,v]=Y.useState(),F=()=>{l(!0),v(void 0)},p=S=>{const R=e.concat(S);t(R)},u=S=>{const R=e.filter(q=>q!==S);t(R)},k=S=>{const R=e.filter(q=>q!==V).concat(S);t(R)},E=S=>{v(S),l(!0)};return n.jsxs(n.Fragment,{children:[n.jsx(a,{visible:s.isVisible(N.hattInntektSomNæringsdrivende),children:n.jsxs(a,{padBottom:"l",children:[n.jsx(J.YesOrNoQuestion,{name:N.hattInntektSomNæringsdrivende,legend:i(j,"inntektsinformasjon.harJobbetSomSelvstendigNæringsdrivendeSiste10Mnd"),validate:S=>{if(S===o.YES&&e.length===0)return i(j,"valideringsfeil.inntektsinformasjon.andreInntekter.måHaVirksomhet")}}),n.jsx(gn,{})]})}),m.hattInntektSomNæringsdrivende===o.YES&&n.jsxs("div",{style:{backgroundColor:"#f1f1f1",marginBottom:"1rem",padding:"1rem"},children:[n.jsx(hn,{isOpen:A,title:"Næringsinformasjon",onRequestClose:()=>l(!1),selectedNæring:V,addNæring:p,editNæring:k}),n.jsx(a,{padBottom:"l",visible:e.length>0,children:n.jsx(ln,{næringsInformasjon:e,deleteNæring:u,selectNæring:E})}),n.jsx(oe,{type:"button",onClick:F,children:n.jsx(f,{id:"inntektsinformasjon.leggTilVirksomhet"})})]})]})};try{EgenNring.displayName="EgenNring",EgenNring.__docgenInfo={description:"",displayName:"EgenNring",props:{egenNæringInformasjon:{defaultValue:null,description:"",name:"egenNæringInformasjon",required:!0,type:{name:"Næring[]"}},setEgenNæringsInformasjon:{defaultValue:null,description:"",name:"setEgenNæringsInformasjon",required:!0,type:{name:"(oppdrag: Næring[]) => void"}},visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<InntektsinformasjonFormField, undefined>"}},formValues:{defaultValue:null,description:"",name:"formValues",required:!0,type:{name:"InntektsinformasjonFormData"}}}}}catch{}const In=e=>t=>{if(!d(t))return i(e,"valideringsfeil.inntektsinformasjon.frilansoppstartsDato.påkrevd");if(!C(t))return i(e,"valideringsfeil.inntektsinformasjon.frilansoppstartsDato.ugyldigDatoFormat");if(L().isBefore(L(t),"day"))return i(e,"valideringsfeil.inntektsinformasjon.frilansoppstartsDato.kanIkkeVæreFremITid")},An=()=>{const e=O();return n.jsx(G,{header:i(e,"inntektsinformasjon.harDuJobbetSomFrilansSiste10Mnd.apneLabel"),children:n.jsxs("div",{children:[n.jsx(a,{padBottom:"l",children:n.jsx(D,{children:n.jsx(f,{id:"inntektsinformasjon.harDuJobbetSomFrilansSiste10Mnd.infoboksTekst.del1"})})}),n.jsx(a,{padBottom:"l",children:n.jsx(D,{children:n.jsx(f,{id:"inntektsinformasjon.harDuJobbetSomFrilansSiste10Mnd.infoboksTekst.del2"})})}),n.jsx(D,{children:n.jsx(f,{id:"inntektsinformasjon.harDuJobbetSomFrilansSiste10Mnd.infoboksTekst.del3",values:{a:t=>n.jsx(Ve,{href:ee.frilanserInfoBoks,rel:"noreferrer",target:"_blank",children:t})}})})]})})},je=({visibility:e,formValues:t})=>{const s=O();return n.jsxs(n.Fragment,{children:[n.jsxs(a,{padBottom:"l",visible:e.isVisible(N.hattInntektSomFrilans),children:[n.jsx(J.YesOrNoQuestion,{name:N.hattInntektSomFrilans,legend:i(s,"inntektsinformasjon.harDuJobbetSomFrilansSiste10Mnd")}),n.jsx(An,{})]}),t.hattInntektSomFrilans===o.YES&&n.jsxs("div",{style:{backgroundColor:"#f1f1f1",marginBottom:"1rem",padding:"1rem"},children:[n.jsx(a,{padBottom:"l",visible:e.isVisible(N.frilansOppstartsDato),children:n.jsx(J.DatePicker,{name:N.frilansOppstartsDato,label:i(s,"inntektsinformasjon.frilans.oppstart"),validate:In(s),maxDate:Ue,minDate:qe,showYearSelector:!0,placeholder:"dd.mm.åååå"})}),n.jsx(a,{padBottom:"l",visible:e.isVisible(N.jobberFremdelesSomFrilanser),children:n.jsx(J.YesOrNoQuestion,{name:N.jobberFremdelesSomFrilanser,legend:i(s,"inntektsinformasjon.frilans.jobberFremdelesSomFrilans")})})]})]})};try{je.displayName="Frilans",je.__docgenInfo={description:"",displayName:"Frilans",props:{visibility:{defaultValue:null,description:"",name:"visibility",required:!0,type:{name:"QuestionVisibility<InntektsinformasjonFormField, undefined>"}},formValues:{defaultValue:null,description:"",name:"formValues",required:!0,type:{name:"InntektsinformasjonFormData"}}}}}catch{}const Sn=()=>n.jsxs(X,{"aria-label":"Info til fiskere",children:[n.jsxs(X.Header,{children:[n.jsx(X.Title,{as:"h3",children:n.jsx(f,{id:"inntektsinformasjon.infoTilFiskere.tittel"})}),n.jsx(X.Description,{children:n.jsx(f,{id:"inntektsinformasjon.infoTilFiskere.description"})})]}),n.jsxs(X.Content,{children:[n.jsx(a,{padBottom:"l",children:n.jsx(_,{children:n.jsx(f,{id:"inntektsinformasjon.infoTilFiskere.del1"})})}),n.jsx(te,{as:"h3",style:{marginBottom:".5rem"},children:n.jsx(f,{id:"inntektsinformasjon.infoTilFiskere.hyre"})}),n.jsx(a,{padBottom:"l",children:n.jsx(_,{children:n.jsx(f,{id:"inntektsinformasjon.infoTilFiskere.del2"})})}),n.jsx(a,{padBottom:"l",children:n.jsx(_,{children:n.jsx(f,{id:"inntektsinformasjon.infoTilFiskere.del3",values:{a:e=>n.jsx("a",{href:ee.hvordanSendeInntektsmelding,target:"_blank",rel:"noreferrer",className:"lenke",children:e})}})})}),n.jsx(te,{as:"h3",style:{marginBottom:".5rem"},children:n.jsx(f,{id:"inntektsinformasjon.infoTilFiskere.lott"})}),n.jsx(a,{padBottom:"l",children:n.jsx(_,{children:n.jsx(f,{id:"inntektsinformasjon.infoTilFiskere.del4"})})}),n.jsx(a,{padBottom:"l",children:n.jsx(_,{children:n.jsx(f,{id:"inntektsinformasjon.infoTilFiskere.del5",values:{a:e=>n.jsx("a",{href:ee.omLottOgHyre,target:"_blank",rel:"noreferrer",className:"lenke",children:e})}})})}),n.jsx(te,{as:"h3",style:{marginBottom:".5rem"},children:n.jsx(f,{id:"inntektsinformasjon.infoTilFiskere.egenBåt"})}),n.jsx(a,{padBottom:"l",children:n.jsx(_,{children:n.jsx(f,{id:"inntektsinformasjon.infoTilFiskere.del6"})})}),n.jsx(te,{as:"h3",style:{marginBottom:".5rem"},children:n.jsx(f,{id:"inntektsinformasjon.infoTilFiskere.lottOgHyre"})}),n.jsx(a,{padBottom:"l",children:n.jsx(_,{children:n.jsx(f,{id:"inntektsinformasjon.infoTilFiskere.del7"})})}),n.jsx(a,{padBottom:"l",children:n.jsx(_,{children:n.jsx(f,{id:"inntektsinformasjon.infoTilFiskere.del8"})})}),n.jsx(a,{padBottom:"l",children:n.jsx(_,{children:n.jsx(f,{id:"inntektsinformasjon.infoTilFiskere.del9"})})}),n.jsx(a,{margin:"none",children:n.jsx(_,{children:n.jsx(f,{id:"inntektsinformasjon.infoTilFiskere.del5",values:{a:e=>n.jsx("a",{href:ee.omLottOgHyre,target:"_blank",rel:"noreferrer",className:"lenke",children:e})}})})})]})]}),xn={[N.hattInntektSomFrilans]:{isIncluded:()=>!0,isAnswered:({hattInntektSomFrilans:e})=>e!==o.UNANSWERED},[N.frilansOppstartsDato]:{isIncluded:({hattInntektSomFrilans:e})=>e===o.YES,isAnswered:({frilansOppstartsDato:e})=>d(e),visibilityFilter:({hattInntektSomFrilans:e})=>e===o.YES},[N.jobberFremdelesSomFrilanser]:{isIncluded:({hattInntektSomFrilans:e})=>e===o.YES,isAnswered:({jobberFremdelesSomFrilanser:e})=>e!==o.UNANSWERED,visibilityFilter:({frilansOppstartsDato:e})=>d(e)},[N.hattInntektSomNæringsdrivende]:{isIncluded:()=>!0,isAnswered:({hattInntektSomNæringsdrivende:e})=>e!==o.UNANSWERED,visibilityFilter:({hattInntektSomFrilans:e})=>e!==o.UNANSWERED},[N.hattAndreInntekter]:{isIncluded:()=>!0,isAnswered:({hattAndreInntekter:e})=>e!==o.UNANSWERED,visibilityFilter:({hattInntektSomNæringsdrivende:e})=>e!==o.UNANSWERED}},yn=Ee(xn),Tn={[N.hattInntektSomFrilans]:o.UNANSWERED,[N.hattInntektSomNæringsdrivende]:o.UNANSWERED,[N.hattAndreInntekter]:o.UNANSWERED,[N.frilansOppstartsDato]:"",[N.jobberFremdelesSomFrilanser]:o.UNANSWERED},Dn=e=>{const t=me(e.navnPåNæringen);if(e.hattVarigEndringAvNæringsinntektSiste4Kalenderår){const s={...e.endringAvNæringsinntektInformasjon,forklaring:me(e.endringAvNæringsinntektInformasjon.forklaring)};return{...e,navnPåNæringen:t,endringAvNæringsinntektInformasjon:s}}return{...e,navnPåNæringen:t}},Vn=e=>e.map(t=>t.type===c.JOBB_I_UTLANDET?{...t,arbeidsgiverNavn:me(t.arbeidsgiverNavn)}:t),Fn=(e,t,s,m)=>{let j;return e.hattInntektSomFrilans===o.YES&&(j={oppstart:B(e.frilansOppstartsDato),jobberFremdelesSomFrilans:M(e.jobberFremdelesSomFrilanser)}),{erAleneOmOmsorg:t.erAleneOmOmsorg,harHattAnnenInntektSiste10Mnd:M(e.hattAndreInntekter),harJobbetSomFrilansSiste10Mnd:M(e.hattInntektSomFrilans),harJobbetSomSelvstendigNæringsdrivendeSiste10Mnd:M(e.hattInntektSomNæringsdrivende),andreInntekterSiste10Mnd:e.hattAndreInntekter===o.YES?Vn(s):[],selvstendigNæringsdrivendeInformasjon:e.hattInntektSomNæringsdrivende===o.YES?m.map(A=>Dn(A)):[],frilansInformasjon:e.hattInntektSomFrilans===o.YES?j:void 0}},_n=e=>({...Tn,hattAndreInntekter:T(e.harHattAnnenInntektSiste10Mnd),hattInntektSomNæringsdrivende:T(e.harJobbetSomSelvstendigNæringsdrivendeSiste10Mnd),hattInntektSomFrilans:T(e.harJobbetSomFrilansSiste10Mnd),frilansOppstartsDato:e.frilansInformasjon?Z(e.frilansInformasjon.oppstart):"",jobberFremdelesSomFrilanser:e.frilansInformasjon?T(e.frilansInformasjon.jobberFremdelesSomFrilans):o.UNANSWERED}),Ln=(e,t)=>e.reduce((s,m)=>{if(m.type===t){const j={fom:m.tidsperiode.fom,tom:m.tidsperiode.tom};s.push(j)}return s},[]),ae=(e,t,s)=>!e||e.length===0?e:e.map(m=>({...m,dokumenterer:{type:Ce.OPPTJENING,perioder:Ln(t,s)}})),ve=({arbeidsforhold:e,mellomlagreSøknadOgNaviger:t,avbrytSøknad:s})=>{const m=O(),j=Ge(),A=$e(t),[l,V]=Y.useState(!1),v=ge(ie(Q.SØKERSITUASJON)),F=ge(ie(Q.OM_BARNET)),p=ie(Q.VEDLEGG),u=ge(ie(Q.SØKER_DATA)),k=be(Q.VEDLEGG),E=be(Q.SØKER_DATA),S=ze(F),R=v.situasjon==="adopsjon",q=Je(v.rolle),[ne,h]=Y.useState(u.selvstendigNæringsdrivendeInformasjon?u.selvstendigNæringsdrivendeInformasjon:[]),[x,K]=Y.useState(u.andreInntekterSiste10Mnd?u.andreInntekterSiste10Mnd:[]),[z,_e]=Y.useState(p?p[P.ETTERLØNN_ELLER_SLUTTVEDERLAG]:[]),[le,Le]=Y.useState(p?p[P.DOK_MILITÆR_SILVIL_TJENESTE]:[]),Be=w=>{V(!0);const W=Fn(w,u,x,ne);return E(W),p&&k({...p,[P.ETTERLØNN_ELLER_SLUTTVEDERLAG]:ae(z,x,c.SLUTTPAKKE),[P.DOK_MILITÆR_SILVIL_TJENESTE]:ae(le,x,c.MILITÆRTJENESTE)}),p||k({[P.ETTERLØNN_ELLER_SLUTTVEDERLAG]:ae(z,x,c.SLUTTPAKKE),[P.DOK_MILITÆR_SILVIL_TJENESTE]:ae(le,x,c.MILITÆRTJENESTE)}),A.goToNextDefaultStep()};return n.jsx(J.FormikWrapper,{initialValues:_n(u),onSubmit:Be,renderForm:({values:w})=>{const W=yn.getVisbility(w);return n.jsx(Ke,{bannerTitle:i(m,"søknad.pageheading"),onCancel:s,onContinueLater:A.fortsettSøknadSenere,steps:j,children:n.jsxs(J.Form,{includeButtons:!1,includeValidationSummary:!0,children:[n.jsx(a,{padBottom:"l",children:n.jsx(D,{children:"Hvis du får utbetalinger fra NAV, trenger du ikke å opplyse om det i søknaden"})}),n.jsx(ce,{arbeidsforhold:Qe(e,R,q,B(S))}),n.jsx(a,{padBottom:"l",children:n.jsx(je,{visibility:W,formValues:w})}),n.jsx(a,{padBottom:"l",children:n.jsx(bn,{egenNæringInformasjon:ne,setEgenNæringsInformasjon:h,visibility:W,formValues:w})}),n.jsx(a,{padBottom:"l",children:n.jsx(fe,{andreInntekterInformasjon:x,setAndreInntekterInformasjon:K,setEtterlønnVedlegg:_e,setMilitærVedlegg:Le,etterlønnVedlegg:z||[],militærVedlegg:le||[],visibility:W,formValues:w})}),n.jsx(a,{padBottom:"l",children:n.jsx(Sn,{})}),n.jsx(a,{margin:"xl",children:n.jsx(He,{isNexButtonVisible:W.areAllQuestionsAnswered(),goToPreviousStep:A.goToPreviousDefaultStep,isDisabledAndLoading:l})})]})})}})},st=ve;try{ve.displayName="Inntektsinformasjon",ve.__docgenInfo={description:"",displayName:"Inntektsinformasjon",props:{arbeidsforhold:{defaultValue:null,description:"",name:"arbeidsforhold",required:!0,type:{name:"Arbeidsforhold[]"}},mellomlagreSøknadOgNaviger:{defaultValue:null,description:"",name:"mellomlagreSøknadOgNaviger",required:!0,type:{name:"() => Promise<void>"}},avbrytSøknad:{defaultValue:null,description:"",name:"avbrytSøknad",required:!0,type:{name:"() => void"}}}}}catch{}export{st as I};
