import{j as i}from"./jsx-runtime-CexXSJP5.js";import{M as pn}from"./index-DfkQcp4z.js";import{n as kn,a as _t,u as bt,b as Lt,o as xt,c as un}from"./app-CkftbBcN.js";import{r as A}from"./index-BP8_t0zE.js";import{g as ke,s as cn}from"./apiInterceptor-D-WKbiXB.js";import{j as gn,n as Kt,A as nt,f as mn,S as fn,k as En,U as Sn,m as dr,I as vn,B as An,i as Fn}from"./ByttBrowserModal-xUhfs7pc.js";import{l as hn,aD as Bt,ab as Pn,a2 as Tn,d as M,U as h,a8 as pe,aE as Un,au as Me,u as pt,B as le,i as je,M as De,w as Ie,f as st,aF as _,ad as z,af as lr,aG as Nn,b as Vt,aa as On,L as pr,aH as kr}from"./Tidsperioden-C6mWeONA.js";import{c as Dn}from"./index-CSpfAsmC.js";import"./_baseToString-7VaozA17.js";import"./_createSet-W-93wHM-.js";import{aw as Rn,L as J,ax as ur,ay as cr,az as Gt,O as ye,Q as gr,v as fe,w as ee,W as N,_ as mr,Z as T,N as Ee,av as jn,aA as In,T as S,a0 as wt,a2 as Xe,S as U,a8 as yn,aB as fr,M as Mn,aC as _n,a9 as bn,aa as Ln,aD as xn,aE as Kn,ad as Ht,V as Q,aF as Bn,aG as Vn,aH as ot,U as at,aj as Gn,af as Er,aI as kt,ab as wn,u as Hn,r as Jn,G as qn,A as Cn,z as Yn,B as $n,a7 as Wn,aJ as Jt,aK as zn,aL as Qn,D as qt,aM as Zn,C as Xn,aN as es,aO as ts,aP as rs,aQ as ns}from"./useFpNavigator-B35OhR2f.js";import{B as ss}from"./index-Dt9hiTZW.js";import{k as Sr,j as os,h as vr,m as as,E as et}from"./dateUtils-BC7Ub2_c.js";import{d as ut,u as tt,a as rt,b as is,R as oe,g as ds,F as ls}from"./getStønadskontoParams-FlEaTnQz.js";import{g as j}from"./guid-CsArkN6i.js";import{n as I,C as c,i as ps,o as ks,l as us,d as ct,p as cs,q as Ar,u as H,a as X,j as Fr,m as gs,r as ms,e as fs,t as Es,v as L,w as Ct,F as Ss}from"./FpDataContext-BTc1vbhf.js";import{a as vs}from"./globalUtil-BlnmPyM5.js";import"./dateFormValidation-CnYnx8C2.js";import{j as _e,c as hr,l as Pr}from"./barnUtils-CaCDHL4F.js";import{V as As}from"./Velkommen-DhPT_nrc.js";import{A as Fs}from"./AnnenForelderSteg-Z0QI-r-f.js";import{a as Yt,O as se,F as hs}from"./FordelingSteg-CuppZGlj.js";import{I as Ps}from"./Inntektsinformasjon-BLaWpjcR.js";import{M as $t}from"./ManglendeVedlegg-DAxQpJOj.js";import{O as Ts}from"./OmBarnetSteg-04noW40u.js";import{O as Wt}from"./Oppsummering-qa00fn8u.js";import{P as Us}from"./PeriodeMedForeldrepengerSteg-r2qaK6Su.js";import{S as Ns}from"./SøkersituasjonSteg-Ct9U_f5s.js";import{U as Os}from"./UtenlandsoppholdSteg-CcwPjhRQ.js";import{S as Ds}from"./SenereUtenlandsoppholdSteg-DtZ782fV.js";import{T as Rs}from"./TidligereUtenlandsoppholdSteg-ZSa8zCvx.js";import{S as $}from"./innsendingsType-DprMYF-V.js";import{g as js}from"./Næring-BE6IinjM.js";import{I as Is}from"./InfoOmNesteBarn-CztohswL.js";import{c as ys,d as Ms}from"./eksisterendeSakUtils-ihxaHjhK.js";import{M as W}from"./message-DzkwUWcQ.js";import{H as _s,B as zt}from"./Link-DYtqBS4e.js";import{H as bs}from"./VStack-6vecGfqt.js";import{g as Qt}from"./numberUtils-DnoB-1sH.js";import"./BoIUtlandetOppsummeringspunkt-Cyf0stOR.js";import"./Accordion-BMQZaWtJ.js";import"./TidligereUtenlandsoppholdPanel-COgNySNl.js";import"./ErrorSummaryHookForm-Bgc4dvQe.js";import"./links-BP9VcYJA.js";import"./index-Snk9MO9S.js";import"./index-BxmsGmlx.js";import"./iframe-BEFWYq_A.js";import"../sb-preview/runtime.js";import"./_baseForOwn-BL0n5IRD.js";import"./_baseUniq-DaL16s-J.js";import"./DinePlikter-C077HYUF.js";import"./DinePersonopplysningerModal-DpdIdBup.js";import"./velkommenUtils-C5gjmvar.js";import"./RegistrertePersonalia-KwXQ_FjX.js";import"./BabyWrapped-C_BSBDsJ.js";import"./validationUtil-BUQ4rXKT.js";import"./isString-8DPu1bN4.js";import"./attachmentMetadataType-B9XvXCfe.js";import"./InteractiveListElement-D8axQ607.js";import"./vedleggUtils-DjYcowE6.js";import"./FormikFileUploader-IO4Bu85r.js";import"./AttachmentList-CsvwWiab.js";import"./Attachment-DSqvh5fc.js";import"./util-5X7gY05k.js";const Ls=[{fom:"2022-12-12",tom:"2023-02-17",kontoType:"FEDREKVOTE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},samtidigUttak:100,flerbarnsdager:!1},{fom:"2023-02-20",tom:"2023-03-05",kontoType:"FELLESPERIODE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},samtidigUttak:50,flerbarnsdager:!1},{fom:"2023-03-20",tom:"2023-03-31",kontoType:"FEDREKVOTE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},flerbarnsdager:!1}],xs="HUNDRE",Ks={perioder:Ls,dekningsgrad:xs},Bs="2019-02-01",Vs="23123",Gs={innsendingstidspunkt:Bs,pdf:Vs},ws=[{saksnummer:"352011594",sakAvsluttet:!1,sisteSøknadMottattDato:"2023-03-31",kanSøkeOmEndring:!1,sakTilhørerMor:!1,gjelderAdopsjon:!0,morUføretrygd:!1,harAnnenForelderTilsvarendeRettEØS:!1,ønskerJustertUttakVedFødsel:!1,rettighetType:"BEGGE_RETT",annenPart:{type:"person",fnr:"05489305072",fornavn:"Sentral",etternavn:"Tangent"},familiehendelse:{fødselsdato:"2023-02-01",antallBarn:1,omsorgsovertakelse:"2023-04-10"},åpenBehandling:{tilstand:"VENT_INNTEKTSMELDING",søknadsperioder:[{fom:"2023-04-10",tom:"2023-07-21",kontoType:"FEDREKVOTE",flerbarnsdager:!1},{fom:"2023-07-24",tom:"2023-09-15",kontoType:"FELLESPERIODE",morsAktivitet:"UTDANNING",flerbarnsdager:!1}]},barn:[],dekningsgrad:"HUNDRE"}],Hs=[],Js={foreldrepenger:ws,engangsstønad:[],svangerskapspenger:Hs},qs={MØDREKVOTE:95,FEDREKVOTE:95,FELLESPERIODE:90,FORELDREPENGER_FØR_FØDSEL:15},Cs={farRundtFødsel:0,generellMinsterett:0,toTette:0},Ys={kontoer:qs,minsteretter:Cs},$s={MØDREKVOTE:75,FEDREKVOTE:75,FELLESPERIODE:80,FORELDREPENGER_FØR_FØDSEL:15},Ws={farRundtFødsel:0,generellMinsterett:0,toTette:0},zs={kontoer:$s,minsteretter:Ws},Qs={MØDREKVOTE:95,FEDREKVOTE:95,FELLESPERIODE:90,FORELDREPENGER_FØR_FØDSEL:15,FORELDREPENGER:80},Zs={},Xs={kontoer:Qs,minsteretter:Zs},eo="From {fom} until {tom}",to={tidsperiode:eo,"tidsperiode.kort":"{fom} - {tom}"},ro="Fra {fom} til {tom}",no={tidsperiode:ro,"tidsperiode.kort":"{fom} - {tom}"},so="Frå {fom} til {tom}",oo={tidsperiode:so,"tidsperiode.kort":"{fom} - {tom}"},ao=e=>{window.location.href=e},Zt={nb:no,nn:oo,en:to};function io(e){A.useEffect(()=>{const t=document.title;return document.title=e,()=>{document.title=t}},[e])}const Tr="selectedLocale",lo=()=>sessionStorage.getItem(Tr)||"nb",po=e=>{sessionStorage.setItem(Tr,e)},ko={"uttaksplan.familiehendelsesdato.født":"{antallBarn, plural, one{Barnet} other {Barna}} er født {dato}","uttaksplan.familiehendelsesdato.termin":"Termin {dato}","uttaksplan.familiehendelsesdato.adopsjon":"{antallBarn, plural, one{Barnet} other {Barna}} er adoptert {dato}"},uo={"uttaksplan.familiehendelsesdato.født":"{antallBarn, plural, one{Barnet} other {Barna}} er født {dato}","uttaksplan.familiehendelsesdato.termin":"Termin {dato}","uttaksplan.familiehendelsesdato.adopsjon":"{antallBarn, plural, one{Barnet} other {Barna}} er adoptert {dato}"},co={"uttaksplan.familiehendelsesdato.født":"{antallBarn, plural, one{Barnet} other {Barna}} er født {dato}","uttaksplan.familiehendelsesdato.termin":"Termin {dato}","uttaksplan.familiehendelsesdato.adopsjon":"{antallBarn, plural, one{Barnet} other {Barna}} er adoptert {dato}"},go={"kalender.fødsel":"Birth","kalender.termin":"Due date","kalender.adopsjon":"Adoption","kalender.avslåttePerioder":"Rejected periods are not displayed in the calendar.","kalender.dinPeriode":"Your period","kalender.dinPeriode.gradert":"You combine work and parental benefits","kalender.annenPartPeriode":"{navnAnnenPart} period","kalender.samtidigUttak":"You and {navnAnnenPart} are on leave at the same time","kalender.dinUtsettelse":"You postpone parental benefits","kalender.utsettelseAnnenPart":"{navnAnnenPart} postpones parental benefits","kalender.helg":"Weekend (not days with parental allowance)","kalender.tapteDager":"Days you can lose","kalender.utsettelse":"You postpone parental benefits due to {reason}","kalender.utsettelse.ARBEID":"because you are working","kalender.utsettelse.INSTITUSJONSOPPHOLD_BARNET":"because the child is hospitalized","kalender.utsettelse.INSTITUSJONSOPPHOLD_SØKER":"because you are hospitalized","kalender.utsettelse.LOVBESTEMT_FERIE":"because you are on statutory holiday","kalender.utsettelse.SYKDOM":"because you are ill","kalender.utsettelse.HV_OVELSE":"due to exercises or service in the Home Guard","kalender.utsettelse.NAV_TILTAK":"due to NAV measures that constitute 100% work","kalender.lastNed":"Download the calendar as PDF","kalender.skjermleser.familiehendelse":"{familiehendelsenavn} on {dato}","kalender.skjermleser.periode":"{periodeNavn} from the {fraDato} until the {tilDato}"},mo={"kalender.fødsel":"Fødsel","kalender.termin":"Termin","kalender.adopsjon":"Adopsjon","kalender.avslåttePerioder":"Avslåtte perioder vises ikke i kalenderen.","kalender.dinPeriode":"Din periode","kalender.dinPeriode.gradert":"Du kombinerer jobb og foreldrepenger","kalender.annenPartPeriode":"{navnAnnenPart} periode","kalender.samtidigUttak":"Du og {navnAnnenPart} har permisjon samtidig","kalender.dinUtsettelse":"Du utsetter foreldrepenger","kalender.utsettelseAnnenPart":"{navnAnnenPart} utsetter foreldrepenger","kalender.helg":"Helg (er ikke dager med foreldrepenger)","kalender.tapteDager":"Dager du kan tape","kalender.utsettelse":"Du utsetter foreldrepenger {årsak}","kalender.utsettelse.ARBEID":"fordi du skal jobbe","kalender.utsettelse.INSTITUSJONSOPPHOLD_BARNET":"fordi barnet er innlagt","kalender.utsettelse.INSTITUSJONSOPPHOLD_SØKER":"fordi du er innlagt","kalender.utsettelse.LOVBESTEMT_FERIE":"fordi du er på ferie","kalender.utsettelse.SYKDOM":"fordi du er syk","kalender.utsettelse.HV_OVELSE":"pga. øvelse eller tjeneste i Heimevernet","kalender.utsettelse.NAV_TILTAK":"pga. NAV tiltak som utgjør 100% arbeid","kalender.lastNed":"Last ned kalender som PDF","kalender.skjermleser.familiehendelse":"{familiehendelsenavn} den {dato}","kalender.skjermleser.periode":"{periodeNavn} fra den {fraDato} til den {tilDato}"},fo={"kalender.fødsel":"Fødsel","kalender.termin":"Termin","kalender.adopsjon":"Adopsjon","kalender.avslåttePerioder":"Avslåtte periodar vises ikkje i kalenderen.","kalender.dinPeriode":"Din periode","kalender.dinPeriode.gradert":"Du kombinerer jobb og foreldrepengar","kalender.annenPartPeriode":"{navnAnnenPart} periode","kalender.samtidigUttak":"Du og {navnAnnenPart} har permisjon samtidig","kalender.dinUtsettelse":"Du utsetter foreldrepengar","kalender.utsettelseAnnenPart":"{navnAnnenPart} utsetter foreldrepengar","kalender.helg":"Helg (er ikkje dagar med foreldrepengar)","kalender.tapteDager":"Dagar du kan tape","kalender.utsettelse":"Du utsetter foreldrepengar {årsak}","kalender.utsettelse.ARBEID":"fordi du skal jobbe","kalender.utsettelse.INSTITUSJONSOPPHOLD_BARNET":"fordi barnet er innlagt","kalender.utsettelse.INSTITUSJONSOPPHOLD_SØKER":"fordi du er innlagt","kalender.utsettelse.LOVBESTEMT_FERIE":"fordi du er på ferie","kalender.utsettelse.SYKDOM":"fordi du er sjuk","kalender.utsettelse.HV_OVELSE":"pga. øving eller teneste i Heimevernet","kalender.utsettelse.NAV_TILTAK":"pga. NAV tiltak som utgjer 100% arbeid","kalender.lastNed":"Last ned kalender som PDF","kalender.skjermleser.familiehendelse":"{familiehendelsenavn} den {dato}","kalender.skjermleser.periode":"{periodeNavn} fra den {fraDato} til den {tilDato}"},Xt={nb:mo,nn:fo,en:go},Eo=(e,t,r,n,o,s,a,l)=>{const{normaliserteEgnePerioder:k,normaliserteAnnenPartsPerioder:d}=Rn(t,e);return d.length>0?(k.forEach(p=>{if(J(p)){const g=ur(d).finnOverlappendePerioder(p),u=g.length>0?g[0]:void 0;u!==void 0&&cr(u)&&(p.ønskerSamtidigUttak||(p.ønskerSamtidigUttak=!0,p.samtidigUttakProsent=Gt(p.gradert,p.stillingsprosent)),u.ønskerSamtidigUttak||(u.ønskerSamtidigUttak=!0,u.samtidigUttakProsent=Gt(u.gradert,u.stillingsprosent)))}}),ye(gr(k,d,r,l),n,r,o,s,a,l)):t},er={nb:uo,nn:co,en:ko},So=(e,t)=>hn(t)?t:!Array.isArray(t)&&Bt(t,[Bt.HTML5_FMT.DATE,"YYYY-MM-DDTHH:mm:ss.SSSZ"],!0).isValid()?new Date(t):t,vo=e=>{if(e)return JSON.parse(e,So)},Ao="/rest/soknad",Fo="/rest/soknad/endre",ho=()=>{const{data:e,error:t}=ut("/rest/sokerinfo",{config:{withCredentials:!0}});return{søkerinfoData:e,søkerinfoError:t}},Po=()=>{const{data:e,error:t}=ut("/rest/innsyn/v2/saker",{config:{withCredentials:!0}});return{sakerData:e,sakerError:t}},To=()=>{const{data:e,error:t,requestStatus:r}=ut("/rest/storage/foreldrepenger",{config:{transformResponse:vo,withCredentials:!0}});return{storageData:e,storageError:t,storageStatus:r}},Uo=(e,t)=>ke(t).post("/rest/storage/foreldrepenger",e,{withCredentials:!0}),No=e=>ke(e).get("/rest/storage/kvittering/foreldrepenger",{withCredentials:!0,timeout:15*1e3}),Oo=(e,t,r)=>{const n=e.erEndringssøknad?Fo:Ao;return ke(t).post(n,e,{withCredentials:!0,timeout:120*1e3,headers:{"content-type":"application/json;"},signal:r})},Do=(e,t)=>ke(e).delete("/rest/storage/foreldrepenger",{withCredentials:!0,signal:t}),Ro=(e,t,r)=>{const n=t.reduce((o,s)=>(s.uuid&&o.push(s.uuid),o),[]);return ke(e).delete("/rest/storage/foreldrepenger/vedlegg",{withCredentials:!0,data:n,signal:r})},te={storeAppState:Uo,getStorageKvittering:No,useStoredAppState:To,useSøkerinfo:ho,sendSøknad:Oo,useGetSaker:Po,deleteMellomlagretSøknad:Do,deleteMellomlagredeVedlegg:Ro},jo="Det har oppstått et problem med innsending av søknaden. Vennligst prøv igjen senere. Hvis problemet vedvarer, kontakt oss og oppgi feil id: ",Ur="ukjent uuid",Io=(e,t,r)=>{const n=Go(yo(e));return jn(t,r,e.tidsperiode.fom)?{...n,justeresVedFødsel:!0}:n},yo=e=>{const{erMorForSyk:t,...r}=e;return r},Mo=e=>e.type!==N.Hull,_o=e=>e.type!==N.Info,bo=e=>e.type!==N.PeriodeUtenUttak,Lo=e=>In(e)?!e.skalIkkeHaUttakFørTermin:Mo(e)&&_o(e)&&bo(e)&&!(J(e)&&e.konto===void 0),Nr=(e,t=!1)=>{if(ee(e)){const{erMorUfør:r,erForSyk:n,harRettPåForeldrepengerINorge:o,harRettPåForeldrepengerIEØS:s,harOppholdtSegIEØS:a,...l}=e,k={harMorUføretrygd:r,harRettPåForeldrepenger:o,...l};return o?{...k,erInformertOmSøknaden:!0}:a?{...k,harAnnenForelderOppholdtSegIEØS:a,harAnnenForelderTilsvarendeRettEØS:s}:t?{...k,harAnnenForelderTilsvarendeRettEØS:s}:{...k,harAnnenForelderOppholdtSegIEØS:a}}return e},xo=e=>{if(ps(e)){const{type:n,fnr:o,...s}=e;return s}if(ks(e)){const{type:n,fnr:o,...s}=e;return{adopsjonAvEktefellesBarn:us(e),...s}}const{type:t,...r}=e;return r},Ko=e=>{switch(e){case"mor":return"MOR";case"far":return"FAR";case"medmor":return"MEDMOR";default:return vs(e,"Søkerrolle er ikke satt")}},Bo=(e,t,r,n,o)=>(J(e)&&(e.konto===S.Flerbarnsdager&&(e.konto=t?S.Fellesperiode:S.Foreldrepenger),e.konto===S.AktivitetsfriKvote&&(e.konto=S.Foreldrepenger,n&&!t&&pe(o)?e.morsAktivitetIPerioden=wt.IkkeOppgitt:r&&(e.morsAktivitetIPerioden=wt.Uføre))),e),Vo=e=>{if(e!==void 0&&e.length>0){const t=e[0];return{erArbeidstaker:t===Xe.arbeidstaker,erFrilanser:t===Xe.frilans,erSelvstendig:t===Xe.selvstendignæringsdrivende}}else return{}},Go=e=>e.gradert?{...e,...Vo(e.arbeidsformer)}:e,Or=(e,t,r,n,o,s,a)=>{const k=e.map(d=>({...d})).filter(d=>Pn(d.tidsperiode)).filter(Lo).map(d=>s&&ee(s)?Bo(d,!!s.harRettPåForeldrepengerINorge,!!s.erMorUfør,r,t):d).map(d=>d.type===N.Uttak?Io(d,n,o):d);return a&&Tn(t)&&!wo(k,a)?Ho(k,a):k},wo=(e,t)=>e.find(r=>M(t).isBetween(r.tidsperiode.fom,r.tidsperiode.tom,"day","[]")),Ho=(e,t)=>{const r=e.find(s=>M(s.tidsperiode.fom).isAfter(t,"day")),n=r?h(r.tidsperiode.fom).forrige():t,o={type:N.Utsettelse,årsak:mr.Fri,id:j(),tidsperiode:{fom:t,tom:n},erArbeidstaker:!1,forelder:T.farMedmor};return e.push(o),e.sort(Ee),e},Dr=e=>{if(!e)return[];const t=[];return Object.keys(e).forEach(r=>{const n=e[r];n&&n.length>0&&t.push(...n)}),t},Jo=(e,t,r)=>{const n=I(e(c.ANNEN_FORELDER)),o=I(e(c.OM_BARNET)),s=I(e(c.SØKER_DATA)),a=I(e(c.SØKERSITUASJON)),l=I(e(c.UTENLANDSOPPHOLD)),k=I(e(c.PERIODE_MED_FORELDREPENGER)),d=e(c.UTENLANDSOPPHOLD_SENERE),p=e(c.UTENLANDSOPPHOLD_TIDLIGERE),g=I(e(c.UTTAKSPLAN)),u=I(e(c.UTTAKSPLAN_METADATA)),m=e(c.EKSISTERENDE_SAK),f=e(c.VEDLEGG),E=Nr(n),b=Rr(a,r,n,s),O=xo(o),P=fe(a.rolle),F=_e(o),v=Or(g,t,P,u.ønskerJustertUttakVedFødsel,F,n);return{type:"foreldrepenger",harGodkjentVilkår:!0,saksnummer:m==null?void 0:m.saksnummer,erEndringssøknad:!1,søker:b,barn:O,situasjon:a.situasjon,annenForelder:E,uttaksplan:v,informasjonOmUtenlandsopphold:{...l,...d||{senereOpphold:[]},...p||{tidligereOpphold:[]}},dekningsgrad:k.dekningsgrad,ønskerJustertUttakVedFødsel:u.ønskerJustertUttakVedFødsel,vedlegg:Dr(f)}},Rr=(e,t,r,n)=>{const o=Ko(e.rolle),s=ee(r),a={rolle:o,språkkode:t,erAleneOmOmsorg:s?r.erAleneOmOmsorg:!0};return n?{...a,andreInntekterSiste10Mnd:n.andreInntekterSiste10Mnd,frilansInformasjon:n.frilansInformasjon,selvstendigNæringsdrivendeInformasjon:n.selvstendigNæringsdrivendeInformasjon}:{...a,andreInntekterSiste10Mnd:[],selvstendigNæringsdrivendeInformasjon:[]}},qo=(e,t,r,n,o,s)=>e?Co(t,r,n,o,s):Jo(t,n,o),Co=(e,t,r,n,o)=>{const s=I(e(c.UTTAKSPLAN_METADATA)),a=I(e(c.ANNEN_FORELDER)),l=I(e(c.OM_BARNET)),k=e(c.SØKER_DATA),d=I(e(c.PERIODE_MED_FORELDREPENGER)),p=I(e(c.SØKERSITUASJON)),g=I(e(c.EKSISTERENDE_SAK)),u=fe(p.rolle),m=_e(l),f=e(c.VEDLEGG);return{type:"foreldrepenger",erEndringssøknad:!0,saksnummer:g.saksnummer,uttaksplan:Or(t,r,u,s.ønskerJustertUttakVedFødsel,m,a,o),søker:Rr(p,n,a,k),annenForelder:Nr(a,!0),barn:l,dekningsgrad:d.dekningsgrad,situasjon:p.situasjon,ønskerJustertUttakVedFødsel:s.ønskerJustertUttakVedFødsel,vedlegg:Dr(f)}},tr=e=>e.replace(/\d/g,"*").slice(0,250)+"...",ae=e=>{var a,l,k,d;const t=jr(e)+". ",r=Yo(e)+". ";let n=t+r;const o=((l=(a=e.request)==null?void 0:a.data)==null?void 0:l.messages)??((d=(k=e.response)==null?void 0:k.data)==null?void 0:d.messages),s=Array.isArray(o);s&&o.length>0&&(n=n+tr(o[0])),!s&&o&&(n=n+tr(o)),e.message&&(n=n+e.message),gn(n)},jr=e=>{var t,r;return(r=(t=e.response)==null?void 0:t.data)!=null&&r.uuid?e.response.data.uuid:Ur},Yo=e=>{var t,r;return(r=(t=e.response)==null?void 0:t.data)!=null&&r.timestamp?e.response.data.timestamp:""},$o=e=>{const t=e.søknad;return{[c.APP_ROUTE]:e.currentRoute,[c.EKSISTERENDE_SAK]:e.eksisterendeSak,[c.BARN_FRA_NESTE_SAK]:e.barnFraNesteSak,[c.SØKERSITUASJON]:t==null?void 0:t.søkersituasjon,[c.OM_BARNET]:t==null?void 0:t.barn,[c.ANNEN_FORELDER]:t==null?void 0:t.annenForelder,[c.SØKER_DATA]:t==null?void 0:t.søker,[c.UTENLANDSOPPHOLD]:t!=null&&t.informasjonOmUtenlandsopphold?{iNorgeNeste12Mnd:t.informasjonOmUtenlandsopphold.iNorgeNeste12Mnd,iNorgeSiste12Mnd:t.informasjonOmUtenlandsopphold.iNorgeSiste12Mnd}:void 0,[c.UTENLANDSOPPHOLD_SENERE]:t!=null&&t.informasjonOmUtenlandsopphold&&t.informasjonOmUtenlandsopphold.senereOpphold&&t.informasjonOmUtenlandsopphold.senereOpphold.length>0?{senereOpphold:t.informasjonOmUtenlandsopphold.senereOpphold}:void 0,[c.UTENLANDSOPPHOLD_TIDLIGERE]:t!=null&&t.informasjonOmUtenlandsopphold&&t.informasjonOmUtenlandsopphold.tidligereOpphold&&t.informasjonOmUtenlandsopphold.tidligereOpphold.length>0?{tidligereOpphold:t.informasjonOmUtenlandsopphold.tidligereOpphold}:void 0,[c.PERIODE_MED_FORELDREPENGER]:t!=null&&t.dekningsgrad?{dekningsgrad:t.dekningsgrad}:void 0,[c.FORDELING]:e.fordeling,[c.UTTAKSPLAN]:t==null?void 0:t.uttaksplan,[c.UTTAKSPLAN_METADATA]:{ønskerJustertUttakVedFødsel:t==null?void 0:t.ønskerJustertUttakVedFødsel,perioderSomSkalSendesInn:e.perioderSomSkalSendesInn,antallUkerIUttaksplan:e.antallUkerIUttaksplan,harUttaksplanBlittSlettet:e.harUttaksplanBlittSlettet,annenPartsUttakErLagtTilIPlan:e.annenPartsUttakErLagtTilIPlan,endringstidspunkt:e.endringstidspunkt},[c.VEDLEGG]:t==null?void 0:t.vedlegg}},Wo=(e,t,r=!0)=>{if(r){console.log({eventName:e,eventData:t});return}setTimeout(()=>{try{Kt&&Kt.getInstance().logEvent(e,t)}catch(n){console.error(n)}})},zo=(e,t,r,n)=>{const o=ct(),s=cs();return A.useCallback(async()=>{Wo("applikasjon-hendelse",{app:"foreldrepengesoknad",team:"foreldrepenger",hendelse:"avbrutt"}),s(),t(!1),r(!1),n(void 0);try{await te.deleteMellomlagretSøknad(e)}catch{}o("/")},[e,o,s,t,r,n])},Ir=9,Qo=e=>{switch(e){case U.UTTAKSPLAN:case U.OPPSUMMERING:return!0;default:return!1}},rr=e=>{var t;return(t=e.søknad)!=null&&t.erEndringssøknad&&!Qo(e.currentRoute)?!1:e.version===Ir},Zo=(e,t,r,n,o,s)=>{const a=I(t(c.APP_ROUTE)),l=t(c.SØKERSITUASJON),k=t(c.OM_BARNET),d=t(c.ANNEN_FORELDER),p=t(c.SØKER_DATA),g=t(c.UTENLANDSOPPHOLD),u=t(c.UTENLANDSOPPHOLD_SENERE),m=t(c.UTENLANDSOPPHOLD_TIDLIGERE),f=t(c.UTTAKSPLAN_METADATA),E=t(c.BARN_FRA_NESTE_SAK),b=t(c.EKSISTERENDE_SAK),O=t(c.UTTAKSPLAN),P=t(c.FORDELING),F=t(c.PERIODE_MED_FORELDREPENGER),v=t(c.VEDLEGG),q={version:Ir,locale:e,currentRoute:a,søknadGjelderEtNyttBarn:s,søknad:{harGodkjentVilkår:o,søkersituasjon:l,barn:k,annenForelder:d,søker:p,informasjonOmUtenlandsopphold:g?{...g,senereOpphold:(u==null?void 0:u.senereOpphold)||[],tidligereOpphold:(m==null?void 0:m.tidligereOpphold)||[]}:void 0,erEndringssøknad:n,dekningsgrad:F==null?void 0:F.dekningsgrad,uttaksplan:O,vedlegg:v,ønskerJustertUttakVedFødsel:f==null?void 0:f.ønskerJustertUttakVedFødsel},eksisterendeSak:b,barnFraNesteSak:E,fordeling:P,endringstidspunkt:f==null?void 0:f.endringstidspunkt,antallUkerIUttaksplan:f==null?void 0:f.antallUkerIUttaksplan,perioderSomSkalSendesInn:f==null?void 0:f.perioderSomSkalSendesInn,harUttaksplanBlittSlettet:f==null?void 0:f.harUttaksplanBlittSlettet,annenPartsUttakErLagtTilIPlan:f==null?void 0:f.annenPartsUttakErLagtTilIPlan};return te.storeAppState(q,r)},Xo=(e,t,r,n,o)=>{const s=ct(),a=Ar(),[l,k]=A.useState(!1),d=A.useRef();return A.useEffect(()=>{if(l){const g=I(a(c.APP_ROUTE));(async()=>{k(!1),s(g),await Zo(e,a,t,r,n,o),d.current&&d.current()})().catch(m=>{ae(m),d.current&&d.current()})}},[l]),A.useCallback(()=>(k(!0),new Promise(u=>{d.current=u})),[])},ea=e=>!!(e&&typeof e=="object"&&"isAxiosError"in e),ta=(e,t,r,n)=>{const o=Ar(),[s,a]=A.useState();return{sendSøknad:async k=>{const d=I(o(c.UTTAKSPLAN_METADATA)),p=I(o(c.OM_BARNET)),g=qo(t,o,d.perioderSomSkalSendesInn,hr(p),n,d.endringstidspunkt);g.uttaksplan.length===0&&g.erEndringssøknad&&a(new Error("Søknaden din inneholder ingen nye perioder."));let u;try{u=(await te.sendSøknad(g,e,k)).data}catch(m){if(ea(m)){ae(m);const f=jr(m),E=f!==Ur?f.slice(0,8):f;a(new Error(jo+E))}else a(new Error(String(m)))}try{await te.deleteMellomlagretSøknad(e,k)}catch{}r(u)},errorSendSøknad:s}};var me=(e=>(e.ønskerAutomatiskJustering="ønskerAutomatiskJustering",e))(me||{});const it=yn(),ra=(e,t)=>{const[r,n]=A.useState(e);return A.useEffect(()=>{const o=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(o)}},[e,t]),r},Re=e=>J(e)||fr(e)||Mn(e)||_n(e),nr=(e,t,r,n,o)=>n?t?sa(n,e,o,r):e.filter(Re):e,na=(e,t,r,n)=>{const o=t.filter(s=>Un(r,s.tidsperiode.fom,s.tidsperiode.tom)||M(s.tidsperiode.fom).isSameOrAfter(M(r),"day")).filter(Re);if(o.length===0&&(e.length>t.length||e.filter(Re).length>t.filter(Re).length)){const s=e.find(l=>M(l.tidsperiode.fom).isSame(r,"day"));return[{id:j(),type:N.Utsettelse,tidsperiode:{fom:s.tidsperiode.fom,tom:s.tidsperiode.tom},årsak:mr.Fri,forelder:n?T.farMedmor:T.mor,erArbeidstaker:!1}]}else return o},sa=(e,t,r,n)=>r===void 0?[]:na(e,t,r,n),oa=(e,t)=>e&&t?(100-parseInt(t,10)).toString():"100",aa=e=>Ln(e),ia=(e,t)=>({ønskerAutomatiskJustering:e!==void 0&&t?bn(e):Me.UNANSWERED}),yr=({termindato:e,perioderMedUttakRundtFødsel:t,antallBarn:r,visibility:n})=>{const o=pt(),s=h(e).denneEllerNeste(),a=H(c.UTTAKSPLAN_METADATA),l=X(c.UTTAKSPLAN_METADATA),k=a==null?void 0:a.ønskerJustertUttakVedFødsel,d=k&&t.length>1,p=k&&t.length===1&&!M(t[0].tidsperiode.fom).isSame(s,"day"),g=k&&t.length===1&&M(t[0].tidsperiode.fom).isSame(s,"day")&&(J(t[0])&&(t[0].konto!==S.Fedrekvote||!t[0].ønskerSamtidigUttak)||fr(t[0])),u=k&&t.length===1&&M(t[0].tidsperiode.fom).isSame(s,"day")&&J(t[0])&&t[0].konto===S.Fedrekvote&&t[0].ønskerFlerbarnsdager===!0;let m="";d&&(m="uttaksplan.automatiskJustering.info.hvisFlerePerioder"),p&&(m="uttaksplan.automatiskJustering.info.hvisIkkeLengerStarterPåTermin"),g&&(m="uttaksplan.automatiskJustering.info.hvisEndretPeriodePåTermin"),u&&(m="uttaksplan.automatiskJustering.info.hvisEndretPeriodeTilØnskerFlerbarnsdager");const f=E=>{const b=aa(E);l({...a,ønskerJustertUttakVedFødsel:b})};return i.jsx(it.Form,{includeButtons:!1,children:i.jsxs("div",{style:{paddingTop:"1rem",paddingBottom:"1rem"},children:[m!==""&&i.jsx(le,{padBottom:"l",children:i.jsx(nt,{variant:"info",children:i.jsx(W,{id:m})})}),i.jsx(le,{visible:n.isVisible(me.ønskerAutomatiskJustering),padBottom:"l",children:i.jsx(it.YesOrNoQuestion,{name:me.ønskerAutomatiskJustering,legend:je(o,"uttaksplan.automatiskJustering.spørsmål",{antallBarn:r}),validate:E=>{if(E===Me.UNANSWERED)return je(o,"uttaksplan.automatiskJustering.svar.påkrevd")},afterOnChange:E=>f(E)})})]})})};yr.__docgenInfo={description:"",methods:[],displayName:"AutomatiskJusteringForm",props:{termindato:{required:!0,tsType:{name:"Date"},description:""},perioderMedUttakRundtFødsel:{required:!0,tsType:{name:"Array",elements:[{name:"union",raw:`| Uttaksperiode
| Utsettelsesperiode
| Oppholdsperiode
| Overføringsperiode
| PeriodeHull
| PeriodeUtenUttakUtsettelse
| PeriodeUtenUttak
| InfoPeriode`,elements:[{name:"union",raw:"UttaksperiodeBase | ForeldrepengerFørFødselUttaksperiode",elements:[{name:"UttaksperiodeBase"},{name:"ForeldrepengerFørFødselUttaksperiode"}]},{name:"Utsettelsesperiode"},{name:"Oppholdsperiode"},{name:"Overføringsperiode"},{name:"PeriodeHull"},{name:"PeriodeUtenUttakUtsettelse"},{name:"PeriodeUtenUttak"},{name:"union",raw:"AvslåttPeriode | UttakAnnenPartInfoPeriode | UtsettelseAnnenPartInfoPeriode",elements:[{name:"AvslåttPeriode"},{name:"UttakAnnenPartInfoPeriode"},{name:"UtsettelseAnnenPartInfoPeriode"}]}]}],raw:"Periode[]"},description:""},antallBarn:{required:!0,tsType:{name:"number"},description:""},visibility:{required:!0,tsType:{name:"QuestionVisibility",elements:[{name:"UttaksplanFormField"},{name:"undefined"}],raw:"QuestionVisibility<UttaksplanFormField, undefined>"},description:""}}};const da=(e,t)=>t!==void 0&&J(e)&&M(e.tidsperiode.fom).isSame(h(M(t).toDate()).denneEllerNeste(),"day")&&e.forelder===T.farMedmor&&e.konto===S.Fedrekvote&&e.ønskerSamtidigUttak===!0&&e.ønskerFlerbarnsdager!==!0,la=(e,t,r)=>e&&t.length===1&&da(t[0],r),pa=(e,t,r,n,o,s,a)=>e&&pe(t)&&r==="fødsel"&&n.length!==0&&Fr(o)&&s!==void 0&&!a,Mr=({children:e,lastStep:t=!1,singleButton:r=!1})=>{const n=mn("step-button-wrapper");return i.jsx("div",{className:Dn(n.block,t?n.modifier("last-step"):void 0,r?n.modifier("single-button"):void 0),children:e})};Mr.__docgenInfo={description:"",methods:[],displayName:"StepButtonWrapper",props:{lastStep:{defaultValue:{value:"false",computed:!1},required:!1},singleButton:{defaultValue:{value:"false",computed:!1},required:!1}}};const _r=({isOpen:e,setIsOpen:t,goToPreviousStep:r})=>i.jsxs(De,{"aria-label":"Vil du gå tilbake",open:e,onClose:()=>t(!1),children:[i.jsx(De.Header,{children:i.jsx(_s,{size:"small",level:"1",children:i.jsx(W,{id:"uttaksplan.vilDuGåTilbakeModal.tittel"})})}),i.jsx(De.Body,{children:i.jsxs(bs,{gap:"4",children:[i.jsx(zt,{children:i.jsx(W,{id:"uttaksplan.vilDuGåTilbakeModal.intro"})}),i.jsx(zt,{children:i.jsx(W,{id:"uttaksplan.vilDuGåTilbakeModal.spørsmål"})})]})}),i.jsxs(De.Footer,{children:[i.jsx(Ie,{onClick:r,children:i.jsx(W,{id:"uttaksplan.vilDuGåTilbakeModal.okLabel"})}),i.jsx(Ie,{variant:"secondary",onClick:()=>t(!1),children:i.jsx(W,{id:"uttaksplan.vilDuGåTilbakeModal.avbrytLabel"})})]})]});_r.__docgenInfo={description:"",methods:[],displayName:"VilDuGåTilbakeModal",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},setIsOpen:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"boolean"}],raw:"SetStateAction<boolean>"}],raw:"Dispatch<SetStateAction<boolean>>"},description:""},goToPreviousStep:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const ka=e=>{if(!e)throw new Error("Mangler informasjon om annen forelders siste dag.");const t=h(e).denneEllerForrige();return h(t).neste()},ua=(e,t)=>{if(t.fordelingValg===Yt.ALT)return e*5;if(t.fordelingValg===Yt.VIL_VELGE){const r=Qt(t.antallDagerFellesperiodeTilSøker)??0;return(Qt(t.antallUkerFellesperiodeTilSøker)??0)*5+r}},ca=(e,t,r,n,o,s,a)=>{if((!e||e===se.ANNEN_DATO)&&t)return st(t);switch(e){case se.TRE_UKER_FØR_TERMIN:return Ht(r);case se.TRE_UKER_FØR_FØDSEL:return Ht(n);case se.FAMILIEHENDELSESDATO:return n;case se.ANKOMSTDATO_NORGE:return Kn(o);case se.DAGEN_ETTER_ANNEN_FORELDER:return ka(s);case se.DATO_FOR_ALENEOMSORG:return xn(a);default:throw new Error("Ukjent verdi på oppstartValg.")}},ga=(e,t,r,n,o,s,a)=>{if(s!==!0){const l=h(n||e).denneEllerNeste(),k=[],d=t?S.Fedrekvote:S.Mødrekvote,p=t?T.farMedmor:T.mor,g=r.find(m=>t?m.konto===S.Fedrekvote:m.konto===S.Mødrekvote);let u=l;if(g!==void 0){const m={id:j(),type:N.Uttak,forelder:p,konto:d,tidsperiode:_(u,g.dager),ønskerSamtidigUttak:!1,gradert:!1};u=h(m.tidsperiode.tom).neste(),a!==void 0&&z(m.tidsperiode,a)?Q(m,a).forEach(E=>k.push(E)):k.push(m)}if(o!==void 0&&o>0){const m={id:j(),type:N.Uttak,forelder:p,konto:S.Fellesperiode,tidsperiode:_(u,o),ønskerSamtidigUttak:!1,gradert:!1};a!==void 0&&z(m.tidsperiode,a)?Q(m,a).forEach(E=>k.push(E)):k.push(m)}return k.sort(Ee)}else return[]},ma=(e,t,r,n,o,s,a)=>r?dt(t,n,o,s,e,void 0,void 0,a,"adopsjon"):dt(t,n,o,s,e,void 0,void 0,a,"adopsjon").map(d=>J(d)&&(d.konto===S.Fedrekvote||d.konto===S.Fellesperiode)?d.konto===S.Fedrekvote?{...d,konto:S.Mødrekvote,forelder:T.mor}:{...d,forelder:T.mor}:d),fa=(e,t,r,n,o,s,a,l,k,d)=>s?ma(e,r,t,a,l,k,d):ga(e,t,r,n,o,s,d),Ea=(e,t,r,n)=>{const o=h(e).denneEllerNeste(),s=[],a=M(r).isBefore(M(e),"d"),l=t.find(p=>p.konto===S.ForeldrepengerFørFødsel),k=t.find(p=>p.konto===S.Mødrekvote);let d=o;if(l!==void 0&&a&&r){const p=h(r).denneEllerNeste(),g=h(p).getUttaksdagerFremTilDato(d),u=g>15,m=h(o).trekkFra(u?15:g);if(u){const E={id:j(),type:N.Uttak,forelder:T.mor,konto:S.Fellesperiode,tidsperiode:_(p,g-15),vedlegg:[]};s.push(E)}const f={id:j(),type:N.Uttak,forelder:T.mor,konto:S.ForeldrepengerFørFødsel,tidsperiode:{fom:m,tom:h(d).forrige()}};s.push(f)}else{const p={id:j(),type:N.Uttak,forelder:T.mor,konto:S.ForeldrepengerFørFødsel,skalIkkeHaUttakFørTermin:!0,tidsperiode:{fom:h(d).trekkFra(15),tom:h(d).forrige()},vedlegg:[]};s.push(p)}if(k!==void 0){const p={id:j(),type:N.Uttak,forelder:T.mor,konto:S.Mødrekvote,tidsperiode:_(d,k.dager),ønskerSamtidigUttak:!1,gradert:!1};d=h(p.tidsperiode.tom).neste(),s.push(p)}if(n!==void 0&&n>0){const p=s.find(u=>J(u)&&u.konto===S.Fellesperiode);let g=0;if(p&&(g=lr(p.tidsperiode).getAntallUttaksdager()),n-g>0){const u={id:j(),type:N.Uttak,forelder:T.mor,konto:S.Fellesperiode,tidsperiode:_(d,n-g),ønskerSamtidigUttak:!1,gradert:!1};s.push(u)}}return s.sort(Ee)},dt=(e,t,r,n,o,s,a,l,k="fødsel")=>{if(!pe(o)&&Nn(r,n)&&!a)return[];const d=[],p=h(n).denneEllerNeste();let g=h(n).denneEllerNeste();const u=e.find(E=>E.konto===S.Fedrekvote),m=e.find(E=>E.konto===S.Fellesperiode),f=!0;if(u!==void 0){const E=k==="fødsel"&&pe(o)&&Bn(_(p,1),o,s),b=E?Vn(o,p):u.dager,O={id:j(),type:N.Uttak,forelder:T.farMedmor,konto:S.Fedrekvote,tidsperiode:_(p,b),ønskerSamtidigUttak:E,samtidigUttakProsent:E?"100":void 0};g=h(O.tidsperiode.tom).neste(),ot(O,o,f,s)?at(O,o).forEach(F=>d.push(F)):l!==void 0&&z(O.tidsperiode,l)?Q(O,l).forEach(F=>d.push(F)):d.push(O)}if(m!==void 0){let E=0;if(t!==void 0&&t!==0&&(E=5*t),E>0){const b={id:j(),type:N.Uttak,forelder:T.farMedmor,konto:S.Fellesperiode,tidsperiode:_(g,E),ønskerSamtidigUttak:!1,gradert:!1};d.push(b)}}return d},Sa=(e,t,r,n,o,s,a,l,k,d,p)=>{if(t){const g=r.filter(u=>u.konto!==S.ForeldrepengerFørFødsel);return dt(g,s,a,l,e,p,k,d)}else return Ea(e,r,n,o)},va=e=>e.situasjon==="adopsjon"?fa(e.famDato,e.erFarEllerMedmor,e.tilgjengeligeStønadskontoer,e.startdatoPermisjon,e.fellesperiodeDagerMor,e.harAnnenForelderSøktFP,e.antallUkerFellesperiodeFarMedmor,e.morSinSisteUttaksdag,e.farSinFørsteUttaksdag,e.førsteUttaksdagNesteBarnsSak):e.situasjon==="fødsel"?Sa(e.famDato,e.erFarEllerMedmor,e.tilgjengeligeStønadskontoer,e.startdatoPermisjon,e.fellesperiodeDagerMor,e.antallUkerFellesperiodeFarMedmor,e.morSinSisteUttaksdag,e.farSinFørsteUttaksdag,e.annenForelderHarRettPåForeldrepengerIEØS,e.førsteUttaksdagNesteBarnsSak,e.termindato):[],Aa=(e,t,r,n,o,s,a)=>{const l=h(r||e).denneEllerNeste(),k=[];if(n!==!0){let d=l;if(pe(e)&&s){const g={id:j(),type:N.Uttak,forelder:T.farMedmor,konto:S.AktivitetsfriKvote,tidsperiode:_(l,o.dager),vedlegg:[],gradert:!1,harIkkeAktivitetskrav:!0};a!==void 0&&z(g.tidsperiode,a)?Q(g,a).forEach(m=>k.push(m)):k.push(g),d=h(g.tidsperiode.tom).neste()}const p={id:j(),type:N.Uttak,forelder:T.farMedmor,konto:t.konto,tidsperiode:_(d,t.dager),vedlegg:[],gradert:!1};a!==void 0&&z(p.tidsperiode,a)?Q(p,a).forEach(u=>k.push(u)):k.push(p)}else{const d={id:j(),type:N.Uttak,forelder:T.farMedmor,konto:S.AktivitetsfriKvote,tidsperiode:_(l,o.dager),vedlegg:[],gradert:!1,harIkkeAktivitetskrav:!0};a!==void 0&&z(d.tidsperiode,a)?Q(d,a).forEach(u=>k.push(u)):k.push(d);const p={id:j(),type:N.Uttak,forelder:T.farMedmor,konto:S.Foreldrepenger,tidsperiode:_(h(d.tidsperiode.tom).neste(),t.dager),vedlegg:[],gradert:!1};a!==void 0&&z(p.tidsperiode,a)?Q(p,a).forEach(u=>k.push(u)):k.push(p)}return k},Fa=(e,t,r,n)=>{const o=h(r||e).denneEllerNeste(),s={id:j(),type:N.Uttak,forelder:T.mor,konto:t.konto,tidsperiode:_(o,t.dager),vedlegg:[],gradert:!1};return n!==void 0&&z(s.tidsperiode,n)?Q(s,n):[s]},ha=(e,t,r,n,o,s,a,l)=>t?Aa(e,r,n,o,s,a,l):Fa(e,r,n,l),Pa=(e,t,r,n)=>{const o=h(e).denneEllerNeste(),s=[],a=M(r).isBefore(M(e),"d");if(n!==void 0&&a&&r){const p=h(r).getUttaksdagerFremTilDato(o),g=p>15,u=h(o).trekkFra(g?15:p);if(g){const f={id:j(),type:N.Uttak,forelder:T.mor,konto:S.Foreldrepenger,tidsperiode:_(r,p-15),vedlegg:[]};s.push(f)}const m={id:j(),type:N.Uttak,forelder:T.mor,konto:n.konto,tidsperiode:{fom:u,tom:h(o).forrige()},vedlegg:[]};s.push(m)}else{const p={id:j(),type:N.Uttak,forelder:T.mor,konto:S.ForeldrepengerFørFødsel,skalIkkeHaUttakFørTermin:!0,tidsperiode:{fom:h(o).trekkFra(15),tom:h(o).forrige()},vedlegg:[]};s.push(p)}const l=s.find(p=>J(p)&&p.konto===S.Foreldrepenger),k=l?_(o,t.dager-lr(l.tidsperiode).getAntallUttaksdager()):_(o,t.dager),d={id:j(),type:N.Uttak,forelder:T.mor,konto:t.konto,tidsperiode:k,vedlegg:[],gradert:!1};return s.push(d),s.sort(Ee)},Ta=(e,t,r,n,o,s,a,l)=>{const k=h(r||e).denneEllerNeste(),d=!1,p=[];if(n!==!0){let g=k;if(pe(e)&&s){const m={id:j(),type:N.Uttak,forelder:T.farMedmor,konto:S.AktivitetsfriKvote,tidsperiode:_(k,o.dager),vedlegg:[],harIkkeAktivitetskrav:!0};ot(m,e,d,a)?at(m,e).forEach(E=>p.push(E)):l!==void 0&&z(m.tidsperiode,l)?Q(m,l).forEach(E=>p.push(E)):p.push(m),g=h(m.tidsperiode.tom).neste()}const u={id:j(),type:N.Uttak,forelder:T.farMedmor,konto:t.konto,tidsperiode:_(g,t.dager),vedlegg:[],gradert:!1};p.push(u)}else{const g={id:j(),type:N.Uttak,forelder:T.farMedmor,konto:S.AktivitetsfriKvote,tidsperiode:_(k,o.dager),vedlegg:[],gradert:!1,harIkkeAktivitetskrav:!0};ot(g,e,d,a)?at(g,e).forEach(f=>p.push(f)):p.push(g);const u={id:j(),type:N.Uttak,forelder:T.farMedmor,konto:S.Foreldrepenger,tidsperiode:_(h(g.tidsperiode.tom).neste(),t.dager),vedlegg:[],gradert:!1};p.push(u)}return p.sort(Ee)},Ua=(e,t,r,n,o,s,a,l,k,d)=>t?Ta(e,r,n,s,a,l,k,d):Pa(e,r,n,o),Na=(e,t,r,n,o,s,a,l,k)=>{const d=n.find(u=>u.konto===S.Foreldrepenger),p=n.find(u=>u.konto===S.ForeldrepengerFørFødsel),g=n.find(u=>u.konto===S.AktivitetsfriKvote);return e==="adopsjon"?ha(t,r,d,o,s,g,a,k):e==="fødsel"?Ua(t,r,d,o,p,s,g,a,l,k):[]},Oa=(e,t,r,n,o,s,a)=>{const l=fe(e.rolle),k=Sr(n),d=e.situasjon,p=d==="adopsjon",g=Pr(t),u=Gn(r),m=st(os(n)),f=st(_e(t)),E=gs(t)&&t.adoptertIUtlandet?M(t.ankomstdato).toDate():void 0,b=vr(n),O=o&&o.length>0?h(o[o.length-1].tidsperiode.tom).denneEllerForrige():void 0,P=ca(s.oppstartAvForeldrepengerValg,s.oppstartDato,f,g,E,O,m),F=l?O:void 0,v=Er(l,n,b),q=!l||!v,B=ua(u,s),D=l?void 0:B,x=l?B:void 0,be=l?P:void 0,Le=ee(n)&&n.erMorUfør,xe=ee(n)&&n.harRettPåForeldrepengerIEØS,ie=a==null?void 0:a.startdatoFørsteStønadsperiode,ue=kt({erDeltUttak:k,morHarRett:q,søkerErAleneOmOmsorg:b}),Se=o!==void 0;if(k){const C=va({situasjon:d,famDato:g,erFarEllerMedmor:l,tilgjengeligeStønadskontoer:r.kontoer,startdatoPermisjon:P,fellesperiodeDagerMor:D,harAnnenForelderSøktFP:Se,antallUkerFellesperiodeFarMedmor:x,morSinSisteUttaksdag:F,farSinFørsteUttaksdag:be,annenForelderHarRettPåForeldrepengerIEØS:xe,termindato:f,førsteUttaksdagNesteBarnsSak:ie});return ye(C,ue,g,p,!1,l,ie)}else{const C=Na(d,g,l,r.kontoer,P,Le,v,f,ie);return ye(C,ue,g,p,v,l,ie)}},Da=(e,t,r,n,o,s,a,l)=>{const k=Pr(o),d=s.situasjon,p=fe(s.rolle),g=vr(r),u=Er(p,r,g),m=!p||!u,f=Sr(r),E=d==="adopsjon";if(t&&t.length>0&&e.length>0){const b=kt({erDeltUttak:f,morHarRett:m,søkerErAleneOmOmsorg:g}),O=Eo(t,e,k,b,E,u,p,a==null?void 0:a.startdatoFørsteStønadsperiode);return l({...n,annenPartsUttakErLagtTilIPlan:!0}),O}else return t&&t.length>0?(l({...n,annenPartsUttakErLagtTilIPlan:!0}),t):e},Ra=(e,t,r,n,o,s,a,l,k)=>{if(!a)throw new Error("Fordeling er undefined.");const d=Oa(r,n,e,s,t,a,o);return Da(d,t,s,l,n,r,o,k)},ja={[me.ønskerAutomatiskJustering]:{isIncluded:({periodeRundtFødselKanAutomatiskJusteres:e})=>e,isAnswered:({ønskerAutomatiskJustering:e})=>e!==Me.UNANSWERED}},Ia=wn(ja),ya=[],lt=({søkerInfo:e,erEndringssøknad:t,mellomlagreSøknadOgNaviger:r,avbrytSøknad:n})=>{const o=pt(),s=Hn(e.arbeidsforhold,t),a=Jn(e.arbeidsforhold,r,t),[l,k]=A.useState(!1),[d,p]=A.useState(!1),[g,u]=A.useState(!1),[m,f]=A.useState(!1),[E,b]=A.useState(!0),O=I(H(c.SØKERSITUASJON)),P=I(H(c.OM_BARNET)),F=I(H(c.ANNEN_FORELDER)),v=H(c.UTTAKSPLAN_METADATA),q=I(H(c.PERIODE_MED_FORELDREPENGER)),B=H(c.UTTAKSPLAN)||ya,D=H(c.BARN_FRA_NESTE_SAK),x=H(c.EKSISTERENDE_SAK),be=H(c.VEDLEGG),Le=H(c.FORDELING),[xe,ie]=A.useState(t||B.length>0),ue=X(c.OM_BARNET),Se=X(c.BARN_FRA_NESTE_SAK),C=X(c.UTTAKSPLAN),ve=X(c.EKSISTERENDE_SAK),Y=X(c.UTTAKSPLAN_METADATA),Gr=X(c.APP_ROUTE),wr=X(c.VEDLEGG),[Ae,Hr]=A.useState(v==null?void 0:v.endringstidspunkt),[Fe,Ke]=A.useState((v==null?void 0:v.perioderSomSkalSendesInn)||[]),gt=ee(F)?F:void 0,mt=gt?gt.erAleneOmOmsorg:!0,{situasjon:Be}=O,{rolle:ft}=O,Jr=qn(F),he=ee(F)?!!F.harRettPåForeldrepengerINorge||!!F.harRettPåForeldrepengerIEØS:!1,y=fe(O.rolle),Et=Cn(!y,mt,F),St=Yn(y,mt,F),Pe=Et||St,qr=he?void 0:y?T.farMedmor:T.mor,re=hr(P),ce=Vt(re),Cr=$n(F,y),Yr=Wn(e.søker,F,y,o),vt=P.antallBarn,$r=vt>1,At=Jt(ft,y,F),w=x==null?void 0:x.uttaksplan,Wr=x?x.uttaksplan!==void 0:!1,zr=!1,Z=_e(P),Ft=ee(F)&&!F.utenlandskFnr?F.fnr:void 0,Ve=Be==="adopsjon",ht=D!==void 0?D.annenForelderFnr:void 0,Pt=D!==void 0&&D.fnr!==void 0&&D.fnr.length>0?D.fnr[0]:void 0,Ge=D!==void 0?D.familiehendelsesdato:void 0,ne=D!==void 0?D.startdatoFørsteStønadsperiode:void 0,we=!Jt(O.rolle,y,F)&&!Pe,Tt=!Fr(P)&&P.fnr!==void 0&&P.fnr.length>0?P.fnr[0]:void 0,Te=Pe||!Ft||Tt===void 0&&re===void 0,Qr=D!==void 0?D.startdatoFørsteStønadsperiode:void 0,Zr=ra(ms(),3e3),Ut=A.useRef(!0);A.useEffect(()=>{Ut.current===!1&&r(),Ut.current=!1},[Zr,r]);const{data:He,requestStatus:Je,error:qe}=tt(rt.ANNEN_PART_VEDTAK,{annenPartFødselsnummer:Ft,barnFødselsnummer:Tt,familiehendelse:re},Te),V=A.useMemo(()=>ys(He,P,y,re,ne),[He,P,y,re,ne]),Nt=()=>{f(!1);const R={[$.BEKREFTELSE_DELTAR_KVALIFISERINGSPROGRAM]:[],[$.DOK_DELTAKELSE_I_INTRODUKSJONSPROGRAMMET]:[],[$.DOK_SYKDOM_MOR]:[],[$.DOK_SYKDOM_FAR]:[],[$.DOK_INNLEGGELSE_BARN]:[],[$.DOK_INNLEGGELSE_MOR]:[],[$.DOK_INNLEGGELSE_FAR]:[],[$.DOK_ARBEID_MOR]:[],[$.DOK_UTDANNING_MOR]:[],[$.DOK_UTDANNING_OG_ARBEID_MOR]:[]};Y({...v,perioderSomSkalSendesInn:[],endringstidspunkt:void 0,ønskerJustertUttakVedFødsel:void 0}),C([]),wr({...be,...R}),Gr(U.FORDELING),r(),a.goToPreviousDefaultStep()},Ce=is(y,P.antallBarn,V==null?void 0:V.grunnlag.antallBarn);A.useEffect(()=>{y&&P.antallBarn!==Ce&&ue({...P,antallBarn:Ce})},[y,Ce,P,ue]);const Ye=!ht||Pt===void 0&&Ge===void 0||!Te&&Je!==oe.FINISHED,{data:Xr,requestStatus:Ot,error:$e}=tt(rt.NESTE_SAK_ANNEN_PART_VEDTAK,{annenPartFødselsnummer:ht,barnFødselsnummer:Pt,familiehendelse:On(Ge)},Ye),Ue=Ms(Xr);A.useEffect(()=>{if(Ue!==void 0&&D!==void 0&&(M(Ue).isBefore(D.startdatoFørsteStønadsperiode,"d")||D.startdatoFørsteStønadsperiode===void 0)){const R={...D,startdatoFørsteStønadsperiode:Ue};Se(R)}},[ne,Ue,D,Se]);const Dt=kt({erDeltUttak:he,morHarRett:At,søkerErAleneOmOmsorg:Pe});A.useEffect(()=>{if(x!==void 0&&w!==void 0&&V!==void 0&&!(v!=null&&v.annenPartsUttakErLagtTilIPlan)){w.forEach(K=>{if(J(K)){const yt=ur(V.uttaksplan).finnOverlappendePerioder(K);yt.length!==0&&yt.find(Mt=>cr(Mt)&&Mt.ønskerSamtidigUttak===!0)&&(K.ønskerSamtidigUttak||(K.ønskerSamtidigUttak=!0,K.samtidigUttakProsent=oa(K.gradert,K.stillingsprosent)))}});const R=ye(gr(w,V.uttaksplan,ce,ne,!0),Dt,ce,Ve,we,y,ne),G={...x,uttaksplan:R};C(R),ve(G),Y({...v,annenPartsUttakErLagtTilIPlan:!0})}},[V,w,ce,Dt,Ve,we,y,ne,x,v,C,ve,Y]),A.useEffect(()=>{const R=w==null?void 0:w.find(G=>J(G)&&G.angittAvAnnenPart);if(R&&Ae===void 0){const G=R.tidsperiode.fom,K=nr(B,t,y,w,G);Ke(K),Y({...v,perioderSomSkalSendesInn:K,endringstidspunkt:Ae})}},[w,Ae,y,B,t,Y,v]);const Rt=async()=>{const R=ts(B,y,F,t,v==null?void 0:v.perioderSomSkalSendesInn);return k(!0),p(!0),Y({...v,endringstidspunkt:Ae,perioderSomSkalSendesInn:Fe,antallUkerIUttaksplan:ln}),R?a.goToNextStep(U.DOKUMENTASJON):a.goToNextDefaultStep()},Ne=zn(B,ce,Z?M(Z).toDate():void 0),We=pa(y,ce,Be,Ne,P,Z,we),Oe=la(We,Ne,Z),en=()=>{Oe||Y({...v,ønskerJustertUttakVedFødsel:void 0})},tn=R=>Oe&&R!==void 0,ze=A.useRef(null),rn=async R=>{p(!0),E&&!It&&(k(!0),ze.current&&ze.current.handleSubmit(),en(),tn(R.ønskerAutomatiskJustering)&&await Rt())},nn=Qn(e.søker.kjønn,Jr,he,Et,St,ft),sn=(Te?!1:Je!==oe.FINISHED)||(Ye?!1:Ot!==oe.FINISHED),{data:de,error:Qe}=tt(rt.STØNADSKONTOER,ds(P,F,O,D,He,x),sn),on=R=>{p(!1),k(!1),u(!0),C(R);const G=as(w,R,t);Hr(G);const K=nr(R,t,y,w,G);Ke(K),Y({...v,perioderSomSkalSendesInn:K})},Ze=A.useMemo(()=>{if(de)return q.dekningsgrad===qt.HUNDRE_PROSENT?de[100]:de[80]},[de,q.dekningsgrad]);if(A.useEffect(()=>{if(B.length===0){const R=Ra(Ze,V==null?void 0:V.uttaksplan,O,P,D,F,Le,v,Y);C(R),ie(!0),r()}},[]),A.useEffect(()=>{!x&&!t&&V!==void 0&&ve(V)},[t,V,x,ve]),A.useEffect(()=>{if(Qe)throw ae(Qe),new Error("Vi klarte ikke å hente opp stønadskontoer. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.");if(qe)throw ae(qe),new Error("Vi klarte ikke å hente informasjon om saken til annen forelder. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.");if($e)throw ae($e),new Error("Vi klarte ikke å hente informasjon om saken til annen forelder for neste barn. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.")},[Qe,qe,$e]),!xe||!de||Je!==oe.FINISHED&&!Te||Ot!==oe.FINISHED&&!Ye)return i.jsx("div",{style:{textAlign:"center",padding:"12rem 0"},children:i.jsx(pr,{size:"2xlarge"})});const jt=Zn(de[qt.HUNDRE_PROSENT].minsteretter.toTette),It=t&&(Fe===void 0||Fe.length===0),an=()=>{const R=B.filter(G=>rs(G));C(R),Y({...v,harUttaksplanBlittSlettet:!0})},dn=()=>{x&&(C(x.uttaksplan),Y({...v,perioderSomSkalSendesInn:[]}),Ke([]))},ln=Xn(Ze);return i.jsx(it.FormikWrapper,{initialValues:ia(v==null?void 0:v.ønskerJustertUttakVedFødsel,Oe),onSubmit:Rt,innerRef:ze,renderForm:({values:R})=>{const G=Ia.getVisbility({ønskerAutomatiskJustering:R[me.ønskerAutomatiskJustering]??Me.NO,periodeRundtFødselKanAutomatiskJusteres:Oe});return i.jsxs(fn,{bannerTitle:je(o,"søknad.pageheading"),onCancel:n,onContinueLater:a.fortsettSøknadSenere,steps:s,children:[Qr&&i.jsx(Is,{minsterettUkerToTette:jt}),i.jsx(es,{foreldreSituasjon:nn,forelderVedAleneomsorg:qr,erDeltUttak:he,uttaksplan:B,familiehendelsesdato:re,handleOnPlanChange:on,stønadskontoer:Ze,navnPåForeldre:Yr,annenForelder:F,arbeidsforhold:js(e.arbeidsforhold,Ve,y,Vt(re)),erEndringssøknad:t,erFarEllerMedmor:y,erFlerbarnssøknad:$r,erAleneOmOmsorg:Pe,harMidlertidigOmsorg:zr,situasjon:Be,erMorUfør:Cr,morHarRett:At,søkersituasjon:O,dekningsgrad:q.dekningsgrad,antallBarn:vt,setUttaksplanErGyldig:b,eksisterendeSak:x,perioderSomSkalSendesInn:Fe,harKomplettUttaksplan:Wr,opprinneligPlan:v!=null&&v.harUttaksplanBlittSlettet?void 0:w,handleSlettUttaksplan:an,handleResetUttaksplan:dn,termindato:Z?M(Z).toDate():void 0,barn:P,visAutomatiskJusteringForm:We,perioderMedUttakRundtFødsel:Ne,barnFraNesteSak:D,familiehendelsesdatoNesteSak:Ge,førsteUttaksdagNesteBarnsSak:ne,minsterettUkerToTette:jt}),We&&i.jsx(le,{padBottom:"l",children:i.jsx(yr,{termindato:Z?M(Z).toDate():void 0,perioderMedUttakRundtFødsel:Ne,antallBarn:P.antallBarn,visibility:G})}),i.jsx(_r,{isOpen:m,setIsOpen:f,goToPreviousStep:Nt}),!E&&d&&i.jsx(le,{textAlignCenter:!0,padBottom:"l",children:i.jsx(nt,{variant:"error",children:i.jsx(W,{id:"uttaksplan.validering.kanIkkeGåVidere"})})}),It&&d&&i.jsx(le,{textAlignCenter:!0,padBottom:"l",children:i.jsx(nt,{variant:"error",children:i.jsx(W,{id:"uttaksplan.validering.kanIkkeGåVidereEndringssøknad"})})}),i.jsx(le,{textAlignCenter:!0,padBottom:"l",children:i.jsxs(Mr,{singleButton:!0,children:[!t&&i.jsx(Ie,{variant:"secondary",onClick:g?K=>{K.preventDefault(),f(!0)}:Nt,children:i.jsx(W,{id:"backlink.label"})}),i.jsx(Ie,{type:"submit",onClick:rn,disabled:l,loading:l,children:je(o,"søknad.gåVidere")})]})})]})}})};lt.__docgenInfo={description:"",methods:[],displayName:"UttaksplanStep"};const Ma=(e,t,r=[])=>{switch(e){case U.SØKERSITUASJON:return t===!0;case U.OPPSUMMERING:return ns(r)===!1&&r.length>0;default:return!0}},_a=(e,t,r,n,o,s,a)=>!e||a===void 0?i.jsx(L,{path:"*",element:i.jsx(Ct,{to:U.VELKOMMEN})}):kr(r.søker.fødselsdato)?t?i.jsxs(i.Fragment,{children:[i.jsx(L,{path:U.UTTAKSPLAN,element:i.jsx(lt,{søkerInfo:r,erEndringssøknad:t,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(L,{path:U.DOKUMENTASJON,element:i.jsx($t,{søkerInfo:r,erEndringssøknad:t,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(L,{path:U.OPPSUMMERING,element:i.jsx(Wt,{erEndringssøknad:t,søkerInfo:r,sendSøknad:o,avbrytSøknad:s,mellomlagreSøknadOgNaviger:n})})]}):i.jsxs(i.Fragment,{children:[i.jsx(L,{path:U.SØKERSITUASJON,element:i.jsx(Ns,{arbeidsforhold:r.arbeidsforhold,kjønn:r.søker.kjønn,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(L,{path:U.OM_BARNET,element:i.jsx(Ts,{søkerInfo:r,søknadGjelderNyttBarn:a,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(L,{path:U.ANNEN_FORELDER,element:i.jsx(Fs,{søkerInfo:r,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(L,{path:U.PERIODE_MED_FORELDREPENGER,element:i.jsx(Us,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(L,{path:U.FORDELING,element:i.jsx(hs,{søker:r.søker,arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(L,{path:U.UTTAKSPLAN,element:i.jsx(lt,{søkerInfo:r,erEndringssøknad:t,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(L,{path:U.DOKUMENTASJON,element:i.jsx($t,{søkerInfo:r,erEndringssøknad:t,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(L,{path:U.UTENLANDSOPPHOLD,element:i.jsx(Os,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(L,{path:U.TIDLIGERE_UTENLANDSOPPHOLD,element:i.jsx(Rs,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(L,{path:U.SENERE_UTENLANDSOPPHOLD,element:i.jsx(Ds,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(L,{path:U.INNTEKTSINFORMASJON,element:i.jsx(Ps,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(L,{path:U.OPPSUMMERING,element:i.jsx(Wt,{erEndringssøknad:t,søkerInfo:r,sendSøknad:o,avbrytSøknad:s,mellomlagreSøknadOgNaviger:n})})]}):i.jsx(L,{path:"*",element:i.jsx(Ct,{to:U.IKKE_MYNDIG})}),br=({locale:e,onChangeLocale:t,currentRoute:r,søkerInfo:n,saker:o,lagretErEndringssøknad:s,lagretHarGodkjentVilkår:a,lagretSøknadGjelderNyttBarn:l,setKvittering:k})=>{const d=ct(),p=fs(),[g,u]=A.useState(!0),[m,f]=A.useState(a||!1),[E,b]=A.useState(s||!1),[O,P]=A.useState(l),{sendSøknad:F,errorSendSøknad:v}=ta(n.søker.fnr,E,k,e),q=Xo(e,n.søker.fnr,E,m,O),B=zo(n.søker.fnr,b,f,P),D=H(c.UTTAKSPLAN);return A.useEffect(()=>{r&&kr(n.søker.fødselsdato)&&a&&g&&(u(!1),Ma(r,a,D)?d(r):p.pathname===U.OPPSUMMERING&&d(U.UTTAKSPLAN))},[r,n.søker.fødselsdato,a,d,g,p.pathname,D]),v?i.jsx(En,{appName:"Foreldrepenger",errorMessage:v.message,retryCallback:()=>location.reload()}):i.jsxs(Es,{children:[i.jsx(L,{path:U.VELKOMMEN,element:i.jsx(As,{fornavn:n.søker.fornavn,locale:e,saker:o,onChangeLocale:t,fnr:n.søker.fnr,harGodkjentVilkår:m,søkerInfo:n,setHarGodkjentVilkår:f,setErEndringssøknad:b,setSøknadGjelderNyttBarn:P,mellomlagreSøknadOgNaviger:q})}),i.jsx(L,{path:U.IKKE_MYNDIG,element:i.jsx(Sn,{appnavn:"Foreldrepenger"})}),_a(m,E,n,q,F,B,O)]})};br.__docgenInfo={description:"",methods:[],displayName:"ForeldrepengesøknadRoutes",props:{locale:{required:!0,tsType:{name:"union",raw:"'nb' | 'nn'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"}]},description:""},onChangeLocale:{required:!0,tsType:{name:"signature",type:"function",raw:"(locale: LocaleNo) => void",signature:{arguments:[{type:{name:"union",raw:"'nb' | 'nn'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"}]},name:"locale"}],return:{name:"void"}}},description:""},currentRoute:{required:!0,tsType:{name:"SøknadRoutes"},description:""},søkerInfo:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    søker: Søker;
    arbeidsforhold: Arbeidsforhold[];
}`,signature:{properties:[{key:"søker",value:{name:"intersection",raw:`{
    fødselsdato: string;
    kjønn: Kjønn;
    bankkonto?: Bankkonto;
    sivilstand?: Sivilstand;
    barn: SøkerBarn[];
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    fødselsdato: string;
    kjønn: Kjønn;
    bankkonto?: Bankkonto;
    sivilstand?: Sivilstand;
    barn: SøkerBarn[];
}`,signature:{properties:[{key:"fødselsdato",value:{name:"string",required:!0}},{key:"kjønn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"bankkonto",value:{name:"Bankkonto",required:!1}},{key:"sivilstand",value:{name:"Sivilstand",required:!1}},{key:"barn",value:{name:"Array",elements:[{name:"intersection",raw:`{
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: SøkerAnnenForelder;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: SøkerAnnenForelder;
}`,signature:{properties:[{key:"kjønn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"dødsdato",value:{name:"string",required:!1}},{key:"annenForelder",value:{name:"intersection",raw:`{
    fødselsdato?: string;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    fødselsdato?: string;
}`,signature:{properties:[{key:"fødselsdato",value:{name:"string",required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}],required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}]}],raw:"SøkerBarn[]",required:!0}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}],required:!0}},{key:"arbeidsforhold",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverNavn: string;
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    fom: string;
    tom?: string;
    stillingsprosent: number;
}`,signature:{properties:[{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}},{key:"stillingsprosent",value:{name:"number",required:!0}}]}}],raw:"Arbeidsforhold[]",required:!0}}]}},description:""},saker:{required:!0,tsType:{name:"Array",elements:[{name:"Sak"}],raw:"Sak[]"},description:""},lagretErEndringssøknad:{required:!1,tsType:{name:"boolean"},description:""},lagretHarGodkjentVilkår:{required:!1,tsType:{name:"boolean"},description:""},lagretSøknadGjelderNyttBarn:{required:!1,tsType:{name:"boolean"},description:""},setKvittering:{required:!0,tsType:{name:"signature",type:"function",raw:"(kvittering: Kvittering) => void",signature:{arguments:[{type:{name:"Kvittering"},name:"kvittering"}],return:{name:"void"}}},description:""}}};const sr=()=>i.jsx("div",{style:{textAlign:"center",padding:"12rem 0"},children:i.jsx(pr,{size:"2xlarge"})}),Lr=async()=>{try{await te.deleteMellomlagretSøknad()}catch{}location.reload()},xr=({locale:e,onChangeLocale:t})=>{var m,f;const r=pt();io(r.formatMessage({id:"søknad.pagetitle"}));const{søkerinfoData:n,søkerinfoError:o}=te.useSøkerinfo(),{sakerData:s,sakerError:a}=te.useGetSaker(),{storageData:l,storageStatus:k}=te.useStoredAppState(),[d,p]=A.useState();A.useEffect(()=>{if(o)throw ae(o),new Error("Vi klarte ikke å hente informasjon om deg. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.");if(a)throw ae(a),new Error("Vi klarte ikke å hente informasjon om sakene dine. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.")},[o,a]);const g=l&&rr(l)?$o(l):void 0,u=l!==void 0&&rr(l);return A.useEffect(()=>{l!=null&&l.locale&&l.locale!==e&&t(l.locale)},[l]),d?et.INNSYN?(ao(d.saksNr?`${et.INNSYN}/sak/${d.saksNr}/redirectFromSoknad`:`${et.INNSYN}/redirectFromSoknad`),i.jsx(sr,{})):i.jsx("div",{children:"Redirected to Innsyn"}):!s||!n||k===oe.IN_PROGRESS?i.jsx(sr,{}):i.jsx(dr,{appName:"Foreldrepenger",retryCallback:Lr,children:i.jsx(Ss,{initialState:g,children:i.jsx(ss,{children:i.jsx(br,{locale:e,onChangeLocale:t,søkerInfo:n,saker:s.foreldrepenger,currentRoute:u?l.currentRoute:U.VELKOMMEN,lagretErEndringssøknad:u?(m=l.søknad)==null?void 0:m.erEndringssøknad:!1,lagretHarGodkjentVilkår:u?(f=l.søknad)==null?void 0:f.harGodkjentVilkår:!1,lagretSøknadGjelderNyttBarn:u?l.søknadGjelderEtNyttBarn:!1,setKvittering:p})})})})};xr.__docgenInfo={description:"",methods:[],displayName:"Foreldrepengesøknad"};const Kr=lo(),ba={nb:{...kn,..._t.nb,...bt.nb,...Lt.nb,...xt.nb,...er.nb,...Zt.nb,...Xt.nb},nn:{...un,..._t.nn,...bt.nn,...Lt.nn,...xt.nn,...er.nn,...Zt.nn,...Xt.nn}};M.locale(Kr);const Br=()=>{const[e,t]=A.useState(Kr);return i.jsx(dr,{appName:"Foreldrepenger",retryCallback:Lr,children:i.jsx(ls,{children:i.jsxs(vn,{locale:e,messagesGroupedByLocale:ba,children:[i.jsx(An,{}),i.jsx(xr,{locale:e,onChangeLocale:r=>{po(r),t(r),cn(r),document.documentElement.setAttribute("lang",r)}})]})})})},Vr=Br;Br.__docgenInfo={description:"",methods:[],displayName:"AppContainer"};const La={søker:{fnr:"06499121154",fornavn:"Tapper",etternavn:"Konvolutt",kjønn:"M",fødselsdato:"1991-09-06",bankkonto:{kontonummer:"",banknavn:""},barn:[]},arbeidsforhold:[{arbeidsgiverId:"896929119",arbeidsgiverIdType:"orgnr",arbeidsgiverNavn:"SAUEFABRIKK",stillingsprosent:100,fom:"2018-03-01"}]},$i={title:"AppContainer",component:Vr},xa=({søkerinfoData:e,sakerData:t,annenPartVedtakData:r,stønadskontoerData:n,storageKvitteringData:o})=>{Fn();const s=new pn(ke());return s.onGet("/rest/sokerinfo").reply(200,e),s.onGet("/rest/innsyn/v2/saker").reply(200,t),s.onGet("/rest/innsyn/v2/annenPartVedtak").reply(200,r),s.onGet("/rest/konto").reply(200,n),s.onGet("/rest/storage/kvittering/foreldrepenger").reply(200,o),s.onGet("test/rest/konto").replyOnce(200,Ys),s.onGet("test/rest/konto").replyOnce(200,zs),s.onPost("/rest/innsyn/v2/annenPartVedtak").replyOnce(200,void 0,oe.FINISHED),s.onPost("/rest/storage/foreldrepenger").reply(200,{}),s.onPost("/rest/soknad").reply(200,{}),s.onPost("/rest/sendSøknadUrl").reply(200,{}),s.onDelete("/rest/storage/foreldrepenger").reply(200,{}),i.jsx(Vr,{})},ge=xa.bind({});ge.args={søkerinfoData:La,sakerData:Js,annenPartVedtakData:Ks,stønadskontoerData:Xs,storageKvitteringData:Gs};var or,ar,ir;ge.parameters={...ge.parameters,docs:{...(or=ge.parameters)==null?void 0:or.docs,source:{originalSource:`({
  søkerinfoData,
  sakerData,
  annenPartVedtakData,
  stønadskontoerData,
  storageKvitteringData
}) => {
  initAmplitude();
  const apiMock = new MockAdapter(getAxiosInstance());
  apiMock.onGet('/rest/sokerinfo').reply(200, søkerinfoData);
  apiMock.onGet('/rest/innsyn/v2/saker').reply(200, sakerData);
  apiMock.onGet('/rest/innsyn/v2/annenPartVedtak').reply(200, annenPartVedtakData);
  apiMock.onGet('/rest/konto').reply(200, stønadskontoerData);
  apiMock.onGet('/rest/storage/kvittering/foreldrepenger').reply(200, storageKvitteringData);
  apiMock.onGet('test/rest/konto').replyOnce(200, stønadskontoDeltUttak80);
  apiMock.onGet('test/rest/konto').replyOnce(200, stønadskontoDeltUttak100);
  apiMock.onPost('/rest/innsyn/v2/annenPartVedtak').replyOnce(200, undefined, RequestStatus.FINISHED);
  apiMock.onPost('/rest/storage/foreldrepenger').reply(200, {});
  apiMock.onPost('/rest/soknad').reply(200, {});
  apiMock.onPost('/rest/sendSøknadUrl').reply(200, {});
  apiMock.onDelete('/rest/storage/foreldrepenger').reply(200, {});
  return <AppContainer />;
}`,...(ir=(ar=ge.parameters)==null?void 0:ar.docs)==null?void 0:ir.source}}};const Wi=["SøkerErMann"];export{ge as SøkerErMann,Wi as __namedExportsOrder,$i as default};
