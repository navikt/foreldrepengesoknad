import{j as n}from"./jsx-runtime-1caa8f64.js";import{r as D}from"./index-1cdf6ce0.js";import{b as o,k as u,u as T,J as _,c as p,K as A,N as y,O,P as K,i as f}from"./dates-83aa686a.js";import"./index-753920cd.js";import"./_baseToString-2517c4f7.js";import"./_createSet-019d3bf6.js";import{g as b,E as R}from"./apiInterceptor-d1094a41.js";import{A as B}from"./AttachmentList-890aa996.js";import{U,u as G,V as P,a as M}from"./IntlProvider-39316729.js";import{E as v}from"./ExpansionCard-c7a58e83.js";import{L as C,B as q}from"./Link-d47e444a.js";var z=(e=>(e.OMSORGSOVERTAKELSE="omsorgsovertakelse",e.ADOPSJONSVEDTAK="adopsjonsvedtak",e.TERMINBEKREFTELSE="terminbekreftelse",e.FØDSELSATTEST="fødselsattest",e.ANNEN_INNTEKT="anneninntektDokumentasjon",e.UTSETTELSE_SYKDOM="utsettelseSykdomUttaksplan",e.MORS_AKTIVITET_DOKUMENTASJON="morsaktivitetdokumentasjon",e.OVERFØRING_KVOTE="dokumentasjonOverføringAvKvote",e.ALENEOMSORG="dokumentasjonAvAleneomsorg",e.HV_ØVELSE="hvØvelse",e.NAV_TILTAK="navTiltak",e.TILBAKEBETALING="tilbakebetaling",e.TILRETTELEGGING="tilrettelegging",e))(z||{});const w=()=>n.jsx(U,{children:n.jsxs(v,{size:"small","aria-label":G().formatMessage({id:"ScanDocumentInfo.Tittel"}),children:[n.jsx(v.Header,{children:n.jsx(v.Title,{size:"small",as:"h4",children:n.jsx(o,{id:"ScanDocumentInfo.Tittel"})})}),n.jsx(v.Content,{children:n.jsxs(P,{gap:"5",children:[n.jsx(u,{children:n.jsx(o,{id:"ScanDocumentInfo.Del1"})}),n.jsxs("ul",{children:[n.jsx(u,{children:n.jsx(o,{tagName:"li",id:"ScanDocumentInfo.Liste.Punkt1"})}),n.jsx(u,{children:n.jsx(o,{tagName:"li",id:"ScanDocumentInfo.Liste.Punkt2"})}),n.jsx(u,{children:n.jsx(o,{tagName:"li",id:"ScanDocumentInfo.Liste.Punkt3"})}),n.jsx(u,{children:n.jsx(o,{tagName:"li",id:"ScanDocumentInfo.Liste.Punkt4"})}),n.jsx(u,{children:n.jsx(o,{tagName:"li",id:"ScanDocumentInfo.Liste.Punkt5"})})]}),n.jsx(u,{children:n.jsx(o,{id:"ScanDocumentInfo.Del2"})}),n.jsx(u,{children:n.jsx(C,{href:M.scanneDokument,target:"_blank",children:n.jsx(o,{id:"ScanDocumentInfo.Link"})})})]})})]})});function J(e){const a={withCredentials:!0,timeout:45e3,headers:{"content-type":"multipart/form-data"}},t=new FormData;t.append("id",e.id),t.append("vedlegg",e.file,e.filename);const i=`${R.REST_API_URL}/storage/foreldrepenger/vedlegg`;return b().post(i,t,a)}const Y={saveAttachment:J},x=[".pdf",".jpeg",".jpg",".png"],S=16777,$=.0009765625,H=(e,a,t)=>e.map(i=>{const s=K(i,a,t);return s.pending=!0,s}),X=e=>{const a=e.split(".").pop();return x.includes(`.${a.toLowerCase()}`)},W=e=>e*$<=S,Q=(e,a,t)=>e.filter(i=>{const s=X(i.filename);s||a(l=>l.concat(f(t,"vedlegg.feilmelding.ugyldig.type",{filename:i.filename})));const d=W(i.filesize);return d||a(l=>l.concat(f(t,"vedlegg.feilmelding.ugyldig.størrelse",{filename:i.filename,maxStørrelse:S}))),s&&d}),Z=(e,a,t,i,s,d)=>{e.forEach(async(l,c)=>{try{const m=await Y.saveAttachment(l);l.pending=!1,l.url=m.headers.location,l.uploaded=!0,l.uuid=m.data,a(s+c,l)}catch{t(s+c),i(I=>I.concat(f(d,"vedlegg.feilmelding.opplasting.feilet",{filename:l.filename})))}})},g=({attachments:e,name:a,onFileInputClick:t,attachmentType:i,skjemanummer:s,label:d,legend:l,...c})=>{const m=T(),{setFieldValue:I}=_(),[j,k]=D.useState([]);return n.jsxs(n.Fragment,{children:[n.jsx(p,{padBottom:"xl",children:n.jsx(A,{legend:l,buttonLabel:d,name:a,accept:x.join(", "),onFilesSelect:(r,{push:h,replace:F,remove:L})=>{const N=H(r,i,s),E=Q(N,k,m);E.forEach(V=>h(V)),Z(E,F,L,k,e.length,m)},onClick:t,error:j.length>0?j.map(r=>n.jsx(q,{children:r},r)):void 0,...c})}),n.jsx(p,{padBottom:"xl",visible:e.length>0,children:n.jsx(B,{attachments:e.filter(r=>!y(r)),showFileSize:!0,onDelete:r=>{I(a,O(e,r))}})}),n.jsx(p,{padBottom:"l",children:n.jsx(w,{})})]})},me=g;try{g.displayName="FormikFileUploader",g.__docgenInfo={description:"",displayName:"FormikFileUploader",props:{attachments:{defaultValue:null,description:"",name:"attachments",required:!0,type:{name:"Attachment[]"}},name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"any"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},attachmentType:{defaultValue:null,description:"",name:"attachmentType",required:!0,type:{name:"enum",value:[{value:'"omsorgsovertakelse"'},{value:'"adopsjonsvedtak"'},{value:'"terminbekreftelse"'},{value:'"fødselsattest"'},{value:'"anneninntektDokumentasjon"'},{value:'"utsettelseSykdomUttaksplan"'},{value:'"morsaktivitetdokumentasjon"'},{value:'"dokumentasjonOverføringAvKvote"'},{value:'"dokumentasjonAvAleneomsorg"'},{value:'"hvØvelse"'},{value:'"navTiltak"'},{value:'"tilbakebetaling"'},{value:'"tilrettelegging"'}]}},skjemanummer:{defaultValue:null,description:"",name:"skjemanummer",required:!0,type:{name:"enum",value:[{value:'"I000062"'},{value:'"I000141"'},{value:'"I000042"'},{value:'"I000051"'},{value:'"I000133"'},{value:'"I000065"'},{value:'"I000061"'},{value:'"I000036"'},{value:'"I000110"'},{value:'"I000111"'},{value:'"I000118"'},{value:'"I000112"'},{value:'"I000037"'},{value:'"I000124"'},{value:'"I000120"'},{value:'"I000122"'},{value:'"I000121"'},{value:'"I000123"'},{value:'"I000130"'},{value:'"I000131"'},{value:'"I000132"'},{value:'"I000039"'},{value:'"I000038"'},{value:'"I000023"'},{value:'"I000044"'},{value:'"I000063"'},{value:'"I000007"'},{value:'"I000109"'},{value:'"I000114"'},{value:'"I000119"'},{value:'"I000116"'},{value:'"I000117"'},{value:'"I000032"'},{value:'"I000066"'},{value:'"I000140"'},{value:'"I000060"'}]}},legend:{defaultValue:null,description:"",name:"legend",required:!0,type:{name:"string"}},onFileInputClick:{defaultValue:null,description:"",name:"onFileInputClick",required:!1,type:{name:"(() => void)"}}}}}catch{}export{z as A,me as F};
