import{j as i}from"./jsx-runtime-Cw0GR0a5.js";import{A as ue,M as kn}from"./index-H6RymDk5.js";import{n as pn,a as yt,b as Mt,o as Lt,u as Kt,c as xt,e as Gt,f as Vt,d as cn}from"./nn_NO-CvUvY7Of.js";import{bh as gn,aa as C,bi as ur,bj as kr,bk as Bt,a6 as je,a7 as pr,bl as wt,a1 as mn,bm as fn,n as _,J as ee,ae as D,a2 as En,ai as cr,ah as h,a4 as me,aR as Sn,bn as An,K as vn,X as Fn,N as Tn,aM as Pn,f as S,a0 as gr,ak as Ht,al as et,bo as Nn,bp as mr,aq as hn,bq as Un,br as Rn,bs as Dn,bt as ye,bu as In,A as nt,O as fr,bc as Jt,bv as On,bw as jn,k as qt,a9 as z,ac as Q,bx as bn,by as _n,bz as st,ab as ot,M as yn,bA as ut,bB as Mn,bC as Ln,bD as Kn,D as Ct,b as xn,bE as Gn,bF as Vn,bG as Bn,bH as wn,bI as Hn,bJ as Er,bK as Jn,bL as qn,i as Cn}from"./Uttaksplan-BAF65u3k.js";import{j as Yn,t as $n,d as M,U as P,F as Wn,b as zn,K as L,T as Sr,L as Ar}from"./Uttaksdagen-Bz7Ohebv.js";import{r as F}from"./index-CTjT7uj6.js";import{s as Qn}from"./apiInterceptor-PNhAee4-.js";import{u as kt,M as w,H as Xn,B as Yt}from"./Label-CEor7wE8.js";import{A as Zn,B as es}from"./AnnenForelderSteg-Cf3YBAUg.js";import{E as Re}from"./Environment-Bt0OjbDD.js";import{d as ts,C as p,c as vr,u as q,a as Z,e as rs,F as ns}from"./FpDataContext-BUlrLNeW.js";import{d as pt,u as tt,a as rt,b as ss,R as oe,g as os,F as as}from"./getStønadskontoParams-BhnDCPaz.js";import{h as ct,i as fe,A as $t,S as R,q as Fr,u as is,a as ds,m as ls,b as us,g as ks,p as ps,r as Wt,j as cs,t as gs,v as ms,w as b,x as zt}from"./useFpNavigator-DjpLb1Ku.js";import{q as Me,g as Tr,I as ce,E as be,Q as fs,O as Pr,L as Nr,N as Es,M as hr,l as Ss,H as As,R as vs}from"./barnUtils-CU-KvCyp.js";import{g as I}from"./guid-CsArkN6i.js";import"./TidligereUtenlandsoppholdPanel-B5ooLcX9.js";import{F as Fs}from"./Forside-Blgo8W9S.js";import{A as Ts}from"./AndreInntektskilderSteg-BGpkELZl.js";import{g as Ps,A as Ns}from"./ArbeidsforholdOgInntektSteg-CCbEmX0M.js";import{E as hs}from"./EgenNæringSteg-D8Nzo9vx.js";import{a as Qt,O as se,F as Us}from"./FordelingSteg-B8ZeCGu3.js";import{F as Rs}from"./FrilansSteg-D6sJt7u3.js";import{M as Xt}from"./ManglendeVedlegg-BAVg7pE7.js";import{O as Ds}from"./OmBarnetSteg-00RIRhFl.js";import{O as Zt}from"./Oppsummering-BIZJOk7_.js";import{P as Is}from"./PeriodeMedForeldrepengerSteg-BeyUqrkL.js";import{S as Os}from"./SøkersituasjonSteg-t3cHJd--.js";import{S as js}from"./SenereUtenlandsoppholdSteg-CImkGm1l.js";import{T as bs}from"./TidligereUtenlandsoppholdSteg-Bj6cW3IK.js";import{U as _s}from"./UtenlandsoppholdSteg-C0F621ua.js";import{I as ys}from"./InfoOmNesteBarn-EbWk6SFH.js";import{c as Ms,d as Ls}from"./eksisterendeSakUtils-CKRNhkGd.js";import{f as Ks,j as xs,g as Gs}from"./stønadskontoerUtils-DdcjjwSR.js";import{b as Vs,S as W}from"./uttaksplanInfoUtils-D1gWXJkx.js";import{B as le}from"./Block-C77CYomR.js";import{M as De,H as Bs,B as _e,L as Ur}from"./VStack-BNla2fw4.js";import"./ArbeidsforholdOgInntektPanel-Byppm3fR.js";import"./ErrorSummaryHookForm-BFJKJiRx.js";import"./links-3m11MTct.js";import"./ExpansionCard-ytuMyxZw.js";import"./EgenNæringPanel-DbTYmpQL.js";import"./EgenNæring-bnb8Ikwh.js";import"./numberFormValidation-DNtDBq9H.js";import"./FrilansPanel-gkanB0AR.js";import"./BoIUtlandetOppsummering-CGWhQZ1q.js";import"./ArbeidsforholdOgInntekt-DPzRXA1d.js";import"./iframe-DgIPpWnC.js";import"../sb-preview/runtime.js";import"./index-BRV0Se7Z.js";import"./index-vZN_Bsf0.js";import"./_baseAssignValue-BYq83q8P.js";import"./RegistrertePersonalia-D_hZRoCN.js";import"./BabyWrapped-BIMDEM0F.js";import"./Plus-gM-KouQd.js";import"./DinePlikter-DlskcVYU.js";import"./DinePersonopplysningerModal-c9u4TP5y.js";import"./Dekningsgrad-Bg_cIyqc.js";const ws=[{fom:"2022-12-12",tom:"2023-02-17",kontoType:"FEDREKVOTE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},samtidigUttak:100,flerbarnsdager:!1},{fom:"2023-02-20",tom:"2023-03-05",kontoType:"FELLESPERIODE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},samtidigUttak:50,flerbarnsdager:!1},{fom:"2023-03-20",tom:"2023-03-31",kontoType:"FEDREKVOTE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},flerbarnsdager:!1}],Hs="HUNDRE",Js={perioder:ws,dekningsgrad:Hs},qs="2019-02-01",Cs="23123",Ys={innsendingstidspunkt:qs,pdf:Cs},$s=[{saksnummer:"352011594",sakAvsluttet:!1,sisteSøknadMottattDato:"2023-03-31",kanSøkeOmEndring:!1,sakTilhørerMor:!1,gjelderAdopsjon:!0,morUføretrygd:!1,harAnnenForelderTilsvarendeRettEØS:!1,ønskerJustertUttakVedFødsel:!1,rettighetType:"BEGGE_RETT",annenPart:{type:"person",fnr:"05489305072",fornavn:"Sentral",etternavn:"Tangent"},familiehendelse:{fødselsdato:"2023-02-01",antallBarn:1,omsorgsovertakelse:"2023-04-10"},åpenBehandling:{tilstand:"VENT_INNTEKTSMELDING",søknadsperioder:[{fom:"2023-04-10",tom:"2023-07-21",kontoType:"FEDREKVOTE",flerbarnsdager:!1},{fom:"2023-07-24",tom:"2023-09-15",kontoType:"FELLESPERIODE",morsAktivitet:"UTDANNING",flerbarnsdager:!1}]},barn:[],dekningsgrad:"HUNDRE"}],Ws=[],zs={foreldrepenger:$s,engangsstønad:[],svangerskapspenger:Ws},Qs={MØDREKVOTE:95,FEDREKVOTE:95,FELLESPERIODE:90,FORELDREPENGER_FØR_FØDSEL:15},Xs={farRundtFødsel:0,generellMinsterett:0,toTette:0},Zs={kontoer:Qs,minsteretter:Xs},eo={MØDREKVOTE:75,FEDREKVOTE:75,FELLESPERIODE:80,FORELDREPENGER_FØR_FØDSEL:15},to={farRundtFødsel:0,generellMinsterett:0,toTette:0},ro={kontoer:eo,minsteretter:to},no={MØDREKVOTE:95,FEDREKVOTE:95,FELLESPERIODE:90,FORELDREPENGER_FØR_FØDSEL:15,FORELDREPENGER:80},so={},oo={kontoer:no,minsteretter:so},ao="From {fom} until {tom}",io={tidsperiode:ao,"tidsperiode.kort":"{fom} - {tom}"},lo="Fra {fom} til {tom}",uo={tidsperiode:lo,"tidsperiode.kort":"{fom} - {tom}"},ko="Frå {fom} til {tom}",po={tidsperiode:ko,"tidsperiode.kort":"{fom} - {tom}"},co=e=>{window.location.href=e},Rr="selectedLocale",go=()=>sessionStorage.getItem(Rr)||"nb",mo=e=>{sessionStorage.setItem(Rr,e)},er={nb:uo,nn:po,en:io},tr=e=>({land:e.landkode,tidsperiode:{fom:e.fom,tom:e.tom}}),fo=(e,t,r)=>({iNorgeSiste12Mnd:!e.harBoddUtenforNorgeSiste12Mnd,iNorgeNeste12Mnd:!e.skalBoUtenforNorgeNeste12Mnd,tidligereOpphold:(r??[]).map(tr),senereOpphold:(t??[]).map(tr)}),Eo={"kalender.fødsel":"Birth","kalender.termin":"Due date","kalender.adopsjon":"Adoption","kalender.avslåttePerioder":"Rejected periods are not displayed in the calendar.","kalender.dinPeriode":"Your period","kalender.dinPeriode.gradert":"You combine work and parental benefits","kalender.annenPartPeriode":"{navnAnnenPart} period","kalender.samtidigUttak":"You and {navnAnnenPart} are on leave at the same time","kalender.dinUtsettelse":"You postpone parental benefits","kalender.utsettelseAnnenPart":"{navnAnnenPart} postpones parental benefits","kalender.helg":"Weekend (not days with parental allowance)","kalender.tapteDager":"Days you can lose","kalender.utsettelse":"You postpone parental benefits due to {reason}","kalender.utsettelse.ARBEID":"because you are working","kalender.utsettelse.INSTITUSJONSOPPHOLD_BARNET":"because the child is hospitalized","kalender.utsettelse.INSTITUSJONSOPPHOLD_SØKER":"because you are hospitalized","kalender.utsettelse.LOVBESTEMT_FERIE":"because you are on statutory holiday","kalender.utsettelse.SYKDOM":"because you are ill","kalender.utsettelse.HV_OVELSE":"due to exercises or service in the Home Guard","kalender.utsettelse.NAV_TILTAK":"due to NAV measures that constitute 100% work","kalender.lastNed":"Download the calendar as PDF","kalender.skjermleser.familiehendelse":"{familiehendelsenavn} on {dato}","kalender.skjermleser.periode":"{periodeNavn} from the {fraDato} until the {tilDato}"},So={"kalender.fødsel":"Fødsel","kalender.termin":"Termin","kalender.adopsjon":"Adopsjon","kalender.avslåttePerioder":"Avslåtte perioder vises ikke i kalenderen.","kalender.dinPeriode":"Din periode","kalender.dinPeriode.gradert":"Du kombinerer jobb og foreldrepenger","kalender.annenPartPeriode":"{navnAnnenPart} periode","kalender.samtidigUttak":"Du og {navnAnnenPart} har permisjon samtidig","kalender.dinUtsettelse":"Du utsetter foreldrepenger","kalender.utsettelseAnnenPart":"{navnAnnenPart} utsetter foreldrepenger","kalender.helg":"Helg (er ikke dager med foreldrepenger)","kalender.tapteDager":"Dager du kan tape","kalender.utsettelse":"Du utsetter foreldrepenger {årsak}","kalender.utsettelse.ARBEID":"fordi du skal jobbe","kalender.utsettelse.INSTITUSJONSOPPHOLD_BARNET":"fordi barnet er innlagt","kalender.utsettelse.INSTITUSJONSOPPHOLD_SØKER":"fordi du er innlagt","kalender.utsettelse.LOVBESTEMT_FERIE":"fordi du er på ferie","kalender.utsettelse.SYKDOM":"fordi du er syk","kalender.utsettelse.HV_OVELSE":"pga. øvelse eller tjeneste i Heimevernet","kalender.utsettelse.NAV_TILTAK":"pga. NAV tiltak som utgjør 100% arbeid","kalender.lastNed":"Last ned kalender som PDF","kalender.skjermleser.familiehendelse":"{familiehendelsenavn} den {dato}","kalender.skjermleser.periode":"{periodeNavn} fra den {fraDato} til den {tilDato}"},Ao={"kalender.fødsel":"Fødsel","kalender.termin":"Termin","kalender.adopsjon":"Adopsjon","kalender.avslåttePerioder":"Avslåtte periodar vises ikkje i kalenderen.","kalender.dinPeriode":"Din periode","kalender.dinPeriode.gradert":"Du kombinerer jobb og foreldrepengar","kalender.annenPartPeriode":"{navnAnnenPart} periode","kalender.samtidigUttak":"Du og {navnAnnenPart} har permisjon samtidig","kalender.dinUtsettelse":"Du utsetter foreldrepengar","kalender.utsettelseAnnenPart":"{navnAnnenPart} utsetter foreldrepengar","kalender.helg":"Helg (er ikkje dagar med foreldrepengar)","kalender.tapteDager":"Dagar du kan tape","kalender.utsettelse":"Du utsetter foreldrepengar {årsak}","kalender.utsettelse.ARBEID":"fordi du skal jobbe","kalender.utsettelse.INSTITUSJONSOPPHOLD_BARNET":"fordi barnet er innlagt","kalender.utsettelse.INSTITUSJONSOPPHOLD_SØKER":"fordi du er innlagt","kalender.utsettelse.LOVBESTEMT_FERIE":"fordi du er på ferie","kalender.utsettelse.SYKDOM":"fordi du er sjuk","kalender.utsettelse.HV_OVELSE":"pga. øving eller teneste i Heimevernet","kalender.utsettelse.NAV_TILTAK":"pga. NAV tiltak som utgjer 100% arbeid","kalender.lastNed":"Last ned kalender som PDF","kalender.skjermleser.familiehendelse":"{familiehendelsenavn} den {dato}","kalender.skjermleser.periode":"{periodeNavn} fra den {fraDato} til den {tilDato}"},rr={nb:So,nn:Ao,en:Eo},vo=(e,t,r,n,o,s,a,l)=>{const{normaliserteEgnePerioder:k,normaliserteAnnenPartsPerioder:d}=gn(t,e);return d.length>0?(k.forEach(u=>{if(C(u)){const c=ur(d).finnOverlappendePerioder(u),g=c.length>0?c[0]:void 0;g!==void 0&&kr(g)&&(u.ønskerSamtidigUttak||(u.ønskerSamtidigUttak=!0,u.samtidigUttakProsent=Bt(u.gradert,u.stillingsprosent)),g.ønskerSamtidigUttak||(g.ønskerSamtidigUttak=!0,g.samtidigUttakProsent=Bt(g.gradert,g.stillingsprosent)))}}),je(pr(k,d,r,l),n,r,o,s,a,l)):t},Fo=(e,t)=>Yn(t)?t:!Array.isArray(t)&&wt(t,[wt.HTML5_FMT.DATE,"YYYY-MM-DDTHH:mm:ss.SSSZ"],!0).isValid()?new Date(t):t,To=e=>{if(e)return JSON.parse(e,Fo)},Po="/rest/soknad",No="/rest/soknad/endre",ho=()=>{const{data:e,error:t}=pt("/rest/sokerinfo",{config:{withCredentials:!0}});return{søkerinfoData:e,søkerinfoError:t}},Uo=()=>{const{data:e,error:t}=pt("/rest/innsyn/v2/saker",{config:{withCredentials:!0}});return{sakerData:e,sakerError:t}},Ro=()=>{const{data:e,error:t,requestStatus:r}=pt("/rest/storage/foreldrepenger",{config:{transformResponse:To,withCredentials:!0}});return{storageData:e,storageError:t,storageStatus:r}},Do=(e,t)=>ue(t).post("/rest/storage/foreldrepenger",e,{withCredentials:!0}),Io=e=>ue(e).get("/rest/storage/kvittering/foreldrepenger",{withCredentials:!0,timeout:15*1e3}),Oo=(e,t,r)=>{const n=e.erEndringssøknad?No:Po;return ue(t).post(n,e,{withCredentials:!0,timeout:120*1e3,headers:{"content-type":"application/json;"},signal:r})},jo=(e,t)=>ue(e).delete("/rest/storage/foreldrepenger",{withCredentials:!0,signal:t}),bo=(e,t,r)=>{const n=t.reduce((o,s)=>(s.uuid&&o.push(s.uuid),o),[]);return ue(e).delete("/rest/storage/foreldrepenger/vedlegg",{withCredentials:!0,data:n,signal:r})},te={storeAppState:Do,getStorageKvittering:Io,useStoredAppState:Ro,useSøkerinfo:ho,sendSøknad:Oo,useGetSaker:Uo,deleteMellomlagretSøknad:jo,deleteMellomlagredeVedlegg:bo},_o=(e,t,r,n)=>{const o=ct(),s=ts();return F.useCallback(async()=>{mn("applikasjon-hendelse",{app:"foreldrepengesoknad",team:"foreldrepenger",hendelse:"avbrutt"}),s(),t(!1),r(!1),n(void 0);try{await te.deleteMellomlagretSøknad(e)}catch{}o("/")},[e,o,s,t,r,n])},yo="Det har oppstått et problem med innsending av søknaden. Vennligst prøv igjen senere. Hvis problemet vedvarer, kontakt oss og oppgi feil id: ",Dr="ukjent uuid",Mo=(e,t,r)=>{const n=qo(Lo(e));return Sn(t,r,e.tidsperiode.fom)?{...n,justeresVedFødsel:!0}:n},Lo=e=>{const{erMorForSyk:t,...r}=e;return r},Ko=e=>e.type!==D.Hull,xo=e=>e.type!==D.Info,Go=e=>e.type!==D.PeriodeUtenUttak,Vo=e=>An(e)?!e.skalIkkeHaUttakFørTermin:Ko(e)&&xo(e)&&Go(e)&&!(C(e)&&e.konto===void 0),Ir=(e,t=!1)=>{if(ee(e)){const{erMorUfør:r,erForSyk:n,harRettPåForeldrepengerINorge:o,harRettPåForeldrepengerIEØS:s,harOppholdtSegIEØS:a,...l}=e,k={harMorUføretrygd:r,harRettPåForeldrepenger:o,...l};return o?{...k,erInformertOmSøknaden:!0}:a?{...k,harAnnenForelderOppholdtSegIEØS:a,harAnnenForelderTilsvarendeRettEØS:s}:t?{...k,harAnnenForelderTilsvarendeRettEØS:s}:{...k,harAnnenForelderOppholdtSegIEØS:a}}return e},Bo=e=>{if(vn(e)){const{type:n,fnr:o,...s}=e;return s}if(Fn(e)){const{type:n,fnr:o,...s}=e;return{adopsjonAvEktefellesBarn:Tn(e),...s}}const{type:t,...r}=e;return r},wo=e=>{switch(e){case"mor":return"MOR";case"far":return"FAR";case"medmor":return"MEDMOR";default:return Pn("Søkerrolle er ikke satt")}},Ho=(e,t,r,n,o)=>(C(e)&&(e.konto===S.Flerbarnsdager&&(e.konto=t?S.Fellesperiode:S.Foreldrepenger),e.konto===S.AktivitetsfriKvote&&(e.konto=S.Foreldrepenger,n&&!t&&gr(o)?e.morsAktivitetIPerioden=Ht.IkkeOppgitt:r&&(e.morsAktivitetIPerioden=Ht.Uføre))),e),Jo=e=>{if(e!==void 0&&e.length>0){const t=e[0];return{erArbeidstaker:t===et.arbeidstaker,erFrilanser:t===et.frilans,erSelvstendig:t===et.selvstendignæringsdrivende}}else return{}},qo=e=>e.gradert?{...e,...Jo(e.arbeidsformer)}:e,Or=(e,t,r,n,o,s,a)=>{const k=e.map(d=>({...d})).filter(d=>$n(d.tidsperiode)).filter(Vo).map(d=>s&&ee(s)?Ho(d,!!s.harRettPåForeldrepengerINorge,!!s.erMorUfør,r,t):d).map(d=>d.type===D.Uttak?Mo(d,n,o):d);return a&&En(t)&&!Co(k,a)?Yo(k,a):k},Co=(e,t)=>e.find(r=>M(t).isBetween(r.tidsperiode.fom,r.tidsperiode.tom,"day","[]")),Yo=(e,t)=>{const r=e.find(s=>M(s.tidsperiode.fom).isAfter(t,"day")),n=r?P(r.tidsperiode.fom).forrige():t,o={type:D.Utsettelse,årsak:cr.Fri,id:I(),tidsperiode:{fom:t,tom:n},erArbeidstaker:!1,forelder:h.farMedmor};return e.push(o),e.sort(me),e},jr=e=>{if(!e)return[];const t=[];return Object.keys(e).forEach(r=>{const n=e[r];n&&n.length>0&&t.push(...n)}),t},$o=(e,t,r)=>{const n=_(e(p.ANNEN_FORELDER)),o=_(e(p.OM_BARNET)),s=_(e(p.ARBEIDSFORHOLD_OG_INNTEKT)),a=e(p.FRILANS),l=e(p.EGEN_NÆRING),k=e(p.ANDRE_INNTEKTSKILDER),d=_(e(p.SØKERSITUASJON)),u=_(e(p.UTENLANDSOPPHOLD)),c=e(p.UTENLANDSOPPHOLD_SENERE),g=e(p.UTENLANDSOPPHOLD_TIDLIGERE),m=_(e(p.PERIODE_MED_FORELDREPENGER)),A=_(e(p.UTTAKSPLAN)),f=_(e(p.UTTAKSPLAN_METADATA)),O=e(p.EKSISTERENDE_SAK),E=e(p.VEDLEGG),T=Ir(n),N=br(d,r,n,s,a,l,k),v=Bo(o),H=fe(d.rolle),x=Me(o),U=Or(A,t,H,f.ønskerJustertUttakVedFødsel,x,n);return{type:"foreldrepenger",harGodkjentVilkår:!0,saksnummer:O==null?void 0:O.saksnummer,erEndringssøknad:!1,søker:N,barn:v,situasjon:d.situasjon,annenForelder:T,uttaksplan:U,informasjonOmUtenlandsopphold:fo(u,c,g),dekningsgrad:m,ønskerJustertUttakVedFødsel:f.ønskerJustertUttakVedFødsel,vedlegg:jr(E)}},br=(e,t,r,n,o,s,a)=>{const l=wo(e.rolle),k=ee(r),d={rolle:l,språkkode:t,erAleneOmOmsorg:k?r.erAleneOmOmsorg:!0};return n!=null&&n.harJobbetSomFrilans||n!=null&&n.harHattAndreInntektskilder||n!=null&&n.harHattAndreInntektskilder?{...d,andreInntekterSiste10Mnd:a==null?void 0:a.map(u=>({...u,tidsperiode:{fom:u.fom,tom:u.tom,pågående:u.type===$t.SLUTTPAKKE?!1:u.pågående},pågående:u.type===$t.SLUTTPAKKE?!1:u.pågående})),frilansInformasjon:o,selvstendigNæringsdrivendeInformasjon:s?[{næringstyper:[s.næringstype],tidsperiode:{fom:s.fomDato,tom:s.tomDato},navnPåNæringen:s.navnPåNæringen,...s}]:[]}:{...d,andreInntekterSiste10Mnd:[],selvstendigNæringsdrivendeInformasjon:[]}},Wo=(e,t,r,n,o,s)=>e?zo(t,r,n,o,s):$o(t,n,o),zo=(e,t,r,n,o)=>{const s=_(e(p.UTTAKSPLAN_METADATA)),a=_(e(p.ANNEN_FORELDER)),l=_(e(p.OM_BARNET)),k=e(p.ARBEIDSFORHOLD_OG_INNTEKT),d=e(p.FRILANS),u=e(p.EGEN_NÆRING),c=e(p.ANDRE_INNTEKTSKILDER),g=_(e(p.PERIODE_MED_FORELDREPENGER)),m=_(e(p.SØKERSITUASJON)),A=_(e(p.EKSISTERENDE_SAK)),f=fe(m.rolle),O=Me(l),E=e(p.VEDLEGG);return{type:"foreldrepenger",erEndringssøknad:!0,saksnummer:A.saksnummer,uttaksplan:Or(t,r,f,s.ønskerJustertUttakVedFødsel,O,a,o),søker:br(m,n,a,k,d,u,c),annenForelder:Ir(a,!0),barn:l,dekningsgrad:g,situasjon:m.situasjon,ønskerJustertUttakVedFødsel:s.ønskerJustertUttakVedFødsel,vedlegg:jr(E)}},nr=e=>e.replace(/\d/g,"*").slice(0,250)+"...",ae=e=>{var a,l,k,d;const t=_r(e)+". ",r=Qo(e)+". ";let n=t+r;const o=((l=(a=e.request)==null?void 0:a.data)==null?void 0:l.messages)??((d=(k=e.response)==null?void 0:k.data)==null?void 0:d.messages),s=Array.isArray(o);s&&o.length>0&&(n=n+nr(o[0])),!s&&o&&(n=n+nr(o)),e.message&&(n=n+e.message),fn(n)},_r=e=>{var t,r;return(r=(t=e.response)==null?void 0:t.data)!=null&&r.uuid?e.response.data.uuid:Dr},Qo=e=>{var t,r;return(r=(t=e.response)==null?void 0:t.data)!=null&&r.timestamp?e.response.data.timestamp:""},yr=13,Xo=e=>{switch(e){case R.UTTAKSPLAN:case R.OPPSUMMERING:return!0;default:return!1}},sr=e=>{var t;return(t=e.søknad)!=null&&t.erEndringssøknad&&!Xo(e.currentRoute)?!1:e.version===yr},Zo=(e,t,r,n,o,s)=>{const a=_(t(p.APP_ROUTE)),l=t(p.SØKERSITUASJON),k=t(p.OM_BARNET),d=t(p.ANNEN_FORELDER),u=t(p.ARBEIDSFORHOLD_OG_INNTEKT),c=t(p.FRILANS),g=t(p.EGEN_NÆRING),m=t(p.ANDRE_INNTEKTSKILDER),A=t(p.UTENLANDSOPPHOLD),f=t(p.UTENLANDSOPPHOLD_SENERE),O=t(p.UTENLANDSOPPHOLD_TIDLIGERE),E=t(p.UTTAKSPLAN_METADATA),T=t(p.BARN_FRA_NESTE_SAK),N=t(p.EKSISTERENDE_SAK),v=t(p.UTTAKSPLAN),H=t(p.FORDELING),x=t(p.PERIODE_MED_FORELDREPENGER),U=t(p.VEDLEGG),K={version:yr,locale:e,currentRoute:a,søknadGjelderEtNyttBarn:s,søknad:{harGodkjentVilkår:o,søkersituasjon:l,barn:k,annenForelder:d,arbeidsforholdOgInntekt:u,frilans:c,egenNæring:g,andreInntektskilder:m,utenlandsopphold:A,utenlandsoppholdNeste12Mnd:f,utenlandsoppholdSiste12Mnd:O,erEndringssøknad:n,dekningsgrad:x,uttaksplan:v,vedlegg:U,ønskerJustertUttakVedFødsel:E==null?void 0:E.ønskerJustertUttakVedFødsel},eksisterendeSak:N,barnFraNesteSak:T,fordeling:H,endringstidspunkt:E==null?void 0:E.endringstidspunkt,antallUkerIUttaksplan:E==null?void 0:E.antallUkerIUttaksplan,perioderSomSkalSendesInn:E==null?void 0:E.perioderSomSkalSendesInn,harUttaksplanBlittSlettet:E==null?void 0:E.harUttaksplanBlittSlettet,annenPartsUttakErLagtTilIPlan:E==null?void 0:E.annenPartsUttakErLagtTilIPlan};return te.storeAppState(K,r)},ea=(e,t,r,n,o)=>{const s=ct(),a=vr(),[l,k]=F.useState(!1),d=F.useRef();return F.useEffect(()=>{if(l){const c=_(a(p.APP_ROUTE));(async()=>{k(!1),s(c),await Zo(e,a,t,r,n,o),d.current&&d.current()})().catch(m=>{ae(m),d.current&&d.current()})}},[l]),F.useCallback(()=>(k(!0),new Promise(g=>{d.current=g})),[])},ta=e=>!!(e&&typeof e=="object"&&"isAxiosError"in e),ra=(e,t,r,n)=>{const o=vr(),[s,a]=F.useState();return{sendSøknad:async k=>{const d=_(o(p.UTTAKSPLAN_METADATA)),u=_(o(p.OM_BARNET)),c=Wo(t,o,d.perioderSomSkalSendesInn,Tr(u),n,d.endringstidspunkt);c.uttaksplan.length===0&&c.erEndringssøknad&&a(new Error("Søknaden din inneholder ingen nye perioder."));let g;try{g=(await te.sendSøknad(c,e,k)).data}catch(m){if(ta(m)){ae(m);const A=_r(m),f=A!==Dr?A.slice(0,8):A;a(new Error(yo+f))}else a(new Error(String(m)))}try{await te.deleteMellomlagretSøknad(e,k)}catch{}r(g)},errorSendSøknad:s}};var ge=(e=>(e.ønskerAutomatiskJustering="ønskerAutomatiskJustering",e))(ge||{});const at=Nn(),na=(e,t)=>{const[r,n]=F.useState(e);return F.useEffect(()=>{const o=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(o)}},[e,t]),r},Oe=e=>C(e)||mr(e)||hn(e)||Un(e),or=(e,t,r,n,o)=>n?t?oa(n,e,o,r):e.filter(Oe):e,sa=(e,t,r,n)=>{const o=t.filter(s=>Rn(r,s.tidsperiode.fom,s.tidsperiode.tom)||M(s.tidsperiode.fom).isSameOrAfter(M(r),"day")).filter(Oe);if(o.length===0&&(e.length>t.length||e.filter(Oe).length>t.filter(Oe).length)){const s=e.find(l=>M(l.tidsperiode.fom).isSame(r,"day"));return[{id:I(),type:D.Utsettelse,tidsperiode:{fom:s.tidsperiode.fom,tom:s.tidsperiode.tom},årsak:cr.Fri,forelder:n?h.farMedmor:h.mor,erArbeidstaker:!1}]}else return o},oa=(e,t,r,n)=>r===void 0?[]:sa(e,t,r,n),aa=e=>In(e),ia=(e,t)=>({ønskerAutomatiskJustering:e!==void 0&&t?Dn(e):ye.UNANSWERED}),Mr=({termindato:e,perioderMedUttakRundtFødsel:t,antallBarn:r,visibility:n})=>{const o=kt(),s=P(e).denneEllerNeste(),a=q(p.UTTAKSPLAN_METADATA),l=Z(p.UTTAKSPLAN_METADATA),k=a==null?void 0:a.ønskerJustertUttakVedFødsel,d=k&&t.length>1,u=k&&t.length===1&&!M(t[0].tidsperiode.fom).isSame(s,"day"),c=k&&t.length===1&&M(t[0].tidsperiode.fom).isSame(s,"day")&&(C(t[0])&&(t[0].konto!==S.Fedrekvote||!t[0].ønskerSamtidigUttak)||mr(t[0])),g=k&&t.length===1&&M(t[0].tidsperiode.fom).isSame(s,"day")&&C(t[0])&&t[0].konto===S.Fedrekvote&&t[0].ønskerFlerbarnsdager===!0;let m;d&&(m=i.jsx(w,{id:"uttaksplan.automatiskJustering.info.hvisFlerePerioder"})),u&&(m=i.jsx(w,{id:"uttaksplan.automatiskJustering.info.hvisIkkeLengerStarterPåTermin"})),c&&(m=i.jsx(w,{id:"uttaksplan.automatiskJustering.info.hvisEndretPeriodePåTermin"})),g&&(m=i.jsx(w,{id:"uttaksplan.automatiskJustering.info.hvisEndretPeriodeTilØnskerFlerbarnsdager"}));const A=f=>{const O=aa(f);l({...a,ønskerJustertUttakVedFødsel:O})};return i.jsx(at.Form,{includeButtons:!1,children:i.jsxs("div",{style:{paddingTop:"1rem",paddingBottom:"1rem"},children:[m&&i.jsx(le,{padBottom:"l",children:i.jsx(nt,{variant:"info",children:m})}),i.jsx(le,{visible:n.isVisible(ge.ønskerAutomatiskJustering),padBottom:"l",children:i.jsx(at.YesOrNoQuestion,{name:ge.ønskerAutomatiskJustering,legend:o.formatMessage({id:"uttaksplan.automatiskJustering.spørsmål"},{antallBarn:r}),validate:f=>{if(f===ye.UNANSWERED)return o.formatMessage({id:"uttaksplan.automatiskJustering.svar.påkrevd"})},afterOnChange:f=>A(f)})})]})})};Mr.__docgenInfo={description:"",methods:[],displayName:"AutomatiskJusteringForm",props:{termindato:{required:!0,tsType:{name:"Date"},description:""},perioderMedUttakRundtFødsel:{required:!0,tsType:{name:"Array",elements:[{name:"union",raw:`| Uttaksperiode
| Utsettelsesperiode
| Oppholdsperiode
| Overføringsperiode
| PeriodeHull
| PeriodeUtenUttakUtsettelse
| PeriodeUtenUttak
| InfoPeriode`,elements:[{name:"union",raw:"UttaksperiodeBase | ForeldrepengerFørFødselUttaksperiode",elements:[{name:"UttaksperiodeBase"},{name:"ForeldrepengerFørFødselUttaksperiode"}]},{name:"Utsettelsesperiode"},{name:"Oppholdsperiode"},{name:"Overføringsperiode"},{name:"PeriodeHull"},{name:"PeriodeUtenUttakUtsettelse"},{name:"PeriodeUtenUttak"},{name:"union",raw:"AvslåttPeriode | UttakAnnenPartInfoPeriode | UtsettelseAnnenPartInfoPeriode",elements:[{name:"AvslåttPeriode"},{name:"UttakAnnenPartInfoPeriode"},{name:"UtsettelseAnnenPartInfoPeriode"}]}]}],raw:"Periode[]"},description:""},antallBarn:{required:!0,tsType:{name:"number"},description:""},visibility:{required:!0,tsType:{name:"QuestionVisibility",elements:[{name:"UttaksplanFormField"},{name:"undefined"}],raw:"QuestionVisibility<UttaksplanFormField, undefined>"},description:""}}};const da=(e,t)=>t!==void 0&&C(e)&&M(e.tidsperiode.fom).isSame(P(M(t).toDate()).denneEllerNeste(),"day")&&e.forelder===h.farMedmor&&e.konto===S.Fedrekvote&&e.ønskerSamtidigUttak===!0&&e.ønskerFlerbarnsdager!==!0,la=(e,t,r)=>e&&t.length===1&&da(t[0],r),ua=(e,t,r,n,o,s,a)=>e&&gr(t)&&r==="fødsel"&&n.length!==0&&fr(o)&&s!==void 0&&!a,Lr=({children:e,lastStep:t=!1,singleButton:r=!1})=>{const n=zn("step-button-wrapper");return i.jsx("div",{className:Wn(n.block,t?n.modifier("last-step"):void 0,r?n.modifier("single-button"):void 0),children:e})};Lr.__docgenInfo={description:"",methods:[],displayName:"StepButtonWrapper",props:{lastStep:{defaultValue:{value:"false",computed:!1},required:!1},singleButton:{defaultValue:{value:"false",computed:!1},required:!1}}};const Kr=({isOpen:e,setIsOpen:t,goToPreviousStep:r})=>i.jsxs(De,{"aria-label":"Vil du gå tilbake",open:e,onClose:()=>t(!1),children:[i.jsx(De.Header,{children:i.jsx(Xn,{size:"small",level:"1",children:i.jsx(w,{id:"uttaksplan.vilDuGåTilbakeModal.tittel"})})}),i.jsx(De.Body,{children:i.jsxs(Bs,{gap:"4",children:[i.jsx(Yt,{children:i.jsx(w,{id:"uttaksplan.vilDuGåTilbakeModal.intro"})}),i.jsx(Yt,{children:i.jsx(w,{id:"uttaksplan.vilDuGåTilbakeModal.spørsmål"})})]})}),i.jsxs(De.Footer,{children:[i.jsx(_e,{onClick:r,children:i.jsx(w,{id:"uttaksplan.vilDuGåTilbakeModal.okLabel"})}),i.jsx(_e,{variant:"secondary",onClick:()=>t(!1),children:i.jsx(w,{id:"uttaksplan.vilDuGåTilbakeModal.avbrytLabel"})})]})]});Kr.__docgenInfo={description:"",methods:[],displayName:"VilDuGåTilbakeModal",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},setIsOpen:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"boolean"}],raw:"SetStateAction<boolean>"}],raw:"Dispatch<SetStateAction<boolean>>"},description:""},goToPreviousStep:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const ka=e=>{if(!e)throw new Error("Mangler informasjon om annen forelders siste dag.");const t=P(e).denneEllerForrige();return P(t).neste()},pa=(e,t)=>{if(t.fordelingValg===Qt.ALT)return e*5;if(t.fordelingValg===Qt.VIL_VELGE){const r=Jt(t.antallDagerFellesperiodeTilSøker)??0;return(Jt(t.antallUkerFellesperiodeTilSøker)??0)*5+r}},ca=(e,t,r,n,o,s,a)=>{if((!e||e===se.ANNEN_DATO)&&t)return ce(t);switch(e){case se.TRE_UKER_FØR_TERMIN:return qt(r);case se.TRE_UKER_FØR_FØDSEL:return qt(n);case se.FAMILIEHENDELSESDATO:return n;case se.ANKOMSTDATO_NORGE:return jn(o);case se.DAGEN_ETTER_ANNEN_FORELDER:return ka(s);case se.DATO_FOR_ALENEOMSORG:return On(a);default:throw new Error("Ukjent verdi på oppstartValg.")}},ga=(e,t,r,n,o,s,a)=>{if(s!==!0){const l=P(n||e).denneEllerNeste(),k=[],d=t?S.Fedrekvote:S.Mødrekvote,u=t?h.farMedmor:h.mor,c=r.find(m=>t?m.konto===S.Fedrekvote:m.konto===S.Mødrekvote);let g=l;if(c!==void 0){const m={id:I(),type:D.Uttak,forelder:u,konto:d,tidsperiode:L(g,c.dager),ønskerSamtidigUttak:!1,gradert:!1};g=P(m.tidsperiode.tom).neste(),a!==void 0&&z(m.tidsperiode,a)?Q(m,a).forEach(f=>k.push(f)):k.push(m)}if(o!==void 0&&o>0){const m={id:I(),type:D.Uttak,forelder:u,konto:S.Fellesperiode,tidsperiode:L(g,o),ønskerSamtidigUttak:!1,gradert:!1};a!==void 0&&z(m.tidsperiode,a)?Q(m,a).forEach(f=>k.push(f)):k.push(m)}return k.sort(me)}else return[]},ma=(e,t,r,n,o,s,a)=>r?it(t,n,o,s,e,void 0,void 0,a,"adopsjon"):it(t,n,o,s,e,void 0,void 0,a,"adopsjon").map(d=>C(d)&&(d.konto===S.Fedrekvote||d.konto===S.Fellesperiode)?d.konto===S.Fedrekvote?{...d,konto:S.Mødrekvote,forelder:h.mor}:{...d,forelder:h.mor}:d),fa=(e,t,r,n,o,s,a,l,k,d)=>s?ma(e,r,t,a,l,k,d):ga(e,t,r,n,o,s,d),Ea=(e,t,r,n)=>{const o=P(e).denneEllerNeste(),s=[],a=M(r).isBefore(M(e),"d"),l=t.find(u=>u.konto===S.ForeldrepengerFørFødsel),k=t.find(u=>u.konto===S.Mødrekvote);let d=o;if(l!==void 0&&a&&r){const u=P(r).denneEllerNeste(),c=P(u).getUttaksdagerFremTilDato(d),g=c>15,m=P(o).trekkFra(g?15:c);if(g){const f={id:I(),type:D.Uttak,forelder:h.mor,konto:S.Fellesperiode,tidsperiode:L(u,c-15),vedlegg:[]};s.push(f)}const A={id:I(),type:D.Uttak,forelder:h.mor,konto:S.ForeldrepengerFørFødsel,tidsperiode:{fom:m,tom:P(d).forrige()}};s.push(A)}else{const u={id:I(),type:D.Uttak,forelder:h.mor,konto:S.ForeldrepengerFørFødsel,skalIkkeHaUttakFørTermin:!0,tidsperiode:{fom:P(d).trekkFra(15),tom:P(d).forrige()},vedlegg:[]};s.push(u)}if(k!==void 0){const u={id:I(),type:D.Uttak,forelder:h.mor,konto:S.Mødrekvote,tidsperiode:L(d,k.dager),ønskerSamtidigUttak:!1,gradert:!1};d=P(u.tidsperiode.tom).neste(),s.push(u)}if(n!==void 0&&n>0){const u=s.find(g=>C(g)&&g.konto===S.Fellesperiode);let c=0;if(u&&(c=Sr(u.tidsperiode).getAntallUttaksdager()),n-c>0){const g={id:I(),type:D.Uttak,forelder:h.mor,konto:S.Fellesperiode,tidsperiode:L(d,n-c),ønskerSamtidigUttak:!1,gradert:!1};s.push(g)}}return s.sort(me)},it=(e,t,r,n,o,s,a,l,k="fødsel")=>{if(!be(o)&&fs(r,n)&&!a)return[];const d=[],u=P(n).denneEllerNeste();let c=P(n).denneEllerNeste();const g=e.find(f=>f.konto===S.Fedrekvote),m=e.find(f=>f.konto===S.Fellesperiode),A=!0;if(g!==void 0){const f=k==="fødsel"&&be(o)&&bn(L(u,1),o,s),O=f?_n(o,u):g.dager,E={id:I(),type:D.Uttak,forelder:h.farMedmor,konto:S.Fedrekvote,tidsperiode:L(u,O),ønskerSamtidigUttak:f,samtidigUttakProsent:f?"100":void 0};c=P(E.tidsperiode.tom).neste(),st(E,o,A,s)?ot(E,o).forEach(N=>d.push(N)):l!==void 0&&z(E.tidsperiode,l)?Q(E,l).forEach(N=>d.push(N)):d.push(E)}if(m!==void 0){let f=0;if(t!==void 0&&t!==0&&(f=5*t),f>0){const O={id:I(),type:D.Uttak,forelder:h.farMedmor,konto:S.Fellesperiode,tidsperiode:L(c,f),ønskerSamtidigUttak:!1,gradert:!1};d.push(O)}}return d},Sa=(e,t,r,n,o,s,a,l,k,d,u)=>{if(t){const c=r.filter(g=>g.konto!==S.ForeldrepengerFørFødsel);return it(c,s,a,l,e,u,k,d)}else return Ea(e,r,n,o)},Aa=e=>e.situasjon==="adopsjon"?fa(e.famDato,e.erFarEllerMedmor,e.tilgjengeligeStønadskontoer,e.startdatoPermisjon,e.fellesperiodeDagerMor,e.harAnnenForelderSøktFP,e.antallUkerFellesperiodeFarMedmor,e.morSinSisteUttaksdag,e.farSinFørsteUttaksdag,e.førsteUttaksdagNesteBarnsSak):e.situasjon==="fødsel"?Sa(e.famDato,e.erFarEllerMedmor,e.tilgjengeligeStønadskontoer,e.startdatoPermisjon,e.fellesperiodeDagerMor,e.antallUkerFellesperiodeFarMedmor,e.morSinSisteUttaksdag,e.farSinFørsteUttaksdag,e.annenForelderHarRettPåForeldrepengerIEØS,e.førsteUttaksdagNesteBarnsSak,e.termindato):[],va=(e,t,r,n,o,s,a)=>{const l=P(r||e).denneEllerNeste(),k=[];if(n!==!0){let d=l;if(be(e)&&s){const c={id:I(),type:D.Uttak,forelder:h.farMedmor,konto:S.AktivitetsfriKvote,tidsperiode:L(l,o.dager),vedlegg:[],gradert:!1,harIkkeAktivitetskrav:!0};a!==void 0&&z(c.tidsperiode,a)?Q(c,a).forEach(m=>k.push(m)):k.push(c),d=P(c.tidsperiode.tom).neste()}const u={id:I(),type:D.Uttak,forelder:h.farMedmor,konto:t.konto,tidsperiode:L(d,t.dager),vedlegg:[],gradert:!1};a!==void 0&&z(u.tidsperiode,a)?Q(u,a).forEach(g=>k.push(g)):k.push(u)}else{const d={id:I(),type:D.Uttak,forelder:h.farMedmor,konto:S.AktivitetsfriKvote,tidsperiode:L(l,o.dager),vedlegg:[],gradert:!1,harIkkeAktivitetskrav:!0};a!==void 0&&z(d.tidsperiode,a)?Q(d,a).forEach(g=>k.push(g)):k.push(d);const u={id:I(),type:D.Uttak,forelder:h.farMedmor,konto:S.Foreldrepenger,tidsperiode:L(P(d.tidsperiode.tom).neste(),t.dager),vedlegg:[],gradert:!1};a!==void 0&&z(u.tidsperiode,a)?Q(u,a).forEach(g=>k.push(g)):k.push(u)}return k},Fa=(e,t,r,n)=>{const o=P(r||e).denneEllerNeste(),s={id:I(),type:D.Uttak,forelder:h.mor,konto:t.konto,tidsperiode:L(o,t.dager),vedlegg:[],gradert:!1};return n!==void 0&&z(s.tidsperiode,n)?Q(s,n):[s]},Ta=(e,t,r,n,o,s,a,l)=>t?va(e,r,n,o,s,a,l):Fa(e,r,n,l),Pa=(e,t,r,n)=>{const o=P(e).denneEllerNeste(),s=[],a=M(r).isBefore(M(e),"d");if(n!==void 0&&a&&r){const u=P(r).getUttaksdagerFremTilDato(o),c=u>15,g=P(o).trekkFra(c?15:u);if(c){const A={id:I(),type:D.Uttak,forelder:h.mor,konto:S.Foreldrepenger,tidsperiode:L(r,u-15),vedlegg:[]};s.push(A)}const m={id:I(),type:D.Uttak,forelder:h.mor,konto:n.konto,tidsperiode:{fom:g,tom:P(o).forrige()},vedlegg:[]};s.push(m)}else{const u={id:I(),type:D.Uttak,forelder:h.mor,konto:S.ForeldrepengerFørFødsel,skalIkkeHaUttakFørTermin:!0,tidsperiode:{fom:P(o).trekkFra(15),tom:P(o).forrige()},vedlegg:[]};s.push(u)}const l=s.find(u=>C(u)&&u.konto===S.Foreldrepenger),k=l?L(o,t.dager-Sr(l.tidsperiode).getAntallUttaksdager()):L(o,t.dager),d={id:I(),type:D.Uttak,forelder:h.mor,konto:t.konto,tidsperiode:k,vedlegg:[],gradert:!1};return s.push(d),s.sort(me)},Na=(e,t,r,n,o,s,a,l)=>{const k=P(r||e).denneEllerNeste(),d=!1,u=[];if(n!==!0){let c=k;if(be(e)&&s){const m={id:I(),type:D.Uttak,forelder:h.farMedmor,konto:S.AktivitetsfriKvote,tidsperiode:L(k,o.dager),vedlegg:[],harIkkeAktivitetskrav:!0};st(m,e,d,a)?ot(m,e).forEach(f=>u.push(f)):l!==void 0&&z(m.tidsperiode,l)?Q(m,l).forEach(f=>u.push(f)):u.push(m),c=P(m.tidsperiode.tom).neste()}const g={id:I(),type:D.Uttak,forelder:h.farMedmor,konto:t.konto,tidsperiode:L(c,t.dager),vedlegg:[],gradert:!1};u.push(g)}else{const c={id:I(),type:D.Uttak,forelder:h.farMedmor,konto:S.AktivitetsfriKvote,tidsperiode:L(k,o.dager),vedlegg:[],gradert:!1,harIkkeAktivitetskrav:!0};st(c,e,d,a)?ot(c,e).forEach(A=>u.push(A)):u.push(c);const g={id:I(),type:D.Uttak,forelder:h.farMedmor,konto:S.Foreldrepenger,tidsperiode:L(P(c.tidsperiode.tom).neste(),t.dager),vedlegg:[],gradert:!1};u.push(g)}return u.sort(me)},ha=(e,t,r,n,o,s,a,l,k,d)=>t?Na(e,r,n,s,a,l,k,d):Pa(e,r,n,o),Ua=(e,t,r,n,o,s,a,l,k)=>{const d=n.find(g=>g.konto===S.Foreldrepenger),u=n.find(g=>g.konto===S.ForeldrepengerFørFødsel),c=n.find(g=>g.konto===S.AktivitetsfriKvote);return e==="adopsjon"?Ta(t,r,d,o,s,c,a,k):e==="fødsel"?ha(t,r,d,o,u,s,c,a,l,k):[]},Ra=(e,t,r,n,o,s,a)=>{const l=fe(e.rolle),k=Pr(n),d=e.situasjon,u=d==="adopsjon",c=Nr(t),g=Ks(r),m=ce(Es(n)),A=ce(Me(t)),f=yn(t)&&t.adoptertIUtlandet?M(t.ankomstdato).toDate():void 0,O=hr(n),E=o&&o.length>0?P(o[o.length-1].tidsperiode.tom).denneEllerForrige():void 0,T=ca(s.oppstartAvForeldrepengerValg,s.oppstartDato,A,c,f,E,m),N=l?E:void 0,v=Fr(l,n,O),H=!l||!v,x=pa(g,s),U=l?void 0:x,K=l?x:void 0,Le=l?T:void 0,Ke=ee(n)&&n.erMorUfør,xe=ee(n)&&n.harRettPåForeldrepengerIEØS,ie=a==null?void 0:a.startdatoFørsteStønadsperiode,ke=ut({erDeltUttak:k,morHarRett:H,søkerErAleneOmOmsorg:O}),Ee=o!==void 0;if(k){const Y=Aa({situasjon:d,famDato:c,erFarEllerMedmor:l,tilgjengeligeStønadskontoer:r.kontoer,startdatoPermisjon:T,fellesperiodeDagerMor:U,harAnnenForelderSøktFP:Ee,antallUkerFellesperiodeFarMedmor:K,morSinSisteUttaksdag:N,farSinFørsteUttaksdag:Le,annenForelderHarRettPåForeldrepengerIEØS:xe,termindato:A,førsteUttaksdagNesteBarnsSak:ie});return je(Y,ke,c,u,!1,l,ie)}else{const Y=Ua(d,c,l,r.kontoer,T,Ke,v,A,ie);return je(Y,ke,c,u,v,l,ie)}},Da=(e,t,r,n,o,s,a,l)=>{const k=Nr(o),d=s.situasjon,u=fe(s.rolle),c=hr(r),g=Fr(u,r,c),m=!u||!g,A=Pr(r),f=d==="adopsjon";if(t&&t.length>0&&e.length>0){const O=ut({erDeltUttak:A,morHarRett:m,søkerErAleneOmOmsorg:c}),E=vo(t,e,k,O,f,g,u,a==null?void 0:a.startdatoFørsteStønadsperiode);return l({...n,annenPartsUttakErLagtTilIPlan:!0}),E}else return t&&t.length>0?(l({...n,annenPartsUttakErLagtTilIPlan:!0}),t):e},Ia=(e,t,r,n,o,s,a,l,k)=>{if(!a)throw new Error("Fordeling er undefined.");const d=Ra(r,n,e,s,t,a,o);return Da(d,t,s,l,n,r,o,k)},Oa={[ge.ønskerAutomatiskJustering]:{isIncluded:({periodeRundtFødselKanAutomatiskJusteres:e})=>e,isAnswered:({ønskerAutomatiskJustering:e})=>e!==ye.UNANSWERED}},ja=Mn(Oa),ba=[],dt=({søkerInfo:e,erEndringssøknad:t,mellomlagreSøknadOgNaviger:r,avbrytSøknad:n})=>{const o=kt(),s=is(e.arbeidsforhold,t),a=ds(e.arbeidsforhold,r,t),[l,k]=F.useState(!1),[d,u]=F.useState(!1),[c,g]=F.useState(!1),[m,A]=F.useState(!1),[f,O]=F.useState(!0),E=_(q(p.SØKERSITUASJON)),T=_(q(p.OM_BARNET)),N=_(q(p.ANNEN_FORELDER)),v=q(p.UTTAKSPLAN_METADATA),H=_(q(p.PERIODE_MED_FORELDREPENGER)),x=q(p.UTTAKSPLAN)||ba,U=q(p.BARN_FRA_NESTE_SAK),K=q(p.EKSISTERENDE_SAK),Le=q(p.VEDLEGG),Ke=q(p.FORDELING),[xe,ie]=F.useState(t||x.length>0),ke=Z(p.OM_BARNET),Ee=Z(p.BARN_FRA_NESTE_SAK),Y=Z(p.UTTAKSPLAN),Se=Z(p.EKSISTERENDE_SAK),$=Z(p.UTTAKSPLAN_METADATA),wr=Z(p.APP_ROUTE),Hr=Z(p.VEDLEGG),[Ae,Jr]=F.useState(v==null?void 0:v.endringstidspunkt),[ve,Ge]=F.useState((v==null?void 0:v.perioderSomSkalSendesInn)||[]),gt=ee(N)?N:void 0,mt=gt?gt.erAleneOmOmsorg:!0,{situasjon:Ve}=E,{rolle:ft}=E,qr=ls(N),Fe=ee(N)?!!N.harRettPåForeldrepengerINorge||!!N.harRettPåForeldrepengerIEØS:!1,y=fe(E.rolle),Et=us(!y,mt,N),St=ks(y,mt,N),Te=Et||St,Cr=Fe?void 0:y?h.farMedmor:h.mor,re=Tr(T),pe=ce(re),Yr=Ss(N,y),$r=ps(e.søker,N,y,o),At=T.antallBarn,Wr=At>1,vt=Wt(ft,y,N),J=K==null?void 0:K.uttaksplan,zr=K?K.uttaksplan!==void 0:!1,Qr=!1,X=Me(T),Ft=ee(N)&&!N.utenlandskFnr?N.fnr:void 0,Be=Ve==="adopsjon",Tt=U!==void 0?U.annenForelderFnr:void 0,Pt=U!==void 0&&U.fnr!==void 0&&U.fnr.length>0?U.fnr[0]:void 0,we=U!==void 0?U.familiehendelsesdato:void 0,ne=U!==void 0?U.startdatoFørsteStønadsperiode:void 0,He=!Wt(E.rolle,y,N)&&!Te,Nt=!fr(T)&&T.fnr!==void 0&&T.fnr.length>0?T.fnr[0]:void 0,Pe=Te||!Ft||Nt===void 0&&re===void 0,Xr=U!==void 0?U.startdatoFørsteStønadsperiode:void 0,Zr=na(rs(),3e3),ht=F.useRef(!0);F.useEffect(()=>{ht.current===!1&&r(),ht.current=!1},[Zr,r]);const{data:Je,requestStatus:qe,error:Ce}=tt(rt.ANNEN_PART_VEDTAK,{annenPartFødselsnummer:Ft,barnFødselsnummer:Nt,familiehendelse:re},Pe),V=F.useMemo(()=>Ms(Je,T,y,re,ne),[Je,T,y,re,ne]),Ut=()=>{A(!1);const j={[W.BEKREFTELSE_DELTAR_KVALIFISERINGSPROGRAM]:[],[W.DOK_DELTAKELSE_I_INTRODUKSJONSPROGRAMMET]:[],[W.DOK_SYKDOM_MOR]:[],[W.DOK_SYKDOM_FAR]:[],[W.DOK_INNLEGGELSE_BARN]:[],[W.DOK_INNLEGGELSE_MOR]:[],[W.DOK_INNLEGGELSE_FAR]:[],[W.DOK_ARBEID_MOR]:[],[W.DOK_UTDANNING_MOR]:[],[W.DOK_UTDANNING_OG_ARBEID_MOR]:[]};$({...v,perioderSomSkalSendesInn:[],endringstidspunkt:void 0,ønskerJustertUttakVedFødsel:void 0}),Y([]),Hr({...Le,...j}),wr(R.FORDELING),r(),a.goToPreviousDefaultStep()},Ye=ss(y,T.antallBarn,V==null?void 0:V.grunnlag.antallBarn);F.useEffect(()=>{y&&T.antallBarn!==Ye&&ke({...T,antallBarn:Ye})},[y,Ye,T,ke]);const $e=!Tt||Pt===void 0&&we===void 0||!Pe&&qe!==oe.FINISHED,{data:en,requestStatus:Rt,error:We}=tt(rt.NESTE_SAK_ANNEN_PART_VEDTAK,{annenPartFødselsnummer:Tt,barnFødselsnummer:Pt,familiehendelse:As(we)},$e),Ne=Ls(en);F.useEffect(()=>{if(Ne!==void 0&&U!==void 0&&(M(Ne).isBefore(U.startdatoFørsteStønadsperiode,"d")||U.startdatoFørsteStønadsperiode===void 0)){const j={...U,startdatoFørsteStønadsperiode:Ne};Ee(j)}},[ne,Ne,U,Ee]);const Dt=ut({erDeltUttak:Fe,morHarRett:vt,søkerErAleneOmOmsorg:Te});F.useEffect(()=>{if(K!==void 0&&J!==void 0&&V!==void 0&&!(v!=null&&v.annenPartsUttakErLagtTilIPlan)){J.forEach(G=>{if(C(G)){const bt=ur(V.uttaksplan).finnOverlappendePerioder(G);bt.length!==0&&bt.find(_t=>kr(_t)&&_t.ønskerSamtidigUttak===!0)&&(G.ønskerSamtidigUttak||(G.ønskerSamtidigUttak=!0,G.samtidigUttakProsent=Vs(G.gradert,G.stillingsprosent)))}});const j=je(pr(J,V.uttaksplan,pe,ne,!0),Dt,pe,Be,He,y,ne),B={...K,uttaksplan:j};Y(j),Se(B),$({...v,annenPartsUttakErLagtTilIPlan:!0})}},[V,J,pe,Dt,Be,He,y,ne,K,v,Y,Se,$]),F.useEffect(()=>{const j=J==null?void 0:J.find(B=>C(B)&&B.angittAvAnnenPart);if(j&&Ae===void 0){const B=j.tidsperiode.fom,G=or(x,t,y,J,B);Ge(G),$({...v,perioderSomSkalSendesInn:G,endringstidspunkt:Ae})}},[J,Ae,y,x,t,$,v]);const It=async()=>(k(!0),u(!0),$({...v,endringstidspunkt:Ae,perioderSomSkalSendesInn:ve,antallUkerIUttaksplan:un}),a.goToNextDefaultStep()),he=Ln(x,pe,X?M(X).toDate():void 0),ze=ua(y,pe,Ve,he,T,X,He),Ue=la(ze,he,X),tn=()=>{Ue||$({...v,ønskerJustertUttakVedFødsel:void 0})},rn=j=>Ue&&j!==void 0,Qe=F.useRef(null),nn=async j=>{u(!0),f&&!jt&&(k(!0),Qe.current&&Qe.current.handleSubmit(),tn(),rn(j.ønskerAutomatiskJustering)&&await It())},sn=Kn(e.søker.kjønn,qr,Fe,Et,St,ft),on=(Pe?!1:qe!==oe.FINISHED)||($e?!1:Rt!==oe.FINISHED),{data:de,error:Xe}=tt(rt.STØNADSKONTOER,os(T,N,E,U,Je,K),on),an=j=>{u(!1),k(!1),g(!0),Y(j);const B=vs(J,j,t);Jr(B);const G=or(j,t,y,J,B);Ge(G),$({...v,perioderSomSkalSendesInn:G})},Ze=F.useMemo(()=>{if(de)return H===Ct.HUNDRE_PROSENT?de[100]:de[80]},[de,H]);if(F.useEffect(()=>{if(x.length===0){const j=Ia(Ze,V==null?void 0:V.uttaksplan,E,T,U,N,Ke,v,$);Y(j),ie(!0),r()}},[]),F.useEffect(()=>{!K&&!t&&V!==void 0&&Se(V)},[t,V,K,Se]),F.useEffect(()=>{if(Xe)throw ae(Xe),new Error("Vi klarte ikke å hente opp stønadskontoer. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.");if(Ce)throw ae(Ce),new Error("Vi klarte ikke å hente informasjon om saken til annen forelder. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.");if(We)throw ae(We),new Error("Vi klarte ikke å hente informasjon om saken til annen forelder for neste barn. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.")},[Xe,Ce,We]),!xe||!de||qe!==oe.FINISHED&&!Pe||Rt!==oe.FINISHED&&!$e)return i.jsx("div",{style:{textAlign:"center",padding:"12rem 0"},children:i.jsx(Ur,{size:"2xlarge"})});const Ot=xs(de[Ct.HUNDRE_PROSENT].minsteretter.toTette),jt=t&&(ve===void 0||ve.length===0),dn=()=>{const j=x.filter(B=>Vn(B));Y(j),$({...v,harUttaksplanBlittSlettet:!0})},ln=()=>{K&&(Y(K.uttaksplan),$({...v,perioderSomSkalSendesInn:[]}),Ge([]))},un=Gs(Ze);return i.jsx(at.FormikWrapper,{initialValues:ia(v==null?void 0:v.ønskerJustertUttakVedFødsel,Ue),onSubmit:It,innerRef:Qe,renderForm:({values:j})=>{const B=ja.getVisbility({ønskerAutomatiskJustering:j[ge.ønskerAutomatiskJustering]??ye.NO,periodeRundtFødselKanAutomatiskJusteres:Ue});return i.jsxs(xn,{bannerTitle:o.formatMessage({id:"søknad.pageheading"}),onCancel:n,onContinueLater:a.fortsettSøknadSenere,steps:s,noFieldsRequired:!0,children:[Xr&&i.jsx(ys,{minsterettUkerToTette:Ot}),i.jsx(Gn,{foreldreSituasjon:sn,forelderVedAleneomsorg:Cr,erDeltUttak:Fe,uttaksplan:x,familiehendelsesdato:re,handleOnPlanChange:an,stønadskontoer:Ze,navnPåForeldre:$r,annenForelder:N,arbeidsforhold:Ps(e.arbeidsforhold,Be,y,ce(re)),erEndringssøknad:t,erFarEllerMedmor:y,erFlerbarnssøknad:Wr,erAleneOmOmsorg:Te,harMidlertidigOmsorg:Qr,situasjon:Ve,erMorUfør:Yr,morHarRett:vt,søkersituasjon:E,dekningsgrad:H,antallBarn:At,setUttaksplanErGyldig:O,eksisterendeSak:K,perioderSomSkalSendesInn:ve,harKomplettUttaksplan:zr,opprinneligPlan:v!=null&&v.harUttaksplanBlittSlettet?void 0:J,handleSlettUttaksplan:dn,handleResetUttaksplan:ln,termindato:X?M(X).toDate():void 0,barn:T,visAutomatiskJusteringForm:ze,perioderMedUttakRundtFødsel:he,barnFraNesteSak:U,familiehendelsesdatoNesteSak:we,førsteUttaksdagNesteBarnsSak:ne,minsterettUkerToTette:Ot}),ze&&i.jsx(le,{padBottom:"l",children:i.jsx(Mr,{termindato:X?M(X).toDate():void 0,perioderMedUttakRundtFødsel:he,antallBarn:T.antallBarn,visibility:B})}),i.jsx(Kr,{isOpen:m,setIsOpen:A,goToPreviousStep:Ut}),!f&&d&&i.jsx(le,{textAlignCenter:!0,padBottom:"l",children:i.jsx(nt,{variant:"error",children:i.jsx(w,{id:"uttaksplan.validering.kanIkkeGåVidere"})})}),jt&&d&&i.jsx(le,{textAlignCenter:!0,padBottom:"l",children:i.jsx(nt,{variant:"error",children:i.jsx(w,{id:"uttaksplan.validering.kanIkkeGåVidereEndringssøknad"})})}),i.jsx(le,{textAlignCenter:!0,padBottom:"l",children:i.jsxs(Lr,{singleButton:!0,children:[!t&&i.jsx(_e,{variant:"secondary",onClick:c?G=>{G.preventDefault(),A(!0)}:Ut,children:i.jsx(w,{id:"backlink.label"})}),i.jsx(_e,{type:"submit",onClick:nn,disabled:l,loading:l,children:i.jsx(w,{id:"søknad.gåVidere"})})]})})]})}})};dt.__docgenInfo={description:"",methods:[],displayName:"UttaksplanStep"};const _a=(e,t,r,n,o,s,a)=>!e||a===void 0?i.jsx(b,{path:"*",element:i.jsx(zt,{to:R.VELKOMMEN})}):Ar(r.søker.fødselsdato)?t?i.jsxs(i.Fragment,{children:[i.jsx(b,{path:R.UTTAKSPLAN,element:i.jsx(dt,{søkerInfo:r,erEndringssøknad:t,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(b,{path:R.DOKUMENTASJON,element:i.jsx(Xt,{søkerInfo:r,erEndringssøknad:t,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(b,{path:R.OPPSUMMERING,element:i.jsx(Zt,{erEndringssøknad:t,søkerInfo:r,sendSøknad:o,avbrytSøknad:s,mellomlagreSøknadOgNaviger:n})})]}):i.jsxs(i.Fragment,{children:[i.jsx(b,{path:R.SØKERSITUASJON,element:i.jsx(Os,{arbeidsforhold:r.arbeidsforhold,kjønn:r.søker.kjønn,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(b,{path:R.OM_BARNET,element:i.jsx(Ds,{søkerInfo:r,søknadGjelderNyttBarn:a,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(b,{path:R.ANNEN_FORELDER,element:i.jsx(Zn,{søkerInfo:r,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(b,{path:R.PERIODE_MED_FORELDREPENGER,element:i.jsx(Is,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(b,{path:R.FORDELING,element:i.jsx(Us,{søker:r.søker,arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(b,{path:R.UTTAKSPLAN,element:i.jsx(dt,{søkerInfo:r,erEndringssøknad:t,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(b,{path:R.DOKUMENTASJON,element:i.jsx(Xt,{søkerInfo:r,erEndringssøknad:t,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(b,{path:R.UTENLANDSOPPHOLD,element:i.jsx(_s,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(b,{path:R.TIDLIGERE_UTENLANDSOPPHOLD,element:i.jsx(bs,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(b,{path:R.SENERE_UTENLANDSOPPHOLD,element:i.jsx(js,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(b,{path:R.ARBEID_OG_INNTEKT,element:i.jsx(Ns,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(b,{path:R.EGEN_NÆRING,element:i.jsx(hs,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(b,{path:R.FRILANS,element:i.jsx(Rs,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(b,{path:R.ANDRE_INNTEKTER,element:i.jsx(Ts,{arbeidsforhold:r.arbeidsforhold,mellomlagreSøknadOgNaviger:n,avbrytSøknad:s})}),i.jsx(b,{path:R.OPPSUMMERING,element:i.jsx(Zt,{erEndringssøknad:t,søkerInfo:r,sendSøknad:o,avbrytSøknad:s,mellomlagreSøknadOgNaviger:n})})]}):i.jsx(b,{path:"*",element:i.jsx(zt,{to:R.IKKE_MYNDIG})}),xr=({locale:e,onChangeLocale:t,currentRoute:r,søkerInfo:n,saker:o,lagretErEndringssøknad:s,lagretHarGodkjentVilkår:a,lagretSøknadGjelderNyttBarn:l,setKvittering:k})=>{const d=ct(),u=cs(),[c,g]=F.useState(!0),[m,A]=F.useState(a||!1),[f,O]=F.useState(s||!1),[E,T]=F.useState(l),{sendSøknad:N,errorSendSøknad:v}=ra(n.søker.fnr,f,k,e),H=ea(e,n.søker.fnr,f,m,E),x=_o(n.søker.fnr,O,A,T),U=q(p.UTTAKSPLAN);return F.useEffect(()=>{r&&Ar(n.søker.fødselsdato)&&a&&c&&(g(!1),gs(r,a,U)?d(r):u.pathname===R.OPPSUMMERING&&d(R.UTTAKSPLAN))},[r,n.søker.fødselsdato,a,d,c,u.pathname,U]),v?i.jsx(Bn,{appName:"Foreldrepenger",errorMessage:v.message,retryCallback:()=>location.reload()}):i.jsxs(ms,{children:[i.jsx(b,{path:R.VELKOMMEN,element:i.jsx(Fs,{fornavn:n.søker.fornavn,locale:e,saker:o,onChangeLocale:t,fnr:n.søker.fnr,harGodkjentVilkår:m,søkerInfo:n,setHarGodkjentVilkår:A,setErEndringssøknad:O,setSøknadGjelderNyttBarn:T,mellomlagreSøknadOgNaviger:H})}),i.jsx(b,{path:R.IKKE_MYNDIG,element:i.jsx(wn,{appnavn:"Foreldrepenger"})}),_a(m,f,n,H,N,x,E)]})};xr.__docgenInfo={description:"",methods:[],displayName:"ForeldrepengesøknadRoutes",props:{locale:{required:!0,tsType:{name:"union",raw:"'nb' | 'nn'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"}]},description:""},onChangeLocale:{required:!0,tsType:{name:"signature",type:"function",raw:"(locale: LocaleNo) => void",signature:{arguments:[{type:{name:"union",raw:"'nb' | 'nn'",elements:[{name:"literal",value:"'nb'"},{name:"literal",value:"'nn'"}]},name:"locale"}],return:{name:"void"}}},description:""},currentRoute:{required:!0,tsType:{name:"SøknadRoutes"},description:""},søkerInfo:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    søker: Søker;
    arbeidsforhold: Arbeidsforhold[];
}`,signature:{properties:[{key:"søker",value:{name:"intersection",raw:`{
    fødselsdato: string;
    kjønn: Kjønn;
    bankkonto?: Bankkonto;
    sivilstand?: Sivilstand;
    barn: SøkerBarn[];
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    fødselsdato: string;
    kjønn: Kjønn;
    bankkonto?: Bankkonto;
    sivilstand?: Sivilstand;
    barn: SøkerBarn[];
}`,signature:{properties:[{key:"fødselsdato",value:{name:"string",required:!0}},{key:"kjønn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"bankkonto",value:{name:"Bankkonto",required:!1}},{key:"sivilstand",value:{name:"Sivilstand",required:!1}},{key:"barn",value:{name:"Array",elements:[{name:"intersection",raw:`{
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: SøkerAnnenForelder;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: SøkerAnnenForelder;
}`,signature:{properties:[{key:"kjønn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"dødsdato",value:{name:"string",required:!1}},{key:"annenForelder",value:{name:"intersection",raw:`{
    fødselsdato?: string;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    fødselsdato?: string;
}`,signature:{properties:[{key:"fødselsdato",value:{name:"string",required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}],required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}]}],raw:"SøkerBarn[]",required:!0}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}],required:!0}},{key:"arbeidsforhold",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverNavn: string;
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    fom: string;
    tom?: string;
    stillingsprosent: number;
}`,signature:{properties:[{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}},{key:"stillingsprosent",value:{name:"number",required:!0}}]}}],raw:"Arbeidsforhold[]",required:!0}}]}},description:""},saker:{required:!0,tsType:{name:"Array",elements:[{name:"Sak"}],raw:"Sak[]"},description:""},lagretErEndringssøknad:{required:!1,tsType:{name:"boolean"},description:""},lagretHarGodkjentVilkår:{required:!1,tsType:{name:"boolean"},description:""},lagretSøknadGjelderNyttBarn:{required:!1,tsType:{name:"boolean"},description:""},setKvittering:{required:!0,tsType:{name:"signature",type:"function",raw:"(kvittering: Kvittering) => void",signature:{arguments:[{type:{name:"Kvittering"},name:"kvittering"}],return:{name:"void"}}},description:""}}};const ya=e=>{const t=e.søknad;return{[p.APP_ROUTE]:e.currentRoute,[p.EKSISTERENDE_SAK]:e.eksisterendeSak,[p.BARN_FRA_NESTE_SAK]:e.barnFraNesteSak,[p.SØKERSITUASJON]:t==null?void 0:t.søkersituasjon,[p.OM_BARNET]:t==null?void 0:t.barn,[p.ANNEN_FORELDER]:t==null?void 0:t.annenForelder,[p.ARBEIDSFORHOLD_OG_INNTEKT]:t==null?void 0:t.arbeidsforholdOgInntekt,[p.EGEN_NÆRING]:t==null?void 0:t.egenNæring,[p.FRILANS]:t==null?void 0:t.frilans,[p.ANDRE_INNTEKTSKILDER]:t==null?void 0:t.andreInntektskilder,[p.UTENLANDSOPPHOLD]:t==null?void 0:t.utenlandsopphold,[p.UTENLANDSOPPHOLD_SENERE]:t==null?void 0:t.utenlandsoppholdNeste12Mnd,[p.UTENLANDSOPPHOLD_TIDLIGERE]:t==null?void 0:t.utenlandsoppholdSiste12Mnd,[p.PERIODE_MED_FORELDREPENGER]:t==null?void 0:t.dekningsgrad,[p.FORDELING]:e.fordeling,[p.UTTAKSPLAN]:t==null?void 0:t.uttaksplan,[p.UTTAKSPLAN_METADATA]:{ønskerJustertUttakVedFødsel:t==null?void 0:t.ønskerJustertUttakVedFødsel,perioderSomSkalSendesInn:e.perioderSomSkalSendesInn,antallUkerIUttaksplan:e.antallUkerIUttaksplan,harUttaksplanBlittSlettet:e.harUttaksplanBlittSlettet,annenPartsUttakErLagtTilIPlan:e.annenPartsUttakErLagtTilIPlan,endringstidspunkt:e.endringstidspunkt},[p.VEDLEGG]:t==null?void 0:t.vedlegg}},ar=()=>i.jsx("div",{style:{textAlign:"center",padding:"12rem 0"},children:i.jsx(Ur,{size:"2xlarge"})}),Gr=async()=>{try{await te.deleteMellomlagretSøknad()}catch{}location.reload()},Vr=({locale:e,onChangeLocale:t})=>{var m,A;const r=kt();Hn(r.formatMessage({id:"søknad.pagetitle"}));const{søkerinfoData:n,søkerinfoError:o}=te.useSøkerinfo(),{sakerData:s,sakerError:a}=te.useGetSaker(),{storageData:l,storageStatus:k}=te.useStoredAppState(),[d,u]=F.useState();F.useEffect(()=>{if(o)throw ae(o),new Error("Vi klarte ikke å hente informasjon om deg. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.");if(a)throw ae(a),new Error("Vi klarte ikke å hente informasjon om sakene dine. Prøv igjen om noen minutter og hvis problemet vedvarer kontakt brukerstøtte.")},[o,a]);const c=l&&sr(l)?ya(l):void 0,g=l!==void 0&&sr(l);return F.useEffect(()=>{l!=null&&l.locale&&l.locale!==e&&t(l.locale)},[l]),d?Re.INNSYN?(co(d.saksNr?`${Re.INNSYN}/sak/${d.saksNr}/redirectFromSoknad`:`${Re.INNSYN}/redirectFromSoknad`),i.jsx(ar,{})):i.jsx("div",{children:"Redirected to Innsyn"}):!s||!n||k===oe.IN_PROGRESS?i.jsx(ar,{}):i.jsx(Er,{appName:"Foreldrepenger",retryCallback:Gr,children:i.jsx(ns,{initialState:c,children:i.jsx(es,{basename:Re.PUBLIC_PATH,children:i.jsx(xr,{locale:e,onChangeLocale:t,søkerInfo:n,saker:s.foreldrepenger,currentRoute:g?l.currentRoute:R.VELKOMMEN,lagretErEndringssøknad:g?(m=l.søknad)==null?void 0:m.erEndringssøknad:!1,lagretHarGodkjentVilkår:g?(A=l.søknad)==null?void 0:A.harGodkjentVilkår:!1,lagretSøknadGjelderNyttBarn:g?l.søknadGjelderEtNyttBarn:!1,setKvittering:u})})})})};Vr.__docgenInfo={description:"",methods:[],displayName:"Foreldrepengesøknad"};const Br=go(),Ma={nb:{...pn,...yt.nb,...Mt.nb,...Lt.nb,...Kt.nb,...er.nb,...rr.nb,...xt.nb,...Gt.nb,...Vt.nb},nn:{...cn,...yt.nn,...Mt.nn,...Lt.nn,...Kt.nn,...er.nn,...rr.nn,...xt.nn,...Gt.nn,...Vt.nn}};M.locale(Br);const lt=()=>{const[e,t]=F.useState(Br);return i.jsx(Jn,{locale:e,messagesGroupedByLocale:Ma,children:i.jsx(Er,{appName:"Foreldrepenger",retryCallback:Gr,children:i.jsxs(as,{children:[i.jsx(qn,{}),i.jsx(Vr,{locale:e,onChangeLocale:r=>{mo(r),t(r),Qn(r),document.documentElement.setAttribute("lang",r)}})]})})})};lt.__docgenInfo={description:"",methods:[],displayName:"AppContainer"};const La={søker:{fnr:"06499121154",fornavn:"Tapper",etternavn:"Konvolutt",kjønn:"M",fødselsdato:"1991-09-06",bankkonto:{kontonummer:"",banknavn:""},barn:[]},arbeidsforhold:[{arbeidsgiverId:"896929119",arbeidsgiverIdType:"orgnr",arbeidsgiverNavn:"SAUEFABRIKK",stillingsprosent:100,fom:"2018-03-01"}]},Vi={component:lt,render:e=>{Cn();const t=new kn(ue());return t.onGet("/rest/sokerinfo").reply(200,e.søkerinfoData),t.onGet("/rest/innsyn/v2/saker").reply(200,e.sakerData),t.onGet("/rest/innsyn/v2/annenPartVedtak").reply(200,e.annenPartVedtakData),t.onGet("/rest/konto").reply(200,e.stønadskontoerData),t.onGet("/rest/storage/kvittering/foreldrepenger").reply(200,e.storageKvitteringData),t.onGet("test/rest/konto").replyOnce(200,Zs),t.onGet("test/rest/konto").replyOnce(200,ro),t.onPost("/rest/innsyn/v2/annenPartVedtak").replyOnce(200,void 0,oe.FINISHED),t.onPost("/rest/storage/foreldrepenger").reply(200,{}),t.onPost("/rest/soknad").reply(200,{}),t.onPost("/rest/sendSøknadUrl").reply(200,{}),t.onDelete("/rest/storage/foreldrepenger").reply(200,{}),i.jsx(lt,{})}},Ie={args:{søkerinfoData:La,sakerData:zs,annenPartVedtakData:Js,stønadskontoerData:oo,storageKvitteringData:Ys}};var ir,dr,lr;Ie.parameters={...Ie.parameters,docs:{...(ir=Ie.parameters)==null?void 0:ir.docs,source:{originalSource:`{
  args: {
    søkerinfoData: søkerinfo,
    sakerData: saker,
    annenPartVedtakData: annenPartVedtak,
    stønadskontoerData: stønadskontoer,
    storageKvitteringData: storageKvittering
  }
}`,...(lr=(dr=Ie.parameters)==null?void 0:dr.docs)==null?void 0:lr.source}}};const Bi=["SøkerErMann"];export{Ie as SøkerErMann,Bi as __namedExportsOrder,Vi as default};
