import{d as f,i as s,A as d,C as v}from"./Tidsperioden-lcgOIGrW.js";import"./jsx-runtime-_e34SzbC.js";import"./index--IHLcpuH.js";import"./index-DVXBtNgz.js";import"./_baseToString-VGUwjf1B.js";import"./_createSet-CoetV_mz.js";var o={};function c(e){return h(e)||p(e)||y(e)||b()}function b(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(e,r){if(e){if(typeof e=="string")return m(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,r)}}function p(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function h(e){if(Array.isArray(e))return m(e)}function m(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}var A=new RegExp("^\\d{11}$"),F=function(r){return l(r)},I=function(r){return l(r)},S=function(r){return l(r)},T=function(r){return l(r)},g=function(r){return r.substring(0,1)>=4?"dnr":r.substring(2,3)>=8?"tnr":r.substring(2,3)>=4?"hnr":"fnr"},l=function(r){var n=g(r);return $(r,n)},$=function(r,n){if(!A.test(r))return{status:"invalid",reasons:["fnr, dnr or hnr must consist of 11 digits"]};var t=[].concat(c(k(r)),c(_(r,n)));return t.length==0?{status:"valid",type:n}:{status:"invalid",reasons:t}},k=function(r){var n=11-(3*r[0]+7*r[1]+6*r[2]+1*r[3]+8*r[4]+9*r[5]+4*r[6]+5*r[7]+2*r[8])%11,t=11-(5*r[0]+4*r[1]+3*r[2]+2*r[3]+7*r[4]+6*r[5]+5*r[6]+4*r[7]+3*r[8]+2*n)%11;return n===11&&(n=0),t===11&&(t=0),n<10&&t<10&&n==r[9]&&t==r[10]?[]:["checksums don't match"]},_=function(r,n){n==="dnr"?r=r.substring(0,1)-4+r.substring(1):n==="hnr"?r=r.substring(0,2)+(r.substring(2,3)-4)+r.substring(3):n==="tnr"&&(r=r.substring(0,2)+(r.substring(2,3)-8)+r.substring(3));var t=r.substring(0,2),u=r.substring(2,4),a=r.substring(4,6),i=new Date(a==="00"?"2000":a,u-1,t);return i&&i.getMonth()+1==u&&i.getDate()==t?[]:["invalid date"]};o.fnr=F;o.dnr=I;o.hnr=S;o.tnr=T;o.idnr=l;const q=e=>{const r=o.idnr(e);return r.status!=="valid"?!1:r.type},w=(e,r)=>{const n=r==="dnr"?`${Number(e.substr(0,1))-4}${e.substr(1,1)}`:e.substr(0,2),t=e.substr(2,2),u=e.substr(4,2);let a=f(`${n}-${t}-${u}`,"DD-MM-YY");return a.get("year")>f().get("year")&&(a=a.subtract(100,"year")),a.isValid()?a.isBefore(f().subtract(16,"year"),"day"):!1},C=(e,r,n,t)=>u=>{if(t)return u===void 0||u.trim()===""?s(e,"valideringsfeil.fødselsnummer.required"):u.length>50?s(e,"valideringsfeil.fødselsnummer.fødselsnummerForLangt"):d(u,n,e);if(u===r)return s(e,"valideringsfeil.fødselsnummer.ugyldigEgetFødselsnummer");const a=q(u);return!t&&!w(u,a)&&a==="fnr"?s(e,"valideringsfeil.fødselsnummer.underSeksten"):a==="fnr"||a==="dnr"||a==="hnr"?void 0:s(e,"valideringsfeil.fødselsnummer.ugyldigFødselsnummer")},x=(e,r,n)=>{if(!v(e)||typeof e=="string"&&e.trim()==="")return s(n,"valideringsfeil.inputfelt.required",{inputFeltLabel:r})},V=(e,r)=>n=>{const t=x(n,e,r);return t||d(n,e,r)};export{V as a,C as v};
