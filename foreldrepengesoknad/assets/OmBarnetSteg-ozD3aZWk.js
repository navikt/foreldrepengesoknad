import{Z as x,_ as e,$ as B,bZ as ue,a1 as u,bb as k,aU as g,b6 as j,J as d,cs as G,ct as I,bf as A,bg as fe,r as C,b7 as J,b8 as ge,cu as U,aT as F,aV as p,cv as pe,a6 as ce,ba as ve,b3 as Be,bc as H,z as ke,cw as je,bn as z,a7 as q,cx as ye,cy as he,a0 as xe,a5 as Te,C as Z,a2 as R,am as be,E as Me,bm as v,ar as Ee,q as Fe,aY as Ae,as as Se,aZ as qe,bk as De,bl as Ie}from"./iframe-DuPkBmZ8.js";import{u as Re}from"./api-B5thPGI3.js";import{u as Ne}from"./queries-Ca9Z8Ew0.js";import{b as _,C as D,c as Oe}from"./FpDataContext-buzadE6n.js";import{i as y,j as N,a as we,b as Pe}from"./useFpNavigator-hzE6yNZP.js";import{t as Ue,m as V,B as _e,C as L,D as Ve,F as Le,G as Ke,H as Ge,a as $,J as Ce,g as Je,o as He,K as ze}from"./annenForelderUtils-CE7tYxas.js";import{R as K}from"./RegistrertePersonalia-D77s_IIU.js";const Ze="2022-08-17",$e=[{fom:"2022-12-12",tom:"2023-02-17",kontoType:"FEDREKVOTE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},samtidigUttak:100,flerbarnsdager:!1},{fom:"2023-02-20",tom:"2023-03-05",kontoType:"FELLESPERIODE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},samtidigUttak:50,flerbarnsdager:!1},{fom:"2023-03-20",tom:"2023-03-31",kontoType:"FEDREKVOTE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},flerbarnsdager:!1}],Qe="HUNDRE",ya={termindato:Ze,perioder:$e,dekningsgrad:Qe};d.extend(G);d.extend(I);const Q=({valgteRegistrerteBarn:a,skalInkludereTermindato:r})=>{const t=x(),n=a.every(l=>!l.dødsdato),s=[...a].sort(Ue),o=s.map(l=>l.fødselsdato),i=s[0].fødselsdato;return e.jsxs(e.Fragment,{children:[e.jsxs(B,{gap:"2",children:[e.jsx(ue,{children:e.jsx(u,{id:"omBarnet.valgteBarn.tittel",values:{antallBarn:s.length}})}),n?s.map(l=>e.jsx(K,{person:l,fødselsdatoForVisning:V([l.fødselsdato]),visEtternavn:!1},l.fnr)):e.jsx(K,{person:s[0],fødselsdatoForVisning:V(o),altTekstHvisUkjentNavn:_e(void 0,o,s.length,t),visEtternavn:!1})]}),r&&e.jsx(k,{name:"termindato",label:t.formatMessage({id:"omBarnet.termindato.født"}),defaultMonth:i,minDate:d(i).subtract(1,"months").toDate(),maxDate:d(i).add(6,"months").toDate(),validate:[g(t.formatMessage({id:"valideringsfeil.omBarnet.termindato.duMåOppgi"})),j(t.formatMessage({id:"valideringsfeil.omBarnet.termindato.ugyldigDatoFormat"})),l=>{if(!d(l).subtract(6,"months").isSameOrBefore(d(i),"day"))return t.formatMessage({id:"valideringsfeil.omBarnet.termindato.forLangtFremITid"});if(!d(l).add(1,"months").isSameOrAfter(d(i),"day"))return t.formatMessage({id:"valideringsfeil.omBarnet.termindato.forLangtTilbakeITid"})}]})]})};Q.__docgenInfo={description:"",methods:[],displayName:"ValgteRegistrerteBarn",props:{valgteRegistrerteBarn:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: AnnenForelderFrontend;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}},{key:"kjønn",value:{name:"union",raw:"'M' | 'K' | 'U'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"},{name:"literal",value:"'U'"}],required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"dødsdato",value:{name:"string",required:!1}},{key:"annenForelder",value:{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
    fødselsdato?: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}},{key:"fødselsdato",value:{name:"string",required:!1}}]},required:!1}}]}}],raw:"BarnFrontend[]"},description:""},skalInkludereTermindato:{required:!0,tsType:{name:"boolean"},description:""}}};const We=(a,r)=>t=>{if(!r)return;const n=d(t).startOf("day").add(15,"year");return d(r).isBetween(t,n,null,"[]")?void 0:a},Xe=a=>{switch(a){case 1:return e.jsx(u,{id:"omBarnet.fødselsdato.adopsjon.1"});case 2:return e.jsx(u,{id:"omBarnet.fødselsdato.adopsjon.2"});case 3:return e.jsx(u,{id:"omBarnet.fødselsdato.adopsjon.3"});case 4:return e.jsx(u,{id:"omBarnet.fødselsdato.adopsjon.4"});case 5:return e.jsx(u,{id:"omBarnet.fødselsdato.adopsjon.5"});case 6:return e.jsx(u,{id:"omBarnet.fødselsdato.adopsjon.6"});case 7:return e.jsx(u,{id:"omBarnet.fødselsdato.adopsjon.7"});case 8:return e.jsx(u,{id:"omBarnet.fødselsdato.adopsjon.8"});case 9:return e.jsx(u,{id:"omBarnet.fødselsdato.adopsjon.9"});default:throw new Error("Antall barn ikke supportert: "+a)}},W=({adopsjonsdato:a,antallBarn:r,antallBarnDropDown:t})=>{const n=x(),{control:s}=A(),{fields:o,remove:i,append:l}=fe({control:s,name:"fødselsdatoer"});return C.useEffect(()=>{if(!r||r===3&&!t)return;const m=r<3||!t?r:Number.parseInt(t,10),f=o.length-m;f>0&&[...new Array(f)].forEach((h,c)=>{i(o.length-c-1)}),f<0&&[...new Array(m-o.length)].forEach(()=>{l({dato:void 0})})},[r,t,l,o.length,i]),e.jsx(B,{gap:"10",children:o.map((m,f)=>e.jsx(k,{name:`fødselsdatoer.${f}.dato`,minDate:d(a).subtract(15,"years").toDate(),maxDate:a&&U(a)?d(a).toDate():d(),defaultMonth:a&&U(a)?a:d(),label:o.length===1?n.formatMessage({id:"omBarnet.fødselsdato"}):Xe(f+1),validate:[g(n.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.duMåOppgi"})),j(n.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.ugyldigDatoFormat"})),J(n.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.måVæreIdagEllerTidligere"})),ge(n.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.måVæreFørAdopsjonsdato"}),a),We(n.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.ikkeMerEnn15År3MndTilbake"}),a)]},m.id))})};W.__docgenInfo={description:"",methods:[],displayName:"FødselsdatoerFieldArray",props:{antallBarn:{required:!1,tsType:{name:"number"},description:""},antallBarnDropDown:{required:!1,tsType:{name:"string"},description:""},adopsjonsdato:{required:!1,tsType:{name:"string"},description:""}}};d.extend(I);const X=({søknadGjelderEtNyttBarn:a})=>{const r=x(),t=A(),n=t.watch("adopsjonAvEktefellesBarn"),s=t.watch("antallBarn"),o=t.watch("antallBarnSelect"),i=t.watch("adopsjonsdato"),l=t.watch("adoptertIUtlandet"),m=t.watch("fødselsdatoer");return e.jsxs(e.Fragment,{children:[e.jsxs(F,{name:"adopsjonAvEktefellesBarn",label:r.formatMessage({id:"omBarnet.adopsjonGjelder"}),validate:[g(r.formatMessage({id:"valideringsfeil.omBarnet.adopsjonGjelder.duMåOppgi"}))],children:[e.jsx(p,{value:!0,children:"Ja"}),e.jsx(p,{value:!1,children:"Nei"})]}),e.jsxs(B,{gap:"4",children:[e.jsx(k,{name:"adopsjonsdato",label:n?r.formatMessage({id:"omBarnet.adopsjonsdato.stebarn"}):r.formatMessage({id:"omBarnet.adopsjonsdato.annetBarn"}),validate:[g(r.formatMessage({id:"valideringsfeil.omBarnet.adopsjonsdato.duMåOppgi"})),j(r.formatMessage({id:"valideringsfeil.omBarnet.adopsjonsdato.ugyldigDatoFormat"}))]}),e.jsx(pe,{padding:"4",background:"surface-alt-3-subtle",borderRadius:"medium",children:e.jsxs(ce,{gap:"2",children:[e.jsx(ve,{height:24,width:24,color:"#005B82"}),e.jsx(B,{gap:"2",style:{width:"85%"},children:e.jsx(Be,{children:e.jsx(u,{id:"omBarnet.opplaste.bekreftelse"})})})]})})]}),a&&e.jsxs(e.Fragment,{children:[e.jsxs(F,{name:"antallBarn",label:r.formatMessage({id:"omBarnet.antallBarn.adopsjon.født"}),validate:[g(r.formatMessage({id:"valideringsfeil.omBarnet.adopsjon.født.duMåOppgi"}))],children:[e.jsx(p,{value:1,children:e.jsx(u,{id:"omBarnet.radiobutton.ettBarn"})}),e.jsx(p,{value:2,children:e.jsx(u,{id:"omBarnet.radiobutton.toBarn"})}),e.jsx(p,{value:3,children:e.jsx(u,{id:"omBarnet.radiobutton.flere"})})]}),s===3&&e.jsxs(H,{name:"antallBarnSelect",label:"Antall barn",children:[e.jsx("option",{value:"3",children:"3"}),e.jsx("option",{value:"4",children:"4"}),e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"6",children:"6"}),e.jsx("option",{value:"7",children:"7"}),e.jsx("option",{value:"8",children:"8"}),e.jsx("option",{value:"9",children:"9"})]}),e.jsx(W,{adopsjonsdato:i,antallBarn:s,antallBarnDropDown:o})]}),n===!1&&!ke(i)&&e.jsxs(e.Fragment,{children:[e.jsxs(F,{name:"adoptertIUtlandet",label:r.formatMessage({id:"omBarnet.adopteresFraUtlandet"}),validate:[g(r.formatMessage({id:"valideringsfeil.omBarnet.adopteresFraUtlandet.duMåOppgi"}))],children:[e.jsx(p,{value:!0,children:"Ja"}),e.jsx(p,{value:!1,children:"Nei"})]}),l===!0&&e.jsx(k,{name:"ankomstdato",minDate:m?d(m[0].dato).toDate():void 0,maxDate:d().add(6,"months").toDate(),label:r.formatMessage({id:"omBarnet.ankomstDato"}),validate:[g(r.formatMessage({id:"valideringsfeil.omBarnet.adopsjonsdato.duMåOppgi"})),j(r.formatMessage({id:"valideringsfeil.omBarnet.adopsjonsdato.ugyldigDatoFormat"})),f=>{var h;return((h=m[0])==null?void 0:h.dato)!==void 0&&!d(m[0].dato).isSameOrBefore(f,"day")?r.formatMessage({id:"valideringsfeil.omBarnet.ankomstDato.førFødselsdato"}):void 0}]})]})]})};X.__docgenInfo={description:"",methods:[],displayName:"AdopsjonPanel",props:{søknadGjelderEtNyttBarn:{required:!0,tsType:{name:"boolean"},description:""}}};d.extend(G);d.extend(I);const Y=()=>{const a=x(),r=A(),{antallBarn:t,erBarnetFødt:n,fødselsdatoer:s}=r.watch(),o=t>1?"omBarnet.fødselsdato.flereBarn":"omBarnet.fødselsdato",i=s?s[0].dato:void 0;return e.jsxs(e.Fragment,{children:[e.jsx(k,{name:"termindato",minDate:i?d(i).subtract(1,"months").toDate():void 0,maxDate:i?d(i).add(6,"months").toDate():void 0,label:a.formatMessage({id:"omBarnet.termindato.født"}),useStrategyAbsolute:!0,validate:[g(a.formatMessage({id:"valideringsfeil.omBarnet.termindato.duMåOppgi"})),j(a.formatMessage({id:"valideringsfeil.omBarnet.termindato.ugyldigDatoFormat"})),l=>{if(i){if(!d(l).subtract(6,"months").isSameOrBefore(d(i),"day"))return a.formatMessage({id:"valideringsfeil.omBarnet.termindato.forLangtFremITid"});if(!d(l).add(1,"months").isSameOrAfter(d(i),"day"))return a.formatMessage({id:"valideringsfeil.omBarnet.termindato.forLangtTilbakeITid"})}}]}),n&&e.jsx(k,{name:"fødselsdatoer.0.dato",label:a.formatMessage({id:o}),minDate:d().subtract(3,"years").toDate(),maxDate:d().toDate(),useStrategyAbsolute:!0,validate:[g(a.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.duMåOppgi"})),j(a.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.ugyldigDatoFormat"})),J(a.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.måVæreIdagEllerTidligere"})),l=>d(l).isBefore(d().subtract(3,"years").subtract(4,"months"),"day")?a.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.ikkeMerEnn3År3MndTilbake"}):void 0]})]})};Y.__docgenInfo={description:"",methods:[],displayName:"ErFødtPanel"};const Ye=(a,r)=>y(a)?r?$(r):!1:!0,ee=({søkersituasjon:a,arbeidsforhold:r,søknadGjelderEtNyttBarn:t})=>{const n=x(),o=A().watch("termindato"),i=o?!L(o):!1,l=y(a.rolle),m=l&&o,f=Ye(a.rolle,o),h=o&&je.test(o)?N(r,a.situasjon==="adopsjon",y(a.rolle),o):r;return e.jsxs(e.Fragment,{children:[t&&e.jsxs(B,{gap:"2",children:[e.jsx(k,{name:"termindato",label:n.formatMessage({id:"omBarnet.termindato.termin"}),minDate:Le,maxDate:Ve,useStrategyAbsolute:!0,validate:[g(n.formatMessage({id:"valideringsfeil.omBarnet.termindato.duMåOppgi"})),j(n.formatMessage({id:"valideringsfeil.omBarnet.termindato.ugyldigDatoFormat"})),c=>{if(!Ke(c))return n.formatMessage({id:"valideringsfeil.omBarnet.termindato.forTidlig"});if(!L(c))return n.formatMessage({id:"valideringsfeil.omBarnet.termindato.duMåVæreIUke22"})}]}),!l&&e.jsx(z,{header:n.formatMessage({id:"omBarnet.termindato.åpneLabel"}),children:e.jsxs(B,{gap:"2",children:[e.jsx(q,{children:e.jsx(u,{id:"omBarnet.termindato.innhold.del1"})}),e.jsx(q,{children:e.jsx(u,{id:"omBarnet.termindato.innhold.del2"})})]})})]}),t&&h.length===0&&f&&e.jsx(k,{name:"terminbekreftelsedato",label:n.formatMessage({id:"omBarnet.terminbekreftelseDato"}),maxDate:Ge,minDate:d(o).subtract(18,"week").subtract(3,"day").startOf("day").toDate(),useStrategyAbsolute:!0,validate:[g(n.formatMessage({id:"valideringsfeil.omBarnet.terminbekreftelseDato.duMåOppgi"})),j(n.formatMessage({id:"valideringsfeil.omBarnet.terminbekreftelseDato.ugyldigDatoFormat"})),ye(n.formatMessage({id:"valideringsfeil.omBarnet.terminbekreftelseDato.kanIkkeVæreFremITid"})),he(n.formatMessage({id:"valideringsfeil.omBarnet.terminbekreftelseDato.terminbekreftelsedatoMåVæreUtstedetEtter22Svangerskapsuke"}),o)]}),(i||m&&!f)&&e.jsx(xe,{variant:"warning",children:e.jsxs(B,{gap:"4",children:[e.jsx(Te,{level:"3",size:"small",children:e.jsx(u,{id:"omBarnet.termindato.erForTidligTilÅSøkePåTermin.heading"})}),e.jsx(q,{children:e.jsx(u,{id:"omBarnet.termindato.erForTidligTilÅSøkePåTermin.innhold"})})]})})]})};ee.__docgenInfo={description:"",methods:[],displayName:"TerminPanel",props:{søkersituasjon:{required:!0,tsType:{name:"Søkersituasjon"},description:""},arbeidsforhold:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    arbeidsgiverNavn: string;
    stillingsprosent: number;
    fom: string;
    tom?: string;
}`,signature:{properties:[{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"stillingsprosent",value:{name:"number",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}}]}}],raw:"Arbeidsforhold[]"},description:""},søknadGjelderEtNyttBarn:{required:!1,tsType:{name:"boolean"},description:""}}};const ea=(a,r,t)=>t===!0?a.formatMessage({id:"omBarnet.antallBarn.født"}):r?a.formatMessage({id:"omBarnet.antallBarn.termin.far"}):a.formatMessage({id:"omBarnet.antallBarn.termin"}),aa=(a,r,t)=>t!==!1?a.formatMessage({id:"valideringsfeil.omBarnet.antallFått.duMåOppgi"}):r?a.formatMessage({id:"valideringsfeil.omBarnet.antallVenter.duMåOppgi"}):a.formatMessage({id:"valideringsfeil.omBarnet.antallVenterDu.duMåOppgi"}),ae=({søkersituasjon:a,erFarEllerMedmor:r,søknadGjelderEtNyttBarn:t,arbeidsforhold:n})=>{const s=x(),o=A(),i=o.watch("erBarnetFødt"),l=o.watch("antallBarn"),m=y(a.rolle);return e.jsxs(e.Fragment,{children:[t&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs(F,{name:"erBarnetFødt",label:s.formatMessage({id:"omBarnet.erBarnetFødt"}),validate:[g(s.formatMessage({id:"valideringsfeil.omBarnet.erBarnetFødt.duMåOppgi"}))],children:[e.jsx(p,{value:!0,children:"Ja"}),e.jsx(p,{value:!1,children:"Nei"})]}),!r&&e.jsx(z,{header:s.formatMessage({id:"omBarnet.erBarnetFødt.readMore.header"}),children:e.jsxs(B,{gap:"4",children:[e.jsx("div",{children:e.jsx(u,{id:"omBarnet.erBarnetFødt.readMore.innhold.del1"})}),e.jsx(u,{id:"omBarnet.erBarnetFødt.readMore.innhold.del2"})]})})]}),e.jsxs(F,{name:"antallBarn",label:ea(s,m,i),validate:[g(aa(s,m,i))],children:[e.jsx(p,{value:1,children:e.jsx(u,{id:"omBarnet.radiobutton.ettBarn"})}),e.jsx(p,{value:2,children:e.jsx(u,{id:"omBarnet.radiobutton.tvillinger"})}),e.jsx(p,{value:3,children:e.jsx(u,{id:"omBarnet.radiobutton.flere"})})]}),l!==void 0&&l===3&&e.jsxs(H,{name:"antallBarnSelect",label:"Antall barn",children:[e.jsx("option",{value:"3",children:"3"}),e.jsx("option",{value:"4",children:"4"}),e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"6",children:"6"}),e.jsx("option",{value:"7",children:"7"}),e.jsx("option",{value:"8",children:"8"}),e.jsx("option",{value:"9",children:"9"})]})]}),i!==!0&&e.jsx(ee,{søkersituasjon:a,arbeidsforhold:n,søknadGjelderEtNyttBarn:t}),i===!0&&t&&e.jsx(Y,{})]})};ae.__docgenInfo={description:"",methods:[],displayName:"FødselPanel",props:{søkersituasjon:{required:!0,tsType:{name:"Søkersituasjon"},description:""},erFarEllerMedmor:{required:!0,tsType:{name:"boolean"},description:""},søknadGjelderEtNyttBarn:{required:!0,tsType:{name:"boolean"},description:""},arbeidsforhold:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    arbeidsgiverNavn: string;
    stillingsprosent: number;
    fom: string;
    tom?: string;
}`,signature:{properties:[{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"stillingsprosent",value:{name:"number",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}}]}}],raw:"Arbeidsforhold[]"},description:""}}};const ta=a=>a.erBarnetFødt,ra=a=>a.erBarnetFødt===!1,te=a=>a.adopsjonAvEktefellesBarn,re=a=>a.adopsjonAvEktefellesBarn===!1,na=(a,r,t,n)=>{if(a!==void 0&&r==="fødsel")return{...a,type:n?v.UFØDT:v.FØDT,termindato:t.termindato,fødselsdatoer:a.fødselsdatoer,antallBarn:a.antallBarn};if(te(t))return{...a,type:v.ADOPTERT_STEBARN,adopsjonsdato:t.adopsjonsdato};if(re(t))return{...a,type:v.ADOPTERT_ANNET_BARN,adopsjonsdato:t.adopsjonsdato,adoptertIUtlandet:t.adoptertIUtlandet,ankomstdato:t.adoptertIUtlandet===!0?t.ankomstdato:void 0};throw new Error("Unreachable code")},sa=(a,r,t,n,s,o)=>{if(n!==void 0)return na(n,s,a,o);if(ta(a))return{type:v.FØDT,fødselsdatoer:a.fødselsdatoer.map(i=>i.dato),antallBarn:a.antallBarn<3?a.antallBarn:parseInt(a.antallBarnSelect,10),termindato:Ce(a.termindato)?a.termindato:void 0};if(ra(a))return N(r,t.situasjon==="adopsjon",y(t.rolle),a.termindato).length===0?{type:v.UFØDT,terminbekreftelsedato:a.terminbekreftelsedato,antallBarn:a.antallBarn<3?a.antallBarn:parseInt(a.antallBarnSelect,10),termindato:a.termindato}:{type:v.UFØDT,antallBarn:a.antallBarn<3?a.antallBarn:parseInt(a.antallBarnSelect,10),termindato:a.termindato};if(te(a))return{type:v.ADOPTERT_STEBARN,adopsjonsdato:a.adopsjonsdato,antallBarn:a.antallBarn<3?a.antallBarn:parseInt(a.antallBarnSelect,10),fødselsdatoer:a.fødselsdatoer.map(i=>i.dato)};if(re(a))return{type:v.ADOPTERT_ANNET_BARN,fødselsdatoer:a.fødselsdatoer.map(i=>i.dato),adopsjonsdato:a.adopsjonsdato,antallBarn:a.antallBarn<3?a.antallBarn:parseInt(a.antallBarnSelect,10),adoptertIUtlandet:a.adoptertIUtlandet,ankomstdato:a.adoptertIUtlandet===!0?a.ankomstdato:void 0};throw new Error("Unreachable code")},M=(a,r)=>a?3:r.antallBarn,E=(a,r)=>a?r.antallBarn.toString():void 0,oa=(a,r,t,n)=>{if(!t)return{fødselsdatoer:[{dato:void 0}]};const s=t.antallBarn>2;return Z(t)?{erBarnetFødt:!0,antallBarn:M(s,t),antallBarnSelect:E(s,t),fødselsdatoer:t.fødselsdatoer.map(o=>({dato:o})),termindato:n||t.termindato}:R(t)?N(a,r.situasjon==="adopsjon",y(r.rolle),n||t.termindato).length===0?{erBarnetFødt:!1,antallBarn:M(s,t),antallBarnSelect:E(s,t),terminbekreftelsedato:t.terminbekreftelsedato,termindato:n||t.termindato}:{erBarnetFødt:!1,antallBarn:M(s,t),antallBarnSelect:E(s,t),termindato:n||t.termindato}:be(t)?{adopsjonAvEktefellesBarn:!1,adopsjonsdato:t.adopsjonsdato,antallBarn:M(s,t),antallBarnSelect:E(s,t),fødselsdatoer:t.fødselsdatoer.map(o=>({dato:o})),adoptertIUtlandet:t.adoptertIUtlandet,ankomstdato:t.ankomstdato}:Me(t)?{adopsjonAvEktefellesBarn:!0,adopsjonsdato:t.adopsjonsdato,antallBarn:M(s,t),antallBarnSelect:E(s,t),fødselsdatoer:t.fødselsdatoer.map(o=>({dato:o}))}:{fødselsdatoer:[{dato:void 0}]}},ia=a=>{const r=d(a).add(12,"weeks");return d(r).isAfter(new Date,"day")},da=(a,r)=>r&&!R(r)&&r.fnr!==void 0&&r.fnr.length>0?r.fnr.includes(a.fnr):!1,la=(a,r,t,n)=>{if(n==="adopsjon")return!1;let s;if(t!==void 0&&t.length>0&&(s=ze(t).fødselsdato),!r&&!s)return!1;const o=s??r;return y(a)?$(o)?!0:ia(o):!0},ma=a=>{const r=Ne(),t=Re({...r,select:n=>n.termindato});return t.isLoading?e.jsx("div",{style:{textAlign:"center",padding:"12rem 0"},children:e.jsx(Ee,{size:"2xlarge"})}):e.jsx(ua,{...a,termindato:t.data})},ua=({søkerInfo:a,søknadGjelderNyttBarn:r,mellomlagreSøknadOgNaviger:t,avbrytSøknad:n,termindato:s})=>{const o=x(),i=we(a.arbeidsforhold),l=Pe(a.arbeidsforhold,t),m=Fe(_(D.SØKERSITUASJON)),f=_(D.OM_BARNET),h=Oe(D.OM_BARNET),{arbeidsforhold:c,søker:O}=a,ne=y(m.rolle),se=f?Je(f):void 0,oe=f&&Z(f)?O.barn.filter(b=>b.fnr===void 0&&He(b.fødselsdato,se)):[],T=!r&&f&&!R(f)?O.barn.filter(b=>da(b,f)).concat(oe):void 0,S=!r&&(T===void 0||T.length===0),ie=b=>{const me=sa(b,c,m,!r&&!S?f:void 0,m.situasjon,S);return h(me),l.goToNextDefaultStep()},de=C.useMemo(()=>oa(c,m,f,s),[c,f,s]),w=Ae({shouldUnregister:!0,defaultValues:de}),P=w.watch("fødselsdatoer"),le=la(m.rolle,P?P[0].dato:void 0,T,m.situasjon);return e.jsx(Se,{bannerTitle:o.formatMessage({id:"søknad.pageheading"}),onCancel:n,onContinueLater:l.fortsettSøknadSenere,steps:i,children:e.jsx(qe,{formMethods:w,onSubmit:ie,children:e.jsxs(B,{gap:"10",children:[e.jsx(De,{}),T&&T.length>0&&e.jsx(Q,{valgteRegistrerteBarn:T,skalInkludereTermindato:le}),m.situasjon==="fødsel"&&e.jsx(ae,{erFarEllerMedmor:ne,søknadGjelderEtNyttBarn:S||r,søkersituasjon:m,arbeidsforhold:c}),m.situasjon==="adopsjon"&&e.jsx(X,{søknadGjelderEtNyttBarn:S||r}),e.jsx(Ie,{goToPreviousStep:l.goToPreviousDefaultStep})]})})})};ma.__docgenInfo={description:"",methods:[],displayName:"OmBarnetSteg",props:{søkerInfo:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    søker: PersonFrontend;
    arbeidsforhold: Arbeidsforhold[];
}`,signature:{properties:[{key:"søker",value:{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
    kjønn: Kjønn;
    fødselsdato: string;
    bankkonto?: Bankkonto;
    barn: BarnFrontend[];
    sivilstand?: Sivilstand;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}},{key:"kjønn",value:{name:"union",raw:"'M' | 'K' | 'U'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"},{name:"literal",value:"'U'"}],required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"bankkonto",value:{name:"signature",type:"object",raw:`{
    kontonummer?: string;
    banknavn?: string;
}`,signature:{properties:[{key:"kontonummer",value:{name:"string",required:!1}},{key:"banknavn",value:{name:"string",required:!1}}]},required:!1}},{key:"barn",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: AnnenForelderFrontend;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}},{key:"kjønn",value:{name:"union",raw:"'M' | 'K' | 'U'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"},{name:"literal",value:"'U'"}],required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"dødsdato",value:{name:"string",required:!1}},{key:"annenForelder",value:{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
    fødselsdato?: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}},{key:"fødselsdato",value:{name:"string",required:!1}}]},required:!1}}]}}],raw:"BarnFrontend[]",required:!0}},{key:"sivilstand",value:{name:"signature",type:"object",raw:`{
    type?: SivilstandType;
}`,signature:{properties:[{key:"type",value:{name:"union",raw:`| 'UOPPGITT'
| 'UGIFT'
| 'GIFT'
| 'ENKE_ELLER_ENKEMANN'
| 'SKILT'
| 'SEPARERT'
| 'REGISTRERT_PARTNER'
| 'SEPARERT_PARTNER'
| 'SKILT_PARTNER'
| 'GJENLEVENDE_PARTNER'`,elements:[{name:"literal",value:"'UOPPGITT'"},{name:"literal",value:"'UGIFT'"},{name:"literal",value:"'GIFT'"},{name:"literal",value:"'ENKE_ELLER_ENKEMANN'"},{name:"literal",value:"'SKILT'"},{name:"literal",value:"'SEPARERT'"},{name:"literal",value:"'REGISTRERT_PARTNER'"},{name:"literal",value:"'SEPARERT_PARTNER'"},{name:"literal",value:"'SKILT_PARTNER'"},{name:"literal",value:"'GJENLEVENDE_PARTNER'"}],required:!1}}]},required:!1}}]},required:!0}},{key:"arbeidsforhold",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    arbeidsgiverNavn: string;
    stillingsprosent: number;
    fom: string;
    tom?: string;
}`,signature:{properties:[{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"stillingsprosent",value:{name:"number",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}}]}}],raw:"Arbeidsforhold[]",required:!0}}]}},description:""},søknadGjelderNyttBarn:{required:!0,tsType:{name:"boolean"},description:""},mellomlagreSøknadOgNaviger:{required:!0,tsType:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},avbrytSøknad:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};export{ma as O,ya as a};
