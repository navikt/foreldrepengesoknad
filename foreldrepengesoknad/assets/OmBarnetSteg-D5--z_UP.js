import{Z as T,_ as e,$ as B,bY as me,a1 as u,ba as j,aT as g,b5 as k,I as l,cs as V,ct as R,be as A,bf as ue,r as G,b6 as C,b7 as fe,cu as w,aS as F,aU as p,cv as ge,a6 as pe,b9 as ce,b2 as ve,bb as J,z as Be,cw as je,bm as H,a7 as q,cx as ke,cy as ye,a0 as he,a5 as Te,A as z,a2 as D,al as xe,C as be,bl as v,q as Me,aX as Ee,ar as Fe,aY as Ae,bj as Se,bk as qe}from"./iframe-ApDwkp_7.js";import{b as O,C as I,c as Ie}from"./FpDataContext-6le9_ZTX.js";import{i as y,j as N,a as Re,b as De}from"./useFpNavigator-C_liBLct.js";import{t as Ne,m as U,B as Pe,C as L,D as _e,F as we,G as Oe,H as Ue,b as $,J as Le,a as Ke,o as Ve,K as Ge}from"./barnUtils-GcEFDcde.js";import{R as K}from"./RegistrertePersonalia-CzYXb_VP.js";l.extend(V);l.extend(R);const X=({valgteRegistrerteBarn:a,skalInkludereTermindato:t})=>{const r=T(),n=a.every(i=>!i.dødsdato),o=[...a].sort(Ne),d=o.map(i=>i.fødselsdato),s=o[0].fødselsdato;return e.jsxs(e.Fragment,{children:[e.jsxs(B,{gap:"2",children:[e.jsx(me,{children:e.jsx(u,{id:"omBarnet.valgteBarn.tittel",values:{antallBarn:o.length}})}),n?o.map(i=>e.jsx(K,{person:i,fødselsdatoForVisning:U([i.fødselsdato]),visEtternavn:!1},i.fnr)):e.jsx(K,{person:o[0],fødselsdatoForVisning:U(d),altTekstHvisUkjentNavn:Pe(void 0,d,o.length,r),visEtternavn:!1})]}),t&&e.jsx(j,{name:"termindato",label:r.formatMessage({id:"omBarnet.termindato.født"}),defaultMonth:s,minDate:l(s).subtract(1,"months").toDate(),maxDate:l(s).add(6,"months").toDate(),validate:[g(r.formatMessage({id:"valideringsfeil.omBarnet.termindato.duMåOppgi"})),k(r.formatMessage({id:"valideringsfeil.omBarnet.termindato.ugyldigDatoFormat"})),i=>{if(!l(i).subtract(6,"months").isSameOrBefore(l(s),"day"))return r.formatMessage({id:"valideringsfeil.omBarnet.termindato.forLangtFremITid"});if(!l(i).add(1,"months").isSameOrAfter(l(s),"day"))return r.formatMessage({id:"valideringsfeil.omBarnet.termindato.forLangtTilbakeITid"})}]})]})};X.__docgenInfo={description:"",methods:[],displayName:"ValgteRegistrerteBarn",props:{valgteRegistrerteBarn:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
    kjønn: 'M' | 'K' | 'U';
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: AnnenForelderFrontend;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}},{key:"kjønn",value:{name:"union",raw:"'M' | 'K' | 'U'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"},{name:"literal",value:"'U'"}],required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"dødsdato",value:{name:"string",required:!1}},{key:"annenForelder",value:{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
    fødselsdato?: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}},{key:"fødselsdato",value:{name:"string",required:!1}}]},required:!1}}]}}],raw:"BarnFrontend[]"},description:""},skalInkludereTermindato:{required:!0,tsType:{name:"boolean"},description:""}}};const Ce=(a,t)=>r=>{if(!t)return;const n=l(r).startOf("day").add(15,"year");return l(t).isBetween(r,n,null,"[]")?void 0:a},Je=a=>{switch(a){case 1:return e.jsx(u,{id:"omBarnet.fødselsdato.adopsjon.1"});case 2:return e.jsx(u,{id:"omBarnet.fødselsdato.adopsjon.2"});case 3:return e.jsx(u,{id:"omBarnet.fødselsdato.adopsjon.3"});case 4:return e.jsx(u,{id:"omBarnet.fødselsdato.adopsjon.4"});case 5:return e.jsx(u,{id:"omBarnet.fødselsdato.adopsjon.5"});case 6:return e.jsx(u,{id:"omBarnet.fødselsdato.adopsjon.6"});case 7:return e.jsx(u,{id:"omBarnet.fødselsdato.adopsjon.7"});case 8:return e.jsx(u,{id:"omBarnet.fødselsdato.adopsjon.8"});case 9:return e.jsx(u,{id:"omBarnet.fødselsdato.adopsjon.9"});default:throw new Error("Antall barn ikke supportert: "+a)}},Y=({adopsjonsdato:a,antallBarn:t,antallBarnDropDown:r})=>{const n=T(),{control:o}=A(),{fields:d,remove:s,append:i}=ue({control:o,name:"fødselsdatoer"});return G.useEffect(()=>{if(!t||t===3&&!r)return;const m=t<3||!r?t:Number.parseInt(r,10),f=d.length-m;f>0&&[...new Array(f)].forEach((c,h)=>{s(d.length-h-1)}),f<0&&[...new Array(m-d.length)].forEach(()=>{i({dato:void 0})})},[t,r,i,d.length,s]),e.jsx(B,{gap:"10",children:d.map((m,f)=>e.jsx(j,{name:`fødselsdatoer.${f}.dato`,minDate:l(a).subtract(15,"years").toDate(),maxDate:a&&w(a)?l(a).toDate():l(),defaultMonth:a&&w(a)?a:l(),label:d.length===1?n.formatMessage({id:"omBarnet.fødselsdato"}):Je(f+1),validate:[g(n.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.duMåOppgi"})),k(n.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.ugyldigDatoFormat"})),C(n.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.måVæreIdagEllerTidligere"})),fe(n.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.måVæreFørAdopsjonsdato"}),a),Ce(n.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.ikkeMerEnn15År3MndTilbake"}),a)]},m.id))})};Y.__docgenInfo={description:"",methods:[],displayName:"FødselsdatoerFieldArray",props:{antallBarn:{required:!1,tsType:{name:"number"},description:""},antallBarnDropDown:{required:!1,tsType:{name:"string"},description:""},adopsjonsdato:{required:!1,tsType:{name:"string"},description:""}}};l.extend(R);const W=({søknadGjelderEtNyttBarn:a})=>{const t=T(),r=A(),n=r.watch("adopsjonAvEktefellesBarn"),o=r.watch("antallBarn"),d=r.watch("antallBarnSelect"),s=r.watch("adopsjonsdato"),i=r.watch("adoptertIUtlandet"),m=r.watch("fødselsdatoer");return e.jsxs(e.Fragment,{children:[e.jsxs(F,{name:"adopsjonAvEktefellesBarn",label:t.formatMessage({id:"omBarnet.adopsjonGjelder"}),validate:[g(t.formatMessage({id:"valideringsfeil.omBarnet.adopsjonGjelder.duMåOppgi"}))],children:[e.jsx(p,{value:!0,children:"Ja"}),e.jsx(p,{value:!1,children:"Nei"})]}),e.jsxs(B,{gap:"4",children:[e.jsx(j,{name:"adopsjonsdato",label:n?t.formatMessage({id:"omBarnet.adopsjonsdato.stebarn"}):t.formatMessage({id:"omBarnet.adopsjonsdato.annetBarn"}),validate:[g(t.formatMessage({id:"valideringsfeil.omBarnet.adopsjonsdato.duMåOppgi"})),k(t.formatMessage({id:"valideringsfeil.omBarnet.adopsjonsdato.ugyldigDatoFormat"}))]}),e.jsx(ge,{padding:"4",background:"surface-alt-3-subtle",borderRadius:"medium",children:e.jsxs(pe,{gap:"2",children:[e.jsx(ce,{height:24,width:24,color:"#005B82"}),e.jsx(B,{gap:"2",style:{width:"85%"},children:e.jsx(ve,{children:e.jsx(u,{id:"omBarnet.opplaste.bekreftelse"})})})]})})]}),a&&e.jsxs(e.Fragment,{children:[e.jsxs(F,{name:"antallBarn",label:t.formatMessage({id:"omBarnet.antallBarn.adopsjon.født"}),validate:[g(t.formatMessage({id:"valideringsfeil.omBarnet.adopsjon.født.duMåOppgi"}))],children:[e.jsx(p,{value:1,children:e.jsx(u,{id:"omBarnet.radiobutton.ettBarn"})}),e.jsx(p,{value:2,children:e.jsx(u,{id:"omBarnet.radiobutton.toBarn"})}),e.jsx(p,{value:3,children:e.jsx(u,{id:"omBarnet.radiobutton.flere"})})]}),o===3&&e.jsxs(J,{name:"antallBarnSelect",label:"Antall barn",children:[e.jsx("option",{value:"3",children:"3"}),e.jsx("option",{value:"4",children:"4"}),e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"6",children:"6"}),e.jsx("option",{value:"7",children:"7"}),e.jsx("option",{value:"8",children:"8"}),e.jsx("option",{value:"9",children:"9"})]}),e.jsx(Y,{adopsjonsdato:s,antallBarn:o,antallBarnDropDown:d})]}),n===!1&&!Be(s)&&e.jsxs(e.Fragment,{children:[e.jsxs(F,{name:"adoptertIUtlandet",label:t.formatMessage({id:"omBarnet.adopteresFraUtlandet"}),validate:[g(t.formatMessage({id:"valideringsfeil.omBarnet.adopteresFraUtlandet.duMåOppgi"}))],children:[e.jsx(p,{value:!0,children:"Ja"}),e.jsx(p,{value:!1,children:"Nei"})]}),i===!0&&e.jsx(j,{name:"ankomstdato",minDate:m?l(m[0].dato).toDate():void 0,maxDate:l().add(6,"months").toDate(),label:t.formatMessage({id:"omBarnet.ankomstDato"}),validate:[g(t.formatMessage({id:"valideringsfeil.omBarnet.adopsjonsdato.duMåOppgi"})),k(t.formatMessage({id:"valideringsfeil.omBarnet.adopsjonsdato.ugyldigDatoFormat"})),f=>{var c;return((c=m[0])==null?void 0:c.dato)!==void 0&&!l(m[0].dato).isSameOrBefore(f,"day")?t.formatMessage({id:"valideringsfeil.omBarnet.ankomstDato.førFødselsdato"}):void 0}]})]})]})};W.__docgenInfo={description:"",methods:[],displayName:"AdopsjonPanel",props:{søknadGjelderEtNyttBarn:{required:!0,tsType:{name:"boolean"},description:""}}};l.extend(V);l.extend(R);const Z=()=>{const a=T(),t=A(),{antallBarn:r,erBarnetFødt:n,fødselsdatoer:o}=t.watch(),d=r>1?"omBarnet.fødselsdato.flereBarn":"omBarnet.fødselsdato",s=o?o[0].dato:void 0;return e.jsxs(e.Fragment,{children:[e.jsx(j,{name:"termindato",minDate:s?l(s).subtract(1,"months").toDate():void 0,maxDate:s?l(s).add(6,"months").toDate():void 0,label:a.formatMessage({id:"omBarnet.termindato.født"}),useStrategyAbsolute:!0,validate:[g(a.formatMessage({id:"valideringsfeil.omBarnet.termindato.duMåOppgi"})),k(a.formatMessage({id:"valideringsfeil.omBarnet.termindato.ugyldigDatoFormat"})),i=>{if(s){if(!l(i).subtract(6,"months").isSameOrBefore(l(s),"day"))return a.formatMessage({id:"valideringsfeil.omBarnet.termindato.forLangtFremITid"});if(!l(i).add(1,"months").isSameOrAfter(l(s),"day"))return a.formatMessage({id:"valideringsfeil.omBarnet.termindato.forLangtTilbakeITid"})}}]}),n&&e.jsx(j,{name:"fødselsdatoer.0.dato",label:a.formatMessage({id:d}),minDate:l().subtract(3,"years").toDate(),maxDate:l().toDate(),useStrategyAbsolute:!0,validate:[g(a.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.duMåOppgi"})),k(a.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.ugyldigDatoFormat"})),C(a.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.måVæreIdagEllerTidligere"})),i=>l(i).isBefore(l().subtract(3,"years").subtract(4,"months"),"day")?a.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.ikkeMerEnn3År3MndTilbake"}):void 0]})]})};Z.__docgenInfo={description:"",methods:[],displayName:"ErFødtPanel"};const He=(a,t)=>y(a)?t?$(t):!1:!0,Q=({søkersituasjon:a,arbeidsforhold:t,søknadGjelderEtNyttBarn:r})=>{const n=T(),d=A().watch("termindato"),s=d?!L(d):!1,i=y(a.rolle),m=i&&d,f=He(a.rolle,d),c=d&&je.test(d)?N(t,a.situasjon==="adopsjon",y(a.rolle),d):t;return e.jsxs(e.Fragment,{children:[r&&e.jsxs(B,{gap:"2",children:[e.jsx(j,{name:"termindato",label:n.formatMessage({id:"omBarnet.termindato.termin"}),minDate:we,maxDate:_e,useStrategyAbsolute:!0,validate:[g(n.formatMessage({id:"valideringsfeil.omBarnet.termindato.duMåOppgi"})),k(n.formatMessage({id:"valideringsfeil.omBarnet.termindato.ugyldigDatoFormat"})),h=>{if(!Oe(h))return n.formatMessage({id:"valideringsfeil.omBarnet.termindato.forTidlig"});if(!L(h))return n.formatMessage({id:"valideringsfeil.omBarnet.termindato.duMåVæreIUke22"})}]}),!i&&e.jsx(H,{header:n.formatMessage({id:"omBarnet.termindato.åpneLabel"}),children:e.jsxs(B,{gap:"2",children:[e.jsx(q,{children:e.jsx(u,{id:"omBarnet.termindato.innhold.del1"})}),e.jsx(q,{children:e.jsx(u,{id:"omBarnet.termindato.innhold.del2"})})]})})]}),r&&c.length===0&&f&&e.jsx(j,{name:"terminbekreftelsedato",label:n.formatMessage({id:"omBarnet.terminbekreftelseDato"}),maxDate:Ue,minDate:l(d).subtract(18,"week").subtract(3,"day").startOf("day").toDate(),useStrategyAbsolute:!0,validate:[g(n.formatMessage({id:"valideringsfeil.omBarnet.terminbekreftelseDato.duMåOppgi"})),k(n.formatMessage({id:"valideringsfeil.omBarnet.terminbekreftelseDato.ugyldigDatoFormat"})),ke(n.formatMessage({id:"valideringsfeil.omBarnet.terminbekreftelseDato.kanIkkeVæreFremITid"})),ye(n.formatMessage({id:"valideringsfeil.omBarnet.terminbekreftelseDato.terminbekreftelsedatoMåVæreUtstedetEtter22Svangerskapsuke"}),d)]}),(s||m&&!f)&&e.jsx(he,{variant:"warning",children:e.jsxs(B,{gap:"4",children:[e.jsx(Te,{level:"3",size:"small",children:e.jsx(u,{id:"omBarnet.termindato.erForTidligTilÅSøkePåTermin.heading"})}),e.jsx(q,{children:e.jsx(u,{id:"omBarnet.termindato.erForTidligTilÅSøkePåTermin.innhold"})})]})})]})};Q.__docgenInfo={description:"",methods:[],displayName:"TerminPanel",props:{søkersituasjon:{required:!0,tsType:{name:"Søkersituasjon"},description:""},arbeidsforhold:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    arbeidsgiverNavn: string;
    stillingsprosent: number;
    fom: string;
    tom?: string;
}`,signature:{properties:[{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"stillingsprosent",value:{name:"number",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}}]}}],raw:"Arbeidsforhold[]"},description:""},søknadGjelderEtNyttBarn:{required:!1,tsType:{name:"boolean"},description:""}}};const ze=(a,t,r)=>r===!0?a.formatMessage({id:"omBarnet.antallBarn.født"}):t?a.formatMessage({id:"omBarnet.antallBarn.termin.far"}):a.formatMessage({id:"omBarnet.antallBarn.termin"}),$e=(a,t,r)=>r!==!1?a.formatMessage({id:"valideringsfeil.omBarnet.antallFått.duMåOppgi"}):t?a.formatMessage({id:"valideringsfeil.omBarnet.antallVenter.duMåOppgi"}):a.formatMessage({id:"valideringsfeil.omBarnet.antallVenterDu.duMåOppgi"}),ee=({søkersituasjon:a,erFarEllerMedmor:t,søknadGjelderEtNyttBarn:r,arbeidsforhold:n})=>{const o=T(),d=A(),s=d.watch("erBarnetFødt"),i=d.watch("antallBarn"),m=y(a.rolle);return e.jsxs(e.Fragment,{children:[r&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs(F,{name:"erBarnetFødt",label:o.formatMessage({id:"omBarnet.erBarnetFødt"}),validate:[g(o.formatMessage({id:"valideringsfeil.omBarnet.erBarnetFødt.duMåOppgi"}))],children:[e.jsx(p,{value:!0,children:"Ja"}),e.jsx(p,{value:!1,children:"Nei"})]}),!t&&e.jsx(H,{header:o.formatMessage({id:"omBarnet.erBarnetFødt.readMore.header"}),children:e.jsxs(B,{gap:"4",children:[e.jsx("div",{children:e.jsx(u,{id:"omBarnet.erBarnetFødt.readMore.innhold.del1"})}),e.jsx(u,{id:"omBarnet.erBarnetFødt.readMore.innhold.del2"})]})})]}),e.jsxs(F,{name:"antallBarn",label:ze(o,m,s),validate:[g($e(o,m,s))],children:[e.jsx(p,{value:1,children:e.jsx(u,{id:"omBarnet.radiobutton.ettBarn"})}),e.jsx(p,{value:2,children:e.jsx(u,{id:"omBarnet.radiobutton.tvillinger"})}),e.jsx(p,{value:3,children:e.jsx(u,{id:"omBarnet.radiobutton.flere"})})]}),i!==void 0&&i===3&&e.jsxs(J,{name:"antallBarnSelect",label:"Antall barn",children:[e.jsx("option",{value:"3",children:"3"}),e.jsx("option",{value:"4",children:"4"}),e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"6",children:"6"}),e.jsx("option",{value:"7",children:"7"}),e.jsx("option",{value:"8",children:"8"}),e.jsx("option",{value:"9",children:"9"})]})]}),s!==!0&&e.jsx(Q,{søkersituasjon:a,arbeidsforhold:n,søknadGjelderEtNyttBarn:r}),s===!0&&r&&e.jsx(Z,{})]})};ee.__docgenInfo={description:"",methods:[],displayName:"FødselPanel",props:{søkersituasjon:{required:!0,tsType:{name:"Søkersituasjon"},description:""},erFarEllerMedmor:{required:!0,tsType:{name:"boolean"},description:""},søknadGjelderEtNyttBarn:{required:!0,tsType:{name:"boolean"},description:""},arbeidsforhold:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    arbeidsgiverNavn: string;
    stillingsprosent: number;
    fom: string;
    tom?: string;
}`,signature:{properties:[{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"stillingsprosent",value:{name:"number",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}}]}}],raw:"Arbeidsforhold[]"},description:""}}};const Xe=a=>a.erBarnetFødt,Ye=a=>a.erBarnetFødt===!1,ae=a=>a.adopsjonAvEktefellesBarn,re=a=>a.adopsjonAvEktefellesBarn===!1,We=(a,t,r,n)=>{if(a!==void 0&&t==="fødsel")return{...a,type:n?v.UFØDT:v.FØDT,termindato:r.termindato,fødselsdatoer:a.fødselsdatoer,antallBarn:a.antallBarn};if(ae(r))return{...a,type:v.ADOPTERT_STEBARN,adopsjonsdato:r.adopsjonsdato};if(re(r))return{...a,type:v.ADOPTERT_ANNET_BARN,adopsjonsdato:r.adopsjonsdato,adoptertIUtlandet:r.adoptertIUtlandet,ankomstdato:r.adoptertIUtlandet===!0?r.ankomstdato:void 0};throw new Error("Unreachable code")},Ze=(a,t,r,n,o,d)=>{if(n!==void 0)return We(n,o,a,d);if(Xe(a))return{type:v.FØDT,fødselsdatoer:a.fødselsdatoer.map(s=>s.dato),antallBarn:a.antallBarn<3?a.antallBarn:parseInt(a.antallBarnSelect,10),termindato:Le(a.termindato)?a.termindato:void 0};if(Ye(a))return N(t,r.situasjon==="adopsjon",y(r.rolle),a.termindato).length===0?{type:v.UFØDT,terminbekreftelsedato:a.terminbekreftelsedato,antallBarn:a.antallBarn<3?a.antallBarn:parseInt(a.antallBarnSelect,10),termindato:a.termindato}:{type:v.UFØDT,antallBarn:a.antallBarn<3?a.antallBarn:parseInt(a.antallBarnSelect,10),termindato:a.termindato};if(ae(a))return{type:v.ADOPTERT_STEBARN,adopsjonsdato:a.adopsjonsdato,antallBarn:a.antallBarn<3?a.antallBarn:parseInt(a.antallBarnSelect,10),fødselsdatoer:a.fødselsdatoer.map(s=>s.dato)};if(re(a))return{type:v.ADOPTERT_ANNET_BARN,fødselsdatoer:a.fødselsdatoer.map(s=>s.dato),adopsjonsdato:a.adopsjonsdato,antallBarn:a.antallBarn<3?a.antallBarn:parseInt(a.antallBarnSelect,10),adoptertIUtlandet:a.adoptertIUtlandet,ankomstdato:a.adoptertIUtlandet===!0?a.ankomstdato:void 0};throw new Error("Unreachable code")},M=(a,t)=>a?3:t.antallBarn,E=(a,t)=>a?t.antallBarn.toString():void 0,Qe=(a,t,r)=>{if(!r)return{fødselsdatoer:[{dato:void 0}]};const n=r.antallBarn>2;return z(r)?{erBarnetFødt:!0,antallBarn:M(n,r),antallBarnSelect:E(n,r),fødselsdatoer:r.fødselsdatoer.map(o=>({dato:o})),termindato:r.termindato}:D(r)?N(a,t.situasjon==="adopsjon",y(t.rolle),r.termindato).length===0?{erBarnetFødt:!1,antallBarn:M(n,r),antallBarnSelect:E(n,r),terminbekreftelsedato:r.terminbekreftelsedato,termindato:r.termindato}:{erBarnetFødt:!1,antallBarn:M(n,r),antallBarnSelect:E(n,r),termindato:r.termindato}:xe(r)?{adopsjonAvEktefellesBarn:!1,adopsjonsdato:r.adopsjonsdato,antallBarn:M(n,r),antallBarnSelect:E(n,r),fødselsdatoer:r.fødselsdatoer.map(o=>({dato:o})),adoptertIUtlandet:r.adoptertIUtlandet,ankomstdato:r.ankomstdato}:be(r)?{adopsjonAvEktefellesBarn:!0,adopsjonsdato:r.adopsjonsdato,antallBarn:M(n,r),antallBarnSelect:E(n,r),fødselsdatoer:r.fødselsdatoer.map(o=>({dato:o}))}:{fødselsdatoer:[{dato:void 0}]}},ea=a=>{const t=l(a).add(12,"weeks");return l(t).isAfter(new Date,"day")},aa=(a,t)=>t&&!D(t)&&t.fnr!==void 0&&t.fnr.length>0?t.fnr.includes(a.fnr):!1,ra=(a,t,r,n)=>{if(n==="adopsjon")return!1;let o;if(r!==void 0&&r.length>0&&(o=Ge(r).fødselsdato),!t&&!o)return!1;const d=o??t;return y(a)?$(d)?!0:ea(d):!0},ta=({søkerInfo:a,søknadGjelderNyttBarn:t,mellomlagreSøknadOgNaviger:r,avbrytSøknad:n})=>{const o=T(),d=Re(a.arbeidsforhold),s=De(a.arbeidsforhold,r),i=Me(O(I.SØKERSITUASJON)),m=O(I.OM_BARNET),f=Ie(I.OM_BARNET),{arbeidsforhold:c,søker:h}=a,te=y(i.rolle),ne=m?Ke(m):void 0,se=m&&z(m)?h.barn.filter(b=>b.fnr===void 0&&Ve(b.fødselsdato,ne)):[],x=!t&&m&&!D(m)?h.barn.filter(b=>aa(b,m)).concat(se):void 0,S=!t&&(x===void 0||x.length===0),oe=b=>{const le=Ze(b,c,i,!t&&!S?m:void 0,i.situasjon,S);return f(le),s.goToNextDefaultStep()},ie=G.useMemo(()=>Qe(c,i,m),[c,m]),P=Ee({shouldUnregister:!0,defaultValues:ie}),_=P.watch("fødselsdatoer"),de=ra(i.rolle,_?_[0].dato:void 0,x,i.situasjon);return e.jsx(Fe,{bannerTitle:o.formatMessage({id:"søknad.pageheading"}),onCancel:n,onContinueLater:s.fortsettSøknadSenere,steps:d,children:e.jsx(Ae,{formMethods:P,onSubmit:oe,children:e.jsxs(B,{gap:"10",children:[e.jsx(Se,{}),x&&x.length>0&&e.jsx(X,{valgteRegistrerteBarn:x,skalInkludereTermindato:de}),i.situasjon==="fødsel"&&e.jsx(ee,{erFarEllerMedmor:te,søknadGjelderEtNyttBarn:S||t,søkersituasjon:i,arbeidsforhold:c}),i.situasjon==="adopsjon"&&e.jsx(W,{søknadGjelderEtNyttBarn:S||t}),e.jsx(qe,{goToPreviousStep:s.goToPreviousDefaultStep})]})})})};ta.__docgenInfo={description:"",methods:[],displayName:"OmBarnetSteg",props:{søkerInfo:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    søker: PersonFrontend;
    arbeidsforhold: Arbeidsforhold[];
}`,signature:{properties:[{key:"søker",value:{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
    kjønn: 'M' | 'K' | 'U';
    fødselsdato: string;
    bankkonto?: Bankkonto;
    barn: BarnFrontend[];
    sivilstand?: Sivilstand;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}},{key:"kjønn",value:{name:"union",raw:"'M' | 'K' | 'U'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"},{name:"literal",value:"'U'"}],required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"bankkonto",value:{name:"signature",type:"object",raw:`{
    kontonummer?: string;
    banknavn?: string;
}`,signature:{properties:[{key:"kontonummer",value:{name:"string",required:!1}},{key:"banknavn",value:{name:"string",required:!1}}]},required:!1}},{key:"barn",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
    kjønn: 'M' | 'K' | 'U';
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: AnnenForelderFrontend;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}},{key:"kjønn",value:{name:"union",raw:"'M' | 'K' | 'U'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"},{name:"literal",value:"'U'"}],required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"dødsdato",value:{name:"string",required:!1}},{key:"annenForelder",value:{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
    fødselsdato?: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}},{key:"fødselsdato",value:{name:"string",required:!1}}]},required:!1}}]}}],raw:"BarnFrontend[]",required:!0}},{key:"sivilstand",value:{name:"signature",type:"object",raw:`{
    type?:
        | 'UOPPGITT'
        | 'UGIFT'
        | 'GIFT'
        | 'ENKE_ELLER_ENKEMANN'
        | 'SKILT'
        | 'SEPARERT'
        | 'REGISTRERT_PARTNER'
        | 'SEPARERT_PARTNER'
        | 'SKILT_PARTNER'
        | 'GJENLEVENDE_PARTNER';
}`,signature:{properties:[{key:"type",value:{name:"union",raw:`| 'UOPPGITT'
| 'UGIFT'
| 'GIFT'
| 'ENKE_ELLER_ENKEMANN'
| 'SKILT'
| 'SEPARERT'
| 'REGISTRERT_PARTNER'
| 'SEPARERT_PARTNER'
| 'SKILT_PARTNER'
| 'GJENLEVENDE_PARTNER'`,elements:[{name:"literal",value:"'UOPPGITT'"},{name:"literal",value:"'UGIFT'"},{name:"literal",value:"'GIFT'"},{name:"literal",value:"'ENKE_ELLER_ENKEMANN'"},{name:"literal",value:"'SKILT'"},{name:"literal",value:"'SEPARERT'"},{name:"literal",value:"'REGISTRERT_PARTNER'"},{name:"literal",value:"'SEPARERT_PARTNER'"},{name:"literal",value:"'SKILT_PARTNER'"},{name:"literal",value:"'GJENLEVENDE_PARTNER'"}],required:!1}}]},required:!1}}]},required:!0}},{key:"arbeidsforhold",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    arbeidsgiverNavn: string;
    stillingsprosent: number;
    fom: string;
    tom?: string;
}`,signature:{properties:[{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"stillingsprosent",value:{name:"number",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}}]}}],raw:"Arbeidsforhold[]",required:!0}}]}},description:""},søknadGjelderNyttBarn:{required:!0,tsType:{name:"boolean"},description:""},mellomlagreSøknadOgNaviger:{required:!0,tsType:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},avbrytSøknad:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};export{ta as O};
