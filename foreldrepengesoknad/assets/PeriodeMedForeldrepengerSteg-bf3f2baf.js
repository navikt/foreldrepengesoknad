import{j as e}from"./jsx-runtime-1caa8f64.js";import{f as J,u as q,X as re,d as R,b as l,R as se,U as L,j as X,C as oe,a3 as le,S as ie,L as de}from"./Tidsperioden-42a1bdbe.js";import{n as N,K as A,a4 as Q,i as ue,D as u,a5 as O,S as ge,I as pe,f as ce}from"./dateFormValidation-5ec6c7b9.js";import{D as C}from"./eksisterendeSakUtils-34612306.js";import"./index-753920cd.js";import{r as k}from"./index-1cdf6ce0.js";import"./_baseToString-2517c4f7.js";import"./_createSet-019d3bf6.js";import{s as me,u as ke,a as b,g as fe,b as K,c as ve}from"./uttaksplanInfoUtils-90a765b1.js";import{b as G,u as Se,a as je}from"./useFpNavigator-94b086ce.js";import{u as x,C as m,a as W}from"./FpDataContext-91c673b7.js";import{R as xe}from"./useRequest-84d89b79.js";import{j as ee,h as te,e as he}from"./barnUtils-43809280.js";import{u as Pe,F as Fe,E as De,R as Ee,a as Z,d as Te}from"./ErrorSummaryHookForm-7bca43c9.js";import{l as ye}from"./links-022380bf.js";import{g as _}from"./stønadskontoer-3874362c.js";import{V as F,B as I,H as V,S as Ne}from"./Step-b0b81968.js";import{L as Re,H as M,B as w}from"./Link-1e7d9fc8.js";var _e=globalThis&&globalThis.__rest||function(t,r){var a={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(a[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)r.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(a[n[s]]=t[n[s]]);return a};const Ae=k.forwardRef((t,r)=>{var{title:a,titleId:n}=t,s=_e(t,["title","titleId"]);let o=J();return o=a?n||"title-"+o:void 0,k.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:r,"aria-labelledby":o},s),a?k.createElement("title",{id:o},a):null,k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.532 3.471A.748.748 0 0 1 20.75 4v7.5a.75.75 0 0 1-1.5 0V5.81l-8.72 8.72a.75.75 0 1 1-1.06-1.06l8.72-8.72H12.5a.75.75 0 0 1 0-1.5H20c.206 0 .393.083.529.218l.001.002.002.001ZM4.75 9A.25.25 0 0 1 5 8.75h7a.75.75 0 0 0 0-1.5H5A1.75 1.75 0 0 0 3.25 9v10c0 .966.784 1.75 1.75 1.75h10A1.75 1.75 0 0 0 16.75 19v-7a.75.75 0 0 0-1.5 0v7a.25.25 0 0 1-.25.25H5a.25.25 0 0 1-.25-.25V9Z",fill:"currentColor"}))}),Oe=Ae;var be=globalThis&&globalThis.__rest||function(t,r){var a={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(a[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)r.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(a[n[s]]=t[n[s]]);return a};const Ie=k.forwardRef((t,r)=>{var{title:a,titleId:n}=t,s=be(t,["title","titleId"]);let o=J();return o=a?n||"title-"+o:void 0,k.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:!1,role:"img",ref:r,"aria-labelledby":o},s),a?k.createElement("title",{id:o},a):null,k.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.939 2.293a2.25 2.25 0 0 0-2.592 1.554 3.751 3.751 0 0 0-3.468.971l-.349-.348a.75.75 0 1 0-1.06 1.06l.216.217-2.127.912a2.75 2.75 0 0 0-.862.583l-6.02 6.02a1.75 1.75 0 0 0 0 2.475l4.586 4.586a1.75 1.75 0 0 0 2.474 0l6.021-6.02a2.75 2.75 0 0 0 .583-.862l.912-2.127.217.216a.75.75 0 1 0 1.06-1.06l-.348-.349a3.75 3.75 0 0 0 .971-3.468 2.249 2.249 0 0 0 .938-3.744 2.25 2.25 0 0 0-1.152-.616ZM19.5 5.25a.75.75 0 1 0-.75-.75 3.76 3.76 0 0 1 .75.75Zm-1.379 3.81A2.25 2.25 0 0 0 14.94 5.88L18.12 9.06ZM11.15 8.038l2.679-1.149 3.282 3.282-.034.079H8.81l1.947-1.947a1.25 1.25 0 0 1 .392-.265Zm-6.413 6.285 2.574-2.573h9.123l-.472 1.1a1.25 1.25 0 0 1-.265.392l-6.02 6.02a.25.25 0 0 1-.354 0l-4.586-4.585a.25.25 0 0 1 0-.354Z",fill:"currentColor"}))}),z=Ie;const Y=(t,r)=>{const a=Q(r),n=ee(r),s=te(r),o=a?r.adopsjonsdato:s;if(!a&&n||!o)return;const i=_(t.filter(g=>g.konto!==ge.ForeldrepengerFørFødsel))*5,d=L(R(o).toDate()).denneEllerNeste(),f=L(d).leggTil(i-1);return R(f).format("dddd DD. MMMM YYYY")},$=(t,r,a,n,s)=>{if(!a&&r)return t.formatMessage({id:"uttaksplaninfo.Uker.beskrivelseOmsorgsovertakelse"},{dato:s});if(!a&&!n)return t.formatMessage({id:"uttaksplaninfo.Uker.beskrivelseTermin"},{dato:s})},Ve=(t,r)=>r?t.formatMessage({id:"uttaksplaninfo.Uker.soker.dere"}):t.formatMessage({id:"uttaksplaninfo.Uker.soker.du"}),B=({goToPreviousDefaultStep:t,goToNextDefaultStep:r,barn:a,søkersituasjon:n,stønadskonto100:s,stønadskonto80:o})=>{const i=q(),d=X("circle"),f=x(m.PERIODE_MED_FORELDREPENGER),g=N(x(m.ANNEN_FORELDER)),D=W(m.PERIODE_MED_FORELDREPENGER),h=Pe({defaultValues:f}),p=ae=>(D(ae),r()),S=A(g)&&(g.harRettPåForeldrepengerINorge===!0||g.harRettPåForeldrepengerIEØS===!0),E=Q(a),v=ee(a),P=te(a),T=me(v,P,n.situasjon),c=T&&v&&P?re({fom:R(v).toDate(),tom:R(P).toDate()}).getAntallUttaksdager()-1:void 0,y=Y(s,a),ne=Y(o,a),j=Ve(i,S);return e.jsx(Fe,{formMethods:h,onSubmit:p,children:e.jsxs(F,{gap:"10",children:[e.jsx(De,{}),e.jsxs(F,{gap:"4",children:[e.jsxs(Ee,{name:"dekningsgrad",description:S?e.jsx(l,{id:"uttaksplaninfo.dekningsgrad.beskrivelse"}):e.jsx(l,{id:"uttaksplaninfo.dekningsgrad.beskrivelse.alene"}),label:S?e.jsx(l,{id:"uttaksplaninfo.dekningsgrad.label.deltUttak"}):e.jsx(l,{id:"uttaksplaninfo.dekningsgrad.label.ikkeDeltUttak"}),validate:[ue(i.formatMessage({id:"DekningsgradForm.MåOppgiDekningsgrad"},{soker:j}))],children:[e.jsx(Z,{value:u.HUNDRE_PROSENT,description:$(i,E,n.rolle==="far",!!v,y),children:e.jsx(l,{id:"uttaksplaninfo.49Uker",values:{antallUker:_(s)}})}),e.jsx(Z,{value:u.ÅTTI_PROSENT,description:$(i,E,n.rolle==="far",!!v,ne),children:e.jsx(l,{id:"uttaksplaninfo.59Uker",values:{antallUker:_(o)}})})]}),e.jsxs(se,{header:S?e.jsx(l,{id:"uttaksplaninfo.veileder.dekningsgrad.header"}):e.jsx(l,{id:"uttaksplaninfo.veileder.dekningsgrad.header.alene"}),children:[e.jsx(l,{id:"uttaksplaninfo.veileder.dekningsgrad"}),e.jsxs(Re,{href:ye.søknadsfrister,target:"_blank",children:[e.jsx(l,{id:"uttaksplaninfo.veileder.dekningsgrad.link"}),e.jsx(Oe,{title:"a11y-title",fontSize:"1.5rem"})]})]})]}),T&&!!c&&e.jsx(I,{padding:"4",background:"surface-alt-3-subtle",children:e.jsxs(V,{justify:"space-between",align:"start",children:[e.jsxs(F,{gap:"2",style:{width:"85%"},children:[e.jsx(M,{size:"xsmall",children:e.jsx(l,{id:"DekningsgradForm.InformasjonPrematurukerHeader",values:{soker:O(j)}})}),e.jsx(w,{children:e.jsx(l,{id:"DekningsgradForm.InformasjonPrematuruker",values:{uker:Math.floor(c/5),dager:c%5,soker:S?i.formatMessage({id:"uttaksplaninfo.Uker.soker.dere"}):i.formatMessage({id:"uttaksplaninfo.Uker.soker.deg"})}})})]}),e.jsx("div",{className:d.block,children:e.jsx(z,{height:24,width:24,color:"#005B82"})})]})}),a.antallBarn>1&&e.jsx(I,{padding:"4",background:"surface-alt-3-subtle",children:e.jsxs(V,{justify:"space-between",align:"start",children:[e.jsxs(F,{gap:"2",style:{width:"85%"},children:[e.jsxs(M,{size:"xsmall",children:[a.antallBarn===2&&e.jsx(l,{id:"DekningsgradForm.InformasjonToBarn",values:{sokerStorBokstav:O(j),soker:j}}),a.antallBarn>2&&e.jsx(l,{id:"DekningsgradForm.InformasjonFlereEnnToBarn",values:{sokerStorBokstav:O(j),soker:j}})]}),e.jsx(w,{children:e.jsx(l,{id:"DekningsgradForm.InformasjonFlerbarnUker",values:{uker80:G(u.ÅTTI_PROSENT,a.antallBarn),uker100:G(u.HUNDRE_PROSENT,a.antallBarn),soker:j}})})]}),e.jsx("div",{className:d.block,children:e.jsx(z,{height:24,width:24,color:"#005B82"})})]})}),e.jsx(Te,{goToPreviousStep:t})]})})};try{B.displayName="DekningsgradForm",B.__docgenInfo={description:"",displayName:"DekningsgradForm",props:{goToPreviousDefaultStep:{defaultValue:null,description:"",name:"goToPreviousDefaultStep",required:!0,type:{name:"() => Promise<void>"}},goToNextDefaultStep:{defaultValue:null,description:"",name:"goToNextDefaultStep",required:!0,type:{name:"() => Promise<void>"}},barn:{defaultValue:null,description:"",name:"barn",required:!0,type:{name:"Barn"}},søkersituasjon:{defaultValue:null,description:"",name:"søkersituasjon",required:!0,type:{name:"SøkersituasjonFp"}},stønadskonto100:{defaultValue:null,description:"",name:"stønadskonto100",required:!0,type:{name:"TilgjengeligStønadskonto[]"}},stønadskonto80:{defaultValue:null,description:"",name:"stønadskonto80",required:!0,type:{name:"TilgjengeligStønadskonto[]"}}}}}catch{}const U=({goToPreviousDefaultStep:t,goToNextDefaultStep:r,fornavnAnnenForelder:a,kjønnAnnenForelder:n,dekningsgrad:s,valgtStønadskonto:o})=>{const i=q(),d=X("circle"),f=W(m.PERIODE_MED_FORELDREPENGER),[g,D]=k.useState(!1),h=()=>(D(!0),f({dekningsgrad:s}),r()),p=_(o);return e.jsxs(F,{gap:"10",children:[e.jsx(I,{padding:"4",background:"surface-alt-3-subtle",children:e.jsxs(V,{justify:"space-between",align:"start",children:[e.jsxs(F,{gap:"2",style:{width:"85%"},children:[e.jsx(M,{size:"xsmall",children:e.jsx(l,{id:"DekningsgradValgtAvAnnenPartPanel.Heading",values:{uker:oe(p*5,i),dekningsgrad:s}})}),e.jsx(w,{children:n==="M"?e.jsx(l,{id:"DekningsgradValgtAvAnnenPartPanel.ValgtAvHans",values:{navn:a}}):e.jsx(l,{id:"DekningsgradValgtAvAnnenPartPanel.ValgtAvHennes",values:{navn:a}})})]}),e.jsx("div",{className:d.block,children:e.jsx(le,{height:24,width:24,color:"#005B82"})})]})}),e.jsx(Ne,{isDisabledAndLoading:g,nextButtonOnClick:h,goToPreviousStep:t})]})};try{U.displayName="DekningsgradValgtAvAnnenPartPanel",U.__docgenInfo={description:"",displayName:"DekningsgradValgtAvAnnenPartPanel",props:{goToPreviousDefaultStep:{defaultValue:null,description:"",name:"goToPreviousDefaultStep",required:!0,type:{name:"() => Promise<void>"}},goToNextDefaultStep:{defaultValue:null,description:"",name:"goToNextDefaultStep",required:!0,type:{name:"() => Promise<void>"}},fornavnAnnenForelder:{defaultValue:null,description:"",name:"fornavnAnnenForelder",required:!0,type:{name:"string"}},kjønnAnnenForelder:{defaultValue:null,description:"",name:"kjønnAnnenForelder",required:!1,type:{name:"enum",value:[{value:'"M"'},{value:'"K"'}]}},dekningsgrad:{defaultValue:null,description:"",name:"dekningsgrad",required:!0,type:{name:"enum",value:[{value:'"80"'},{value:'"100"'}]}},valgtStønadskonto:{defaultValue:null,description:"",name:"valgtStønadskonto",required:!0,type:{name:"TilgjengeligStønadskonto[]"}}}}}catch{}const Me=(t,r)=>{var s;const a=A(t)&&t.utenlandskFnr!==!0?t.fnr:void 0,n=ce(r)&&r.fnr!==void 0&&((s=r.fnr)==null?void 0:s.length)>0?r.fnr[0]:void 0;return{annenPartFødselsnummer:a,barnFødselsnummer:n,familiehendelse:he(r)}},we=t=>{const r=A(t)&&t.utenlandskFnr!==!0?t.fnr:void 0;return!(r!==void 0&&r!=="")},H=({arbeidsforhold:t,mellomlagreSøknadOgNaviger:r,avbrytSøknad:a})=>{const n=q(),s=Se(t),o=je(t,r),i=N(x(m.ANNEN_FORELDER)),d=N(x(m.OM_BARNET)),f=N(x(m.SØKERSITUASJON)),g=x(m.BARN_FRA_NESTE_SAK),D=x(m.EKSISTERENDE_SAK),h=we(i),{data:p,requestStatus:S}=ke(b.ANNEN_PART_VEDTAK,Me(i,d),h),E=fe(d,i,f,g,p,D),v=h?!1:S!==xe.FINISHED,{data:P}=K(b.STØNADSKONTOER_80,E.stønadskontoParams80,v),{data:T}=K(b.STØNADSKONTOER_100,E.stønadskontoParams100,v),c=P&&T?ve(P,T):void 0,y=p&&p.perioder.length>0;return e.jsxs(ie,{bannerTitle:n.formatMessage({id:"søknad.pageheading"}),onCancel:a,onContinueLater:o.fortsettSøknadSenere,steps:s,children:[!c&&e.jsx("div",{style:{textAlign:"center",padding:"12rem 0"},children:e.jsx(de,{size:"2xlarge"})}),c&&e.jsxs(e.Fragment,{children:[y&&A(i)&&e.jsx(U,{goToPreviousDefaultStep:o.goToPreviousDefaultStep,goToNextDefaultStep:o.goToNextDefaultStep,fornavnAnnenForelder:i.fornavn,kjønnAnnenForelder:pe(i),dekningsgrad:p.dekningsgrad===C.HUNDRE_PROSENT?u.HUNDRE_PROSENT:u.ÅTTI_PROSENT,valgtStønadskonto:c[p.dekningsgrad===C.HUNDRE_PROSENT?u.HUNDRE_PROSENT:u.ÅTTI_PROSENT]}),!y&&e.jsx(B,{goToPreviousDefaultStep:o.goToPreviousDefaultStep,goToNextDefaultStep:o.goToNextDefaultStep,barn:d,søkersituasjon:f,stønadskonto100:c[u.HUNDRE_PROSENT],stønadskonto80:c[u.ÅTTI_PROSENT]})]})]})},nt=H;try{H.displayName="PeriodeMedForeldrepengerSteg",H.__docgenInfo={description:"",displayName:"PeriodeMedForeldrepengerSteg",props:{arbeidsforhold:{defaultValue:null,description:"",name:"arbeidsforhold",required:!0,type:{name:"Arbeidsforhold[]"}},mellomlagreSøknadOgNaviger:{defaultValue:null,description:"",name:"mellomlagreSøknadOgNaviger",required:!0,type:{name:"() => Promise<void>"}},avbrytSøknad:{defaultValue:null,description:"",name:"avbrytSøknad",required:!0,type:{name:"() => void"}}}}}catch{}export{nt as P};
