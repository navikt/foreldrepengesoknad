import{Z as x,aX as M,_ as e,$ as B,c1 as ue,a1 as u,bf as j,aZ as g,ba as k,J as l,cw as G,cx as I,bj as fe,r as C,bb as J,bc as ge,cy as _,aY as A,a_ as c,cz as ce,a5 as pe,be as ve,b7 as Be,bg as H,z as je,cA as ke,bq as z,a6 as q,cB as ye,cC as he,a0 as xe,a4 as Te,C as $,a2 as R,al as be,E as Me,bp as v,aq as Ee,q as Fe,b1 as Ae,ar as Se,as as qe,b2 as De,bn as Ie,bo as Re}from"./iframe-ClSqJt5_.js";import{u as Ne}from"./api-B3hYRVNJ.js";import{u as Oe}from"./queries-BwMqeCOu.js";import{b as U,C as D,c as we}from"./FpDataContext-SvkGaKab.js";import{i as y,j as N,a as Pe,b as _e}from"./useFpNavigator-vGkufEEK.js";import{t as Ue,m as L,B as Le,C as V,D as Ve,F as Ke,G as Ge,H as Ce,a as Q,J as Je,g as He,o as ze,K as $e}from"./annenForelderUtils-C2TyKNHh.js";import{R as K}from"./RegistrertePersonalia-ByvYXIC8.js";const Qe="2022-08-17",Xe=[{fom:"2022-12-12",tom:"2023-02-17",kontoType:"FEDREKVOTE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},samtidigUttak:100,flerbarnsdager:!1},{fom:"2023-02-20",tom:"2023-03-05",kontoType:"FELLESPERIODE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},samtidigUttak:50,flerbarnsdager:!1},{fom:"2023-03-20",tom:"2023-03-31",kontoType:"FEDREKVOTE",resultat:{innvilget:!0,trekkerMinsterett:!0,trekkerDager:!0,årsak:"ANNET"},flerbarnsdager:!1}],Ze="HUNDRE",ht={termindato:Qe,perioder:Xe,dekningsgrad:Ze};l.extend(G);l.extend(I);const X=({valgteRegistrerteBarn:t,skalInkludereTermindato:a})=>{const r=x(),{control:n}=M(),o=t.every(i=>!i.dødsdato),s=[...t].sort(Ue),d=s.map(i=>i.fødselsdato),m=s[0].fødselsdato;return e.jsxs(e.Fragment,{children:[e.jsxs(B,{gap:"2",children:[e.jsx(ue,{children:e.jsx(u,{id:"omBarnet.valgteBarn.tittel",values:{antallBarn:s.length}})}),o?s.map(i=>e.jsx(K,{person:i,fødselsdatoForVisning:L([i.fødselsdato]),visEtternavn:!1},i.fnr)):e.jsx(K,{person:s[0],fødselsdatoForVisning:L(d),altTekstHvisUkjentNavn:Le(void 0,d,s.length,r),visEtternavn:!1})]}),a&&e.jsx(j,{name:"termindato",control:n,label:r.formatMessage({id:"omBarnet.termindato.født"}),defaultMonth:m,minDate:l(m).subtract(1,"months").toDate(),maxDate:l(m).add(6,"months").toDate(),validate:[g(r.formatMessage({id:"valideringsfeil.omBarnet.termindato.duMåOppgi"})),k(r.formatMessage({id:"valideringsfeil.omBarnet.termindato.ugyldigDatoFormat"})),i=>{if(!l(i).subtract(6,"months").isSameOrBefore(l(m),"day"))return r.formatMessage({id:"valideringsfeil.omBarnet.termindato.forLangtFremITid"});if(!l(i).add(1,"months").isSameOrAfter(l(m),"day"))return r.formatMessage({id:"valideringsfeil.omBarnet.termindato.forLangtTilbakeITid"})}]})]})};X.__docgenInfo={description:"",methods:[],displayName:"ValgteRegistrerteBarn",props:{valgteRegistrerteBarn:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: AnnenForelderFrontend;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}},{key:"kjønn",value:{name:"union",raw:"'M' | 'K' | 'U'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"},{name:"literal",value:"'U'"}],required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"dødsdato",value:{name:"string",required:!1}},{key:"annenForelder",value:{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
    fødselsdato?: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}},{key:"fødselsdato",value:{name:"string",required:!1}}]},required:!1}}]}}],raw:"BarnFrontend[]"},description:""},skalInkludereTermindato:{required:!0,tsType:{name:"boolean"},description:""}}};const We=(t,a)=>r=>{if(!a)return;const n=l(r).startOf("day").add(15,"year");return l(a).isBetween(r,n,null,"[]")?void 0:t},Ye=t=>{switch(t){case 1:return e.jsx(u,{id:"omBarnet.fødselsdato.adopsjon.1"});case 2:return e.jsx(u,{id:"omBarnet.fødselsdato.adopsjon.2"});case 3:return e.jsx(u,{id:"omBarnet.fødselsdato.adopsjon.3"});case 4:return e.jsx(u,{id:"omBarnet.fødselsdato.adopsjon.4"});case 5:return e.jsx(u,{id:"omBarnet.fødselsdato.adopsjon.5"});case 6:return e.jsx(u,{id:"omBarnet.fødselsdato.adopsjon.6"});case 7:return e.jsx(u,{id:"omBarnet.fødselsdato.adopsjon.7"});case 8:return e.jsx(u,{id:"omBarnet.fødselsdato.adopsjon.8"});case 9:return e.jsx(u,{id:"omBarnet.fødselsdato.adopsjon.9"});default:throw new Error("Antall barn ikke supportert: "+t)}},Z=({adopsjonsdato:t,antallBarn:a,antallBarnDropDown:r})=>{const n=x(),{control:o}=M(),{fields:s,remove:d,append:m}=fe({control:o,name:"fødselsdatoer"});return C.useEffect(()=>{if(!a||a===3&&!r)return;const i=a<3||!r?a:Number.parseInt(r,10),f=s.length-i;f>0&&[...new Array(f)].forEach((h,p)=>{d(s.length-p-1)}),f<0&&[...new Array(i-s.length)].forEach(()=>{m({dato:void 0})})},[a,r,m,s.length,d]),e.jsx(B,{gap:"10",children:s.map((i,f)=>e.jsx(j,{control:o,name:`fødselsdatoer.${f}.dato`,minDate:l(t).subtract(15,"years").toDate(),maxDate:t&&_(t)?l(t).toDate():l(),defaultMonth:t&&_(t)?t:l(),label:s.length===1?n.formatMessage({id:"omBarnet.fødselsdato"}):Ye(f+1),validate:[g(n.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.duMåOppgi"})),k(n.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.ugyldigDatoFormat"})),J(n.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.måVæreIdagEllerTidligere"})),ge(n.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.måVæreFørAdopsjonsdato"}),t),We(n.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.ikkeMerEnn15År3MndTilbake"}),t)]},i.id))})};Z.__docgenInfo={description:"",methods:[],displayName:"FødselsdatoerFieldArray",props:{antallBarn:{required:!1,tsType:{name:"number"},description:""},antallBarnDropDown:{required:!1,tsType:{name:"string"},description:""},adopsjonsdato:{required:!1,tsType:{name:"string"},description:""}}};l.extend(I);const W=({søknadGjelderEtNyttBarn:t})=>{const a=x(),r=M(),n=r.watch("adopsjonAvEktefellesBarn"),o=r.watch("antallBarn"),s=r.watch("antallBarnSelect"),d=r.watch("adopsjonsdato"),m=r.watch("adoptertIUtlandet"),i=r.watch("fødselsdatoer");return e.jsxs(e.Fragment,{children:[e.jsxs(A,{name:"adopsjonAvEktefellesBarn",control:r.control,label:a.formatMessage({id:"omBarnet.adopsjonGjelder"}),validate:[g(a.formatMessage({id:"valideringsfeil.omBarnet.adopsjonGjelder.duMåOppgi"}))],children:[e.jsx(c,{value:!0,children:"Ja"}),e.jsx(c,{value:!1,children:"Nei"})]}),e.jsxs(B,{gap:"4",children:[e.jsx(j,{name:"adopsjonsdato",control:r.control,label:n?a.formatMessage({id:"omBarnet.adopsjonsdato.stebarn"}):a.formatMessage({id:"omBarnet.adopsjonsdato.annetBarn"}),validate:[g(a.formatMessage({id:"valideringsfeil.omBarnet.adopsjonsdato.duMåOppgi"})),k(a.formatMessage({id:"valideringsfeil.omBarnet.adopsjonsdato.ugyldigDatoFormat"}))]}),e.jsx(ce,{padding:"4",background:"surface-alt-3-subtle",borderRadius:"medium",children:e.jsxs(pe,{gap:"2",children:[e.jsx(ve,{height:24,width:24,color:"#005B82"}),e.jsx(B,{gap:"2",style:{width:"85%"},children:e.jsx(Be,{children:e.jsx(u,{id:"omBarnet.opplaste.bekreftelse"})})})]})})]}),t&&e.jsxs(e.Fragment,{children:[e.jsxs(A,{name:"antallBarn",control:r.control,label:a.formatMessage({id:"omBarnet.antallBarn.adopsjon.født"}),validate:[g(a.formatMessage({id:"valideringsfeil.omBarnet.adopsjon.født.duMåOppgi"}))],children:[e.jsx(c,{value:1,children:e.jsx(u,{id:"omBarnet.radiobutton.ettBarn"})}),e.jsx(c,{value:2,children:e.jsx(u,{id:"omBarnet.radiobutton.toBarn"})}),e.jsx(c,{value:3,children:e.jsx(u,{id:"omBarnet.radiobutton.flere"})})]}),o===3&&e.jsxs(H,{name:"antallBarnSelect",control:r.control,label:"Antall barn",children:[e.jsx("option",{value:"3",children:"3"}),e.jsx("option",{value:"4",children:"4"}),e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"6",children:"6"}),e.jsx("option",{value:"7",children:"7"}),e.jsx("option",{value:"8",children:"8"}),e.jsx("option",{value:"9",children:"9"})]}),e.jsx(Z,{adopsjonsdato:d,antallBarn:o,antallBarnDropDown:s})]}),n===!1&&!je(d)&&e.jsxs(e.Fragment,{children:[e.jsxs(A,{name:"adoptertIUtlandet",control:r.control,label:a.formatMessage({id:"omBarnet.adopteresFraUtlandet"}),validate:[g(a.formatMessage({id:"valideringsfeil.omBarnet.adopteresFraUtlandet.duMåOppgi"}))],children:[e.jsx(c,{value:!0,children:"Ja"}),e.jsx(c,{value:!1,children:"Nei"})]}),m===!0&&e.jsx(j,{name:"ankomstdato",control:r.control,minDate:i?l(i[0].dato).toDate():void 0,maxDate:l().add(6,"months").toDate(),label:a.formatMessage({id:"omBarnet.ankomstDato"}),validate:[g(a.formatMessage({id:"valideringsfeil.omBarnet.adopsjonsdato.duMåOppgi"})),k(a.formatMessage({id:"valideringsfeil.omBarnet.adopsjonsdato.ugyldigDatoFormat"})),f=>{var h;return((h=i[0])==null?void 0:h.dato)!==void 0&&!l(i[0].dato).isSameOrBefore(f,"day")?a.formatMessage({id:"valideringsfeil.omBarnet.ankomstDato.førFødselsdato"}):void 0}]})]})]})};W.__docgenInfo={description:"",methods:[],displayName:"AdopsjonPanel",props:{søknadGjelderEtNyttBarn:{required:!0,tsType:{name:"boolean"},description:""}}};l.extend(G);l.extend(I);const Y=()=>{const t=x(),a=M(),{antallBarn:r,erBarnetFødt:n,fødselsdatoer:o}=a.watch(),s=r>1?"omBarnet.fødselsdato.flereBarn":"omBarnet.fødselsdato",d=o?o[0].dato:void 0;return e.jsxs(e.Fragment,{children:[e.jsx(j,{name:"termindato",control:a.control,minDate:d?l(d).subtract(1,"months").toDate():void 0,maxDate:d?l(d).add(6,"months").toDate():void 0,label:t.formatMessage({id:"omBarnet.termindato.født"}),useStrategyAbsolute:!0,validate:[g(t.formatMessage({id:"valideringsfeil.omBarnet.termindato.duMåOppgi"})),k(t.formatMessage({id:"valideringsfeil.omBarnet.termindato.ugyldigDatoFormat"})),m=>{if(d){if(!l(m).subtract(6,"months").isSameOrBefore(l(d),"day"))return t.formatMessage({id:"valideringsfeil.omBarnet.termindato.forLangtFremITid"});if(!l(m).add(1,"months").isSameOrAfter(l(d),"day"))return t.formatMessage({id:"valideringsfeil.omBarnet.termindato.forLangtTilbakeITid"})}}]}),n&&e.jsx(j,{name:"fødselsdatoer.0.dato",control:a.control,label:t.formatMessage({id:s}),minDate:l().subtract(3,"years").toDate(),maxDate:l().toDate(),useStrategyAbsolute:!0,validate:[g(t.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.duMåOppgi"})),k(t.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.ugyldigDatoFormat"})),J(t.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.måVæreIdagEllerTidligere"})),m=>l(m).isBefore(l().subtract(3,"years").subtract(4,"months"),"day")?t.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.ikkeMerEnn3År3MndTilbake"}):void 0]})]})};Y.__docgenInfo={description:"",methods:[],displayName:"ErFødtPanel"};const et=(t,a)=>y(t)?a?Q(a):!1:!0,ee=({søkersituasjon:t,arbeidsforhold:a,søknadGjelderEtNyttBarn:r})=>{const n=x(),o=M(),s=o.watch("termindato"),d=s?!V(s):!1,m=y(t.rolle),i=m&&s,f=et(t.rolle,s),h=s&&ke.test(s)?N(a,t.situasjon==="adopsjon",y(t.rolle),s):a;return e.jsxs(e.Fragment,{children:[r&&e.jsxs(B,{gap:"2",children:[e.jsx(j,{name:"termindato",control:o.control,label:n.formatMessage({id:"omBarnet.termindato.termin"}),minDate:Ke,maxDate:Ve,useStrategyAbsolute:!0,validate:[g(n.formatMessage({id:"valideringsfeil.omBarnet.termindato.duMåOppgi"})),k(n.formatMessage({id:"valideringsfeil.omBarnet.termindato.ugyldigDatoFormat"})),p=>{if(!Ge(p))return n.formatMessage({id:"valideringsfeil.omBarnet.termindato.forTidlig"});if(!V(p))return n.formatMessage({id:"valideringsfeil.omBarnet.termindato.duMåVæreIUke22"})}]}),!m&&e.jsx(z,{header:n.formatMessage({id:"omBarnet.termindato.åpneLabel"}),children:e.jsxs(B,{gap:"2",children:[e.jsx(q,{children:e.jsx(u,{id:"omBarnet.termindato.innhold.del1"})}),e.jsx(q,{children:e.jsx(u,{id:"omBarnet.termindato.innhold.del2"})})]})})]}),r&&h.length===0&&f&&e.jsx(j,{name:"terminbekreftelsedato",control:o.control,label:n.formatMessage({id:"omBarnet.terminbekreftelseDato"}),maxDate:Ce,minDate:l(s).subtract(18,"week").subtract(3,"day").startOf("day").toDate(),useStrategyAbsolute:!0,validate:[g(n.formatMessage({id:"valideringsfeil.omBarnet.terminbekreftelseDato.duMåOppgi"})),k(n.formatMessage({id:"valideringsfeil.omBarnet.terminbekreftelseDato.ugyldigDatoFormat"})),ye(n.formatMessage({id:"valideringsfeil.omBarnet.terminbekreftelseDato.kanIkkeVæreFremITid"})),he(n.formatMessage({id:"valideringsfeil.omBarnet.terminbekreftelseDato.terminbekreftelsedatoMåVæreUtstedetEtter22Svangerskapsuke"}),s)]}),(d||i&&!f)&&e.jsx(xe,{variant:"warning",children:e.jsxs(B,{gap:"4",children:[e.jsx(Te,{level:"3",size:"small",children:e.jsx(u,{id:"omBarnet.termindato.erForTidligTilÅSøkePåTermin.heading"})}),e.jsx(q,{children:e.jsx(u,{id:"omBarnet.termindato.erForTidligTilÅSøkePåTermin.innhold"})})]})})]})};ee.__docgenInfo={description:"",methods:[],displayName:"TerminPanel",props:{søkersituasjon:{required:!0,tsType:{name:"Søkersituasjon"},description:""},arbeidsforhold:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    arbeidsgiverNavn: string;
    stillingsprosent: number;
    fom: string;
    tom?: string;
}`,signature:{properties:[{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"stillingsprosent",value:{name:"number",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}}]}}],raw:"Arbeidsforhold[]"},description:""},søknadGjelderEtNyttBarn:{required:!1,tsType:{name:"boolean"},description:""}}};const tt=(t,a,r)=>r===!0?t.formatMessage({id:"omBarnet.antallBarn.født"}):a?t.formatMessage({id:"omBarnet.antallBarn.termin.far"}):t.formatMessage({id:"omBarnet.antallBarn.termin"}),rt=(t,a,r)=>r!==!1?t.formatMessage({id:"valideringsfeil.omBarnet.antallFått.duMåOppgi"}):a?t.formatMessage({id:"valideringsfeil.omBarnet.antallVenter.duMåOppgi"}):t.formatMessage({id:"valideringsfeil.omBarnet.antallVenterDu.duMåOppgi"}),te=({søkersituasjon:t,erFarEllerMedmor:a,søknadGjelderEtNyttBarn:r,arbeidsforhold:n})=>{const o=x(),s=M(),d=s.watch("erBarnetFødt"),m=s.watch("antallBarn"),i=y(t.rolle);return e.jsxs(e.Fragment,{children:[r&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs(A,{name:"erBarnetFødt",control:s.control,label:o.formatMessage({id:"omBarnet.erBarnetFødt"}),validate:[g(o.formatMessage({id:"valideringsfeil.omBarnet.erBarnetFødt.duMåOppgi"}))],children:[e.jsx(c,{value:!0,children:"Ja"}),e.jsx(c,{value:!1,children:"Nei"})]}),!a&&e.jsx(z,{header:o.formatMessage({id:"omBarnet.erBarnetFødt.readMore.header"}),children:e.jsxs(B,{gap:"4",children:[e.jsx("div",{children:e.jsx(u,{id:"omBarnet.erBarnetFødt.readMore.innhold.del1"})}),e.jsx(u,{id:"omBarnet.erBarnetFødt.readMore.innhold.del2"})]})})]}),e.jsxs(A,{name:"antallBarn",control:s.control,label:tt(o,i,d),validate:[g(rt(o,i,d))],children:[e.jsx(c,{value:1,children:e.jsx(u,{id:"omBarnet.radiobutton.ettBarn"})}),e.jsx(c,{value:2,children:e.jsx(u,{id:"omBarnet.radiobutton.tvillinger"})}),e.jsx(c,{value:3,children:e.jsx(u,{id:"omBarnet.radiobutton.flere"})})]}),m!==void 0&&m===3&&e.jsxs(H,{name:"antallBarnSelect",control:s.control,label:"Antall barn",children:[e.jsx("option",{value:"3",children:"3"}),e.jsx("option",{value:"4",children:"4"}),e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"6",children:"6"}),e.jsx("option",{value:"7",children:"7"}),e.jsx("option",{value:"8",children:"8"}),e.jsx("option",{value:"9",children:"9"})]})]}),d!==!0&&e.jsx(ee,{søkersituasjon:t,arbeidsforhold:n,søknadGjelderEtNyttBarn:r}),d===!0&&r&&e.jsx(Y,{})]})};te.__docgenInfo={description:"",methods:[],displayName:"FødselPanel",props:{søkersituasjon:{required:!0,tsType:{name:"Søkersituasjon"},description:""},erFarEllerMedmor:{required:!0,tsType:{name:"boolean"},description:""},søknadGjelderEtNyttBarn:{required:!0,tsType:{name:"boolean"},description:""},arbeidsforhold:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    arbeidsgiverNavn: string;
    stillingsprosent: number;
    fom: string;
    tom?: string;
}`,signature:{properties:[{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"stillingsprosent",value:{name:"number",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}}]}}],raw:"Arbeidsforhold[]"},description:""}}};const at=t=>t.erBarnetFødt,nt=t=>t.erBarnetFødt===!1,re=t=>t.adopsjonAvEktefellesBarn,ae=t=>t.adopsjonAvEktefellesBarn===!1,st=(t,a,r,n)=>{if(t!==void 0&&a==="fødsel")return{...t,type:n?v.UFØDT:v.FØDT,termindato:r.termindato,fødselsdatoer:t.fødselsdatoer,antallBarn:t.antallBarn};if(re(r))return{...t,type:v.ADOPTERT_STEBARN,adopsjonsdato:r.adopsjonsdato};if(ae(r))return{...t,type:v.ADOPTERT_ANNET_BARN,adopsjonsdato:r.adopsjonsdato,adoptertIUtlandet:r.adoptertIUtlandet,ankomstdato:r.adoptertIUtlandet===!0?r.ankomstdato:void 0};throw new Error("Unreachable code")},ot=(t,a,r,n,o,s)=>{if(n!==void 0)return st(n,o,t,s);if(at(t))return{type:v.FØDT,fødselsdatoer:t.fødselsdatoer.map(d=>d.dato),antallBarn:t.antallBarn<3?t.antallBarn:parseInt(t.antallBarnSelect,10),termindato:Je(t.termindato)?t.termindato:void 0};if(nt(t))return N(a,r.situasjon==="adopsjon",y(r.rolle),t.termindato).length===0?{type:v.UFØDT,terminbekreftelsedato:t.terminbekreftelsedato,antallBarn:t.antallBarn<3?t.antallBarn:parseInt(t.antallBarnSelect,10),termindato:t.termindato}:{type:v.UFØDT,antallBarn:t.antallBarn<3?t.antallBarn:parseInt(t.antallBarnSelect,10),termindato:t.termindato};if(re(t))return{type:v.ADOPTERT_STEBARN,adopsjonsdato:t.adopsjonsdato,antallBarn:t.antallBarn<3?t.antallBarn:parseInt(t.antallBarnSelect,10),fødselsdatoer:t.fødselsdatoer.map(d=>d.dato)};if(ae(t))return{type:v.ADOPTERT_ANNET_BARN,fødselsdatoer:t.fødselsdatoer.map(d=>d.dato),adopsjonsdato:t.adopsjonsdato,antallBarn:t.antallBarn<3?t.antallBarn:parseInt(t.antallBarnSelect,10),adoptertIUtlandet:t.adoptertIUtlandet,ankomstdato:t.adoptertIUtlandet===!0?t.ankomstdato:void 0};throw new Error("Unreachable code")},E=(t,a)=>t?3:a.antallBarn,F=(t,a)=>t?a.antallBarn.toString():void 0,it=(t,a,r,n)=>{if(!r)return{fødselsdatoer:[{dato:void 0}]};const o=r.antallBarn>2;return $(r)?{erBarnetFødt:!0,antallBarn:E(o,r),antallBarnSelect:F(o,r),fødselsdatoer:r.fødselsdatoer.map(s=>({dato:s})),termindato:n||r.termindato}:R(r)?N(t,a.situasjon==="adopsjon",y(a.rolle),n||r.termindato).length===0?{erBarnetFødt:!1,antallBarn:E(o,r),antallBarnSelect:F(o,r),terminbekreftelsedato:r.terminbekreftelsedato,termindato:n||r.termindato}:{erBarnetFødt:!1,antallBarn:E(o,r),antallBarnSelect:F(o,r),termindato:n||r.termindato}:be(r)?{adopsjonAvEktefellesBarn:!1,adopsjonsdato:r.adopsjonsdato,antallBarn:E(o,r),antallBarnSelect:F(o,r),fødselsdatoer:r.fødselsdatoer.map(s=>({dato:s})),adoptertIUtlandet:r.adoptertIUtlandet,ankomstdato:r.ankomstdato}:Me(r)?{adopsjonAvEktefellesBarn:!0,adopsjonsdato:r.adopsjonsdato,antallBarn:E(o,r),antallBarnSelect:F(o,r),fødselsdatoer:r.fødselsdatoer.map(s=>({dato:s}))}:{fødselsdatoer:[{dato:void 0}]}},dt=t=>{const a=l(t).add(12,"weeks");return l(a).isAfter(new Date,"day")},lt=(t,a)=>a&&!R(a)&&a.fnr!==void 0&&a.fnr.length>0?a.fnr.includes(t.fnr):!1,mt=(t,a,r,n)=>{if(n==="adopsjon")return!1;let o;if(r!==void 0&&r.length>0&&(o=$e(r).fødselsdato),!a&&!o)return!1;const s=o??a;return y(t)?Q(s)?!0:dt(s):!0},ut=t=>{const a=Oe(),r=Ne({...a,select:n=>n==null?void 0:n.termindato});return r.isLoading?e.jsx("div",{style:{textAlign:"center",padding:"12rem 0"},children:e.jsx(Ee,{size:"2xlarge"})}):e.jsx(ft,{...t,termindato:r.data})},ft=({søkerInfo:t,søknadGjelderNyttBarn:a,mellomlagreSøknadOgNaviger:r,avbrytSøknad:n,termindato:o})=>{const s=x(),d=Pe(t.arbeidsforhold),m=_e(t.arbeidsforhold,r),i=Fe(U(D.SØKERSITUASJON)),f=U(D.OM_BARNET),h=we(D.OM_BARNET),{arbeidsforhold:p,søker:O}=t,ne=y(i.rolle),se=f?He(f):void 0,oe=f&&$(f)?O.barn.filter(b=>b.fnr===void 0&&ze(b.fødselsdato,se)):[],T=!a&&f&&!R(f)?O.barn.filter(b=>lt(b,f)).concat(oe):void 0,S=!a&&(T===void 0||T.length===0),ie=b=>{const me=ot(b,p,i,!a&&!S?f:void 0,i.situasjon,S);return h(me),m.goToNextDefaultStep()},de=C.useMemo(()=>it(p,i,f,o),[p,f,o]),w=Ae({shouldUnregister:!0,defaultValues:de}),P=w.watch("fødselsdatoer"),le=mt(i.rolle,P?P[0].dato:void 0,T,i.situasjon);return e.jsx(Se,{pageTitle:s.formatMessage({id:"søknad.pageheading"}),children:e.jsx(qe,{steps:d,children:e.jsx(De,{formMethods:w,onSubmit:ie,children:e.jsxs(B,{gap:"10",children:[e.jsx(Ie,{}),T&&T.length>0&&e.jsx(X,{valgteRegistrerteBarn:T,skalInkludereTermindato:le}),i.situasjon==="fødsel"&&e.jsx(te,{erFarEllerMedmor:ne,søknadGjelderEtNyttBarn:S||a,søkersituasjon:i,arbeidsforhold:p}),i.situasjon==="adopsjon"&&e.jsx(W,{søknadGjelderEtNyttBarn:S||a}),e.jsx(Re,{goToPreviousStep:m.goToPreviousDefaultStep,onAvsluttOgSlett:n,onFortsettSenere:m.fortsettSøknadSenere})]})})})})};ut.__docgenInfo={description:"",methods:[],displayName:"OmBarnetSteg",props:{søkerInfo:{required:!0,tsType:{name:"signature",type:"object",raw:`{
    søker: PersonFrontend;
    arbeidsforhold: Arbeidsforhold[];
}`,signature:{properties:[{key:"søker",value:{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
    kjønn: Kjønn;
    fødselsdato: string;
    bankkonto?: Bankkonto;
    barn: BarnFrontend[];
    sivilstand?: Sivilstand;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}},{key:"kjønn",value:{name:"union",raw:"'M' | 'K' | 'U'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"},{name:"literal",value:"'U'"}],required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"bankkonto",value:{name:"signature",type:"object",raw:`{
    kontonummer?: string;
    banknavn?: string;
}`,signature:{properties:[{key:"kontonummer",value:{name:"string",required:!1}},{key:"banknavn",value:{name:"string",required:!1}}]},required:!1}},{key:"barn",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: AnnenForelderFrontend;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}},{key:"kjønn",value:{name:"union",raw:"'M' | 'K' | 'U'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"},{name:"literal",value:"'U'"}],required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"dødsdato",value:{name:"string",required:!1}},{key:"annenForelder",value:{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
    fødselsdato?: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}},{key:"fødselsdato",value:{name:"string",required:!1}}]},required:!1}}]}}],raw:"BarnFrontend[]",required:!0}},{key:"sivilstand",value:{name:"signature",type:"object",raw:`{
    type?: SivilstandType;
}`,signature:{properties:[{key:"type",value:{name:"union",raw:`| 'UOPPGITT'
| 'UGIFT'
| 'GIFT'
| 'ENKE_ELLER_ENKEMANN'
| 'SKILT'
| 'SEPARERT'
| 'REGISTRERT_PARTNER'
| 'SEPARERT_PARTNER'
| 'SKILT_PARTNER'
| 'GJENLEVENDE_PARTNER'`,elements:[{name:"literal",value:"'UOPPGITT'"},{name:"literal",value:"'UGIFT'"},{name:"literal",value:"'GIFT'"},{name:"literal",value:"'ENKE_ELLER_ENKEMANN'"},{name:"literal",value:"'SKILT'"},{name:"literal",value:"'SEPARERT'"},{name:"literal",value:"'REGISTRERT_PARTNER'"},{name:"literal",value:"'SEPARERT_PARTNER'"},{name:"literal",value:"'SKILT_PARTNER'"},{name:"literal",value:"'GJENLEVENDE_PARTNER'"}],required:!1}}]},required:!1}}]},required:!0}},{key:"arbeidsforhold",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    arbeidsgiverNavn: string;
    stillingsprosent: number;
    fom: string;
    tom?: string;
}`,signature:{properties:[{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"stillingsprosent",value:{name:"number",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}}]}}],raw:"Arbeidsforhold[]",required:!0}}]}},description:""},søknadGjelderNyttBarn:{required:!0,tsType:{name:"boolean"},description:""},mellomlagreSøknadOgNaviger:{required:!0,tsType:{name:"signature",type:"function",raw:"() => Promise<void>",signature:{arguments:[],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},avbrytSøknad:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};export{ut as O,ht as a};
