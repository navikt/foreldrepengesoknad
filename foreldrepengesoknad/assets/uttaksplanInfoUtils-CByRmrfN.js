import{r as l}from"./index-DVXBtNgz.js";import{u as y,R as T}from"./useRequest-DZS6KsAA.js";import{j as S}from"./jsx-runtime-_e34SzbC.js";import{d as c,A as K}from"./Tidsperioden-DvpcehKD.js";import"./index--IHLcpuH.js";import{v as E,w as p,x,y as B,z as C}from"./useFpNavigator-CtidwNTU.js";import{i as D,h as I,j as F,g as M}from"./index-BI6FGWNT.js";import"./_baseToString-CUxX9raG.js";import"./_createSet-BJbToUt4.js";import{c as k}from"./barnUtils-DifOS7_2.js";import{c as V}from"./eksisterendeSakUtils-qSGk6JkI.js";var A=(e=>(e.ANNEN_PART_VEDTAK="ANNEN_PART_VEDTAK",e.NESTE_SAK_ANNEN_PART_VEDTAK="NESTE_SAK_ANNEN_PART_VEDTAK",e.STØNADSKONTOER="STØNADSKONTOER",e))(A||{});const O={},R=l.createContext(O),_=l.createContext(void 0),j=({children:e,initialState:t})=>{const[r,s]=l.useReducer((n,a)=>{switch(a.type){case"update":return{...n,[a.key]:[a.hash,a.data]};case"reset":return{};default:throw new Error}},t||O);return S.jsx(R.Provider,{value:r,children:S.jsx(_.Provider,{value:s,children:e})})},w=(e,t)=>{const s=l.useContext(R)[e];return s&&s[0]===t?s[1]:void 0},H=(e,t)=>{const r=l.useContext(_);return s=>{r&&r({type:"update",key:e,hash:t,data:s})}};j.__docgenInfo={description:"",methods:[],displayName:"FpApiDataContext",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},initialState:{required:!1,tsType:{name:"signature",type:"object",raw:`{
    [FpApiDataType.ANNEN_PART_VEDTAK]?: [number, AnnenPartVedtakDTO];
    [FpApiDataType.NESTE_SAK_ANNEN_PART_VEDTAK]?: [number, AnnenPartVedtakDTO];
    [FpApiDataType.STØNADSKONTOER]?: [number, TilgjengeligeStønadskontoer];
}`,signature:{properties:[]}},description:""}}};const U=e=>Object.keys(e).sort((t,r)=>t.localeCompare(r)).reduce((t,r)=>(t[r]=e[r],t),{}),q=e=>{let t=0;for(let r=0;r<e.length;r++){const s=e.charCodeAt(r);t=(t<<5)-t+s,t=t&t}return t},G={[A.ANNEN_PART_VEDTAK]:"/rest/innsyn/v2/annenPartVedtak",[A.NESTE_SAK_ANNEN_PART_VEDTAK]:"/rest/innsyn/v2/annenPartVedtak",[A.STØNADSKONTOER]:"/rest/konto"},it=(e,t,r)=>{var m;const s=q(JSON.stringify(U(t))),n=w(e,s),a=!!n,i=H(e,s),{data:o,requestStatus:g,error:u}=y(G[e],t,{config:{withCredentials:e!==A.STØNADSKONTOER},isSuspended:a||r});return l.useEffect(()=>{o&&i(o)},[o]),(m=u==null?void 0:u.message)!=null&&m.includes("Ugyldig ident")?{data:void 0,requestStatus:T.FINISHED,error:null}:{data:a?n:o,requestStatus:a?T.FINISHED:g,error:u}},L=(e,t)=>e?!0:E(t)?!!t.harRettPåForeldrepengerINorge:!1,J=(e,t)=>e?E(t)?!!t.harRettPåForeldrepengerINorge:!1:!0,z=(e,t)=>{if(D(e)||M(e))return t||e.termindato},Y=(e,t)=>t||e||void 0,Q=(e,t,r)=>e&&r?r:t,W=(e,t,r,s,n)=>r||s?"ALENEOMSORG":e&&t||n?"BEGGE_RETT":"BARE_SØKER_RETT",ut=(e,t,r,s,n,a)=>{const i=E(t)?t:void 0,o=p(r.rolle),g=x(o,(i==null?void 0:i.erAleneOmOmsorg)||!1,t),u=B(!o,(i==null?void 0:i.erAleneOmOmsorg)||!1,t),m=s!==void 0?s.startdatoFørsteStønadsperiode:void 0,d=V(n,e,o,k(e),m),h=Q(o,e.antallBarn,d==null?void 0:d.grunnlag.antallBarn),P=Y(a==null?void 0:a.grunnlag.termindato,d==null?void 0:d.grunnlag.termindato),f=p(r.rolle),N=p(r.rolle),v=E(t)&&t.harRettPåForeldrepengerIEØS;return{rettighetstype:W(L(f,t),J(f,t),u||!1,g||!1,v||!1),brukerrolle:N?"FAR":"MOR",antallBarn:h.toString(),fødselsdato:D(e)?e.fødselsdatoer[0]:void 0,termindato:z(e,P),omsorgsovertakelseDato:I(e)||F(e)?e.adopsjonsdato:void 0,morHarUføretrygd:C(t,N),familieHendelseDatoNesteSak:m}},dt=(e,t,r)=>{if(e===void 0||t===void 0||r!=="fødsel")return!1;const s=c(e).isSameOrAfter(c(new Date("2019-07-01")),"day");return c(e).add(7,"weeks").add(3,"days").isBefore(c(t),"days")&&s},ct=(e,t)=>e&&t?(100-parseInt(t,10)).toString():"100",lt=(e,t)=>K({fom:c(e).toDate(),tom:c(t).toDate()}).getAntallUttaksdager()-1;export{j as F,A as a,lt as b,Q as c,Y as d,ct as e,ut as g,dt as s,it as u};
