import{j as e}from"./jsx-runtime-Cw0GR0a5.js";import{u as _,C as A,a as ie}from"./FpDataContext-BUlrLNeW.js";import{i as v,g as E,u as le,a as me}from"./useFpNavigator-CWp5w5vB.js";import{d as i,q as V,r as I,s as N,t as fe}from"./UttaksdagenString-BBvBeCjL.js";import{r as L}from"./index-CTjT7uj6.js";import{a as h,h as S,i as ge,b as T,d as C,u as ue,R as pe,E as ce,S as Be}from"./ErrorSummaryHookForm-Bkupxcn1.js";import{u as y,L as je,M as f,a as ve,B as D,H as he}from"./Label-Da2udS5t.js";import{s as xe,d as U,x as ke,y as R,z as ye,A as Me,B as Fe,C as Te,D as H,E as Se,g as be,e as Ae,F as De}from"./barnUtils-Cmf26s4I.js";import{c as u,d as x,e as K,t as Ee,R as p,l as Ie,z as Oe,V as qe,p as G,W as we,A as _e,X as z,Y as O,Z as Ne,K as Ue,B,n as Re,b as Pe}from"./Uttaksplan-Bzo3h608.js";import{R as P}from"./RegistrertePersonalia-C09CDGSt.js";import{V as j,H as Ve}from"./VStack-DPZ5Pzm1.js";i.extend(V);i.extend(I);const J=({valgteRegistrerteBarn:t,skalInkludereTermindato:r})=>{const a=y(),n=t.every(d=>!d.dødsdato),o=[...t].sort(xe),l=o.map(d=>d.fødselsdato),s=o[0].fødselsdato;return e.jsxs(e.Fragment,{children:[e.jsxs(j,{gap:"2",children:[e.jsx(je,{children:e.jsx(f,{id:"omBarnet.valgteBarn.tittel",values:{antallBarn:o.length}})}),n?o.map(d=>e.jsx(P,{person:d,fødselsdatoForVisning:U([d.fødselsdato]),visEtternavn:!1},d.fnr)):e.jsx(P,{person:o[0],fødselsdatoForVisning:U(l),altTekstHvisUkjentNavn:ke(void 0,l,o.length,a),visEtternavn:!1})]}),r&&e.jsx(h,{name:"termindato",label:a.formatMessage({id:"omBarnet.termindato.født"}),defaultMonth:s,minDate:i(s).subtract(1,"months").toDate(),maxDate:i(s).add(6,"months").toDate(),validate:[u(a.formatMessage({id:"valideringsfeil.omBarnet.termindato.duMåOppgi"})),x(a.formatMessage({id:"valideringsfeil.omBarnet.termindato.ugyldigDatoFormat"})),d=>{if(!i(d).subtract(6,"months").isSameOrBefore(i(s),"day"))return a.formatMessage({id:"valideringsfeil.omBarnet.termindato.forLangtFremITid"});if(!i(d).add(1,"months").isSameOrAfter(i(s),"day"))return a.formatMessage({id:"valideringsfeil.omBarnet.termindato.forLangtTilbakeITid"})}]})]})};J.__docgenInfo={description:"",methods:[],displayName:"ValgteRegistrerteBarn",props:{valgteRegistrerteBarn:{required:!0,tsType:{name:"Array",elements:[{name:"intersection",raw:`{
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: SøkerAnnenForelder;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    kjønn: Kjønn;
    fødselsdato: string;
    dødsdato?: string;
    annenForelder?: SøkerAnnenForelder;
}`,signature:{properties:[{key:"kjønn",value:{name:"union",raw:"'M' | 'K'",elements:[{name:"literal",value:"'M'"},{name:"literal",value:"'K'"}],required:!0}},{key:"fødselsdato",value:{name:"string",required:!0}},{key:"dødsdato",value:{name:"string",required:!1}},{key:"annenForelder",value:{name:"intersection",raw:`{
    fødselsdato?: string;
} & PersonBase`,elements:[{name:"signature",type:"object",raw:`{
    fødselsdato?: string;
}`,signature:{properties:[{key:"fødselsdato",value:{name:"string",required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}],required:!1}}]}},{name:"signature",type:"object",raw:`{
    fnr: string;
    fornavn: string;
    mellomnavn?: string;
    etternavn: string;
}`,signature:{properties:[{key:"fnr",value:{name:"string",required:!0}},{key:"fornavn",value:{name:"string",required:!0}},{key:"mellomnavn",value:{name:"string",required:!1}},{key:"etternavn",value:{name:"string",required:!0}}]}}]}],raw:"SøkerBarn[]"},description:""},skalInkludereTermindato:{required:!0,tsType:{name:"boolean"},description:""}}};const Le=(t,r)=>a=>{if(!r)return;const n=i(a).startOf("day").add(15,"year");return i(r).isBetween(a,n,null,"[]")?void 0:t},Ce=t=>{switch(t){case 1:return e.jsx(f,{id:"omBarnet.fødselsdato.adopsjon.1"});case 2:return e.jsx(f,{id:"omBarnet.fødselsdato.adopsjon.2"});case 3:return e.jsx(f,{id:"omBarnet.fødselsdato.adopsjon.3"});case 4:return e.jsx(f,{id:"omBarnet.fødselsdato.adopsjon.4"});case 5:return e.jsx(f,{id:"omBarnet.fødselsdato.adopsjon.5"});case 6:return e.jsx(f,{id:"omBarnet.fødselsdato.adopsjon.6"});case 7:return e.jsx(f,{id:"omBarnet.fødselsdato.adopsjon.7"});case 8:return e.jsx(f,{id:"omBarnet.fødselsdato.adopsjon.8"});case 9:return e.jsx(f,{id:"omBarnet.fødselsdato.adopsjon.9"});default:throw new Error("Antall barn ikke supportert: "+t)}},W=({adopsjonsdato:t,antallBarn:r,antallBarnDropDown:a})=>{const n=y(),{control:o}=S(),{fields:l,remove:s,append:d}=ge({control:o,name:"fødselsdatoer"});return L.useEffect(()=>{if(!r||r===3&&!a)return;const m=r<3||!a?r:Number.parseInt(a,10),g=l.length-m;g>0&&[...new Array(g)].forEach((c,k)=>{s(l.length-k-1)}),g<0&&[...new Array(m-l.length)].forEach(()=>{d({dato:void 0})})},[r,a,d,l.length,s]),e.jsx(j,{gap:"10",children:l.map((m,g)=>e.jsx(h,{name:`fødselsdatoer.${g}.dato`,minDate:i(t).subtract(15,"years").toDate(),maxDate:t&&N(t)?i(t).toDate():i(),defaultMonth:t&&N(t)?t:i(),label:l.length===1?n.formatMessage({id:"omBarnet.fødselsdato"}):Ce(g+1),validate:[u(n.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.duMåOppgi"})),x(n.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.ugyldigDatoFormat"})),K(n.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.måVæreIdagEllerTidligere"})),Ee(n.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.måVæreFørAdopsjonsdato"}),t),Le(n.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.ikkeMerEnn15År3MndTilbake"}),t)]},m.id))})};W.__docgenInfo={description:"",methods:[],displayName:"FødselsdatoerFieldArray"};i.extend(I);const X=({søknadGjelderEtNyttBarn:t})=>{const r=y(),a=S(),n=a.watch("adopsjonAvEktefellesBarn"),o=a.watch("antallBarn"),l=a.watch("antallBarnSelect"),s=a.watch("adopsjonsdato"),d=a.watch("adoptertIUtlandet"),m=a.watch("fødselsdatoer");return e.jsxs(e.Fragment,{children:[e.jsxs(T,{name:"adopsjonAvEktefellesBarn",label:r.formatMessage({id:"omBarnet.adopsjonGjelder"}),validate:[u(r.formatMessage({id:"valideringsfeil.omBarnet.adopsjonGjelder.duMåOppgi"}))],children:[e.jsx(p,{value:!0,children:"Ja"}),e.jsx(p,{value:!1,children:"Nei"})]}),e.jsxs(j,{gap:"4",children:[e.jsx(h,{name:"adopsjonsdato",label:n?r.formatMessage({id:"omBarnet.adopsjonsdato.stebarn"}):r.formatMessage({id:"omBarnet.adopsjonsdato.annetBarn"}),validate:[u(r.formatMessage({id:"valideringsfeil.omBarnet.adopsjonsdato.duMåOppgi"})),x(r.formatMessage({id:"valideringsfeil.omBarnet.adopsjonsdato.ugyldigDatoFormat"}))]}),e.jsx(Ie,{padding:"4",background:"surface-alt-3-subtle",borderRadius:"medium",children:e.jsxs(Ve,{gap:"2",children:[e.jsx(Oe,{height:24,width:24,color:"#005B82"}),e.jsx(j,{gap:"2",style:{width:"85%"},children:e.jsx(ve,{children:e.jsx(f,{id:"omBarnet.opplaste.bekreftelse"})})})]})})]}),t&&e.jsxs(e.Fragment,{children:[e.jsxs(T,{name:"antallBarn",label:r.formatMessage({id:"omBarnet.antallBarn.adopsjon.født"}),validate:[u(r.formatMessage({id:"valideringsfeil.omBarnet.adopsjon.født.duMåOppgi"}))],children:[e.jsx(p,{value:1,children:e.jsx(f,{id:"omBarnet.radiobutton.ettBarn"})}),e.jsx(p,{value:2,children:e.jsx(f,{id:"omBarnet.radiobutton.toBarn"})}),e.jsx(p,{value:3,children:e.jsx(f,{id:"omBarnet.radiobutton.flere"})})]}),o===3&&e.jsxs(C,{name:"antallBarnSelect",label:"Antall barn",children:[e.jsx("option",{value:"3",children:"3"}),e.jsx("option",{value:"4",children:"4"}),e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"6",children:"6"}),e.jsx("option",{value:"7",children:"7"}),e.jsx("option",{value:"8",children:"8"}),e.jsx("option",{value:"9",children:"9"})]}),e.jsx(W,{adopsjonsdato:s,antallBarn:o,antallBarnDropDown:l})]}),n===!1&&!qe(s)&&e.jsxs(e.Fragment,{children:[e.jsxs(T,{name:"adoptertIUtlandet",label:r.formatMessage({id:"omBarnet.adopteresFraUtlandet"}),validate:[u(r.formatMessage({id:"valideringsfeil.omBarnet.adopteresFraUtlandet.duMåOppgi"}))],children:[e.jsx(p,{value:!0,children:"Ja"}),e.jsx(p,{value:!1,children:"Nei"})]}),d===!0&&e.jsx(h,{name:"ankomstdato",minDate:m?i(m[0].dato).toDate():void 0,maxDate:i().add(6,"months").toDate(),label:r.formatMessage({id:"omBarnet.ankomstDato"}),validate:[u(r.formatMessage({id:"valideringsfeil.omBarnet.adopsjonsdato.duMåOppgi"})),x(r.formatMessage({id:"valideringsfeil.omBarnet.adopsjonsdato.ugyldigDatoFormat"})),g=>{var c;return((c=m[0])==null?void 0:c.dato)!==void 0&&!i(m[0].dato).isSameOrBefore(g,"day")?r.formatMessage({id:"valideringsfeil.omBarnet.ankomstDato.førFødselsdato"}):void 0}]})]})]})};X.__docgenInfo={description:"",methods:[],displayName:"AdopsjonPanel",props:{søknadGjelderEtNyttBarn:{required:!0,tsType:{name:"boolean"},description:""}}};i.extend(V);i.extend(I);const $=()=>{const t=y(),r=S(),{antallBarn:a,erBarnetFødt:n,fødselsdatoer:o}=r.watch(),l=a>1?"omBarnet.fødselsdato.flereBarn":"omBarnet.fødselsdato",s=o?o[0].dato:void 0;return e.jsxs(e.Fragment,{children:[e.jsx(h,{name:"termindato",minDate:s?i(s).subtract(1,"months").toDate():void 0,maxDate:s?i(s).add(6,"months").toDate():void 0,label:t.formatMessage({id:"omBarnet.termindato.født"}),useStrategyAbsolute:!0,validate:[u(t.formatMessage({id:"valideringsfeil.omBarnet.termindato.duMåOppgi"})),x(t.formatMessage({id:"valideringsfeil.omBarnet.termindato.ugyldigDatoFormat"})),d=>{if(s){if(!i(d).subtract(6,"months").isSameOrBefore(i(s),"day"))return t.formatMessage({id:"valideringsfeil.omBarnet.termindato.forLangtFremITid"});if(!i(d).add(1,"months").isSameOrAfter(i(s),"day"))return t.formatMessage({id:"valideringsfeil.omBarnet.termindato.forLangtTilbakeITid"})}}]}),n&&e.jsx(h,{name:"fødselsdatoer.0.dato",label:t.formatMessage({id:l}),minDate:i().subtract(3,"years").toDate(),maxDate:i().toDate(),useStrategyAbsolute:!0,validate:[u(t.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.duMåOppgi"})),x(t.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.ugyldigDatoFormat"})),K(t.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.måVæreIdagEllerTidligere"})),d=>i(d).isBefore(i().subtract(3,"years").subtract(4,"months"),"day")?t.formatMessage({id:"valideringsfeil.omBarnet.fødselsdato.ikkeMerEnn3År3MndTilbake"}):void 0]})]})};$.__docgenInfo={description:"",methods:[],displayName:"ErFødtPanel"};const He=(t,r)=>v(t)?r?H(r):!1:!0,Y=({søkersituasjon:t,arbeidsforhold:r,søknadGjelderEtNyttBarn:a})=>{const n=y(),l=S().watch("termindato"),s=l?!R(l):!1,d=v(t.rolle),m=d&&l,g=He(t.rolle,l),c=l&&fe.test(l)?E(r,t.situasjon==="adopsjon",v(t.rolle),l):r;return e.jsxs(e.Fragment,{children:[a&&e.jsxs(j,{gap:"2",children:[e.jsx(h,{name:"termindato",label:n.formatMessage({id:"omBarnet.termindato.termin"}),minDate:ye,maxDate:Me,useStrategyAbsolute:!0,validate:[u(n.formatMessage({id:"valideringsfeil.omBarnet.termindato.duMåOppgi"})),x(n.formatMessage({id:"valideringsfeil.omBarnet.termindato.ugyldigDatoFormat"})),k=>{if(!Fe(k))return n.formatMessage({id:"valideringsfeil.omBarnet.termindato.forTidlig"});if(!R(k))return n.formatMessage({id:"valideringsfeil.omBarnet.termindato.duMåVæreIUke22"})}]}),!d&&e.jsx(G,{header:n.formatMessage({id:"omBarnet.termindato.åpneLabel"}),children:e.jsxs(j,{gap:"2",children:[e.jsx(D,{children:e.jsx(f,{id:"omBarnet.termindato.innhold.del1"})}),e.jsx(D,{children:e.jsx(f,{id:"omBarnet.termindato.innhold.del2"})})]})})]}),a&&c.length===0&&g&&e.jsx(h,{name:"terminbekreftelsedato",label:n.formatMessage({id:"omBarnet.terminbekreftelseDato"}),maxDate:Te,useStrategyAbsolute:!0,validate:[u(n.formatMessage({id:"valideringsfeil.omBarnet.terminbekreftelseDato.duMåOppgi"})),x(n.formatMessage({id:"valideringsfeil.omBarnet.terminbekreftelseDato.ugyldigDatoFormat"})),we(n.formatMessage({id:"valideringsfeil.omBarnet.terminbekreftelseDato.kanIkkeVæreFremITid"}))]}),(s||m&&!g)&&e.jsx(_e,{variant:"warning",children:e.jsxs(j,{gap:"4",children:[e.jsx(he,{level:"3",size:"small",children:e.jsx(f,{id:"omBarnet.termindato.erForTidligTilÅSøkePåTermin.heading"})}),e.jsx(D,{children:e.jsx(f,{id:"omBarnet.termindato.erForTidligTilÅSøkePåTermin.innhold"})})]})})]})};Y.__docgenInfo={description:"",methods:[],displayName:"TerminPanel",props:{søkersituasjon:{required:!0,tsType:{name:"Søkersituasjon"},description:""},arbeidsforhold:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverNavn: string;
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    fom: string;
    tom?: string;
    stillingsprosent: number;
}`,signature:{properties:[{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}},{key:"stillingsprosent",value:{name:"number",required:!0}}]}}],raw:"Arbeidsforhold[]"},description:""},søknadGjelderEtNyttBarn:{required:!1,tsType:{name:"boolean"},description:""}}};const Ke=(t,r,a)=>a===!0?t.formatMessage({id:"omBarnet.antallBarn.født"}):r?t.formatMessage({id:"omBarnet.antallBarn.termin.far"}):t.formatMessage({id:"omBarnet.antallBarn.termin"}),Ge=(t,r,a)=>a!==!1?t.formatMessage({id:"valideringsfeil.omBarnet.antallFått.duMåOppgi"}):r?t.formatMessage({id:"valideringsfeil.omBarnet.antallVenter.duMåOppgi"}):t.formatMessage({id:"valideringsfeil.omBarnet.antallVenterDu.duMåOppgi"}),Z=({søkersituasjon:t,erFarEllerMedmor:r,søknadGjelderEtNyttBarn:a,arbeidsforhold:n})=>{const o=y(),l=S(),s=l.watch("erBarnetFødt"),d=l.watch("antallBarn"),m=v(t.rolle);return e.jsxs(e.Fragment,{children:[a&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs(T,{name:"erBarnetFødt",label:o.formatMessage({id:"omBarnet.erBarnetFødt"}),validate:[u(o.formatMessage({id:"valideringsfeil.omBarnet.erBarnetFødt.duMåOppgi"}))],children:[e.jsx(p,{value:!0,children:"Ja"}),e.jsx(p,{value:!1,children:"Nei"})]}),!r&&e.jsx(G,{header:o.formatMessage({id:"omBarnet.erBarnetFødt.readMore.header"}),children:e.jsxs(j,{gap:"4",children:[e.jsx("div",{children:e.jsx(f,{id:"omBarnet.erBarnetFødt.readMore.innhold.del1"})}),e.jsx(f,{id:"omBarnet.erBarnetFødt.readMore.innhold.del2"})]})})]}),e.jsxs(T,{name:"antallBarn",label:Ke(o,m,s),validate:[u(Ge(o,m,s))],children:[e.jsx(p,{value:1,children:e.jsx(f,{id:"omBarnet.radiobutton.ettBarn"})}),e.jsx(p,{value:2,children:e.jsx(f,{id:"omBarnet.radiobutton.tvillinger"})}),e.jsx(p,{value:3,children:e.jsx(f,{id:"omBarnet.radiobutton.flere"})})]}),d!==void 0&&d===3&&e.jsxs(C,{name:"antallBarnSelect",label:"Antall barn",children:[e.jsx("option",{value:"3",children:"3"}),e.jsx("option",{value:"4",children:"4"}),e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"6",children:"6"}),e.jsx("option",{value:"7",children:"7"}),e.jsx("option",{value:"8",children:"8"}),e.jsx("option",{value:"9",children:"9"})]})]}),s!==!0&&e.jsx(Y,{søkersituasjon:t,arbeidsforhold:n,søknadGjelderEtNyttBarn:a}),s===!0&&a&&e.jsx($,{})]})};Z.__docgenInfo={description:"",methods:[],displayName:"FødselPanel",props:{søkersituasjon:{required:!0,tsType:{name:"Søkersituasjon"},description:""},erFarEllerMedmor:{required:!0,tsType:{name:"boolean"},description:""},søknadGjelderEtNyttBarn:{required:!0,tsType:{name:"boolean"},description:""},arbeidsforhold:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
    arbeidsgiverNavn: string;
    arbeidsgiverId: string;
    arbeidsgiverIdType: string;
    fom: string;
    tom?: string;
    stillingsprosent: number;
}`,signature:{properties:[{key:"arbeidsgiverNavn",value:{name:"string",required:!0}},{key:"arbeidsgiverId",value:{name:"string",required:!0}},{key:"arbeidsgiverIdType",value:{name:"string",required:!0}},{key:"fom",value:{name:"string",required:!0}},{key:"tom",value:{name:"string",required:!1}},{key:"stillingsprosent",value:{name:"number",required:!0}}]}}],raw:"Arbeidsforhold[]"},description:""}}};const ze=t=>t.erBarnetFødt,Je=t=>t.erBarnetFødt===!1,Q=t=>t.adopsjonAvEktefellesBarn,ee=t=>t.adopsjonAvEktefellesBarn===!1,We=(t,r,a,n)=>{if(t!==void 0&&r==="fødsel")return{...t,type:n?B.UFØDT:B.FØDT,termindato:a.termindato,fødselsdatoer:t.fødselsdatoer,antallBarn:t.antallBarn};if(Q(a))return{...t,type:B.ADOPTERT_STEBARN,adopsjonsdato:a.adopsjonsdato};if(ee(a))return{...t,type:B.ADOPTERT_ANNET_BARN,adopsjonsdato:a.adopsjonsdato,adoptertIUtlandet:a.adoptertIUtlandet,ankomstdato:a.adoptertIUtlandet===!0?a.ankomstdato:void 0};throw new Error("Unreachable code")},Xe=(t,r,a,n,o,l)=>{if(n!==void 0)return We(n,o,t,l);if(ze(t))return{type:B.FØDT,fødselsdatoer:t.fødselsdatoer.map(s=>s.dato),antallBarn:t.antallBarn<3?t.antallBarn:parseInt(t.antallBarnSelect,10),termindato:Se(t.termindato)?t.termindato:void 0};if(Je(t))return E(r,a.situasjon==="adopsjon",v(a.rolle),t.termindato).length===0?{type:B.UFØDT,terminbekreftelsedato:t.terminbekreftelsedato,antallBarn:t.antallBarn<3?t.antallBarn:parseInt(t.antallBarnSelect,10),termindato:t.termindato}:{type:B.UFØDT,antallBarn:t.antallBarn<3?t.antallBarn:parseInt(t.antallBarnSelect,10),termindato:t.termindato};if(Q(t))return{type:B.ADOPTERT_STEBARN,adopsjonsdato:t.adopsjonsdato,antallBarn:t.antallBarn<3?t.antallBarn:parseInt(t.antallBarnSelect,10),fødselsdatoer:t.fødselsdatoer.map(s=>s.dato)};if(ee(t))return{type:B.ADOPTERT_ANNET_BARN,fødselsdatoer:t.fødselsdatoer.map(s=>s.dato),adopsjonsdato:t.adopsjonsdato,antallBarn:t.antallBarn<3?t.antallBarn:parseInt(t.antallBarnSelect,10),adoptertIUtlandet:t.adoptertIUtlandet,ankomstdato:t.adoptertIUtlandet===!0?t.ankomstdato:void 0};throw new Error("Unreachable code")},$e=(t,r,a)=>{if(!a)return{fødselsdatoer:[{dato:void 0}]};const n=a.antallBarn>2;return z(a)?{erBarnetFødt:!0,antallBarn:n?3:a.antallBarn,antallBarnSelect:n?a.antallBarn.toString():void 0,fødselsdatoer:a.fødselsdatoer.map(o=>({dato:o})),termindato:a.termindato}:O(a)?E(t,r.situasjon==="adopsjon",v(r.rolle),a.termindato).length===0?{erBarnetFødt:!1,antallBarn:n?3:a.antallBarn,antallBarnSelect:n?a.antallBarn.toString():void 0,terminbekreftelsedato:a.terminbekreftelsedato,termindato:a.termindato}:{erBarnetFødt:!1,antallBarn:n?3:a.antallBarn,antallBarnSelect:n?a.antallBarn.toString():void 0,termindato:a.termindato}:Ne(a)?{adopsjonAvEktefellesBarn:!1,adopsjonsdato:a.adopsjonsdato,antallBarn:n?3:a.antallBarn,antallBarnSelect:n?a.antallBarn.toString():void 0,fødselsdatoer:a.fødselsdatoer.map(o=>({dato:o})),adoptertIUtlandet:a.adoptertIUtlandet,ankomstdato:a.ankomstdato}:Ue(a)?{adopsjonAvEktefellesBarn:!0,adopsjonsdato:a.adopsjonsdato,antallBarn:n?3:a.antallBarn,antallBarnSelect:n?a.antallBarn.toString():void 0,fødselsdatoer:a.fødselsdatoer.map(o=>({dato:o}))}:{fødselsdatoer:[{dato:void 0}]}},Ye=t=>{const r=i(t).add(12,"weeks");return i(r).isAfter(new Date,"day")},Ze=(t,r)=>r&&!O(r)&&r.fnr!==void 0&&r.fnr.length>0?r.fnr.includes(t.fnr):!1,Qe=(t,r,a,n)=>{if(n==="adopsjon")return!1;let o;if(a!==void 0&&a.length>0&&(o=De(a).fødselsdato),!r&&!o)return!1;const l=o||r;return v(t)?H(l)?!0:Ye(l):!0},et=({søkerInfo:t,søknadGjelderNyttBarn:r,mellomlagreSøknadOgNaviger:a,avbrytSøknad:n})=>{const o=y(),l=le(t.arbeidsforhold),s=me(t.arbeidsforhold,a),d=Re(_(A.SØKERSITUASJON)),m=_(A.OM_BARNET),g=ie(A.OM_BARNET),{arbeidsforhold:c,søker:k}=t,te=v(d.rolle),ae=m?be(m):void 0,re=m&&z(m)?k.barn.filter(F=>F.fnr===void 0&&Ae(F.fødselsdato,ae)):[],M=!r&&m&&!O(m)?k.barn.filter(F=>Ze(F,m)).concat(re):void 0,b=!r&&(M===void 0||M.length===0),ne=F=>{const de=Xe(F,c,d,!r&&!b?m:void 0,d.situasjon,b);return g(de),s.goToNextDefaultStep()},se=L.useMemo(()=>$e(c,d,m),[c,m]),q=ue({shouldUnregister:!0,defaultValues:se}),w=q.watch("fødselsdatoer"),oe=Qe(d.rolle,w?w[0].dato:void 0,M,d.situasjon);return e.jsx(Pe,{bannerTitle:o.formatMessage({id:"søknad.pageheading"}),onCancel:n,onContinueLater:s.fortsettSøknadSenere,steps:l,children:e.jsx(pe,{formMethods:q,onSubmit:ne,children:e.jsxs(j,{gap:"10",children:[e.jsx(ce,{}),M&&M.length>0&&e.jsx(J,{valgteRegistrerteBarn:M,skalInkludereTermindato:oe}),d.situasjon==="fødsel"&&e.jsx(Z,{erFarEllerMedmor:te,søknadGjelderEtNyttBarn:b||r,søkersituasjon:d,arbeidsforhold:c}),d.situasjon==="adopsjon"&&e.jsx(X,{søknadGjelderEtNyttBarn:b||r}),e.jsx(Be,{goToPreviousStep:s.goToPreviousDefaultStep})]})})})};et.__docgenInfo={description:"",methods:[],displayName:"OmBarnetSteg"};export{et as O};
