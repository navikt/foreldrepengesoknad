import{r as e}from"./index-7c191284.js";import{u as b,S as c,a as g}from"./mapSøkerinfoDTO-e6f23460.js";import{r as N}from"./api-dee1c3e5.js";import{s as v}from"./submitUtils-f8f37997.js";import{u as C}from"./useSøknad-fd4f0430.js";const _=(m,s,i)=>{const{dispatch:n,state:r}=b(),o=C(),[u,S]=e.useState(!1),[d,f]=e.useState(!1),[a,p]=e.useState(void 0);return e.useEffect(()=>{u&&i(r).then(()=>{s===c.SØKNAD_SENDT?o(s):o(r.currentRoute)}).catch(t=>{t.response&&(t.response.status===401||t.response.status===403)?N():p(t)})},[u,o,s,r,i]),e.useEffect(()=>{if(a)throw v(a),new Error(a)},[a]),{handleSubmit:t=>{f(!0);const h=m(t),l=s===c.SØKNAD_SENDT?void 0:n(g.updateCurrentRoute(s));Promise.all([l,...h.map(E=>n(E))]).then(()=>S(!0))},isSubmitting:d}};export{_ as u};
//# sourceMappingURL=useOnValidSubmit-1806d937.js.map
